<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>ç®—æ³•æ€»ç»“ | Huang Blog</title><meta name="author" content="Huang RD"><meta name="copyright" content="Huang RD"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="éƒ¨åˆ†æ¥æºäºï¼š åŠ›æ‰£Krahetsï¼Œé“¾æ¥ï¼šhttps:&#x2F;&#x2F;leetcode.cn&#x2F;leetbook&#x2F;read&#x2F;illustration-of-algorithm&#x2F;5dj09d&#x2F; ä»£ç éšæƒ³å½•  ç®—æ³•æ€»ç»“ä¸€ã€äºŒåˆ†æœç´¢Binary Search å¯¹äºå·²ç»æœ‰åºçš„æ•°ç»„ï¼Œä½¿ç”¨äºŒåˆ†æœç´¢åŠ å¿«æœç´¢é€Ÿåº¦ã€‚ æ—¶é—´å¤æ‚åº¦O(logN) äºŒåˆ†æ³•çš„ä¸¤ç§å†™æ³•ï¼š  å·¦é—­å³é—­[left,right] å·¦é—­å³å¼€[left,right">
<meta property="og:type" content="article">
<meta property="og:title" content="ç®—æ³•æ€»ç»“">
<meta property="og:url" content="http://www.haungrd.top/2022/12/26/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/index.html">
<meta property="og:site_name" content="Huang Blog">
<meta property="og:description" content="éƒ¨åˆ†æ¥æºäºï¼š åŠ›æ‰£Krahetsï¼Œé“¾æ¥ï¼šhttps:&#x2F;&#x2F;leetcode.cn&#x2F;leetbook&#x2F;read&#x2F;illustration-of-algorithm&#x2F;5dj09d&#x2F; ä»£ç éšæƒ³å½•  ç®—æ³•æ€»ç»“ä¸€ã€äºŒåˆ†æœç´¢Binary Search å¯¹äºå·²ç»æœ‰åºçš„æ•°ç»„ï¼Œä½¿ç”¨äºŒåˆ†æœç´¢åŠ å¿«æœç´¢é€Ÿåº¦ã€‚ æ—¶é—´å¤æ‚åº¦O(logN) äºŒåˆ†æ³•çš„ä¸¤ç§å†™æ³•ï¼š  å·¦é—­å³é—­[left,right] å·¦é—­å³å¼€[left,right">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://www.huangrd.top/images/agentina/14.jpg">
<meta property="article:published_time" content="2022-12-26T04:12:57.000Z">
<meta property="article:modified_time" content="2022-12-26T07:25:54.039Z">
<meta property="article:author" content="Huang RD">
<meta property="article:tag" content="JAVA">
<meta property="article:tag" content="ç®—æ³•">
<meta property="article:tag" content="æ•°æ®ç»“æ„">
<meta property="article:tag" content="è®¡ç®—æœºåŸºç¡€">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://www.huangrd.top/images/agentina/14.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://www.haungrd.top/2022/12/26/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"languages":{"hits_empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹ï¼š${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"ï¿½ï¿½","msgToSimplifiedChinese":"ç®€"},
  noticeOutdate: {"limitDay":365,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":230},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '',
  date_suffix: {
    just: 'åˆšåˆš',
    min: 'åˆ†é’Ÿå‰',
    hour: 'å°æ—¶å‰',
    day: 'å¤©å‰',
    month: 'ä¸ªæœˆå‰'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"ä½ å·²åˆ‡æ¢ä¸ºç¹ä½“","cht_to_chs":"ä½ å·²åˆ‡æ¢ä¸ºç®€ä½“","day_to_night":"ä½ å·²åˆ‡æ¢ä¸ºæ·±è‰²æ¨¡å¼","night_to_day":"ä½ å·²åˆ‡æ¢ä¸ºæµ…è‰²æ¨¡å¼","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"top-right"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'ç®—æ³•æ€»ç»“',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-12-26 15:25:54'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const now = new Date()
          const hour = now.getHours()
          const isNight = hour <= 6 || hour >= 18
          if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
          else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://getwallpapers.com/wallpaper/full/a/1/8/1057222-free-download-cool-nature-backgrounds-1920x1200-windows-10.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">23</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">28</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">5</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> ï¿½ï¿½ï¿½ç±»</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> æ¸…ï¿½ï¿½ï¿½</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> ï¿½ï¿½ï¿½ï¿½ï¿½</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> ç…§ç‰‡</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> ç”µå½±</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> ï¿½ï¿½ï¿½é“¾</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> å…³ï¿½ï¿½</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://www.huangrd.top/images/agentina/14.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Huang Blog</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> æœç´¢</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> ï¿½ï¿½ï¿½ç±»</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> æ¸…ï¿½ï¿½ï¿½</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> ï¿½ï¿½ï¿½ï¿½ï¿½</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> ç…§ç‰‡</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> ç”µå½±</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> ï¿½ï¿½ï¿½é“¾</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> å…³ï¿½ï¿½</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">ç®—æ³•æ€»ç»“</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2022-12-26T04:12:57.000Z" title="å‘è¡¨äº 2022-12-26 12:12:57">2022-12-26</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2022-12-26T07:25:54.039Z" title="æ›´æ–°äº 2022-12-26 15:25:54">2022-12-26</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E7%AE%97%E6%B3%95/">ç®—æ³•</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">å­—æ•°æ€»è®¡:</span><span class="word-count">75k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»æ—¶é•¿:</span><span>292åˆ†é’Ÿ</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="ç®—æ³•æ€»ç»“"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»é‡:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><blockquote>
<p>éƒ¨åˆ†æ¥æºäºï¼š</p>
<p>åŠ›æ‰£Krahetsï¼Œé“¾æ¥ï¼š<a target="_blank" rel="noopener" href="https://leetcode.cn/leetbook/read/illustration-of-algorithm/5dj09d/">https://leetcode.cn/leetbook/read/illustration-of-algorithm/5dj09d/</a></p>
<p>ä»£ç éšæƒ³å½•</p>
</blockquote>
<h1 id="ç®—æ³•æ€»ç»“"><a href="#ç®—æ³•æ€»ç»“" class="headerlink" title="ç®—æ³•æ€»ç»“"></a>ç®—æ³•æ€»ç»“</h1><h2 id="ä¸€ã€äºŒåˆ†æœç´¢"><a href="#ä¸€ã€äºŒåˆ†æœç´¢" class="headerlink" title="ä¸€ã€äºŒåˆ†æœç´¢"></a>ä¸€ã€äºŒåˆ†æœç´¢</h2><p>Binary Search</p>
<p>å¯¹äºå·²ç»æœ‰åºçš„æ•°ç»„ï¼Œä½¿ç”¨äºŒåˆ†æœç´¢åŠ å¿«æœç´¢é€Ÿåº¦ã€‚</p>
<p>æ—¶é—´å¤æ‚åº¦O(logN)</p>
<p>äºŒåˆ†æ³•çš„ä¸¤ç§å†™æ³•ï¼š</p>
<ul>
<li>å·¦é—­å³é—­[left,right]</li>
<li>å·¦é—­å³å¼€[left,right)</li>
</ul>
<h3 id="1-1ã€å·¦é—­å³é—­"><a href="#1-1ã€å·¦é—­å³é—­" class="headerlink" title="1.1ã€å·¦é—­å³é—­"></a>1.1ã€å·¦é—­å³é—­</h3><p> target æ˜¯åœ¨ä¸€ä¸ªåœ¨å·¦é—­å³é—­çš„åŒºé—´é‡Œï¼Œ[left, right] ã€‚</p>
<p>å¯¹äºå·¦é—­å³é—­çš„å†™æ³•ï¼š</p>
<ul>
<li>while (left &lt;&#x3D; right) è¦ä½¿ç”¨ &lt;&#x3D; ï¼Œå› ä¸ºleft &#x3D;&#x3D; rightæ˜¯æœ‰æ„ä¹‰çš„ï¼Œæ‰€ä»¥ä½¿ç”¨ &lt;&#x3D;</li>
<li>if (nums[middle] &gt; target) right è¦èµ‹å€¼ä¸º middle - 1ï¼Œå› ä¸ºå½“å‰è¿™ä¸ªnums[middle]ä¸€å®šä¸æ˜¯targetï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥è¦æŸ¥æ‰¾çš„å·¦åŒºé—´ç»“æŸä¸‹æ ‡ä½ç½®å°±æ˜¯ middle - 1</li>
</ul>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/20210311153055723.jpg" alt="704.äºŒåˆ†æŸ¥æ‰¾" style="zoom:100%;" />

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å·¦é—­å³é—­</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">binarySearch1</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> nums.length - <span class="number">1</span>;<span class="comment">//åŒºé—´[leftï¼Œright]è¦æœ‰æ„ä¹‰</span></span><br><span class="line">    <span class="keyword">while</span> (left &lt;= right) &#123;<span class="comment">//æ³¨æ„ç‚¹1</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> left + ((right - left) / <span class="number">2</span>);<span class="comment">//é˜²æ­¢æº¢å‡º</span></span><br><span class="line">        <span class="keyword">if</span> (nums[mid] &lt; target) &#123;</span><br><span class="line">            left = mid + <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[mid] &gt; target) &#123;</span><br><span class="line">            right = mid - <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">return</span> mid;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="1-2ã€å·¦é—­å³å¼€"><a href="#1-2ã€å·¦é—­å³å¼€" class="headerlink" title="1.2ã€å·¦é—­å³å¼€"></a>1.2ã€å·¦é—­å³å¼€</h3><p>å®šä¹‰ target æ˜¯åœ¨ä¸€ä¸ªåœ¨å·¦é—­å³å¼€çš„åŒºé—´é‡Œï¼Œä¹Ÿå°±æ˜¯[left, right)ã€‚</p>
<p>å¯¹äºå·¦é—­å³å¼€çš„å†™æ³•ï¼š</p>
<ul>
<li>while (left &lt; right)ï¼Œè¿™é‡Œä½¿ç”¨ &lt; ,å› ä¸ºleft &#x3D;&#x3D; rightåœ¨åŒºé—´[left, right)æ˜¯æ²¡æœ‰æ„ä¹‰çš„</li>
<li>if (nums[middle] &gt; target) right æ›´æ–°ä¸º middleï¼Œå› ä¸ºå½“å‰nums[middle]ä¸ç­‰äºtargetï¼Œå»å·¦åŒºé—´ç»§ç»­å¯»æ‰¾ï¼Œè€Œå¯»æ‰¾åŒºé—´æ˜¯å·¦é—­å³å¼€åŒºé—´ï¼Œæ‰€ä»¥rightæ›´æ–°ä¸ºmiddleï¼Œå³ï¼šä¸‹ä¸€ä¸ªæŸ¥è¯¢åŒºé—´ä¸ä¼šå»æ¯”è¾ƒnums[middle]</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/20210311153123632.jpg"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å·¦é—­å³å¼€</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">binarySearch2</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> nums.length;<span class="comment">//åŒºé—´[left,right)</span></span><br><span class="line">    <span class="keyword">while</span> (left &lt; right) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> left + ((right - left) / <span class="number">2</span>);</span><br><span class="line">        <span class="keyword">if</span> (nums[mid] &lt; target) &#123;<span class="comment">//å·¦é—­</span></span><br><span class="line">            left = mid + <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[mid] &gt; target) &#123;<span class="comment">//å³å¼€</span></span><br><span class="line">            right = mid;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">return</span> mid;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="1-3ã€LC69-x-çš„å¹³æ–¹æ ¹"><a href="#1-3ã€LC69-x-çš„å¹³æ–¹æ ¹" class="headerlink" title="1.3ã€LC69 x çš„å¹³æ–¹æ ¹"></a>1.3ã€LC69 x çš„å¹³æ–¹æ ¹</h3><p>ç»™ä½ ä¸€ä¸ªéè´Ÿæ•´æ•° <code>x</code> ï¼Œè®¡ç®—å¹¶è¿”å› <code>x</code> çš„ <strong>ç®—æœ¯å¹³æ–¹æ ¹</strong> ã€‚</p>
<p>ç”±äºè¿”å›ç±»å‹æ˜¯æ•´æ•°ï¼Œç»“æœåªä¿ç•™ <strong>æ•´æ•°éƒ¨åˆ†</strong> ï¼Œå°æ•°éƒ¨åˆ†å°†è¢« <strong>èˆå» ã€‚</strong></p>
<p><strong>æ³¨æ„ï¼š</strong>ä¸å…è®¸ä½¿ç”¨ä»»ä½•å†…ç½®æŒ‡æ•°å‡½æ•°å’Œç®—ç¬¦ï¼Œä¾‹å¦‚ <code>pow(x, 0.5)</code> æˆ–è€… <code>x ** 0.5</code> ã€‚</p>
<p>åˆ©ç”¨äºŒåˆ†æ³•çš„æ€è·¯ï¼Œåœ¨0~x-1ä¸­æœç´¢å‡ºä»–çš„å¹³æ–¹æ ¹ï¼Œæ’é™¤ç‰¹ä¾‹ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">mySqrt</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * äºŒåˆ†æŸ¥æ‰¾</span></span><br><span class="line"><span class="comment">     * [left,right)</span></span><br><span class="line"><span class="comment">     * */</span></span><br><span class="line">    <span class="comment">//å› ä¸ºå®šä¹‰çš„åŒºé—´ä¸ºå·¦é—­å³å¼€ï¼Œå¯¹äºxï¼Œå½“x &lt; 2çš„æ—¶å€™ï¼Œxæ‰ä¼šå–0 or x å³ 0 1</span></span><br><span class="line">    <span class="keyword">if</span> (x &lt; <span class="number">2</span>) <span class="keyword">return</span> x;</span><br><span class="line">    <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> x;</span><br><span class="line">    <span class="keyword">while</span> (left &lt; right) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> left + ((right - left) / <span class="number">2</span>);</span><br><span class="line">        <span class="keyword">if</span> (mid &gt; x / mid) &#123;</span><br><span class="line">            <span class="comment">//mid &gt; x / midé˜²æ­¢æº¢å‡º</span></span><br><span class="line">            right = mid;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (mid &lt; x / mid) &#123;</span><br><span class="line">            left = mid + <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">return</span> mid;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> right - <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="1-4ã€LC367-æœ‰æ•ˆçš„å®Œå…¨å¹³æ–¹æ•°"><a href="#1-4ã€LC367-æœ‰æ•ˆçš„å®Œå…¨å¹³æ–¹æ•°" class="headerlink" title="1.4ã€LC367 æœ‰æ•ˆçš„å®Œå…¨å¹³æ–¹æ•°"></a>1.4ã€LC367 æœ‰æ•ˆçš„å®Œå…¨å¹³æ–¹æ•°</h3><p>ç»™å®šä¸€ä¸ª <strong>æ­£æ•´æ•°</strong> <code>num</code> ï¼Œç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œå¦‚æœ <code>num</code> æ˜¯ä¸€ä¸ªå®Œå…¨å¹³æ–¹æ•°ï¼Œåˆ™è¿”å› <code>true</code> ï¼Œå¦åˆ™è¿”å› <code>false</code> ã€‚</p>
<p><strong>è¿›é˜¶ï¼šä¸è¦</strong> ä½¿ç”¨ä»»ä½•å†…ç½®çš„åº“å‡½æ•°ï¼Œå¦‚ <code>sqrt</code> ã€‚</p>
<p>é˜²æ­¢è¶Šç•Œï¼Œç”¨longè¡¨ç¤ºã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* äºŒåˆ†æ³•</span></span><br><span class="line"><span class="comment">* [left,right]å·¦é—­å³é—­</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isPerfectSquare</span><span class="params">(<span class="type">int</span> num)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> num;</span><br><span class="line">    <span class="keyword">while</span> (left &lt;= right) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> left + ((right - left) / <span class="number">2</span>);</span><br><span class="line">        <span class="type">long</span> <span class="variable">square</span> <span class="operator">=</span> (<span class="type">long</span>) mid * mid;</span><br><span class="line">        <span class="keyword">if</span> (square &gt; num) &#123;</span><br><span class="line">            right = mid - <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (square &lt; num) &#123;</span><br><span class="line">            left = mid + <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="äºŒã€åŒæŒ‡é’ˆæ³•"><a href="#äºŒã€åŒæŒ‡é’ˆæ³•" class="headerlink" title="äºŒã€åŒæŒ‡é’ˆæ³•"></a>äºŒã€åŒæŒ‡é’ˆæ³•</h2><p>åŒæŒ‡é’ˆæ³•ï¼ˆå¿«æ…¢æŒ‡é’ˆæ³•ï¼‰ï¼š <strong>é€šè¿‡ä¸€ä¸ªå¿«æŒ‡é’ˆå’Œæ…¢æŒ‡é’ˆåœ¨ä¸€ä¸ªforå¾ªç¯ä¸‹å®Œæˆä¸¤ä¸ªforå¾ªç¯çš„å·¥ä½œã€‚</strong></p>
<p><strong>åŒæŒ‡é’ˆæ³•ï¼ˆå¿«æ…¢æŒ‡é’ˆæ³•ï¼‰åœ¨æ•°ç»„å’Œé“¾è¡¨çš„æ“ä½œä¸­æ˜¯éå¸¸å¸¸è§çš„ï¼Œå¾ˆå¤šè€ƒå¯Ÿæ•°ç»„ã€é“¾è¡¨ã€å­—ç¬¦ä¸²ç­‰æ“ä½œçš„é¢è¯•é¢˜ï¼Œéƒ½ä½¿ç”¨åŒæŒ‡é’ˆæ³•ã€‚</strong></p>
<h3 id="2-1ã€ç§»é™¤æ•°ç»„å…ƒç´ "><a href="#2-1ã€ç§»é™¤æ•°ç»„å…ƒç´ " class="headerlink" title="2.1ã€ç§»é™¤æ•°ç»„å…ƒç´ "></a>2.1ã€ç§»é™¤æ•°ç»„å…ƒç´ </h3><p>å®šä¹‰å¿«æ…¢æŒ‡é’ˆ</p>
<ul>
<li>å¿«æŒ‡é’ˆï¼šå¯»æ‰¾æ–°æ•°ç»„çš„å…ƒç´  ï¼Œæ–°æ•°ç»„å°±æ˜¯ä¸å«æœ‰ç›®æ ‡å…ƒç´ çš„æ•°ç»„</li>
<li>æ…¢æŒ‡é’ˆï¼šæŒ‡å‘æ›´æ–° æ–°æ•°ç»„ä¸‹æ ‡çš„ä½ç½®</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://tva1.sinaimg.cn/large/008eGmZEly1gntrds6r59g30du09mnpd.gif" alt="27.ç§»é™¤å…ƒç´ -åŒæŒ‡é’ˆæ³•"></p>
<h3 id="2-2ã€LC11-ç››æœ€å¤šæ°´çš„å®¹å™¨"><a href="#2-2ã€LC11-ç››æœ€å¤šæ°´çš„å®¹å™¨" class="headerlink" title="2.2ã€LC11. ç››æœ€å¤šæ°´çš„å®¹å™¨"></a>2.2ã€LC11. ç››æœ€å¤šæ°´çš„å®¹å™¨</h3><p>ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º <code>n</code> çš„æ•´æ•°æ•°ç»„ <code>height</code> ã€‚æœ‰ <code>n</code> æ¡å‚çº¿ï¼Œç¬¬ <code>i</code> æ¡çº¿çš„ä¸¤ä¸ªç«¯ç‚¹æ˜¯ <code>(i, 0)</code> å’Œ <code>(i, height[i])</code> ã€‚</p>
<p>æ‰¾å‡ºå…¶ä¸­çš„ä¸¤æ¡çº¿ï¼Œä½¿å¾—å®ƒä»¬ä¸ <code>x</code> è½´å…±åŒæ„æˆçš„å®¹å™¨å¯ä»¥å®¹çº³æœ€å¤šçš„æ°´ã€‚</p>
<p>è¿”å›å®¹å™¨å¯ä»¥å‚¨å­˜çš„æœ€å¤§æ°´é‡ã€‚</p>
<p><strong>è¯´æ˜ï¼š</strong>ä½ ä¸èƒ½å€¾æ–œå®¹å™¨ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://aliyun-lc-upload.oss-cn-hangzhou.aliyuncs.com/aliyun-lc-upload/uploads/2018/07/25/question_11.jpg" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š[1,8,6,2,5,4,8,3,7]</span><br><span class="line">è¾“å‡ºï¼š49 </span><br><span class="line">è§£é‡Šï¼šå›¾ä¸­å‚ç›´çº¿ä»£è¡¨è¾“å…¥æ•°ç»„ [1,8,6,2,5,4,8,3,7]ã€‚åœ¨æ­¤æƒ…å†µä¸‹ï¼Œå®¹å™¨èƒ½å¤Ÿå®¹çº³æ°´ï¼ˆè¡¨ç¤ºä¸ºè“è‰²éƒ¨åˆ†ï¼‰çš„æœ€å¤§å€¼ä¸º 49ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šheight = [1,1]</span><br><span class="line">è¾“å‡ºï¼š1</span><br></pre></td></tr></table></figure>

<p>é¢ç§¯ï¼šé«˜*å®½ min(height[left], height[right]) * (right - left)</p>
<ol>
<li><p>åˆå§‹åŒ–ä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘ä¸¤ä¸ªè¾¹ï¼Œè¿™ä¸ªæ—¶å€™å®½æ˜¯æœ€å¤§çš„ã€‚</p>
</li>
<li><p>å½“ä¸¤ä¸ªè¾¹å‘å†…ç¼©å°çš„æ—¶å€™,å¦‚æœé«˜æ˜¯å¢å¤§çš„è¯ï¼Œæ‰æœ‰å¯èƒ½ä¼šå¢å¤§ï¼Œå¦‚æœé«˜æ˜¯å‡å°çš„å°±ä¸èƒ½å¢å¤§ã€‚</p>
</li>
<li><p>å› æ­¤åœ¨ç¼©å°çš„æ—¶å€™ï¼Œè®©é«˜å°½å¯èƒ½å˜å¤§ï¼Œå³ç¼©å°é«˜å°çš„ä¸€è¾¹ã€‚ç›¸ç­‰çš„è¯ï¼Œä»»æ„ã€‚ï¼ˆæœ‰å¯èƒ½å­˜åœ¨å±±å³°çš„å½¢çŠ¶ï¼‰</p>
</li>
<li><p>è¿™æ ·ä¿è¯äº†åœ¨æ¯ä¸€æ¬¡é€‰æ‹©æ—¶éƒ½æ˜¯é€‰æ‹©æœ€å¤§çš„ï¼Œåœ¨éå†è¿‡ç¨‹ä¸­ç”¨resultè®°å½•æœ€å¤§å€¼è¿”å›ã€‚</p>
</li>
</ol>
<p>åªè¿›è¡Œäº†ä¸€æ¬¡éå†ã€‚<br>æ—¶é—´å¤æ‚åº¦O(N)<br>ç©ºé—´å¤æ‚åº¦O(1)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åŒæŒ‡é’ˆ</span></span><br><span class="line"><span class="comment">     * */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxArea</span><span class="params">(<span class="type">int</span>[] height)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> height.length - <span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (left &lt; right) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> (Math.min(height[left], height[right]) * (right - left));</span><br><span class="line">            result = Math.max(sum, result);</span><br><span class="line">            <span class="keyword">if</span> (height[left] &lt; height[right]) &#123;</span><br><span class="line">                left++;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                right--;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-3ã€LC141-ç¯å½¢é“¾è¡¨"><a href="#2-3ã€LC141-ç¯å½¢é“¾è¡¨" class="headerlink" title="2.3ã€LC141. ç¯å½¢é“¾è¡¨"></a>2.3ã€LC141. ç¯å½¢é“¾è¡¨</h3><p>ç»™ä½ ä¸€ä¸ªé“¾è¡¨çš„å¤´èŠ‚ç‚¹ <code>head</code> ï¼Œåˆ¤æ–­é“¾è¡¨ä¸­æ˜¯å¦æœ‰ç¯ã€‚</p>
<p>å¦‚æœé“¾è¡¨ä¸­æœ‰æŸä¸ªèŠ‚ç‚¹ï¼Œå¯ä»¥é€šè¿‡è¿ç»­è·Ÿè¸ª <code>next</code> æŒ‡é’ˆå†æ¬¡åˆ°è¾¾ï¼Œåˆ™é“¾è¡¨ä¸­å­˜åœ¨ç¯ã€‚ ä¸ºäº†è¡¨ç¤ºç»™å®šé“¾è¡¨ä¸­çš„ç¯ï¼Œè¯„æµ‹ç³»ç»Ÿå†…éƒ¨ä½¿ç”¨æ•´æ•° <code>pos</code> æ¥è¡¨ç¤ºé“¾è¡¨å°¾è¿æ¥åˆ°é“¾è¡¨ä¸­çš„ä½ç½®ï¼ˆç´¢å¼•ä» 0 å¼€å§‹ï¼‰ã€‚<strong>æ³¨æ„ï¼š<code>pos</code> ä¸ä½œä¸ºå‚æ•°è¿›è¡Œä¼ é€’</strong> ã€‚ä»…ä»…æ˜¯ä¸ºäº†æ ‡è¯†é“¾è¡¨çš„å®é™…æƒ…å†µã€‚</p>
<p><em>å¦‚æœé“¾è¡¨ä¸­å­˜åœ¨ç¯</em> ï¼Œåˆ™è¿”å› <code>true</code> ã€‚ å¦åˆ™ï¼Œè¿”å› <code>false</code> ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2018/12/07/circularlinkedlist.png" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šhead = [3,2,0,-4], pos = 1</span><br><span class="line">è¾“å‡ºï¼štrue</span><br><span class="line">è§£é‡Šï¼šé“¾è¡¨ä¸­æœ‰ä¸€ä¸ªç¯ï¼Œå…¶å°¾éƒ¨è¿æ¥åˆ°ç¬¬äºŒä¸ªèŠ‚ç‚¹ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2018/12/07/circularlinkedlist_test2.png" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šhead = [1,2], pos = 0</span><br><span class="line">è¾“å‡ºï¼štrue</span><br><span class="line">è§£é‡Šï¼šé“¾è¡¨ä¸­æœ‰ä¸€ä¸ªç¯ï¼Œå…¶å°¾éƒ¨è¿æ¥åˆ°ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2018/12/07/circularlinkedlist_test3.png" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šhead = [1], pos = -1</span><br><span class="line">è¾“å‡ºï¼šfalse</span><br><span class="line">è§£é‡Šï¼šé“¾è¡¨ä¸­æ²¡æœ‰ç¯ã€‚</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li>é“¾è¡¨ä¸­èŠ‚ç‚¹çš„æ•°ç›®èŒƒå›´æ˜¯ <code>[0, 104]</code></li>
<li><code>-105 &lt;= Node.val &lt;= 105</code></li>
<li><code>pos</code> ä¸º <code>-1</code> æˆ–è€…é“¾è¡¨ä¸­çš„ä¸€ä¸ª <strong>æœ‰æ•ˆç´¢å¼•</strong> ã€‚</li>
</ul>
<p><strong>è¿›é˜¶ï¼š</strong>ä½ èƒ½ç”¨ <code>O(1)</code>ï¼ˆå³ï¼Œå¸¸é‡ï¼‰å†…å­˜è§£å†³æ­¤é—®é¢˜å—ï¼Ÿ</p>
<p>åˆ¤æ–­é“¾è¡¨æœ‰æ²¡æœ‰ç¯</p>
<ol>
<li>å®šä¹‰å¿«æ…¢æŒ‡é’ˆï¼Œå¿«æŒ‡é’ˆæ¯æ¬¡èµ°ä¸¤æ­¥ï¼Œæ…¢æŒ‡é’ˆæ¯æ¬¡èµ°ä¸€æ­¥ã€‚</li>
<li>å¦‚æœå¿«æŒ‡é’ˆå…ˆåˆ°è¾¾äº†nullè¯æ˜æ²¡æœ‰ç¯ã€‚</li>
<li>å¦‚æœæ…¢æŒ‡é’ˆè¿½ä¸Šå¿«æŒ‡é’ˆï¼Œåˆ™è¯´æ˜æœ‰ç¯ã€‚</li>
<li>å½“å¿«æ…¢æŒ‡é’ˆç›¸é‡åï¼Œè®©å¿«æŒ‡é’ˆå¼€å§‹æ¯æ¬¡èµ°ä¸€æ­¥ï¼Œæ…¢æŒ‡é’ˆå›åˆ°åŸç‚¹ï¼Œå†æ¬¡è®©ä»–ä»¬ç›¸é‡å°±æ˜¯ç¯çš„å…¥å£èŠ‚</li>
<li><ol start="5">
<li>æ•°å­¦è¯æ˜</li>
</ol>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åŒæŒ‡é’ˆ</span></span><br><span class="line"><span class="comment">     * */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">hasCycle</span><span class="params">(ListNode head)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(head == <span class="literal">null</span> || head.next == <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">slow</span> <span class="operator">=</span> head;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">fast</span> <span class="operator">=</span> head.next;</span><br><span class="line">        <span class="keyword">while</span> (slow != fast) &#123;</span><br><span class="line">            <span class="keyword">if</span> (fast == <span class="literal">null</span> || fast.next == <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            fast = fast.next.next;</span><br><span class="line">            slow = slow.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-4ã€LC142-ç¯å½¢é“¾è¡¨II"><a href="#2-4ã€LC142-ç¯å½¢é“¾è¡¨II" class="headerlink" title="2.4ã€LC142. ç¯å½¢é“¾è¡¨II"></a>2.4ã€LC142. ç¯å½¢é“¾è¡¨II</h3><p>ç»™å®šä¸€ä¸ªé“¾è¡¨çš„å¤´èŠ‚ç‚¹ <code>head</code> ï¼Œè¿”å›é“¾è¡¨å¼€å§‹å…¥ç¯çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚ <em>å¦‚æœé“¾è¡¨æ— ç¯ï¼Œåˆ™è¿”å› <code>null</code>ã€‚</em></p>
<p>å¦‚æœé“¾è¡¨ä¸­æœ‰æŸä¸ªèŠ‚ç‚¹ï¼Œå¯ä»¥é€šè¿‡è¿ç»­è·Ÿè¸ª <code>next</code> æŒ‡é’ˆå†æ¬¡åˆ°è¾¾ï¼Œåˆ™é“¾è¡¨ä¸­å­˜åœ¨ç¯ã€‚ ä¸ºäº†è¡¨ç¤ºç»™å®šé“¾è¡¨ä¸­çš„ç¯ï¼Œè¯„æµ‹ç³»ç»Ÿå†…éƒ¨ä½¿ç”¨æ•´æ•° <code>pos</code> æ¥è¡¨ç¤ºé“¾è¡¨å°¾è¿æ¥åˆ°é“¾è¡¨ä¸­çš„ä½ç½®ï¼ˆ<strong>ç´¢å¼•ä» 0 å¼€å§‹</strong>ï¼‰ã€‚å¦‚æœ <code>pos</code> æ˜¯ <code>-1</code>ï¼Œåˆ™åœ¨è¯¥é“¾è¡¨ä¸­æ²¡æœ‰ç¯ã€‚<strong>æ³¨æ„ï¼š<code>pos</code> ä¸ä½œä¸ºå‚æ•°è¿›è¡Œä¼ é€’</strong>ï¼Œä»…ä»…æ˜¯ä¸ºäº†æ ‡è¯†é“¾è¡¨çš„å®é™…æƒ…å†µã€‚</p>
<p><strong>ä¸å…è®¸ä¿®æ”¹</strong> é“¾è¡¨ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://assets.leetcode.com/uploads/2018/12/07/circularlinkedlist.png" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šhead = [3,2,0,-4], pos = 1</span><br><span class="line">è¾“å‡ºï¼šè¿”å›ç´¢å¼•ä¸º 1 çš„é“¾è¡¨èŠ‚ç‚¹</span><br><span class="line">è§£é‡Šï¼šé“¾è¡¨ä¸­æœ‰ä¸€ä¸ªç¯ï¼Œå…¶å°¾éƒ¨è¿æ¥åˆ°ç¬¬äºŒä¸ªèŠ‚ç‚¹ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2018/12/07/circularlinkedlist_test2.png" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šhead = [1,2], pos = 0</span><br><span class="line">è¾“å‡ºï¼šè¿”å›ç´¢å¼•ä¸º 0 çš„é“¾è¡¨èŠ‚ç‚¹</span><br><span class="line">è§£é‡Šï¼šé“¾è¡¨ä¸­æœ‰ä¸€ä¸ªç¯ï¼Œå…¶å°¾éƒ¨è¿æ¥åˆ°ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2018/12/07/circularlinkedlist_test3.png" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šhead = [1], pos = -1</span><br><span class="line">è¾“å‡ºï¼šè¿”å› null</span><br><span class="line">è§£é‡Šï¼šé“¾è¡¨ä¸­æ²¡æœ‰ç¯ã€‚</span><br></pre></td></tr></table></figure>

<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202210181732061.png" alt="image-20221018173023802" style="zoom:50%;" />

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> ListNode <span class="title function_">detectCycle</span><span class="params">(ListNode head)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (head == <span class="literal">null</span> || head.next == <span class="literal">null</span> || head.next.next == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">fast</span> <span class="operator">=</span> head.next.next;</span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">slow</span> <span class="operator">=</span> head.next;</span><br><span class="line">    <span class="keyword">while</span> (fast != <span class="literal">null</span> &amp;&amp; fast.next != <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (slow == fast) &#123; <span class="comment">//æœ‰ç¯</span></span><br><span class="line">            slow = head;</span><br><span class="line">            <span class="keyword">while</span> (slow != fast) &#123;</span><br><span class="line">                slow = slow.next;</span><br><span class="line">                fast = fast.next;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> slow;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            slow = slow.next;</span><br><span class="line">            fast = fast.next.next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-5ã€å‰‘æŒ‡-Offer-18-åˆ é™¤é“¾è¡¨çš„èŠ‚ç‚¹"><a href="#2-5ã€å‰‘æŒ‡-Offer-18-åˆ é™¤é“¾è¡¨çš„èŠ‚ç‚¹" class="headerlink" title="2.5ã€å‰‘æŒ‡ Offer 18. åˆ é™¤é“¾è¡¨çš„èŠ‚ç‚¹"></a>2.5ã€å‰‘æŒ‡ Offer 18. åˆ é™¤é“¾è¡¨çš„èŠ‚ç‚¹</h3><p>ç»™å®šå•å‘é“¾è¡¨çš„å¤´æŒ‡é’ˆå’Œä¸€ä¸ªè¦åˆ é™¤çš„èŠ‚ç‚¹çš„å€¼ï¼Œå®šä¹‰ä¸€ä¸ªå‡½æ•°åˆ é™¤è¯¥èŠ‚ç‚¹ã€‚</p>
<p>è¿”å›åˆ é™¤åçš„é“¾è¡¨çš„å¤´èŠ‚ç‚¹ã€‚</p>
<p><strong>æ³¨æ„ï¼š</strong>æ­¤é¢˜å¯¹æ¯”åŸé¢˜æœ‰æ”¹åŠ¨</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: head = [4,5,1,9], val = 5</span><br><span class="line">è¾“å‡º: [4,1,9]</span><br><span class="line">è§£é‡Š: ç»™å®šä½ é“¾è¡¨ä¸­å€¼ä¸º 5 çš„ç¬¬äºŒä¸ªèŠ‚ç‚¹ï¼Œé‚£ä¹ˆåœ¨è°ƒç”¨äº†ä½ çš„å‡½æ•°ä¹‹åï¼Œè¯¥é“¾è¡¨åº”å˜ä¸º 4 -&gt; 1 -&gt; 9.</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: head = [4,5,1,9], val = 1</span><br><span class="line">è¾“å‡º: [4,5,9]</span><br><span class="line">è§£é‡Š: ç»™å®šä½ é“¾è¡¨ä¸­å€¼ä¸º 1 çš„ç¬¬ä¸‰ä¸ªèŠ‚ç‚¹ï¼Œé‚£ä¹ˆåœ¨è°ƒç”¨äº†ä½ çš„å‡½æ•°ä¹‹åï¼Œè¯¥é“¾è¡¨åº”å˜ä¸º 4 -&gt; 5 -&gt; 9.</span><br></pre></td></tr></table></figure>



<p><strong>è¯´æ˜ï¼š</strong></p>
<ul>
<li>é¢˜ç›®ä¿è¯é“¾è¡¨ä¸­èŠ‚ç‚¹çš„å€¼äº’ä¸ç›¸åŒ</li>
<li>è‹¥ä½¿ç”¨ C æˆ– C++ è¯­è¨€ï¼Œä½ ä¸éœ€è¦ <code>free</code> æˆ– <code>delete</code> è¢«åˆ é™¤çš„èŠ‚ç‚¹</li>
</ul>
<p>Related Topics</p>
<p>é“¾è¡¨</p>
<p>ğŸ‘ 268</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>æœ¬é¢˜åˆ é™¤å€¼ä¸º val çš„èŠ‚ç‚¹åˆ†éœ€ä¸ºä¸¤æ­¥ï¼šå®šä½èŠ‚ç‚¹ã€ä¿®æ”¹å¼•ç”¨ã€‚</p>
<ol>
<li>å®šä½èŠ‚ç‚¹ï¼š éå†é“¾è¡¨ï¼Œç›´åˆ° head.val &#x3D;&#x3D; val æ—¶è·³å‡ºï¼Œå³å¯å®šä½ç›®æ ‡èŠ‚ç‚¹ã€‚</li>
<li>ä¿®æ”¹å¼•ç”¨ï¼š è®¾èŠ‚ç‚¹ cur çš„å‰é©±èŠ‚ç‚¹ä¸º pre ï¼Œåç»§èŠ‚ç‚¹ä¸º cur.next ï¼›åˆ™æ‰§è¡Œ pre.next &#x3D; cur.next ï¼Œå³å¯å®ç°åˆ é™¤ cur èŠ‚ç‚¹ã€‚</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1613757478-NBOvjn-Picture1.png" alt="Picture1.png"></p>
<p><strong>ç®—æ³•æµç¨‹</strong>ï¼š</p>
<ol>
<li>ç‰¹ä¾‹å¤„ç†ï¼š å½“åº”åˆ é™¤å¤´èŠ‚ç‚¹ head æ—¶ï¼Œç›´æ¥è¿”å› head.next å³å¯ã€‚</li>
<li>åˆå§‹åŒ–ï¼š pre &#x3D; head , cur &#x3D; head.next ã€‚</li>
<li>å®šä½èŠ‚ç‚¹ï¼š å½“ cur ä¸ºç©º æˆ– cur èŠ‚ç‚¹å€¼ç­‰äº val æ—¶è·³å‡ºã€‚<ol>
<li>ä¿å­˜å½“å‰èŠ‚ç‚¹ç´¢å¼•ï¼Œå³ pre &#x3D; cur ã€‚</li>
<li>éå†ä¸‹ä¸€èŠ‚ç‚¹ï¼Œå³ cur &#x3D; cur.next ã€‚</li>
</ol>
</li>
<li>åˆ é™¤èŠ‚ç‚¹ï¼š è‹¥ cur æŒ‡å‘æŸèŠ‚ç‚¹ï¼Œåˆ™æ‰§è¡Œ pre.next &#x3D; cur.next ï¼›è‹¥ cur æŒ‡å‘ null ï¼Œä»£è¡¨é“¾è¡¨ä¸­ä¸åŒ…å«å€¼ä¸º val çš„èŠ‚ç‚¹ã€‚</li>
<li>è¿”å›å€¼ï¼š è¿”å›é“¾è¡¨å¤´éƒ¨èŠ‚ç‚¹ head å³å¯ã€‚</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1599417705-nRNZwN-Picture5.png" alt="img"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* åªèƒ½åˆ é™¤ä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> ListNode <span class="title function_">deleteNode</span><span class="params">(ListNode head, <span class="type">int</span> val)</span> &#123; </span><br><span class="line">    <span class="keyword">if</span>(head.val == val) <span class="keyword">return</span> head.next;</span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">pre</span> <span class="operator">=</span> head, cur = head.next;</span><br><span class="line">    <span class="keyword">while</span>(cur != <span class="literal">null</span> &amp;&amp; cur.val != val) &#123;</span><br><span class="line">        pre = cur;</span><br><span class="line">        cur = cur.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(cur != <span class="literal">null</span>) pre.next = cur.next;</span><br><span class="line">    <span class="keyword">return</span> head;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* å¯ä»¥åˆ å¤šä¸ªèŠ‚ç‚¹</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> ListNode <span class="title function_">deleteNode</span><span class="params">(ListNode head, <span class="type">int</span> val)</span> &#123;</span><br><span class="line">    <span class="keyword">while</span> (head != <span class="literal">null</span> &amp;&amp; head.val == val) &#123; <span class="comment">// å¤„ç†å¤´èŠ‚ç‚¹</span></span><br><span class="line">        head = head.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">cur</span> <span class="operator">=</span> head;</span><br><span class="line">    <span class="keyword">while</span> (cur != <span class="literal">null</span> &amp;&amp; cur.next != <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">next</span> <span class="operator">=</span> cur.next;</span><br><span class="line">        <span class="keyword">if</span> (next.val == val) &#123;</span><br><span class="line">            cur.next = next.next;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            cur = cur.next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> head;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(N) ï¼š N ä¸ºé“¾è¡¨é•¿åº¦ï¼Œåˆ é™¤æ“ä½œå¹³å‡éœ€å¾ªç¯ N&#x2F;2 æ¬¡ï¼Œæœ€å·® N æ¬¡ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(1) ï¼š cur, pre å ç”¨å¸¸æ•°å¤§å°é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<h3 id="2-6ã€å‰‘æŒ‡-Offer-21-è°ƒæ•´æ•°ç»„é¡ºåºä½¿å¥‡æ•°ä½äºå¶æ•°å‰é¢"><a href="#2-6ã€å‰‘æŒ‡-Offer-21-è°ƒæ•´æ•°ç»„é¡ºåºä½¿å¥‡æ•°ä½äºå¶æ•°å‰é¢" class="headerlink" title="2.6ã€å‰‘æŒ‡ Offer 21. è°ƒæ•´æ•°ç»„é¡ºåºä½¿å¥‡æ•°ä½äºå¶æ•°å‰é¢"></a>2.6ã€å‰‘æŒ‡ Offer 21. è°ƒæ•´æ•°ç»„é¡ºåºä½¿å¥‡æ•°ä½äºå¶æ•°å‰é¢</h3><p>è¾“å…¥ä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼Œå®ç°ä¸€ä¸ªå‡½æ•°æ¥è°ƒæ•´è¯¥æ•°ç»„ä¸­æ•°å­—çš„é¡ºåºï¼Œä½¿å¾—æ‰€æœ‰å¥‡æ•°åœ¨æ•°ç»„çš„å‰åŠéƒ¨åˆ†ï¼Œæ‰€æœ‰å¶æ•°åœ¨æ•°ç»„çš„ååŠéƒ¨åˆ†ã€‚</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [1,2,3,4]</span><br><span class="line">è¾“å‡ºï¼š[1,3,2,4] </span><br><span class="line">æ³¨ï¼š[3,1,2,4] ä¹Ÿæ˜¯æ­£ç¡®çš„ç­”æ¡ˆä¹‹ä¸€ã€‚</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ol>
<li><code>0 &lt;= nums.length &lt;= 50000</code></li>
<li><code>0 &lt;= nums[i] &lt;= 10000</code></li>
</ol>
<p>Related Topics</p>
<p>æ•°ç»„</p>
<p>åŒæŒ‡é’ˆ</p>
<p>æ’åº</p>
<p>ğŸ‘ 268</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>è€ƒè™‘å®šä¹‰åŒæŒ‡é’ˆ i , j åˆ†åˆ—æ•°ç»„å·¦å³ä¸¤ç«¯ï¼Œå¾ªç¯æ‰§è¡Œï¼š</p>
<ol>
<li>æŒ‡é’ˆ i ä»å·¦å‘å³å¯»æ‰¾å¶æ•°ï¼›</li>
<li>æŒ‡é’ˆ j ä»å³å‘å·¦å¯»æ‰¾å¥‡æ•°ï¼›</li>
<li>å°† å¶æ•° nums[i] å’Œ å¥‡æ•° nums[j] äº¤æ¢ã€‚</li>
</ol>
<p>å¯å§‹ç»ˆä¿è¯ï¼š æŒ‡é’ˆ i å·¦è¾¹éƒ½æ˜¯å¥‡æ•°ï¼ŒæŒ‡é’ˆ j å³è¾¹éƒ½æ˜¯å¶æ•° ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/43e965485da89efa688947bc108232f10b65b5ba5c0dbd6a68227a82c7e451e4-Picture1.png" alt="Picture1.png"></p>
<p><strong>ç®—æ³•æµç¨‹</strong>ï¼š</p>
<ol>
<li>åˆå§‹åŒ–ï¼š i , j åŒæŒ‡é’ˆï¼Œåˆ†åˆ«æŒ‡å‘æ•°ç»„ nums å·¦å³ä¸¤ç«¯ï¼›</li>
<li>å¾ªç¯äº¤æ¢ï¼š å½“ i &#x3D; j æ—¶è·³å‡ºï¼›<ol>
<li>æŒ‡é’ˆ i é‡åˆ°å¥‡æ•°åˆ™æ‰§è¡Œ i &#x3D; i + 1 è·³è¿‡ï¼Œç›´åˆ°æ‰¾åˆ°å¶æ•°ï¼›</li>
<li>æŒ‡é’ˆ j é‡åˆ°å¶æ•°åˆ™æ‰§è¡Œ j &#x3D; j - 1 è·³è¿‡ï¼Œç›´åˆ°æ‰¾åˆ°å¥‡æ•°ï¼›</li>
<li>äº¤æ¢ nums[i] å’Œ nums[j] å€¼ï¼›</li>
</ol>
</li>
<li>è¿”å›å€¼ï¼š è¿”å›å·²ä¿®æ”¹çš„ nums æ•°ç»„ã€‚</li>
</ol>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(N ï¼š N ä¸ºæ•°ç»„ nums é•¿åº¦ï¼ŒåŒæŒ‡é’ˆ i, j å…±åŒéå†æ•´ä¸ªæ•°ç»„ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(1) ï¼š åŒæŒ‡é’ˆ i, j ä½¿ç”¨å¸¸æ•°å¤§å°çš„é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<p><em>x</em>&amp;1 ä½è¿ç®— ç­‰ä»·äº x*%2 å–ä½™è¿ç®—ï¼Œå³çš†å¯ç”¨äºåˆ¤æ–­æ•°å­—å¥‡å¶æ€§ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[] exchange(<span class="type">int</span>[] nums) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>, j = nums.length - <span class="number">1</span>, tmp;</span><br><span class="line">        <span class="keyword">while</span>(i &lt; j) &#123;</span><br><span class="line">            <span class="keyword">while</span>(i &lt; j &amp;&amp; (nums[i] &amp; <span class="number">1</span>) == <span class="number">1</span>) i++; <span class="comment">// æ‰¾ä¸æ˜¯å¥‡æ•°</span></span><br><span class="line">            <span class="keyword">while</span>(i &lt; j &amp;&amp; (nums[j] &amp; <span class="number">1</span>) == <span class="number">0</span>) j--; <span class="comment">// æ‰¾ä¸æ˜¯å¶æ•°</span></span><br><span class="line">            tmp = nums[i];</span><br><span class="line">            nums[i] = nums[j];</span><br><span class="line">            nums[j] = tmp;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> nums;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-7ã€å‰‘æŒ‡-Offer-22-é“¾è¡¨ä¸­å€’æ•°ç¬¬-k-ä¸ªèŠ‚ç‚¹"><a href="#2-7ã€å‰‘æŒ‡-Offer-22-é“¾è¡¨ä¸­å€’æ•°ç¬¬-k-ä¸ªèŠ‚ç‚¹" class="headerlink" title="2.7ã€å‰‘æŒ‡ Offer 22. é“¾è¡¨ä¸­å€’æ•°ç¬¬ k ä¸ªèŠ‚ç‚¹"></a>2.7ã€å‰‘æŒ‡ Offer 22. é“¾è¡¨ä¸­å€’æ•°ç¬¬ k ä¸ªèŠ‚ç‚¹</h3><p>è¾“å…¥ä¸€ä¸ªé“¾è¡¨ï¼Œè¾“å‡ºè¯¥é“¾è¡¨ä¸­å€’æ•°ç¬¬kä¸ªèŠ‚ç‚¹ã€‚ä¸ºäº†ç¬¦åˆå¤§å¤šæ•°äººçš„ä¹ æƒ¯ï¼Œæœ¬é¢˜ä»1å¼€å§‹è®¡æ•°ï¼Œå³é“¾è¡¨çš„å°¾èŠ‚ç‚¹æ˜¯å€’æ•°ç¬¬1ä¸ªèŠ‚ç‚¹ã€‚</p>
<p>ä¾‹å¦‚ï¼Œä¸€ä¸ªé“¾è¡¨æœ‰ <code>6</code> ä¸ªèŠ‚ç‚¹ï¼Œä»å¤´èŠ‚ç‚¹å¼€å§‹ï¼Œå®ƒä»¬çš„å€¼ä¾æ¬¡æ˜¯ <code>1ã€2ã€3ã€4ã€5ã€6</code>ã€‚è¿™ä¸ªé“¾è¡¨çš„å€’æ•°ç¬¬ <code>3</code> ä¸ªèŠ‚ç‚¹æ˜¯å€¼ä¸º <code>4</code> çš„èŠ‚ç‚¹ã€‚</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ç»™å®šä¸€ä¸ªé“¾è¡¨: 1-&gt;2-&gt;3-&gt;4-&gt;5, å’Œ k = 2.</span><br><span class="line"></span><br><span class="line">è¿”å›é“¾è¡¨ 4-&gt;5.</span><br></pre></td></tr></table></figure>

<p>Related Topics</p>
<p>é“¾è¡¨</p>
<p>åŒæŒ‡é’ˆ</p>
<p>ğŸ‘ 418</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š<br>ç¬¬ä¸€æ—¶é—´æƒ³åˆ°çš„è§£æ³•ï¼š</p>
<ol>
<li>å…ˆéå†ç»Ÿè®¡é“¾è¡¨é•¿åº¦ï¼Œè®°ä¸º len ï¼›</li>
<li>è®¾ç½®ä¸€ä¸ªæŒ‡é’ˆèµ° (len-k) æ­¥ï¼Œå³å¯æ‰¾åˆ°é“¾è¡¨å€’æ•°ç¬¬ k ä¸ªèŠ‚ç‚¹ï¼›</li>
</ol>
<p>ä½¿ç”¨åŒæŒ‡é’ˆåˆ™å¯ä»¥ä¸ç”¨ç»Ÿè®¡é“¾è¡¨é•¿åº¦ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1600794523-AAMvoP-Picture1.png" alt="Picture1.png"></p>
<p><strong>ç®—æ³•æµç¨‹</strong>ï¼š</p>
<ol>
<li>åˆå§‹åŒ–ï¼š å‰æŒ‡é’ˆ former ã€åæŒ‡é’ˆ latter ï¼ŒåŒæŒ‡é’ˆéƒ½æŒ‡å‘å¤´èŠ‚ç‚¹ head ã€‚</li>
<li>æ„å»ºåŒæŒ‡é’ˆè·ç¦»ï¼š å‰æŒ‡é’ˆ former å…ˆå‘å‰èµ° k æ­¥ï¼ˆç»“æŸåï¼ŒåŒæŒ‡é’ˆ former å’Œ latter é—´ç›¸è· k æ­¥ï¼‰ã€‚</li>
<li>åŒæŒ‡é’ˆå…±åŒç§»åŠ¨ï¼š å¾ªç¯ä¸­ï¼ŒåŒæŒ‡é’ˆ former å’Œ latter æ¯è½®éƒ½å‘å‰èµ°ä¸€æ­¥ï¼Œç›´è‡³ former èµ°è¿‡é“¾è¡¨ å°¾èŠ‚ç‚¹ æ—¶è·³å‡ºï¼ˆè·³å‡ºåï¼Œ latter ä¸å°¾èŠ‚ç‚¹è·ç¦»ä¸º k-1ï¼Œå³ latter æŒ‡å‘å€’æ•°ç¬¬ k ä¸ªèŠ‚ç‚¹ï¼‰ã€‚</li>
<li>è¿”å›å€¼ï¼š è¿”å› latter å³å¯ã€‚</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1600794523-NHOoqg-Picture8.png" alt="img"></p>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(N) ï¼š N ä¸ºé“¾è¡¨é•¿åº¦ï¼›æ€»ä½“çœ‹ï¼Œ former èµ°äº† N æ­¥ï¼Œ latter èµ°äº† (N-k) æ­¥ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(1) ï¼š åŒæŒ‡é’ˆ former , latter ä½¿ç”¨å¸¸æ•°å¤§å°çš„é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> ListNode <span class="title function_">getKthFromEnd</span><span class="params">(ListNode head, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">former</span> <span class="operator">=</span> head, latter = head;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; k; i++)</span><br><span class="line">            <span class="keyword">if</span>(former == <span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">            former = former.next;</span><br><span class="line">        <span class="keyword">while</span>(former != <span class="literal">null</span>) &#123;</span><br><span class="line">            former = former.next;</span><br><span class="line">            latter = latter.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> latter;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>code2:å…ˆç»Ÿè®¡é“¾è¡¨é•¿åº¦ï¼Œå†éå†ä¸€æ¬¡è¿”å›å€’æ•°ç¬¬kä¸ªèŠ‚ç‚¹ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> ListNode <span class="title function_">getKthFromEnd</span><span class="params">(ListNode head, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">cur</span> <span class="operator">=</span> head;</span><br><span class="line">    <span class="comment">// ç»Ÿè®¡é•¿åº¦</span></span><br><span class="line">    <span class="keyword">while</span> (cur != <span class="literal">null</span>) &#123;</span><br><span class="line">        cur = cur.next;</span><br><span class="line">        len++;</span><br><span class="line">    &#125;</span><br><span class="line">    len = len - k;</span><br><span class="line">    cur = head;</span><br><span class="line">    <span class="keyword">while</span> (len != <span class="number">0</span>) &#123;</span><br><span class="line">        len--;</span><br><span class="line">        cur = cur.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> cur;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-8ã€LC206-åè½¬é“¾è¡¨"><a href="#2-8ã€LC206-åè½¬é“¾è¡¨" class="headerlink" title="2.8ã€LC206. åè½¬é“¾è¡¨"></a>2.8ã€LC206. åè½¬é“¾è¡¨</h3><p>ç»™ä½ å•é“¾è¡¨çš„å¤´èŠ‚ç‚¹ <code>head</code> ï¼Œè¯·ä½ åè½¬é“¾è¡¨ï¼Œå¹¶è¿”å›åè½¬åçš„é“¾è¡¨ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/rev1ex1.jpg" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šhead = [1,2,3,4,5]</span><br><span class="line">è¾“å‡ºï¼š[5,4,3,2,1]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/rev1ex2.jpg" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šhead = [1,2]</span><br><span class="line">è¾“å‡ºï¼š[2,1]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šhead = []</span><br><span class="line">è¾“å‡ºï¼š[]</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li>é“¾è¡¨ä¸­èŠ‚ç‚¹çš„æ•°ç›®èŒƒå›´æ˜¯ <code>[0, 5000]</code></li>
<li><code>-5000 &lt;= Node.val &lt;= 5000</code></li>
</ul>
<p><strong>è¿›é˜¶ï¼š</strong>é“¾è¡¨å¯ä»¥é€‰ç”¨è¿­ä»£æˆ–é€’å½’æ–¹å¼å®Œæˆåè½¬ã€‚ä½ èƒ½å¦ç”¨ä¸¤ç§æ–¹æ³•è§£å†³è¿™é“é¢˜ï¼Ÿ</p>
<p>Related Topics</p>
<p>é€’å½’</p>
<p>é“¾è¡¨</p>
<p>ğŸ‘ 2890</p>
<p>ğŸ‘ 0</p>
<h4 id="åŒæŒ‡é’ˆ"><a href="#åŒæŒ‡é’ˆ" class="headerlink" title="åŒæŒ‡é’ˆ"></a>åŒæŒ‡é’ˆ</h4><ul>
<li>æˆ‘ä»¬å¯ä»¥ç”³è¯·ä¸¤ä¸ªæŒ‡é’ˆï¼Œç¬¬ä¸€ä¸ªæŒ‡é’ˆå« preï¼Œæœ€åˆæ˜¯æŒ‡å‘ null çš„ã€‚</li>
<li>ç¬¬äºŒä¸ªæŒ‡é’ˆ cur æŒ‡å‘ headï¼Œç„¶åä¸æ–­éå† curã€‚</li>
<li>æ¯æ¬¡è¿­ä»£åˆ° curï¼Œéƒ½å°† cur çš„ next æŒ‡å‘ preï¼Œç„¶å pre å’Œ cur å‰è¿›ä¸€ä½ã€‚</li>
<li>éƒ½è¿­ä»£å®Œäº†(cur å˜æˆ null äº†)ï¼Œpre å°±æ˜¯æœ€åä¸€ä¸ªèŠ‚ç‚¹äº†ã€‚<br>åŠ¨ç”»æ¼”ç¤ºå¦‚ä¸‹ï¼š</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/7d8712af4fbb870537607b1dd95d66c248eb178db4319919c32d9304ee85b602-%E8%BF%AD%E4%BB%A3.gif" alt="è¿­ä»£.gif"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> ListNode <span class="title function_">reverseList</span><span class="params">(ListNode head)</span> &#123;</span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">pre</span> <span class="operator">=</span> <span class="literal">null</span>, cur = head, next;</span><br><span class="line">    <span class="keyword">while</span> (cur != <span class="literal">null</span>) &#123;</span><br><span class="line">        next = cur.next; <span class="comment">// è®°å½•å½“å‰èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">        cur.next = pre; <span class="comment">// ç„¶åå°†å½“å‰èŠ‚ç‚¹æŒ‡å‘pre</span></span><br><span class="line">        <span class="comment">// preå’ŒcurèŠ‚ç‚¹éƒ½å‰è¿›ä¸€ä½</span></span><br><span class="line">        pre = cur;</span><br><span class="line">        cur = next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> pre;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦O(N)</li>
<li>ç©ºé—´å¤æ‚åº¦O(1)</li>
</ul>
<h4 id="é€’å½’"><a href="#é€’å½’" class="headerlink" title="é€’å½’"></a>é€’å½’</h4><p>é€’å½’çš„ä¸¤ä¸ªæ¡ä»¶ï¼š</p>
<p>ç»ˆæ­¢æ¡ä»¶æ˜¯å½“å‰èŠ‚ç‚¹æˆ–è€…ä¸‹ä¸€ä¸ªèŠ‚ç‚¹&#x3D;&#x3D;null<br>åœ¨å‡½æ•°å†…éƒ¨ï¼Œæ”¹å˜èŠ‚ç‚¹çš„æŒ‡å‘ï¼Œä¹Ÿå°±æ˜¯ head çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æŒ‡å‘ head é€’å½’å‡½æ•°é‚£å¥</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">head.next.next = head</span><br></pre></td></tr></table></figure>

<p>å¾ˆä¸å¥½ç†è§£ï¼Œå…¶å®å°±æ˜¯ head çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æŒ‡å‘headã€‚</p>
<p>é€’å½’å‡½æ•°ä¸­æ¯æ¬¡è¿”å›çš„ cur å…¶å®åªæœ€åä¸€ä¸ªèŠ‚ç‚¹ï¼Œåœ¨é€’å½’å‡½æ•°å†…éƒ¨ï¼Œæ”¹å˜çš„æ˜¯å½“å‰èŠ‚ç‚¹çš„æŒ‡å‘ã€‚</p>
<p>åŠ¨ç”»æ¼”ç¤ºå¦‚ä¸‹ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/dacd1bf55dec5c8b38d0904f26e472e2024fc8bee4ea46e3aa676f340ba1eb9d-%E9%80%92%E5%BD%92.gif" alt="é€’å½’.gif"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> ListNode <span class="title function_">reverseList</span><span class="params">(ListNode head)</span> &#123;</span><br><span class="line">    <span class="comment">//é€’å½’ç»ˆæ­¢æ¡ä»¶æ˜¯å½“å‰ä¸ºç©ºï¼Œæˆ–è€…ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ä¸ºç©º</span></span><br><span class="line">    <span class="keyword">if</span>(head==<span class="literal">null</span> || head.next==<span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//è¿™é‡Œçš„curå°±æ˜¯æœ€åä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">cur</span> <span class="operator">=</span> reverseList(head.next);</span><br><span class="line">    <span class="comment">//è¿™é‡Œè¯·é…åˆåŠ¨ç”»æ¼”ç¤ºç†è§£</span></span><br><span class="line">    <span class="comment">//å¦‚æœé“¾è¡¨æ˜¯ 1-&gt;2-&gt;3-&gt;4-&gt;5ï¼Œé‚£ä¹ˆæ­¤æ—¶çš„curå°±æ˜¯5</span></span><br><span class="line">    <span class="comment">//è€Œheadæ˜¯4ï¼Œheadçš„ä¸‹ä¸€ä¸ªæ˜¯5ï¼Œä¸‹ä¸‹ä¸€ä¸ªæ˜¯ç©º</span></span><br><span class="line">    <span class="comment">//æ‰€ä»¥head.next.next å°±æ˜¯5-&gt;4</span></span><br><span class="line">    head.next.next = head;</span><br><span class="line">    <span class="comment">//é˜²æ­¢é“¾è¡¨å¾ªç¯ï¼Œéœ€è¦å°†head.nextè®¾ç½®ä¸ºç©º</span></span><br><span class="line">    head.next = <span class="literal">null</span>;</span><br><span class="line">    <span class="comment">//æ¯å±‚é€’å½’å‡½æ•°éƒ½è¿”å›curï¼Œä¹Ÿå°±æ˜¯æœ€åä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">return</span> cur;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="ä¸‰ã€æ»‘åŠ¨çª—å£"><a href="#ä¸‰ã€æ»‘åŠ¨çª—å£" class="headerlink" title="ä¸‰ã€æ»‘åŠ¨çª—å£"></a>ä¸‰ã€æ»‘åŠ¨çª—å£</h2><p>æ»‘åŠ¨çª—å£ï¼Œ<strong>å°±æ˜¯ä¸æ–­çš„è°ƒèŠ‚å­åºåˆ—çš„èµ·å§‹ä½ç½®å’Œç»ˆæ­¢ä½ç½®ï¼Œä»è€Œå¾—å‡ºæˆ‘ä»¬è¦æƒ³çš„ç»“æœ</strong>ã€‚</p>
<p>åœ¨éå†ä¸€ä¸ªæ•°ç»„çš„è¿‡ç¨‹ä¸­ï¼š</p>
<p>åœ¨æš´åŠ›è§£æ³•ä¸­ï¼Œæ˜¯ä¸€ä¸ªforå¾ªç¯æ»‘åŠ¨çª—å£çš„èµ·å§‹ä½ç½®ï¼Œä¸€ä¸ªforå¾ªç¯ä¸ºæ»‘åŠ¨çª—å£çš„ç»ˆæ­¢ä½ç½®ï¼Œç”¨ä¸¤ä¸ªforå¾ªç¯å®Œæˆäº†ä¸€ä¸ªä¸æ–­æœç´¢åŒºé—´çš„è¿‡ç¨‹ã€‚</p>
<p>é‚£ä¹ˆæ»‘åŠ¨çª—å£å¦‚ä½•ç”¨ä¸€ä¸ªforå¾ªç¯æ¥å®Œæˆè¿™ä¸ªæ“ä½œå‘¢ã€‚</p>
<p>é¦–å…ˆè¦æ€è€ƒ å¦‚æœç”¨ä¸€ä¸ªforå¾ªç¯ï¼Œé‚£ä¹ˆåº”è¯¥è¡¨ç¤º æ»‘åŠ¨çª—å£çš„èµ·å§‹ä½ç½®ï¼Œè¿˜æ˜¯ç»ˆæ­¢ä½ç½®ã€‚</p>
<p>å¦‚æœåªç”¨ä¸€ä¸ªforå¾ªç¯æ¥è¡¨ç¤º æ»‘åŠ¨çª—å£çš„èµ·å§‹ä½ç½®ï¼Œé‚£ä¹ˆå¦‚ä½•éå†å‰©ä¸‹çš„ç»ˆæ­¢ä½ç½®ï¼Ÿæ­¤æ—¶éš¾å…å†æ¬¡é™·å…¥ æš´åŠ›è§£æ³•çš„æ€ªåœˆã€‚</p>
<p>æ‰€ä»¥åªç”¨ä¸€ä¸ªforå¾ªç¯ï¼Œé‚£ä¹ˆ<strong>è¿™ä¸ªå¾ªç¯çš„ç´¢å¼•ï¼Œä¸€å®šæ˜¯è¡¨ç¤ºæ»‘åŠ¨çª—å£çš„ç»ˆæ­¢ä½ç½®ã€‚</strong></p>
<p>é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œ æ»‘åŠ¨çª—å£çš„èµ·å§‹ä½ç½®å¦‚ä½•ç§»åŠ¨å‘¢ï¼Ÿ</p>
<p>è¿™é‡Œè¿˜æ˜¯ä»¥<code>é•¿åº¦æœ€å°çš„å­æ•°ç»„</code>ä¸­çš„ç¤ºä¾‹æ¥ä¸¾ä¾‹ï¼Œs&#x3D;7ï¼Œ æ•°ç»„æ˜¯ 2ï¼Œ3ï¼Œ1ï¼Œ2ï¼Œ4ï¼Œ3ï¼Œæ¥çœ‹ä¸€ä¸‹æŸ¥æ‰¾çš„è¿‡ç¨‹ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://code-thinking.cdn.bcebos.com/gifs/209.%E9%95%BF%E5%BA%A6%E6%9C%80%E5%B0%8F%E7%9A%84%E5%AD%90%E6%95%B0%E7%BB%84.gif" alt="209.é•¿åº¦æœ€å°çš„å­æ•°ç»„"></p>
<p>æœ€åæ‰¾åˆ° 4ï¼Œ3 æ˜¯æœ€çŸ­è·ç¦»ã€‚</p>
<p>å…¶å®ä»åŠ¨ç”»ä¸­å¯ä»¥å‘ç°<strong>æ»‘åŠ¨çª—å£ä¹Ÿå¯ä»¥ç†è§£ä¸ºåŒæŒ‡é’ˆæ³•çš„ä¸€ç§ï¼åªä¸è¿‡è¿™ç§è§£æ³•æ›´åƒæ˜¯ä¸€ä¸ªçª—å£çš„ç§»åŠ¨ï¼Œæ‰€ä»¥å«åšæ»‘åŠ¨çª—å£æ›´é€‚åˆä¸€äº›ã€‚</strong></p>
<p>å®ç°æ»‘åŠ¨çª—å£ï¼Œä¸»è¦ç¡®å®šå¦‚ä¸‹ä¸‰ç‚¹ï¼š</p>
<ul>
<li>çª—å£å†…æ˜¯ä»€ä¹ˆï¼Ÿ</li>
<li>å¦‚ä½•ç§»åŠ¨çª—å£çš„èµ·å§‹ä½ç½®ï¼Ÿ</li>
<li>å¦‚ä½•ç§»åŠ¨çª—å£çš„ç»“æŸä½ç½®ï¼Ÿ</li>
</ul>
<p><strong>æ»‘åŠ¨çª—å£çš„ç²¾å¦™ä¹‹å¤„åœ¨äºæ ¹æ®å½“å‰å­åºåˆ—å’Œå¤§å°çš„æƒ…å†µï¼Œä¸æ–­è°ƒèŠ‚å­åºåˆ—çš„èµ·å§‹ä½ç½®ã€‚ä»è€Œå°†O(n^2)æš´åŠ›è§£æ³•é™ä¸ºO(n)ã€‚</strong></p>
<p>æ»‘åŠ¨çª—å£é¢˜ç›®:</p>
<ol start="3">
<li><p>æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²</p>
</li>
<li><p>ä¸²è”æ‰€æœ‰å•è¯çš„å­ä¸²</p>
</li>
<li><p>æœ€å°è¦†ç›–å­ä¸²</p>
</li>
<li><p>è‡³å¤šåŒ…å«ä¸¤ä¸ªä¸åŒå­—ç¬¦çš„æœ€é•¿å­ä¸²</p>
</li>
<li><p>é•¿åº¦æœ€å°çš„å­æ•°ç»„</p>
</li>
<li><p>æ»‘åŠ¨çª—å£æœ€å¤§å€¼</p>
</li>
<li><p>å­—ç¬¦ä¸²çš„æ’åˆ—</p>
</li>
<li><p>æœ€å°åŒºé—´</p>
</li>
<li><p>æœ€å°çª—å£å­åºåˆ—</p>
</li>
</ol>
<h3 id="3-1ã€LC209-é•¿åº¦æœ€å°çš„å­æ•°ç»„"><a href="#3-1ã€LC209-é•¿åº¦æœ€å°çš„å­æ•°ç»„" class="headerlink" title="3.1ã€LC209. é•¿åº¦æœ€å°çš„å­æ•°ç»„"></a>3.1ã€LC209. é•¿åº¦æœ€å°çš„å­æ•°ç»„</h3><p>ç»™å®šä¸€ä¸ªå«æœ‰ <code>n</code> ä¸ªæ­£æ•´æ•°çš„æ•°ç»„å’Œä¸€ä¸ªæ­£æ•´æ•° <code>target</code> <strong>ã€‚</strong></p>
<p>æ‰¾å‡ºè¯¥æ•°ç»„ä¸­æ»¡è¶³å…¶å’Œ <code>â‰¥ target</code> çš„é•¿åº¦æœ€å°çš„ <strong>è¿ç»­å­æ•°ç»„</strong> <code>[numsl, numsl+1, ..., numsr-1, numsr]</code> ï¼Œå¹¶è¿”å›å…¶é•¿åº¦<strong>ã€‚</strong>å¦‚æœä¸å­˜åœ¨ç¬¦åˆæ¡ä»¶çš„å­æ•°ç»„ï¼Œè¿”å› <code>0</code> ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼štarget = 7, nums = [2,3,1,2,4,3]</span><br><span class="line">è¾“å‡ºï¼š2</span><br><span class="line">è§£é‡Šï¼šå­æ•°ç»„ [4,3] æ˜¯è¯¥æ¡ä»¶ä¸‹çš„é•¿åº¦æœ€å°çš„å­æ•°ç»„ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼štarget = 4, nums = [1,4,4]</span><br><span class="line">è¾“å‡ºï¼š1</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼štarget = 11, nums = [1,1,1,1,1,1,1,1]</span><br><span class="line">è¾“å‡ºï¼š0</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= target &lt;= 109</code></li>
<li><code>1 &lt;= nums.length &lt;= 105</code></li>
<li><code>1 &lt;= nums[i] &lt;= 105</code></li>
</ul>
<p><strong>è¿›é˜¶ï¼š</strong></p>
<ul>
<li>å¦‚æœä½ å·²ç»å®ç° <code>O(n)</code> æ—¶é—´å¤æ‚åº¦çš„è§£æ³•, è¯·å°è¯•è®¾è®¡ä¸€ä¸ª <code>O(n log(n))</code> æ—¶é—´å¤æ‚åº¦çš„è§£æ³•ã€‚</li>
</ul>
<p>åœ¨æœ¬é¢˜ä¸­å®ç°æ»‘åŠ¨çª—å£ï¼Œä¸»è¦ç¡®å®šå¦‚ä¸‹ä¸‰ç‚¹ï¼š</p>
<ul>
<li>çª—å£å†…æ˜¯ä»€ä¹ˆï¼Ÿ</li>
<li>å¦‚ä½•ç§»åŠ¨çª—å£çš„èµ·å§‹ä½ç½®ï¼Ÿ</li>
<li>å¦‚ä½•ç§»åŠ¨çª—å£çš„ç»“æŸä½ç½®ï¼Ÿ</li>
</ul>
<p>çª—å£å°±æ˜¯ æ»¡è¶³å…¶å’Œ â‰¥ s çš„é•¿åº¦æœ€å°çš„ è¿ç»­ å­æ•°ç»„ã€‚</p>
<p>çª—å£çš„èµ·å§‹ä½ç½®å¦‚ä½•ç§»åŠ¨ï¼šå¦‚æœå½“å‰çª—å£çš„å€¼å¤§äºsäº†ï¼Œçª—å£å°±è¦å‘å‰ç§»åŠ¨äº†ï¼ˆä¹Ÿå°±æ˜¯è¯¥ç¼©å°äº†ï¼‰ã€‚</p>
<p>çª—å£çš„ç»“æŸä½ç½®å¦‚ä½•ç§»åŠ¨ï¼šçª—å£çš„ç»“æŸä½ç½®å°±æ˜¯éå†æ•°ç»„çš„æŒ‡é’ˆï¼Œä¹Ÿå°±æ˜¯forå¾ªç¯é‡Œçš„ç´¢å¼•ã€‚</p>
<p>è§£é¢˜çš„å…³é”®åœ¨äº çª—å£çš„èµ·å§‹ä½ç½®å¦‚ä½•ç§»åŠ¨ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/20210312160441942.png" alt="leetcode_209"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ»‘åŠ¨çª—å£</span></span><br><span class="line"><span class="comment">     * */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minSubArrayLen</span><span class="params">(<span class="type">int</span> target, <span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> Integer.MAX_VALUE;</span><br><span class="line">        <span class="comment">//æ»‘åŠ¨çª—å£ for iéå†çš„æ˜¯ç»“æŸçš„ä½ç½® jæ˜¯èµ·å§‹çš„ä½ç½®</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0</span>;<span class="comment">//æ»‘åŠ¨çª—å£çš„å¤§å°</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">            sum += nums[i];</span><br><span class="line"></span><br><span class="line">            <span class="keyword">while</span> (sum &gt;= target) &#123; <span class="comment">//çª—å£çš„å¤§å°å¤§äºè¦æ±‚çš„å€¼ èµ·å§‹ä½ç½®å‘å‰ ç¼©çª—å£</span></span><br><span class="line">                <span class="type">int</span> <span class="variable">subLength</span> <span class="operator">=</span> i - j + <span class="number">1</span>;</span><br><span class="line">                res = Math.min(subLength, res);</span><br><span class="line">                sum -= nums[j++];<span class="comment">//å°±ç›¸å½“äºä¹‹å‰çš„å’Œå‡å»äº†èµ·å§‹ä½ç½®çš„å€¼ èµ·å§‹ä½ç½®++</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (res == Integer.MAX_VALUE) &#123; <span class="comment">//æ•°ç»„ä¸­çš„å’Œä¸å¤§äºtarget</span></span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> res;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-2ã€LC904-æ°´æœæˆç¯®"><a href="#3-2ã€LC904-æ°´æœæˆç¯®" class="headerlink" title="3.2ã€LC904. æ°´æœæˆç¯®"></a>3.2ã€LC904. æ°´æœæˆç¯®</h3><p>ä½ æ­£åœ¨æ¢è®¿ä¸€å®¶å†œåœºï¼Œå†œåœºä»å·¦åˆ°å³ç§æ¤äº†ä¸€æ’æœæ ‘ã€‚è¿™äº›æ ‘ç”¨ä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>fruits</code> è¡¨ç¤ºï¼Œå…¶ä¸­ <code>fruits[i]</code> æ˜¯ç¬¬ <code>i</code> æ£µæ ‘ä¸Šçš„æ°´æœ <strong>ç§ç±»</strong> ã€‚</p>
<p>ä½ æƒ³è¦å°½å¯èƒ½å¤šåœ°æ”¶é›†æ°´æœã€‚ç„¶è€Œï¼Œå†œåœºçš„ä¸»äººè®¾å®šäº†ä¸€äº›ä¸¥æ ¼çš„è§„çŸ©ï¼Œä½ å¿…é¡»æŒ‰ç…§è¦æ±‚é‡‡æ‘˜æ°´æœï¼š</p>
<ul>
<li>ä½ åªæœ‰ <strong>ä¸¤ä¸ª</strong> ç¯®å­ï¼Œå¹¶ä¸”æ¯ä¸ªç¯®å­åªèƒ½è£… <strong>å•ä¸€ç±»å‹</strong> çš„æ°´æœã€‚æ¯ä¸ªç¯®å­èƒ½å¤Ÿè£…çš„æ°´æœæ€»é‡æ²¡æœ‰é™åˆ¶ã€‚</li>
<li>ä½ å¯ä»¥é€‰æ‹©ä»»æ„ä¸€æ£µæ ‘å¼€å§‹é‡‡æ‘˜ï¼Œä½ å¿…é¡»ä» <strong>æ¯æ£µ</strong> æ ‘ï¼ˆåŒ…æ‹¬å¼€å§‹é‡‡æ‘˜çš„æ ‘ï¼‰ä¸Š <strong>æ°å¥½æ‘˜ä¸€ä¸ªæ°´æœ</strong> ã€‚é‡‡æ‘˜çš„æ°´æœåº”å½“ç¬¦åˆç¯®å­ä¸­çš„æ°´æœç±»å‹ã€‚æ¯é‡‡æ‘˜ä¸€æ¬¡ï¼Œä½ å°†ä¼šå‘å³ç§»åŠ¨åˆ°ä¸‹ä¸€æ£µæ ‘ï¼Œå¹¶ç»§ç»­é‡‡æ‘˜ã€‚</li>
<li>ä¸€æ—¦ä½ èµ°åˆ°æŸæ£µæ ‘å‰ï¼Œä½†æ°´æœä¸ç¬¦åˆç¯®å­çš„æ°´æœç±»å‹ï¼Œé‚£ä¹ˆå°±å¿…é¡»åœæ­¢é‡‡æ‘˜ã€‚</li>
</ul>
<p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>fruits</code> ï¼Œè¿”å›ä½ å¯ä»¥æ”¶é›†çš„æ°´æœçš„ <strong>æœ€å¤§</strong> æ•°ç›®ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šfruits = [1,2,1]</span><br><span class="line">è¾“å‡ºï¼š3</span><br><span class="line">è§£é‡Šï¼šå¯ä»¥é‡‡æ‘˜å…¨éƒ¨ 3 æ£µæ ‘ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šfruits = [0,1,2,2]</span><br><span class="line">è¾“å‡ºï¼š3</span><br><span class="line">è§£é‡Šï¼šå¯ä»¥é‡‡æ‘˜ [1,2,2] è¿™ä¸‰æ£µæ ‘ã€‚</span><br><span class="line">å¦‚æœä»ç¬¬ä¸€æ£µæ ‘å¼€å§‹é‡‡æ‘˜ï¼Œåˆ™åªèƒ½é‡‡æ‘˜ [0,1] è¿™ä¸¤æ£µæ ‘ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šfruits = [1,2,3,2,2]</span><br><span class="line">è¾“å‡ºï¼š4</span><br><span class="line">è§£é‡Šï¼šå¯ä»¥é‡‡æ‘˜ [2,3,2,2] è¿™å››æ£µæ ‘ã€‚</span><br><span class="line">å¦‚æœä»ç¬¬ä¸€æ£µæ ‘å¼€å§‹é‡‡æ‘˜ï¼Œåˆ™åªèƒ½é‡‡æ‘˜ [1,2] è¿™ä¸¤æ£µæ ‘ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 4ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šfruits = [3,3,3,1,2,1,1,2,3,3,4]</span><br><span class="line">è¾“å‡ºï¼š5</span><br><span class="line">è§£é‡Šï¼šå¯ä»¥é‡‡æ‘˜ [1,2,1,1,2] è¿™äº”æ£µæ ‘ã€‚</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= fruits.length &lt;= 105</code></li>
<li><code>0 &lt;= fruits[i] &lt; fruits.length</code></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ»‘åŠ¨çª—å£ + hashmap</span></span><br><span class="line"><span class="comment">     * */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">totalFruit</span><span class="params">(<span class="type">int</span>[] fruits)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">1</span>;<span class="comment">//è¿”å›çš„æœ€å¤šæ”¶é›†ä¸ªæ•°</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>;<span class="comment">//èµ·å§‹ä½ç½®</span></span><br><span class="line">        HashMap&lt;Integer, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;(<span class="number">3</span>);<span class="comment">//ç¯®å­</span></span><br><span class="line">        <span class="comment">//éå†ç»ˆæ­¢ä½ç½®i</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; fruits.length; i++) &#123;</span><br><span class="line">            map.put(fruits[i], map.getOrDefault(fruits[i], <span class="number">0</span>) + <span class="number">1</span>);<span class="comment">//åˆ©ç”¨mapä¸å«é‡å¤å…ƒç´ </span></span><br><span class="line">            <span class="keyword">while</span> (map.size() &gt; <span class="number">2</span>) &#123;<span class="comment">//å½“ç¯®å­æ•°å¤§äº2æ—¶ï¼Œç¼©çŸ­çª—å£</span></span><br><span class="line">                <span class="keyword">if</span> (map.get(fruits[j]) - <span class="number">1</span> == <span class="number">0</span>) &#123;</span><br><span class="line">                    map.remove(fruits[j]);</span><br><span class="line">                &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                    map.put(fruits[j], map.get(fruits[j]) - <span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                j++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">int</span> <span class="variable">subLength</span> <span class="operator">=</span> i - j + <span class="number">1</span>;</span><br><span class="line">            res = Math.max(res, subLength);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å®«æ°´ä¸‰å¶ï¼ˆæ•°ç»„å¸¦æ›¿mapï¼‰</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">totalFruit</span><span class="params">(<span class="type">int</span>[] fs)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> fs.length, res = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//cntsç”¨æ¥ç»Ÿè®¡æ¯ç§æ°´æœæ ‘çš„æ•°é‡</span></span><br><span class="line">    <span class="type">int</span>[] cnts = <span class="keyword">new</span> <span class="title class_">int</span>[len + <span class="number">10</span>];</span><br><span class="line">    <span class="comment">//iæ˜¯çª—å£çš„å³è¾¹ï¼Œjæ˜¯å·¦è¾¹ï¼Œtotè¡¨ç¤ºå½“å‰ç¯®å­é‡Œæ°´æœçš„ç§ç±»ï¼ˆè‡³å¤šæœ‰ä¸¤ç§æ°´æœï¼‰ï¼Œä¹Ÿè¡¨ç¤ºçª—å£ä¸­çš„æ°´æœç§ç±»æ•°é‡</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>, j = <span class="number">0</span>, tot = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">        cnts[fs[i]]++;</span><br><span class="line">        <span class="keyword">if</span> (cnts[fs[i]] == <span class="number">1</span>) tot++;<span class="comment">//ç¬¬ä¸€æ¬¡å‡ºç° ç¯®å­çš„ç§ç±»++</span></span><br><span class="line">        <span class="comment">//å½“ç§ç±»æ•°é‡å¤§äº2æ—¶ï¼Œä½¿çª—å£å·¦ä¾§æ”¶ç¼©ï¼Œå¹¶ä¸”é™¤å»å¯¹åº”çš„æ°´æœç§ç±»åœ¨cntsä¸­çš„æ•°é‡</span></span><br><span class="line">        <span class="comment">//å½“ä¸º0æ—¶åˆ™å½»åº•åœ¨çª—å£ä¸­é™¤å»è¯¥ç§æ°´æœ</span></span><br><span class="line">        <span class="keyword">while</span> (tot &gt; <span class="number">2</span>) &#123;</span><br><span class="line">            cnts[fs[j]]--;<span class="comment">//ç¼©çª—å£</span></span><br><span class="line">            <span class="keyword">if</span> (cnts[fs[j]] == <span class="number">0</span>) tot--;<span class="comment">//ç¯®å­ç§ç±»æ•°--</span></span><br><span class="line">            j++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//å³æ—¶æ¯”è¾ƒåˆ¤æ–­çª—å£ä¸­æ°´æœæ ‘çš„æ•°é‡ï¼Œç»è¿‡å‰ä¸¤æ­¥çª—å£ä¸­çš„ä¸œè¥¿ä¸€å®šæ˜¯æ»¡è¶³é¢˜ä¹‰çš„</span></span><br><span class="line">        res = Math.max(res, i - j + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-3ã€LC76-æœ€å°è¦†ç›–å­—ä¸²"><a href="#3-3ã€LC76-æœ€å°è¦†ç›–å­—ä¸²" class="headerlink" title="3.3ã€LC76. æœ€å°è¦†ç›–å­—ä¸²"></a>3.3ã€LC76. æœ€å°è¦†ç›–å­—ä¸²</h3><p>ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² <code>s</code> ã€ä¸€ä¸ªå­—ç¬¦ä¸² <code>t</code> ã€‚è¿”å› <code>s</code> ä¸­æ¶µç›– <code>t</code> æ‰€æœ‰å­—ç¬¦çš„æœ€å°å­ä¸²ã€‚å¦‚æœ <code>s</code> ä¸­ä¸å­˜åœ¨æ¶µç›– <code>t</code> æ‰€æœ‰å­—ç¬¦çš„å­ä¸²ï¼Œåˆ™è¿”å›ç©ºå­—ç¬¦ä¸² <code>&quot;&quot;</code> ã€‚</p>
<p><strong>æ³¨æ„ï¼š</strong></p>
<ul>
<li>å¯¹äº <code>t</code> ä¸­é‡å¤å­—ç¬¦ï¼Œæˆ‘ä»¬å¯»æ‰¾çš„å­å­—ç¬¦ä¸²ä¸­è¯¥å­—ç¬¦æ•°é‡å¿…é¡»ä¸å°‘äº <code>t</code> ä¸­è¯¥å­—ç¬¦æ•°é‡ã€‚</li>
<li>å¦‚æœ <code>s</code> ä¸­å­˜åœ¨è¿™æ ·çš„å­ä¸²ï¼Œæˆ‘ä»¬ä¿è¯å®ƒæ˜¯å”¯ä¸€çš„ç­”æ¡ˆã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;ADOBECODEBANC&quot;, t = &quot;ABC&quot;</span><br><span class="line">è¾“å‡ºï¼š&quot;BANC&quot;</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;a&quot;, t = &quot;a&quot;</span><br><span class="line">è¾“å‡ºï¼š&quot;a&quot;</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: s = &quot;a&quot;, t = &quot;aa&quot;</span><br><span class="line">è¾“å‡º: &quot;&quot;</span><br><span class="line">è§£é‡Š: t ä¸­ä¸¤ä¸ªå­—ç¬¦ &#x27;a&#x27; å‡åº”åŒ…å«åœ¨ s çš„å­ä¸²ä¸­ï¼Œ</span><br><span class="line">å› æ­¤æ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„å­å­—ç¬¦ä¸²ï¼Œè¿”å›ç©ºå­—ç¬¦ä¸²ã€‚</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= s.length, t.length &lt;= 105</code></li>
<li><code>s</code> å’Œ <code>t</code> ç”±è‹±æ–‡å­—æ¯ç»„æˆ</li>
</ul>
<p><strong>è¿›é˜¶ï¼š</strong>ä½ èƒ½è®¾è®¡ä¸€ä¸ªåœ¨ <code>o(n)</code> æ—¶é—´å†…è§£å†³æ­¤é—®é¢˜çš„ç®—æ³•å—ï¼Ÿ</p>
<p>Related Topics</p>
<p>å“ˆå¸Œè¡¨</p>
<p>å­—ç¬¦ä¸²</p>
<p>æ»‘åŠ¨çª—å£</p>
<p><strong>è§£æ³•æ€è·¯ï¼š</strong></p>
<ol>
<li>åˆ›å»ºä¸¤ä¸ªmapï¼Œåˆ†åˆ«è¡¨ç¤ºéœ€è¦çš„å­—ç¬¦sonMapåŠå…¶ä¸ªæ•°å’Œå½“å‰çš„å­—ç¬¦(åªç»Ÿè®¡å­ä¸²å«æœ‰çš„å­—ç¬¦)matherMapåŠå…¶ä¸ªæ•°ã€‚</li>
<li>åˆ©ç”¨æ»‘åŠ¨çª—å£çš„æ€æƒ³ï¼Œéå†å³æŒ‡é’ˆã€‚</li>
<li>å³æŒ‡é’ˆéå†è¿‡çš„å­—ç¬¦å¦‚æœæœ‰è¦åŒ¹é…çš„å­—ç¬¦ï¼ŒåŠ åˆ°mapä¸­å»ã€‚ç»Ÿè®¡å·²ç»åŒ¹é…å­—ç¬¦çš„è®¡æ•°å™¨ã€‚</li>
<li>å¦‚æœå·²ç»åŒ¹é…ä¸Šäº†ï¼Œæ›´æ–°åŒ¹é…çš„å­—ä¸²ï¼ŒæŠŠå·¦æŒ‡é’ˆå¼€å§‹å³ç§»ï¼Œçª—å£æ”¶ç¼©ï¼Œæ›´æ–°matherMapçš„æ•°æ®ã€‚</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> String <span class="title function_">minWindow</span><span class="params">(String s, String t)</span> &#123;</span><br><span class="line">    <span class="comment">//ä¸¤ä¸ªmap,ä¸€ä¸ªå­˜æ”¾éœ€è¦çš„å­—ç¬¦ï¼Œä¸€ä¸ªå­˜æ”¾å½“å‰çš„å­—ç¬¦</span></span><br><span class="line">    Map&lt;Character, Integer&gt; sonMap = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    Map&lt;Character, Integer&gt; matherMap = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//éå†åŒ¹é…çš„å­—ä¸²</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; t.length(); i++) &#123;</span><br><span class="line">        <span class="type">char</span> <span class="variable">cur</span> <span class="operator">=</span> t.charAt(i);</span><br><span class="line">        sonMap.put(cur, sonMap.getOrDefault(cur, <span class="number">0</span>) + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>;<span class="comment">//èµ·å§‹</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> <span class="number">0</span>;<span class="comment">//ç»ˆæ­¢</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">finishCount</span> <span class="operator">=</span> <span class="number">0</span>;<span class="comment">//è®¡æ•°å™¨</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">res</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">minLen</span> <span class="operator">=</span> s.length();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (right &lt; s.length()) &#123;</span><br><span class="line">        <span class="type">char</span> <span class="variable">cur</span> <span class="operator">=</span> s.charAt(right);</span><br><span class="line">        <span class="keyword">if</span> (sonMap.containsKey(cur)) &#123; <span class="comment">//å­—ä¸²ä¸­éœ€è¦è¿™ä¸ªå­—ç¬¦</span></span><br><span class="line">            matherMap.put(cur, matherMap.getOrDefault(cur, <span class="number">0</span>) + <span class="number">1</span>);</span><br><span class="line">            <span class="comment">// ä¸¤ä¸ªIntegerå¯¹è±¡æ¯”è¾ƒæ—¶ï¼Œä¸èƒ½ä½¿ç”¨ == ï¼Œè¦ä½¿ç”¨equalsï¼Œå¦‚æœä½¿ç”¨ == ï¼Œåœ¨[-128,127]èŒƒå›´å†…æ­£å¸¸ï¼ŒèŒƒå›´å¤–ä¸æ­£å¸¸</span></span><br><span class="line">            <span class="keyword">if</span> (sonMap.get(cur).equals(matherMap.get(cur))) &#123; <span class="comment">//ä¸€é¡¹å·²ç»åŒ¹é…äº†</span></span><br><span class="line">                finishCount++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        right++;</span><br><span class="line">        <span class="comment">//è®¡æ•°å™¨æ»¡è¶³è¦æ±‚ï¼Œç¼©å°çª—å£</span></span><br><span class="line">        <span class="keyword">while</span> (finishCount == sonMap.size()) &#123;</span><br><span class="line">            <span class="type">char</span> <span class="variable">leftCur</span> <span class="operator">=</span> s.charAt(left);</span><br><span class="line">            <span class="keyword">if</span> (matherMap.containsKey(leftCur) &amp;&amp; matherMap.get(leftCur) &gt;= sonMap.get(leftCur)) &#123;</span><br><span class="line">                <span class="comment">//è®°å½•æ»¡è¶³æ¡ä»¶çš„æœ€å°å­—ä¸²</span></span><br><span class="line">                <span class="type">String</span> <span class="variable">temp</span> <span class="operator">=</span> s.substring(left, right);</span><br><span class="line">                <span class="keyword">if</span> (temp.length() &lt;= minLen) &#123;</span><br><span class="line">                    res = temp;</span><br><span class="line">                    minLen = temp.length();</span><br><span class="line">                &#125;</span><br><span class="line">                matherMap.put(leftCur, matherMap.get(leftCur) - <span class="number">1</span>);</span><br><span class="line">                <span class="keyword">if</span> (sonMap.get(leftCur) &gt; matherMap.get(leftCur)) &#123;</span><br><span class="line">                    finishCount--;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            left++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-4ã€LC3-æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²"><a href="#3-4ã€LC3-æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²" class="headerlink" title="3.4ã€LC3. æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²"></a>3.4ã€LC3. æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²</h3><p>ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² <code>s</code> ï¼Œè¯·ä½ æ‰¾å‡ºå…¶ä¸­ä¸å«æœ‰é‡å¤å­—ç¬¦çš„ <strong>æœ€é•¿å­ä¸²</strong> çš„é•¿åº¦ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: s = &quot;abcabcbb&quot;</span><br><span class="line">è¾“å‡º: 3 </span><br><span class="line">è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ &quot;abc&quot;ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 3ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: s = &quot;bbbbb&quot;</span><br><span class="line">è¾“å‡º: 1</span><br><span class="line">è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ &quot;b&quot;ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 1ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: s = &quot;pwwkew&quot;</span><br><span class="line">è¾“å‡º: 3</span><br><span class="line">è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ &quot;wke&quot;ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 3ã€‚</span><br><span class="line">     è¯·æ³¨æ„ï¼Œä½ çš„ç­”æ¡ˆå¿…é¡»æ˜¯ å­ä¸² çš„é•¿åº¦ï¼Œ&quot;pwke&quot; æ˜¯ä¸€ä¸ªå­åºåˆ—ï¼Œä¸æ˜¯å­ä¸²ã€‚</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>0 &lt;= s.length &lt;= 5 * 104</code></li>
<li><code>s</code> ç”±è‹±æ–‡å­—æ¯ã€æ•°å­—ã€ç¬¦å·å’Œç©ºæ ¼ç»„æˆ</li>
</ul>
<p>Related Topics</p>
<p>å“ˆå¸Œè¡¨</p>
<p>å­—ç¬¦ä¸²</p>
<p>æ»‘åŠ¨çª—å£</p>
<p>ğŸ‘ 8536</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>å› ä¸ºè¦æ‰¾åˆ°ä¸é‡å¤çš„å­—ç¬¦æœ€å¤§é•¿åº¦ï¼Œåœ¨çª—å£è¿›è¡Œä¼¸ç¼©çš„åˆ¤æ–­ä¸­ï¼Œæœ‰å¯èƒ½çª—å£é‡Œçš„å…ƒç´ ä¸è¦æ‰©å­—ç¬¦çš„å€¼ç›¸åŒï¼Œå› æ­¤é‡‡ç”¨å“ˆå¸Œè¡¨è¿›è¡Œè®°å½•ã€‚å“ˆå¸Œè¡¨è®°å½•çš„æ˜¯å­—ç¬¦ä¸ä¸‹æ ‡çš„å¯¹åº”å…³ç³»ï¼Œå½“éå†åˆ°ä¸€ä¸ªæ–°å­—ç¬¦ï¼Œå°±æŠŠä»–åŠ å…¥åˆ°å“ˆå¸Œè¡¨ä¸­ï¼›å½“éå†åˆ°ä¸€ä¸ªå­˜åœ¨çš„å­—ç¬¦ï¼Œå°±å¯¹çª—å£çš„å·¦è¾¹ç•Œè¿›è¡Œæ”¶ç¼©ï¼Œå¹¶ä¸”æ›´æ–°å­—ç¬¦å¯¹åº”çš„ä¸‹æ ‡ä½ç½®ã€‚</p>
<p><strong>ç®—æ³•æµç¨‹</strong>ï¼š</p>
<ol>
<li><p>é¦–å…ˆï¼Œåˆ¤æ–­å½“å‰å­—ç¬¦æ˜¯å¦åŒ…å«åœ¨mapä¸­ï¼Œå¦‚æœä¸åŒ…å«ï¼Œå°†è¯¥å­—ç¬¦æ·»åŠ åˆ°mapï¼ˆå­—ç¬¦ï¼Œå­—ç¬¦åœ¨æ•°ç»„ä¸‹æ ‡ï¼‰, æ­¤æ—¶æ²¡æœ‰å‡ºç°é‡å¤çš„å­—ç¬¦ï¼Œå·¦æŒ‡é’ˆä¸éœ€è¦å˜åŒ–ã€‚æ­¤æ—¶ä¸é‡å¤å­ä¸²çš„é•¿åº¦ä¸ºï¼ši - left + 1ï¼Œä¸åŸæ¥çš„ maxLen æ¯”è¾ƒï¼Œå–æœ€å¤§å€¼ï¼›</p>
</li>
<li><p>å¦‚æœå½“å‰å­—ç¬¦ ch åŒ…å«åœ¨ mapä¸­ï¼Œæ­¤æ—¶æœ‰2ç±»æƒ…å†µï¼š</p>
<ol>
<li>å½“å‰å­—ç¬¦åŒ…å«åœ¨å½“å‰æœ‰æ•ˆçš„å­æ®µä¸­ï¼Œå¦‚ï¼šabcaï¼Œå½“æˆ‘ä»¬éå†åˆ°ç¬¬äºŒä¸ªaï¼Œå½“å‰æœ‰æ•ˆæœ€é•¿å­æ®µæ˜¯ abcï¼Œæˆ‘ä»¬åˆéå†åˆ°aï¼Œé‚£ä¹ˆæ­¤æ—¶æ›´æ–° left ä¸º map.get(a)+1&#x3D;1ï¼Œå½“å‰æœ‰æ•ˆå­æ®µæ›´æ–°ä¸º bcaï¼›</li>
<li>å½“å‰å­—ç¬¦ä¸åŒ…å«åœ¨å½“å‰æœ€é•¿æœ‰æ•ˆå­æ®µä¸­ï¼Œå¦‚ï¼šabbaï¼Œæˆ‘ä»¬å…ˆæ·»åŠ a,bè¿›mapï¼Œæ­¤æ—¶left&#x3D;0ï¼Œæˆ‘ä»¬å†æ·»åŠ bï¼Œå‘ç°mapä¸­åŒ…å«bï¼Œè€Œä¸”båŒ…å«åœ¨æœ€é•¿æœ‰æ•ˆå­æ®µä¸­ï¼Œå°±æ˜¯1ï¼‰çš„æƒ…å†µï¼Œæˆ‘ä»¬æ›´æ–° left&#x3D;map.get(b)+1&#x3D;2ï¼Œæ­¤æ—¶å­æ®µæ›´æ–°ä¸º bï¼Œè€Œä¸”mapä¸­ä»ç„¶åŒ…å«aï¼Œmap.get(a)&#x3D;0ï¼›éšåï¼Œæˆ‘ä»¬éå†åˆ°aï¼Œå‘ç°aåŒ…å«åœ¨mapä¸­ï¼Œä¸”map.get(a)&#x3D;0ï¼Œå¦‚æœæˆ‘ä»¬åƒ1ï¼‰ä¸€æ ·å¤„ç†ï¼Œå°±ä¼šå‘ç° left&#x3D;map.get(a)+1&#x3D;1ï¼Œå®é™…ä¸Šï¼Œleftæ­¤æ—¶åº”è¯¥ä¸å˜ï¼Œleftå§‹ç»ˆä¸º2ï¼Œå­æ®µå˜æˆ baæ‰å¯¹ã€‚</li>
</ol>
</li>
</ol>
<p>ä¸ºäº†å¤„ç†ä»¥ä¸Š2ç±»æƒ…å†µï¼Œæˆ‘ä»¬æ¯æ¬¡æ›´æ–°leftï¼Œleft&#x3D;Math.max(left , map.get(ch)+1).<br>å¦å¤–ï¼Œæ›´æ–°leftåï¼Œä¸ç®¡åŸæ¥çš„ s.charAt(i) æ˜¯å¦åœ¨æœ€é•¿å­æ®µä¸­ï¼Œæˆ‘ä»¬éƒ½è¦å°† s.charAt(i) çš„ä½ç½®æ›´æ–°ä¸ºå½“å‰çš„iï¼Œ<br>å› æ­¤æ­¤æ—¶æ–°çš„ s.charAt(i) å·²ç»è¿›å…¥åˆ° å½“å‰æœ€é•¿çš„å­æ®µä¸­ï¼</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">lengthOfLongestSubstring</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        HashMap&lt;Character, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        <span class="type">int</span> <span class="variable">maxLen</span> <span class="operator">=</span> <span class="number">0</span>;<span class="comment">//ç”¨äºè®°å½•æœ€å¤§ä¸é‡å¤å­ä¸²çš„é•¿åº¦</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>;<span class="comment">//æ»‘åŠ¨çª—å£å·¦æŒ‡é’ˆ</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; s.length() ; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(map.containsKey(s.charAt(i))) &#123;</span><br><span class="line">                left = Math.max(left , map.get(s.charAt(i))+<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//ä¸ç®¡æ˜¯å¦æ›´æ–°leftï¼Œéƒ½è¦æ›´æ–° s.charAt(i) çš„ä½ç½®ï¼</span></span><br><span class="line">            map.put(s.charAt(i) , i);</span><br><span class="line">            maxLen = Math.max(maxLen , i-left+<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> maxLen;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>



<h2 id="å››ã€æ¨¡æ‹Ÿ"><a href="#å››ã€æ¨¡æ‹Ÿ" class="headerlink" title="å››ã€æ¨¡æ‹Ÿ"></a>å››ã€æ¨¡æ‹Ÿ</h2><p>å¾ªç¯ä¸å˜é‡ï¼šåœ¨å¾ªç¯è¿‡ç¨‹ä¸­ä¿æŒä¸å˜çš„æ€§è´¨ã€‚</p>
<h3 id="4-1ã€LC54-èºæ—‹çŸ©é˜µ"><a href="#4-1ã€LC54-èºæ—‹çŸ©é˜µ" class="headerlink" title="4.1ã€LC54. èºæ—‹çŸ©é˜µ"></a>4.1ã€LC54. èºæ—‹çŸ©é˜µ</h3><p>ä»å¤–éƒ¨å‘å†…éƒ¨é€å±‚éå†æ‰“å°çŸ©é˜µï¼Œæœ€å¤–é¢ä¸€åœˆæ‰“å°å®Œï¼Œé‡Œé¢ä»ç„¶æ˜¯ä¸€ä¸ªçŸ©é˜µ</p>
<p>ç»Ÿè®¡çŸ©é˜µçš„å±‚æ•°ï¼Œæ¯ä¸€å±‚æœ€å¤šä¼šå æ®ä¸¤è¡Œæˆ–è€…ä¸¤åˆ—ï¼Œæœ€å°‘ä¼šå æ®ä¸€è¡Œæˆ–è€…ä¸€åˆ—å…ƒç´ ï¼Œåªæœ‰ä¸€å±‚æˆ–è€…ä¸€åˆ—ï¼Œä¹Ÿç®—ä¸€å±‚ï¼Œåˆ†å±‚å¦‚ä¸‹å›¾ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.leetcode-cn.com/6936cb00971072cf40e96462e782aa47563fa4b24831d72749699c8fd9af7255-%E8%9E%BA%E6%97%8B%E7%9F%A9%E9%98%B5.JPG" alt="èºæ—‹çŸ©é˜µ.JPG"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202210261749987.jpeg" alt="èºæ—‹çŸ©é˜µ1.JPG"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> matrix.length;</span><br><span class="line"><span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> matrix[<span class="number">0</span>].length;</span><br><span class="line"><span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> (Math.min(m, n)+<span class="number">1</span>)/<span class="number">2</span>;</span><br></pre></td></tr></table></figure>

<p><strong>å·¦é—­å³é—­</strong></p>
<p>å¼€å§‹æ‰“å°ç¬¬ <code>i</code> å±‚çš„çŸ©é˜µå…ƒç´ </p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.leetcode-cn.com/a2e0022203893856ec9baa3fa3db6b0b1e6e49b4f3955e086f437852ec88a31d-%E8%9E%BA%E6%97%8B%E7%9F%A9%E9%98%B52.JPG" alt="èºæ—‹çŸ©é˜µ2.JPG"></p>
<p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œå†æ‰“å°ç¬¬iå±‚çš„çŸ©é˜µæ—¶ï¼Œè¦ç»å†4ä¸ªå¾ªç¯ï¼š</p>
<p>ç¬¬ 1 ä¸ªï¼šä»å·¦å‘å³</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for (int j = i; j &lt; n-i; j++) &#123;</span><br><span class="line">    list.add(matrix[i][j]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç¬¬ 2 ä¸ªï¼šä»ä¸Šå¾€ä¸‹</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for (int j = i+1; j &lt; m-i; j++) &#123;</span><br><span class="line">    list.add(matrix[j][(n-1)-i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç¬¬ 3 ä¸ªï¼šä»å³å¾€å·¦ï¼Œå¦‚æœè¿™ä¸€å±‚åªæœ‰1è¡Œï¼Œé‚£ä¹ˆç¬¬ä¸€ä¸ªå¾ªç¯å·²ç»å°†è¯¥è¡Œæ‰“å°äº†ï¼Œè¿™é‡Œå°±ä¸éœ€è¦æ‰“å°äº†ï¼Œå³ <code>ï¼ˆm-1-i ï¼‰!= i</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for (int j = (n-1)-(i+1); j &gt;= i &amp;&amp; (m-1-i != i); j--) &#123;</span><br><span class="line">    list.add(matrix[(m-1)-i][j]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç¬¬4ä¸ªï¼šä»ä¸‹å¾€ä¸Šï¼Œå¦‚æœè¿™ä¸€å±‚åªæœ‰1åˆ—ï¼Œé‚£ä¹ˆç¬¬2ä¸ªå¾ªç¯å·²ç»å°†è¯¥åˆ—æ‰“å°äº†ï¼Œè¿™é‡Œä¸éœ€è¦æ‰“å°ï¼Œå³<code>(n-1-i) != i</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for (int j = (m-1)-(i+1); j &gt;= i+1 &amp;&amp; (n-1-i) != i; j--) &#123;</span><br><span class="line">    list.add(matrix[j][i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title function_">spiralOrder</span><span class="params">(<span class="type">int</span>[][] matrix)</span> &#123;</span><br><span class="line">    <span class="comment">//ä¿æŒå·¦é—­å³å¼€</span></span><br><span class="line">    List&lt;Integer&gt; res = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;<span class="comment">//å¾ªç¯çš„æ¬¡æ•°</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> matrix.length;</span><br><span class="line">    <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> matrix[<span class="number">0</span>].length;</span><br><span class="line">    <span class="comment">//ç»Ÿè®¡çŸ©é˜µä»å¤–å‘å†…çš„å±‚æ•°ï¼Œå¦‚æœçŸ©é˜µéç©ºï¼Œé‚£ä¹ˆå®ƒçš„å±‚æ•°è‡³å°‘ä¸º1å±‚</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> (Math.min(m, n)+<span class="number">1</span>)/<span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (i &lt; count) &#123;</span><br><span class="line">        <span class="comment">//ä¸Šä¾§ å·¦.å³</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i; j &lt; n - i; j++) &#123;</span><br><span class="line">            res.add(matrix[i][j]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//å³ä¾§ ä¸Š.ä¸‹</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i + <span class="number">1</span>; j &lt; m - i; j++) &#123;</span><br><span class="line">            res.add(matrix[j][(n - <span class="number">1</span>) - i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//ä¸‹å†Œ å³.å·¦</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> (n - <span class="number">1</span>) - (i + <span class="number">1</span>); j &gt;= i &amp;&amp; (m - <span class="number">1</span> - i != i); j--) &#123;</span><br><span class="line">            res.add(matrix[(m - <span class="number">1</span>) - i][j]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//å·¦ä¾§ ä¸‹.ä¸Š</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> (m - <span class="number">1</span>) - (i + <span class="number">1</span>); j &gt;= i + <span class="number">1</span> &amp;&amp; (n - <span class="number">1</span> - i) != i; j--) &#123;</span><br><span class="line">            res.add(matrix[j][i]);</span><br><span class="line">        &#125;</span><br><span class="line">        i++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-2ã€LC59-èºæ—‹çŸ©é˜µII"><a href="#4-2ã€LC59-èºæ—‹çŸ©é˜µII" class="headerlink" title="4.2ã€LC59. èºæ—‹çŸ©é˜µII"></a>4.2ã€LC59. èºæ—‹çŸ©é˜µII</h3><ul>
<li>å¡«å……ä¸Šè¡Œä»å·¦åˆ°å³</li>
<li>å¡«å……å³åˆ—ä»ä¸Šåˆ°ä¸‹</li>
<li>å¡«å……ä¸‹è¡Œä»å³åˆ°å·¦</li>
<li>å¡«å……å·¦åˆ—ä»ä¸‹åˆ°ä¸Š</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://code-thinking-1253855093.file.myqcloud.com/pics/20220922102236.png" alt="img"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span>[][] generateMatrix(<span class="type">int</span> n) &#123;</span><br><span class="line">    <span class="type">int</span>[][] res = <span class="keyword">new</span> <span class="title class_">int</span>[n][n];</span><br><span class="line">    <span class="type">int</span> <span class="variable">loop</span> <span class="operator">=</span> <span class="number">0</span>;<span class="comment">//æ§åˆ¶å¾ªç¯æ¬¡æ•°</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">start</span> <span class="operator">=</span> <span class="number">0</span>;<span class="comment">//æ¯ä¸€æ¬¡å¼€å§‹çš„ç‚¹(start,start)</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">1</span>;<span class="comment">//å¡«å……çš„æ•°å­—</span></span><br><span class="line">    <span class="type">int</span> i,j;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (loop++ &lt; n / <span class="number">2</span>) &#123;</span><br><span class="line">        <span class="comment">// æ¨¡æ‹Ÿä¸Šä¾§ä»å·¦åˆ°å³</span></span><br><span class="line">        <span class="keyword">for</span> (j = start; j &lt; n - loop; j++) &#123;</span><br><span class="line">            res[start][j] = count++;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ¨¡æ‹Ÿå³ä¾§ä»ä¸Šåˆ°ä¸‹</span></span><br><span class="line">        <span class="keyword">for</span> (i = start; i &lt; n - loop; i++) &#123;</span><br><span class="line">            res[i][j] = count++;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ¨¡æ‹Ÿä¸‹ä¾§ä»å³åˆ°å·¦</span></span><br><span class="line">        <span class="keyword">for</span> (; j &gt;= loop; j--) &#123;</span><br><span class="line">            res[i][j] = count++;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ¨¡æ‹Ÿå·¦ä¾§ä»ä¸‹åˆ°ä¸Š</span></span><br><span class="line">        <span class="keyword">for</span> (; i &gt;= loop; i--) &#123;</span><br><span class="line">            res[i][j] = count++;</span><br><span class="line">        &#125;</span><br><span class="line">        start++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (n % <span class="number">2</span> == <span class="number">1</span>) &#123; <span class="comment">//ä¸­é—´ä½ç½®</span></span><br><span class="line">        res[start][start] = count;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-3ã€å‰‘æŒ‡Offer29-é¡ºæ—¶é’ˆæ‰“å°çŸ©é˜µ"><a href="#4-3ã€å‰‘æŒ‡Offer29-é¡ºæ—¶é’ˆæ‰“å°çŸ©é˜µ" class="headerlink" title="4.3ã€å‰‘æŒ‡Offer29. é¡ºæ—¶é’ˆæ‰“å°çŸ©é˜µ"></a>4.3ã€å‰‘æŒ‡Offer29. é¡ºæ—¶é’ˆæ‰“å°çŸ©é˜µ</h3><p>è¾“å…¥ä¸€ä¸ªçŸ©é˜µï¼ŒæŒ‰ç…§ä»å¤–å‘é‡Œä»¥é¡ºæ—¶é’ˆçš„é¡ºåºä¾æ¬¡æ‰“å°å‡ºæ¯ä¸€ä¸ªæ•°å­—ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šmatrix = [[1,2,3],[4,5,6],[7,8,9]]</span><br><span class="line">è¾“å‡ºï¼š[1,2,3,6,9,8,7,4,5]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šmatrix = [[1,2,3,4],[5,6,7,8],[9,10,11,12]]</span><br><span class="line">è¾“å‡ºï¼š[1,2,3,4,8,12,11,10,9,5,6,7]</span><br></pre></td></tr></table></figure>



<p><strong>é™åˆ¶ï¼š</strong></p>
<ul>
<li><code>0 &lt;= matrix.length &lt;= 100</code></li>
<li><code>0 &lt;= matrix[i].length &lt;= 100</code></li>
</ul>
<p>æ³¨æ„ï¼šæœ¬é¢˜ä¸ä¸»ç«™ 54 é¢˜ç›¸åŒï¼š<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/spiral-matrix/">https://leetcode-cn.com/problems/spiral-matrix/</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span>[] spiralOrder(<span class="type">int</span>[][] matrix) &#123;</span><br><span class="line">    <span class="keyword">if</span> (matrix.length == <span class="number">0</span> || matrix[<span class="number">0</span>].length == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">int</span>[]&#123;&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    List&lt;Integer&gt; res = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;<span class="comment">//æ§åˆ¶å¾ªç¯åœˆæ•°</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> matrix.length;</span><br><span class="line">    <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> matrix[<span class="number">0</span>].length;</span><br><span class="line">    <span class="type">int</span> <span class="variable">loop</span> <span class="operator">=</span> (Math.min(m, n) + <span class="number">1</span>) / <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (i &lt; loop) &#123;</span><br><span class="line">        <span class="comment">//ä¸Š ä»å·¦åˆ°å³</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i; j &lt; n - i; j++) &#123;</span><br><span class="line">            res.add(matrix[i][j]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//å³ ä»ä¸Šåˆ°ä¸‹</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i + <span class="number">1</span>; j &lt; m - i; j++) &#123;</span><br><span class="line">            res.add(matrix[j][(n - <span class="number">1</span>) - i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//ä¸‹ ä»å³åˆ°å·¦</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> n - <span class="number">1</span> - i - <span class="number">1</span>; j &gt;= i &amp;&amp; m - <span class="number">1</span> - i != i; j--) &#123;</span><br><span class="line">            res.add(matrix[(m - <span class="number">1</span> - i)][j]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//å·¦ ä»ä¸‹åˆ°ä¸Š</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> m - <span class="number">1</span> - <span class="number">1</span> - i; j &gt;= i + <span class="number">1</span> &amp;&amp; n - <span class="number">1</span> - i != i; j--) &#123;</span><br><span class="line">            res.add(matrix[j][i]);</span><br><span class="line">        &#125;</span><br><span class="line">        i++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res.stream().mapToInt(Integer::valueOf).toArray();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>æ ¹æ®é¢˜ç›®ç¤ºä¾‹ matrix &#x3D; [[1,2,3],[4,5,6],[7,8,9]] çš„å¯¹åº”è¾“å‡º [1,2,3,6,9,8,7,4,5] å¯ä»¥å‘ç°ï¼Œé¡ºæ—¶é’ˆæ‰“å°çŸ©é˜µçš„é¡ºåºæ˜¯ â€œ<strong>ä»å·¦å‘å³ã€ä»ä¸Šå‘ä¸‹ã€ä»å³å‘å·¦ã€ä»ä¸‹å‘ä¸Š</strong>â€ å¾ªç¯ã€‚</p>
<p>å› æ­¤ï¼Œè€ƒè™‘è®¾å®šçŸ©é˜µçš„ â€œå·¦ã€ä¸Šã€å³ã€ä¸‹â€ å››ä¸ªè¾¹ç•Œï¼Œæ¨¡æ‹Ÿä»¥ä¸ŠçŸ©é˜µéå†é¡ºåºã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/7605d807782923e4ad3c7995dc2485f538f202ac326bb330fe997f449123a548-Picture1.png" alt="Picture1.png"></p>
<p><strong>ç®—æ³•æµç¨‹</strong>ï¼š</p>
<ol>
<li>ç©ºå€¼å¤„ç†ï¼š å½“ matrix ä¸ºç©ºæ—¶ï¼Œç›´æ¥è¿”å›ç©ºåˆ—è¡¨ [] å³å¯ã€‚</li>
<li>åˆå§‹åŒ–ï¼š çŸ©é˜µ å·¦ã€å³ã€ä¸Šã€ä¸‹ å››ä¸ªè¾¹ç•Œ l , r , t , b ï¼Œç”¨äºæ‰“å°çš„ç»“æœåˆ—è¡¨ res ã€‚</li>
<li>å¾ªç¯æ‰“å°ï¼š â€œä»å·¦å‘å³ã€ä»ä¸Šå‘ä¸‹ã€ä»å³å‘å·¦ã€ä»ä¸‹å‘ä¸Šâ€ å››ä¸ªæ–¹å‘å¾ªç¯æ‰“å°ï¼›<ol>
<li>æ ¹æ®è¾¹ç•Œæ‰“å°ï¼Œå³å°†å…ƒç´ æŒ‰é¡ºåºæ·»åŠ è‡³åˆ—è¡¨ res å°¾éƒ¨ï¼›</li>
<li>è¾¹ç•Œå‘å†…æ”¶ç¼© 1 ï¼ˆä»£è¡¨å·²è¢«æ‰“å°ï¼‰ï¼›</li>
<li>åˆ¤æ–­è¾¹ç•Œæ˜¯å¦ç›¸é‡ï¼ˆæ˜¯å¦æ‰“å°å®Œæ¯•ï¼‰ï¼Œè‹¥æ‰“å°å®Œæ¯•åˆ™è·³å‡ºã€‚</li>
</ol>
</li>
<li>è¿”å›å€¼ï¼š è¿”å› res å³å¯ã€‚</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/image-20221221141406885.png" alt="image-20221221141406885"></p>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(MN) ï¼š M, N åˆ†åˆ«ä¸ºçŸ©é˜µè¡Œæ•°å’Œåˆ—æ•°ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(1) ï¼š å››ä¸ªè¾¹ç•Œ l , r , t , b ä½¿ç”¨å¸¸æ•°å¤§å°çš„é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[] spiralOrder(<span class="type">int</span>[][] matrix) &#123;</span><br><span class="line">        <span class="keyword">if</span>(matrix.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">0</span>];</span><br><span class="line">        <span class="type">int</span> <span class="variable">l</span> <span class="operator">=</span> <span class="number">0</span>, r = matrix[<span class="number">0</span>].length - <span class="number">1</span>, t = <span class="number">0</span>, b = matrix.length - <span class="number">1</span>, x = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span>[] res = <span class="keyword">new</span> <span class="title class_">int</span>[(r + <span class="number">1</span>) * (b + <span class="number">1</span>)];</span><br><span class="line">        <span class="keyword">while</span>(<span class="literal">true</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> l; i &lt;= r; i++) res[x++] = matrix[t][i]; <span class="comment">// left to right</span></span><br><span class="line">            <span class="keyword">if</span>(++t &gt; b) <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> t; i &lt;= b; i++) res[x++] = matrix[i][r]; <span class="comment">// top to bottom</span></span><br><span class="line">            <span class="keyword">if</span>(l &gt; --r) <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> r; i &gt;= l; i--) res[x++] = matrix[b][i]; <span class="comment">// right to left</span></span><br><span class="line">            <span class="keyword">if</span>(t &gt; --b) <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> b; i &gt;= t; i--) res[x++] = matrix[i][l]; <span class="comment">// bottom to top</span></span><br><span class="line">            <span class="keyword">if</span>(++l &gt; r) <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-4ã€å‰‘æŒ‡-Offer-31-æ ˆçš„å‹å…¥ã€å¼¹å‡ºåºåˆ—"><a href="#4-4ã€å‰‘æŒ‡-Offer-31-æ ˆçš„å‹å…¥ã€å¼¹å‡ºåºåˆ—" class="headerlink" title="4.4ã€å‰‘æŒ‡ Offer 31. æ ˆçš„å‹å…¥ã€å¼¹å‡ºåºåˆ—"></a>4.4ã€å‰‘æŒ‡ Offer 31. æ ˆçš„å‹å…¥ã€å¼¹å‡ºåºåˆ—</h3><p>è¾“å…¥ä¸¤ä¸ªæ•´æ•°åºåˆ—ï¼Œç¬¬ä¸€ä¸ªåºåˆ—è¡¨ç¤ºæ ˆçš„å‹å…¥é¡ºåºï¼Œè¯·åˆ¤æ–­ç¬¬äºŒä¸ªåºåˆ—æ˜¯å¦ä¸ºè¯¥æ ˆçš„å¼¹å‡ºé¡ºåºã€‚å‡è®¾å‹å…¥æ ˆçš„æ‰€æœ‰æ•°å­—å‡ä¸ç›¸ç­‰ã€‚ä¾‹å¦‚ï¼Œåºåˆ— {1,2,3,4,5} æ˜¯æŸæ ˆçš„å‹æ ˆåºåˆ—ï¼Œåºåˆ— {4,5,3,2,1} æ˜¯è¯¥å‹æ ˆåºåˆ—å¯¹åº”çš„ä¸€ä¸ªå¼¹å‡ºåºåˆ—ï¼Œä½† {4,3,5,1,2} å°±ä¸å¯èƒ½æ˜¯è¯¥å‹æ ˆåºåˆ—çš„å¼¹å‡ºåºåˆ—ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼špushed = [1,2,3,4,5], popped = [4,5,3,2,1]</span><br><span class="line">è¾“å‡ºï¼štrue</span><br><span class="line">è§£é‡Šï¼šæˆ‘ä»¬å¯ä»¥æŒ‰ä»¥ä¸‹é¡ºåºæ‰§è¡Œï¼š</span><br><span class="line">push(1), push(2), push(3), push(4), pop() -&gt; 4,</span><br><span class="line">push(5), pop() -&gt; 5, pop() -&gt; 3, pop() -&gt; 2, pop() -&gt; 1</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼špushed = [1,2,3,4,5], popped = [4,3,5,1,2]</span><br><span class="line">è¾“å‡ºï¼šfalse</span><br><span class="line">è§£é‡Šï¼š1 ä¸èƒ½åœ¨ 2 ä¹‹å‰å¼¹å‡ºã€‚</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ol>
<li><code>0 &lt;= pushed.length == popped.length &lt;= 1000</code></li>
<li><code>0 &lt;= pushed[i], popped[i] &lt; 1000</code></li>
<li><code>pushed</code> æ˜¯ <code>popped</code> çš„æ’åˆ—ã€‚</li>
</ol>
<p>æ³¨æ„ï¼šæœ¬é¢˜ä¸ä¸»ç«™ 946 é¢˜ç›¸åŒï¼š<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/validate-stack-sequences/">https://leetcode-cn.com/problems/validate-stack-sequences/</a></p>
<p>Related Topics</p>
<p>æ ˆ</p>
<p>æ•°ç»„</p>
<p>æ¨¡æ‹Ÿ</p>
<p>ğŸ‘ 395</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œç»™å®šä¸€ä¸ªå‹å…¥åºåˆ— pushed å’Œå¼¹å‡ºåºåˆ— popped ï¼Œåˆ™å‹å…¥ &#x2F; å¼¹å‡ºæ“ä½œçš„é¡ºåºï¼ˆå³æ’åˆ—ï¼‰æ˜¯ å”¯ä¸€ç¡®å®š çš„ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1188474dc6a377fc258004bca84e5a130b663eeb24bf22c4fa4eb998a0249f97-Picture1.png" alt="Picture1.png"></p>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæ ˆçš„æ•°æ®æ“ä½œå…·æœ‰ <strong>å…ˆå…¥åå‡º</strong> çš„ç‰¹æ€§ï¼Œå› æ­¤æŸäº›å¼¹å‡ºåºåˆ—æ˜¯æ— æ³•å®ç°çš„ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/3f43b224553bf3a37f9758dbb41655e547795e293524a148380c6f335af315e4-Picture2.png" alt="Picture2.png"></p>
<p>è€ƒè™‘å€Ÿç”¨ä¸€ä¸ªè¾…åŠ©æ ˆ stack ï¼Œ<strong>æ¨¡æ‹Ÿ</strong> å‹å…¥ &#x2F; å¼¹å‡ºæ“ä½œçš„æ’åˆ—ã€‚æ ¹æ®æ˜¯å¦æ¨¡æ‹ŸæˆåŠŸï¼Œå³å¯å¾—åˆ°ç»“æœã€‚</p>
<ul>
<li>å…¥æ ˆæ“ä½œï¼š æŒ‰ç…§å‹æ ˆåºåˆ—çš„é¡ºåºæ‰§è¡Œã€‚</li>
<li>å‡ºæ ˆæ“ä½œï¼š æ¯æ¬¡å…¥æ ˆåï¼Œå¾ªç¯åˆ¤æ–­ â€œæ ˆé¡¶å…ƒç´  &#x3D;&#x3D; å¼¹å‡ºåºåˆ—çš„å½“å‰å…ƒç´ â€ æ˜¯å¦æˆç«‹ï¼Œå°†ç¬¦åˆå¼¹å‡ºåºåˆ—é¡ºåºçš„æ ˆé¡¶å…ƒç´ å…¨éƒ¨å¼¹å‡ºã€‚</li>
</ul>
<blockquote>
<p>ç”±äºé¢˜ç›®è§„å®š æ ˆçš„æ‰€æœ‰æ•°å­—å‡ä¸ç›¸ç­‰ ï¼Œå› æ­¤åœ¨å¾ªç¯å…¥æ ˆä¸­ï¼Œæ¯ä¸ªå…ƒç´ å‡ºæ ˆçš„ä½ç½®çš„å¯èƒ½æ€§æ˜¯å”¯ä¸€çš„ï¼ˆè‹¥æœ‰é‡å¤æ•°å­—ï¼Œåˆ™å…·æœ‰å¤šä¸ªå¯å‡ºæ ˆçš„ä½ç½®ï¼‰ã€‚å› è€Œï¼Œåœ¨é‡åˆ° â€œæ ˆé¡¶å…ƒç´  &#x3D;&#x3D; å¼¹å‡ºåºåˆ—çš„å½“å‰å…ƒç´ â€ å°±åº”ç«‹å³æ‰§è¡Œå‡ºæ ˆã€‚</p>
</blockquote>
<p><strong>ç®—æ³•æµç¨‹</strong>ï¼š</p>
<ol>
<li>åˆå§‹åŒ–ï¼š è¾…åŠ©æ ˆ stack ï¼Œå¼¹å‡ºåºåˆ—çš„ç´¢å¼• i ï¼›</li>
<li>éå†å‹æ ˆåºåˆ—ï¼š å„å…ƒç´ è®°ä¸º num ï¼›<ol>
<li>å…ƒç´  num å…¥æ ˆï¼›</li>
<li>å¾ªç¯å‡ºæ ˆï¼šè‹¥ stack çš„æ ˆé¡¶å…ƒç´  &#x3D;&#x3D; å¼¹å‡ºåºåˆ—å…ƒç´  popped[i] ï¼Œåˆ™æ‰§è¡Œå‡ºæ ˆä¸ i++ ï¼›</li>
</ol>
</li>
<li>è¿”å›å€¼ï¼š è‹¥ stack ä¸ºç©ºï¼Œåˆ™æ­¤å¼¹å‡ºåºåˆ—åˆæ³•ã€‚</li>
</ol>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(N) ï¼š å…¶ä¸­ N ä¸ºåˆ—è¡¨ pushed çš„é•¿åº¦ï¼›æ¯ä¸ªå…ƒç´ æœ€å¤šå…¥æ ˆä¸å‡ºæ ˆä¸€æ¬¡ï¼Œå³æœ€å¤šå…± 2N æ¬¡å‡ºå…¥æ ˆæ“ä½œã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(N) ï¼š è¾…åŠ©æ ˆ stack æœ€å¤šåŒæ—¶å­˜å‚¨ N ä¸ªå…ƒç´ ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">validateStackSequences</span><span class="params">(<span class="type">int</span>[] pushed, <span class="type">int</span>[] popped)</span> &#123;</span><br><span class="line">    Stack&lt;Integer&gt; stack = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">    <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> num : pushed) &#123;</span><br><span class="line">        stack.push(num); <span class="comment">// æ¨¡æ‹Ÿå…¥æ ˆ</span></span><br><span class="line">        <span class="keyword">while</span> (!stack.isEmpty() &amp;&amp; stack.peek() == popped[i]) &#123; <span class="comment">// å¾ªç¯åˆ¤æ–­ å‡ºæ ˆ</span></span><br><span class="line">            stack.pop();</span><br><span class="line">            i++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> stack.isEmpty();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="äº”ã€æ•°æ®ç»“æ„ç¯‡"><a href="#äº”ã€æ•°æ®ç»“æ„ç¯‡" class="headerlink" title="äº”ã€æ•°æ®ç»“æ„ç¯‡"></a>äº”ã€æ•°æ®ç»“æ„ç¯‡</h2><h3 id="5-1ã€å‰‘æŒ‡-Offer05-æ›¿æ¢ç©ºæ ¼"><a href="#5-1ã€å‰‘æŒ‡-Offer05-æ›¿æ¢ç©ºæ ¼" class="headerlink" title="5.1ã€å‰‘æŒ‡ Offer05. æ›¿æ¢ç©ºæ ¼"></a>5.1ã€å‰‘æŒ‡ Offer05. æ›¿æ¢ç©ºæ ¼</h3><p>è¯·å®ç°ä¸€ä¸ªå‡½æ•°ï¼ŒæŠŠå­—ç¬¦ä¸² <code>s</code> ä¸­çš„æ¯ä¸ªç©ºæ ¼æ›¿æ¢æˆâ€%20â€ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;We are happy.&quot;</span><br><span class="line">è¾“å‡ºï¼š&quot;We%20are%20happy.&quot;</span><br></pre></td></tr></table></figure>



<p><strong>é™åˆ¶ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0 &lt;= s çš„é•¿åº¦ &lt;= 10000</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> String <span class="title function_">replaceSpace</span><span class="params">(String s)</span> &#123;</span><br><span class="line">    <span class="comment">//StringBuilder å•çº¿ç¨‹ä½¿ç”¨ï¼Œæ¯”è¾ƒå¿«</span></span><br><span class="line">    <span class="type">StringBuilder</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (s.charAt(i) == <span class="string">&#x27; &#x27;</span>) &#123;</span><br><span class="line">            sb.append(<span class="string">&quot;%20&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            sb.append(s.charAt(i));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sb.toString();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-2ã€å‰‘æŒ‡-Offer-06-ä»å°¾åˆ°å¤´æ‰“å°é“¾è¡¨"><a href="#5-2ã€å‰‘æŒ‡-Offer-06-ä»å°¾åˆ°å¤´æ‰“å°é“¾è¡¨" class="headerlink" title="5.2ã€å‰‘æŒ‡ Offer 06. ä»å°¾åˆ°å¤´æ‰“å°é“¾è¡¨"></a>5.2ã€å‰‘æŒ‡ Offer 06. ä»å°¾åˆ°å¤´æ‰“å°é“¾è¡¨</h3><p>è¾“å…¥ä¸€ä¸ªé“¾è¡¨çš„å¤´èŠ‚ç‚¹ï¼Œä»å°¾åˆ°å¤´åè¿‡æ¥è¿”å›æ¯ä¸ªèŠ‚ç‚¹çš„å€¼ï¼ˆç”¨æ•°ç»„è¿”å›ï¼‰ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šhead = [1,3,2]</span><br><span class="line">è¾“å‡ºï¼š[2,3,1]</span><br></pre></td></tr></table></figure>



<p><strong>é™åˆ¶ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0 &lt;= é“¾è¡¨é•¿åº¦ &lt;= 10000</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span>[] reversePrint(ListNode head) &#123;</span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">cur</span> <span class="operator">=</span> head;</span><br><span class="line">    <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (cur != <span class="literal">null</span>) &#123;</span><br><span class="line">        count++;</span><br><span class="line">        cur = cur.next;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    cur = head;</span><br><span class="line">    <span class="type">int</span>[] res = <span class="keyword">new</span> <span class="title class_">int</span>[count];</span><br><span class="line">    count--;</span><br><span class="line">    <span class="keyword">while</span> (cur != <span class="literal">null</span>) &#123;</span><br><span class="line">        res[count--] = cur.val;</span><br><span class="line">        cur = cur.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span>[] reversePrint2(ListNode head) &#123;</span><br><span class="line">    Stack&lt;ListNode&gt; stack = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">temp</span> <span class="operator">=</span> head;</span><br><span class="line">    <span class="keyword">while</span> (temp != <span class="literal">null</span>) &#123;</span><br><span class="line">        stack.push(temp);</span><br><span class="line">        temp = temp.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> <span class="variable">size</span> <span class="operator">=</span> stack.size();</span><br><span class="line">    <span class="type">int</span>[] res = <span class="keyword">new</span> <span class="title class_">int</span>[size];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">        res[i] = stack.pop().val;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-3ã€å‰‘æŒ‡-Offer-09-ç”¨ä¸¤ä¸ªæ ˆå®ç°é˜Ÿåˆ—"><a href="#5-3ã€å‰‘æŒ‡-Offer-09-ç”¨ä¸¤ä¸ªæ ˆå®ç°é˜Ÿåˆ—" class="headerlink" title="5.3ã€å‰‘æŒ‡ Offer 09. ç”¨ä¸¤ä¸ªæ ˆå®ç°é˜Ÿåˆ—"></a>5.3ã€å‰‘æŒ‡ Offer 09. ç”¨ä¸¤ä¸ªæ ˆå®ç°é˜Ÿåˆ—</h3><p>ç”¨ä¸¤ä¸ªæ ˆå®ç°ä¸€ä¸ªé˜Ÿåˆ—ã€‚é˜Ÿåˆ—çš„å£°æ˜å¦‚ä¸‹ï¼Œè¯·å®ç°å®ƒçš„ä¸¤ä¸ªå‡½æ•° <code>appendTail</code> å’Œ <code>deleteHead</code> ï¼Œåˆ†åˆ«å®Œæˆåœ¨é˜Ÿåˆ—å°¾éƒ¨æ’å…¥æ•´æ•°å’Œåœ¨é˜Ÿåˆ—å¤´éƒ¨åˆ é™¤æ•´æ•°çš„åŠŸèƒ½ã€‚(è‹¥é˜Ÿåˆ—ä¸­æ²¡æœ‰å…ƒç´ ï¼Œ<code>deleteHead</code> æ“ä½œè¿”å› -1 )</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š</span><br><span class="line">[&quot;CQueue&quot;,&quot;appendTail&quot;,&quot;deleteHead&quot;,&quot;deleteHead&quot;,&quot;deleteHead&quot;]</span><br><span class="line">[[],[3],[],[],[]]</span><br><span class="line">è¾“å‡ºï¼š[null,null,3,-1,-1]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š</span><br><span class="line">[&quot;CQueue&quot;,&quot;deleteHead&quot;,&quot;appendTail&quot;,&quot;appendTail&quot;,&quot;deleteHead&quot;,&quot;deleteHead&quot;]</span><br><span class="line">[[],[],[5],[2],[],[]]</span><br><span class="line">è¾“å‡ºï¼š[null,-1,null,null,5,2]</span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= values &lt;= 10000</code></li>
<li>æœ€å¤šä¼šå¯¹<code>appendTailã€deleteHead</code>è¿›è¡Œ<code> 10000</code> æ¬¡è°ƒç”¨</li>
</ul>
<p>Related Topics</p>
<p>æ ˆ</p>
<p>è®¾è®¡</p>
<p>é˜Ÿåˆ—</p>
<h4 id="æ€è·¯ä¸€"><a href="#æ€è·¯ä¸€" class="headerlink" title="æ€è·¯ä¸€"></a>æ€è·¯ä¸€</h4><p>Aæ ˆç”¨æ¥ä¿æŒåŸæœ‰æ•°æ®ï¼ŒBæ ˆç”¨æ¥è¾“å‡ºæ•°æ®æ—¶å¯¹æ ˆé€†åºï¼Œåœ¨Bä¸­è¾“å‡ºé˜Ÿå¤´ä¹‹åå†æ”¾å…¥Aæ ˆã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">CQueue</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Stack&lt;Integer&gt; stack1;</span><br><span class="line">    <span class="keyword">public</span> Stack&lt;Integer&gt; stack2;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">CQueue</span><span class="params">()</span> &#123;</span><br><span class="line">        stack1 = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">        stack2 = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">appendTail</span><span class="params">(<span class="type">int</span> value)</span> &#123;</span><br><span class="line">        stack1.push(value);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">deleteHead</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (stack1.isEmpty()) &#123;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">while</span> (!stack1.isEmpty()) &#123;</span><br><span class="line">                <span class="type">Integer</span> <span class="variable">i</span> <span class="operator">=</span> stack1.pop();</span><br><span class="line">                stack2.push(i);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">int</span> <span class="variable">head</span> <span class="operator">=</span> stack2.pop();</span><br><span class="line">            <span class="keyword">while</span> (!stack2.isEmpty()) &#123;</span><br><span class="line">                <span class="type">Integer</span> <span class="variable">i</span> <span class="operator">=</span> stack2.pop();</span><br><span class="line">                stack1.push(i);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> head;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="æ€è·¯äºŒ"><a href="#æ€è·¯äºŒ" class="headerlink" title="æ€è·¯äºŒ"></a>æ€è·¯äºŒ</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.leetcode-cn.com/1599286207-HnnMhX-Picture1.png" alt="Picture1.png"></p>
<p>å¯¹æ€è·¯ä¸€è¿›è¡Œä¼˜åŒ–ï¼Œå½“Bæ ˆè¾“å‡ºå®Œå¯¹å¤´æ—¶ä¸å†é‡æ–°æ”¾å…¥Aæ ˆï¼Œè€Œæ˜¯ä¿ç•™ï¼Œå› ä¸ºæ˜¯é¡ºåºåŠ å…¥çš„ï¼Œä»–ä¼šä¿ç•™åŸæœ‰çš„é¡ºåºã€‚</p>
<p>é¢˜ç›®è¦æ±‚å®ç° åŠ å…¥é˜Ÿå°¾appendTail() å’Œ åˆ é™¤é˜Ÿé¦–deleteHead() ä¸¤ä¸ªå‡½æ•°çš„æ­£å¸¸å·¥ä½œã€‚å› æ­¤ï¼Œå¯ä»¥è®¾è®¡æ ˆ A ç”¨äºåŠ å…¥é˜Ÿå°¾æ“ä½œï¼Œæ ˆ B ç”¨äºå°†å…ƒç´ å€’åºï¼Œä»è€Œå®ç°åˆ é™¤é˜Ÿé¦–å…ƒç´ ã€‚</p>
<p>å‡½æ•°è®¾è®¡ï¼š</p>
<ol>
<li>åŠ å…¥é˜Ÿå°¾ appendTail() ï¼š å°†æ•°å­— val åŠ å…¥æ ˆ A å³å¯ã€‚</li>
<li>åˆ é™¤é˜Ÿé¦–deleteHead() ï¼š æœ‰ä»¥ä¸‹ä¸‰ç§æƒ…å†µã€‚<ul>
<li>å½“æ ˆ B ä¸ä¸ºç©ºï¼š Bä¸­ä»æœ‰å·²å®Œæˆå€’åºçš„å…ƒç´ ï¼Œå› æ­¤ç›´æ¥è¿”å› B çš„æ ˆé¡¶å…ƒç´ ã€‚</li>
<li>å¦åˆ™ï¼Œå½“ A ä¸ºç©ºï¼š å³ä¸¤ä¸ªæ ˆéƒ½ä¸ºç©ºï¼Œæ— å…ƒç´ ï¼Œå› æ­¤è¿”å› -1 ã€‚</li>
<li>å¦åˆ™ï¼š å°†æ ˆ A å…ƒç´ å…¨éƒ¨è½¬ç§»è‡³æ ˆ B ä¸­ï¼Œå®ç°å…ƒç´ å€’åºï¼Œå¹¶è¿”å›æ ˆ B çš„æ ˆé¡¶å…ƒç´ ã€‚</li>
</ul>
</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.leetcode-cn.com/1599286207-iyRyBk-Picture2.png" alt="img"></p>
<p>å¤æ‚åº¦åˆ†æï¼š</p>
<blockquote>
<p>ä»¥ä¸‹åˆ†æä»…æ»¡è¶³æ·»åŠ  N ä¸ªå…ƒç´ å¹¶åˆ é™¤ N ä¸ªå…ƒç´ ï¼Œå³æ ˆåˆå§‹å’Œç»“æŸçŠ¶æ€ä¸‹éƒ½ä¸ºç©ºçš„æƒ…å†µã€‚</p>
</blockquote>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š appendTail()å‡½æ•°ä¸ºO(1) ï¼›deleteHead() å‡½æ•°åœ¨ N æ¬¡é˜Ÿé¦–å…ƒç´ åˆ é™¤æ“ä½œä¸­æ€»å…±éœ€å®Œæˆ N ä¸ªå…ƒç´ çš„å€’åºã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(N)O(N) ï¼š æœ€å·®æƒ…å†µä¸‹ï¼Œæ ˆ A å’Œ B å…±ä¿å­˜ NN ä¸ªå…ƒç´ ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">CQueue</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Stack&lt;Integer&gt; stack1;</span><br><span class="line">    <span class="keyword">public</span> Stack&lt;Integer&gt; stack2;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">CQueue</span><span class="params">()</span> &#123;</span><br><span class="line">        stack1 = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">        stack2 = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">appendTail</span><span class="params">(<span class="type">int</span> value)</span> &#123;</span><br><span class="line">        stack1.push(value);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">deleteHead</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (!stack2.isEmpty()) &#123; <span class="comment">// æƒ…å†µä¸€Bæ ˆä¸ç©º</span></span><br><span class="line">            <span class="keyword">return</span> stack2.pop();</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (stack1.isEmpty()) &#123; <span class="comment">// æƒ…å†µäºŒABéƒ½ä¸ºç©º</span></span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123; <span class="comment">// æƒ…å†µä¸‰Aä¸ä¸ºç©º Bä¸ºç©º</span></span><br><span class="line">            <span class="keyword">while</span> (!stack1.isEmpty()) &#123;</span><br><span class="line">                stack2.push(stack1.pop());</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> stack2.pop();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-4ã€å‰‘æŒ‡-Offer-24-åè½¬é“¾è¡¨"><a href="#5-4ã€å‰‘æŒ‡-Offer-24-åè½¬é“¾è¡¨" class="headerlink" title="5.4ã€å‰‘æŒ‡ Offer 24. åè½¬é“¾è¡¨"></a>5.4ã€å‰‘æŒ‡ Offer 24. åè½¬é“¾è¡¨</h3><p>ç»™å®šå•é“¾è¡¨çš„å¤´èŠ‚ç‚¹ <code>head</code> ï¼Œè¯·åè½¬é“¾è¡¨ï¼Œå¹¶è¿”å›åè½¬åçš„é“¾è¡¨çš„å¤´èŠ‚ç‚¹ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://assets.leetcode.com/uploads/2021/02/19/rev1ex1.jpg" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šhead = [1,2,3,4,5]</span><br><span class="line">è¾“å‡ºï¼š[5,4,3,2,1]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://assets.leetcode.com/uploads/2021/02/19/rev1ex2.jpg" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šhead = [1,2]</span><br><span class="line">è¾“å‡ºï¼š[2,1]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šhead = []</span><br><span class="line">è¾“å‡ºï¼š[]</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li>é“¾è¡¨ä¸­èŠ‚ç‚¹çš„æ•°ç›®èŒƒå›´æ˜¯ <code>[0, 5000]</code></li>
<li><code>-5000 &lt;= Node.val &lt;= 5000</code></li>
</ul>
<p><strong>è¿›é˜¶ï¼š</strong>é“¾è¡¨å¯ä»¥é€‰ç”¨è¿­ä»£æˆ–é€’å½’æ–¹å¼å®Œæˆåè½¬ã€‚ä½ èƒ½å¦ç”¨ä¸¤ç§æ–¹æ³•è§£å†³è¿™é“é¢˜ï¼Ÿ</p>
<h4 id="è¿­ä»£"><a href="#è¿­ä»£" class="headerlink" title="è¿­ä»£"></a>è¿­ä»£</h4><p>åŒæŒ‡é’ˆ</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.leetcode-cn.com/1604779288-jExDGV-Picture3.png" alt="img"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è¿­ä»£ï¼šåŒæŒ‡é’ˆ</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="keyword">public</span> ListNode <span class="title function_">reverseList</span><span class="params">(ListNode head)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (head == <span class="literal">null</span>) <span class="keyword">return</span> head;</span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">cur</span> <span class="operator">=</span> head, pre = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">while</span> (cur != <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">temp</span> <span class="operator">=</span> cur.next;<span class="comment">// æš‚å­˜åç»§èŠ‚ç‚¹ cur.next</span></span><br><span class="line">        cur.next = pre;<span class="comment">// ä¿®æ”¹ next å¼•ç”¨æŒ‡å‘</span></span><br><span class="line">        pre = cur;<span class="comment">// pre æš‚å­˜ cur</span></span><br><span class="line">        cur = temp; <span class="comment">// cur è®¿é—®ä¸‹ä¸€èŠ‚ç‚¹</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> pre;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ ˆ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è¿­ä»£ï¼šåˆ©ç”¨æ ˆ</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="keyword">public</span> ListNode <span class="title function_">reverseList</span><span class="params">(ListNode head)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (head == <span class="literal">null</span>) <span class="keyword">return</span> head;</span><br><span class="line">    Stack&lt;ListNode&gt; stack = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">newHead</span> <span class="operator">=</span> head;</span><br><span class="line">    <span class="keyword">while</span> (newHead != <span class="literal">null</span>) &#123;</span><br><span class="line">        stack.push(newHead);</span><br><span class="line">        newHead = newHead.next;</span><br><span class="line">    &#125;</span><br><span class="line">    head = stack.pop();</span><br><span class="line">    newHead = head;</span><br><span class="line">    <span class="keyword">while</span> (!stack.isEmpty()) &#123;</span><br><span class="line">        newHead.next = stack.pop();</span><br><span class="line">        newHead = newHead.next;</span><br><span class="line">    &#125;</span><br><span class="line">    newHead.next = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">return</span> head;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="é€’å½’-1"><a href="#é€’å½’-1" class="headerlink" title="é€’å½’"></a>é€’å½’</h4><p>è€ƒè™‘ä½¿ç”¨é€’å½’æ³•éå†é“¾è¡¨ï¼Œå½“è¶Šè¿‡å°¾èŠ‚ç‚¹åç»ˆæ­¢é€’å½’ï¼Œåœ¨å›æº¯æ—¶ä¿®æ”¹å„èŠ‚ç‚¹çš„ next å¼•ç”¨æŒ‡å‘ã€‚</p>
<p><strong>recur(cur, pre) é€’å½’å‡½æ•°ï¼š</strong></p>
<ol>
<li>ç»ˆæ­¢æ¡ä»¶ï¼šå½“ cur ä¸ºç©ºï¼Œåˆ™è¿”å›å°¾èŠ‚ç‚¹ pre ï¼ˆå³åè½¬é“¾è¡¨çš„å¤´èŠ‚ç‚¹ï¼‰ï¼›</li>
<li>é€’å½’åç»§èŠ‚ç‚¹ï¼Œè®°å½•è¿”å›å€¼ï¼ˆå³åè½¬é“¾è¡¨çš„å¤´èŠ‚ç‚¹ï¼‰ä¸º res ï¼›</li>
<li>ä¿®æ”¹å½“å‰èŠ‚ç‚¹ cur å¼•ç”¨æŒ‡å‘å‰é©±èŠ‚ç‚¹ pre ï¼›</li>
<li>è¿”å›åè½¬é“¾è¡¨çš„å¤´èŠ‚ç‚¹ res ï¼›</li>
</ol>
<p><strong>reverseList(head) å‡½æ•°ï¼š</strong><br>è°ƒç”¨å¹¶è¿”å› recur(head, null) ã€‚ä¼ å…¥ null æ˜¯å› ä¸ºåè½¬é“¾è¡¨åï¼Œ head èŠ‚ç‚¹æŒ‡å‘ null ï¼›</p>
<p>å¤æ‚åº¦åˆ†æï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(N)O(N) ï¼š éå†é“¾è¡¨ä½¿ç”¨çº¿æ€§å¤§å°æ—¶é—´ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(N)O(N) ï¼š éå†é“¾è¡¨çš„é€’å½’æ·±åº¦è¾¾åˆ° NN ï¼Œç³»ç»Ÿä½¿ç”¨ O(N)O(N) å¤§å°é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.leetcode-cn.com/1604779700-APVBqI-Picture24.png" alt="img"></p>
<h3 id="5-5ã€å‰‘æŒ‡-Offer-30-åŒ…å«-min-å‡½æ•°çš„æ ˆ"><a href="#5-5ã€å‰‘æŒ‡-Offer-30-åŒ…å«-min-å‡½æ•°çš„æ ˆ" class="headerlink" title="5.5ã€å‰‘æŒ‡ Offer 30. åŒ…å« min å‡½æ•°çš„æ ˆ"></a>5.5ã€å‰‘æŒ‡ Offer 30. åŒ…å« min å‡½æ•°çš„æ ˆ</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è¿­ä»£</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="keyword">public</span> ListNode <span class="title function_">reverseList</span><span class="params">(ListNode head)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> recur(head,<span class="literal">null</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> ListNode <span class="title function_">recur</span><span class="params">(ListNode cur, ListNode pre)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (cur == <span class="literal">null</span>) &#123; <span class="comment">// ç»ˆæ­¢æ¡ä»¶</span></span><br><span class="line">        <span class="keyword">return</span> pre;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">res</span> <span class="operator">=</span> recur(cur.next, cur);<span class="comment">//é€’å½’åç»­èŠ‚ç‚¹</span></span><br><span class="line"></span><br><span class="line">    cur.next = pre;              <span class="comment">// ä¿®æ”¹èŠ‚ç‚¹å¼•ç”¨æŒ‡å‘</span></span><br><span class="line">    <span class="keyword">return</span> res;                  <span class="comment">// è¿”å›åè½¬é“¾è¡¨çš„å¤´èŠ‚ç‚¹</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å®šä¹‰æ ˆçš„æ•°æ®ç»“æ„ï¼Œè¯·åœ¨è¯¥ç±»å‹ä¸­å®ç°ä¸€ä¸ªèƒ½å¤Ÿå¾—åˆ°æ ˆçš„æœ€å°å…ƒç´ çš„ min å‡½æ•°åœ¨è¯¥æ ˆä¸­ï¼Œè°ƒç”¨ minã€push åŠ pop çš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯ O(1)ã€‚</p>
<p><strong>ç¤ºä¾‹:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">MinStack minStack = new MinStack();</span><br><span class="line">minStack.push(-2);</span><br><span class="line">minStack.push(0);</span><br><span class="line">minStack.push(-3);</span><br><span class="line">minStack.min();   -. è¿”å› -3.</span><br><span class="line">minStack.pop();</span><br><span class="line">minStack.top();      -. è¿”å› 0.</span><br><span class="line">minStack.min();   -. è¿”å› -2.</span><br></pre></td></tr></table></figure>



<p><strong>è§£é¢˜æ€è·¯:</strong><br>æ™®é€šæ ˆçš„ push() å’Œ pop() å‡½æ•°çš„å¤æ‚åº¦ O(1) ï¼›è€Œè·å–æ ˆæœ€å°å€¼ min() å‡½æ•°éœ€è¦éå†æ•´ä¸ªæ ˆï¼Œå¤æ‚åº¦ä¸º O(N) ã€‚</p>
<p><strong>æœ¬é¢˜éš¾ç‚¹ï¼š</strong> å°† min() å‡½æ•°å¤æ‚åº¦é™ä¸º&#x3D;O(1) ã€‚å¯å€ŸåŠ©è¾…åŠ©æ ˆå®ç°ï¼š</p>
<ul>
<li>æ•°æ®æ ˆ A ï¼š æ ˆ A ç”¨äºå­˜å‚¨æ‰€æœ‰å…ƒç´ ï¼Œä¿è¯å…¥æ ˆ push() å‡½æ•°ã€å‡ºæ ˆ pop() å‡½æ•°ã€è·å–æ ˆé¡¶ top() å‡½æ•°çš„æ­£å¸¸è¾‘ã€‚</li>
<li>è¾…åŠ©æ ˆ B ï¼š æ ˆ B ä¸­å­˜å‚¨æ ˆ A ä¸­æ‰€æœ‰ éä¸¥æ ¼é™åº å…ƒç´ çš„å­åºåˆ—ï¼Œåˆ™æ ˆ A ä¸­çš„æœ€å°å…ƒç´ å§‹ç»ˆå¯¹åº”æ ˆ B çš„æ ˆé¡¶å…ƒç´ .æ­¤æ—¶ï¼Œ min() å‡½æ•°åªéœ€è¿”å›æ ˆ B çš„æ ˆé¡¶å…ƒç´ å³å¯ã€‚</li>
</ul>
<p>å› æ­¤ï¼Œåªéœ€è®¾æ³•ç»´æŠ¤å¥½ æ ˆ B çš„å…ƒç´ ï¼Œä½¿å…¶ä¿æŒæ˜¯æ ˆ A çš„éä¸¥æ ¼é™åºå…ƒç´ çš„å­åºåˆ—ï¼Œå³å¯å®ç° min() å‡½æ•°çš„ O(1) å¤æ‚åº¦ã€‚</p>
<p><strong>å‡½æ•°è®¾è®¡ï¼š</strong><br>push(x) å‡½æ•°ï¼š é‡ç‚¹ä¸ºä¿æŒæ ˆ B çš„å…ƒç´ æ˜¯ <strong>éä¸¥æ ¼é™åº</strong> çš„ï¼›</p>
<ol>
<li>æ‰§è¡Œã€Œå…ƒç´  x å‹å…¥æ ˆ Aã€ ï¼›</li>
<li>è‹¥ã€Œæ ˆ B ä¸ºç©ºã€æˆ–ã€Œx \leqâ‰¤ æ ˆ B çš„æ ˆé¡¶å…ƒç´ ã€ï¼Œåˆ™æ‰§è¡Œã€Œå…ƒç´  x å‹å…¥æ ˆ Bã€ ï¼›</li>
</ol>
<p>pop() å‡½æ•°ï¼š é‡ç‚¹ä¸ºä¿æŒæ ˆ A , B çš„ å…ƒç´ ä¸€è‡´æ€§ ï¼›</p>
<ol>
<li>æ‰§è¡Œã€Œæ ˆ A å…ƒç´ å‡ºæ ˆã€ï¼Œå°†å‡ºæ ˆå…ƒç´ è®°ä¸º y ï¼›</li>
<li>è‹¥ ã€Œy ç­‰äºæ ˆ B çš„æ ˆé¡¶å…ƒç´ ã€ï¼Œåˆ™æ‰§è¡Œã€Œæ ˆ B å…ƒç´ å‡ºæ ˆã€ï¼›</li>
</ol>
<p>top() å‡½æ•°ï¼š ç›´æ¥è¿”å›æ ˆ A çš„æ ˆé¡¶å…ƒç´ ï¼Œå³è¿”å› A.peek() ï¼›</p>
<p>min() å‡½æ•°ï¼š ç›´æ¥è¿”å›æ ˆ B çš„æ ˆé¡¶å…ƒç´ ï¼Œå³è¿”å› B.peek() ï¼›</p>
<p><strong>é‡‡ç”¨ â€œéä¸¥æ ¼â€ é™åºåŸå› </strong>ï¼š<br>åœ¨æ ˆ A å…·æœ‰ é‡å¤ æœ€å°å€¼å…ƒç´ æ—¶ï¼Œéä¸¥æ ¼é™åºå¯é˜²æ­¢æ ˆ B æå‰å¼¹å‡ºæœ€å°å€¼å…ƒç´ ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.leetcode-cn.com/1600086305-BSfBJu-Picture2.png" alt="Picture2.png"></p>
<p><strong>å¤æ‚åº¦åˆ†æï¼š</strong><br>æ—¶é—´å¤æ‚åº¦ O(1) ï¼š push(), pop(), top(), min() å››ä¸ªå‡½æ•°çš„æ—¶é—´å¤æ‚åº¦å‡ä¸ºå¸¸æ•°çº§åˆ«ã€‚<br>ç©ºé—´å¤æ‚åº¦ O(N) ï¼š å½“å…±æœ‰ N ä¸ªå¾…å…¥æ ˆå…ƒç´ æ—¶ï¼Œè¾…åŠ©æ ˆ B æœ€å·®æƒ…å†µä¸‹å­˜å‚¨ N ä¸ªå…ƒç´ ï¼Œä½¿ç”¨ O(N) é¢å¤–ç©ºé—´ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MinStack</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** initialize your data structure here. */</span></span><br><span class="line">    Stack&lt;Integer&gt; stack1;<span class="comment">//æ­£å¸¸çš„æ ˆåºåˆ—</span></span><br><span class="line">    Stack&lt;Integer&gt; stack2;<span class="comment">//å¯¹äºAæ ˆçš„å…ƒç´ ï¼ŒBæ ˆä¿è¯æ•°æ®ä»å°åˆ°å¤§</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MinStack</span><span class="params">()</span> &#123;</span><br><span class="line">        stack1 = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">        stack2 = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">push</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line">        stack1.push(x);</span><br><span class="line">        <span class="keyword">if</span> (stack2.isEmpty() || stack2.peek() &gt;= x) &#123; <span class="comment">// å°äºæ ˆé¡¶æ‰å…¥æ ˆ</span></span><br><span class="line">            stack2.push(x);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">pop</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">Integer</span> <span class="variable">i</span> <span class="operator">=</span> stack1.pop();</span><br><span class="line">        <span class="keyword">if</span> (i.equals(stack2.peek())) &#123;</span><br><span class="line">            stack2.pop();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">top</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> stack1.peek();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">min</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> stack2.peek();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-6ã€å‰‘æŒ‡-Offer-35-å¤æ‚é“¾è¡¨çš„å¤åˆ¶"><a href="#5-6ã€å‰‘æŒ‡-Offer-35-å¤æ‚é“¾è¡¨çš„å¤åˆ¶" class="headerlink" title="5.6ã€å‰‘æŒ‡ Offer 35. å¤æ‚é“¾è¡¨çš„å¤åˆ¶"></a>5.6ã€å‰‘æŒ‡ Offer 35. å¤æ‚é“¾è¡¨çš„å¤åˆ¶</h3><p>è¯·å®ç° <code>copyRandomList</code> å‡½æ•°ï¼Œå¤åˆ¶ä¸€ä¸ªå¤æ‚é“¾è¡¨ã€‚åœ¨å¤æ‚é“¾è¡¨ä¸­ï¼Œæ¯ä¸ªèŠ‚ç‚¹é™¤äº†æœ‰ä¸€ä¸ª <code>next</code> æŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œè¿˜æœ‰ä¸€ä¸ª <code>random</code> æŒ‡é’ˆæŒ‡å‘é“¾è¡¨ä¸­çš„ä»»æ„èŠ‚ç‚¹æˆ–è€… <code>null</code>ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2020/01/09/e1.png" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šhead = [[7,null],[13,0],[11,4],[10,2],[1,0]]</span><br><span class="line">è¾“å‡ºï¼š[[7,null],[13,0],[11,4],[10,2],[1,0]]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2020/01/09/e2.png" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šhead = [[1,1],[2,1]]</span><br><span class="line">è¾“å‡ºï¼š[[1,1],[2,1]]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<p><strong><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2020/01/09/e3.png" alt="img"></strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šhead = [[3,null],[3,0],[3,null]]</span><br><span class="line">è¾“å‡ºï¼š[[3,null],[3,0],[3,null]]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 4ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šhead = []</span><br><span class="line">è¾“å‡ºï¼š[]</span><br><span class="line">è§£é‡Šï¼šç»™å®šçš„é“¾è¡¨ä¸ºç©ºï¼ˆç©ºæŒ‡é’ˆï¼‰ï¼Œå› æ­¤è¿”å› nullã€‚</span><br></pre></td></tr></table></figure>

<h4 id="å“ˆå¸Œè¡¨è®°å½•æ³•"><a href="#å“ˆå¸Œè¡¨è®°å½•æ³•" class="headerlink" title="å“ˆå¸Œè¡¨è®°å½•æ³•"></a>å“ˆå¸Œè¡¨è®°å½•æ³•</h4><p>åˆ©ç”¨å“ˆå¸Œè¡¨çš„æŸ¥è¯¢ç‰¹ç‚¹ï¼Œè€ƒè™‘æ„å»º åŸé“¾è¡¨èŠ‚ç‚¹ å’Œ æ–°é“¾è¡¨å¯¹åº”èŠ‚ç‚¹ çš„é”®å€¼å¯¹æ˜ å°„å…³ç³»ï¼Œå†éå†æ„å»ºæ–°é“¾è¡¨å„èŠ‚ç‚¹çš„ next å’Œ random å¼•ç”¨æŒ‡å‘å³å¯ã€‚</p>
<p><strong>ç®—æ³•æµç¨‹ï¼š</strong></p>
<ol>
<li><p>è‹¥å¤´èŠ‚ç‚¹ head ä¸ºç©ºèŠ‚ç‚¹ï¼Œç›´æ¥è¿”å› null ï¼›</p>
</li>
<li><p>åˆå§‹åŒ–ï¼š å“ˆå¸Œè¡¨ set ï¼Œ èŠ‚ç‚¹ cur æŒ‡å‘å¤´èŠ‚ç‚¹ï¼›</p>
</li>
<li><p>å¤åˆ¶é“¾è¡¨ï¼š</p>
<ol>
<li>å»ºç«‹æ–°èŠ‚ç‚¹ï¼Œå¹¶å‘ set æ·»åŠ é”®å€¼å¯¹ (åŸ cur èŠ‚ç‚¹, æ–° cur èŠ‚ç‚¹ï¼‰ ï¼›</li>
<li>cur éå†è‡³åŸé“¾è¡¨ä¸‹ä¸€èŠ‚ç‚¹ï¼›</li>
</ol>
</li>
<li><p>æ„å»ºæ–°é“¾è¡¨çš„å¼•ç”¨æŒ‡å‘ï¼š</p>
<ol>
<li>æ„å»ºæ–°èŠ‚ç‚¹çš„ next å’Œ random å¼•ç”¨æŒ‡å‘ï¼›</li>
<li>cur éå†è‡³åŸé“¾è¡¨ä¸‹ä¸€èŠ‚ç‚¹ï¼›</li>
</ol>
</li>
<li><p>è¿”å›å€¼ï¼š æ–°é“¾è¡¨çš„å¤´èŠ‚ç‚¹ map.get(head) ï¼›</p>
</li>
</ol>
<p><strong>å¤æ‚åº¦åˆ†æï¼š</strong><br>æ—¶é—´å¤æ‚åº¦ O(N) ï¼š ä¸¤è½®éå†é“¾è¡¨ï¼Œä½¿ç”¨ O(N) æ—¶é—´ã€‚<br>ç©ºé—´å¤æ‚åº¦ O(N) ï¼š å“ˆå¸Œè¡¨ set ä½¿ç”¨çº¿æ€§å¤§å°çš„é¢å¤–ç©ºé—´ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å“ˆå¸Œè¡¨</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="keyword">public</span> Node <span class="title function_">copyRandomList1</span><span class="params">(Node head)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (head == <span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    Map&lt;Node, Node&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    <span class="type">Node</span> <span class="variable">cur</span> <span class="operator">=</span> head;</span><br><span class="line">    <span class="keyword">while</span> (cur != <span class="literal">null</span>) &#123; <span class="comment">//æ„é€ èŠ‚ç‚¹</span></span><br><span class="line">        map.put(cur, <span class="keyword">new</span> <span class="title class_">Node</span>(cur.val));</span><br><span class="line">        cur = cur.next;</span><br><span class="line">    &#125;</span><br><span class="line">    cur = head;</span><br><span class="line">    <span class="keyword">while</span> (cur != <span class="literal">null</span>) &#123; <span class="comment">//å¤åˆ¶å¼•ç”¨ å¤åˆ¶æ–°èŠ‚ç‚¹çš„å¼•ç”¨</span></span><br><span class="line">        map.get(cur).next = map.get(cur.next);</span><br><span class="line">        map.get(cur).random = map.get(cur.random);</span><br><span class="line">        cur = cur.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> map.get(head);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="æ‹¼æ¥æ‹†åˆ†"><a href="#æ‹¼æ¥æ‹†åˆ†" class="headerlink" title="æ‹¼æ¥æ‹†åˆ†"></a>æ‹¼æ¥æ‹†åˆ†</h4><p>è€ƒè™‘æ„å»º åŸèŠ‚ç‚¹ 1 . æ–°èŠ‚ç‚¹ 1 . åŸèŠ‚ç‚¹ 2 . æ–°èŠ‚ç‚¹ 2 . â€¦â€¦ çš„æ‹¼æ¥é“¾è¡¨ï¼Œå¦‚æ­¤ä¾¿å¯åœ¨è®¿é—®åŸèŠ‚ç‚¹çš„ random æŒ‡å‘èŠ‚ç‚¹çš„åŒæ—¶æ‰¾åˆ°æ–°å¯¹åº”æ–°èŠ‚ç‚¹çš„ random æŒ‡å‘èŠ‚ç‚¹ã€‚</p>
<p><strong>ç®—æ³•æµç¨‹ï¼š</strong></p>
<ol>
<li><p>å¤åˆ¶å„èŠ‚ç‚¹ï¼Œæ„å»ºæ‹¼æ¥é“¾è¡¨:</p>
<ul>
<li>è®¾åŸé“¾è¡¨ä¸º node1.node2.â‹¯ ï¼Œæ„å»ºçš„æ‹¼æ¥é“¾è¡¨å¦‚ä¸‹æ‰€ç¤ºï¼š<br>node1 .node1{new}.node2.node2{new}â€¦..</li>
</ul>
</li>
<li><p>æ„å»ºæ–°é“¾è¡¨å„èŠ‚ç‚¹çš„ random æŒ‡å‘ï¼š</p>
<ul>
<li>å½“è®¿é—®åŸèŠ‚ç‚¹ cur çš„éšæœºæŒ‡å‘èŠ‚ç‚¹ cur.random æ—¶ï¼Œå¯¹åº”æ–°èŠ‚ç‚¹ cur.next çš„éšæœºæŒ‡å‘èŠ‚ç‚¹ä¸ºcur.random.nextã€‚</li>
</ul>
</li>
<li><p>æ‹†åˆ†åŸ &#x2F; æ–°é“¾è¡¨ï¼š</p>
</li>
</ol>
<ul>
<li>è®¾ç½® pre &#x2F; cur åˆ†åˆ«æŒ‡å‘åŸ &#x2F; æ–°é“¾è¡¨å¤´èŠ‚ç‚¹ï¼Œéå†æ‰§è¡Œ pre.next &#x3D; pre.next.next å’Œ cur.next &#x3D; cur.next.next å°†ä¸¤é“¾è¡¨æ‹†åˆ†å¼€ã€‚</li>
</ul>
<ol start="4">
<li>è¿”å›æ–°é“¾è¡¨çš„å¤´èŠ‚ç‚¹ res å³å¯ã€‚</li>
</ol>
<p><strong>å¤æ‚åº¦åˆ†æï¼š</strong><br>æ—¶é—´å¤æ‚åº¦ O(N)O(N) ï¼š ä¸‰è½®éå†é“¾è¡¨ï¼Œä½¿ç”¨ O(N)O(N) æ—¶é—´ã€‚<br>ç©ºé—´å¤æ‚åº¦ O(1)O(1) ï¼š èŠ‚ç‚¹å¼•ç”¨å˜é‡ä½¿ç”¨å¸¸æ•°å¤§å°çš„é¢å¤–ç©ºé—´ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.leetcode-cn.com/1604747285-LidbfG-Picture16.png" alt="img"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ‹¼æ¥ + æ‹†åˆ†</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="keyword">public</span> Node <span class="title function_">copyRandomList2</span><span class="params">(Node head)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (head == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å¤åˆ¶å„èŠ‚ç‚¹ï¼Œæ„å»ºæ‹¼æ¥é“¾è¡¨</span></span><br><span class="line">    <span class="type">Node</span> <span class="variable">cur</span> <span class="operator">=</span> head;</span><br><span class="line">    <span class="keyword">while</span> (cur != <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="type">Node</span> <span class="variable">temp</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Node</span>(cur.val);</span><br><span class="line">        temp.next = cur.next;</span><br><span class="line">        cur.next = temp;</span><br><span class="line">        cur = temp.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// æ„å»ºæ–°é“¾è¡¨å„èŠ‚ç‚¹çš„ random æŒ‡å‘</span></span><br><span class="line">    cur = head;</span><br><span class="line">    <span class="keyword">while</span> (cur != <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (cur.random != <span class="literal">null</span>)</span><br><span class="line">            cur.next.random = cur.random.next;</span><br><span class="line">        cur  = cur.next.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// æ‹†åˆ†ä¸¤é“¾è¡¨</span></span><br><span class="line">    cur = head.next;</span><br><span class="line">    <span class="type">Node</span> <span class="variable">pre</span> <span class="operator">=</span> head, res = head.next;</span><br><span class="line">    <span class="keyword">while</span> (cur.next != <span class="literal">null</span>) &#123;</span><br><span class="line">        pre.next = pre.next.next;</span><br><span class="line">        cur.next = cur.next.next;</span><br><span class="line">        pre = pre.next;</span><br><span class="line">        cur = cur.next;</span><br><span class="line">    &#125;</span><br><span class="line">    pre.next = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-7ã€å‰‘æŒ‡-Offer-58-II-å·¦æ—‹è½¬å­—ç¬¦ä¸²"><a href="#5-7ã€å‰‘æŒ‡-Offer-58-II-å·¦æ—‹è½¬å­—ç¬¦ä¸²" class="headerlink" title="5.7ã€å‰‘æŒ‡ Offer 58 - II. å·¦æ—‹è½¬å­—ç¬¦ä¸²"></a>5.7ã€å‰‘æŒ‡ Offer 58 - II. å·¦æ—‹è½¬å­—ç¬¦ä¸²</h3><p>å­—ç¬¦ä¸²çš„å·¦æ—‹è½¬æ“ä½œæ˜¯æŠŠå­—ç¬¦ä¸²å‰é¢çš„è‹¥å¹²ä¸ªå­—ç¬¦è½¬ç§»åˆ°å­—ç¬¦ä¸²çš„å°¾éƒ¨ã€‚è¯·å®šä¹‰ä¸€ä¸ªå‡½æ•°å®ç°å­—ç¬¦ä¸²å·¦æ—‹è½¬æ“ä½œçš„åŠŸèƒ½ã€‚æ¯”å¦‚ï¼Œè¾“å…¥å­—ç¬¦ä¸²â€abcdefgâ€å’Œæ•°å­—2ï¼Œè¯¥å‡½æ•°å°†è¿”å›å·¦æ—‹è½¬ä¸¤ä½å¾—åˆ°çš„ç»“æœâ€cdefgabâ€ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: s = &quot;abcdefg&quot;, k = 2</span><br><span class="line">è¾“å‡º: &quot;cdefgab&quot;</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: s = &quot;lrloseumgh&quot;, k = 6</span><br><span class="line">è¾“å‡º: &quot;umghlrlose&quot;</span><br></pre></td></tr></table></figure>



<p><strong>é™åˆ¶ï¼š</strong></p>
<ul>
<li><code>1 &lt;= k &lt; s.length &lt;= 10000</code></li>
</ul>
<p>Related Topics</p>
<p>æ•°å­¦</p>
<p>åŒæŒ‡é’ˆ</p>
<p>å­—ç¬¦ä¸²</p>
<h4 id="å­—ç¬¦ä¸²åˆ‡ç‰‡"><a href="#å­—ç¬¦ä¸²åˆ‡ç‰‡" class="headerlink" title="å­—ç¬¦ä¸²åˆ‡ç‰‡"></a>å­—ç¬¦ä¸²åˆ‡ç‰‡</h4><blockquote>
<p>åº”ç”¨å­—ç¬¦ä¸²åˆ‡ç‰‡å‡½æ•°ï¼Œå¯æ–¹ä¾¿å®ç°å·¦æ—‹è½¬å­—ç¬¦ä¸²ã€‚</p>
</blockquote>
<p>è·å–å­—ç¬¦ä¸² s[n:] åˆ‡ç‰‡å’Œ s[:n] åˆ‡ç‰‡ï¼Œä½¿ç”¨ â€œ+â€ è¿ç®—ç¬¦æ‹¼æ¥å¹¶è¿”å›å³å¯ã€‚</p>
<p><strong>å¤æ‚åº¦åˆ†æï¼š</strong><br>æ—¶é—´å¤æ‚åº¦ O(N)ï¼š å…¶ä¸­ NN ä¸ºå­—ç¬¦ä¸² s çš„é•¿åº¦ï¼Œå­—ç¬¦ä¸²åˆ‡ç‰‡å‡½æ•°ä¸ºçº¿æ€§æ—¶é—´å¤æ‚åº¦ï¼ˆå‚è€ƒèµ„æ–™ï¼‰ã€‚<br>ç©ºé—´å¤æ‚åº¦ O(N)ï¼š ä¸¤ä¸ªå­—ç¬¦ä¸²åˆ‡ç‰‡çš„æ€»é•¿åº¦ä¸º Nã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.leetcode-cn.com/1600793170-eyvDTJ-Picture1.png" alt="Picture1.png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">reverseLeftWords</span><span class="params">(String s, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> s.substring(n, s.length()) + s.substring(<span class="number">0</span>, n);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="åˆ—è¡¨éå†æ‹¼æ¥"><a href="#åˆ—è¡¨éå†æ‹¼æ¥" class="headerlink" title="åˆ—è¡¨éå†æ‹¼æ¥"></a>åˆ—è¡¨éå†æ‹¼æ¥</h4><blockquote>
<p>è‹¥é¢è¯•è§„å®šä¸å…è®¸ä½¿ç”¨ åˆ‡ç‰‡å‡½æ•° ï¼Œåˆ™ä½¿ç”¨æ­¤æ–¹æ³•ã€‚</p>
</blockquote>
<p><strong>ç®—æ³•æµç¨‹ï¼š</strong></p>
<ol>
<li>æ–°å»ºä¸€ä¸ª StringBuilderï¼Œè®°ä¸º res ï¼›</li>
<li>å…ˆå‘ res æ·»åŠ  â€œç¬¬ n+1 ä½è‡³æœ«ä½çš„å­—ç¬¦â€ ï¼›</li>
<li>å†å‘ res æ·»åŠ  â€œé¦–ä½è‡³ç¬¬ n ä½çš„å­—ç¬¦â€ ï¼›</li>
<li>å°† res è½¬åŒ–ä¸ºå­—ç¬¦ä¸²å¹¶è¿”å›ï¼›</li>
</ol>
<p><strong>å¤æ‚åº¦åˆ†æï¼š</strong><br>æ—¶é—´å¤æ‚åº¦ O(N)O(N) ï¼š çº¿æ€§éå† s å¹¶æ·»åŠ ï¼Œä½¿ç”¨çº¿æ€§æ—¶é—´ã€‚<br>ç©ºé—´å¤æ‚åº¦ O(N)O(N) ï¼š æ–°å»ºçš„è¾…åŠ© res ä½¿ç”¨ O(N)O(N) å¤§å°çš„é¢å¤–ç©ºé—´ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.leetcode-cn.com/1600793170-ViWBNV-Picture2.png" alt="Picture2.png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">reverseLeftWords</span><span class="params">(String s, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">res</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> n; i &lt; s.length(); i++)</span><br><span class="line">            res.append(s.charAt(i));</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">            res.append(s.charAt(i));</span><br><span class="line">        <span class="keyword">return</span> res.toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ±‚ä½™è¿ç®—åŠ é€Ÿ</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">reverseLeftWords</span><span class="params">(String s, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">res</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> n; i &lt; n + s.length(); i++)</span><br><span class="line">            res.append(s.charAt(i % s.length()));</span><br><span class="line">        <span class="keyword">return</span> res.toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="å­—ç¬¦ä¸²éå†æ‹¼æ¥"><a href="#å­—ç¬¦ä¸²éå†æ‹¼æ¥" class="headerlink" title="å­—ç¬¦ä¸²éå†æ‹¼æ¥"></a>å­—ç¬¦ä¸²éå†æ‹¼æ¥</h4><blockquote>
<p>è‹¥è§„å®š Java åªèƒ½ç”¨ String ï¼Œåˆ™ä½¿ç”¨æ­¤æ–¹æ³•ã€‚</p>
</blockquote>
<p>æ­¤æ–¹æ³•ä¸ æ–¹æ³•äºŒ æ€è·¯ä¸€è‡´ï¼ŒåŒºåˆ«æ˜¯ä½¿ç”¨å­—ç¬¦ä¸²ä»£æ›¿åˆ—è¡¨ã€‚</p>
<p><strong>å¤æ‚åº¦åˆ†æï¼š</strong><br>æ—¶é—´å¤æ‚åº¦ O(N)ï¼š çº¿æ€§éå† s å¹¶æ·»åŠ ï¼Œä½¿ç”¨çº¿æ€§æ—¶é—´ã€‚<br>ç©ºé—´å¤æ‚åº¦ O(N) ï¼š å‡è®¾å¾ªç¯è¿‡ç¨‹ä¸­å†…å­˜ä¼šè¢«åŠæ—¶å›æ”¶ï¼Œå†…å­˜ä¸­è‡³å°‘åŒæ—¶å­˜åœ¨é•¿åº¦ä¸º N å’Œ Nâˆ’1 çš„ä¸¤ä¸ªå­—ç¬¦ä¸²ï¼ˆæ–°å»ºé•¿åº¦ä¸º N çš„ res éœ€è¦ä½¿ç”¨å‰ä¸€ä¸ªé•¿åº¦ Nâˆ’1 çš„ res ï¼‰ï¼Œå› æ­¤è‡³å°‘ä½¿ç”¨ O(N) çš„é¢å¤–ç©ºé—´ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.leetcode-cn.com/1600793170-uasqXO-Picture3.png" alt="Picture3.png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">reverseLeftWords</span><span class="params">(String s, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">res</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> n; i &lt; s.length(); i++)</span><br><span class="line">            res += s.charAt(i);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">            res += s.charAt(i);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ±‚ä½™è¿ç®—åŠ é€Ÿ</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">reverseLeftWords</span><span class="params">(String s, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">res</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> n; i &lt; n + s.length(); i++)</span><br><span class="line">            res += s.charAt(i % s.length());</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-8ã€å‰‘æŒ‡-Offer-59-I-æ»‘åŠ¨çª—å£çš„æœ€å¤§å€¼"><a href="#5-8ã€å‰‘æŒ‡-Offer-59-I-æ»‘åŠ¨çª—å£çš„æœ€å¤§å€¼" class="headerlink" title="5.8ã€å‰‘æŒ‡ Offer 59 - I. æ»‘åŠ¨çª—å£çš„æœ€å¤§å€¼"></a>5.8ã€å‰‘æŒ‡ Offer 59 - I. æ»‘åŠ¨çª—å£çš„æœ€å¤§å€¼</h3><p>ç»™å®šä¸€ä¸ªæ•°ç»„ <code>nums</code> å’Œæ»‘åŠ¨çª—å£çš„å¤§å° <code>k</code>ï¼Œè¯·æ‰¾å‡ºæ‰€æœ‰æ»‘åŠ¨çª—å£é‡Œçš„æœ€å¤§å€¼ã€‚</p>
<p><strong>ç¤ºä¾‹:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: nums = [1,3,-1,-3,5,3,6,7], å’Œ k = 3</span><br><span class="line">è¾“å‡º: [3,3,5,5,6,7] </span><br><span class="line">è§£é‡Š: </span><br><span class="line"></span><br><span class="line">  æ»‘åŠ¨çª—å£çš„ä½ç½®                æœ€å¤§å€¼</span><br><span class="line">---------------               -----</span><br><span class="line">[1  3  -1] -3  5  3  6  7       3</span><br><span class="line"> 1 [3  -1  -3] 5  3  6  7       3</span><br><span class="line"> 1  3 [-1  -3  5] 3  6  7       5</span><br><span class="line"> 1  3  -1 [-3  5  3] 6  7       5</span><br><span class="line"> 1  3  -1  -3 [5  3  6] 7       6</span><br><span class="line"> 1  3  -1  -3  5 [3  6  7]      7</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<p>ä½ å¯ä»¥å‡è®¾ <em>k</em> æ€»æ˜¯æœ‰æ•ˆçš„ï¼Œåœ¨è¾“å…¥æ•°ç»„ <strong>ä¸ä¸ºç©º</strong> çš„æƒ…å†µä¸‹ï¼Œ<code>1 â‰¤ k â‰¤ nums.length</code>ã€‚</p>
<p>é˜Ÿåˆ—</p>
<p>æ»‘åŠ¨çª—å£</p>
<p>å•è°ƒé˜Ÿåˆ—</p>
<p>å †ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰</p>
<hr>
<p><strong>è§£é¢˜æ€è·¯ï¼š</strong><br>è®¾çª—å£åŒºé—´ä¸º [i, j] ï¼Œæœ€å¤§å€¼ä¸º x j ã€‚å½“çª—å£å‘å‰ç§»åŠ¨ä¸€æ ¼ï¼Œåˆ™åŒºé—´å˜ä¸º [i+1,j+1]ï¼Œå³æ·»åŠ äº† nums[j + 1] ï¼Œåˆ é™¤äº†nums[i] ã€‚</p>
<p>è‹¥åªå‘çª—å£ [i, j]å³è¾¹æ·»åŠ æ•°å­— nums[j + 1]ï¼Œåˆ™æ–°çª—å£æœ€å¤§å€¼å¯ä»¥ é€šè¿‡ä¸€æ¬¡å¯¹æ¯” ä½¿ç”¨O(1) æ—¶é—´å¾—åˆ°ï¼Œå³ï¼š<code>x&#123;j+1&#125; = max(x&#123;j&#125;, nums[j + 1])</code>è€Œç”±äºåˆ é™¤çš„ nums[i]å¯èƒ½æ°å¥½æ˜¯çª—å£å†…å”¯ä¸€çš„æœ€å¤§å€¼ x jï¼Œå› æ­¤ä¸èƒ½é€šè¿‡ä»¥ä¸Šæ–¹æ³•è®¡ç®— x j+1ï¼Œè€Œå¿…é¡»ä½¿ç”¨O(jâˆ’i) æ—¶é—´ï¼Œ éå†æ•´ä¸ªçª—å£åŒºé—´ è·å–æœ€å¤§å€¼ï¼Œå³ï¼šx{j+1} &#x3D; max(nums(i+1),â€¦â€¦. , num(j+1))</p>
<p>æ ¹æ®ä»¥ä¸Šåˆ†æï¼Œå¯å¾— æš´åŠ›æ³• çš„æ—¶é—´å¤æ‚åº¦ä¸º O((n-k+1)k)â‰ˆO(nk) ã€‚</p>
<ul>
<li>è®¾æ•°ç»„ numsçš„é•¿åº¦ä¸º nn ï¼Œåˆ™å…±æœ‰ (n-k+1)ä¸ªçª—å£ï¼›</li>
<li>è·å–æ¯ä¸ªçª—å£æœ€å¤§å€¼éœ€çº¿æ€§éå†ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(k)ã€‚</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.leetcode-cn.com/1600878237-pBiBdf-Picture1.png" alt="Picture1.png"></p>
<blockquote>
<p><strong>æœ¬é¢˜éš¾ç‚¹ï¼š</strong> å¦‚ä½•åœ¨æ¯æ¬¡çª—å£æ»‘åŠ¨åï¼Œå°† â€œè·å–çª—å£å†…æœ€å¤§å€¼â€ çš„æ—¶é—´å¤æ‚åº¦ä» O(k) é™ä½è‡³ O(1)ã€‚</p>
</blockquote>
<p>å›å¿† å‰‘æŒ‡Offer 30. åŒ…å« min å‡½æ•°çš„æ ˆ ï¼Œå…¶ä½¿ç”¨ <strong>å•è°ƒæ ˆ</strong> å®ç°äº†éšæ„å…¥æ ˆã€å‡ºæ ˆæƒ…å†µä¸‹çš„ O(1)æ—¶é—´è·å– â€œæ ˆå†…æœ€å°å€¼â€ ã€‚æœ¬é¢˜åŒç†ï¼Œä¸åŒç‚¹åœ¨äº â€œå‡ºæ ˆæ“ä½œâ€ åˆ é™¤çš„æ˜¯ â€œåˆ—è¡¨å°¾éƒ¨å…ƒç´ â€ ï¼Œè€Œ â€œçª—å£æ»‘åŠ¨â€ åˆ é™¤çš„æ˜¯ â€œåˆ—è¡¨é¦–éƒ¨å…ƒç´ â€ã€‚</p>
<p>çª—å£å¯¹åº”çš„æ•°æ®ç»“æ„ä¸º <strong>åŒç«¯é˜Ÿåˆ—</strong> ï¼Œæœ¬é¢˜ä½¿ç”¨ <strong>å•è°ƒé˜Ÿåˆ—</strong> å³å¯è§£å†³ä»¥ä¸Šé—®é¢˜ã€‚éå†æ•°ç»„æ—¶ï¼Œæ¯è½®ä¿è¯å•è°ƒé˜Ÿåˆ— dequeï¼š</p>
<ol>
<li>deque å†… <strong>ä»…åŒ…å«çª—å£å†…çš„å…ƒç´ </strong> â‡’ æ¯è½®çª—å£æ»‘åŠ¨ç§»é™¤äº†å…ƒç´ nums[iâˆ’1] ï¼Œéœ€å°† dequeå†…çš„å¯¹åº”å…ƒç´ ä¸€èµ·åˆ é™¤ã€‚</li>
<li>deque å†…çš„å…ƒç´  <strong>éä¸¥æ ¼é€’å‡</strong> â‡’ æ¯è½®çª—å£æ»‘åŠ¨æ·»åŠ äº†å…ƒç´  nums[j + 1]ï¼Œéœ€å°† dequeå†…æ‰€æœ‰ &lt; nums[j + 1]çš„å…ƒç´ åˆ é™¤ã€‚</li>
</ol>
<p><strong>ç®—æ³•æµç¨‹ï¼š</strong></p>
<ol>
<li>åˆå§‹åŒ–ï¼š åŒç«¯é˜Ÿåˆ— deque ï¼Œç»“æœåˆ—è¡¨ res ï¼Œæ•°ç»„é•¿åº¦ n ï¼›</li>
<li>æ»‘åŠ¨çª—å£ï¼š å·¦è¾¹ç•ŒèŒƒå›´iâˆˆ[1âˆ’k,nâˆ’k] ï¼Œå³è¾¹ç•ŒèŒƒå›´ jâˆˆ[0,nâˆ’1] ï¼›<ol>
<li>è‹¥ i &gt; 0 ä¸” é˜Ÿé¦–å…ƒç´  deque[0] &#x3D;&#x3D; è¢«åˆ é™¤å…ƒç´  nums[iâˆ’1] ï¼šåˆ™é˜Ÿé¦–å…ƒç´ å‡ºé˜Ÿï¼›</li>
<li>åˆ é™¤ deque å†…æ‰€æœ‰ &lt;nums[j] çš„å…ƒç´ ï¼Œä»¥ä¿æŒ deque é€’å‡ï¼›</li>
<li>å°† nums[j]æ·»åŠ è‡³deque å°¾éƒ¨ï¼›</li>
<li>è‹¥å·²å½¢æˆçª—å£ï¼ˆå³ iâ‰¥0 ï¼‰ï¼šå°†çª—å£æœ€å¤§å€¼ï¼ˆå³é˜Ÿé¦–å…ƒç´  deque[0] ï¼‰æ·»åŠ è‡³åˆ—è¡¨ res ï¼›</li>
</ol>
</li>
<li>è¿”å›å€¼ï¼š è¿”å›ç»“æœåˆ—è¡¨ resres ï¼›</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.leetcode-cn.com/1600878237-YoQeRX-Picture4.png" alt="img"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.leetcode-cn.com/1600878237-cFWnrv-Picture5.png" alt="img"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.leetcode-cn.com/1600878237-jrguEx-Picture6.png" alt="img"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.leetcode-cn.com/1600878237-KPnHbt-Picture8.png" alt="img"></p>
<p><strong>å¤æ‚åº¦åˆ†æï¼š</strong><br>æ—¶é—´å¤æ‚åº¦ O(n) ï¼š å…¶ä¸­ nn ä¸ºæ•°ç»„ nums é•¿åº¦ï¼›çº¿æ€§éå†nums å ç”¨O(n) ï¼›æ¯ä¸ªå…ƒç´ æœ€å¤šä»…å…¥é˜Ÿå’Œå‡ºé˜Ÿä¸€æ¬¡ï¼Œå› æ­¤å•è°ƒé˜Ÿåˆ— dequeå ç”¨ O(2n) ã€‚<br>ç©ºé—´å¤æ‚åº¦ O(k)ï¼š åŒç«¯é˜Ÿåˆ—deque ä¸­æœ€å¤šåŒæ—¶å­˜å‚¨ kä¸ªå…ƒç´ ï¼ˆå³çª—å£å¤§å°ï¼‰ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span>[] maxSlidingWindow2(<span class="type">int</span>[] nums, <span class="type">int</span> k) &#123;</span><br><span class="line">    <span class="keyword">if</span>(nums.length == <span class="number">0</span> || k == <span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">0</span>];</span><br><span class="line">    Deque&lt;Integer&gt; deque = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    <span class="type">int</span>[] res = <span class="keyword">new</span> <span class="title class_">int</span>[nums.length - k + <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>, i = <span class="number">1</span> - k; j &lt; nums.length; i++, j++) &#123;</span><br><span class="line">        <span class="comment">// åˆ é™¤ deque ä¸­å¯¹åº”çš„ nums[i-1]</span></span><br><span class="line">        <span class="keyword">if</span>(i &gt; <span class="number">0</span> &amp;&amp; deque.peekFirst() == nums[i - <span class="number">1</span>])</span><br><span class="line">            deque.removeFirst();</span><br><span class="line">        <span class="comment">// ä¿æŒ deque é€’å‡</span></span><br><span class="line">        <span class="keyword">while</span>(!deque.isEmpty() &amp;&amp; deque.peekLast() &lt; nums[j])</span><br><span class="line">            deque.removeLast();</span><br><span class="line">        deque.addLast(nums[j]);</span><br><span class="line">        <span class="comment">// è®°å½•çª—å£æœ€å¤§å€¼</span></span><br><span class="line">        <span class="keyword">if</span>(i &gt;= <span class="number">0</span>)</span><br><span class="line">            res[i] = deque.peekFirst();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-9ã€å‰‘æŒ‡-Offer-59-II-é˜Ÿåˆ—çš„æœ€å¤§å€¼"><a href="#5-9ã€å‰‘æŒ‡-Offer-59-II-é˜Ÿåˆ—çš„æœ€å¤§å€¼" class="headerlink" title="5.9ã€å‰‘æŒ‡ Offer 59 - II. é˜Ÿåˆ—çš„æœ€å¤§å€¼"></a>5.9ã€å‰‘æŒ‡ Offer 59 - II. é˜Ÿåˆ—çš„æœ€å¤§å€¼</h3><p>è¯·å®šä¹‰ä¸€ä¸ªé˜Ÿåˆ—å¹¶å®ç°å‡½æ•° <code>max_value</code> å¾—åˆ°é˜Ÿåˆ—é‡Œçš„æœ€å¤§å€¼ï¼Œè¦æ±‚å‡½æ•°<code>max_value</code>ã€<code>push_back</code> å’Œ <code>pop_front</code> çš„<strong>å‡æ‘Š</strong>æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯O(1)ã€‚</p>
<p>è‹¥é˜Ÿåˆ—ä¸ºç©ºï¼Œ<code>pop_front</code> å’Œ <code>max_value</code> éœ€è¦è¿”å› -1</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: </span><br><span class="line">[&quot;MaxQueue&quot;,&quot;push_back&quot;,&quot;push_back&quot;,&quot;max_value&quot;,&quot;pop_front&quot;,&quot;max_value&quot;]</span><br><span class="line">[[],[1],[2],[],[],[]]</span><br><span class="line">è¾“å‡º: [null,null,null,2,1,2]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: </span><br><span class="line">[&quot;MaxQueue&quot;,&quot;pop_front&quot;,&quot;max_value&quot;]</span><br><span class="line">[[],[],[]]</span><br><span class="line">è¾“å‡º: [null,-1,-1]</span><br></pre></td></tr></table></figure>



<p><strong>é™åˆ¶ï¼š</strong></p>
<ul>
<li><code>1 &lt;= push_back,pop_front,max_valueçš„æ€»æ“ä½œæ•° &lt;= 10000</code></li>
<li><code>1 &lt;= value &lt;= 10^5</code></li>
</ul>
<p>Related Topics</p>
<p>è®¾è®¡</p>
<p>é˜Ÿåˆ—</p>
<p>å•è°ƒé˜Ÿåˆ—</p>
<hr>
<p><strong>è§£é¢˜æ€è·¯ï¼š</strong></p>
<p>è€ƒè™‘åˆ©ç”¨ æ•°æ®ç»“æ„ æ¥å®ç°ï¼Œå³ç»å¸¸ä½¿ç”¨çš„ â€œç©ºé—´æ¢æ—¶é—´â€ ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œè€ƒè™‘æ„å»ºä¸€ä¸ªé€’å‡åˆ—è¡¨æ¥ä¿å­˜é˜Ÿåˆ— æ‰€æœ‰é€’å‡çš„å…ƒç´  ï¼Œé€’å‡é“¾è¡¨éšç€å…¥é˜Ÿå’Œå‡ºé˜Ÿæ“ä½œå®æ—¶æ›´æ–°ï¼Œè¿™æ ·é˜Ÿåˆ—æœ€å¤§å…ƒç´ å°±å§‹ç»ˆå¯¹åº”é€’å‡åˆ—è¡¨çš„é¦–å…ƒç´ ï¼Œå®ç°äº†è·å–æœ€å¤§å€¼O(1) æ—¶é—´å¤æ‚åº¦ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.leetcode-cn.com/1609261470-gMTEAf-Picture2.png" alt="Picture2.png"></p>
<p>ä¸ºäº†å®ç°æ­¤é€’å‡åˆ—è¡¨ï¼Œéœ€è¦ä½¿ç”¨ <strong>åŒå‘é˜Ÿåˆ—</strong> ï¼Œå‡è®¾é˜Ÿåˆ—å·²ç»æœ‰è‹¥å¹²å…ƒç´ ï¼š</p>
<ol>
<li>å½“æ‰§è¡Œå…¥é˜Ÿ push_back() æ—¶ï¼š è‹¥å…¥é˜Ÿä¸€ä¸ªæ¯”é˜Ÿåˆ—æŸäº›å…ƒç´ æ›´å¤§çš„æ•°å­— x ï¼Œåˆ™ä¸ºäº†ä¿æŒæ­¤åˆ—è¡¨é€’å‡ï¼Œéœ€è¦å°†åŒå‘é˜Ÿåˆ— å°¾éƒ¨æ‰€æœ‰å°äº x çš„å…ƒç´  å¼¹å‡ºã€‚</li>
<li>å½“æ‰§è¡Œå‡ºé˜Ÿ pop_front() æ—¶ï¼š è‹¥å‡ºé˜Ÿçš„å…ƒç´ æ˜¯æœ€å¤§å…ƒç´ ï¼Œåˆ™ åŒå‘é˜Ÿåˆ— éœ€è¦åŒæ—¶ <strong>å°†é¦–å…ƒç´ å‡ºé˜Ÿ</strong> ï¼Œä»¥ä¿æŒé˜Ÿåˆ—å’ŒåŒå‘é˜Ÿåˆ—çš„å…ƒç´ ä¸€è‡´æ€§ã€‚</li>
</ol>
<blockquote>
<p>ä½¿ç”¨åŒå‘é˜Ÿåˆ—åŸå› ï¼šç»´æŠ¤é€’å‡åˆ—è¡¨éœ€è¦å…ƒç´ é˜Ÿé¦–å¼¹å‡ºã€é˜Ÿå°¾æ’å…¥ã€é˜Ÿå°¾å¼¹å‡ºæ“ä½œçš†ä¸ºO(1) æ—¶é—´å¤æ‚åº¦ã€‚</p>
</blockquote>
<p><strong>å‡½æ•°è®¾è®¡ï¼š</strong></p>
<p>åˆå§‹åŒ–é˜Ÿåˆ— queue ï¼ŒåŒå‘é˜Ÿåˆ— deque ï¼›</p>
<p><strong>æœ€å¤§å€¼ max_value() ï¼š</strong></p>
<ul>
<li>å½“åŒå‘é˜Ÿåˆ— deque ä¸ºç©ºï¼Œåˆ™è¿”å›âˆ’1 ï¼›</li>
<li>å¦åˆ™ï¼Œè¿”å› deque é¦–å…ƒç´ ï¼›</li>
</ul>
<p><strong>å…¥é˜Ÿ push_back() ï¼š</strong></p>
<ul>
<li>å°†å…ƒç´  value å…¥é˜Ÿ queue ï¼›</li>
<li>å°†åŒå‘é˜Ÿåˆ—ä¸­é˜Ÿå°¾ æ‰€æœ‰ å°äº value çš„å…ƒç´ å¼¹å‡ºï¼ˆä»¥ä¿æŒ deque éå•è°ƒé€’å‡ï¼‰ï¼Œå¹¶å°†å…ƒç´  value å…¥é˜Ÿ deque ï¼›</li>
</ul>
<p><strong>å‡ºé˜Ÿ pop_front() ï¼š</strong></p>
<ul>
<li>è‹¥é˜Ÿåˆ— queue ä¸ºç©ºï¼Œåˆ™ç›´æ¥è¿”å› -1âˆ’1 ï¼›</li>
<li>å¦åˆ™ï¼Œå°† queue é¦–å…ƒç´ å‡ºé˜Ÿï¼›</li>
<li>è‹¥ deque é¦–å…ƒç´ å’Œ queue é¦–å…ƒç´  ç›¸ç­‰ ï¼Œåˆ™å°† deque é¦–å…ƒç´ å‡ºé˜Ÿï¼ˆä»¥ä¿æŒä¸¤é˜Ÿåˆ— å…ƒç´ ä¸€è‡´ ï¼‰ ï¼›</li>
</ul>
<blockquote>
<p>è®¾è®¡åŒå‘é˜Ÿåˆ—ä¸º éå•è°ƒé€’å‡ çš„åŸå› ï¼šè‹¥é˜Ÿåˆ— queue ä¸­å­˜åœ¨ä¸¤ä¸ª å€¼ç›¸åŒçš„æœ€å¤§å…ƒç´  ï¼Œæ­¤æ—¶ queue å’Œ deque åŒæ—¶å¼¹å‡ºä¸€ä¸ªæœ€å¤§å…ƒç´ ï¼Œè€Œ queue ä¸­è¿˜æœ‰ä¸€ä¸ªæ­¤æœ€å¤§å…ƒç´ ï¼›å³é‡‡ç”¨å•è°ƒé€’å‡å°†å¯¼è‡´ä¸¤é˜Ÿåˆ—ä¸­çš„å…ƒç´ ä¸ä¸€è‡´ã€‚</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MaxQueue</span> &#123;</span><br><span class="line">    Queue&lt;Integer&gt; queue;</span><br><span class="line">    Deque&lt;Integer&gt; deque;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MaxQueue</span><span class="params">()</span> &#123;</span><br><span class="line">        queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        deque = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">max_value</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (deque.isEmpty()) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="keyword">return</span> deque.peekFirst();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">push_back</span><span class="params">(<span class="type">int</span> value)</span> &#123;</span><br><span class="line">        queue.add(value);</span><br><span class="line">        <span class="keyword">while</span>(!deque.isEmpty() &amp;&amp; deque.peekLast() &lt; value)</span><br><span class="line">            deque.pollLast();</span><br><span class="line">        deque.offerLast(value);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">pop_front</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (queue.isEmpty())</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (Objects.equals(queue.peek(), deque.peekFirst()))</span><br><span class="line">                deque.removeFirst();</span><br><span class="line">            <span class="keyword">return</span> queue.poll();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-10ã€å‰‘æŒ‡-Offer-67-æŠŠå­—ç¬¦ä¸²è½¬æ¢æˆæ•´æ•°"><a href="#5-10ã€å‰‘æŒ‡-Offer-67-æŠŠå­—ç¬¦ä¸²è½¬æ¢æˆæ•´æ•°" class="headerlink" title="5.10ã€å‰‘æŒ‡ Offer 67. æŠŠå­—ç¬¦ä¸²è½¬æ¢æˆæ•´æ•°"></a>5.10ã€å‰‘æŒ‡ Offer 67. æŠŠå­—ç¬¦ä¸²è½¬æ¢æˆæ•´æ•°</h3><p>å†™ä¸€ä¸ªå‡½æ•° StrToIntï¼Œå®ç°æŠŠå­—ç¬¦ä¸²è½¬æ¢æˆæ•´æ•°è¿™ä¸ªåŠŸèƒ½ã€‚ä¸èƒ½ä½¿ç”¨ atoi æˆ–è€…å…¶ä»–ç±»ä¼¼çš„åº“å‡½æ•°ã€‚</p>
<p>é¦–å…ˆï¼Œè¯¥å‡½æ•°ä¼šæ ¹æ®éœ€è¦ä¸¢å¼ƒæ— ç”¨çš„å¼€å¤´ç©ºæ ¼å­—ç¬¦ï¼Œç›´åˆ°å¯»æ‰¾åˆ°ç¬¬ä¸€ä¸ªéç©ºæ ¼çš„å­—ç¬¦ä¸ºæ­¢ã€‚</p>
<p>å½“æˆ‘ä»¬å¯»æ‰¾åˆ°çš„ç¬¬ä¸€ä¸ªéç©ºå­—ç¬¦ä¸ºæ­£æˆ–è€…è´Ÿå·æ—¶ï¼Œåˆ™å°†è¯¥ç¬¦å·ä¸ä¹‹åé¢å°½å¯èƒ½å¤šçš„è¿ç»­æ•°å­—ç»„åˆèµ·æ¥ï¼Œä½œä¸ºè¯¥æ•´æ•°çš„æ­£è´Ÿå·ï¼›å‡å¦‚ç¬¬ä¸€ä¸ªéç©ºå­—ç¬¦æ˜¯æ•°å­—ï¼Œåˆ™ç›´æ¥å°†å…¶ä¸ä¹‹åè¿ç»­çš„æ•°å­—å­—ç¬¦ç»„åˆèµ·æ¥ï¼Œå½¢æˆæ•´æ•°ã€‚</p>
<p>è¯¥å­—ç¬¦ä¸²é™¤äº†æœ‰æ•ˆçš„æ•´æ•°éƒ¨åˆ†ä¹‹åä¹Ÿå¯èƒ½ä¼šå­˜åœ¨å¤šä½™çš„å­—ç¬¦ï¼Œè¿™äº›å­—ç¬¦å¯ä»¥è¢«å¿½ç•¥ï¼Œå®ƒä»¬å¯¹äºå‡½æ•°ä¸åº”è¯¥é€ æˆå½±å“ã€‚</p>
<p>æ³¨æ„ï¼šå‡å¦‚è¯¥å­—ç¬¦ä¸²ä¸­çš„ç¬¬ä¸€ä¸ªéç©ºæ ¼å­—ç¬¦ä¸æ˜¯ä¸€ä¸ªæœ‰æ•ˆæ•´æ•°å­—ç¬¦ã€å­—ç¬¦ä¸²ä¸ºç©ºæˆ–å­—ç¬¦ä¸²ä»…åŒ…å«ç©ºç™½å­—ç¬¦æ—¶ï¼Œåˆ™ä½ çš„å‡½æ•°ä¸éœ€è¦è¿›è¡Œè½¬æ¢ã€‚</p>
<p>åœ¨ä»»ä½•æƒ…å†µä¸‹ï¼Œè‹¥å‡½æ•°ä¸èƒ½è¿›è¡Œæœ‰æ•ˆçš„è½¬æ¢æ—¶ï¼Œè¯·è¿”å› 0ã€‚</p>
<p><strong>è¯´æ˜ï¼š</strong></p>
<p>å‡è®¾æˆ‘ä»¬çš„ç¯å¢ƒåªèƒ½å­˜å‚¨ 32 ä½å¤§å°çš„æœ‰ç¬¦å·æ•´æ•°ï¼Œé‚£ä¹ˆå…¶æ•°å€¼èŒƒå›´ä¸º [âˆ’231, 231 âˆ’ 1]ã€‚å¦‚æœæ•°å€¼è¶…è¿‡è¿™ä¸ªèŒƒå›´ï¼Œè¯·è¿”å› INT_MAX (231 âˆ’ 1) æˆ– INT_MIN (âˆ’231) ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: &quot;42&quot;</span><br><span class="line">è¾“å‡º: 42</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: &quot;   -42&quot;</span><br><span class="line">è¾“å‡º: -42</span><br><span class="line">è§£é‡Š: ç¬¬ä¸€ä¸ªéç©ºç™½å­—ç¬¦ä¸º &#x27;-&#x27;, å®ƒæ˜¯ä¸€ä¸ªè´Ÿå·ã€‚</span><br><span class="line">     æˆ‘ä»¬å°½å¯èƒ½å°†è´Ÿå·ä¸åé¢æ‰€æœ‰è¿ç»­å‡ºç°çš„æ•°å­—ç»„åˆèµ·æ¥ï¼Œæœ€åå¾—åˆ° -42 ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: &quot;4193 with words&quot;</span><br><span class="line">è¾“å‡º: 4193</span><br><span class="line">è§£é‡Š: è½¬æ¢æˆªæ­¢äºæ•°å­— &#x27;3&#x27; ï¼Œå› ä¸ºå®ƒçš„ä¸‹ä¸€ä¸ªå­—ç¬¦ä¸ä¸ºæ•°å­—ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 4:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: &quot;words and 987&quot;</span><br><span class="line">è¾“å‡º: 0</span><br><span class="line">è§£é‡Š: ç¬¬ä¸€ä¸ªéç©ºå­—ç¬¦æ˜¯ &#x27;w&#x27;, ä½†å®ƒä¸æ˜¯æ•°å­—æˆ–æ­£ã€è´Ÿå·ã€‚</span><br><span class="line">     å› æ­¤æ— æ³•æ‰§è¡Œæœ‰æ•ˆçš„è½¬æ¢ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 5:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: &quot;-91283472332&quot;</span><br><span class="line">è¾“å‡º: -2147483648</span><br><span class="line">è§£é‡Š: æ•°å­— &quot;-91283472332&quot; è¶…è¿‡ 32 ä½æœ‰ç¬¦å·æ•´æ•°èŒƒå›´ã€‚ </span><br><span class="line">     å› æ­¤è¿”å› INT_MIN (âˆ’231) ã€‚</span><br></pre></td></tr></table></figure>

<p>Related Topics</p>
<p>å­—ç¬¦ä¸²</p>
<hr>
<p><strong>è§£é¢˜æ€è·¯ï¼š</strong><br>æ ¹æ®é¢˜æ„ï¼Œæœ‰ä»¥ä¸‹å››ç§å­—ç¬¦éœ€è¦è€ƒè™‘ï¼š</p>
<ol>
<li><p>é¦–éƒ¨ç©ºæ ¼ï¼š åˆ é™¤ä¹‹å³å¯ï¼›</p>
</li>
<li><p>ç¬¦å·ä½ï¼š ä¸‰ç§æƒ…å†µï¼Œå³ â€˜â€™++â€™â€™ , â€˜â€™-âˆ’â€™â€™ , â€˜â€™æ— ç¬¦å·â€ ï¼›æ–°å»ºä¸€ä¸ªå˜é‡ä¿å­˜ç¬¦å·ä½ï¼Œè¿”å›å‰åˆ¤æ–­æ­£è´Ÿå³å¯ï¼›</p>
</li>
<li><p>éæ•°å­—å­—ç¬¦ï¼š é‡åˆ°é¦–ä¸ªéæ•°å­—çš„å­—ç¬¦æ—¶ï¼Œåº”ç«‹å³è¿”å›ï¼›</p>
</li>
<li><p>æ•°å­—å­—ç¬¦ï¼š</p>
<ol>
<li><p>å­—ç¬¦è½¬æ•°å­—ï¼š â€œæ­¤æ•°å­—çš„ ASCII ç â€ ä¸ â€œ 00 çš„ ASCII ç â€ ç›¸å‡å³å¯ï¼›</p>
</li>
<li><p>æ•°å­—æ‹¼æ¥ï¼š è‹¥ä»å·¦å‘å³éå†æ•°å­—ï¼Œè®¾å½“å‰ä½å­—ç¬¦ä¸º cc ï¼Œå½“å‰ä½æ•°å­—ä¸º xx ï¼Œæ•°å­—ç»“æœä¸º resres ï¼Œåˆ™æ•°å­—æ‹¼æ¥å…¬å¼ä¸ºï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202210291215534.png" alt="image-20221029121552410"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.leetcode-cn.com/1600793383-jCgsGU-Picture1.png" alt="Picture1.png"></p>
</li>
</ol>
</li>
</ol>
<p><strong>æ•°å­—è¶Šç•Œå¤„ç†ï¼š</strong></p>
<blockquote>
<p>é¢˜ç›®è¦æ±‚è¿”å›çš„æ•°å€¼èŒƒå›´åº”åœ¨[âˆ’2^31 ,2^31 âˆ’1] ï¼Œå› æ­¤éœ€è¦è€ƒè™‘æ•°å­—è¶Šç•Œé—®é¢˜ã€‚è€Œç”±äºé¢˜ç›®æŒ‡å‡º ç¯å¢ƒåªèƒ½å­˜å‚¨ 32 ä½å¤§å°çš„æœ‰ç¬¦å·æ•´æ•° ï¼Œå› æ­¤åˆ¤æ–­æ•°å­—è¶Šç•Œæ—¶ï¼Œè¦å§‹ç»ˆä¿æŒ res åœ¨ int ç±»å‹çš„å–å€¼èŒƒå›´å†…ã€‚</p>
</blockquote>
<p>åœ¨æ¯è½®æ•°å­—æ‹¼æ¥å‰ï¼Œåˆ¤æ–­res åœ¨æ­¤è½®æ‹¼æ¥åæ˜¯å¦è¶…è¿‡ 2147483647ï¼Œè‹¥è¶…è¿‡åˆ™åŠ ä¸Šç¬¦å·ä½ç›´æ¥è¿”å›ã€‚<br>è®¾æ•°å­—æ‹¼æ¥è¾¹ç•Œ bndry &#x3D; 2147483647 &#x2F;&#x2F; 10 &#x3D; 214748364ï¼Œåˆ™ä»¥ä¸‹ä¸¤ç§æƒ…å†µè¶Šç•Œï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202210291218048.png" alt="image-20221029121808981"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.leetcode-cn.com/1600793383-JZRYip-Picture2.png" alt="Picture2.png"></p>
<p><strong>å¤æ‚åº¦åˆ†æï¼š</strong><br>æ—¶é—´å¤æ‚åº¦ O(N) ï¼š å…¶ä¸­ N ä¸ºå­—ç¬¦ä¸²é•¿åº¦ï¼Œçº¿æ€§éå†å­—ç¬¦ä¸²å ç”¨ O(N) æ—¶é—´ã€‚<br>ç©ºé—´å¤æ‚åº¦ O(N) ï¼š åˆ é™¤é¦–å°¾ç©ºæ ¼åéœ€å»ºç«‹æ–°å­—ç¬¦ä¸²ï¼Œæœ€å·®æƒ…å†µä¸‹å ç”¨ O(N) é¢å¤–ç©ºé—´ã€‚</p>
<p>è‹¥ä¸ä½¿ç”¨ <code>trim() / strip()</code> åˆ é™¤é¦–éƒ¨ç©ºæ ¼ï¼Œè€Œé‡‡å–éå†è·³è¿‡ç©ºæ ¼çš„æ–¹å¼ï¼Œåˆ™å¯ä»¥å°†ç©ºé—´å¤æ‚åº¦é™ä½è‡³ O(1) ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">strToInt</span><span class="params">(String str)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>, <span class="comment">// è¿”å›å€¼</span></span><br><span class="line">        bndry = Integer.MAX_VALUE / <span class="number">10</span>; <span class="comment">// è¶Šç•Œæ ‡å¿—</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>, <span class="comment">// éå†</span></span><br><span class="line">        sign = <span class="number">1</span>, <span class="comment">// æ­£è´Ÿæ ‡å¿—ä½</span></span><br><span class="line">        length = str.length();</span><br><span class="line">    <span class="keyword">if</span> (length == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (str.charAt(i) == <span class="string">&#x27; &#x27;</span>) &#123; <span class="comment">// è·³è¿‡ç©ºæ ¼</span></span><br><span class="line">        <span class="keyword">if</span> (++i == length) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (str.charAt(i) == <span class="string">&#x27;-&#x27;</span>) sign = -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (str.charAt(i) == <span class="string">&#x27;+&#x27;</span> || str.charAt(i) == <span class="string">&#x27;-&#x27;</span>) i++;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i; j &lt; length; j++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (str.charAt(j) &lt; <span class="string">&#x27;0&#x27;</span> || str.charAt(j) &gt; <span class="string">&#x27;9&#x27;</span>) <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">if</span> (res &gt; bndry || res == bndry &amp;&amp; str.charAt(j) &gt; <span class="string">&#x27;7&#x27;</span>) <span class="comment">// è¶Šç•Œ</span></span><br><span class="line">            <span class="keyword">return</span> sign == <span class="number">1</span> ? Integer.MAX_VALUE : Integer.MIN_VALUE;</span><br><span class="line">        res = res * <span class="number">10</span> + (str.charAt(j) - <span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res * sign;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-11ã€LC2-ä¸¤æ•°ä¹‹å’Œ"><a href="#5-11ã€LC2-ä¸¤æ•°ä¹‹å’Œ" class="headerlink" title="5.11ã€LC2. ä¸¤æ•°ä¹‹å’Œ"></a>5.11ã€LC2. ä¸¤æ•°ä¹‹å’Œ</h3><p>ç»™ä½ ä¸¤ä¸ª <strong>éç©º</strong> çš„é“¾è¡¨ï¼Œè¡¨ç¤ºä¸¤ä¸ªéè´Ÿçš„æ•´æ•°ã€‚å®ƒä»¬æ¯ä½æ•°å­—éƒ½æ˜¯æŒ‰ç…§ <strong>é€†åº</strong> çš„æ–¹å¼å­˜å‚¨çš„ï¼Œå¹¶ä¸”æ¯ä¸ªèŠ‚ç‚¹åªèƒ½å­˜å‚¨ <strong>ä¸€ä½</strong> æ•°å­—ã€‚</p>
<p>è¯·ä½ å°†ä¸¤ä¸ªæ•°ç›¸åŠ ï¼Œå¹¶ä»¥ç›¸åŒå½¢å¼è¿”å›ä¸€ä¸ªè¡¨ç¤ºå’Œçš„é“¾è¡¨ã€‚</p>
<p>ä½ å¯ä»¥å‡è®¾é™¤äº†æ•°å­— 0 ä¹‹å¤–ï¼Œè¿™ä¸¤ä¸ªæ•°éƒ½ä¸ä¼šä»¥ 0 å¼€å¤´ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2021/01/02/addtwonumber1.jpg" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šl1 = [2,4,3], l2 = [5,6,4]</span><br><span class="line">è¾“å‡ºï¼š[7,0,8]</span><br><span class="line">è§£é‡Šï¼š342 + 465 = 807.</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šl1 = [0], l2 = [0]</span><br><span class="line">è¾“å‡ºï¼š[0]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šl1 = [9,9,9,9,9,9,9], l2 = [9,9,9,9]</span><br><span class="line">è¾“å‡ºï¼š[8,9,9,9,0,0,0,1]</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li>æ¯ä¸ªé“¾è¡¨ä¸­çš„èŠ‚ç‚¹æ•°åœ¨èŒƒå›´ <code>[1, 100]</code> å†…</li>
<li><code>0 &lt;= Node.val &lt;= 9</code></li>
<li>é¢˜ç›®æ•°æ®ä¿è¯åˆ—è¡¨è¡¨ç¤ºçš„æ•°å­—ä¸å«å‰å¯¼é›¶</li>
</ul>
<p>Related Topics</p>
<p>é€’å½’</p>
<p>é“¾è¡¨</p>
<p>æ•°å­¦</p>
<h4 id="æ„é€ æ–°é“¾è¡¨"><a href="#æ„é€ æ–°é“¾è¡¨" class="headerlink" title="æ„é€ æ–°é“¾è¡¨"></a>æ„é€ æ–°é“¾è¡¨</h4><p>é€šè¿‡è®¡ç®—ä¸¤ä¸ªé“¾è¡¨çš„å’Œæ„é€ ä¸€ä¸ªæ–°é“¾è¡¨ã€‚</p>
<p>æ—¶é—´å¤æ‚åº¦O(N)</p>
<p>ç©ºé—´å¤æ‚åº¦O(N)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/***</span></span><br><span class="line"><span class="comment">     * æ„å»ºæ–°é“¾è¡¨</span></span><br><span class="line"><span class="comment">     * æ—¶é—´å¤æ‚åº¦O(n)</span></span><br><span class="line"><span class="comment">     * ç©ºé—´å¤æ‚åº¦O(1)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"><span class="keyword">public</span> ListNode <span class="title function_">addTwoNumbers1</span><span class="params">(ListNode l1, ListNode l2)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">out</span> <span class="operator">=</span> <span class="number">0</span>;<span class="comment">//è®°å½•è¿›ä½</span></span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">cur1</span> <span class="operator">=</span> l1;</span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">cur2</span> <span class="operator">=</span> l2;</span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">head</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ListNode</span>(<span class="number">0</span>);</span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">cur</span> <span class="operator">=</span> head;</span><br><span class="line">    <span class="keyword">while</span> (cur1 != <span class="literal">null</span> || cur2 != <span class="literal">null</span>) &#123;</span><br><span class="line">        cur.next = <span class="keyword">new</span> <span class="title class_">ListNode</span>(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span> (cur1 == <span class="literal">null</span>) &#123;</span><br><span class="line">            cur.next.val = cur2.val + out;</span><br><span class="line">            cur2 = cur2.next;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (cur2 == <span class="literal">null</span>) &#123;</span><br><span class="line">            cur.next.val = cur1.val + out;</span><br><span class="line">            cur1 = cur1.next;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            cur.next.val = cur1.val + cur2.val + out;</span><br><span class="line">            cur1 = cur1.next;</span><br><span class="line">            cur2 = cur2.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (cur.next.val &gt; <span class="number">9</span>) &#123; <span class="comment">// 2 ä½æ•°</span></span><br><span class="line">            cur.next.val = cur.next.val % <span class="number">10</span>;</span><br><span class="line">            out = <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            out = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        cur = cur.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (out == <span class="number">1</span>) &#123; <span class="comment">//å¦‚æœæœ‰è¿›ä½ å¡«ä¸Šè¿›ä½</span></span><br><span class="line">        cur.next = <span class="keyword">new</span> <span class="title class_">ListNode</span>(<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> head.next;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="åœ¨åŸé“¾è¡¨ä¸Šæ“ä½œ"><a href="#åœ¨åŸé“¾è¡¨ä¸Šæ“ä½œ" class="headerlink" title="åœ¨åŸé“¾è¡¨ä¸Šæ“ä½œ"></a>åœ¨åŸé“¾è¡¨ä¸Šæ“ä½œ</h4><p>å¦‚æœé“¾è¡¨1æ²¡æœ‰é“¾è¡¨2é•¿çš„è¯ï¼Œå°±æŠŠé“¾è¡¨2çš„åç»­æ¥åœ¨é“¾è¡¨1ä¸Šã€‚å¤„ç†åç»­æœ‰ç‚¹éº»çƒ¦ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * åœ¨åŸé“¾è¡¨ä¸Šæ”¹å€¼</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> ListNode <span class="title function_">addTwoNumbers</span><span class="params">(ListNode l1, ListNode l2)</span> &#123;</span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">cur1</span> <span class="operator">=</span> l1;</span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">cur2</span> <span class="operator">=</span> l2;</span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">pre</span> <span class="operator">=</span> l1;</span><br><span class="line">    <span class="type">int</span> <span class="variable">out</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (cur1 != <span class="literal">null</span> &amp;&amp; cur2 != <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (cur1.next == <span class="literal">null</span>) &#123; <span class="comment">//cur1 å°æ‹¼æ¥</span></span><br><span class="line">            cur1.next = cur2.next;</span><br><span class="line">            cur2.next = <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        cur1.val = cur1.val + cur2.val + out;</span><br><span class="line">        out = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (cur1.val &gt; <span class="number">9</span>) &#123;</span><br><span class="line">            cur1.val = cur1.val % <span class="number">10</span>;</span><br><span class="line">            out = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        pre = cur1;</span><br><span class="line">        cur1 = cur1.next;</span><br><span class="line">        cur2 = cur2.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (cur1 == <span class="literal">null</span> &amp;&amp; out == <span class="number">1</span>) &#123; <span class="comment">//ä½æ•°ç›¸åŒ æœ‰ä¸€ä¸ªè¿›ä½</span></span><br><span class="line">        pre.next = <span class="keyword">new</span> <span class="title class_">ListNode</span>(<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (cur1 != <span class="literal">null</span>) &#123; <span class="comment">//å¦‚æœå­˜åœ¨æ‹¼æ¥çš„æƒ…å†µï¼Œåˆ™å¯èƒ½å­˜åœ¨è¿›ä½æœªåŠ çš„æƒ…å†µ</span></span><br><span class="line">        cur1.val += out;</span><br><span class="line">        out = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (cur1.val &gt; <span class="number">9</span>) &#123;</span><br><span class="line">            cur1.val = cur1.val % <span class="number">10</span>;</span><br><span class="line">            out = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (cur1.next == <span class="literal">null</span> &amp;&amp; out == <span class="number">1</span>) &#123;</span><br><span class="line">            cur1.next = <span class="keyword">new</span> <span class="title class_">ListNode</span>(<span class="number">1</span>);</span><br><span class="line">            out = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        cur1 = cur1.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> l1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å…­ã€æœ‰é™çŠ¶æ€è‡ªåŠ¨æœºï¼ˆFSMï¼‰"><a href="#å…­ã€æœ‰é™çŠ¶æ€è‡ªåŠ¨æœºï¼ˆFSMï¼‰" class="headerlink" title="å…­ã€æœ‰é™çŠ¶æ€è‡ªåŠ¨æœºï¼ˆFSMï¼‰"></a>å…­ã€æœ‰é™çŠ¶æ€è‡ªåŠ¨æœºï¼ˆFSMï¼‰</h2><p>â€ƒæœ‰é™çŠ¶æ€æœºï¼ˆFinite State Machine, FSMï¼‰ï¼Œåˆç§°æœ‰é™çŠ¶æ€è‡ªåŠ¨æœºï¼Œç®€ç§°çŠ¶æ€æœºï¼Œæ˜¯æŒ‡åœ¨æœ‰é™ä¸ªçŠ¶æ€ä¹‹é—´æŒ‰ç…§ä¸€å®šè§„å¾‹è½¬æ¢çš„æ—¶åºç”µè·¯ã€‚</p>
<p>ä»€ä¹ˆæ˜¯æœ‰é™çŠ¶æ€è‡ªåŠ¨æœº<br>æ˜¯ä¸€ç§å…·æœ‰ç¦»æ•£è¾“å…¥&#x2F;è¾“å‡ºç³»ç»Ÿçš„æ•°å­¦æ¨¡å‹ï¼Œç®€ç§° æœ‰é™è‡ªåŠ¨æœºã€‚è¿™ä¸€ç³»ç»Ÿå…·æœ‰ä»»æ„æœ‰é™æ•°é‡çš„å†…éƒ¨â€œçŠ¶æ€â€ã€‚</p>
<p>çŠ¶æ€:ä¸€ä¸ªæ ‡è¯†ï¼Œèƒ½åŒºåˆ†è‡ªåŠ¨æœºåœ¨ä¸åŒæ—¶åˆ»çš„çŠ¶å†µã€‚æœ‰é™çŠ¶æ€ç³»ç»Ÿå…·æœ‰ä»»æ„æœ‰é™æ•°ç›®çš„å†…éƒ¨â€œçŠ¶æ€â€</p>
<p>è‡ªåŠ¨æœºæ¥å—ä¸€å®šçš„è¾“å…¥ï¼Œæ‰§è¡Œä¸€å®šçš„åŠ¨ä½œï¼Œäº§ç”Ÿä¸€å®šçš„ç»“æœã€‚</p>
<p>è‡ªåŠ¨æœºçš„æœ¬è´¨:æ ¹æ®çŠ¶æ€ã€è¾“å…¥å’Œè§„åˆ™å†³å®šä¸‹ä¸€ä¸ªçŠ¶æ€</p>
<p>çŠ¶æ€ +è¾“å…¥(æ¿€åŠ±)+è§„åˆ™ . çŠ¶æ€è¿ç§»</p>
<p>å¯èƒ½çš„çŠ¶æ€ã€è¿è¡Œçš„è§„åˆ™éƒ½æ˜¯äº‹å…ˆç¡®å®šçš„ã€‚ä¸€æ—¦å¼€å§‹è¿è¡Œï¼Œå°±æŒ‰ç…§å®ç°ç¡®å®šçš„è§„åˆ™å·¥ä½œï¼Œå› æ­¤å«â€è‡ªåŠ¨æœºâ€ã€‚ä½¿ç”¨çŠ¶æ€è¿ç§»æè¿°æ•´ä¸ªå·¥ä½œè¿‡ç¨‹</p>
<p>æœ‰é™è‡ªåŠ¨æœºç¤ºæ„å›¾:</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/10b29ca6d5e0a9923a58c59041235ab0.png" alt="image-20220409152351649"></p>
<h3 id="6-1ã€åº”ç”¨æœ‰é™è‡ªåŠ¨æœºè§£é¢˜æ­¥éª¤"><a href="#6-1ã€åº”ç”¨æœ‰é™è‡ªåŠ¨æœºè§£é¢˜æ­¥éª¤" class="headerlink" title="6.1ã€åº”ç”¨æœ‰é™è‡ªåŠ¨æœºè§£é¢˜æ­¥éª¤"></a>6.1ã€åº”ç”¨æœ‰é™è‡ªåŠ¨æœºè§£é¢˜æ­¥éª¤</h3><p><strong>1ã€ç¡®å®šè¾“å…¥é›†</strong></p>
<p><strong>2ã€ç»˜åˆ¶çŠ¶æ€è¿ç§»å›¾ï¼ˆç¡®å®šçŠ¶æ€ï¼Œåœ¨æ¯ä¸€ä¸ªçŠ¶æ€ä¸‹å¯¹è¾“å…¥è¿›è¡Œåˆ†ç±»ï¼Œé’ˆå¯¹æ¯ä¸€ç±»è¾“å…¥ï¼Œç¡®å®šä¸‹ä¸€ä¸ªçŠ¶æ€ï¼‰</strong></p>
<p><strong>3ã€ç¡®å®šçŠ¶æ€è½¬ç§»å‡½æ•°ï¼ˆåœ¨æŸçŠ¶æ€ä¸‹ï¼Œæ¥æ”¶åˆ°æŸä¸€å­—ç¬¦åï¼Œè‡ªåŠ¨æœºè¦æ‰§è¡Œçš„æ“ä½œï¼Œä»¥åŠè¿ç§»åˆ°çš„ä¸‹ä¸€çŠ¶æ€ï¼‰</strong></p>
<h3 id="6-2ã€å‰‘æŒ‡-Offer-20-è¡¨ç¤ºæ•°å€¼çš„å­—ç¬¦ä¸²"><a href="#6-2ã€å‰‘æŒ‡-Offer-20-è¡¨ç¤ºæ•°å€¼çš„å­—ç¬¦ä¸²" class="headerlink" title="6.2ã€å‰‘æŒ‡ Offer 20. è¡¨ç¤ºæ•°å€¼çš„å­—ç¬¦ä¸²"></a>6.2ã€å‰‘æŒ‡ Offer 20. è¡¨ç¤ºæ•°å€¼çš„å­—ç¬¦ä¸²</h3><p>è¯·å®ç°ä¸€ä¸ªå‡½æ•°ç”¨æ¥åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦è¡¨ç¤º<strong>æ•°å€¼</strong>ï¼ˆåŒ…æ‹¬æ•´æ•°å’Œå°æ•°ï¼‰ã€‚</p>
<p><strong>æ•°å€¼</strong>ï¼ˆæŒ‰é¡ºåºï¼‰å¯ä»¥åˆ†æˆä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š</p>
<ol>
<li>è‹¥å¹²ç©ºæ ¼</li>
<li>ä¸€ä¸ª <strong>å°æ•°</strong> æˆ–è€… <strong>æ•´æ•°</strong></li>
<li>ï¼ˆå¯é€‰ï¼‰ä¸€ä¸ª <code>&#39;e&#39;</code> æˆ– <code>&#39;E&#39;</code> ï¼Œåé¢è·Ÿç€ä¸€ä¸ª <strong>æ•´æ•°</strong></li>
<li>è‹¥å¹²ç©ºæ ¼</li>
</ol>
<p><strong>å°æ•°</strong>ï¼ˆæŒ‰é¡ºåºï¼‰å¯ä»¥åˆ†æˆä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š</p>
<ol>
<li>ï¼ˆå¯é€‰ï¼‰ä¸€ä¸ªç¬¦å·å­—ç¬¦ï¼ˆ<code>&#39;+&#39;</code> æˆ– <code>&#39;-&#39;</code>ï¼‰</li>
<li>ä¸‹è¿°æ ¼å¼ä¹‹ä¸€ï¼š<ol>
<li>è‡³å°‘ä¸€ä½æ•°å­—ï¼Œåé¢è·Ÿç€ä¸€ä¸ªç‚¹ <code>&#39;.&#39;</code></li>
<li>è‡³å°‘ä¸€ä½æ•°å­—ï¼Œåé¢è·Ÿç€ä¸€ä¸ªç‚¹ <code>&#39;.&#39;</code> ï¼Œåé¢å†è·Ÿç€è‡³å°‘ä¸€ä½æ•°å­—</li>
<li>ä¸€ä¸ªç‚¹ <code>&#39;.&#39;</code> ï¼Œåé¢è·Ÿç€è‡³å°‘ä¸€ä½æ•°å­—</li>
</ol>
</li>
</ol>
<p><strong>æ•´æ•°</strong>ï¼ˆæŒ‰é¡ºåºï¼‰å¯ä»¥åˆ†æˆä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š</p>
<ol>
<li>ï¼ˆå¯é€‰ï¼‰ä¸€ä¸ªç¬¦å·å­—ç¬¦ï¼ˆ<code>&#39;+&#39;</code> æˆ– <code>&#39;-&#39;</code>ï¼‰</li>
<li>è‡³å°‘ä¸€ä½æ•°å­—</li>
</ol>
<p>éƒ¨åˆ†<strong>æ•°å€¼</strong>åˆ—ä¸¾å¦‚ä¸‹ï¼š</p>
<ul>
<li><code>[&quot;+100&quot;, &quot;5e2&quot;, &quot;-123&quot;, &quot;3.1416&quot;, &quot;-1E-16&quot;, &quot;0123&quot;]</code></li>
</ul>
<p>éƒ¨åˆ†<strong>éæ•°å€¼</strong>åˆ—ä¸¾å¦‚ä¸‹ï¼š</p>
<ul>
<li><code>[&quot;12e&quot;, &quot;1a3.14&quot;, &quot;1.2.3&quot;, &quot;+-5&quot;, &quot;12e+5.4&quot;]</code></li>
</ul>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;0&quot;</span><br><span class="line">è¾“å‡ºï¼štrue</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;e&quot;</span><br><span class="line">è¾“å‡ºï¼šfalse</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;.&quot;</span><br><span class="line">è¾“å‡ºï¼šfalse</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 4ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;    .1  &quot;</span><br><span class="line">è¾“å‡ºï¼štrue</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= s.length &lt;= 20</code></li>
<li><code>s</code> ä»…å«è‹±æ–‡å­—æ¯ï¼ˆå¤§å†™å’Œå°å†™ï¼‰ï¼Œæ•°å­—ï¼ˆ<code>0-9</code>ï¼‰ï¼ŒåŠ å· <code>&#39;+&#39;</code> ï¼Œå‡å· <code>&#39;-&#39;</code> ï¼Œç©ºæ ¼ <code>&#39; &#39;</code> æˆ–è€…ç‚¹ <code>&#39;.&#39;</code> ã€‚</li>
</ul>
<p>Related Topics</p>
<p>å­—ç¬¦ä¸²</p>
<hr>
<p>è§£é¢˜æ€è·¯ï¼š<br>æœ¬é¢˜ä½¿ç”¨æœ‰é™çŠ¶æ€è‡ªåŠ¨æœºã€‚æ ¹æ®å­—ç¬¦ç±»å‹å’Œåˆæ³•æ•°å€¼çš„ç‰¹ç‚¹ï¼Œå…ˆå®šä¹‰çŠ¶æ€ï¼Œå†ç”»å‡ºçŠ¶æ€è½¬ç§»å›¾ï¼Œæœ€åç¼–å†™ä»£ç å³å¯ã€‚</p>
<p><strong>å­—ç¬¦ç±»å‹</strong>ï¼š</p>
<p>ç©ºæ ¼ ã€Œ ã€ã€æ•°å­—ã€Œ 0â€”9ã€ ã€æ­£è´Ÿå· ã€Œ +, -ã€ ã€å°æ•°ç‚¹ ã€Œ . ã€ ã€å¹‚ç¬¦å· ã€Œ e, E ã€ ã€‚</p>
<p><strong>çŠ¶æ€å®šä¹‰</strong>ï¼š</p>
<p>æŒ‰ç…§å­—ç¬¦ä¸²ä»å·¦åˆ°å³çš„é¡ºåºï¼Œå®šä¹‰ä»¥ä¸‹ 9 ç§çŠ¶æ€ã€‚</p>
<ol start="0">
<li>å¼€å§‹çš„ç©ºæ ¼</li>
<li>å¹‚ç¬¦å·å‰çš„æ­£è´Ÿå·</li>
<li>å°æ•°ç‚¹å‰çš„æ•°å­—</li>
<li>å°æ•°ç‚¹ã€å°æ•°ç‚¹åçš„æ•°å­—</li>
<li>å½“å°æ•°ç‚¹å‰ä¸ºç©ºæ ¼æ—¶ï¼Œå°æ•°ç‚¹ã€å°æ•°ç‚¹åçš„æ•°å­—</li>
<li>å¹‚ç¬¦å·</li>
<li>å¹‚ç¬¦å·åçš„æ­£è´Ÿå·</li>
<li>å¹‚ç¬¦å·åçš„æ•°å­—</li>
<li>ç»“å°¾çš„ç©ºæ ¼</li>
</ol>
<p><strong>ç»“æŸçŠ¶æ€ï¼š</strong></p>
<p>åˆæ³•çš„ç»“æŸçŠ¶æ€æœ‰ 2, 3, 7, 8 ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.leetcode-cn.com/1599283151-YmPMis-Picture1.png" alt="Picture1.png"></p>
<p><strong>ç®—æ³•æµç¨‹ï¼š</strong></p>
<ol>
<li><strong>åˆå§‹åŒ–ï¼š</strong><ol>
<li>çŠ¶æ€è½¬ç§»è¡¨ states ï¼š è®¾ states[i] ï¼Œå…¶ä¸­ i ä¸ºæ‰€å¤„çŠ¶æ€ï¼Œ states[i] ä½¿ç”¨å“ˆå¸Œè¡¨å­˜å‚¨å¯è½¬ç§»è‡³çš„çŠ¶æ€ã€‚é”®å€¼å¯¹ (key, value) å«ä¹‰ï¼šè¾“å…¥å­—ç¬¦ key ï¼Œåˆ™ä»çŠ¶æ€ i è½¬ç§»è‡³çŠ¶æ€ value ã€‚</li>
<li>å½“å‰çŠ¶æ€ p ï¼š èµ·å§‹çŠ¶æ€åˆå§‹åŒ–ä¸º p &#x3D; 0 ã€‚</li>
</ol>
</li>
<li>çŠ¶æ€è½¬ç§»å¾ªç¯ï¼š éå†å­—ç¬¦ä¸² s çš„æ¯ä¸ªå­—ç¬¦ c ã€‚<ol>
<li>è®°å½•å­—ç¬¦ç±»å‹ t ï¼š åˆ†ä¸ºå››ç§æƒ…å†µã€‚<ul>
<li>å½“ c ä¸ºæ­£è´Ÿå·æ—¶ï¼Œæ‰§è¡Œ t &#x3D; â€˜sâ€™ ;</li>
<li>å½“ c ä¸ºæ•°å­—æ—¶ï¼Œæ‰§è¡Œ t &#x3D; â€˜dâ€™ ;</li>
<li>å½“ c ä¸º e æˆ– E æ—¶ï¼Œæ‰§è¡Œ t &#x3D; â€˜eâ€™ ;</li>
<li>å½“ c ä¸º . æˆ– ç©ºæ ¼ æ—¶ï¼Œæ‰§è¡Œ t &#x3D; c ï¼ˆå³ç”¨å­—ç¬¦æœ¬èº«è¡¨ç¤ºå­—ç¬¦ç±»å‹ï¼‰;</li>
<li>å¦åˆ™ï¼Œæ‰§è¡Œ t &#x3D; â€˜?â€™ ï¼Œä»£è¡¨ä¸ºä¸å±äºåˆ¤æ–­èŒƒå›´çš„éæ³•å­—ç¬¦ï¼Œåç»­ç›´æ¥è¿”å› falsefalse ã€‚</li>
</ul>
</li>
<li>ç»ˆæ­¢æ¡ä»¶ï¼š è‹¥å­—ç¬¦ç±»å‹ t ä¸åœ¨å“ˆå¸Œè¡¨ states[p] ä¸­ï¼Œè¯´æ˜æ— æ³•è½¬ç§»è‡³ä¸‹ä¸€çŠ¶æ€ï¼Œå› æ­¤ç›´æ¥è¿”å› false ã€‚</li>
<li>çŠ¶æ€è½¬ç§»ï¼š çŠ¶æ€ p è½¬ç§»è‡³ states[p] [t] ã€‚</li>
</ol>
</li>
<li>è¿”å›å€¼ï¼š è·³å‡ºå¾ªç¯åï¼Œè‹¥çŠ¶æ€ p \in {2, 3, 7, 8}âˆˆ2,3,7,8 ï¼Œè¯´æ˜ç»“å°¾åˆæ³•ï¼Œè¿”å› truetrue ï¼Œå¦åˆ™è¿”å› false ã€‚</li>
</ol>
<p><strong>å¤æ‚åº¦åˆ†æï¼š</strong><br>æ—¶é—´å¤æ‚åº¦ O(N) ï¼š å…¶ä¸­ N ä¸ºå­—ç¬¦ä¸² s çš„é•¿åº¦ï¼Œåˆ¤æ–­éœ€éå†å­—ç¬¦ä¸²ï¼Œæ¯è½®çŠ¶æ€è½¬ç§»çš„ä½¿ç”¨O(1) æ—¶é—´ã€‚<br>ç©ºé—´å¤æ‚åº¦ O(1) ï¼š states å’Œ p ä½¿ç”¨å¸¸æ•°å¤§å°çš„é¢å¤–ç©ºé—´ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.leetcode-cn.com/1599283163-NYRJuG-Picture2.png" alt="img"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isNumber</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        Map[] states = &#123;</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;() &#123;&#123; put(<span class="string">&#x27; &#x27;</span>, <span class="number">0</span>); put(<span class="string">&#x27;s&#x27;</span>, <span class="number">1</span>); put(<span class="string">&#x27;d&#x27;</span>, <span class="number">2</span>); put(<span class="string">&#x27;.&#x27;</span>, <span class="number">4</span>); &#125;&#125;, <span class="comment">// 0.</span></span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;() &#123;&#123; put(<span class="string">&#x27;d&#x27;</span>, <span class="number">2</span>); put(<span class="string">&#x27;.&#x27;</span>, <span class="number">4</span>); &#125;&#125;,                           <span class="comment">// 1.</span></span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;() &#123;&#123; put(<span class="string">&#x27;d&#x27;</span>, <span class="number">2</span>); put(<span class="string">&#x27;.&#x27;</span>, <span class="number">3</span>); put(<span class="string">&#x27;e&#x27;</span>, <span class="number">5</span>); put(<span class="string">&#x27; &#x27;</span>, <span class="number">8</span>); &#125;&#125;, <span class="comment">// 2.</span></span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;() &#123;&#123; put(<span class="string">&#x27;d&#x27;</span>, <span class="number">3</span>); put(<span class="string">&#x27;e&#x27;</span>, <span class="number">5</span>); put(<span class="string">&#x27; &#x27;</span>, <span class="number">8</span>); &#125;&#125;,              <span class="comment">// 3.</span></span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;() &#123;&#123; put(<span class="string">&#x27;d&#x27;</span>, <span class="number">3</span>); &#125;&#125;,                                        <span class="comment">// 4.</span></span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;() &#123;&#123; put(<span class="string">&#x27;s&#x27;</span>, <span class="number">6</span>); put(<span class="string">&#x27;d&#x27;</span>, <span class="number">7</span>); &#125;&#125;,                           <span class="comment">// 5.</span></span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;() &#123;&#123; put(<span class="string">&#x27;d&#x27;</span>, <span class="number">7</span>); &#125;&#125;,                                        <span class="comment">// 6.</span></span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;() &#123;&#123; put(<span class="string">&#x27;d&#x27;</span>, <span class="number">7</span>); put(<span class="string">&#x27; &#x27;</span>, <span class="number">8</span>); &#125;&#125;,                           <span class="comment">// 7.</span></span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;() &#123;&#123; put(<span class="string">&#x27; &#x27;</span>, <span class="number">8</span>); &#125;&#125;                                         <span class="comment">// 8.</span></span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="type">int</span> <span class="variable">p</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">char</span> t;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">char</span> c : s.toCharArray()) &#123;</span><br><span class="line">            <span class="keyword">if</span>(c &gt;= <span class="string">&#x27;0&#x27;</span> &amp;&amp; c &lt;= <span class="string">&#x27;9&#x27;</span>) t = <span class="string">&#x27;d&#x27;</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(c == <span class="string">&#x27;+&#x27;</span> || c == <span class="string">&#x27;-&#x27;</span>) t = <span class="string">&#x27;s&#x27;</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(c == <span class="string">&#x27;e&#x27;</span> || c == <span class="string">&#x27;E&#x27;</span>) t = <span class="string">&#x27;e&#x27;</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(c == <span class="string">&#x27;.&#x27;</span> || c == <span class="string">&#x27; &#x27;</span>) t = c;</span><br><span class="line">            <span class="keyword">else</span> t = <span class="string">&#x27;?&#x27;</span>;</span><br><span class="line">            <span class="keyword">if</span>(!states[p].containsKey(t)) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            p = (<span class="type">int</span>)states[p].get(t);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> p == <span class="number">2</span> || p == <span class="number">3</span> || p == <span class="number">7</span> || p == <span class="number">8</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="ä¸ƒã€åŠ¨æ€è§„åˆ’"><a href="#ä¸ƒã€åŠ¨æ€è§„åˆ’" class="headerlink" title="ä¸ƒã€åŠ¨æ€è§„åˆ’"></a>ä¸ƒã€åŠ¨æ€è§„åˆ’</h2><h3 id="7-1ã€åŠ¨æ€è§„åˆ’ç†è®º"><a href="#7-1ã€åŠ¨æ€è§„åˆ’ç†è®º" class="headerlink" title="7.1ã€åŠ¨æ€è§„åˆ’ç†è®º"></a>7.1ã€åŠ¨æ€è§„åˆ’ç†è®º</h3><p><strong>å†…å®¹</strong></p>
<ol>
<li>åŠ¨æ€è§„åˆ’é—®é¢˜ç‰¹ç‚¹ï¼ŒåŠ¨æ€è§„åˆ’å’Œåˆ†æ²»ç®—æ³•çš„è”ç³»ä¸åŒºåˆ«ï¼›</li>
<li>å€ŸåŠ©ä¾‹é¢˜ä»‹ç»é‡å å­é—®é¢˜å’Œæœ€ä¼˜å­ç»“æ„åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Œä»¥åŠåŠ¨æ€è§„åˆ’æ˜¯å¦‚ä½•è§£å†³å®ƒä»¬çš„ï¼›</li>
<li>åŠ¨æ€è§„åˆ’çš„è§£é¢˜æ¡†æ¶æ€»ç»“ï¼›</li>
<li>åŠ¨æ€è§„åˆ’çš„ç»ƒä¹ ä¾‹é¢˜ï¼Œä»æ˜“åˆ°éš¾æ’åºï¼›</li>
</ol>
<p><strong>åŠ¨æ€è§„åˆ’ç‰¹ç‚¹</strong></p>
<p><code>ã€Œåˆ†æ²»ã€</code>æ˜¯ç®—æ³•ä¸­çš„ä¸€ç§åŸºæœ¬æ€æƒ³ï¼Œå…¶é€šè¿‡å°†åŸé—®é¢˜åˆ†è§£ä¸ºå­é—®é¢˜ï¼Œä¸æ–­é€’å½’åœ°å°†å­é—®é¢˜åˆ†è§£ä¸ºæ›´å°çš„å­é—®é¢˜ï¼Œå¹¶é€šè¿‡<code>ç»„åˆå­é—®é¢˜çš„è§£</code>æ¥å¾—åˆ°åŸé—®é¢˜çš„è§£ã€‚</p>
<p>ç±»ä¼¼äºåˆ†æ²»ç®—æ³•ï¼Œ<code>ã€ŒåŠ¨æ€è§„åˆ’ã€</code>ä¹Ÿé€šè¿‡ç»„åˆå­é—®é¢˜çš„è§£å¾—åˆ°åŸé—®é¢˜çš„è§£ã€‚ä¸åŒçš„æ˜¯ï¼Œé€‚åˆç”¨åŠ¨æ€è§„åˆ’è§£å†³çš„é—®é¢˜å…·æœ‰<code>ã€Œé‡å å­é—®é¢˜ã€</code>å’Œ<code>ã€Œæœ€ä¼˜å­ç»“æ„ã€</code>ä¸¤å¤§ç‰¹æ€§ã€‚</p>
<p><strong>é‡å å­é—®é¢˜</strong><br>åŠ¨æ€è§„åˆ’çš„å­é—®é¢˜æ˜¯æœ‰é‡å çš„ï¼Œå³<code>å„ä¸ªå­é—®é¢˜ä¸­åŒ…å«é‡å¤çš„æ›´å°å­é—®é¢˜</code>ã€‚è‹¥ä½¿ç”¨æš´åŠ›æ³•ç©·ä¸¾ï¼Œæ±‚è§£è¿™äº›ç›¸åŒå­é—®é¢˜ä¼šäº§ç”Ÿå¤§é‡çš„é‡å¤è®¡ç®—ï¼Œæ•ˆç‡ä½ä¸‹ã€‚</p>
<p>åŠ¨æ€è§„åˆ’åœ¨ç¬¬ä¸€æ¬¡æ±‚è§£æŸå­é—®é¢˜æ—¶ï¼Œä¼š<code>å°†å­é—®é¢˜çš„è§£ä¿å­˜</code>ï¼›åç»­é‡åˆ°é‡å å­é—®é¢˜æ—¶ï¼Œåˆ™ç›´æ¥é€šè¿‡<code>æŸ¥è¡¨è·å–</code>è§£ï¼Œä¿è¯<code>æ¯ä¸ªç‹¬ç«‹å­é—®é¢˜åªè¢«è®¡ç®—ä¸€æ¬¡</code>ï¼Œä»è€Œé™ä½ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ã€‚</p>
<p><strong>æœ€ä¼˜å­ç»“æ„</strong><br>å¦‚æœä¸€ä¸ªé—®é¢˜çš„<code>æœ€ä¼˜è§£å¯ä»¥ç”±å…¶å­é—®é¢˜çš„æœ€ä¼˜è§£ç»„åˆ</code>æ„æˆï¼Œå¹¶ä¸”è¿™äº›å­é—®é¢˜å¯ä»¥ç‹¬ç«‹æ±‚è§£ï¼Œé‚£ä¹ˆç§°æ­¤é—®é¢˜å…·æœ‰æœ€ä¼˜å­ç»“æ„ã€‚</p>
<p>åŠ¨æ€è§„åˆ’ä»åŸºç¡€é—®é¢˜çš„è§£å¼€å§‹ï¼Œä¸æ–­è¿­ä»£<code>ç»„åˆã€é€‰æ‹©å­é—®é¢˜çš„æœ€ä¼˜è§£</code>ï¼Œæœ€ç»ˆå¾—åˆ°åŸé—®é¢˜æœ€ä¼˜è§£ã€‚</p>
<h3 id="7-2ã€é‡å å­é—®é¢˜ä¾‹é¢˜ï¼šæ–æ³¢é‚£å¥‘æ•°åˆ—"><a href="#7-2ã€é‡å å­é—®é¢˜ä¾‹é¢˜ï¼šæ–æ³¢é‚£å¥‘æ•°åˆ—" class="headerlink" title="7.2ã€é‡å å­é—®é¢˜ä¾‹é¢˜ï¼šæ–æ³¢é‚£å¥‘æ•°åˆ—"></a>7.2ã€é‡å å­é—®é¢˜ä¾‹é¢˜ï¼šæ–æ³¢é‚£å¥‘æ•°åˆ—</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202210311145007.png" alt="image-20221031114521821"></p>
<h4 id="æš´åŠ›é€’å½’"><a href="#æš´åŠ›é€’å½’" class="headerlink" title="æš´åŠ›é€’å½’"></a>æš´åŠ›é€’å½’</h4><p>è®¾æ–æ³¢é‚£å¥‘æ•°åˆ—ç¬¬ nn ä¸ªæ•°å­—ä¸º f(n)f(n) ã€‚æ ¹æ®æ•°åˆ—å®šä¹‰ï¼Œå¯å¾— f(n)&#x3D;f(nâˆ’1)+f(nâˆ’2) ï¼Œä¸”ç¬¬ 0 , 1 ä¸ªæ–æ³¢é‚£å¥‘æ•°åˆ†åˆ«ä¸º f(0)&#x3D;0 , f(1) &#x3D; 1ã€‚</p>
<p>æˆ‘ä»¬å¾ˆå®¹æ˜“è”æƒ³åˆ°ä½¿ç”¨åˆ†æ²»æ€æƒ³æ¥æ±‚å– f(n)ï¼Œå³å°†æ±‚åŸé—®é¢˜f(n) åˆ†è§£ä¸ºæ±‚å­é—®é¢˜f(nâˆ’1) å’Œf(nâˆ’2) ï¼Œå‘ä¸‹é€’å½’ç›´è‡³å·²çŸ¥çš„ f(0) å’Œ f(1) ï¼Œæœ€ç»ˆç»„åˆè¿™äº›å­é—®é¢˜æ±‚å–åŸé—®é¢˜ f(n) ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ±‚ç¬¬ n ä¸ªæ–æ³¢é‚£å¥‘æ•°</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">fibonacci</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (n == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>; <span class="comment">// è¿”å› f(0)</span></span><br><span class="line">    <span class="keyword">if</span> (n == <span class="number">1</span>) <span class="keyword">return</span> <span class="number">1</span>; <span class="comment">// è¿”å› f(1)</span></span><br><span class="line">    <span class="keyword">return</span> fibonacci(n - <span class="number">1</span>) + fibonacci(n - <span class="number">2</span>); <span class="comment">// åˆ†è§£ä¸ºä¸¤ä¸ªå­é—®é¢˜æ±‚è§£</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.leetcode-cn.com/1635075778-GADtbi-Picture1.png" alt="Picture1.png"></p>
<p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œä¸ºæš´åŠ›é€’å½’æ±‚æ–æ³¢é‚£å¥‘æ•° f(5)å½¢æˆçš„äºŒå‰æ ‘ï¼Œæ ‘ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹ä»£è¡¨ç€æ‰§è¡Œäº†ä¸€æ¬¡ fibonacci() å‡½æ•°ï¼Œä¸”æœ‰ï¼š</p>
<ul>
<li>æ‰§è¡Œä¸€æ¬¡ fibonacci() å‡½æ•°çš„æ—¶é—´å¤æ‚åº¦ä¸º O(1) ï¼›</li>
<li>äºŒå‰æ ‘èŠ‚ç‚¹æ•°ä¸ºæŒ‡æ•°çº§ O(2^n)</li>
</ul>
<p>å› æ­¤ï¼Œæš´åŠ›é€’å½’çš„æ€»ä½“æ—¶é—´å¤æ‚åº¦ä¸º O(2^n)æ­¤æ–¹æ³•æ•ˆç‡ä½ä¸‹ï¼Œéšç€ n çš„å¢é•¿äº§ç”ŸæŒ‡æ•°çº§çˆ†ç‚¸ã€‚</p>
<h4 id="è®°å¿†åŒ–é€’å½’"><a href="#è®°å¿†åŒ–é€’å½’" class="headerlink" title="è®°å¿†åŒ–é€’å½’"></a>è®°å¿†åŒ–é€’å½’</h4><p>è§‚å¯Ÿå‘ç°ï¼Œæš´åŠ›é€’å½’ä¸­çš„å­é—®é¢˜å¤šæ•°éƒ½æ˜¯<strong>é‡å å­é—®é¢˜</strong>ï¼Œå³ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202210311150060.png" alt="image-20221031115046286"></p>
<p>è¿™äº›é‡å å­é—®é¢˜äº§ç”Ÿäº†å¤§é‡çš„é€’å½’æ ‘èŠ‚ç‚¹ï¼Œå…¶<code>ä¸åº”è¢«é‡å¤è®¡ç®—</code>ã€‚å®é™…ä¸Šï¼Œå¯ä»¥åœ¨é€’å½’ä¸­ç¬¬ä¸€æ¬¡æ±‚è§£å­é—®é¢˜æ—¶ï¼Œå°±å°†å®ƒä»¬<code>ä¿å­˜</code>ï¼›åç»­é€’å½’ä¸­å†æ¬¡é‡åˆ°ç›¸åŒå­é—®é¢˜æ—¶ï¼Œç›´æ¥è®¿é—®å†…å­˜èµ‹å€¼å³å¯ã€‚è®°å¿†åŒ–é€’å½’çš„ä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">fibonacci</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span>[] dp)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (n == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;           <span class="comment">// è¿”å› f(0)</span></span><br><span class="line">    <span class="keyword">if</span> (n == <span class="number">1</span>) <span class="keyword">return</span> <span class="number">1</span>;           <span class="comment">// è¿”å› f(1)</span></span><br><span class="line">    <span class="keyword">if</span> (dp[n] != <span class="number">0</span>) <span class="keyword">return</span> dp[n];   <span class="comment">// è‹¥ f(n) ä»¥å‰å·²ç»è®¡ç®—è¿‡ï¼Œåˆ™ç›´æ¥è¿”å›è®°å½•çš„è§£</span></span><br><span class="line">    dp[n] = fibonacci(n - <span class="number">1</span>, dp) + fibonacci(n - <span class="number">2</span>, dp); <span class="comment">// å°† f(n) åˆ™è®°å½•è‡³ dp</span></span><br><span class="line">    <span class="keyword">return</span> dp[n];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ±‚ç¬¬ n ä¸ªæ–æ³¢é‚£å¥‘æ•°</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">fibonacciMemorized</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">    <span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[n + <span class="number">1</span>]; <span class="comment">// ç”¨äºä¿å­˜ f(0) è‡³ f(n) é—®é¢˜çš„è§£</span></span><br><span class="line">    <span class="keyword">return</span> fibonacci(n, dp);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œåº”ç”¨è®°å¿†åŒ–é€’å½’æ–¹æ³•åï¼Œé€’å½’æ ‘ä¸­ç»å¤§éƒ¨åˆ†èŠ‚ç‚¹è¢«å‰ªæã€‚æ­¤æ—¶ï¼Œfibonacci() å‡½æ•°çš„è°ƒç”¨æ¬¡æ•°ä» O(2^n)æŒ‡æ•°çº§åˆ«é™ä½è‡³ O(n)çº¿æ€§çº§åˆ«ï¼Œæ—¶é—´å¤æ‚åº¦å¤§å¤§é™ä½ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.leetcode-cn.com/1635075778-pJXkPc-Picture2.png" alt="Picture2.png"></p>
<h4 id="åŠ¨æ€è§„åˆ’"><a href="#åŠ¨æ€è§„åˆ’" class="headerlink" title="åŠ¨æ€è§„åˆ’"></a>åŠ¨æ€è§„åˆ’</h4><p>é€’å½’æœ¬è´¨ä¸Šæ˜¯åŸºäºåˆ†æ²»æ€æƒ³çš„ä»é¡¶è‡³åº•çš„è§£æ³•ã€‚å€ŸåŠ©è®°å¿†åŒ–é€’å½’æ€æƒ³ï¼Œå¯åº”ç”¨åŠ¨æ€è§„åˆ’ä»åº•è‡³é¡¶æ±‚å– f(n) ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ±‚ç¬¬ n ä¸ªæ–æ³¢é‚£å¥‘æ•°</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">fibonacci</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (n == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;          <span class="comment">// è‹¥æ±‚ f(0) åˆ™ç›´æ¥è¿”å› 0</span></span><br><span class="line">    <span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[n + <span class="number">1</span>];     <span class="comment">// åˆå§‹åŒ– dp åˆ—è¡¨</span></span><br><span class="line">    dp[<span class="number">1</span>] = <span class="number">1</span>;                     <span class="comment">// åˆå§‹åŒ– f(0), f(1)</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">2</span>; i &lt;= n; i++) &#123; <span class="comment">// çŠ¶æ€è½¬ç§»æ±‚å– f(2), f(3), ..., f(n) </span></span><br><span class="line">        dp[i] = dp[i - <span class="number">1</span>] + dp[i - <span class="number">2</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[n];                  <span class="comment">// è¿”å› f(n)</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œä¸ºåŠ¨æ€è§„åˆ’æ±‚è§£ f(5)çš„è¿­ä»£æµç¨‹ï¼Œå…¶æ˜¯è½¬ç§»æ–¹ç¨‹ <code>f(n) = f(n - 1) + f(n - 2)</code>çš„ä½“ç°ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.leetcode-cn.com/1635075778-EeBEoS-Picture3.png" alt="Picture3.png"></p>
<p>ä¸Šè¿°åŠ¨æ€è§„åˆ’è§£æ³•å€ŸåŠ©äº†ä¸€ä¸ª dp æ•°ç»„ä¿å­˜å­é—®é¢˜çš„è§£ï¼Œå…¶ç©ºé—´å¤æ‚åº¦ä¸ºO(N) ã€‚è€Œç”±äºf(n) åªä¸f(nâˆ’1) å’Œ f(nâˆ’2) æœ‰å…³ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ä»…ä½¿ç”¨ä¸¤ä¸ªå˜é‡ a , b äº¤æ›¿å‰è¿›è®¡ç®—å³å¯ã€‚æ­¤æ—¶åŠ¨æ€è§„åˆ’çš„ç©ºé—´å¤æ‚åº¦é™ä½è‡³ O(1)ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ±‚ç¬¬ n ä¸ªæ–æ³¢é‚£å¥‘æ•°</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">fibonacci</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (n == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;           <span class="comment">// è‹¥æ±‚ f(0) åˆ™ç›´æ¥è¿”å› 0</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">0</span>, b = <span class="number">1</span>;               <span class="comment">// åˆå§‹åŒ– f(0), f(1)</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">2</span>; i &lt;= n; i++) &#123;  <span class="comment">// çŠ¶æ€è½¬ç§»æ±‚å– f(2), f(3), ..., f(n) </span></span><br><span class="line">        <span class="type">int</span> <span class="variable">tmp</span> <span class="operator">=</span> a;</span><br><span class="line">        a = b;</span><br><span class="line">        b = tmp + b;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> b;                       <span class="comment">// è¿”å› f(n)</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ç¤ºä¾‹å°ç»“"><a href="#ç¤ºä¾‹å°ç»“" class="headerlink" title="ç¤ºä¾‹å°ç»“"></a>ç¤ºä¾‹å°ç»“</h4><p>è®°å¿†åŒ–é€’å½’å’ŒåŠ¨æ€è§„åˆ’çš„æœ¬è´¨æ€æƒ³æ˜¯ä¸€è‡´çš„ï¼Œæ˜¯å¯¹æ–æ³¢é‚£å¥‘æ•°åˆ—å®šä¹‰çš„ä¸åŒè¡¨ç°å½¢å¼ï¼š</p>
<ul>
<li>è®°å¿†åŒ–é€’å½’ â€” ä»é¡¶è‡³ä½ï¼š æ±‚ f(n)éœ€è¦ f(n - 1)å’Œ f(n - 2);â‹¯ ï¼›æ±‚ f(2) éœ€è¦ f(1) å’Œ f(0) ï¼›è€Œ f(1) å’Œ f(0) å·²çŸ¥ï¼›</li>
<li>åŠ¨æ€è§„åˆ’ â€” ä»åº•è‡³é¡¶ï¼š å°†å·²çŸ¥ f(0) å’Œf(1) ç»„åˆå¾—åˆ°f(2) ï¼›â‹¯ ï¼›å°† f(nâˆ’2) å’Œ f(nâˆ’1) ç»„åˆå¾—åˆ° (n) ï¼›</li>
</ul>
<p>æ–æ³¢é‚£å¥‘æ•°åˆ—é—®é¢˜ä¸åŒ…å«ã€Œæœ€ä¼˜å­ç»“æ„ã€ï¼Œåªéœ€è®¡ç®—æ¯ä¸ªå­é—®é¢˜çš„è§£ï¼Œé¿å…é‡å¤è®¡ç®—å³å¯ï¼Œå¹¶ä¸éœ€è¦ä»å­é—®é¢˜ç»„åˆä¸­é€‰æ‹©æœ€ä¼˜ç»„åˆã€‚æ¥ä¸‹æ¥ï¼Œæœ¬æ–‡å€ŸåŠ©ã€Œæœ€é«˜è›‹ç³•å”®ä»·æ–¹æ¡ˆã€ï¼Œä»‹ç»åŠ¨æ€è§„åˆ’çš„æœ€ä¼˜å­ç»“æ„æ¦‚å¿µã€‚</p>
<h3 id="7-3ã€æœ€ä¼˜å­ç»“æ„ä¾‹é¢˜ï¼šè›‹ç³•å”®ä»·"><a href="#7-3ã€æœ€ä¼˜å­ç»“æ„ä¾‹é¢˜ï¼šè›‹ç³•å”®ä»·" class="headerlink" title="7.3ã€æœ€ä¼˜å­ç»“æ„ä¾‹é¢˜ï¼šè›‹ç³•å”®ä»·"></a>7.3ã€æœ€ä¼˜å­ç»“æ„ä¾‹é¢˜ï¼šè›‹ç³•å”®ä»·</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202210311159196.png" alt="image-20221031115902124"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202210311159705.png" alt="image-20221031115959610"></p>
<h4 id="æš´åŠ›é€’å½’-1"><a href="#æš´åŠ›é€’å½’-1" class="headerlink" title="æš´åŠ›é€’å½’"></a>æš´åŠ›é€’å½’</h4><p>æš´åŠ›é€’å½’è§£æ³•çš„ä»£ç å¦‚ä¸‹ï¼Œå…¶æ—¶é—´å¤æ‚åº¦ä¸ºæŒ‡æ•°çº§ O(2^nï¼‰ ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¾“å…¥è›‹ç³•ä»·æ ¼åˆ—è¡¨ priceList ï¼Œæ±‚é‡é‡ä¸º n è›‹ç³•çš„æœ€é«˜å”®ä»·</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">maxCakePrice</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span>[] priceList)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (n &lt;= <span class="number">1</span>) <span class="keyword">return</span> priceList[n]; <span class="comment">// è›‹ç³•é‡é‡ &lt;= 1 æ—¶ç›´æ¥è¿”å›</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">f_n</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++)      <span class="comment">// ä» n ç§ç»„åˆç§é€‰æ‹©æœ€é«˜å”®ä»·çš„ç»„åˆä½œä¸º f(n)</span></span><br><span class="line">        f_n = Math.max(f_n, maxCakePrice(i, priceList) + priceList[n - i]);</span><br><span class="line">    <span class="keyword">return</span> f_n;                      <span class="comment">// è¿”å› f(n)</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.leetcode-cn.com/1635075778-AljQEJ-Picture4.png" alt="Picture4.png"></p>
<h4 id="è®°å¿†åŒ–é€’å½’-1"><a href="#è®°å¿†åŒ–é€’å½’-1" class="headerlink" title="è®°å¿†åŒ–é€’å½’"></a>è®°å¿†åŒ–é€’å½’</h4><p>è§‚å¯Ÿå‘ç°ï¼Œé€’å½’æ ‘ä¸­å­˜åœ¨å¤§é‡<strong>é‡å å­é—®é¢˜</strong>ï¼Œå¯é€šè¿‡è®°å¿†åŒ–å¤„ç†é¿å…é‡å¤è®¡ç®—ã€‚è®°å¿†åŒ–é€’å½’çš„ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º O(n^2)ï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li>f(2) è‡³f(n) å…± nâˆ’1 ä¸ªå¾…è®¡ç®—å­é—®é¢˜ï¼Œä½¿ç”¨O(n) æ—¶é—´ï¼›</li>
<li>è®¡ç®—æŸf(i) éœ€éå† iâˆ’1 ç§å­é—®é¢˜ç»„åˆï¼Œä½¿ç”¨ O(n) æ—¶é—´ï¼›</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¾“å…¥è›‹ç³•ä»·æ ¼åˆ—è¡¨ priceList ï¼Œæ±‚é‡é‡ä¸º n è›‹ç³•çš„æœ€é«˜å”®ä»·</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">maxCakePrice</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span>[] priceList, <span class="type">int</span>[] dp)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (n &lt;= <span class="number">1</span>) <span class="keyword">return</span> priceList[n]; <span class="comment">// è›‹ç³•é‡é‡ &lt;= 1 æ—¶ç›´æ¥è¿”å›</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">f_n</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;    <span class="comment">// ä» n ç§ç»„åˆç§é€‰æ‹©æœ€é«˜å”®ä»·çš„ç»„åˆä½œä¸º f(n)</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">f_i</span> <span class="operator">=</span> dp[i] != <span class="number">0</span> ? dp[i] : maxCakePrice(i, priceList, dp);</span><br><span class="line">        f_n = Math.max(f_n, f_i + priceList[n - i]);</span><br><span class="line">    &#125;</span><br><span class="line">    dp[n] = f_n;                     <span class="comment">// è®°å½• f(n) è‡³ dp æ•°ç»„</span></span><br><span class="line">    <span class="keyword">return</span> f_n;                      <span class="comment">// è¿”å› f(n)</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">maxCakePriceMemorized</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span>[] priceList)</span> &#123;</span><br><span class="line">    <span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[n + <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">return</span> maxCakePrice(n, priceList, dp);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.leetcode-cn.com/1635075778-tsDBrs-Picture5.png" alt="Picture5.png"></p>
<h4 id="åŠ¨æ€è§„åˆ’-1"><a href="#åŠ¨æ€è§„åˆ’-1" class="headerlink" title="åŠ¨æ€è§„åˆ’"></a>åŠ¨æ€è§„åˆ’</h4><p>ç›¸è¾ƒäºè®°å¿†åŒ–é€’å½’çš„ä»é¡¶è‡³åº•æ–¹æ³•ï¼Œæ˜“å¾—åŠ¨æ€è§„åˆ’çš„ä»åº•è‡³é¡¶æ–¹æ³•ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¾“å…¥è›‹ç³•ä»·æ ¼åˆ—è¡¨ priceList ï¼Œæ±‚é‡é‡ä¸º n è›‹ç³•çš„æœ€é«˜å”®ä»·</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">maxCakePrice</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span>[] priceList)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (n &lt;= <span class="number">1</span>) <span class="keyword">return</span> priceList[n];  <span class="comment">// è›‹ç³•é‡é‡ &lt;= 1 æ—¶ç›´æ¥è¿”å›</span></span><br><span class="line">    <span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[n + <span class="number">1</span>];        <span class="comment">// åˆå§‹åŒ– dp åˆ—è¡¨</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">1</span>; j &lt;= n; j++) &#123;    <span class="comment">// æŒ‰é¡ºåºè®¡ç®— f(1), f(2), ..., f(n)</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; j; i++)   <span class="comment">// ä» j ç§ç»„åˆç§é€‰æ‹©æœ€é«˜å”®ä»·çš„ç»„åˆä½œä¸º f(j)</span></span><br><span class="line">            dp[j] = Math.max(dp[j], dp[i] + priceList[j - i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[n];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.leetcode-cn.com/1635075778-PBtyyB-Picture6.png" alt="Picture6.png"></p>
<h3 id="7-4ã€01èƒŒåŒ…é—®é¢˜"><a href="#7-4ã€01èƒŒåŒ…é—®é¢˜" class="headerlink" title="7.4ã€01èƒŒåŒ…é—®é¢˜"></a>7.4ã€01èƒŒåŒ…é—®é¢˜</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/20210117171307407.png" alt="416.åˆ†å‰²ç­‰å’Œå­é›†1"></p>
<p>æœ‰nä»¶ç‰©å“å’Œä¸€ä¸ªæœ€å¤šèƒ½èƒŒé‡é‡ä¸ºw çš„èƒŒåŒ…ã€‚ç¬¬iä»¶ç‰©å“çš„é‡é‡æ˜¯weight[i]ï¼Œå¾—åˆ°çš„ä»·å€¼æ˜¯value[i] ã€‚<strong>æ¯ä»¶ç‰©å“åªèƒ½ç”¨ä¸€æ¬¡</strong>ï¼Œæ±‚è§£å°†å“ªäº›ç‰©å“è£…å…¥èƒŒåŒ…é‡Œç‰©å“ä»·å€¼æ€»å’Œæœ€å¤§ã€‚</p>
<blockquote>
<p>æš´åŠ›è§£æ³•ï¼šå›æº¯æ³•O(2^N)</p>
</blockquote>
<p>æ¡ˆä¾‹ï¼š</p>
<p>èƒŒåŒ…æœ€å¤§é‡é‡ä¸º4ã€‚</p>
<p>ç‰©å“ä¸ºï¼š</p>
<table>
<thead>
<tr>
<th></th>
<th>é‡é‡</th>
<th>ä»·å€¼</th>
</tr>
</thead>
<tbody><tr>
<td>ç‰©å“0</td>
<td>1</td>
<td>15</td>
</tr>
<tr>
<td>ç‰©å“1</td>
<td>3</td>
<td>20</td>
</tr>
<tr>
<td>ç‰©å“2</td>
<td>4</td>
<td>30</td>
</tr>
</tbody></table>
<p>é—®èƒŒåŒ…èƒ½èƒŒçš„ç‰©å“æœ€å¤§ä»·å€¼æ˜¯å¤šå°‘ï¼Ÿ</p>
<h4 id="äºŒç»´dp"><a href="#äºŒç»´dp" class="headerlink" title="äºŒç»´dp"></a>äºŒç»´dp</h4><ol>
<li>ç¡®å®šdpæ•°ç»„ä»¥åŠä¸‹æ ‡çš„å«ä¹‰</li>
</ol>
<p>å¯¹äºèƒŒåŒ…é—®é¢˜ï¼Œæœ‰ä¸€ç§å†™æ³•ï¼Œ æ˜¯ä½¿ç”¨äºŒç»´æ•°ç»„ï¼Œå³<strong>dp[i] [j] è¡¨ç¤ºä»ä¸‹æ ‡ä¸º[0-i]çš„ç‰©å“é‡Œä»»æ„å–ï¼Œæ”¾è¿›å®¹é‡ä¸ºjçš„èƒŒåŒ…ï¼Œä»·å€¼æ€»å’Œæœ€å¤§æ˜¯å¤šå°‘</strong>ã€‚<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/20210110103003361.png" alt="åŠ¨æ€è§„åˆ’-èƒŒåŒ…é—®é¢˜1"></p>
<ol start="2">
<li>ç¡®å®šé€’æ¨å…¬å¼</li>
</ol>
<p>å†å›é¡¾ä¸€ä¸‹dp[i] [j]çš„å«ä¹‰ï¼šä»ä¸‹æ ‡ä¸º[0-i]çš„ç‰©å“é‡Œä»»æ„å–ï¼Œæ”¾è¿›å®¹é‡ä¸ºjçš„èƒŒåŒ…ï¼Œä»·å€¼æ€»å’Œæœ€å¤§æ˜¯å¤šå°‘ã€‚</p>
<p>é‚£ä¹ˆå¯ä»¥æœ‰ä¸¤ä¸ªæ–¹å‘æ¨å‡ºæ¥dp[i] [j]ï¼Œ</p>
<ul>
<li><strong>ä¸æ”¾ç‰©å“i</strong>ï¼šç”±dp[i - 1] [j]æ¨å‡ºï¼Œå³èƒŒåŒ…å®¹é‡ä¸ºjï¼Œé‡Œé¢ä¸æ”¾ç‰©å“içš„æœ€å¤§ä»·å€¼ï¼Œæ­¤æ—¶dp[i] [j]å°±æ˜¯dp[i - 1] [j]ã€‚(å…¶å®å°±æ˜¯å½“ç‰©å“içš„é‡é‡å¤§äºèƒŒåŒ…jçš„é‡é‡æ—¶ï¼Œç‰©å“iæ— æ³•æ”¾è¿›èƒŒåŒ…ä¸­ï¼Œæ‰€ä»¥è¢«èƒŒåŒ…å†…çš„ä»·å€¼ä¾ç„¶å’Œå‰é¢ç›¸åŒã€‚)</li>
<li><strong>æ”¾ç‰©å“i</strong>ï¼šç”±dp[i - 1] [j - weight[i]]æ¨å‡ºï¼Œdp[i - 1] [j - weight[i]] ä¸ºèƒŒåŒ…å®¹é‡ä¸ºj - weight[i]çš„æ—¶å€™ä¸æ”¾ç‰©å“içš„æœ€å¤§ä»·å€¼ï¼Œé‚£ä¹ˆdp[i - 1] [j - weight[i]] + value[i] ï¼ˆç‰©å“içš„ä»·å€¼ï¼‰ï¼Œå°±æ˜¯èƒŒåŒ…æ”¾ç‰©å“iå¾—åˆ°çš„æœ€å¤§ä»·å€¼</li>
</ul>
<p>æ‰€ä»¥é€’å½’å…¬å¼ï¼š dp[i] [j] &#x3D; max(dp[i - 1] [j], dp[i - 1] [j - weight[i]] + value[i]);</p>
<ol start="3">
<li>dpæ•°ç»„å¦‚ä½•åˆå§‹åŒ–</li>
</ol>
<p><strong>é¦–å…ˆä»dp[i] [j]çš„å®šä¹‰å‡ºå‘</strong>ï¼Œå¦‚æœèƒŒåŒ…å®¹é‡jä¸º0çš„è¯ï¼Œå³dp[i] [0]ï¼Œæ— è®ºæ˜¯é€‰å–å“ªäº›ç‰©å“ï¼ŒèƒŒåŒ…ä»·å€¼æ€»å’Œä¸€å®šä¸º0ã€‚å¦‚å›¾ï¼š<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/2021011010304192-16696851911264.png" alt="åŠ¨æ€è§„åˆ’-èƒŒåŒ…é—®é¢˜2"></p>
<p>çŠ¶æ€è½¬ç§»æ–¹ç¨‹ dp[i] [j] &#x3D; max(dp[i - 1] [j], dp[i - 1] [j - weight[i]] + value[i]); å¯ä»¥çœ‹å‡ºi æ˜¯ç”± i-1 æ¨å¯¼å‡ºæ¥ï¼Œé‚£ä¹ˆiä¸º0çš„æ—¶å€™å°±ä¸€å®šè¦åˆå§‹åŒ–ã€‚</p>
<p>dp[0] [j]ï¼Œå³ï¼šiä¸º0ï¼Œå­˜æ”¾ç¼–å·0çš„ç‰©å“çš„æ—¶å€™ï¼Œå„ä¸ªå®¹é‡çš„èƒŒåŒ…æ‰€èƒ½å­˜æ”¾çš„æœ€å¤§ä»·å€¼ã€‚</p>
<ul>
<li><p>é‚£ä¹ˆå¾ˆæ˜æ˜¾å½“ j &lt; weight[0]çš„æ—¶å€™ï¼Œdp[0] [j] åº”è¯¥æ˜¯ 0ï¼Œå› ä¸ºèƒŒåŒ…å®¹é‡æ¯”ç¼–å·0çš„ç‰©å“é‡é‡è¿˜å°ã€‚</p>
</li>
<li><p>å½“j &gt;&#x3D; weight[0]æ—¶ï¼Œdp[0] [j] åº”è¯¥æ˜¯value[0]ï¼Œå› ä¸ºèƒŒåŒ…å®¹é‡æ”¾è¶³å¤Ÿæ”¾ç¼–å·0ç‰©å“ã€‚<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/20210110103109140.png" alt="åŠ¨æ€è§„åˆ’-èƒŒåŒ…é—®é¢˜7"></p>
</li>
</ul>
<ol start="4">
<li>ç¡®å®šéå†é¡ºåº</li>
</ol>
<p>åœ¨å¦‚ä¸‹å›¾ä¸­ï¼Œå¯ä»¥çœ‹å‡ºï¼Œæœ‰ä¸¤ä¸ªéå†çš„ç»´åº¦ï¼šç‰©å“ä¸èƒŒåŒ…é‡é‡<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/2021011010314055.png" alt="åŠ¨æ€è§„åˆ’-èƒŒåŒ…é—®é¢˜3"></p>
<p>é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œ<strong>å…ˆéå† ç‰©å“è¿˜æ˜¯å…ˆéå†èƒŒåŒ…é‡é‡å‘¢ï¼Ÿå…¶å®éƒ½å¯ä»¥ï¼ï¼ ä½†æ˜¯å…ˆéå†ç‰©å“æ›´å¥½ç†è§£</strong>ã€‚</p>
<p>ä¸ºä»€ä¹ˆä¹Ÿæ˜¯å¯ä»¥çš„å‘¢ï¼Ÿ</p>
<p><strong>è¦ç†è§£é€’å½’çš„æœ¬è´¨å’Œé€’æ¨çš„æ–¹å‘</strong>ã€‚</p>
<p>dp[i] [j] &#x3D; max(dp[i - 1] [j], dp[i - 1] [j - weight[i]] + value[i]); é€’å½’å…¬å¼ä¸­å¯ä»¥çœ‹å‡ºdp[i] [j]æ˜¯é dp[i-1] [j]å’Œdp[i - 1] [j - weight[i]]æ¨å¯¼å‡ºæ¥çš„ã€‚</p>
<p>dp[i-1] [j]å’Œdp[i - 1] [j - weight[i]] éƒ½åœ¨dp[i] [j]çš„å·¦ä¸Šè§’æ–¹å‘ï¼ˆåŒ…æ‹¬æ­£ä¸Šæ–¹å‘ï¼‰ï¼Œé‚£ä¹ˆå…ˆéå†ç‰©å“ï¼Œå†éå†èƒŒåŒ…çš„è¿‡ç¨‹å¦‚å›¾æ‰€ç¤ºï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/202101101032124.png" alt="åŠ¨æ€è§„åˆ’-èƒŒåŒ…é—®é¢˜5"></p>
<p>å†æ¥çœ‹çœ‹å…ˆéå†èƒŒåŒ…ï¼Œå†éå†ç‰©å“å‘¢ï¼Œå¦‚å›¾ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/20210110103244701.png" alt="åŠ¨æ€è§„åˆ’-èƒŒåŒ…é—®é¢˜6"></p>
<p><strong>å¤§å®¶å¯ä»¥çœ‹å‡ºï¼Œè™½ç„¶ä¸¤ä¸ªforå¾ªç¯éå†çš„æ¬¡åºä¸åŒï¼Œä½†æ˜¯dp[i] [j]æ‰€éœ€è¦çš„æ•°æ®å°±æ˜¯å·¦ä¸Šè§’ï¼Œæ ¹æœ¬ä¸å½±å“dp[i] [j]å…¬å¼çš„æ¨å¯¼ï¼</strong></p>
<p>ä½†å…ˆéå†ç‰©å“å†éå†èƒŒåŒ…è¿™ä¸ªé¡ºåºæ›´å¥½ç†è§£ã€‚</p>
<p><strong>å…¶å®èƒŒåŒ…é—®é¢˜é‡Œï¼Œä¸¤ä¸ªforå¾ªç¯çš„å…ˆåå¾ªåºæ˜¯éå¸¸æœ‰è®²ç©¶çš„ï¼Œç†è§£éå†é¡ºåºå…¶å®æ¯”ç†è§£æ¨å¯¼å…¬å¼éš¾å¤šäº†</strong>ã€‚</p>
<ol start="5">
<li>ä¸¾ä¾‹æ¨å¯¼dpæ•°ç»„</li>
</ol>
<p>æ¥çœ‹ä¸€ä¸‹å¯¹åº”çš„dpæ•°ç»„çš„æ•°å€¼ï¼Œå¦‚å›¾ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/20210118163425129.jpg" alt="åŠ¨æ€è§„åˆ’-èƒŒåŒ…é—®é¢˜4"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">bagProblem2</span><span class="params">(<span class="type">int</span>[] weight, <span class="type">int</span>[] values, <span class="type">int</span> bagSize)</span> &#123;</span><br><span class="line">    <span class="comment">// 1. dp[i][j]è¡¨ç¤ºèƒŒåŒ…å®¹é‡ä¸ºjè£…0-iç‰©å“æ—¶çš„æœ€å¤§ä»·å€¼</span></span><br><span class="line">    <span class="type">int</span>[][] dp = <span class="keyword">new</span> <span class="title class_">int</span>[weight.length][bagSize + <span class="number">1</span>];</span><br><span class="line">    <span class="comment">// 2. åˆå§‹åŒ– dp[0][j]è¡¨ç¤ºé‡é‡ä¸ºjæ—¶è£…ç¬¬ä¸€ä¸ªç‰©å“</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> weight[<span class="number">0</span>]; i &lt;= bagSize; i++) &#123;</span><br><span class="line">        dp[<span class="number">0</span>][i] = values[<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// dp[i][0] èƒŒåŒ…å®¹é‡ä¸º0ï¼Œé‚£ä¹ˆè£…ä¸äº†ä»»ä½•ç‰©å“ dp[i][0]=0</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; weight.length; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">1</span>; j &lt;= bagSize; j++) &#123;</span><br><span class="line">            <span class="comment">// 3. çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼Œè£…æˆ–è€…ä¸è£…ç¬¬iä¸ªç‰©å“</span></span><br><span class="line">            <span class="keyword">if</span> (j &lt; weight[i])</span><br><span class="line">                dp[i][j] = dp[i - <span class="number">1</span>][j];</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                dp[i][j] = Math.max(dp[i - <span class="number">1</span>][j], dp[i - <span class="number">1</span>][j - weight[i]] + values[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> dp[weight.length - <span class="number">1</span>][bagSize];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="type">int</span>[] weight = &#123;<span class="number">1</span>, <span class="number">3</span>, <span class="number">4</span>&#125;;</span><br><span class="line">    <span class="type">int</span>[] values = &#123;<span class="number">15</span>, <span class="number">20</span>, <span class="number">30</span>&#125;;</span><br><span class="line">    System.out.println(bagProblem2(weight, values, <span class="number">4</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä¸€ç»´dpï¼ˆæ»šåŠ¨æ•°ç»„ï¼‰"><a href="#ä¸€ç»´dpï¼ˆæ»šåŠ¨æ•°ç»„ï¼‰" class="headerlink" title="ä¸€ç»´dpï¼ˆæ»šåŠ¨æ•°ç»„ï¼‰"></a>ä¸€ç»´dpï¼ˆæ»šåŠ¨æ•°ç»„ï¼‰</h4><p>å¯¹äºèƒŒåŒ…é—®é¢˜å…¶å®çŠ¶æ€éƒ½æ˜¯å¯ä»¥å‹ç¼©çš„ã€‚</p>
<p>åœ¨ä½¿ç”¨äºŒç»´æ•°ç»„çš„æ—¶å€™ï¼Œé€’æ¨å…¬å¼ï¼šdp[i] [j] &#x3D; max(dp[i - 1] [j], dp[i - 1] [j - weight[i]] + value[i]);</p>
<p><strong>å…¶å®å¯ä»¥å‘ç°å¦‚æœæŠŠdp[i - 1]é‚£ä¸€å±‚æ‹·è´åˆ°dp[i]ä¸Šï¼Œè¡¨è¾¾å¼å®Œå…¨å¯ä»¥æ˜¯ï¼šdp[i] [j] &#x3D; max(dp[i] [j], dp[i] [j - weight[i]] + value[i]);</strong></p>
<p><strong>ä¸å…¶æŠŠdp[i - 1]è¿™ä¸€å±‚æ‹·è´åˆ°dp[i]ä¸Šï¼Œä¸å¦‚åªç”¨ä¸€ä¸ªä¸€ç»´æ•°ç»„äº†</strong>ï¼Œåªç”¨dp[j]ï¼ˆä¸€ç»´æ•°ç»„ï¼Œä¹Ÿå¯ä»¥ç†è§£æ˜¯ä¸€ä¸ªæ»šåŠ¨æ•°ç»„ï¼‰ã€‚</p>
<p>è¿™å°±æ˜¯æ»šåŠ¨æ•°ç»„çš„ç”±æ¥ï¼Œéœ€è¦æ»¡è¶³çš„æ¡ä»¶æ˜¯ä¸Šä¸€å±‚å¯ä»¥é‡å¤åˆ©ç”¨ï¼Œç›´æ¥æ‹·è´åˆ°å½“å‰å±‚ã€‚</p>
<p><strong>dp[i] [j] è¡¨ç¤ºä»ä¸‹æ ‡ä¸º[0-i]çš„ç‰©å“é‡Œä»»æ„å–ï¼Œæ”¾è¿›å®¹é‡ä¸ºjçš„èƒŒåŒ…ï¼Œä»·å€¼æ€»å’Œæœ€å¤§æ˜¯å¤šå°‘</strong>ã€‚</p>
<hr>
<ol>
<li>ç¡®å®šdpæ•°ç»„çš„å®šä¹‰</li>
</ol>
<p>åœ¨ä¸€ç»´dpæ•°ç»„ä¸­ï¼Œdp[j]è¡¨ç¤ºï¼šå®¹é‡ä¸ºjçš„èƒŒåŒ…ï¼Œæ‰€èƒŒçš„ç‰©å“ä»·å€¼å¯ä»¥æœ€å¤§ä¸ºdp[j]ã€‚</p>
<ol start="2">
<li>ä¸€ç»´dpæ•°ç»„çš„é€’æ¨å…¬å¼</li>
</ol>
<p>dp[j]ä¸º å®¹é‡ä¸ºjçš„èƒŒåŒ…æ‰€èƒŒçš„æœ€å¤§ä»·å€¼ï¼Œé‚£ä¹ˆå¦‚ä½•æ¨å¯¼dp[j]å‘¢ï¼Ÿ</p>
<p>dp[j]å¯ä»¥é€šè¿‡dp[j - weight[i]]æ¨å¯¼å‡ºæ¥ï¼Œdp[j - weight[i]]è¡¨ç¤ºå®¹é‡ä¸ºj - weight[i]çš„èƒŒåŒ…æ‰€èƒŒçš„æœ€å¤§ä»·å€¼ã€‚</p>
<p>dp[j - weight[i]] + value[i] è¡¨ç¤º å®¹é‡ä¸º j - ç‰©å“ié‡é‡ çš„èƒŒåŒ… åŠ ä¸Š ç‰©å“içš„ä»·å€¼ã€‚ï¼ˆä¹Ÿå°±æ˜¯å®¹é‡ä¸ºjçš„èƒŒåŒ…ï¼Œæ”¾å…¥ç‰©å“iäº†ä¹‹åçš„ä»·å€¼å³ï¼šdp[j]ï¼‰</p>
<p>æ­¤æ—¶dp[j]æœ‰ä¸¤ä¸ªé€‰æ‹©ï¼Œä¸€ä¸ªæ˜¯å–è‡ªå·±dp[j] ç›¸å½“äº äºŒç»´dpæ•°ç»„ä¸­çš„dp[i-1] [j]ï¼Œå³ä¸æ”¾ç‰©å“iï¼Œä¸€ä¸ªæ˜¯å–dp[j - weight[i]] + value[i]ï¼Œå³æ”¾ç‰©å“iï¼ŒæŒ‡å®šæ˜¯å–æœ€å¤§çš„ï¼Œæ¯•ç«Ÿæ˜¯æ±‚æœ€å¤§ä»·å€¼ï¼Œ<code>dp[j] = max(dp[j], dp[j - weight[i]] + value[i]);</code></p>
<ol start="3">
<li>ä¸€ç»´dpæ•°ç»„å¦‚ä½•åˆå§‹åŒ–</li>
</ol>
<p><strong>å…³äºåˆå§‹åŒ–ï¼Œä¸€å®šè¦å’Œdpæ•°ç»„çš„å®šä¹‰å»åˆï¼Œå¦åˆ™åˆ°é€’æ¨å…¬å¼çš„æ—¶å€™å°±ä¼šè¶Šæ¥è¶Šä¹±</strong>ã€‚</p>
<p>dp[j]è¡¨ç¤ºï¼šå®¹é‡ä¸ºjçš„èƒŒåŒ…ï¼Œæ‰€èƒŒçš„ç‰©å“ä»·å€¼å¯ä»¥æœ€å¤§ä¸ºdp[j]ï¼Œé‚£ä¹ˆdp[0]å°±åº”è¯¥æ˜¯0ï¼Œå› ä¸ºèƒŒåŒ…å®¹é‡ä¸º0æ‰€èƒŒçš„ç‰©å“çš„æœ€å¤§ä»·å€¼å°±æ˜¯0ã€‚</p>
<p>é‚£ä¹ˆdpæ•°ç»„é™¤äº†ä¸‹æ ‡0çš„ä½ç½®ï¼Œåˆå§‹ä¸º0ï¼Œå…¶ä»–ä¸‹æ ‡åº”è¯¥åˆå§‹åŒ–å¤šå°‘å‘¢ï¼Ÿ</p>
<p>çœ‹ä¸€ä¸‹é€’å½’å…¬å¼ï¼šdp[j] &#x3D; max(dp[j], dp[j - weight[i]] + value[i]);</p>
<p>dpæ•°ç»„åœ¨æ¨å¯¼çš„æ—¶å€™ä¸€å®šæ˜¯å–ä»·å€¼æœ€å¤§çš„æ•°ï¼Œå¦‚æœé¢˜ç›®ç»™çš„ä»·å€¼éƒ½æ˜¯æ­£æ•´æ•°é‚£ä¹ˆé0ä¸‹æ ‡éƒ½åˆå§‹åŒ–ä¸º0å°±å¯ä»¥äº†ã€‚</p>
<p><strong>è¿™æ ·æ‰èƒ½è®©dpæ•°ç»„åœ¨é€’å½’å…¬å¼çš„è¿‡ç¨‹ä¸­å–çš„æœ€å¤§çš„ä»·å€¼ï¼Œè€Œä¸æ˜¯è¢«åˆå§‹å€¼è¦†ç›–äº†</strong>ã€‚</p>
<p>é‚£ä¹ˆæˆ‘å‡è®¾ç‰©å“ä»·å€¼éƒ½æ˜¯å¤§äº0çš„ï¼Œæ‰€ä»¥dpæ•°ç»„åˆå§‹åŒ–çš„æ—¶å€™ï¼Œéƒ½åˆå§‹ä¸º0å°±å¯ä»¥äº†ã€‚</p>
<ol start="4">
<li>ä¸€ç»´dpæ•°ç»„éå†é¡ºåº</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; weight.size(); i++) &#123; <span class="comment">// éå†ç‰©å“</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> bagWeight; j &gt;= weight[i]; j--) &#123; <span class="comment">// éå†èƒŒåŒ…å®¹é‡</span></span><br><span class="line">        dp[j] = Math.max(dp[j], dp[j - weight[i]] + value[i]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>è¿™é‡Œå¤§å®¶å‘ç°å’ŒäºŒç»´dpçš„å†™æ³•ä¸­ï¼Œéå†èƒŒåŒ…çš„é¡ºåºæ˜¯ä¸ä¸€æ ·çš„ï¼</strong></p>
<p>äºŒç»´dpéå†çš„æ—¶å€™ï¼ŒèƒŒåŒ…å®¹é‡æ˜¯ä»å°åˆ°å¤§ï¼Œè€Œä¸€ç»´dpéå†çš„æ—¶å€™ï¼ŒèƒŒåŒ…æ˜¯ä»å¤§åˆ°å°ã€‚ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p>
<p><strong>å€’åºéå†æ˜¯ä¸ºäº†ä¿è¯ç‰©å“iåªè¢«æ”¾å…¥ä¸€æ¬¡ï¼</strong>ã€‚ä½†å¦‚æœä¸€æ—¦æ­£åºéå†äº†ï¼Œé‚£ä¹ˆç‰©å“0å°±ä¼šè¢«é‡å¤åŠ å…¥å¤šæ¬¡ï¼</p>
<p>ä¸¾ä¸€ä¸ªä¾‹å­ï¼šç‰©å“0çš„é‡é‡weight[0] &#x3D; 1ï¼Œä»·å€¼value[0] &#x3D; 15</p>
<p>å¦‚æœæ­£åºéå†</p>
<p>dp[1] &#x3D; dp[1 - weight[0]] + value[0] &#x3D; 15</p>
<p>dp[2] &#x3D; dp[2 - weight[0]] + value[0] &#x3D; 30</p>
<p>æ­¤æ—¶dp[2]å°±å·²ç»æ˜¯30äº†ï¼Œæ„å‘³ç€ç‰©å“0ï¼Œè¢«æ”¾å…¥äº†ä¸¤æ¬¡ï¼Œæ‰€ä»¥ä¸èƒ½æ­£åºéå†ã€‚</p>
<p>ä¸ºä»€ä¹ˆå€’åºéå†ï¼Œå°±å¯ä»¥ä¿è¯ç‰©å“åªæ”¾å…¥ä¸€æ¬¡å‘¢ï¼Ÿ</p>
<p>å€’åºå°±æ˜¯å…ˆç®—dp[2]</p>
<p>dp[2] &#x3D; dp[2 - weight[0]] + value[0] &#x3D; 15 ï¼ˆdpæ•°ç»„å·²ç»éƒ½åˆå§‹åŒ–ä¸º0ï¼‰</p>
<p>dp[1] &#x3D; dp[1 - weight[0]] + value[0] &#x3D; 15</p>
<p>æ‰€ä»¥ä»åå¾€å‰å¾ªç¯ï¼Œæ¯æ¬¡å–å¾—çŠ¶æ€ä¸ä¼šå’Œä¹‹å‰å–å¾—çŠ¶æ€é‡åˆï¼Œè¿™æ ·æ¯ç§ç‰©å“å°±åªå–ä¸€æ¬¡äº†ã€‚</p>
<p><strong>é‚£ä¹ˆé—®é¢˜åˆæ¥äº†ï¼Œä¸ºä»€ä¹ˆäºŒç»´dpæ•°ç»„å†çš„æ—¶å€™ä¸ç”¨å€’åºå‘¢ï¼Ÿ</strong></p>
<p>å› ä¸ºå¯¹äºäºŒç»´dpï¼Œdp[i] [j]éƒ½æ˜¯é€šè¿‡ä¸Šä¸€å±‚å³dp[i - 1] [j]è®¡ç®—è€Œæ¥ï¼Œæœ¬å±‚çš„dp[i] [j]å¹¶ä¸ä¼šè¢«è¦†ç›–ï¼</p>
<p>ï¼ˆå¦‚ä½•è¿™é‡Œè¯»ä¸æ‡‚ï¼Œå¤§å®¶å°±è¦åŠ¨æ‰‹è¯•ä¸€è¯•äº†ï¼Œç©ºæƒ³è¿˜æ˜¯ä¸é è°±çš„ï¼Œå®è·µå‡ºçœŸçŸ¥ï¼ï¼‰</p>
<p><strong>å†æ¥çœ‹çœ‹ä¸¤ä¸ªåµŒå¥—forå¾ªç¯çš„é¡ºåºï¼Œä»£ç ä¸­æ˜¯å…ˆéå†ç‰©å“åµŒå¥—éå†èƒŒåŒ…å®¹é‡ï¼Œé‚£å¯ä¸å¯ä»¥å…ˆéå†èƒŒåŒ…å®¹é‡åµŒå¥—éå†ç‰©å“å‘¢ï¼Ÿ</strong></p>
<p>ä¸å¯ä»¥ï¼</p>
<p>å› ä¸ºä¸€ç»´dpçš„å†™æ³•ï¼ŒèƒŒåŒ…å®¹é‡ä¸€å®šæ˜¯è¦å€’åºéå†ï¼ˆåŸå› ä¸Šé¢å·²ç»è®²äº†ï¼‰ï¼Œå¦‚æœéå†èƒŒåŒ…å®¹é‡æ”¾åœ¨ä¸Šä¸€å±‚ï¼Œé‚£ä¹ˆæ¯ä¸ªdp[j]å°±åªä¼šæ”¾å…¥ä¸€ä¸ªç‰©å“ï¼Œå³ï¼šèƒŒåŒ…é‡Œåªæ”¾å…¥äº†ä¸€ä¸ªç‰©å“ã€‚</p>
<p>å€’åºéå†çš„åŸå› æ˜¯ï¼Œæœ¬è´¨ä¸Šè¿˜æ˜¯ä¸€ä¸ªå¯¹äºŒç»´æ•°ç»„çš„éå†ï¼Œå¹¶ä¸”å³ä¸‹è§’çš„å€¼ä¾èµ–ä¸Šä¸€å±‚å·¦ä¸Šè§’çš„å€¼ï¼Œå› æ­¤éœ€è¦ä¿è¯å·¦è¾¹çš„å€¼ä»ç„¶æ˜¯ä¸Šä¸€å±‚çš„ï¼Œä»å³å‘å·¦è¦†ç›–ã€‚</p>
<p>ï¼ˆè¿™é‡Œå¦‚æœè¯»ä¸æ‡‚ï¼Œå°±åœ¨å›æƒ³ä¸€ä¸‹dp[j]çš„å®šä¹‰ï¼Œæˆ–è€…å°±æŠŠä¸¤ä¸ªforå¾ªç¯é¡ºåºé¢ å€’ä¸€ä¸‹è¯•è¯•ï¼ï¼‰</p>
<p><strong>æ‰€ä»¥ä¸€ç»´dpæ•°ç»„çš„èƒŒåŒ…åœ¨éå†é¡ºåºä¸Šå’ŒäºŒç»´å…¶å®æ˜¯æœ‰å¾ˆå¤§å·®å¼‚çš„ï¼</strong>ï¼Œè¿™ä¸€ç‚¹å¤§å®¶ä¸€å®šè¦æ³¨æ„ã€‚</p>
<ol start="5">
<li>ä¸¾ä¾‹æ¨å¯¼dpæ•°ç»„<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/20210110103614769-166968836378612.png" alt="åŠ¨æ€è§„åˆ’-èƒŒåŒ…é—®é¢˜9"></li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">bagProblem1</span><span class="params">(<span class="type">int</span>[] weight, <span class="type">int</span>[] values, <span class="type">int</span> bagSize)</span> &#123;</span><br><span class="line">    <span class="comment">// 1. dp[j]è¡¨ç¤ºèƒŒåŒ…å®¹é‡ä¸ºjæ—¶çš„æœ€å¤§ä»·å€¼</span></span><br><span class="line">    <span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[bagSize + <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2. åˆå§‹åŒ– dp[0]=0 å®¹é‡ä¸º0çš„èƒŒåŒ…è£…ä¸äº†ç‰©å“</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3. éå†é¡ºåº ä¸€å®šæ˜¯å…ˆç‰©å“å†èƒŒåŒ… ï¼Œ</span></span><br><span class="line">    <span class="comment">// ä¸€ç»´dpæ˜¯ä»äºŒç»´çš„ä¼˜åŒ–ï¼Œæœ¬è´¨ä¸Šè¿˜æ˜¯ä»å·¦ä¸Šè§’æ¥æ¨ï¼Œ ä½†æ˜¯å› ä¸ºèƒŒåŒ…å®¹é‡è¦å€’åºéå†ï¼Œé˜²æ­¢æ”¾å…¥å¤šä¸ªå•†å“ï¼Œæ‰€ä»¥ä¸€å®šè¦å…ˆéå†ç‰©å“ã€‚</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; weight.length; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> bagSize; j &gt;= weight[i]; j--) &#123;</span><br><span class="line">            dp[j] = Math.max(dp[j], dp[j - weight[i]] + values[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[bagSize];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="type">int</span>[] weight = &#123;<span class="number">1</span>, <span class="number">3</span>, <span class="number">4</span>&#125;;</span><br><span class="line">    <span class="type">int</span>[] values = &#123;<span class="number">15</span>, <span class="number">20</span>, <span class="number">30</span>&#125;;</span><br><span class="line">    System.out.println(bagProblem2(weight, values, <span class="number">4</span>));</span><br><span class="line">    System.out.println(bagProblem1(weight, values, <span class="number">4</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å‡ ä¸ªæ³¨æ„ç‚¹ï¼š</p>
<ol>
<li>èƒŒåŒ…å®¹é‡æ˜¯å€’åºéå†çš„ï¼Œé˜²æ­¢æ”¾å…¥å¤šä¸ªå•†å“ï¼Œé‡å¤ã€‚</li>
<li>éå†çš„é¡ºåºä¸èƒ½æ”¹å˜ï¼Œå› ä¸ºè¦ä»å·¦ä¸Šè§’å¾€å³ä¸‹æ¨ã€‚</li>
<li>éå†æ—¶æœ‰ä¸ªå°ç»†èŠ‚ j &gt;&#x3D; weight[i]ç»ˆæ­¢å¾ªç¯ï¼Œé˜²æ­¢è¶Šç•Œï¼Œçœå»äº†ifåˆ¤æ–­ã€‚</li>
<li>å’ŒäºŒç»´dpç›¸æ¯”ï¼Œä¸€ç»´dpæ˜¯æŠŠdp[i-1] [j]çš„é€‰é¡¹é€šè¿‡éå†åˆå¹¶åˆ°äº†dp[j]ã€‚</li>
</ol>
<h3 id="7-5ã€å®Œå…¨èƒŒåŒ…é—®é¢˜"><a href="#7-5ã€å®Œå…¨èƒŒåŒ…é—®é¢˜" class="headerlink" title="7.5ã€å®Œå…¨èƒŒåŒ…é—®é¢˜"></a>7.5ã€å®Œå…¨èƒŒåŒ…é—®é¢˜</h3><p>æœ‰Nä»¶ç‰©å“å’Œä¸€ä¸ªæœ€å¤šèƒ½èƒŒé‡é‡ä¸ºWçš„èƒŒåŒ…ã€‚ç¬¬iä»¶ç‰©å“çš„é‡é‡æ˜¯weight[i]ï¼Œå¾—åˆ°çš„ä»·å€¼æ˜¯value[i] ã€‚<strong>æ¯ä»¶ç‰©å“éƒ½æœ‰æ— é™ä¸ªï¼ˆä¹Ÿå°±æ˜¯å¯ä»¥æ”¾å…¥èƒŒåŒ…å¤šæ¬¡ï¼‰</strong>ï¼Œæ±‚è§£å°†å“ªäº›ç‰©å“è£…å…¥èƒŒåŒ…é‡Œç‰©å“ä»·å€¼æ€»å’Œæœ€å¤§ã€‚</p>
<p><strong>å®Œå…¨èƒŒåŒ…å’Œ01èƒŒåŒ…é—®é¢˜å”¯ä¸€ä¸åŒçš„åœ°æ–¹å°±æ˜¯ï¼Œæ¯ç§ç‰©å“æœ‰æ— é™ä»¶.</strong></p>
<p>æ¡ˆä¾‹ï¼š</p>
<p>èƒŒåŒ…æœ€å¤§é‡é‡ä¸º4ã€‚</p>
<p>ç‰©å“ä¸ºï¼š</p>
<table>
<thead>
<tr>
<th></th>
<th>é‡é‡</th>
<th>ä»·å€¼</th>
</tr>
</thead>
<tbody><tr>
<td>ç‰©å“0</td>
<td>1</td>
<td>15</td>
</tr>
<tr>
<td>ç‰©å“1</td>
<td>3</td>
<td>20</td>
</tr>
<tr>
<td>ç‰©å“2</td>
<td>4</td>
<td>30</td>
</tr>
</tbody></table>
<p>01èƒŒåŒ…å’Œå®Œå…¨èƒŒåŒ…å”¯ä¸€ä¸åŒå°±æ˜¯ä½“ç°åœ¨éå†é¡ºåºä¸Šã€‚</p>
<p>01èƒŒåŒ…çš„æ ¸å¿ƒä»£ç </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; weight.size(); i++) &#123; <span class="comment">// éå†ç‰©å“</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> bagWeight; j &gt;= weight[i]; j--) &#123; <span class="comment">// éå†èƒŒåŒ…å®¹é‡</span></span><br><span class="line">        dp[j] = max(dp[j], dp[j - weight[i]] + value[i]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬çŸ¥é“01èƒŒåŒ…å†…åµŒçš„å¾ªç¯æ˜¯ä»å¤§åˆ°å°éå†ï¼Œä¸ºäº†ä¿è¯æ¯ä¸ªç‰©å“ä»…è¢«æ·»åŠ ä¸€æ¬¡ã€‚</p>
<p>è€Œå®Œå…¨èƒŒåŒ…çš„ç‰©å“æ˜¯å¯ä»¥æ·»åŠ å¤šæ¬¡çš„ï¼Œæ‰€ä»¥è¦ä»å°åˆ°å¤§å»éå†ï¼Œå³ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å…ˆéå†ç‰©å“ï¼Œå†éå†èƒŒåŒ…</span></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; weight.size(); i++) &#123; <span class="comment">// éå†ç‰©å“</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> weight[i]; j &lt;= bagWeight ; j++) &#123; <span class="comment">// éå†èƒŒåŒ…å®¹é‡</span></span><br><span class="line">        dp[j] = Math.max(dp[j], dp[j - weight[i]] + value[i]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>dpçŠ¶æ€å›¾å¦‚ä¸‹ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/20210126104510106.jpg" alt="åŠ¨æ€è§„åˆ’-å®Œå…¨èƒŒåŒ…"></p>
<p><strong>ä¸ºä»€ä¹ˆéå†ç‰©å“åœ¨å¤–å±‚å¾ªç¯ï¼Œéå†èƒŒåŒ…å®¹é‡åœ¨å†…å±‚å¾ªç¯ï¼Ÿ</strong></p>
<p>01èƒŒåŒ…ä¸­äºŒç»´dpæ•°ç»„çš„ä¸¤ä¸ªforéå†çš„å…ˆåå¾ªåºæ˜¯å¯ä»¥é¢ å€’äº†ï¼Œä¸€ç»´dpæ•°ç»„çš„ä¸¤ä¸ªforå¾ªç¯å…ˆåå¾ªåºä¸€å®šæ˜¯å…ˆéå†ç‰©å“ï¼Œå†éå†èƒŒåŒ…å®¹é‡ã€‚</p>
<p><strong>åœ¨å®Œå…¨èƒŒåŒ…ä¸­ï¼Œå¯¹äºä¸€ç»´dpæ•°ç»„æ¥è¯´ï¼Œå…¶å®ä¸¤ä¸ªforå¾ªç¯åµŒå¥—é¡ºåºæ˜¯æ— æ‰€è°“çš„ï¼</strong></p>
<p>å› ä¸ºdp[j] æ˜¯æ ¹æ® ä¸‹æ ‡jä¹‹å‰æ‰€å¯¹åº”çš„dp[j]è®¡ç®—å‡ºæ¥çš„ã€‚ åªè¦ä¿è¯ä¸‹æ ‡jä¹‹å‰çš„dp[j]éƒ½æ˜¯ç»è¿‡è®¡ç®—çš„å°±å¯ä»¥äº†ã€‚</p>
<p>éå†ç‰©å“åœ¨å¤–å±‚å¾ªç¯ï¼Œéå†èƒŒåŒ…å®¹é‡åœ¨å†…å±‚å¾ªç¯ï¼ŒçŠ¶æ€å¦‚å›¾ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/20210126104529605.jpg" alt="åŠ¨æ€è§„åˆ’-å®Œå…¨èƒŒåŒ…1"></p>
<p>éå†èƒŒåŒ…å®¹é‡åœ¨å¤–å±‚å¾ªç¯ï¼Œéå†ç‰©å“åœ¨å†…å±‚å¾ªç¯ï¼ŒçŠ¶æ€å¦‚å›¾ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/20210729234011.png" alt="åŠ¨æ€è§„åˆ’-å®Œå…¨èƒŒåŒ…2"></p>
<p>çœ‹äº†è¿™ä¸¤ä¸ªå›¾ï¼Œå¤§å®¶å°±ä¼šç†è§£ï¼Œå®Œå…¨èƒŒåŒ…ä¸­ï¼Œä¸¤ä¸ªforå¾ªç¯çš„å…ˆåå¾ªåºï¼Œéƒ½ä¸å½±å“è®¡ç®—dp[j]æ‰€éœ€è¦çš„å€¼ï¼ˆè¿™ä¸ªå€¼å°±æ˜¯ä¸‹æ ‡jä¹‹å‰æ‰€å¯¹åº”çš„dp[j]ï¼‰ã€‚ </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å®Œå…¨èƒŒåŒ…</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">bagProblem3</span><span class="params">(<span class="type">int</span>[] weight, <span class="type">int</span>[] values, <span class="type">int</span> bagSize)</span> &#123;</span><br><span class="line">    <span class="comment">// 1. dp[j]è¡¨ç¤ºèƒŒåŒ…å®¹é‡ä¸ºjæ—¶çš„æœ€å¤§ä»·å€¼</span></span><br><span class="line">    <span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[bagSize + <span class="number">1</span>];</span><br><span class="line">    <span class="comment">// 2. åˆå§‹åŒ– dp[0]=0 å®¹é‡ä¸º0çš„èƒŒåŒ…è£…ä¸äº†ç‰©å“</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3. å¯¹äºå®Œå…¨èƒŒåŒ…å…ˆéå†ç‰©å“æˆ–è€…èƒŒåŒ…éƒ½å¯ä»¥ï¼Œè€Œä¸”éå†å®¹é‡æ—¶æ˜¯ä»å‰å¾€åçš„</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; weight.length; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> weight[i]; j &lt;= bagSize; j++) &#123;</span><br><span class="line">            dp[j] = Math.max(dp[j], dp[j - weight[i]] + values[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> dp[bagSize];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="7-6ã€åŠ¨æ€è§„åˆ’è§£é¢˜æ¡†æ¶"><a href="#7-6ã€åŠ¨æ€è§„åˆ’è§£é¢˜æ¡†æ¶" class="headerlink" title="7.6ã€åŠ¨æ€è§„åˆ’è§£é¢˜æ¡†æ¶"></a>7.6ã€åŠ¨æ€è§„åˆ’è§£é¢˜æ¡†æ¶</h3><p>è‹¥ç¡®å®šç»™å®šé—®é¢˜å…·æœ‰é‡å å­é—®é¢˜å’Œæœ€ä¼˜å­ç»“æ„ï¼Œé‚£ä¹ˆå°±å¯ä»¥ä½¿ç”¨åŠ¨æ€è§„åˆ’æ±‚è§£ã€‚æ€»ä½“ä¸Šçœ‹ï¼Œæ±‚è§£å¯åˆ†ä¸ºå››æ­¥ï¼š</p>
<ol>
<li>çŠ¶æ€å®šä¹‰ï¼š æ„å»ºé—®é¢˜æœ€ä¼˜è§£æ¨¡å‹ï¼ŒåŒ…æ‹¬é—®é¢˜æœ€ä¼˜è§£çš„å®šä¹‰ã€æœ‰å“ªäº›è®¡ç®—è§£çš„è‡ªå˜é‡ï¼›</li>
<li>åˆå§‹çŠ¶æ€ï¼š ç¡®å®šåŸºç¡€å­é—®é¢˜çš„è§£ï¼ˆå³å·²çŸ¥è§£ï¼‰ï¼ŒåŸé—®é¢˜å’Œå­é—®é¢˜çš„è§£éƒ½æ˜¯ä»¥åŸºç¡€å­é—®é¢˜çš„è§£ä¸ºèµ·å§‹ç‚¹ï¼Œåœ¨è¿­ä»£è®¡ç®—ä¸­å¾—åˆ°çš„ï¼›</li>
<li>è½¬ç§»æ–¹ç¨‹ï¼š ç¡®å®šåŸé—®é¢˜çš„è§£ä¸å­é—®é¢˜çš„è§£ä¹‹é—´çš„å…³ç³»æ˜¯ä»€ä¹ˆï¼Œä»¥åŠä½¿ç”¨ä½•ç§é€‰æ‹©è§„åˆ™ä»å­é—®é¢˜æœ€ä¼˜è§£ç»„åˆä¸­é€‰å‡ºåŸé—®é¢˜æœ€ä¼˜è§£ï¼›</li>
<li>è¿”å›å€¼ï¼š ç¡®å®šåº”è¿”å›çš„é—®é¢˜çš„è§£æ˜¯ä»€ä¹ˆï¼Œå³åŠ¨æ€è§„åˆ’åœ¨ä½•å¤„åœæ­¢è¿­ä»£ï¼›</li>
</ol>
<p>å®Œæˆä»¥ä¸Šæ­¥éª¤åï¼Œä¾¿å®¹æ˜“å†™å‡ºå¯¹åº”çš„è§£é¢˜ä»£ç ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202210311209375.png" alt="image-20221031120901274"></p>
<h3 id="7-5ã€å‰‘æŒ‡-Offer-10-I-æ–æ³¢é‚£å¥‘æ•°åˆ—"><a href="#7-5ã€å‰‘æŒ‡-Offer-10-I-æ–æ³¢é‚£å¥‘æ•°åˆ—" class="headerlink" title="7.5ã€å‰‘æŒ‡ Offer 10- I. æ–æ³¢é‚£å¥‘æ•°åˆ—"></a>7.5ã€å‰‘æŒ‡ Offer 10- I. æ–æ³¢é‚£å¥‘æ•°åˆ—</h3><p>å†™ä¸€ä¸ªå‡½æ•°ï¼Œè¾“å…¥ <code>n</code> ï¼Œæ±‚æ–æ³¢é‚£å¥‘ï¼ˆFibonacciï¼‰æ•°åˆ—çš„ç¬¬ <code>n</code> é¡¹ï¼ˆå³ <code>F(N)</code>ï¼‰ã€‚æ–æ³¢é‚£å¥‘æ•°åˆ—çš„å®šä¹‰å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">F(0) = 0,   F(1) = 1</span><br><span class="line">F(N) = F(N - 1) + F(N - 2), å…¶ä¸­ N &gt; 1.</span><br></pre></td></tr></table></figure>

<p>æ–æ³¢é‚£å¥‘æ•°åˆ—ç”± 0 å’Œ 1 å¼€å§‹ï¼Œä¹‹åçš„æ–æ³¢é‚£å¥‘æ•°å°±æ˜¯ç”±ä¹‹å‰çš„ä¸¤æ•°ç›¸åŠ è€Œå¾—å‡ºã€‚</p>
<p>ç­”æ¡ˆéœ€è¦å–æ¨¡ 1e9+7ï¼ˆ1000000007ï¼‰ï¼Œå¦‚è®¡ç®—åˆå§‹ç»“æœä¸ºï¼š1000000008ï¼Œè¯·è¿”å› 1ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = 2</span><br><span class="line">è¾“å‡ºï¼š1</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = 5</span><br><span class="line">è¾“å‡ºï¼š5</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>0 &lt;= n &lt;= 100</code></li>
</ul>
<p>Related Topics</p>
<p>è®°å¿†åŒ–æœç´¢</p>
<p>æ•°å­¦</p>
<p>åŠ¨æ€è§„åˆ’</p>
<blockquote>
<p>ç›¸æ¯”äºä¸€èˆ¬çš„fibåŠ äº†å–ä½™æ•°çš„è¿‡ç¨‹</p>
</blockquote>
<h4 id="è®°å¿†åŒ–æœç´¢"><a href="#è®°å¿†åŒ–æœç´¢" class="headerlink" title="è®°å¿†åŒ–æœç´¢"></a>è®°å¿†åŒ–æœç´¢</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è®°å¿†åŒ–æœç´¢</span></span><br><span class="line"><span class="comment">     * */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">fib</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[n + <span class="number">1</span>];<span class="comment">//è®°å½•ä¹‹å‰æœç´¢çš„æ•°æ®</span></span><br><span class="line">        <span class="keyword">return</span> fibonacci(n, dp);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">fibonacci</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span>[] dp)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (n == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (n == <span class="number">1</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (dp[n] != <span class="number">0</span>) <span class="keyword">return</span> dp[n];<span class="comment">//å¦‚æœä¹‹å‰æœ‰è®°å½• ç›´æ¥è¿”å›</span></span><br><span class="line">        <span class="keyword">else</span> dp[n] = (fibonacci(n - <span class="number">1</span>, dp) + fibonacci(n - <span class="number">2</span>, dp)) % <span class="number">1000000007</span>;</span><br><span class="line">        <span class="keyword">return</span> dp[n];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="åŠ¨æ€è§„åˆ’-2"><a href="#åŠ¨æ€è§„åˆ’-2" class="headerlink" title="åŠ¨æ€è§„åˆ’"></a>åŠ¨æ€è§„åˆ’</h4><h3 id="7-6ã€å‰‘æŒ‡-Offer-19-æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…"><a href="#7-6ã€å‰‘æŒ‡-Offer-19-æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…" class="headerlink" title="7.6ã€å‰‘æŒ‡ Offer 19. æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…"></a>7.6ã€å‰‘æŒ‡ Offer 19. æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…</h3><p>è¯·å®ç°ä¸€ä¸ªå‡½æ•°ç”¨æ¥åŒ¹é…åŒ…å«<code>&#39;. &#39;</code>å’Œ<code>&#39;*&#39;</code>çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚æ¨¡å¼ä¸­çš„å­—ç¬¦<code>&#39;.&#39;</code>è¡¨ç¤ºä»»æ„ä¸€ä¸ªå­—ç¬¦ï¼Œè€Œ<code>&#39;*&#39;</code>è¡¨ç¤ºå®ƒå‰é¢çš„å­—ç¬¦å¯ä»¥å‡ºç°ä»»æ„æ¬¡ï¼ˆå«0æ¬¡ï¼‰ã€‚åœ¨æœ¬é¢˜ä¸­ï¼ŒåŒ¹é…æ˜¯æŒ‡å­—ç¬¦ä¸²çš„æ‰€æœ‰å­—ç¬¦åŒ¹é…æ•´ä¸ªæ¨¡å¼ã€‚ä¾‹å¦‚ï¼Œå­—ç¬¦ä¸²<code>&quot;aaa&quot;</code>ä¸æ¨¡å¼<code>&quot;a.a&quot;</code>å’Œ<code>&quot;ab*ac*a&quot;</code>åŒ¹é…ï¼Œä½†ä¸<code>&quot;aa.a&quot;</code>å’Œ<code>&quot;ab*a&quot;</code>å‡ä¸åŒ¹é…ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥:</span><br><span class="line">s = &quot;aa&quot;</span><br><span class="line">p = &quot;a&quot;</span><br><span class="line">è¾“å‡º: false</span><br><span class="line">è§£é‡Š: &quot;a&quot; æ— æ³•åŒ¹é… &quot;aa&quot; æ•´ä¸ªå­—ç¬¦ä¸²ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥:</span><br><span class="line">s = &quot;aa&quot;</span><br><span class="line">p = &quot;a*&quot;</span><br><span class="line">è¾“å‡º: true</span><br><span class="line">è§£é‡Š: å› ä¸º &#x27;*&#x27; ä»£è¡¨å¯ä»¥åŒ¹é…é›¶ä¸ªæˆ–å¤šä¸ªå‰é¢çš„é‚£ä¸€ä¸ªå…ƒç´ , åœ¨è¿™é‡Œå‰é¢çš„å…ƒç´ å°±æ˜¯ &#x27;a&#x27;ã€‚å› æ­¤ï¼Œå­—ç¬¦ä¸² &quot;aa&quot; å¯è¢«è§†ä¸º &#x27;a&#x27; é‡å¤äº†ä¸€æ¬¡ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥:</span><br><span class="line">s = &quot;ab&quot;</span><br><span class="line">p = &quot;.*&quot;</span><br><span class="line">è¾“å‡º: true</span><br><span class="line">è§£é‡Š: &quot;.*&quot; è¡¨ç¤ºå¯åŒ¹é…é›¶ä¸ªæˆ–å¤šä¸ªï¼ˆ&#x27;*&#x27;ï¼‰ä»»æ„å­—ç¬¦ï¼ˆ&#x27;.&#x27;ï¼‰ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 4:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥:</span><br><span class="line">s = &quot;aab&quot;</span><br><span class="line">p = &quot;c*a*b&quot;</span><br><span class="line">è¾“å‡º: true</span><br><span class="line">è§£é‡Š: å› ä¸º &#x27;*&#x27; è¡¨ç¤ºé›¶ä¸ªæˆ–å¤šä¸ªï¼Œè¿™é‡Œ &#x27;c&#x27; ä¸º 0 ä¸ª, &#x27;a&#x27; è¢«é‡å¤ä¸€æ¬¡ã€‚å› æ­¤å¯ä»¥åŒ¹é…å­—ç¬¦ä¸² &quot;aab&quot;ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 5:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥:</span><br><span class="line">s = &quot;mississippi&quot;</span><br><span class="line">p = &quot;mis*is*p*.&quot;</span><br><span class="line">è¾“å‡º: false</span><br></pre></td></tr></table></figure>

<ul>
<li><code>s</code> å¯èƒ½ä¸ºç©ºï¼Œä¸”åªåŒ…å«ä» <code>a-z</code> çš„å°å†™å­—æ¯ã€‚</li>
<li><code>p</code> å¯èƒ½ä¸ºç©ºï¼Œä¸”åªåŒ…å«ä» <code>a-z</code> çš„å°å†™å­—æ¯ä»¥åŠå­—ç¬¦ <code>.</code> å’Œ <code>*</code>ï¼Œæ— è¿ç»­çš„ <code>&#39;*&#39;</code>ã€‚</li>
</ul>
<hr>
<p><strong>è§£é¢˜æ€è·¯</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202211011104013.png" alt="image-20221101110409896"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.leetcode-cn.com/1614516402-HyzAil-Picture1.png" alt="Picture1.png"></p>
<p>å› æ­¤ï¼Œæœ¬é¢˜çš„çŠ¶æ€å…±æœ‰ mÃ—n ç§ï¼Œåº”å®šä¹‰çŠ¶æ€çŸ©é˜µ dp ï¼Œdp[i] [j]ä»£è¡¨ s[:i] ä¸ p[:j] æ˜¯å¦å¯ä»¥åŒ¹é…ã€‚</p>
<p>åšå¥½çŠ¶æ€å®šä¹‰ï¼Œæ¥ä¸‹æ¥å°±æ˜¯æ ¹æ® ã€Œæ™®é€šå­—ç¬¦ã€ , ã€Œ.ã€ , ã€Œ*ã€ä¸‰ç§å­—ç¬¦çš„åŠŸèƒ½å®šä¹‰ï¼Œåˆ†æå‡ºåŠ¨æ€è§„åˆ’çš„è½¬ç§»æ–¹ç¨‹ã€‚</p>
<p><strong>åŠ¨æ€è§„åˆ’è§£æï¼š</strong></p>
<ul>
<li><p><strong>çŠ¶æ€å®šä¹‰ï¼š</strong> è®¾åŠ¨æ€è§„åˆ’çŸ©é˜µ dp ï¼Œ dp[i] [j] ä»£è¡¨å­—ç¬¦ä¸² s çš„å‰ i ä¸ªå­—ç¬¦å’Œ p çš„å‰ j ä¸ªå­—ç¬¦èƒ½å¦åŒ¹é…ã€‚</p>
</li>
<li><p><strong>è½¬ç§»æ–¹ç¨‹ï¼š</strong> éœ€è¦æ³¨æ„ï¼Œç”±äº dp[0] [0] ä»£è¡¨çš„æ˜¯ç©ºå­—ç¬¦çš„çŠ¶æ€ï¼Œ å› æ­¤ dp[i] [j] å¯¹åº”çš„æ·»åŠ å­—ç¬¦æ˜¯ s[i - 1] å’Œ p[j - 1] ã€‚</p>
<ul>
<li>å½“ p[j - 1] &#x3D; â€˜*â€™ æ—¶ï¼Œ dp[i] [j] åœ¨å½“ä»¥ä¸‹ä»»ä¸€æƒ…å†µä¸º true æ—¶ç­‰äº true ï¼š<ul>
<li>dp[i] [j - 2]ï¼š å³å°†å­—ç¬¦ç»„åˆ p[j - 2] * çœ‹ä½œå‡ºç° 0 æ¬¡æ—¶ï¼Œèƒ½å¦åŒ¹é…ï¼›</li>
<li>dp[i - 1] [j] ä¸” s[i - 1] &#x3D; p[j - 2] : å³è®©å­—ç¬¦ p[j - 2] å¤šå‡ºç° 1 æ¬¡æ—¶ï¼Œèƒ½å¦åŒ¹é…ï¼›</li>
<li>dp[i - 1] [j] ä¸” p[j - 2] &#x3D; â€˜.â€™ : å³è®©å­—ç¬¦ â€˜.â€™ å¤šå‡ºç° 1 æ¬¡æ—¶ï¼Œèƒ½å¦åŒ¹é…ï¼›</li>
</ul>
</li>
<li>å½“ p[j - 1] !&#x3D; â€˜*â€™ æ—¶ï¼Œ dp[i] [j] åœ¨å½“ä»¥ä¸‹ä»»ä¸€æƒ…å†µä¸º true æ—¶ç­‰äº true ï¼š<ul>
<li>dp[i - 1] [j - 1] ä¸” s[i - 1] &#x3D; p[j - 1]ï¼š å³è®©å­—ç¬¦ p[j - 1] å¤šå‡ºç°ä¸€æ¬¡æ—¶ï¼Œèƒ½å¦åŒ¹é…ï¼›</li>
<li>dp[i - 1] [j - 1] ä¸” p[j - 1] &#x3D; â€˜.â€™ï¼š å³å°†å­—ç¬¦ . çœ‹ä½œå­—ç¬¦ s[i - 1] æ—¶ï¼Œèƒ½å¦åŒ¹é…ï¼›</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>åˆå§‹åŒ–ï¼š</strong> éœ€è¦å…ˆåˆå§‹åŒ– dp çŸ©é˜µé¦–è¡Œï¼Œä»¥é¿å…çŠ¶æ€è½¬ç§»æ—¶ç´¢å¼•è¶Šç•Œã€‚</p>
<ul>
<li>dp[0] [0] &#x3D; trueï¼š ä»£è¡¨ä¸¤ä¸ªç©ºå­—ç¬¦ä¸²èƒ½å¤ŸåŒ¹é…ã€‚<br>dp[0] [j] &#x3D; dp[0] [j - 2] ä¸” p[j - 1] &#x3D; â€˜*â€™ï¼š é¦–è¡Œ s ä¸ºç©ºå­—ç¬¦ä¸²ï¼Œå› æ­¤å½“ p çš„å¶æ•°ä½ä¸º * æ—¶æ‰èƒ½å¤ŸåŒ¹é…ï¼ˆå³è®© p çš„å¥‡æ•°ä½å‡ºç° 0 æ¬¡ï¼Œä¿æŒ p æ˜¯ç©ºå­—ç¬¦ä¸²ï¼‰ã€‚å› æ­¤ï¼Œå¾ªç¯éå†å­—ç¬¦ä¸² p ï¼Œæ­¥é•¿ä¸º 2ï¼ˆå³åªçœ‹å¶æ•°ä½ï¼‰ã€‚<br>è¿”å›å€¼ï¼š dp çŸ©é˜µå³ä¸‹è§’å­—ç¬¦ï¼Œä»£è¡¨å­—ç¬¦ä¸² s å’Œ p èƒ½å¦åŒ¹é…ã€‚</li>
</ul>
</li>
<li><p><strong>è¿”å›å€¼ï¼š</strong> <code>dp</code> çŸ©é˜µå³ä¸‹è§’å­—ç¬¦ï¼Œä»£è¡¨å­—ç¬¦ä¸² <code>s</code> å’Œ <code>p</code> èƒ½å¦åŒ¹é…ã€‚</p>
</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.leetcode-cn.com/1614516402-MacqQq-Picture4.png" alt="img"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.leetcode-cn.com/1614516402-ATFWBt-Picture6.png" alt="img"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.leetcode-cn.com/1614516402-HHmdNJ-Picture12.png" alt="img"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.leetcode-cn.com/1614516402-bBdFaG-Picture13.png" alt="img"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.leetcode-cn.com/1614516402-ibjjpB-Picture18.png" alt="img"></p>
<p><strong>å¤æ‚åº¦åˆ†æï¼š</strong><br>æ—¶é—´å¤æ‚åº¦ O(MN)ï¼š å…¶ä¸­ M, Nåˆ†åˆ«ä¸º s å’Œ p çš„é•¿åº¦ï¼ŒçŠ¶æ€è½¬ç§»éœ€éå†æ•´ä¸ª dp çŸ©é˜µã€‚<br>ç©ºé—´å¤æ‚åº¦ O(MN)ï¼š çŠ¶æ€çŸ©é˜µ dp ä½¿ç”¨ O(MN)çš„é¢å¤–ç©ºé—´ã€‚</p>
<h3 id="7-7ã€å‰‘æŒ‡-Offer-46-æŠŠæ•°å­—ç¿»è¯‘æˆå­—ç¬¦ä¸²"><a href="#7-7ã€å‰‘æŒ‡-Offer-46-æŠŠæ•°å­—ç¿»è¯‘æˆå­—ç¬¦ä¸²" class="headerlink" title="7.7ã€å‰‘æŒ‡ Offer 46. æŠŠæ•°å­—ç¿»è¯‘æˆå­—ç¬¦ä¸²"></a>7.7ã€å‰‘æŒ‡ Offer 46. æŠŠæ•°å­—ç¿»è¯‘æˆå­—ç¬¦ä¸²</h3><p>ç»™å®šä¸€ä¸ªæ•°å­—ï¼Œæˆ‘ä»¬æŒ‰ç…§å¦‚ä¸‹è§„åˆ™æŠŠå®ƒç¿»è¯‘ä¸ºå­—ç¬¦ä¸²ï¼š0 ç¿»è¯‘æˆ â€œaâ€ ï¼Œ1 ç¿»è¯‘æˆ â€œbâ€ï¼Œâ€¦â€¦ï¼Œ11 ç¿»è¯‘æˆ â€œlâ€ï¼Œâ€¦â€¦ï¼Œ25 ç¿»è¯‘æˆ â€œzâ€ã€‚ä¸€ä¸ªæ•°å­—å¯èƒ½æœ‰å¤šä¸ªç¿»è¯‘ã€‚è¯·ç¼–ç¨‹å®ç°ä¸€ä¸ªå‡½æ•°ï¼Œç”¨æ¥è®¡ç®—ä¸€ä¸ªæ•°å­—æœ‰å¤šå°‘ç§ä¸åŒçš„ç¿»è¯‘æ–¹æ³•ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: 12258</span><br><span class="line">è¾“å‡º: 5</span><br><span class="line">è§£é‡Š: 12258æœ‰5ç§ä¸åŒçš„ç¿»è¯‘ï¼Œåˆ†åˆ«æ˜¯&quot;bccfi&quot;, &quot;bwfi&quot;, &quot;bczi&quot;, &quot;mcfi&quot;å’Œ&quot;mzi&quot;</span><br></pre></td></tr></table></figure>

<ul>
<li>dp[0] [i] iä¸ªæ•°å­—å¯¹åº”æœ€å¤šçš„ç¿»è¯‘(iä¸å‚åŠ ç¿»è¯‘ï¼‰</li>
<li>dp[1] [i] iä¸ªæ•°å­—å¯¹åº”æœ€å¤šçš„ç¿»è¯‘(iå‚åŠ ç¿»è¯‘ï¼‰</li>
</ul>
<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>0 &lt;= num &lt; 231</code></li>
</ul>
<p>Related Topics</p>
<p>å­—ç¬¦ä¸²</p>
<p>åŠ¨æ€è§„åˆ’0</p>
<p><strong>è§£é¢˜æ€è·¯ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202211161709589.png" alt="Picture1.png"></p>
<ul>
<li>ç¡®å®šdp[i]çš„å«ä¹‰ï¼šdp[i] ä»£è¡¨ä»¥ xi ä¸ºç»“å°¾çš„æ•°å­—çš„ç¿»è¯‘æ–¹æ¡ˆæ•°é‡ã€‚</li>
<li>ç¡®å®šçŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸º</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202211161716249.png" alt="image-20221116171600192"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">å½“xi-1å’Œxièƒ½ä¸€èµ·ç¿»è¯‘æ—¶ï¼Œdp[i] = dp[i - 1] + dp[i - 2]ï¼›</span><br><span class="line">å› ä¸ºå¯ä»¥é€‰æ‹©xiå’Œxi-1æŒ‰é¡ºåºç¿»è¯‘dp[i-1]ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©xiå’Œxi-1ä¸€èµ·ç¿»è¯‘dp[i-2].</span><br><span class="line">å½“xi-1å’Œxiä¸èƒ½ä¸€èµ·ç¿»è¯‘æ—¶ï¼Œdp[i] = dp[i - 1]ï¼›</span><br><span class="line">å› ä¸ºåªèƒ½æŒ‰é¡ºåºç¿»è¯‘ï¼Œdp[i-1]</span><br></pre></td></tr></table></figure>

<ul>
<li>åˆå§‹åŒ–dp[0]&#x3D;1(ä¸ºäº†ç¬¬äºŒä¸ªä½ç½®å‡†å¤‡),dp[1]&#x3D;1</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">translateNum</span><span class="params">(<span class="type">int</span> num)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> num + <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> s.length();</span><br><span class="line">        <span class="comment">// dp[0] [i] ç¬¬iä¸ªæ•°å­—å¯¹åº”æœ€å¤šçš„ç¿»è¯‘</span></span><br><span class="line">        <span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[n + <span class="number">1</span>];</span><br><span class="line">        <span class="comment">// åˆå§‹åŒ–</span></span><br><span class="line">        dp[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">        dp[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//æ ¹æ®çŠ¶æ€è½¬ç§»æ–¹ç¨‹éå†</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">2</span>; i &lt; n + <span class="number">1</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (s.charAt(i - <span class="number">2</span>) &lt; <span class="string">&#x27;2&#x27;</span> &amp;&amp; s.charAt(i - <span class="number">2</span>) &gt; <span class="string">&#x27;0&#x27;</span> || (s.charAt(i - <span class="number">2</span>) == <span class="string">&#x27;2&#x27;</span> &amp;&amp; s.charAt(i - <span class="number">1</span>) &lt;= <span class="string">&#x27;5&#x27;</span>)) &#123;</span><br><span class="line">                dp[i] = dp[i - <span class="number">1</span>] + dp[i - <span class="number">2</span>];</span><br><span class="line">            &#125; <span class="keyword">else</span></span><br><span class="line">                dp[i] = dp[i - <span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[n];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ—¶é—´å¤æ‚åº¦O(N)</p>
<p>ç©ºé—´å¤æ‚åº¦O(N)</p>
<ul>
<li>å¯ä»¥ç”¨å¾ªç¯ä¸å˜é‡è®©æ—¶é—´å¤æ‚åº¦é™ä¸ºO(1)</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">translateNum</span><span class="params">(<span class="type">int</span> num)</span> &#123;</span><br><span class="line">       <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> num + <span class="string">&quot;&quot;</span>;</span><br><span class="line">       <span class="comment">// åˆå§‹åŒ–</span></span><br><span class="line">       <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">1</span>;<span class="comment">//dp[i-2]</span></span><br><span class="line">       <span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> <span class="number">1</span>;<span class="comment">//dp[i-1]</span></span><br><span class="line"></span><br><span class="line">       <span class="comment">//æ ¹æ®çŠ¶æ€è½¬ç§»æ–¹ç¨‹éå†</span></span><br><span class="line">       <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">2</span>; i &lt; s.length() + <span class="number">1</span>; i++) &#123;</span><br><span class="line">           <span class="keyword">if</span> (s.charAt(i - <span class="number">2</span>) &lt; <span class="string">&#x27;2&#x27;</span> &amp;&amp; s.charAt(i - <span class="number">2</span>) &gt; <span class="string">&#x27;0&#x27;</span> || (s.charAt(i - <span class="number">2</span>) == <span class="string">&#x27;2&#x27;</span> &amp;&amp; s.charAt(i - <span class="number">1</span>) &lt;= <span class="string">&#x27;5&#x27;</span>)) &#123;</span><br><span class="line">               <span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> a + b;</span><br><span class="line">               a = b;</span><br><span class="line">               b = c;</span><br><span class="line">           &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">           	a = b;</span><br><span class="line">           &#125; </span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> b;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>ä¸æ˜¯ç”¨å­—ç¬¦ä¸²ï¼Œç›´æ¥ä½¿ç”¨æ•°å­—æ¥å–ä½™ï¼Œçœå»å­—ç¬¦ä¸²çš„O(N)</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">translateNum</span><span class="params">(<span class="type">int</span> num)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">1</span>;<span class="comment">//dp[i - 2]</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> <span class="number">1</span>;<span class="comment">//dp[i - 1]</span></span><br><span class="line">        <span class="type">int</span> x;<span class="comment">//</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">y</span> <span class="operator">=</span> num % <span class="number">10</span>;<span class="comment">//æœ€åä¸€ä½</span></span><br><span class="line">        <span class="keyword">while</span>(num &gt; <span class="number">9</span>) &#123;</span><br><span class="line">            num /= <span class="number">10</span>;</span><br><span class="line">            x = num % <span class="number">10</span>;<span class="comment">//å€’æ•°ç¬¬äºŒä½</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">tmp</span> <span class="operator">=</span> <span class="number">10</span> * x + y;<span class="comment">//ç®—å€¼</span></span><br><span class="line">            <span class="keyword">if</span> (tmp &gt;= <span class="number">10</span> &amp;&amp; tmp &lt;= <span class="number">25</span>) &#123;<span class="comment">//å¯ä»¥ä¸¤ä½ä¸€èµ·ç®—</span></span><br><span class="line">                <span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> a + b;</span><br><span class="line">                a = b;</span><br><span class="line">                b = c;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            	a = b;</span><br><span class="line">            &#125; </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="7-8ã€å‰‘æŒ‡-Offer-47-ç¤¼ç‰©çš„æœ€å¤§ä»·å€¼"><a href="#7-8ã€å‰‘æŒ‡-Offer-47-ç¤¼ç‰©çš„æœ€å¤§ä»·å€¼" class="headerlink" title="7.8ã€å‰‘æŒ‡ Offer 47. ç¤¼ç‰©çš„æœ€å¤§ä»·å€¼"></a>7.8ã€å‰‘æŒ‡ Offer 47. ç¤¼ç‰©çš„æœ€å¤§ä»·å€¼</h3><p>åœ¨ä¸€ä¸ª m*n çš„æ£‹ç›˜çš„æ¯ä¸€æ ¼éƒ½æ”¾æœ‰ä¸€ä¸ªç¤¼ç‰©ï¼Œæ¯ä¸ªç¤¼ç‰©éƒ½æœ‰ä¸€å®šçš„ä»·å€¼ï¼ˆä»·å€¼å¤§äº 0ï¼‰ã€‚ä½ å¯ä»¥ä»æ£‹ç›˜çš„å·¦ä¸Šè§’å¼€å§‹æ‹¿æ ¼å­é‡Œçš„ç¤¼ç‰©ï¼Œå¹¶æ¯æ¬¡å‘å³æˆ–è€…å‘ä¸‹ç§»åŠ¨ä¸€æ ¼ã€ç›´åˆ°åˆ°è¾¾æ£‹ç›˜çš„å³ä¸‹è§’ã€‚ç»™å®šä¸€ä¸ªæ£‹ç›˜åŠå…¶ä¸Šé¢çš„ç¤¼ç‰©çš„ä»·å€¼ï¼Œè¯·è®¡ç®—ä½ æœ€å¤šèƒ½æ‹¿åˆ°å¤šå°‘ä»·å€¼çš„ç¤¼ç‰©ï¼Ÿ</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: </span><br><span class="line">[</span><br><span class="line">  [1,3,1],</span><br><span class="line">  [1,5,1],</span><br><span class="line">  [4,2,1]</span><br><span class="line">]</span><br><span class="line">è¾“å‡º: 12</span><br><span class="line">è§£é‡Š: è·¯å¾„ 1â†’3â†’5â†’2â†’1 å¯ä»¥æ‹¿åˆ°æœ€å¤šä»·å€¼çš„ç¤¼ç‰©</span><br></pre></td></tr></table></figure>

<p>æç¤ºï¼š</p>
<ul>
<li><code>0 &lt; grid.length &lt;= 200</code></li>
<li><code>0 &lt; grid[0].length &lt;= 200</code></li>
</ul>
<p>Related Topics</p>
<p>æ•°ç»„</p>
<p>åŠ¨æ€è§„åˆ’</p>
<p>çŸ©é˜µ</p>
<p><strong>è§£é¢˜æ€è·¯ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202211161855965.png" alt="Picture1.png"></p>
<ul>
<li><p>dpæ•°ç»„çš„å«ä¹‰ï¼šç›´æ¥åœ¨åŸgrid[] []ä¸Šè¿›è¡Œä¿®æ”¹ï¼Œè¡¨ç¤ºä»èµ·åˆ°åˆ°grid[i] [j]çš„æœ€å¤§ä»·å€¼</p>
</li>
<li><p>ç¡®å®šçŠ¶æ€è½¬ç§»å…¬å¼</p>
<p>å¯¹äºä¸¤ä¸ªè¾¹grid[0] [j]æ˜¯ä»èµ·ç‚¹æ¥è¿›è¡Œç´¯åŠ <code>grid[0] [j] = grid[0] [j - 1] + grid[0] [j]</code>ï¼›</p>
<p>å’Œgrid[i] [0]æ˜¯ä»èµ·ç‚¹æ¥è¿›è¡Œç´¯åŠ <code>grid[i] [0] = grid[i - 1] [0] + grid[i] [0]</code>;</p>
<p>å¯¹äºå…¶ä»–çš„ä½ç½®<code>grid[i] [j] = max(grid[i - 1] [j], grid[i] [j - 1]) + grid[i] [j];</code></p>
</li>
<li><p>åˆå§‹åŒ–ï¼šä¸ç”¨åˆå§‹åŒ–</p>
</li>
<li><p>ç¡®å®šéå†é¡ºåºï¼šä¸€è¡Œä¸€è¡Œéå†å°±è¡Œï¼Œä¾èµ–çš„ä½ç½®æ˜¯ä¸Šæ–¹å’Œå·¦è¾¹ã€‚</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxValue</span><span class="params">(<span class="type">int</span>[][] grid)</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">1</span>; j &lt; grid[<span class="number">0</span>].length; j++) &#123;</span><br><span class="line">            grid[<span class="number">0</span>][j] += grid[<span class="number">0</span>][j - <span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; grid.length; i++) &#123;</span><br><span class="line">            grid[i][<span class="number">0</span>] += grid[i - <span class="number">1</span>][<span class="number">0</span>];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; grid.length; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">1</span>; j &lt; grid[<span class="number">0</span>].length; j++) &#123;</span><br><span class="line">                grid[i][j] += Math.max(grid[i - <span class="number">1</span>][j], grid[i][j - <span class="number">1</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> grid[grid.length - <span class="number">1</span>][grid[<span class="number">0</span>].length - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ—¶é—´å¤æ‚åº¦O(M*N)</p>
<p>ç©ºé—´å¤æ‚åº¦O(1)</p>
<h3 id="7-9ã€å‰‘æŒ‡-Offer-48-æœ€é•¿ä¸å«é‡å¤å­—ç¬¦çš„å­å­—ç¬¦ä¸²"><a href="#7-9ã€å‰‘æŒ‡-Offer-48-æœ€é•¿ä¸å«é‡å¤å­—ç¬¦çš„å­å­—ç¬¦ä¸²" class="headerlink" title="7.9ã€å‰‘æŒ‡ Offer 48. æœ€é•¿ä¸å«é‡å¤å­—ç¬¦çš„å­å­—ç¬¦ä¸²"></a>7.9ã€å‰‘æŒ‡ Offer 48. æœ€é•¿ä¸å«é‡å¤å­—ç¬¦çš„å­å­—ç¬¦ä¸²</h3><p>è¯·ä»å­—ç¬¦ä¸²ä¸­æ‰¾å‡ºä¸€ä¸ªæœ€é•¿çš„ä¸åŒ…å«é‡å¤å­—ç¬¦çš„å­å­—ç¬¦ä¸²ï¼Œè®¡ç®—è¯¥æœ€é•¿å­å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: &quot;abcabcbb&quot;</span><br><span class="line">è¾“å‡º: 3 </span><br><span class="line">è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ &quot;abc&quot;ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 3ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: &quot;bbbbb&quot;</span><br><span class="line">è¾“å‡º: 1</span><br><span class="line">è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ &quot;b&quot;ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 1ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: &quot;pwwkew&quot;</span><br><span class="line">è¾“å‡º: 3</span><br><span class="line">è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ &quot;wke&quot;ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 3ã€‚</span><br><span class="line">     è¯·æ³¨æ„ï¼Œä½ çš„ç­”æ¡ˆå¿…é¡»æ˜¯ å­ä¸² çš„é•¿åº¦ï¼Œ&quot;pwke&quot; æ˜¯ä¸€ä¸ªå­åºåˆ—ï¼Œä¸æ˜¯å­ä¸²ã€‚</span><br></pre></td></tr></table></figure>



<p>æç¤ºï¼š</p>
<ul>
<li><code>s.length &lt;= 40000</code></li>
</ul>
<p>Related Topics</p>
<p>å“ˆå¸Œè¡¨</p>
<p>å­—ç¬¦ä¸²</p>
<p>æ»‘åŠ¨çª—å£</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<hr>
<p><strong>ç¡®å®šdpæ•°ç»„çš„å«ä¹‰</strong>ï¼šdp[i]è¡¨ç¤ºä»¥s[i]ç»“å°¾çš„æœ€é•¿ä¸é‡å¤å­—ç¬¦çš„å­—ç¬¦ä¸²é•¿åº¦ã€‚</p>
<p><strong>ç¡®å®šé€’æ¨å…¬å¼</strong>ï¼š</p>
<p>ç”¨ä¸€ä¸ªå“ˆå¸Œè¡¨è®°å½•ä¸Šä¸€ä¸ªå­—ç¬¦å¯¹åº”çš„ä¸‹æ ‡ä½ç½®ï¼Œä¹‹åå¦‚æœå†é‡åˆ°è¯¥å­—ç¬¦å°±æ›´æ–°ä¸‹æ ‡ã€‚</p>
<p>å½“mapæ²¡æœ‰è¯¥å­—ç¬¦çš„è®°å½•æ—¶ï¼ˆè¯¥å­—ç¬¦ç¬¬ä¸€æ¬¡å‡ºç°ï¼‰<code>dp[i] = dp[i - 1] + 1;</code></p>
<p>å½“mapä¸­æœ‰è¯¥è®°å½•ï¼Œé‚£ä¹ˆæœ‰ä¸¤ç§å¯èƒ½:</p>
<ul>
<li>ä¸¤ä¸ªå­—ç¬¦é—´çš„å­—ç¬¦ä¸²æ²¡æœ‰å‡ºç°é‡å¤<code>dp[i] = i - index;</code></li>
<li>å­—ç¬¦é—´çš„å­—ç¬¦å­˜åœ¨é‡å¤<code>dp[i] = dp[i - 1] + 1;</code></li>
</ul>
<p>ä¸¤è€…å–æœ€å°å€¼ï¼Œæ•…<code>dp[i] = Math.min(i - index, dp[i - 1] + 1);</code></p>
<hr>
<p>çŠ¶æ€è½¬ç§»çš„ä¼˜åŒ–ï¼Œåˆ©ç”¨i - indexæ¥å’Œdp[j-i]åˆ¤æ–­ï¼Œmapè®°å½•å­—ç¬¦çš„å‰ä¸€ä¸ªä¸‹æ ‡ä½ç½®ã€‚è¿™æ ·å¯ä»¥åˆå¹¶çŠ¶æ€è½¬ç§»æ–¹ç¨‹ã€‚ã€</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202211170935479.png" alt="image-20221117093534354"></p>
<p><strong>åˆå§‹åŒ–</strong>ï¼š</p>
<p>å› ä¸ºçŠ¶æ€è½¬ç§»æ–¹ç¨‹ç”¨åˆ°äº†dp[i - 1]æ‰€ä»¥å¯¹dp[0]è¿›è¡Œåˆå§‹åŒ–ï¼Œdp[0]è¡¨ç¤ºç¬¬ä¸€ä¸ªå­—ç¬¦çš„æœ€é•¿ä¸å«é‡å¤å­—ç¬¦çš„é•¿åº¦ï¼Œæ•…ä¸º1ã€‚å¹¶æŠŠä¸‹æ ‡åŠ å…¥mapä¸­ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">lengthOfLongestSubstring</span><span class="params">(String s)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (Objects.equals(s, <span class="string">&quot;&quot;</span>) || s == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//dp[i]è¡¨ç¤ºä»¥s[i]ç»“å°¾çš„æœ€é•¿ä¸é‡å¤å­—ç¬¦çš„å­—ç¬¦ä¸²é•¿åº¦</span></span><br><span class="line">    <span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[s.length()];</span><br><span class="line">    HashMap&lt;Character, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">    dp[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    map.put(s.charAt(<span class="number">0</span>), <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; s.length(); i++) &#123;</span><br><span class="line">        <span class="type">char</span> <span class="variable">c</span> <span class="operator">=</span> s.charAt(i);</span><br><span class="line">        <span class="keyword">if</span> (map.getOrDefault(c, -<span class="number">1</span>) == -<span class="number">1</span>) &#123; <span class="comment">//è¡¨ä¸­æ²¡å­˜è®°å½•</span></span><br><span class="line">            dp[i] = dp[i - <span class="number">1</span>] + <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// åœ¨è¡¨ä¸­æœ‰è®°å½•</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">index</span> <span class="operator">=</span> map.get(c);<span class="comment">//æ‹¿åˆ°ä»–çš„ä½ç½®</span></span><br><span class="line">            dp[i] = Math.min(i - index, dp[i - <span class="number">1</span>] + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        map.put(c, i);<span class="comment">// å­˜å…¥map or ç†è§£ä¸ºæ›´æ–°mapçš„å€¼</span></span><br><span class="line">        res = Math.max(dp[i], res);<span class="comment">// reså–æœ€å¤§å€¼</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ—¶é—´å¤æ‚åº¦ï¼šO(N)</p>
<p>ç©ºé—´å¤æ‚åº¦ï¼šO(N)</p>
<p>ç©ºé—´ä¸Šçš„ä¼˜åŒ–ï¼Œåˆ©ç”¨ä¸´æ—¶å˜é‡tmpè®°å½•ï¼Œæ¯ä¸ªè¿‡ç¨‹åªæ›´æ–°æœ€å¤§çš„å€¼ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">lengthOfLongestSubstring</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        Map&lt;Character, Integer&gt; set = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>, tmp = <span class="number">0</span>, len = s.length();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; len; j++) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> set.getOrDefault(s.charAt(j), -<span class="number">1</span>); <span class="comment">// è·å–ç´¢å¼• i</span></span><br><span class="line">            set.put(s.charAt(j), j); <span class="comment">// æ›´æ–°å“ˆå¸Œè¡¨</span></span><br><span class="line">            tmp = tmp &lt; j - i ? tmp + <span class="number">1</span> : j - i; <span class="comment">// dp[j - 1] . dp[j]</span></span><br><span class="line">            res = Math.max(res, tmp); <span class="comment">// max(dp[j - 1], dp[j])</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å‰‘æŒ‡-Offer-49-ä¸‘æ•°"><a href="#å‰‘æŒ‡-Offer-49-ä¸‘æ•°" class="headerlink" title="å‰‘æŒ‡ Offer 49. ä¸‘æ•°"></a>å‰‘æŒ‡ Offer 49. ä¸‘æ•°</h3><p>æˆ‘ä»¬æŠŠåªåŒ…å«è´¨å› å­ 2ã€3 å’Œ 5 çš„æ•°ç§°ä½œä¸‘æ•°ï¼ˆUgly Numberï¼‰ã€‚æ±‚æŒ‰ä»å°åˆ°å¤§çš„é¡ºåºçš„ç¬¬ n ä¸ªä¸‘æ•°ã€‚</p>
<p><strong>ç¤ºä¾‹:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: n = 10</span><br><span class="line">è¾“å‡º: 12</span><br><span class="line">è§£é‡Š: 1, 2, 3, 4, 5, 6, 8, 9, 10, 12 æ˜¯å‰ 10 ä¸ªä¸‘æ•°ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>è¯´æ˜:</strong></p>
<ol>
<li><code>1</code> æ˜¯ä¸‘æ•°ã€‚</li>
<li><code>n</code> <strong>ä¸è¶…è¿‡</strong>1690ã€‚</li>
</ol>
<p>æ³¨æ„ï¼šæœ¬é¢˜ä¸ä¸»ç«™ 264 é¢˜ç›¸åŒï¼š<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/ugly-number-ii/">https://leetcode-cn.com/problems/ugly-number-ii/</a></p>
<p>Related Topics</p>
<p>å“ˆå¸Œè¡¨</p>
<p>æ•°å­¦</p>
<p>åŠ¨æ€è§„åˆ’</p>
<p>å †ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰</p>
<p><strong>è§£é¢˜æ€è·¯ï¼š</strong></p>
<blockquote>
<p>ä¸‘æ•°çš„é€’æ¨æ€§è´¨ï¼š ä¸‘æ•°åªåŒ…å«å› å­ 2, 3, 5 ï¼Œå› æ­¤æœ‰ â€œä¸‘æ•° &#x3D;&#x3D; æŸè¾ƒå°ä¸‘æ•° \timesÃ— æŸå› å­â€ ï¼ˆä¾‹å¦‚10&#x3D;5Ã—2ï¼‰ã€‚</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202211170958398.png" alt="image-20221117095848322"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202211170959923.png" alt="Picture1.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">xaæ˜¯ç¬¬ä¸€ä¸ªÃ—2å¤§äºxnçš„ä¸‘æ•°</span><br><span class="line">xbæ˜¯ç¬¬ä¸€ä¸ªÃ—3å¤§äºxnçš„ä¸‘æ•°</span><br><span class="line">xcæ˜¯ç¬¬ä¸€ä¸ªÃ—5å¤§äºxnçš„ä¸‘æ•°</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202211171001480.png" alt="image-20221117100102405"></p>
<p><strong>å¤æ‚åº¦åˆ†æï¼š</strong></p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(N)O(N) ï¼š å…¶ä¸­N&#x3D;n ï¼ŒåŠ¨æ€è§„åˆ’éœ€éå†è®¡ç®— dp åˆ—è¡¨ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(N)O(N) ï¼š é•¿åº¦ä¸ºN çš„dp åˆ—è¡¨ä½¿ç”¨ O(N) çš„é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">nthUglyNumber</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">0</span>, b = <span class="number">0</span>, c = <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">    dp[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n2</span> <span class="operator">=</span> dp[a] * <span class="number">2</span>, n3 = dp[b] * <span class="number">3</span>, n5 = dp[c] * <span class="number">5</span>;</span><br><span class="line">        dp[i] = Math.min(Math.min(n2, n3), n5);</span><br><span class="line">        <span class="keyword">if</span> (dp[i] == n2) a++;</span><br><span class="line">        <span class="keyword">if</span> (dp[i] == n3) b++;</span><br><span class="line">        <span class="keyword">if</span> (dp[i] == n5) c++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[n - <span class="number">1</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="7-10ã€å‰‘æŒ‡-Offer-60-n-ä¸ªéª°å­çš„ç‚¹æ•°"><a href="#7-10ã€å‰‘æŒ‡-Offer-60-n-ä¸ªéª°å­çš„ç‚¹æ•°" class="headerlink" title="7.10ã€å‰‘æŒ‡ Offer 60. n ä¸ªéª°å­çš„ç‚¹æ•°"></a>7.10ã€å‰‘æŒ‡ Offer 60. n ä¸ªéª°å­çš„ç‚¹æ•°</h3><p>æŠŠnä¸ªéª°å­æ‰”åœ¨åœ°ä¸Šï¼Œæ‰€æœ‰éª°å­æœä¸Šä¸€é¢çš„ç‚¹æ•°ä¹‹å’Œä¸ºsã€‚è¾“å…¥nï¼Œæ‰“å°å‡ºsçš„æ‰€æœ‰å¯èƒ½çš„å€¼å‡ºç°çš„æ¦‚ç‡ã€‚</p>
<p>ä½ éœ€è¦ç”¨ä¸€ä¸ªæµ®ç‚¹æ•°æ•°ç»„è¿”å›ç­”æ¡ˆï¼Œå…¶ä¸­ç¬¬ i ä¸ªå…ƒç´ ä»£è¡¨è¿™ n ä¸ªéª°å­æ‰€èƒ½æ·å‡ºçš„ç‚¹æ•°é›†åˆä¸­ç¬¬ i å°çš„é‚£ä¸ªçš„æ¦‚ç‡ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: 1</span><br><span class="line">è¾“å‡º: [0.16667,0.16667,0.16667,0.16667,0.16667,0.16667]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: 2</span><br><span class="line">è¾“å‡º: [0.02778,0.05556,0.08333,0.11111,0.13889,0.16667,0.13889,0.11111,0.08333,0.05556,0.02778]</span><br></pre></td></tr></table></figure>



<p><strong>é™åˆ¶ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1 &lt;= n &lt;= 11</span><br></pre></td></tr></table></figure>

<p>Related Topics</p>
<p>æ•°å­¦</p>
<p>åŠ¨æ€è§„åˆ’</p>
<p>æ¦‚ç‡ä¸ç»Ÿè®¡</p>
<p>ğŸ‘ 496</p>
<p>ğŸ‘ 0</p>
<h4 id="æš´åŠ›æ³•"><a href="#æš´åŠ›æ³•" class="headerlink" title="æš´åŠ›æ³•"></a>æš´åŠ›æ³•</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202211181001768.png" alt="image-20221118100112673"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202211181001882.png" alt="Picture1.png"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202211181001271.png" alt="image-20221118100149197"></p>
<h4 id="åŠ¨æ€è§„åˆ’-3"><a href="#åŠ¨æ€è§„åˆ’-3" class="headerlink" title="åŠ¨æ€è§„åˆ’"></a>åŠ¨æ€è§„åˆ’</h4><blockquote>
<p>è®¾è¾“å…¥ n ä¸ªéª°å­çš„è§£ï¼ˆå³æ¦‚ç‡åˆ—è¡¨ï¼‰ä¸º f(n) ï¼Œå…¶ä¸­ã€Œç‚¹æ•°å’Œã€ xçš„æ¦‚ç‡ä¸º f(n, x) ã€‚</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202211181004718.png" alt="image-20221118100410639"></p>
<blockquote>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œä¸º n &#x3D; 2, x &#x3D; 7çš„é€’æ¨è®¡ç®—ç¤ºä¾‹ã€‚</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202211181018233.png" alt="Picture2.png"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202211181023640.png" alt="image-20221118102304571"></p>
<blockquote>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œä»¥ä¸Šé€’æ¨å…¬å¼æ˜¯ â€œé€†å‘â€ çš„ï¼Œå³ä¸ºäº†è®¡ç®—f(n,x) ï¼Œå°†æ‰€æœ‰ä¸ä¹‹æœ‰å…³çš„æƒ…å†µæ±‚å’Œï¼›è€Œå€˜è‹¥æ”¹æ¢ä¸º â€œæ­£å‘â€ çš„é€’æ¨å…¬å¼ï¼Œä¾¿å¯è§£å†³è¶Šç•Œé—®é¢˜ã€‚</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202211181025269.png" alt="Picture3.png"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202211181027924.png" alt="image-20221118102715860"></p>
<blockquote>
<p>å°† f(i) è®°ä¸ºåŠ¨æ€è§„åˆ’åˆ—è¡¨å½¢å¼ dp[i]ï¼Œåˆ™ i &#x3D; 1, 2, â€¦, n çš„çŠ¶æ€è½¬ç§»è¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202211181028153.png" alt="img"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202211181029199.png" alt="image-20221118102956132"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">double</span>[] setesProbability(<span class="type">int</span> n) &#123;</span><br><span class="line">    <span class="type">double</span>[] dp = <span class="keyword">new</span> <span class="title class_">double</span>[<span class="number">6</span>];</span><br><span class="line">    Arrays.fill(dp, <span class="number">1.0</span> / <span class="number">6.0</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">2</span>; i &lt;= n; i++) &#123; <span class="comment">//éå†æ¬¡æ•°</span></span><br><span class="line">        <span class="type">double</span>[] tmp = <span class="keyword">new</span> <span class="title class_">double</span>[<span class="number">5</span> * i + <span class="number">1</span>];<span class="comment">// 6 * n - n + 1</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; dp.length; j++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> <span class="number">0</span>; k &lt; <span class="number">6</span>; k++) &#123;</span><br><span class="line">                tmp[j + k] += dp[j] / <span class="number">6.0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        dp = tmp;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="7-11ã€å‰‘æŒ‡-Offer-63-è‚¡ç¥¨çš„æœ€å¤§åˆ©æ¶¦"><a href="#7-11ã€å‰‘æŒ‡-Offer-63-è‚¡ç¥¨çš„æœ€å¤§åˆ©æ¶¦" class="headerlink" title="7.11ã€å‰‘æŒ‡ Offer 63. è‚¡ç¥¨çš„æœ€å¤§åˆ©æ¶¦"></a>7.11ã€å‰‘æŒ‡ Offer 63. è‚¡ç¥¨çš„æœ€å¤§åˆ©æ¶¦</h3><p>å‡è®¾æŠŠæŸè‚¡ç¥¨çš„ä»·æ ¼æŒ‰ç…§æ—¶é—´å…ˆåé¡ºåºå­˜å‚¨åœ¨æ•°ç»„ä¸­ï¼Œè¯·é—®ä¹°å–è¯¥è‚¡ç¥¨ä¸€æ¬¡å¯èƒ½è·å¾—çš„æœ€å¤§åˆ©æ¶¦æ˜¯å¤šå°‘ï¼Ÿ</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: [7,1,5,3,6,4]</span><br><span class="line">è¾“å‡º: 5</span><br><span class="line">è§£é‡Š: åœ¨ç¬¬ 2 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 1ï¼‰çš„æ—¶å€™ä¹°å…¥ï¼Œåœ¨ç¬¬ 5 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 6ï¼‰çš„æ—¶å€™å–å‡ºï¼Œæœ€å¤§åˆ©æ¶¦ = 6-1 = 5 ã€‚</span><br><span class="line">     æ³¨æ„åˆ©æ¶¦ä¸èƒ½æ˜¯ 7-1 = 6, å› ä¸ºå–å‡ºä»·æ ¼éœ€è¦å¤§äºä¹°å…¥ä»·æ ¼ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: [7,6,4,3,1]</span><br><span class="line">è¾“å‡º: 0</span><br><span class="line">è§£é‡Š: åœ¨è¿™ç§æƒ…å†µä¸‹, æ²¡æœ‰äº¤æ˜“å®Œæˆ, æ‰€ä»¥æœ€å¤§åˆ©æ¶¦ä¸º 0ã€‚</span><br></pre></td></tr></table></figure>



<p><strong>é™åˆ¶ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0 &lt;= æ•°ç»„é•¿åº¦ &lt;= 10^5</span><br></pre></td></tr></table></figure>



<p><strong>æ³¨æ„ï¼š</strong>æœ¬é¢˜ä¸ä¸»ç«™ 121 é¢˜ç›¸åŒï¼š<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock/">https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock/</a></p>
<p>Related Topics</p>
<p>æ•°ç»„</p>
<p>åŠ¨æ€è§„åˆ’</p>
<p><strong>è§£é¢˜æ€è·¯ï¼š</strong></p>
<ol>
<li><p>ç¡®å®šdpæ•°ç»„</p>
<p>dp[i] [0]:è¡¨ç¤ºç¬¬iå¤©ä¸æŒæœ‰è‚¡ç¥¨çš„æœ€å¤§æ”¶ç›Š</p>
<p>dp[i] [1]:è¡¨ç¤ºç¬¬iå¤©æŒæœ‰è‚¡ç¥¨çš„æœ€å¤§æ”¶ç›Š</p>
</li>
<li><p>ç¡®å®šçŠ¶æ€è½¬ç§»æ–¹ç¨‹</p>
<p>ç¬¬iå¤©ä¸æŒæœ‰è‚¡ç¥¨ï¼Œè¯´æ˜ä»–åœ¨ç¬¬iå¤©ä¹°äº†ï¼Œæˆ–è€…åœ¨ä¹‹å‰çš„å¤©ä¹°è¿‡ã€‚å¦‚æœä¹‹å‰çš„å¤©æ•°ä¹°è¿‡ï¼Œé‚£ä¹ˆ<code>dp[i] [0] = dp[i - 1] [0]</code>ã€‚å¦‚æœç¬¬iå¤©æ‰ä¹°è‚¡ç¥¨ï¼Œ<code>dp[i] [0] = dp[i - 1] [1] + prices[i]</code>ã€‚</p>
<p>æ•…çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸º<code>dp[i] [0] = max(dp[i - 1] [0], dp[i - 1] [1] + prices[i])</code></p>
<p>ç¬¬iå¤©æŒæœ‰è‚¡ç¥¨çš„è¯ï¼Œè¯´æ˜ä»–åœ¨ä¹‹å‰ä¹°äº†è‚¡ç¥¨æ²¡å–ï¼Œæˆ–è€…ä»Šå¤©æ‰ä¹°è‚¡ç¥¨ã€‚<code>dp[i] [1] = dp[i - 1] [1];</code></p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxProfit</span><span class="params">(<span class="type">int</span>[] prices)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (prices.length == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//dp[i] [0]:è¡¨ç¤ºç¬¬iå¤©ä¸æŒæœ‰è‚¡ç¥¨çš„æœ€å¤§æ”¶ç›Š</span></span><br><span class="line">    <span class="comment">//dp[i] [1]:è¡¨ç¤ºç¬¬iå¤©æŒæœ‰è‚¡ç¥¨çš„æœ€å¤§æ”¶ç›Š</span></span><br><span class="line">    <span class="type">int</span>[][] dp = <span class="keyword">new</span> <span class="title class_">int</span>[prices.length][<span class="number">2</span>];</span><br><span class="line"></span><br><span class="line">    <span class="comment">//åˆå§‹åŒ–</span></span><br><span class="line">    dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">    dp[<span class="number">0</span>][<span class="number">1</span>] = -prices[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; prices.length; i++) &#123;</span><br><span class="line">        dp[i] [<span class="number">0</span>] = Math.max(dp[i - <span class="number">1</span>] [<span class="number">0</span>], dp[i - <span class="number">1</span>] [<span class="number">1</span>] + prices[i]);</span><br><span class="line">        dp[i] [<span class="number">1</span>] = Math.max(dp[i - <span class="number">1</span>][<span class="number">1</span>], -prices[i]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> dp[prices.length - <span class="number">1</span>][<span class="number">0</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¦ä¸€ç§è§£æ³•ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202211181056360.png" alt="image-20221118105652244"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202211181057095.png" alt="Picture1.png"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202211181100550.png" alt="image-20221118110003462"></p>
<p><strong>ä¼˜åŒ–ç©ºé—´ä¸ºO(1)</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202211181100800.png" alt="img"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxProfit</span><span class="params">(<span class="type">int</span>[] prices)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">cost</span> <span class="operator">=</span> Integer.MAX_VALUE, profit = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> price : prices) &#123;</span><br><span class="line">            cost = Math.min(cost, price);</span><br><span class="line">            profit = Math.max(profit, price - cost);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> profit;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å…«ã€æœç´¢ä¸å›æº¯ç®—æ³•"><a href="#å…«ã€æœç´¢ä¸å›æº¯ç®—æ³•" class="headerlink" title="å…«ã€æœç´¢ä¸å›æº¯ç®—æ³•"></a>å…«ã€æœç´¢ä¸å›æº¯ç®—æ³•</h2><h3 id="8-1ã€å‰‘æŒ‡-Offer-12-çŸ©é˜µä¸­çš„è·¯å¾„"><a href="#8-1ã€å‰‘æŒ‡-Offer-12-çŸ©é˜µä¸­çš„è·¯å¾„" class="headerlink" title="8.1ã€å‰‘æŒ‡ Offer 12. çŸ©é˜µä¸­çš„è·¯å¾„"></a>8.1ã€å‰‘æŒ‡ Offer 12. çŸ©é˜µä¸­çš„è·¯å¾„</h3><p>ç»™å®šä¸€ä¸ª <code>m x n</code> äºŒç»´å­—ç¬¦ç½‘æ ¼ <code>board</code> å’Œä¸€ä¸ªå­—ç¬¦ä¸²å•è¯ <code>word</code> ã€‚å¦‚æœ <code>word</code> å­˜åœ¨äºç½‘æ ¼ä¸­ï¼Œè¿”å› <code>true</code> ï¼›å¦åˆ™ï¼Œè¿”å› <code>false</code> ã€‚</p>
<p>å•è¯å¿…é¡»æŒ‰ç…§å­—æ¯é¡ºåºï¼Œé€šè¿‡ç›¸é‚»çš„å•å…ƒæ ¼å†…çš„å­—æ¯æ„æˆï¼Œå…¶ä¸­â€œç›¸é‚»â€å•å…ƒæ ¼æ˜¯é‚£äº›æ°´å¹³ç›¸é‚»æˆ–å‚ç›´ç›¸é‚»çš„å•å…ƒæ ¼ã€‚åŒä¸€ä¸ªå•å…ƒæ ¼å†…çš„å­—æ¯ä¸å…è®¸è¢«é‡å¤ä½¿ç”¨ã€‚</p>
<p>ä¾‹å¦‚ï¼Œåœ¨ä¸‹é¢çš„ 3Ã—4 çš„çŸ©é˜µä¸­åŒ…å«å•è¯ â€œABCCEDâ€ï¼ˆå•è¯ä¸­çš„å­—æ¯å·²æ ‡å‡ºï¼‰ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://assets.leetcode.com/uploads/2020/11/04/word2.jpg" alt="img"></p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šboard = [[&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;E&quot;],[&quot;S&quot;,&quot;F&quot;,&quot;C&quot;,&quot;S&quot;],[&quot;A&quot;,&quot;D&quot;,&quot;E&quot;,&quot;E&quot;]], word = &quot;ABCCED&quot;</span><br><span class="line">è¾“å‡ºï¼štrue</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šboard = [[&quot;a&quot;,&quot;b&quot;],[&quot;c&quot;,&quot;d&quot;]], word = &quot;abcd&quot;</span><br><span class="line">è¾“å‡ºï¼šfalse</span><br></pre></td></tr></table></figure>

<p><strong>è§£é¢˜æ€è·¯ï¼š</strong><br>æœ¬é—®é¢˜æ˜¯å…¸å‹çš„çŸ©é˜µæœç´¢é—®é¢˜ï¼Œå¯ä½¿ç”¨ æ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰+ å‰ªæ è§£å†³ã€‚</p>
<ul>
<li><strong>æ·±åº¦ä¼˜å…ˆæœç´¢ï¼š</strong> å¯ä»¥ç†è§£ä¸ºæš´åŠ›æ³•éå†çŸ©é˜µä¸­æ‰€æœ‰å­—ç¬¦ä¸²å¯èƒ½æ€§ã€‚DFS é€šè¿‡é€’å½’ï¼Œå…ˆæœä¸€ä¸ªæ–¹å‘æœåˆ°åº•ï¼Œå†å›æº¯è‡³ä¸Šä¸ªèŠ‚ç‚¹ï¼Œæ²¿å¦ä¸€ä¸ªæ–¹å‘æœç´¢ï¼Œä»¥æ­¤ç±»æ¨ã€‚</li>
<li><strong>å‰ªæï¼š</strong> åœ¨æœç´¢ä¸­ï¼Œé‡åˆ° è¿™æ¡è·¯ä¸å¯èƒ½å’Œç›®æ ‡å­—ç¬¦ä¸²åŒ¹é…æˆåŠŸ çš„æƒ…å†µï¼ˆä¾‹å¦‚ï¼šæ­¤çŸ©é˜µå…ƒç´ å’Œç›®æ ‡å­—ç¬¦ä¸åŒã€æ­¤å…ƒç´ å·²è¢«è®¿é—®ï¼‰ï¼Œåˆ™åº”ç«‹å³è¿”å›ï¼Œç§°ä¹‹ä¸º å¯è¡Œæ€§å‰ªæ ã€‚</li>
</ul>
<p><strong>DFS è§£æï¼š</strong></p>
<ul>
<li>é€’å½’å‚æ•°ï¼š å½“å‰å…ƒç´ åœ¨çŸ©é˜µ board ä¸­çš„è¡Œåˆ—ç´¢å¼• i å’Œ j ï¼Œå½“å‰ç›®æ ‡å­—ç¬¦åœ¨ word ä¸­çš„ç´¢å¼• k ã€‚</li>
<li>ç»ˆæ­¢æ¡ä»¶ï¼š<ol>
<li>è¿”å› falseï¼š (1) è¡Œæˆ–åˆ—ç´¢å¼•è¶Šç•Œ æˆ– (2) å½“å‰çŸ©é˜µå…ƒç´ ä¸ç›®æ ‡å­—ç¬¦ä¸åŒ æˆ– (3) å½“å‰çŸ©é˜µå…ƒç´ å·²è®¿é—®è¿‡ ï¼ˆ (3) å¯åˆå¹¶è‡³ (2) ï¼‰ ã€‚</li>
<li>è¿”å› true ï¼š k &#x3D; len(word) - 1 ï¼Œå³å­—ç¬¦ä¸² word å·²å…¨éƒ¨åŒ¹é…ã€‚</li>
</ol>
</li>
<li>é€’æ¨å·¥ä½œï¼š<ol>
<li>æ ‡è®°å½“å‰çŸ©é˜µå…ƒç´ ï¼š å°† board[i] [j] ä¿®æ”¹ä¸º ç©ºå­—ç¬¦ â€˜ â€˜ï¼Œä»£è¡¨æ­¤å…ƒç´ å·²è®¿é—®è¿‡ï¼Œé˜²æ­¢ä¹‹åæœç´¢æ—¶é‡å¤è®¿é—®ã€‚</li>
<li>æœç´¢ä¸‹ä¸€å•å…ƒæ ¼ï¼š æœå½“å‰å…ƒç´ çš„ ä¸Šã€ä¸‹ã€å·¦ã€å³ å››ä¸ªæ–¹å‘å¼€å¯ä¸‹å±‚é€’å½’ï¼Œä½¿ç”¨ æˆ– è¿æ¥ ï¼ˆä»£è¡¨åªéœ€æ‰¾åˆ°ä¸€æ¡å¯è¡Œè·¯å¾„å°±ç›´æ¥è¿”å›ï¼Œä¸å†åšåç»­ DFS ï¼‰ï¼Œå¹¶è®°å½•ç»“æœè‡³ res ã€‚</li>
<li>è¿˜åŸå½“å‰çŸ©é˜µå…ƒç´ ï¼š å°† board[i] [j] å…ƒç´ è¿˜åŸè‡³åˆå§‹å€¼ï¼Œå³ word[k] ã€‚</li>
</ol>
</li>
<li>è¿”å›å€¼ï¼š è¿”å›å¸ƒå°”é‡ res ï¼Œä»£è¡¨æ˜¯å¦æœç´¢åˆ°ç›®æ ‡å­—ç¬¦ä¸²ã€‚</li>
</ul>
<p><strong>å¤æ‚åº¦åˆ†æï¼š</strong><br>M,N åˆ†åˆ«ä¸ºçŸ©é˜µè¡Œåˆ—å¤§å°ï¼Œ K ä¸ºå­—ç¬¦ä¸² word é•¿åº¦ã€‚</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(3^KMN)ï¼š æœ€å·®æƒ…å†µä¸‹ï¼Œéœ€è¦éå†çŸ©é˜µä¸­é•¿åº¦ä¸º K å­—ç¬¦ä¸²çš„æ‰€æœ‰æ–¹æ¡ˆï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(3^K)ï¼›çŸ©é˜µä¸­å…±æœ‰ MNä¸ªèµ·ç‚¹ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(MN) ã€‚<ul>
<li>æ–¹æ¡ˆæ•°è®¡ç®—ï¼š è®¾å­—ç¬¦ä¸²é•¿åº¦ä¸º K ï¼Œæœç´¢ä¸­æ¯ä¸ªå­—ç¬¦æœ‰ä¸Šã€ä¸‹ã€å·¦ã€å³å››ä¸ªæ–¹å‘å¯ä»¥é€‰æ‹©ï¼Œèˆå¼ƒå›å¤´ï¼ˆä¸Šä¸ªå­—ç¬¦ï¼‰çš„æ–¹å‘ï¼Œå‰©ä¸‹ 3 ç§é€‰æ‹©ï¼Œå› æ­¤æ–¹æ¡ˆæ•°çš„å¤æ‚åº¦ä¸º O(3^K)</li>
</ul>
</li>
<li>ç©ºé—´å¤æ‚åº¦ O(K) ï¼š æœç´¢è¿‡ç¨‹ä¸­çš„é€’å½’æ·±åº¦ä¸è¶…è¿‡ K ï¼Œå› æ­¤ç³»ç»Ÿå› å‡½æ•°è°ƒç”¨ç´¯è®¡ä½¿ç”¨çš„æ ˆç©ºé—´å ç”¨ O(K) ï¼ˆå› ä¸ºå‡½æ•°è¿”å›åï¼Œç³»ç»Ÿè°ƒç”¨çš„æ ˆç©ºé—´ä¼šé‡Šæ”¾ï¼‰ã€‚æœ€åæƒ…å†µä¸‹ K &#x3D; MNï¼Œé€’å½’æ·±åº¦ä¸º MNï¼Œæ­¤æ—¶ç³»ç»Ÿæ ˆä½¿ç”¨ O(MN) çš„é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">exist</span><span class="params">(<span class="type">char</span>[][] board, String word)</span> &#123;</span><br><span class="line">        <span class="type">char</span>[] words = word.toCharArray();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; board.length; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; board[<span class="number">0</span>].length; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span>(dfs(board, words, i, j, <span class="number">0</span>)) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">boolean</span> <span class="title function_">dfs</span><span class="params">(<span class="type">char</span>[][] board, <span class="type">char</span>[] word, <span class="type">int</span> i, <span class="type">int</span> j, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(i &gt;= board.length || i &lt; <span class="number">0</span> || j &gt;= board[<span class="number">0</span>].length || j &lt; <span class="number">0</span> || board[i][j] != word[k]) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">if</span>(k == word.length - <span class="number">1</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        board[i][j] = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">res</span> <span class="operator">=</span> dfs(board, word, i + <span class="number">1</span>, j, k + <span class="number">1</span>) || dfs(board, word, i - <span class="number">1</span>, j, k + <span class="number">1</span>) || </span><br><span class="line">                      dfs(board, word, i, j + <span class="number">1</span>, k + <span class="number">1</span>) || dfs(board, word, i , j - <span class="number">1</span>, k + <span class="number">1</span>);</span><br><span class="line">        board[i][j] = word[k];</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="8-2ã€å‰‘æŒ‡-Offer-13-æœºå™¨äººçš„è¿åŠ¨èŒƒå›´"><a href="#8-2ã€å‰‘æŒ‡-Offer-13-æœºå™¨äººçš„è¿åŠ¨èŒƒå›´" class="headerlink" title="8.2ã€å‰‘æŒ‡ Offer 13. æœºå™¨äººçš„è¿åŠ¨èŒƒå›´"></a>8.2ã€å‰‘æŒ‡ Offer 13. æœºå™¨äººçš„è¿åŠ¨èŒƒå›´</h3><p>åœ°ä¸Šæœ‰ä¸€ä¸ªmè¡Œnåˆ—çš„æ–¹æ ¼ï¼Œä»åæ ‡ <code>[0,0]</code> åˆ°åæ ‡ <code>[m-1,n-1]</code> ã€‚ä¸€ä¸ªæœºå™¨äººä»åæ ‡ <code>[0, 0] </code>çš„æ ¼å­å¼€å§‹ç§»åŠ¨ï¼Œå®ƒæ¯æ¬¡å¯ä»¥å‘å·¦ã€å³ã€ä¸Šã€ä¸‹ç§»åŠ¨ä¸€æ ¼ï¼ˆä¸èƒ½ç§»åŠ¨åˆ°æ–¹æ ¼å¤–ï¼‰ï¼Œä¹Ÿä¸èƒ½è¿›å…¥è¡Œåæ ‡å’Œåˆ—åæ ‡çš„æ•°ä½ä¹‹å’Œå¤§äºkçš„æ ¼å­ã€‚ä¾‹å¦‚ï¼Œå½“kä¸º18æ—¶ï¼Œæœºå™¨äººèƒ½å¤Ÿè¿›å…¥æ–¹æ ¼ [35, 37] ï¼Œå› ä¸º3+5+3+7&#x3D;18ã€‚ä½†å®ƒä¸èƒ½è¿›å…¥æ–¹æ ¼ [35, 38]ï¼Œå› ä¸º3+5+3+8&#x3D;19ã€‚è¯·é—®è¯¥æœºå™¨äººèƒ½å¤Ÿåˆ°è¾¾å¤šå°‘ä¸ªæ ¼å­ï¼Ÿ</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šm = 2, n = 3, k = 1</span><br><span class="line">è¾“å‡ºï¼š3</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šm = 3, n = 1, k = 0</span><br><span class="line">è¾“å‡ºï¼š1</span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= n,m &lt;= 100</code></li>
<li><code>0 &lt;= k &lt;= 20</code></li>
</ul>
<p>Related Topics</p>
<p>æ·±åº¦ä¼˜å…ˆæœç´¢</p>
<p>å¹¿åº¦ä¼˜å…ˆæœç´¢</p>
<p>åŠ¨æ€è§„åˆ’</p>
<p><strong>è§£é¢˜æ€è·¯ï¼š</strong></p>
<ol>
<li>ç¡®å®šDFSæ·±åº¦ä¼˜å…ˆæœç´¢ã€‚</li>
<li>ç”¨vistæ•°ç»„è®°å½•ï¼Œç”¨æ¥å‰ªæã€‚</li>
<li>å‘ä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘æœç´¢ã€‚</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">movingCount</span><span class="params">(<span class="type">int</span> m, <span class="type">int</span> n, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    * è®°å½•[i,j]ä½ç½®æœ‰æ²¡æœ‰è®¿é—®è¿‡ï¼Œtrueè®¿é—®è¿‡ï¼Œfalseæ²¡è®¿é—®è¿‡</span></span><br><span class="line"><span class="comment">    * */</span></span><br><span class="line">    <span class="type">boolean</span>[][] visit = <span class="keyword">new</span> <span class="title class_">boolean</span>[m][n];</span><br><span class="line">    <span class="keyword">return</span> backtarcking(visit, <span class="number">0</span>, <span class="number">0</span>, k);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="type">int</span> <span class="title function_">backtarcking</span><span class="params">(<span class="type">boolean</span>[][] visit, <span class="type">int</span> row, <span class="type">int</span> col, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (row &lt; <span class="number">0</span> || col &lt; <span class="number">0</span> || row &gt; visit.length || col &gt; visit[<span class="number">0</span>].length || (row % <span class="number">10</span> + row / <span class="number">10</span> + col % <span class="number">10</span> + col / <span class="number">10</span>) &gt; k || visit[row][col]) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    visit[row][col] = <span class="literal">true</span>;</span><br><span class="line">    <span class="comment">//å‘å››ä¸ªæ–¹å‘æœç´¢</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> backtarcking(visit, row - <span class="number">1</span>, col, k);<span class="comment">//ä¸Š</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> backtarcking(visit, row + <span class="number">1</span>, col, k);<span class="comment">//ä¸‹</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> backtarcking(visit, row, col - <span class="number">1</span>, k);<span class="comment">//å·¦</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">d</span> <span class="operator">=</span> backtarcking(visit, row, col + <span class="number">1</span>, k);<span class="comment">//å³</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span> + a + b + c + d;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202211191155225.png" alt="image-20221119115452914"></p>
<p>å¤æ‚åº¦åˆ†æï¼š<br>è®¾çŸ©é˜µè¡Œåˆ—æ•°åˆ†åˆ«ä¸º M, Nã€‚</p>
<p>æ—¶é—´å¤æ‚åº¦ O(MN)ï¼š æœ€å·®æƒ…å†µä¸‹ï¼Œæœºå™¨äººéå†çŸ©é˜µæ‰€æœ‰å•å…ƒæ ¼ï¼Œæ­¤æ—¶æ—¶é—´å¤æ‚åº¦ä¸º O(MN)ã€‚<br>ç©ºé—´å¤æ‚åº¦ O(MN) ï¼š æœ€å·®æƒ…å†µä¸‹ï¼ŒSet visited å†…å­˜å‚¨çŸ©é˜µæ‰€æœ‰å•å…ƒæ ¼çš„ç´¢å¼•ï¼Œä½¿ç”¨ O(MN)çš„é¢å¤–ç©ºé—´ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202211191157599.png" alt="image-20221119115705308"></p>
<p>å¤æ‚åº¦åˆ†æï¼š<br>è®¾çŸ©é˜µè¡Œåˆ—æ•°åˆ†åˆ«ä¸º M, Nã€‚</p>
<p>æ—¶é—´å¤æ‚åº¦ O(MN)ï¼š æœ€å·®æƒ…å†µä¸‹ï¼Œæœºå™¨äººéå†çŸ©é˜µæ‰€æœ‰å•å…ƒæ ¼ï¼Œæ­¤æ—¶æ—¶é—´å¤æ‚åº¦ä¸º O(MN)ã€‚<br>ç©ºé—´å¤æ‚åº¦ O(MN) ï¼š æœ€å·®æƒ…å†µä¸‹ï¼ŒSet visited å†…å­˜å‚¨çŸ©é˜µæ‰€æœ‰å•å…ƒæ ¼çš„ç´¢å¼•ï¼Œä½¿ç”¨ O(MN)çš„é¢å¤–ç©ºé—´ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">movingCount</span><span class="params">(<span class="type">int</span> m, <span class="type">int</span> n, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">        <span class="type">boolean</span>[][] visited = <span class="keyword">new</span> <span class="title class_">boolean</span>[m][n];</span><br><span class="line">        <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        Queue&lt;<span class="type">int</span>[]&gt; queue= <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;<span class="type">int</span>[]&gt;();</span><br><span class="line">        queue.add(<span class="keyword">new</span> <span class="title class_">int</span>[] &#123; <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span> &#125;);</span><br><span class="line">        <span class="keyword">while</span>(queue.size() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="type">int</span>[] x = queue.poll();</span><br><span class="line">            <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> x[<span class="number">0</span>], j = x[<span class="number">1</span>], si = x[<span class="number">2</span>], sj = x[<span class="number">3</span>];</span><br><span class="line">            <span class="keyword">if</span>(i &gt;= m || j &gt;= n || k &lt; si + sj || visited[i][j]) <span class="keyword">continue</span>;</span><br><span class="line">            visited[i][j] = <span class="literal">true</span>;</span><br><span class="line">            res ++;</span><br><span class="line">            queue.add(<span class="keyword">new</span> <span class="title class_">int</span>[] &#123; i + <span class="number">1</span>, j, (i + <span class="number">1</span>) % <span class="number">10</span> != <span class="number">0</span> ? si + <span class="number">1</span> : si - <span class="number">8</span>, sj &#125;);</span><br><span class="line">            queue.add(<span class="keyword">new</span> <span class="title class_">int</span>[] &#123; i, j + <span class="number">1</span>, si, (j + <span class="number">1</span>) % <span class="number">10</span> != <span class="number">0</span> ? sj + <span class="number">1</span> : sj - <span class="number">8</span> &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="8-3ã€å‰‘æŒ‡-Offer-26-æ ‘çš„å­ç»“æ„"><a href="#8-3ã€å‰‘æŒ‡-Offer-26-æ ‘çš„å­ç»“æ„" class="headerlink" title="8.3ã€å‰‘æŒ‡ Offer 26. æ ‘çš„å­ç»“æ„"></a>8.3ã€å‰‘æŒ‡ Offer 26. æ ‘çš„å­ç»“æ„</h3><p>è¾“å…¥ä¸¤æ£µäºŒå‰æ ‘Aå’ŒBï¼Œåˆ¤æ–­Bæ˜¯ä¸æ˜¯Açš„å­ç»“æ„ã€‚(çº¦å®šç©ºæ ‘ä¸æ˜¯ä»»æ„ä¸€ä¸ªæ ‘çš„å­ç»“æ„)</p>
<p>Bæ˜¯Açš„å­ç»“æ„ï¼Œ å³ Aä¸­æœ‰å‡ºç°å’ŒBç›¸åŒçš„ç»“æ„å’ŒèŠ‚ç‚¹å€¼ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šA = [1,2,3], B = [3,1]</span><br><span class="line">è¾“å‡ºï¼šfalse</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šA = [3,4,5,1,2], B = [4,1]</span><br><span class="line">è¾“å‡ºï¼štrue</span><br></pre></td></tr></table></figure>

<p><strong>é™åˆ¶ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0 &lt;= èŠ‚ç‚¹ä¸ªæ•° &lt;= 10000</span><br></pre></td></tr></table></figure>

<p>Related Topics</p>
<p>æ ‘</p>
<p>æ·±åº¦ä¼˜å…ˆæœç´¢</p>
<p>äºŒå‰æ ‘</p>
<p><strong>è§£é¢˜æ€è·¯ï¼š</strong><br>è‹¥æ ‘ B æ˜¯æ ‘ A çš„å­ç»“æ„ï¼Œåˆ™å­ç»“æ„çš„æ ¹èŠ‚ç‚¹å¯èƒ½ä¸ºæ ‘ A çš„ä»»æ„ä¸€ä¸ªèŠ‚ç‚¹ã€‚å› æ­¤ï¼Œåˆ¤æ–­æ ‘ B æ˜¯å¦æ˜¯æ ‘ A çš„å­ç»“æ„ï¼Œéœ€å®Œæˆä»¥ä¸‹ä¸¤æ­¥å·¥ä½œï¼š</p>
<ol>
<li>å…ˆåºéå†æ ‘ A ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹ nAï¼ˆå¯¹åº”å‡½æ•° isSubStructure(A, B)ï¼‰</li>
<li>åˆ¤æ–­æ ‘ A ä¸­ ä»¥ nA ä¸ºæ ¹èŠ‚ç‚¹çš„å­æ ‘ æ˜¯å¦åŒ…å«æ ‘ B ã€‚ï¼ˆå¯¹åº”å‡½æ•° recur(A, B)ï¼‰</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202211191500296.png" alt="Picture1.png"></p>
<p><strong>ç®—æ³•æµç¨‹ï¼š</strong></p>
<blockquote>
<p>æœ¬æ–‡åè¯è§„å®šï¼šæ ‘ A çš„æ ¹èŠ‚ç‚¹è®°ä½œ èŠ‚ç‚¹ A ï¼Œæ ‘ B çš„æ ¹èŠ‚ç‚¹ç§°ä¸º èŠ‚ç‚¹ B ã€‚</p>
</blockquote>
<p><code>recur(A, B)</code> å‡½æ•°ï¼š</p>
<ol>
<li>ç»ˆæ­¢æ¡ä»¶ï¼š<ol>
<li>å½“èŠ‚ç‚¹ B ä¸ºç©ºï¼šè¯´æ˜æ ‘ B å·²åŒ¹é…å®Œæˆï¼ˆè¶Šè¿‡å¶å­èŠ‚ç‚¹ï¼‰ï¼Œå› æ­¤è¿”å› true ï¼›</li>
<li>å½“èŠ‚ç‚¹ A ä¸ºç©ºï¼šè¯´æ˜å·²ç»è¶Šè¿‡æ ‘ A çš„å¶èŠ‚ç‚¹ï¼Œå³åŒ¹é…å¤±è´¥ï¼Œè¿”å› false ï¼›</li>
<li>å½“èŠ‚ç‚¹ A å’Œ B çš„å€¼ä¸åŒï¼šè¯´æ˜åŒ¹é…å¤±è´¥ï¼Œè¿”å› false ï¼›</li>
</ol>
</li>
<li>è¿”å›å€¼ï¼š<ol>
<li>åˆ¤æ–­ A å’Œ B çš„ å·¦å­èŠ‚ç‚¹ æ˜¯å¦ç›¸ç­‰ï¼Œå³ recur(A.left, B.left) ï¼›</li>
<li>åˆ¤æ–­ A å’Œ B çš„ å³å­èŠ‚ç‚¹ æ˜¯å¦ç›¸ç­‰ï¼Œå³ recur(A.right, B.right) ï¼›</li>
</ol>
</li>
</ol>
<p><code>isSubStructure(A, B)</code> å‡½æ•°ï¼š</p>
<ol>
<li>ç‰¹ä¾‹å¤„ç†ï¼š å½“ æ ‘ A ä¸ºç©º æˆ– æ ‘ B ä¸ºç©º æ—¶ï¼Œç›´æ¥è¿”å› false ï¼›</li>
<li>è¿”å›å€¼ï¼š è‹¥æ ‘ B æ˜¯æ ‘ A çš„å­ç»“æ„ï¼Œåˆ™å¿…æ»¡è¶³ä»¥ä¸‹ä¸‰ç§æƒ…å†µä¹‹ä¸€ï¼Œå› æ­¤ç”¨æˆ– || è¿æ¥ï¼›<ol>
<li>ä»¥ èŠ‚ç‚¹ A ä¸ºæ ¹èŠ‚ç‚¹çš„å­æ ‘ åŒ…å«æ ‘ B ï¼Œå¯¹åº” recur(A, B)ï¼›</li>
<li>æ ‘ B æ˜¯ æ ‘ A å·¦å­æ ‘ çš„å­ç»“æ„ï¼Œå¯¹åº” isSubStructure(A.left, B)ï¼›</li>
<li>æ ‘ B æ˜¯ æ ‘ A å³å­æ ‘ çš„å­ç»“æ„ï¼Œå¯¹åº” isSubStructure(A.right, B)ï¼›</li>
</ol>
</li>
</ol>
<blockquote>
<p>ä»¥ä¸Š 2. 3. å®è´¨ä¸Šæ˜¯åœ¨å¯¹æ ‘ A åš å…ˆåºéå† ã€‚</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202211191503691.png" alt="img"></p>
<p><strong>å¤æ‚åº¦åˆ†æï¼š</strong></p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(MN) ï¼š å…¶ä¸­ M, Nåˆ†åˆ«ä¸ºæ ‘ A å’Œ æ ‘ B çš„èŠ‚ç‚¹æ•°é‡ï¼›å…ˆåºéå†æ ‘ A å ç”¨ O(M) ï¼Œæ¯æ¬¡è°ƒç”¨ recur(A, B) åˆ¤æ–­å ç”¨ O(N)ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(M) ï¼š å½“æ ‘ A å’Œæ ‘ B éƒ½é€€åŒ–ä¸ºé“¾è¡¨æ—¶ï¼Œé€’å½’è°ƒç”¨æ·±åº¦æœ€å¤§ã€‚å½“ Mâ‰¤N æ—¶ï¼Œéå†æ ‘ A ä¸é€’å½’åˆ¤æ–­çš„æ€»é€’å½’æ·±åº¦ä¸º M ï¼›å½“ M&gt;N æ—¶ï¼Œæœ€å·®æƒ…å†µä¸ºéå†è‡³æ ‘ A çš„å¶èŠ‚ç‚¹ï¼Œæ­¤æ—¶æ€»é€’å½’æ·±åº¦ä¸º Mã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isSubStructure</span><span class="params">(TreeNode A, TreeNode B)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (A != <span class="literal">null</span> &amp;&amp; B != <span class="literal">null</span>) &amp;&amp; (recur(A, B) || isSubStructure(A.left, B) || isSubStructure(A.right, B));</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">recur</span><span class="params">(TreeNode A, TreeNode B)</span> &#123;</span><br><span class="line">    <span class="comment">// ç»ˆæ­¢æ¡ä»¶</span></span><br><span class="line">    <span class="keyword">if</span> (B == <span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">if</span> (A == <span class="literal">null</span> || A.val != B.val) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">return</span> recur(A.left, B.left) &amp;&amp; recur(A.right, B.right);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="8-4ã€å‰‘æŒ‡-Offer-27-äºŒå‰æ ‘çš„é•œåƒ"><a href="#8-4ã€å‰‘æŒ‡-Offer-27-äºŒå‰æ ‘çš„é•œåƒ" class="headerlink" title="8.4ã€å‰‘æŒ‡ Offer 27. äºŒå‰æ ‘çš„é•œåƒ"></a>8.4ã€å‰‘æŒ‡ Offer 27. äºŒå‰æ ‘çš„é•œåƒ</h3><p>è¯·å®Œæˆä¸€ä¸ªå‡½æ•°ï¼Œè¾“å…¥ä¸€ä¸ªäºŒå‰æ ‘ï¼Œè¯¥å‡½æ•°è¾“å‡ºå®ƒçš„é•œåƒã€‚</p>
<p>ä¾‹å¦‚è¾“å…¥ï¼š</p>
<p><code>     4    /   \   2     7  / \   / \ 1   3 6   9</code><br>é•œåƒè¾“å‡ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">4    /   \   7     2  / \   / \ 9   6 3   1</span><br></pre></td></tr></table></figure>



<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šroot = [4,2,7,1,3,6,9]</span><br><span class="line">è¾“å‡ºï¼š[4,7,2,9,6,3,1]</span><br></pre></td></tr></table></figure>



<p><strong>é™åˆ¶ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0 &lt;= èŠ‚ç‚¹ä¸ªæ•° &lt;= 1000</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼šæœ¬é¢˜ä¸ä¸»ç«™ 226 é¢˜ç›¸åŒï¼š<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/invert-binary-tree/">https://leetcode-cn.com/problems/invert-binary-tree/</a></p>
<p>Related Topics</p>
<p>æ ‘</p>
<p>æ·±åº¦ä¼˜å…ˆæœç´¢</p>
<p>å¹¿åº¦ä¼˜å…ˆæœç´¢</p>
<p>äºŒå‰æ ‘</p>
<p>ğŸ‘ 320</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://tva1.sinaimg.cn/large/008eGmZEly1gnakm26jtog30e409s4qp.gif" alt="ç¿»è½¬äºŒå‰æ ‘"></p>
<p>é€’å½’ä¸‰éƒ¨æ›²ï¼š</p>
<ol>
<li>ç¡®å®šé€’å½’å‡½æ•°çš„å‚æ•°å’Œè¿”å›å€¼</li>
</ol>
<p>å‚æ•°å°±æ˜¯è¦ä¼ å…¥èŠ‚ç‚¹çš„æŒ‡é’ˆï¼Œä¸éœ€è¦å…¶ä»–å‚æ•°äº†ï¼Œé€šå¸¸æ­¤æ—¶å®šä¸‹æ¥ä¸»è¦å‚æ•°ï¼Œå¦‚æœåœ¨å†™é€’å½’çš„é€»è¾‘ä¸­å‘ç°è¿˜éœ€è¦å…¶ä»–å‚æ•°çš„æ—¶å€™ï¼Œéšæ—¶è¡¥å……ã€‚</p>
<p>è¿”å›å€¼çš„è¯å…¶å®ä¹Ÿä¸éœ€è¦ï¼Œä½†æ˜¯é¢˜ç›®ä¸­ç»™å‡ºçš„è¦è¿”å›rootèŠ‚ç‚¹çš„æŒ‡é’ˆï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨é¢˜ç›®å®šä¹‰å¥½çš„å‡½æ•°ï¼Œæ‰€ä»¥å°±å‡½æ•°çš„è¿”å›ç±»å‹ä¸º<code>TreeNode*</code>ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">TreeNode* <span class="title">invertTree</span><span class="params">(TreeNode* root)</span></span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>ç¡®å®šç»ˆæ­¢æ¡ä»¶</li>
</ol>
<p>å½“å‰èŠ‚ç‚¹ä¸ºç©ºçš„æ—¶å€™ï¼Œå°±è¿”å›</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (root == <span class="literal">NULL</span>) <span class="keyword">return</span> root;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>ç¡®å®šå•å±‚é€’å½’çš„é€»è¾‘</li>
</ol>
<p>å› ä¸ºæ˜¯å…ˆå‰åºéå†ï¼Œæ‰€ä»¥å…ˆè¿›è¡Œäº¤æ¢å·¦å³å­©å­èŠ‚ç‚¹ï¼Œç„¶ååè½¬å·¦å­æ ‘ï¼Œåè½¬å³å­æ ‘ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">swap</span>(root.left, root.right);</span><br><span class="line"><span class="built_in">invertTree</span>(root.left);</span><br><span class="line"><span class="built_in">invertTree</span>(root.right);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> TreeNode <span class="title function_">mirrorTree</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> recur(root);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> TreeNode <span class="title function_">recur</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">tmp</span> <span class="operator">=</span> root.left;</span><br><span class="line">        root.left = root.right;</span><br><span class="line">        root.right = tmp;</span><br><span class="line">    &#125;</span><br><span class="line">    recur(root.left);</span><br><span class="line">    recur(root.right);</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="8-5ã€å‰‘æŒ‡-Offer-28-å¯¹ç§°çš„äºŒå‰æ ‘"><a href="#8-5ã€å‰‘æŒ‡-Offer-28-å¯¹ç§°çš„äºŒå‰æ ‘" class="headerlink" title="8.5ã€å‰‘æŒ‡ Offer 28. å¯¹ç§°çš„äºŒå‰æ ‘"></a>8.5ã€å‰‘æŒ‡ Offer 28. å¯¹ç§°çš„äºŒå‰æ ‘</h3><p>è¯·å®ç°ä¸€ä¸ªå‡½æ•°ï¼Œç”¨æ¥åˆ¤æ–­ä¸€æ£µäºŒå‰æ ‘æ˜¯ä¸æ˜¯å¯¹ç§°çš„ã€‚å¦‚æœä¸€æ£µäºŒå‰æ ‘å’Œå®ƒçš„é•œåƒä¸€æ ·ï¼Œé‚£ä¹ˆå®ƒæ˜¯å¯¹ç§°çš„ã€‚</p>
<p>ä¾‹å¦‚ï¼ŒäºŒå‰æ ‘ [1,2,2,3,4,4,3] æ˜¯å¯¹ç§°çš„ã€‚</p>
<p><code>    1    / \   2   2  / \ / \ 3  4 4  3</code><br>ä½†æ˜¯ä¸‹é¢è¿™ä¸ª [1,2,2,null,3,null,3] åˆ™ä¸æ˜¯é•œåƒå¯¹ç§°çš„:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1    / \   2   2    \   \    3    3</span><br></pre></td></tr></table></figure>



<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šroot = [1,2,2,3,4,4,3]</span><br><span class="line">è¾“å‡ºï¼štrue</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šroot = [1,2,2,null,3,null,3]</span><br><span class="line">è¾“å‡ºï¼šfalse</span><br></pre></td></tr></table></figure>



<p><strong>é™åˆ¶ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0 &lt;= èŠ‚ç‚¹ä¸ªæ•° &lt;= 1000</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼šæœ¬é¢˜ä¸ä¸»ç«™ 101 é¢˜ç›¸åŒï¼š<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/symmetric-tree/">https://leetcode-cn.com/problems/symmetric-tree/</a></p>
<p>Related Topics</p>
<p>æ ‘</p>
<p>æ·±åº¦ä¼˜å…ˆæœç´¢</p>
<p>å¹¿åº¦ä¼˜å…ˆæœç´¢</p>
<p>äºŒå‰æ ‘</p>
<p>ğŸ‘ 397</p>
<p>ğŸ‘ 0</p>
<p>é¦–å…ˆæƒ³æ¸…æ¥šï¼Œè¦æ¯”è¾ƒçš„å¯ä¸æ˜¯å·¦å³èŠ‚ç‚¹ï¼å¯¹äºäºŒå‰æ ‘æ˜¯å¦å¯¹ç§°ï¼Œè¦æ¯”è¾ƒçš„æ˜¯æ ¹èŠ‚ç‚¹çš„å·¦å­æ ‘ä¸å³å­æ ‘æ˜¯ä¸æ˜¯ç›¸äº’ç¿»è½¬çš„,å…¶å®æˆ‘ä»¬è¦æ¯”è¾ƒçš„æ˜¯ä¸¤ä¸ªæ ‘ï¼ˆè¿™ä¸¤ä¸ªæ ‘æ˜¯æ ¹èŠ‚ç‚¹çš„å·¦å³å­æ ‘ï¼‰ï¼Œæ‰€ä»¥åœ¨é€’å½’éå†çš„è¿‡ç¨‹ä¸­ï¼Œä¹Ÿæ˜¯è¦åŒæ—¶éå†ä¸¤æ£µæ ‘ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202211201040962.png" alt="101. å¯¹ç§°äºŒå‰æ ‘1"></p>
<p>é‚£ä¹ˆéå†çš„é¡ºåºåº”è¯¥æ˜¯ä»€ä¹ˆæ ·çš„å‘¢ï¼Ÿ</p>
<p>æœ¬é¢˜éå†åªèƒ½æ˜¯â€œååºéå†â€ï¼Œå› ä¸ºæˆ‘ä»¬è¦é€šè¿‡é€’å½’å‡½æ•°çš„è¿”å›å€¼æ¥åˆ¤æ–­ä¸¤ä¸ªå­æ ‘çš„å†…ä¾§èŠ‚ç‚¹å’Œå¤–ä¾§èŠ‚ç‚¹æ˜¯å¦ç›¸ç­‰ã€‚</p>
<p><strong>æ­£æ˜¯å› ä¸ºè¦éå†ä¸¤æ£µæ ‘è€Œä¸”è¦æ¯”è¾ƒå†…ä¾§å’Œå¤–ä¾§èŠ‚ç‚¹ï¼Œæ‰€ä»¥å‡†ç¡®çš„æ¥è¯´æ˜¯ä¸€ä¸ªæ ‘çš„éå†é¡ºåºæ˜¯å·¦å³ä¸­ï¼Œä¸€ä¸ªæ ‘çš„éå†é¡ºåºæ˜¯å³å·¦ä¸­ã€‚</strong></p>
<p>ä½†éƒ½å¯ä»¥ç†è§£ç®—æ˜¯ååºéå†ï¼Œå°½ç®¡å·²ç»ä¸æ˜¯ä¸¥æ ¼ä¸Šåœ¨ä¸€ä¸ªæ ‘ä¸Šè¿›è¡Œéå†çš„ååºéå†äº†ã€‚</p>
<hr>
<p><strong>é€’å½’ä¸‰éƒ¨æ›²</strong></p>
<ol>
<li>ç¡®å®šé€’å½’å‡½æ•°çš„å‚æ•°å’Œè¿”å›å€¼</li>
</ol>
<p>å› ä¸ºæˆ‘ä»¬è¦æ¯”è¾ƒçš„æ˜¯æ ¹èŠ‚ç‚¹çš„ä¸¤ä¸ªå­æ ‘æ˜¯å¦æ˜¯ç›¸äº’ç¿»è½¬çš„ï¼Œè¿›è€Œåˆ¤æ–­è¿™ä¸ªæ ‘æ˜¯ä¸æ˜¯å¯¹ç§°æ ‘ï¼Œæ‰€ä»¥è¦æ¯”è¾ƒçš„æ˜¯ä¸¤ä¸ªæ ‘ï¼Œå‚æ•°è‡ªç„¶ä¹Ÿæ˜¯å·¦å­æ ‘èŠ‚ç‚¹å’Œå³å­æ ‘èŠ‚ç‚¹ã€‚</p>
<p>è¿”å›å€¼è‡ªç„¶æ˜¯boolç±»å‹ã€‚</p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bool compare(TreeNode* left, TreeNode* right)</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>ç¡®å®šç»ˆæ­¢æ¡ä»¶</li>
</ol>
<p>è¦æ¯”è¾ƒä¸¤ä¸ªèŠ‚ç‚¹æ•°å€¼ç›¸ä¸ç›¸åŒï¼Œé¦–å…ˆè¦æŠŠä¸¤ä¸ªèŠ‚ç‚¹ä¸ºç©ºçš„æƒ…å†µå¼„æ¸…æ¥šï¼å¦åˆ™åé¢æ¯”è¾ƒæ•°å€¼çš„æ—¶å€™å°±ä¼šæ“ä½œç©ºæŒ‡é’ˆäº†ã€‚</p>
<p>èŠ‚ç‚¹ä¸ºç©ºçš„æƒ…å†µæœ‰ï¼šï¼ˆ<strong>æ³¨æ„æˆ‘ä»¬æ¯”è¾ƒçš„å…¶å®ä¸æ˜¯å·¦å­©å­å’Œå³å­©å­ï¼Œæ‰€ä»¥å¦‚ä¸‹æˆ‘ç§°ä¹‹ä¸ºå·¦èŠ‚ç‚¹å³èŠ‚ç‚¹</strong>ï¼‰</p>
<ul>
<li>å·¦èŠ‚ç‚¹ä¸ºç©ºï¼Œå³èŠ‚ç‚¹ä¸ä¸ºç©ºï¼Œä¸å¯¹ç§°ï¼Œreturn false</li>
<li>å·¦ä¸ä¸ºç©ºï¼Œå³ä¸ºç©ºï¼Œä¸å¯¹ç§° return false</li>
<li>å·¦å³éƒ½ä¸ºç©ºï¼Œå¯¹ç§°ï¼Œè¿”å›true</li>
</ul>
<p>æ­¤æ—¶å·²ç»æ’é™¤æ‰äº†èŠ‚ç‚¹ä¸ºç©ºçš„æƒ…å†µï¼Œé‚£ä¹ˆå‰©ä¸‹çš„å°±æ˜¯å·¦å³èŠ‚ç‚¹ä¸ä¸ºç©ºï¼š</p>
<ul>
<li>å·¦å³éƒ½ä¸ä¸ºç©ºï¼Œæ¯”è¾ƒèŠ‚ç‚¹æ•°å€¼ï¼Œä¸ç›¸åŒå°±return false</li>
</ul>
<p>æ­¤æ—¶å·¦å³èŠ‚ç‚¹ä¸ä¸ºç©ºï¼Œä¸”æ•°å€¼ä¹Ÿä¸ç›¸åŒçš„æƒ…å†µæˆ‘ä»¬ä¹Ÿå¤„ç†äº†ã€‚</p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (left == <span class="literal">NULL</span> &amp;&amp; right != <span class="literal">NULL</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (left != <span class="literal">NULL</span> &amp;&amp; right == <span class="literal">NULL</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (left == <span class="literal">NULL</span> &amp;&amp; right == <span class="literal">NULL</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (left.val != right.val) <span class="keyword">return</span> <span class="literal">false</span>; <span class="comment">// æ³¨æ„è¿™é‡Œæˆ‘æ²¡æœ‰ä½¿ç”¨else</span></span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ä¸Šé¢æœ€åä¸€ç§æƒ…å†µï¼Œæˆ‘æ²¡æœ‰ä½¿ç”¨elseï¼Œè€Œæ˜¯else ifï¼Œ å› ä¸ºæˆ‘ä»¬æŠŠä»¥ä¸Šæƒ…å†µéƒ½æ’é™¤ä¹‹åï¼Œå‰©ä¸‹çš„å°±æ˜¯ å·¦å³èŠ‚ç‚¹éƒ½ä¸ä¸ºç©ºï¼Œä¸”æ•°å€¼ç›¸åŒçš„æƒ…å†µã€‚</p>
<ol start="3">
<li>ç¡®å®šå•å±‚é€’å½’çš„é€»è¾‘</li>
</ol>
<p>æ­¤æ—¶æ‰è¿›å…¥å•å±‚é€’å½’çš„é€»è¾‘ï¼Œå•å±‚é€’å½’çš„é€»è¾‘å°±æ˜¯å¤„ç† å·¦å³èŠ‚ç‚¹éƒ½ä¸ä¸ºç©ºï¼Œä¸”æ•°å€¼ç›¸åŒçš„æƒ…å†µã€‚</p>
<ul>
<li>æ¯”è¾ƒäºŒå‰æ ‘å¤–ä¾§æ˜¯å¦å¯¹ç§°ï¼šä¼ å…¥çš„æ˜¯å·¦èŠ‚ç‚¹çš„å·¦å­©å­ï¼Œå³èŠ‚ç‚¹çš„å³å­©å­ã€‚</li>
<li>æ¯”è¾ƒå†…æµ‹æ˜¯å¦å¯¹ç§°ï¼Œä¼ å…¥å·¦èŠ‚ç‚¹çš„å³å­©å­ï¼Œå³èŠ‚ç‚¹çš„å·¦å­©å­ã€‚</li>
<li>å¦‚æœå·¦å³éƒ½å¯¹ç§°å°±è¿”å›true ï¼Œæœ‰ä¸€ä¾§ä¸å¯¹ç§°å°±è¿”å›false ã€‚</li>
</ul>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">bool</span> outside = <span class="built_in">compare</span>(left.left, right.right);   <span class="comment">// å·¦å­æ ‘ï¼šå·¦ã€ å³å­æ ‘ï¼šå³</span></span><br><span class="line"><span class="type">bool</span> inside = <span class="built_in">compare</span>(left.right, right.left);    <span class="comment">// å·¦å­æ ‘ï¼šå³ã€ å³å­æ ‘ï¼šå·¦</span></span><br><span class="line"><span class="type">bool</span> isSame = outside &amp;&amp; inside;                    <span class="comment">// å·¦å­æ ‘ï¼šä¸­ã€ å³å­æ ‘ï¼šä¸­ï¼ˆé€»è¾‘å¤„ç†ï¼‰</span></span><br><span class="line"><span class="keyword">return</span> isSame;</span><br></pre></td></tr></table></figure>

<p>ä¸Šä»£ç ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºä½¿ç”¨çš„éå†æ–¹å¼ï¼Œå·¦å­æ ‘å·¦å³ä¸­ï¼Œå³å­æ ‘å³å·¦ä¸­ï¼Œæ‰€ä»¥æˆ‘æŠŠè¿™ä¸ªéå†é¡ºåºä¹Ÿç§°ä¹‹ä¸ºâ€œååºéå†â€ï¼ˆå°½ç®¡ä¸æ˜¯ä¸¥æ ¼çš„ååºéå†ï¼‰ã€‚</p>
<p><strong>é€’å½’ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isSymmetric</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> compare(root.left, root.right);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">compare</span><span class="params">(TreeNode left, TreeNode right)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> ((left != <span class="literal">null</span> &amp;&amp; right == <span class="literal">null</span>) || (left == <span class="literal">null</span> &amp;&amp; right != <span class="literal">null</span>)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (left == <span class="literal">null</span> &amp;&amp; right == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (left.val != right.val) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> compare(left.left , right.right) &amp;&amp; compare(left.right , right.left);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>è¿­ä»£ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202211201106248.gif" alt="101.å¯¹ç§°äºŒå‰æ ‘"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isSymmetric</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        Queue&lt;TreeNode&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">//å·¦å³å­©å­å…¥é˜Ÿ</span></span><br><span class="line">        queue.offer(root.left);</span><br><span class="line">        queue.offer(root.right);</span><br><span class="line">        <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">            <span class="type">TreeNode</span> <span class="variable">left</span> <span class="operator">=</span> queue.poll();</span><br><span class="line">            <span class="type">TreeNode</span> <span class="variable">right</span> <span class="operator">=</span> queue.poll();</span><br><span class="line">            <span class="comment">//å·¦å³å­©å­ä¸ºç©º</span></span><br><span class="line">            <span class="keyword">if</span> (left == <span class="literal">null</span> &amp;&amp; right == <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//å·¦å³å­©å­ä¸€ä¸ªä¸ä¸ºç©º æˆ–è€…éƒ½ä¸ä¸ºç©º ä½†å€¼ä¸ä¸€æ ·</span></span><br><span class="line">            <span class="keyword">if</span> ((left != <span class="literal">null</span> &amp;&amp; right == <span class="literal">null</span>) || (left == <span class="literal">null</span> &amp;&amp; right != <span class="literal">null</span>) || (left.val != right.val)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//å­èŠ‚ç‚¹æ¯”è¾ƒ</span></span><br><span class="line">            queue.offer(left.left);<span class="comment">//å·¦å·¦</span></span><br><span class="line">            queue.offer(right.right);<span class="comment">//å³å³</span></span><br><span class="line">            queue.offer(left.right);<span class="comment">//å·¦å³</span></span><br><span class="line">            queue.offer(right.left);<span class="comment">//å³å·¦</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="8-6ã€å‰‘æŒ‡-Offer-32-I-ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘"><a href="#8-6ã€å‰‘æŒ‡-Offer-32-I-ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘" class="headerlink" title="8.6ã€å‰‘æŒ‡ Offer 32 - I. ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘"></a>8.6ã€å‰‘æŒ‡ Offer 32 - I. ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘</h3><p>ä»ä¸Šåˆ°ä¸‹æ‰“å°å‡ºäºŒå‰æ ‘çš„æ¯ä¸ªèŠ‚ç‚¹ï¼ŒåŒä¸€å±‚çš„èŠ‚ç‚¹æŒ‰ç…§ä»å·¦åˆ°å³çš„é¡ºåºæ‰“å°ã€‚</p>
<p>ä¾‹å¦‚:<br>ç»™å®šäºŒå‰æ ‘: <code>[3,9,20,null,null,15,7]</code>,</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">  3</span><br><span class="line"> / \</span><br><span class="line">9  20</span><br><span class="line">  /  \</span><br><span class="line"> 15   7</span><br></pre></td></tr></table></figure>

<p>è¿”å›ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[3,9,20,15,7]</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ol>
<li><code>èŠ‚ç‚¹æ€»æ•° &lt;= 1000</code></li>
</ol>
<p>Related Topics</p>
<p>æ ‘</p>
<p>å¹¿åº¦ä¼˜å…ˆæœç´¢</p>
<p>äºŒå‰æ ‘</p>
<p>ğŸ‘ 236</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯ï¼š</strong></p>
<p>é¢˜ç›®è¦æ±‚çš„äºŒå‰æ ‘çš„ ä»ä¸Šè‡³ä¸‹ æ‰“å°ï¼ˆå³æŒ‰å±‚æ‰“å°ï¼‰ï¼Œåˆç§°ä¸ºäºŒå‰æ ‘çš„ å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆBFSï¼‰ã€‚<br>BFS é€šå¸¸å€ŸåŠ© é˜Ÿåˆ— çš„å…ˆå…¥å…ˆå‡ºç‰¹æ€§æ¥å®ç°ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202211201153247.png" alt="Picture1.png"></p>
<p>ç®—æ³•æµç¨‹ï¼š</p>
<ol>
<li>ç‰¹ä¾‹å¤„ç†ï¼š å½“æ ‘çš„æ ¹èŠ‚ç‚¹ä¸ºç©ºï¼Œåˆ™ç›´æ¥è¿”å›ç©ºåˆ—è¡¨ [] ï¼›</li>
<li>åˆå§‹åŒ–ï¼š æ‰“å°ç»“æœåˆ—è¡¨ res &#x3D; [] ï¼ŒåŒ…å«æ ¹èŠ‚ç‚¹çš„é˜Ÿåˆ— queue &#x3D; [root] ï¼›</li>
<li>BFS å¾ªç¯ï¼š å½“é˜Ÿåˆ— queue ä¸ºç©ºæ—¶è·³å‡ºï¼›</li>
<li>å‡ºé˜Ÿï¼š é˜Ÿé¦–å…ƒç´ å‡ºé˜Ÿï¼Œè®°ä¸º nodeï¼›</li>
<li>æ‰“å°ï¼š å°† node.val æ·»åŠ è‡³åˆ—è¡¨ tmp å°¾éƒ¨ï¼›</li>
<li>æ·»åŠ å­èŠ‚ç‚¹ï¼š è‹¥ node çš„å·¦ï¼ˆå³ï¼‰å­èŠ‚ç‚¹ä¸ä¸ºç©ºï¼Œåˆ™å°†å·¦ï¼ˆå³ï¼‰å­èŠ‚ç‚¹åŠ å…¥é˜Ÿåˆ— queue ï¼›</li>
<li>è¿”å›å€¼ï¼š è¿”å›æ‰“å°ç»“æœåˆ—è¡¨ res å³å¯ã€‚</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span>[] levelOrder(TreeNode root) &#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">int</span>[]&#123;&#125;;</span><br><span class="line">    Queue&lt;TreeNode&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    List&lt;Integer&gt; res = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    queue.add(root);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">size</span> <span class="operator">=</span> queue.size();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">            <span class="type">TreeNode</span> <span class="variable">tmp</span> <span class="operator">=</span>  queue.poll();</span><br><span class="line">            res.add(tmp.val);</span><br><span class="line">            <span class="keyword">if</span> (tmp.left != <span class="literal">null</span>) queue.add(tmp.left);</span><br><span class="line">            <span class="keyword">if</span> (tmp.right != <span class="literal">null</span>) queue.add(tmp.right);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> res.stream().mapToInt(Integer::intValue).toArray();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="8-7ã€å‰‘æŒ‡-Offer-32-II-ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘-II"><a href="#8-7ã€å‰‘æŒ‡-Offer-32-II-ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘-II" class="headerlink" title="8.7ã€å‰‘æŒ‡ Offer 32 - II. ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘ II"></a>8.7ã€å‰‘æŒ‡ Offer 32 - II. ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘ II</h3><p>ä»ä¸Šåˆ°ä¸‹æŒ‰å±‚æ‰“å°äºŒå‰æ ‘ï¼ŒåŒä¸€å±‚çš„èŠ‚ç‚¹æŒ‰ä»å·¦åˆ°å³çš„é¡ºåºæ‰“å°ï¼Œæ¯ä¸€å±‚æ‰“å°åˆ°ä¸€è¡Œã€‚</p>
<p>ä¾‹å¦‚:<br>ç»™å®šäºŒå‰æ ‘: <code>[3,9,20,null,null,15,7]</code>,</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">  3</span><br><span class="line"> / \</span><br><span class="line">9  20</span><br><span class="line">  /  \</span><br><span class="line"> 15   7</span><br></pre></td></tr></table></figure>

<p>è¿”å›å…¶å±‚æ¬¡éå†ç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  [3],</span><br><span class="line">  [9,20],</span><br><span class="line">  [15,7]</span><br><span class="line">]</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ol>
<li><code>èŠ‚ç‚¹æ€»æ•° &lt;= 1000</code></li>
</ol>
<p>æ³¨æ„ï¼šæœ¬é¢˜ä¸ä¸»ç«™ 102 é¢˜ç›¸åŒï¼š<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/binary-tree-level-order-traversal/">https://leetcode-cn.com/problems/binary-tree-level-order-traversal/</a></p>
<p>Related Topics</p>
<p>æ ‘</p>
<p>å¹¿åº¦ä¼˜å…ˆæœç´¢</p>
<p>äºŒå‰æ ‘</p>
<p>ğŸ‘ 256</p>
<p>ğŸ‘ 0</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; <span class="title function_">levelOrder</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line"></span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; res = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    Queue&lt;TreeNode&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    queue.add(root);</span><br><span class="line">    <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">size</span> <span class="operator">=</span> queue.size();<span class="comment">//size :ç›®çš„å°±æ˜¯ä¸ºäº†éå†æ¯ä¸€å±‚</span></span><br><span class="line">        List&lt;Integer&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">            <span class="type">TreeNode</span> <span class="variable">tmp</span> <span class="operator">=</span> queue.poll();</span><br><span class="line">            list.add(tmp.val);</span><br><span class="line">            <span class="keyword">if</span> (tmp.left != <span class="literal">null</span>) queue.add(tmp.left);</span><br><span class="line">            <span class="keyword">if</span> (tmp.right != <span class="literal">null</span>) queue.add(tmp.right);</span><br><span class="line">        &#125;</span><br><span class="line">        res.add(list);<span class="comment">//åŠ å…¥è¯¥å±‚éå†çš„æ•°æ®</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="8-8ã€å‰‘æŒ‡-Offer-32-III-ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘-III"><a href="#8-8ã€å‰‘æŒ‡-Offer-32-III-ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘-III" class="headerlink" title="8.8ã€å‰‘æŒ‡ Offer 32 - III. ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘ III"></a>8.8ã€å‰‘æŒ‡ Offer 32 - III. ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘ III</h3><p>è¯·å®ç°ä¸€ä¸ªå‡½æ•°æŒ‰ç…§ä¹‹å­—å½¢é¡ºåºæ‰“å°äºŒå‰æ ‘ï¼Œå³ç¬¬ä¸€è¡ŒæŒ‰ç…§ä»å·¦åˆ°å³çš„é¡ºåºæ‰“å°ï¼Œç¬¬äºŒå±‚æŒ‰ç…§ä»å³åˆ°å·¦çš„é¡ºåºæ‰“å°ï¼Œç¬¬ä¸‰è¡Œå†æŒ‰ç…§ä»å·¦åˆ°å³çš„é¡ºåºæ‰“å°ï¼Œå…¶ä»–è¡Œä»¥æ­¤ç±»æ¨ã€‚</p>
<p>ä¾‹å¦‚:<br>ç»™å®šäºŒå‰æ ‘: <code>[3,9,20,null,null,15,7]</code>,</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">  3</span><br><span class="line"> / \</span><br><span class="line">9  20</span><br><span class="line">  /  \</span><br><span class="line"> 15   7</span><br></pre></td></tr></table></figure>

<p>è¿”å›å…¶å±‚æ¬¡éå†ç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  [3],</span><br><span class="line">  [20,9],</span><br><span class="line">  [15,7]</span><br><span class="line">]</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ol>
<li><code>èŠ‚ç‚¹æ€»æ•° &lt;= 1000</code></li>
</ol>
<p>Related Topics</p>
<p>æ ‘</p>
<p>å¹¿åº¦ä¼˜å…ˆæœç´¢</p>
<p>äºŒå‰æ ‘</p>
<p>ğŸ‘ 259</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯ï¼š</strong></p>
<p><strong>æ–¹æ³•ä¸€ï¼šå±‚åºéå† + é“¾è¡¨ï¼ˆåŒç«¯é˜Ÿåˆ—ï¼‰</strong></p>
<p>åˆ©ç”¨åŒç«¯é˜Ÿåˆ—çš„ä¸¤ç«¯çš†å¯æ·»åŠ å…ƒç´ çš„ç‰¹æ€§ï¼Œè®¾æ‰“å°åˆ—è¡¨ï¼ˆåŒç«¯é˜Ÿåˆ—ï¼‰ tmp ï¼Œå¹¶è§„å®šï¼š</p>
<ul>
<li>å¥‡æ•°å±‚ åˆ™æ·»åŠ è‡³ tmp å°¾éƒ¨ ï¼Œ</li>
<li>å¶æ•°å±‚ åˆ™æ·»åŠ è‡³ tmp å¤´éƒ¨ ã€‚</li>
</ul>
<p><strong>ç®—æ³•æµç¨‹</strong>ï¼š</p>
<ol>
<li>ç‰¹ä¾‹å¤„ç†ï¼š å½“æ ‘çš„æ ¹èŠ‚ç‚¹ä¸ºç©ºï¼Œåˆ™ç›´æ¥è¿”å›ç©ºåˆ—è¡¨ [] ï¼›</li>
<li>åˆå§‹åŒ–ï¼š æ‰“å°ç»“æœç©ºåˆ—è¡¨ res ï¼ŒåŒ…å«æ ¹èŠ‚ç‚¹çš„åŒç«¯é˜Ÿåˆ— deque ï¼›</li>
<li>BFS å¾ªç¯ï¼š å½“ deque ä¸ºç©ºæ—¶è·³å‡ºï¼›<ol>
<li>æ–°å»ºåˆ—è¡¨ tmp ï¼Œç”¨äºä¸´æ—¶å­˜å‚¨å½“å‰å±‚æ‰“å°ç»“æœï¼›</li>
<li>å½“å‰å±‚æ‰“å°å¾ªç¯ï¼š å¾ªç¯æ¬¡æ•°ä¸ºå½“å‰å±‚èŠ‚ç‚¹æ•°ï¼ˆå³ deque é•¿åº¦ï¼‰ï¼›<ol>
<li>å‡ºé˜Ÿï¼š é˜Ÿé¦–å…ƒç´ å‡ºé˜Ÿï¼Œè®°ä¸º nodeï¼›</li>
<li>æ‰“å°ï¼š è‹¥ä¸ºå¥‡æ•°å±‚ï¼Œå°† node.val æ·»åŠ è‡³ tmp å°¾éƒ¨ï¼›å¦åˆ™ï¼Œæ·»åŠ è‡³ tmp å¤´éƒ¨ï¼›</li>
<li>æ·»åŠ å­èŠ‚ç‚¹ï¼š è‹¥ node çš„å·¦ï¼ˆå³ï¼‰å­èŠ‚ç‚¹ä¸ä¸ºç©ºï¼Œåˆ™åŠ å…¥ deque ï¼›</li>
</ol>
</li>
<li>å°†å½“å‰å±‚ç»“æœ tmp è½¬åŒ–ä¸º list å¹¶æ·»åŠ å…¥ res ï¼›</li>
</ol>
</li>
<li>è¿”å›å€¼ï¼š è¿”å›æ‰“å°ç»“æœåˆ—è¡¨ res å³å¯ï¼›</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; <span class="title function_">levelOrder</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; res = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    Queue&lt;TreeNode&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    queue.add(root);</span><br><span class="line">    <span class="type">boolean</span> <span class="variable">flag</span> <span class="operator">=</span> <span class="literal">false</span>;<span class="comment">//è®°å½•å½“å‰æ˜¯å¦åè½¬</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">size</span> <span class="operator">=</span> queue.size();</span><br><span class="line">        LinkedList&lt;Integer&gt; list = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">            <span class="type">TreeNode</span> <span class="variable">tmp</span> <span class="operator">=</span> queue.poll();</span><br><span class="line">            <span class="keyword">if</span>(res.size() % <span class="number">2</span> == <span class="number">0</span>) list.addLast(tmp.val);<span class="comment">//æ­£åº</span></span><br><span class="line">            <span class="keyword">else</span> list.addFirst(tmp.val);<span class="comment">//é€†åº</span></span><br><span class="line">            <span class="keyword">if</span> (tmp.left != <span class="literal">null</span>) queue.add(tmp.left);</span><br><span class="line">            <span class="keyword">if</span> (tmp.right != <span class="literal">null</span>) queue.add(tmp.right);</span><br><span class="line">        &#125;</span><br><span class="line">        res.add(list);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š<br>æ—¶é—´å¤æ‚åº¦ O(N) ï¼š NN ä¸ºäºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°é‡ï¼Œå³ BFS éœ€å¾ªç¯ N æ¬¡ï¼Œå ç”¨ O(N) ï¼›åŒç«¯é˜Ÿåˆ—çš„é˜Ÿé¦–å’Œé˜Ÿå°¾çš„æ·»åŠ å’Œåˆ é™¤æ“ä½œçš„æ—¶é—´å¤æ‚åº¦å‡ä¸º O(1) ã€‚<br>ç©ºé—´å¤æ‚åº¦ O(N) ï¼š æœ€å·®æƒ…å†µä¸‹ï¼Œå³å½“æ ‘ä¸ºæ»¡äºŒå‰æ ‘æ—¶ï¼Œæœ€å¤šæœ‰ N&#x2F;2 ä¸ªæ ‘èŠ‚ç‚¹ åŒæ—¶ åœ¨ deque ä¸­ï¼Œä½¿ç”¨ O(N) å¤§å°çš„é¢å¤–ç©ºé—´ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202211201233874.png" alt="image-20221120123322773"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; <span class="title function_">levelOrder</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        Deque&lt;TreeNode&gt; deque = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        List&lt;List&lt;Integer&gt;&gt; res = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">if</span>(root != <span class="literal">null</span>) deque.add(root);</span><br><span class="line">        <span class="keyword">while</span>(!deque.isEmpty()) &#123;</span><br><span class="line">            <span class="comment">// æ‰“å°å¥‡æ•°å±‚</span></span><br><span class="line">            List&lt;Integer&gt; tmp = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> deque.size(); i &gt; <span class="number">0</span>; i--) &#123;</span><br><span class="line">                <span class="comment">// ä»å·¦å‘å³æ‰“å°</span></span><br><span class="line">                <span class="type">TreeNode</span> <span class="variable">node</span> <span class="operator">=</span> deque.removeFirst();</span><br><span class="line">                tmp.add(node.val);</span><br><span class="line">                <span class="comment">// å…ˆå·¦åå³åŠ å…¥ä¸‹å±‚èŠ‚ç‚¹</span></span><br><span class="line">                <span class="keyword">if</span>(node.left != <span class="literal">null</span>) deque.addLast(node.left);</span><br><span class="line">                <span class="keyword">if</span>(node.right != <span class="literal">null</span>) deque.addLast(node.right);</span><br><span class="line">            &#125;</span><br><span class="line">            res.add(tmp);</span><br><span class="line">            <span class="keyword">if</span>(deque.isEmpty()) <span class="keyword">break</span>; <span class="comment">// è‹¥ä¸ºç©ºåˆ™æå‰è·³å‡º</span></span><br><span class="line">            <span class="comment">// æ‰“å°å¶æ•°å±‚</span></span><br><span class="line">            tmp = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> deque.size(); i &gt; <span class="number">0</span>; i--) &#123;</span><br><span class="line">                <span class="comment">// ä»å³å‘å·¦æ‰“å°</span></span><br><span class="line">                <span class="type">TreeNode</span> <span class="variable">node</span> <span class="operator">=</span> deque.removeLast();</span><br><span class="line">                tmp.add(node.val);</span><br><span class="line">                <span class="comment">// å…ˆå³åå·¦åŠ å…¥ä¸‹å±‚èŠ‚ç‚¹</span></span><br><span class="line">                <span class="keyword">if</span>(node.right != <span class="literal">null</span>) deque.addFirst(node.right);</span><br><span class="line">                <span class="keyword">if</span>(node.left != <span class="literal">null</span>) deque.addFirst(node.left);</span><br><span class="line">            &#125;</span><br><span class="line">            res.add(tmp);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202211201235563.png" alt="image-20221120123516475"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; <span class="title function_">levelOrder</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        Queue&lt;TreeNode&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        List&lt;List&lt;Integer&gt;&gt; res = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">if</span>(root != <span class="literal">null</span>) queue.add(root);</span><br><span class="line">        <span class="keyword">while</span>(!queue.isEmpty()) &#123;</span><br><span class="line">            List&lt;Integer&gt; tmp = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> queue.size(); i &gt; <span class="number">0</span>; i--) &#123;</span><br><span class="line">                <span class="type">TreeNode</span> <span class="variable">node</span> <span class="operator">=</span> queue.poll();</span><br><span class="line">                tmp.add(node.val);</span><br><span class="line">                <span class="keyword">if</span>(node.left != <span class="literal">null</span>) queue.add(node.left);</span><br><span class="line">                <span class="keyword">if</span>(node.right != <span class="literal">null</span>) queue.add(node.right);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(res.size() % <span class="number">2</span> == <span class="number">1</span>) Collections.reverse(tmp);</span><br><span class="line">            res.add(tmp);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="8-9ã€å‰‘æŒ‡-Offer-34-äºŒå‰æ ‘ä¸­å’Œä¸ºæŸä¸€å€¼çš„è·¯å¾„"><a href="#8-9ã€å‰‘æŒ‡-Offer-34-äºŒå‰æ ‘ä¸­å’Œä¸ºæŸä¸€å€¼çš„è·¯å¾„" class="headerlink" title="8.9ã€å‰‘æŒ‡ Offer 34. äºŒå‰æ ‘ä¸­å’Œä¸ºæŸä¸€å€¼çš„è·¯å¾„"></a>8.9ã€å‰‘æŒ‡ Offer 34. äºŒå‰æ ‘ä¸­å’Œä¸ºæŸä¸€å€¼çš„è·¯å¾„</h3><p>ç»™ä½ äºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ <code>root</code> å’Œä¸€ä¸ªæ•´æ•°ç›®æ ‡å’Œ <code>targetSum</code> ï¼Œæ‰¾å‡ºæ‰€æœ‰ <strong>ä»æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹</strong> è·¯å¾„æ€»å’Œç­‰äºç»™å®šç›®æ ‡å’Œçš„è·¯å¾„ã€‚</p>
<p><strong>å¶å­èŠ‚ç‚¹</strong> æ˜¯æŒ‡æ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://assets.leetcode.com/uploads/2021/01/18/pathsumii1.jpg" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šroot = [5,4,8,11,null,13,4,7,2,null,null,5,1], targetSum = 22</span><br><span class="line">è¾“å‡ºï¼š[[5,4,11,2],[5,8,4,5]]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202211211507250.jpeg" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šroot = [1,2,3], targetSum = 5</span><br><span class="line">è¾“å‡ºï¼š[]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šroot = [1,2], targetSum = 0</span><br><span class="line">è¾“å‡ºï¼š[]</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li>æ ‘ä¸­èŠ‚ç‚¹æ€»æ•°åœ¨èŒƒå›´ <code>[0, 5000]</code> å†…</li>
<li><code>-1000 &lt;= Node.val &lt;= 1000</code></li>
<li><code>-1000 &lt;= targetSum &lt;= 1000</code></li>
</ul>
<p>æ³¨æ„ï¼šæœ¬é¢˜ä¸ä¸»ç«™ 113 é¢˜ç›¸åŒï¼š<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/path-sum-ii/">https://leetcode-cn.com/problems/path-sum-ii/</a></p>
<p>Related Topics</p>
<p>æ ‘</p>
<p>æ·±åº¦ä¼˜å…ˆæœç´¢</p>
<p>å›æº¯</p>
<p>äºŒå‰æ ‘</p>
<p>ğŸ‘ 381</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<ol>
<li>ç¡®å®šé€’å½’å‡½æ•°çš„å‚æ•°å’Œè¿”å›ç±»å‹</li>
</ol>
<p>å‚æ•°ï¼šéœ€è¦äºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ï¼Œè¿˜éœ€è¦ä¸€ä¸ªè®¡æ•°å™¨ï¼Œè¿™ä¸ªè®¡æ•°å™¨ç”¨æ¥è®¡ç®—äºŒå‰æ ‘çš„ä¸€æ¡è¾¹ä¹‹å’Œæ˜¯å¦æ­£å¥½æ˜¯ç›®æ ‡å’Œï¼Œè®¡æ•°å™¨ä¸ºintå‹ã€‚</p>
<p>å†æ¥çœ‹è¿”å›å€¼ï¼Œé€’å½’å‡½æ•°ä»€ä¹ˆæ—¶å€™éœ€è¦è¿”å›å€¼ï¼Ÿä»€ä¹ˆæ—¶å€™ä¸éœ€è¦è¿”å›å€¼ï¼Ÿè¿™é‡Œæ€»ç»“å¦‚ä¸‹ä¸‰ç‚¹ï¼š</p>
<ul>
<li>å¦‚æœéœ€è¦æœç´¢æ•´æ£µäºŒå‰æ ‘ä¸”ä¸ç”¨å¤„ç†é€’å½’è¿”å›å€¼ï¼Œé€’å½’å‡½æ•°å°±ä¸è¦è¿”å›å€¼ã€‚ï¼ˆè¿™ç§æƒ…å†µå°±æ˜¯æœ¬æ–‡ä¸‹åŠéƒ¨åˆ†ä»‹ç»çš„113.è·¯å¾„æ€»å’Œiiï¼‰</li>
<li>å¦‚æœéœ€è¦æœç´¢æ•´æ£µäºŒå‰æ ‘ä¸”éœ€è¦å¤„ç†é€’å½’è¿”å›å€¼ï¼Œé€’å½’å‡½æ•°å°±éœ€è¦è¿”å›å€¼ã€‚ ï¼ˆè¿™ç§æƒ…å†µæˆ‘ä»¬åœ¨<a target="_blank" rel="noopener" href="https://programmercarl.com/0236.%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E6%9C%80%E8%BF%91%E5%85%AC%E5%85%B1%E7%A5%96%E5%85%88.html">236. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ (opens new window)</a>ä¸­ä»‹ç»ï¼‰</li>
<li>å¦‚æœè¦æœç´¢å…¶ä¸­ä¸€æ¡ç¬¦åˆæ¡ä»¶çš„è·¯å¾„ï¼Œé‚£ä¹ˆé€’å½’ä¸€å®šéœ€è¦è¿”å›å€¼ï¼Œå› ä¸ºé‡åˆ°ç¬¦åˆæ¡ä»¶çš„è·¯å¾„äº†å°±è¦åŠæ—¶è¿”å›ã€‚ï¼ˆæœ¬é¢˜çš„æƒ…å†µï¼‰</li>
</ul>
<p>è€Œæœ¬é¢˜æˆ‘ä»¬è¦æ‰¾ä¸€æ¡ç¬¦åˆæ¡ä»¶çš„è·¯å¾„ï¼Œæ‰€ä»¥é€’å½’å‡½æ•°éœ€è¦è¿”å›å€¼ï¼ŒåŠæ—¶è¿”å›ï¼Œé‚£ä¹ˆè¿”å›ç±»å‹æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p>
<p>å¦‚å›¾æ‰€ç¤ºï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202211211524855.png" alt="113.è·¯å¾„æ€»å’Œii"></p>
<p>å›¾ä¸­å¯ä»¥çœ‹å‡ºï¼Œéå†çš„è·¯çº¿ï¼Œå¹¶ä¸è¦éå†æ•´æ£µæ ‘ï¼Œæ‰€ä»¥é€’å½’å‡½æ•°éœ€è¦è¿”å›å€¼ï¼Œå¯ä»¥ç”¨boolç±»å‹è¡¨ç¤ºã€‚</p>
<p>æ‰€ä»¥ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">traversal</span><span class="params">(TreeNode root, <span class="type">int</span> count)</span>   <span class="comment">// æ³¨æ„å‡½æ•°çš„è¿”å›ç±»å‹</span></span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>ç¡®å®šç»ˆæ­¢æ¡ä»¶</li>
</ol>
<p>é¦–å…ˆè®¡æ•°å™¨å¦‚ä½•ç»Ÿè®¡è¿™ä¸€æ¡è·¯å¾„çš„å’Œå‘¢ï¼Ÿ</p>
<p>ä¸è¦å»ç´¯åŠ ç„¶ååˆ¤æ–­æ˜¯å¦ç­‰äºç›®æ ‡å’Œï¼Œé‚£ä¹ˆä»£ç æ¯”è¾ƒéº»çƒ¦ï¼Œå¯ä»¥ç”¨é€’å‡ï¼Œè®©è®¡æ•°å™¨countåˆå§‹ä¸ºç›®æ ‡å’Œï¼Œç„¶åæ¯æ¬¡å‡å»éå†è·¯å¾„èŠ‚ç‚¹ä¸Šçš„æ•°å€¼ã€‚</p>
<p>å¦‚æœæœ€åcount &#x3D;&#x3D; 0ï¼ŒåŒæ—¶åˆ°äº†å¶å­èŠ‚ç‚¹çš„è¯ï¼Œè¯´æ˜æ‰¾åˆ°äº†ç›®æ ‡å’Œã€‚</p>
<p>å¦‚æœéå†åˆ°äº†å¶å­èŠ‚ç‚¹ï¼Œcountä¸ä¸º0ï¼Œå°±æ˜¯æ²¡æ‰¾åˆ°ã€‚</p>
<p>é€’å½’ç»ˆæ­¢æ¡ä»¶ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (root.left == null &amp;&amp; root.right == null &amp;&amp; count == <span class="number">0</span>) &#123; <span class="comment">//åˆ°å¶å­èŠ‚ç‚¹ï¼Œå¹¶ä¸”æ‰¾åˆ°äº†åˆé€‚çš„è·¯å¾„</span></span><br><span class="line">    res.<span class="built_in">add</span>(<span class="keyword">new</span> ArrayList&lt;&gt;(path));</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (root.left == null &amp;&amp; root.right == null) &#123; <span class="comment">//åˆ°å¶å­èŠ‚ç‚¹ï¼Œæ²¡æœ‰åˆé€‚è·¯å¾„</span></span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>ç¡®å®šå•å±‚é€’å½’çš„é€»è¾‘</li>
</ol>
<p>å› ä¸ºç»ˆæ­¢æ¡ä»¶æ˜¯åˆ¤æ–­å¶å­èŠ‚ç‚¹ï¼Œæ‰€ä»¥é€’å½’çš„è¿‡ç¨‹ä¸­å°±ä¸è¦è®©ç©ºèŠ‚ç‚¹è¿›å…¥é€’å½’äº†ã€‚</p>
<p>é€’å½’å‡½æ•°æ˜¯æœ‰è¿”å›å€¼çš„ï¼Œå¦‚æœé€’å½’å‡½æ•°è¿”å›trueï¼Œè¯´æ˜æ‰¾åˆ°äº†åˆé€‚çš„è·¯å¾„ï¼Œåº”è¯¥ç«‹åˆ»è¿”å›ã€‚</p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (root.left != null) &#123; <span class="comment">//å·¦å­©å­ä¸ä¸ºç©º æœç´¢å·¦å­æ ‘</span></span><br><span class="line">    path.<span class="built_in">add</span>(root.left.val);</span><br><span class="line">    <span class="built_in">traversal</span>(root.left, <span class="built_in">traversal</span>(root.right, count - root.right.val););</span><br><span class="line">    path.<span class="built_in">removeLast</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (root.right != null) &#123; <span class="comment">//å³å­©å­ä¸ä¸ºç©º æœç´¢å³å­æ ‘</span></span><br><span class="line">    path.<span class="built_in">add</span>(root.right.val);</span><br><span class="line">    <span class="built_in">traversal</span>(root.right, count - root.right.val);</span><br><span class="line">    path.<span class="built_in">removeLast</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸Šä»£ç ä¸­æ˜¯åŒ…å«ç€å›æº¯çš„ï¼Œæ²¡æœ‰å›æº¯ï¼Œå¦‚ä½•åæ’¤é‡æ–°æ‰¾å¦ä¸€æ¡è·¯å¾„å‘¢ã€‚</p>
<p>å›æº¯éšè—åœ¨<code>traversal(root.right, count - root.right.val);</code>è¿™é‡Œï¼Œ å› ä¸ºæŠŠ<code>root.right.val</code> ç›´æ¥ä½œä¸ºå‚æ•°ä¼ è¿›å»ï¼Œå‡½æ•°ç»“æŸï¼Œcountçš„æ•°å€¼æ²¡æœ‰æ”¹å˜ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">List&lt;List&lt;Integer&gt;&gt; res;</span><br><span class="line">LinkedList&lt;Integer&gt; path;</span><br><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; <span class="title function_">pathSum</span><span class="params">(TreeNode root, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">    res = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    path = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) <span class="keyword">return</span> res;</span><br><span class="line">    path.add(root.val);</span><br><span class="line">    traversal(root, target - root.val);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">traversal</span><span class="params">(TreeNode root, <span class="type">int</span> count)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (root.left == <span class="literal">null</span> &amp;&amp; root.right == <span class="literal">null</span> &amp;&amp; count == <span class="number">0</span>) &#123; <span class="comment">//åˆ°å¶å­èŠ‚ç‚¹ï¼Œå¹¶ä¸”æ‰¾åˆ°äº†åˆé€‚çš„è·¯å¾„</span></span><br><span class="line">        res.add(<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(path));</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (root.left == <span class="literal">null</span> &amp;&amp; root.right == <span class="literal">null</span>) &#123; <span class="comment">//åˆ°å¶å­èŠ‚ç‚¹ï¼Œæ²¡æœ‰åˆé€‚è·¯å¾„</span></span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (root.left != <span class="literal">null</span>) &#123; <span class="comment">//å·¦å­©å­ä¸ä¸ºç©º æœç´¢å·¦å­æ ‘</span></span><br><span class="line">        path.add(root.left.val);</span><br><span class="line">        traversal(root.left, count - root.left.val);</span><br><span class="line">        path.removeLast();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (root.right != <span class="literal">null</span>) &#123; <span class="comment">//å³å­©å­ä¸ä¸ºç©º æœç´¢å³å­æ ‘</span></span><br><span class="line">        path.add(root.right.val);</span><br><span class="line">        traversal(root.right, count - root.right.val);</span><br><span class="line">        path.removeLast();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="8-10ã€å‰‘æŒ‡-Offer-36-äºŒå‰æœç´¢æ ‘ä¸åŒå‘é“¾è¡¨"><a href="#8-10ã€å‰‘æŒ‡-Offer-36-äºŒå‰æœç´¢æ ‘ä¸åŒå‘é“¾è¡¨" class="headerlink" title="8.10ã€å‰‘æŒ‡ Offer 36. äºŒå‰æœç´¢æ ‘ä¸åŒå‘é“¾è¡¨"></a>8.10ã€å‰‘æŒ‡ Offer 36. äºŒå‰æœç´¢æ ‘ä¸åŒå‘é“¾è¡¨</h3><p>è¾“å…¥ä¸€æ£µäºŒå‰æœç´¢æ ‘ï¼Œå°†è¯¥äºŒå‰æœç´¢æ ‘è½¬æ¢æˆä¸€ä¸ªæ’åºçš„å¾ªç¯åŒå‘é“¾è¡¨ã€‚è¦æ±‚ä¸èƒ½åˆ›å»ºä»»ä½•æ–°çš„èŠ‚ç‚¹ï¼Œåªèƒ½è°ƒæ•´æ ‘ä¸­èŠ‚ç‚¹æŒ‡é’ˆçš„æŒ‡å‘ã€‚</p>
<p>ä¸ºäº†è®©æ‚¨æ›´å¥½åœ°ç†è§£é—®é¢˜ï¼Œä»¥ä¸‹é¢çš„äºŒå‰æœç´¢æ ‘ä¸ºä¾‹ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/bstdlloriginalbst.png" alt="img"></p>
<p>æˆ‘ä»¬å¸Œæœ›å°†è¿™ä¸ªäºŒå‰æœç´¢æ ‘è½¬åŒ–ä¸ºåŒå‘å¾ªç¯é“¾è¡¨ã€‚é“¾è¡¨ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ªå‰é©±å’Œåç»§æŒ‡é’ˆã€‚å¯¹äºåŒå‘å¾ªç¯é“¾è¡¨ï¼Œç¬¬ä¸€ä¸ªèŠ‚ç‚¹çš„å‰é©±æ˜¯æœ€åä¸€ä¸ªèŠ‚ç‚¹ï¼Œæœ€åä¸€ä¸ªèŠ‚ç‚¹çš„åç»§æ˜¯ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚</p>
<p>ä¸‹å›¾å±•ç¤ºäº†ä¸Šé¢çš„äºŒå‰æœç´¢æ ‘è½¬åŒ–æˆçš„é“¾è¡¨ã€‚â€œheadâ€ è¡¨ç¤ºæŒ‡å‘é“¾è¡¨ä¸­æœ‰æœ€å°å…ƒç´ çš„èŠ‚ç‚¹ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/bstdllreturndll.png" alt="img"></p>
<p>ç‰¹åˆ«åœ°ï¼Œæˆ‘ä»¬å¸Œæœ›å¯ä»¥å°±åœ°å®Œæˆè½¬æ¢æ“ä½œã€‚å½“è½¬åŒ–å®Œæˆä»¥åï¼Œæ ‘ä¸­èŠ‚ç‚¹çš„å·¦æŒ‡é’ˆéœ€è¦æŒ‡å‘å‰é©±ï¼Œæ ‘ä¸­èŠ‚ç‚¹çš„å³æŒ‡é’ˆéœ€è¦æŒ‡å‘åç»§ã€‚è¿˜éœ€è¦è¿”å›é“¾è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆã€‚</p>
<p><strong>æ³¨æ„ï¼š</strong>æœ¬é¢˜ä¸ä¸»ç«™ 426 é¢˜ç›¸åŒï¼š<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/convert-binary-search-tree-to-sorted-doubly-linked-list/">https://leetcode-cn.com/problems/convert-binary-search-tree-to-sorted-doubly-linked-list/</a></p>
<p><strong>æ³¨æ„ï¼š</strong>æ­¤é¢˜å¯¹æ¯”åŸé¢˜æœ‰æ”¹åŠ¨ã€‚</p>
<p>Related Topics</p>
<p>æ ˆ</p>
<p>æ ‘</p>
<p>æ·±åº¦ä¼˜å…ˆæœç´¢</p>
<p>äºŒå‰æœç´¢æ ‘</p>
<p>é“¾è¡¨</p>
<p>äºŒå‰æ ‘</p>
<p>åŒå‘é“¾è¡¨</p>
<p>ğŸ‘ 604</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯ï¼š</strong></p>
<blockquote>
<p>äºŒå‰æœç´¢æ ‘çš„ä¸­åºéå†å¯ä»¥è½¬åŒ–ä¸ºé€’å¢åºåˆ—ã€‚</p>
</blockquote>
<p>ä¸‰ä¸ªæ­¥éª¤ï¼š</p>
<ol>
<li>æ’åºé“¾è¡¨ï¼š èŠ‚ç‚¹åº”ä»å°åˆ°å¤§æ’åºï¼Œå› æ­¤åº”ä½¿ç”¨ ä¸­åºéå† â€œä»å°åˆ°å¤§â€è®¿é—®æ ‘çš„èŠ‚ç‚¹ã€‚</li>
<li>åŒå‘é“¾è¡¨ï¼š åœ¨æ„å»ºç›¸é‚»èŠ‚ç‚¹çš„å¼•ç”¨å…³ç³»æ—¶ï¼Œè®¾å‰é©±èŠ‚ç‚¹ pre å’Œå½“å‰èŠ‚ç‚¹ cur ï¼Œä¸ä»…åº”æ„å»º pre.right &#x3D; cur ï¼Œä¹Ÿåº”æ„å»º cur.left &#x3D; pre ã€‚</li>
<li>å¾ªç¯é“¾è¡¨ï¼š è®¾é“¾è¡¨å¤´èŠ‚ç‚¹ head å’Œå°¾èŠ‚ç‚¹ tail ï¼Œåˆ™åº”æ„å»º head.left &#x3D; tail å’Œ tail.right &#x3D; head</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1599401091-PKIjds-Picture1.png" alt="Picture1.png"></p>
<p>javaä¸­åºéå†ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ‰“å°ä¸­åºéå†</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(Node root)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="literal">null</span>) <span class="keyword">return</span>;</span><br><span class="line">    dfs(root.left); <span class="comment">// å·¦</span></span><br><span class="line">    System.out.println(root.val); <span class="comment">// æ ¹</span></span><br><span class="line">    dfs(root.right); <span class="comment">// å³</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å†éå†åˆ°ä¸­é—´èŠ‚ç‚¹ï¼ŒåŠ ä¸Šå¤„ç†èŠ‚ç‚¹é—´çš„æŒ‡å‘å…³ç³»ï¼Œå³æ„å»ºå½“å‰èŠ‚ç‚¹curå’Œå‰é©±èŠ‚ç‚¹preçš„å¼•ç”¨ï¼Œåœ¨ä¸­åºéå†å®Œæˆæ—¶ï¼Œæ„å»ºå¤´èŠ‚ç‚¹headå’Œå°¾èŠ‚ç‚¹tailçš„å…³ç³»ã€‚ä¸­åºéå†å®Œå,preå°±æ˜¯å°¾èŠ‚ç‚¹ã€‚</p>
<p><strong>ç®—æ³•æµç¨‹ï¼š</strong><br><code>dfs(cur):</code> é€’å½’æ³•ä¸­åºéå†ï¼›</p>
<ol>
<li>ç»ˆæ­¢æ¡ä»¶ï¼š å½“èŠ‚ç‚¹ cur ä¸ºç©ºï¼Œä»£è¡¨è¶Šè¿‡å¶èŠ‚ç‚¹ï¼Œç›´æ¥è¿”å›ï¼›</li>
<li>é€’å½’å·¦å­æ ‘ï¼Œå³ dfs(cur.left) ï¼›</li>
<li>æ„å»ºé“¾è¡¨ï¼š<ul>
<li>å½“ pre ä¸ºç©ºæ—¶ï¼š ä»£è¡¨æ­£åœ¨è®¿é—®é“¾è¡¨å¤´èŠ‚ç‚¹ï¼Œè®°ä¸º head ï¼›</li>
<li>å½“ pre ä¸ä¸ºç©ºæ—¶ï¼š ä¿®æ”¹åŒå‘èŠ‚ç‚¹å¼•ç”¨ï¼Œå³ pre.right &#x3D; cur ï¼Œ cur.left &#x3D; pre ï¼›</li>
<li>ä¿å­˜ cur ï¼š æ›´æ–° pre &#x3D; cur ï¼Œå³èŠ‚ç‚¹ cur æ˜¯åç»§èŠ‚ç‚¹çš„ pre ï¼›</li>
</ul>
</li>
<li>é€’å½’å³å­æ ‘ï¼Œå³ dfs(cur.right) ï¼›</li>
</ol>
<p><code>treeToDoublyList(root)</code>ï¼š</p>
<ol>
<li>ç‰¹ä¾‹å¤„ç†ï¼š è‹¥èŠ‚ç‚¹ root ä¸ºç©ºï¼Œåˆ™ç›´æ¥è¿”å›ï¼›</li>
<li>åˆå§‹åŒ–ï¼š ç©ºèŠ‚ç‚¹ pre ï¼›</li>
<li>è½¬åŒ–ä¸ºåŒå‘é“¾è¡¨ï¼š è°ƒç”¨ dfs(root) ï¼›</li>
<li>æ„å»ºå¾ªç¯é“¾è¡¨ï¼š ä¸­åºéå†å®Œæˆåï¼Œhead æŒ‡å‘å¤´èŠ‚ç‚¹ï¼Œ pre æŒ‡å‘å°¾èŠ‚ç‚¹ï¼Œå› æ­¤ä¿®æ”¹ head å’Œ pre çš„åŒå‘èŠ‚ç‚¹å¼•ç”¨å³å¯ï¼›</li>
<li>è¿”å›å€¼ï¼š è¿”å›é“¾è¡¨çš„å¤´èŠ‚ç‚¹ head å³å¯ï¼›</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">Node pre, head;</span><br><span class="line"><span class="keyword">public</span> Node <span class="title function_">treeToDoublyList</span><span class="params">(Node root)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">null</span>;<span class="comment">//ç‰¹æ®Š è¿”å›</span></span><br><span class="line">    dfs(root);<span class="comment">//ä¸­åºéå† æ„å»ºé“¾è¡¨</span></span><br><span class="line">    <span class="comment">// ä¸­åºéå†å®Œåï¼Œå¤„ç†å¤´èŠ‚ç‚¹å’Œå°¾èŠ‚ç‚¹</span></span><br><span class="line">    head.left = pre;</span><br><span class="line">    pre.right = head;</span><br><span class="line">    <span class="keyword">return</span> head;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(Node cur)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (cur == <span class="literal">null</span>) &#123; <span class="comment">//ç©ºèŠ‚ç‚¹ ä¸å¤„ç†</span></span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    dfs(cur.left); <span class="comment">//å·¦å­æ ‘</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//ä¸­é—´å¤„ç†é€»è¾‘</span></span><br><span class="line">    <span class="keyword">if</span> (pre != <span class="literal">null</span>) &#123; <span class="comment">//å…¶ä»–èŠ‚ç‚¹</span></span><br><span class="line">        pre.right = cur;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123; <span class="comment">// pre == null å¤´èŠ‚ç‚¹</span></span><br><span class="line">        head = cur;</span><br><span class="line">    &#125;</span><br><span class="line">    cur.left = pre;</span><br><span class="line">    pre = cur;</span><br><span class="line"></span><br><span class="line">    dfs(cur.right);<span class="comment">//å³å­æ ‘</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(N) ï¼š N ä¸ºäºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°ï¼Œä¸­åºéå†éœ€è¦è®¿é—®æ‰€æœ‰èŠ‚ç‚¹ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(N) ï¼š æœ€å·®æƒ…å†µä¸‹ï¼Œå³æ ‘é€€åŒ–ä¸ºé“¾è¡¨æ—¶ï¼Œé€’å½’æ·±åº¦è¾¾åˆ° Nï¼Œç³»ç»Ÿä½¿ç”¨O(N) æ ˆç©ºé—´ã€‚</li>
</ul>
<h3 id="8-11ã€å‰‘æŒ‡-Offer-37-åºåˆ—åŒ–äºŒå‰æ ‘"><a href="#8-11ã€å‰‘æŒ‡-Offer-37-åºåˆ—åŒ–äºŒå‰æ ‘" class="headerlink" title="8.11ã€å‰‘æŒ‡ Offer 37. åºåˆ—åŒ–äºŒå‰æ ‘"></a>8.11ã€å‰‘æŒ‡ Offer 37. åºåˆ—åŒ–äºŒå‰æ ‘</h3><p>è¯·å®ç°ä¸¤ä¸ªå‡½æ•°ï¼Œåˆ†åˆ«ç”¨æ¥åºåˆ—åŒ–å’Œååºåˆ—åŒ–äºŒå‰æ ‘ã€‚</p>
<p>ä½ éœ€è¦è®¾è®¡ä¸€ä¸ªç®—æ³•æ¥å®ç°äºŒå‰æ ‘çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–ã€‚è¿™é‡Œä¸é™å®šä½ çš„åºåˆ— &#x2F; ååºåˆ—åŒ–ç®—æ³•æ‰§è¡Œé€»è¾‘ï¼Œä½ åªéœ€è¦ä¿è¯ä¸€ä¸ªäºŒå‰æ ‘å¯ä»¥è¢«åºåˆ—åŒ–ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²å¹¶ä¸”å°†è¿™ä¸ªå­—ç¬¦ä¸²ååºåˆ—åŒ–ä¸ºåŸå§‹çš„æ ‘ç»“æ„ã€‚</p>
<p><strong>æç¤ºï¼š</strong>è¾“å…¥è¾“å‡ºæ ¼å¼ä¸ LeetCode ç›®å‰ä½¿ç”¨çš„æ–¹å¼ä¸€è‡´ï¼Œè¯¦æƒ…è¯·å‚é˜… <a target="_blank" rel="noopener" href="https://support.leetcode-cn.com/hc/kb/article/1567641/">LeetCode åºåˆ—åŒ–äºŒå‰æ ‘çš„æ ¼å¼</a>ã€‚ä½ å¹¶éå¿…é¡»é‡‡å–è¿™ç§æ–¹å¼ï¼Œä½ ä¹Ÿå¯ä»¥é‡‡ç”¨å…¶ä»–çš„æ–¹æ³•è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/serdeser.jpg" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šroot = [1,2,3,null,null,4,5]</span><br><span class="line">è¾“å‡ºï¼š[1,2,3,null,null,4,5]</span><br></pre></td></tr></table></figure>



<p>æ³¨æ„ï¼šæœ¬é¢˜ä¸ä¸»ç«™ 297 é¢˜ç›¸åŒï¼š<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/serialize-and-deserialize-binary-tree/">https://leetcode-cn.com/problems/serialize-and-deserialize-binary-tree/</a></p>
<p>Related Topics</p>
<p>æ ‘</p>
<p>æ·±åº¦ä¼˜å…ˆæœç´¢</p>
<p>å¹¿åº¦ä¼˜å…ˆæœç´¢</p>
<p>è®¾è®¡</p>
<p>å­—ç¬¦ä¸²</p>
<p>äºŒå‰æ ‘</p>
<p>ğŸ‘ 360</p>
<p>ğŸ‘ 0</p>
<p><strong>å¯¹åºåˆ—åŒ–çš„ç†è§£</strong>ï¼š</p>
<p>é€šå¸¸ä½¿ç”¨çš„å‰åºã€ä¸­åºã€ååºã€å±‚åºéå†è®°å½•çš„äºŒå‰æ ‘çš„ä¿¡æ¯ä¸å®Œæ•´ï¼Œä¸€ç§è¾“å‡ºåºåˆ—å¯èƒ½å¯¹åº”ç€å¤šç§äºŒå‰æ ‘å¯èƒ½æ€§ã€‚é¢˜ç›®è¦æ±‚çš„ åºåˆ—åŒ– å’Œ ååºåˆ—åŒ– æ˜¯ å¯é€†æ“ä½œ ã€‚å› æ­¤ï¼Œåºåˆ—åŒ–çš„å­—ç¬¦ä¸²åº”æºå¸¦ å®Œæ•´çš„äºŒå‰æ ‘ä¿¡æ¯ ã€‚</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>è§‚å¯Ÿé¢˜ç›®ç¤ºä¾‹ï¼Œåºåˆ—åŒ–çš„å­—ç¬¦ä¸²å®é™…ä¸Šæ˜¯äºŒå‰æ ‘çš„ â€œå±‚åºéå†â€ï¼ˆBFSï¼‰ç»“æœï¼Œåªä¸è¿‡æŠŠnullå€¼ä¹Ÿè¾“å‡ºäº†ã€‚</p>
<p>ä¸ºå®Œæ•´è¡¨ç¤ºäºŒå‰æ ‘ï¼Œè€ƒè™‘å°†å¶èŠ‚ç‚¹ä¸‹çš„ null ä¹Ÿè®°å½•ã€‚åœ¨æ­¤åŸºç¡€ä¸Šï¼Œå¯¹äºåˆ—è¡¨ä¸­ä»»æ„æŸèŠ‚ç‚¹ node ï¼Œå…¶å·¦å­èŠ‚ç‚¹ node.left å’Œå³å­èŠ‚ç‚¹ node.right åœ¨åºåˆ—ä¸­çš„ä½ç½®éƒ½æ˜¯ å”¯ä¸€ç¡®å®š çš„ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1603117385-ehAGsP-Picture1.png" alt="Picture1.png"></p>
<p>è§„å¾‹å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/image-20221122100451955-16690827032166.png" alt="image-20221122100451955"></p>
<p><strong>åŒºåˆ«äºå®Œå…¨äºŒå‰æ ‘çš„ç´¢å¼•è§„åˆ™ï¼ŒnullèŠ‚ç‚¹ä¸åœ¨å‘ä¸‹è®°å½•ç´¢å¼•ï¼Œæ‰€ä»¥ç´¢å¼•çš„è§„å¾‹å¦‚ä¸‹æ‰€ç¤º</strong>ï¼š</p>
<p>è®¾ mä¸ºåˆ—è¡¨åŒºé—´ [0, n]ä¸­çš„ <code>null</code> èŠ‚ç‚¹ä¸ªæ•°ï¼Œåˆ™å¯æ€»ç»“å‡ºæ ¹èŠ‚ç‚¹ã€å·¦å­èŠ‚ç‚¹ã€å³å­èŠ‚ç‚¹çš„åˆ—è¡¨ç´¢å¼•çš„é€’æ¨å…¬å¼ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/image-20221122100713320.png" alt="image-20221122100713320"></p>
<p>åºåˆ—åŒ– ä½¿ç”¨å±‚åºéå†å®ç°ã€‚ååºåˆ—åŒ– é€šè¿‡ä»¥ä¸Šé€’æ¨å…¬å¼åæ¨å„èŠ‚ç‚¹åœ¨åºåˆ—ä¸­çš„ç´¢å¼•ï¼Œè¿›è€Œå®ç°ã€‚</p>
<p><code>åºåˆ—åŒ– Serialize </code>ï¼š<br>å€ŸåŠ©é˜Ÿåˆ—ï¼Œå¯¹äºŒå‰æ ‘åšå±‚åºéå†ï¼Œå¹¶å°†è¶Šè¿‡å¶èŠ‚ç‚¹çš„ null ä¹Ÿæ‰“å°å‡ºæ¥ã€‚</p>
<p><strong>ç®—æ³•æµç¨‹</strong>ï¼š</p>
<ol>
<li>ç‰¹ä¾‹å¤„ç†ï¼š è‹¥ root ä¸ºç©ºï¼Œåˆ™ç›´æ¥è¿”å›ç©ºåˆ—è¡¨ â€œ[]â€ ï¼›</li>
<li>åˆå§‹åŒ–ï¼š é˜Ÿåˆ— queue ï¼ˆåŒ…å«æ ¹èŠ‚ç‚¹ root ï¼‰ï¼›åºåˆ—åŒ–åˆ—è¡¨ res ï¼›</li>
<li>å±‚åºéå†ï¼š å½“ queue ä¸ºç©ºæ—¶è·³å‡ºï¼›<ol>
<li>èŠ‚ç‚¹å‡ºé˜Ÿï¼Œè®°ä¸º node ï¼›</li>
<li>è‹¥ node ä¸ä¸ºç©ºï¼šâ‘  æ‰“å°å­—ç¬¦ä¸² node.val ï¼Œâ‘¡ å°†å·¦ã€å³å­èŠ‚ç‚¹åŠ å…¥ queue ï¼›</li>
<li>å¦åˆ™ï¼ˆè‹¥ node ä¸ºç©ºï¼‰ï¼šæ‰“å°å­—ç¬¦ä¸² â€œnullâ€ ï¼›</li>
</ol>
</li>
<li>è¿”å›å€¼ï¼š æ‹¼æ¥åˆ—è¡¨ï¼Œç”¨ â€˜,â€™ éš”å¼€ï¼Œé¦–å°¾æ·»åŠ ä¸­æ‹¬å·ï¼›</li>
</ol>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(N)ï¼š N ä¸ºäºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°ï¼Œå±‚åºéå†éœ€è¦è®¿é—®æ‰€æœ‰èŠ‚ç‚¹ï¼Œæœ€å·®æƒ…å†µä¸‹éœ€è¦è®¿é—® N + 1 ä¸ª null ï¼Œæ€»ä½“å¤æ‚åº¦ä¸º O(2N + 1) &#x3D; O(N)</li>
<li>ç©ºé—´å¤æ‚åº¦ O(N)ï¼š æœ€å·®æƒ…å†µä¸‹ï¼Œé˜Ÿåˆ— queue åŒæ—¶å­˜å‚¨ N+1&#x2F;2ä¸ªèŠ‚ç‚¹ï¼ˆæˆ– N+1ä¸ª null ï¼‰ï¼Œä½¿ç”¨ O(N)ï¼›åˆ—è¡¨ res ä½¿ç”¨ O(N)</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1603117385-ZrhoFK-Picture5.png" alt="img"></p>
<p><code>ååºåˆ—åŒ– Deserialize</code> ï¼š<br>åŸºäºæœ¬æ–‡å¼€å§‹æ¨å‡ºçš„ node , node.left , node.right åœ¨åºåˆ—åŒ–åˆ—è¡¨ä¸­çš„ä½ç½®å…³ç³»ï¼Œå¯å®ç°ååºåˆ—åŒ–ã€‚</p>
<p>åˆ©ç”¨é˜Ÿåˆ—æŒ‰å±‚æ„å»ºäºŒå‰æ ‘ï¼Œå€ŸåŠ©ä¸€ä¸ªæŒ‡é’ˆ i æŒ‡å‘èŠ‚ç‚¹ node çš„å·¦ã€å³å­èŠ‚ç‚¹ï¼Œæ¯æ„å»ºä¸€ä¸ª node çš„å·¦ã€å³å­èŠ‚ç‚¹ï¼ŒæŒ‡é’ˆ i å°±å‘å³ç§»åŠ¨ 1 ä½ã€‚</p>
<p><strong>ç®—æ³•æµç¨‹ï¼š</strong></p>
<ol>
<li>ç‰¹ä¾‹å¤„ç†ï¼š è‹¥ data ä¸ºç©ºï¼Œç›´æ¥è¿”å› null ï¼›</li>
<li>åˆå§‹åŒ–ï¼š åºåˆ—åŒ–åˆ—è¡¨ vals ï¼ˆå…ˆå»æ‰é¦–å°¾ä¸­æ‹¬å·ï¼Œå†ç”¨é€—å·éš”å¼€ï¼‰ï¼ŒæŒ‡é’ˆ i &#x3D; 1 ï¼Œæ ¹èŠ‚ç‚¹ root ï¼ˆå€¼ä¸º vals[0] ï¼‰ï¼Œé˜Ÿåˆ— queueï¼ˆåŒ…å« root ï¼‰ï¼›</li>
<li>æŒ‰å±‚æ„å»ºï¼š å½“ queue ä¸ºç©ºæ—¶è·³å‡ºï¼›<ol>
<li>èŠ‚ç‚¹å‡ºé˜Ÿï¼Œè®°ä¸º node ï¼›</li>
<li>æ„å»º node çš„å·¦å­èŠ‚ç‚¹ï¼šnode.left çš„å€¼ä¸º vals[i] ï¼Œå¹¶å°† node.left å…¥é˜Ÿï¼›</li>
<li>æ‰§è¡Œ i +&#x3D; 1 ï¼›</li>
<li>æ„å»º node çš„å³å­èŠ‚ç‚¹ï¼šnode.right çš„å€¼ä¸º vals[i] ï¼Œå¹¶å°† node.right å…¥é˜Ÿï¼›</li>
<li>æ‰§è¡Œ i +&#x3D; 1 ï¼›</li>
</ol>
</li>
<li>è¿”å›å€¼ï¼š è¿”å›æ ¹èŠ‚ç‚¹ root å³å¯ï¼›</li>
</ol>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(N) ï¼š N ä¸ºäºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°ï¼ŒæŒ‰å±‚æ„å»ºäºŒå‰æ ‘éœ€è¦éå†æ•´ä¸ªvals ï¼Œå…¶é•¿åº¦æœ€å¤§ä¸º 2N+1 ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(N) ï¼š æœ€å·®æƒ…å†µä¸‹ï¼Œé˜Ÿåˆ— queue åŒæ—¶å­˜å‚¨ n+1&#x2F;2ä¸ªèŠ‚ç‚¹ï¼Œå› æ­¤ä½¿ç”¨ O(N) é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Encodes a tree to a single string.</span></span><br><span class="line"><span class="comment">// åºåˆ—åŒ–äºŒå‰æ ‘</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">serialize</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) <span class="keyword">return</span> <span class="string">&quot;[]&quot;</span>;</span><br><span class="line">    <span class="type">StringBuilder</span> <span class="variable">res</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>(<span class="string">&quot;[&quot;</span>);</span><br><span class="line">    Queue&lt;TreeNode&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    queue.add(root);<span class="comment">// åŠ å…¥å¤´èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">size</span> <span class="operator">=</span> queue.size();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">            <span class="type">TreeNode</span> <span class="variable">tmp</span> <span class="operator">=</span> queue.poll();</span><br><span class="line">            <span class="keyword">if</span> (tmp != <span class="literal">null</span>) &#123;</span><br><span class="line">                res.append(tmp.val).append(<span class="string">&quot;,&quot;</span>);</span><br><span class="line">                <span class="comment">// ä¹‹å‰BFSæ˜¯è·³è¿‡ç©ºèŠ‚ç‚¹çš„</span></span><br><span class="line">                queue.add(tmp.left);</span><br><span class="line">                queue.add(tmp.right);</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                res.append(<span class="string">&quot;null,&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    res.deleteCharAt(res.length() - <span class="number">1</span>);<span class="comment">// åˆ é™¤æœ€åä¸€ä¸ª&quot;,&quot;</span></span><br><span class="line">    res.append(<span class="string">&quot;]&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> res.toString();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Decodes your encoded data to tree.</span></span><br><span class="line"><span class="comment">// ååºåˆ—åŒ–</span></span><br><span class="line"><span class="keyword">public</span> TreeNode <span class="title function_">deserialize</span><span class="params">(String data)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (data.equals(<span class="string">&quot;[]&quot;</span>)) <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    String[] vals = data.substring(<span class="number">1</span>, data.length() - <span class="number">1</span>).split(<span class="string">&quot;,&quot;</span>); <span class="comment">// åˆ‡æ‰[] å’Œ,</span></span><br><span class="line">    Queue&lt;TreeNode&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    <span class="type">TreeNode</span> <span class="variable">root</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TreeNode</span>(Integer.parseInt(vals[<span class="number">0</span>]));</span><br><span class="line">    queue.add(root);</span><br><span class="line">    <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">        <span class="comment">// ä¸å¼ºè°ƒåˆ†å±‚çš„è¯ å¯ä»¥ä¸ç”¨sizeéå†</span></span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">tmp</span> <span class="operator">=</span> queue.poll();</span><br><span class="line">        <span class="keyword">if</span> (!vals[i].equals(<span class="string">&quot;null&quot;</span>)) &#123; <span class="comment">// å¤„ç†å·¦èŠ‚ç‚¹</span></span><br><span class="line">            tmp.left = <span class="keyword">new</span> <span class="title class_">TreeNode</span>(Integer.parseInt(vals[i]));</span><br><span class="line">            queue.add(tmp.left);</span><br><span class="line">        &#125;</span><br><span class="line">        i++;</span><br><span class="line">        <span class="keyword">if</span> (!vals[i].equals(<span class="string">&quot;null&quot;</span>)) &#123; <span class="comment">// å¤„ç†å³èŠ‚ç‚¹</span></span><br><span class="line">            tmp.right = <span class="keyword">new</span> <span class="title class_">TreeNode</span>(Integer.parseInt(vals[i]));</span><br><span class="line">            queue.add(tmp.right);</span><br><span class="line">        &#125;</span><br><span class="line">        i++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="8-12ã€å‰‘æŒ‡-Offer-38-å­—ç¬¦ä¸²çš„æ’åˆ—"><a href="#8-12ã€å‰‘æŒ‡-Offer-38-å­—ç¬¦ä¸²çš„æ’åˆ—" class="headerlink" title="8.12ã€å‰‘æŒ‡ Offer 38. å­—ç¬¦ä¸²çš„æ’åˆ—"></a>8.12ã€å‰‘æŒ‡ Offer 38. å­—ç¬¦ä¸²çš„æ’åˆ—</h3><p>è¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ‰“å°å‡ºè¯¥å­—ç¬¦ä¸²ä¸­å­—ç¬¦çš„æ‰€æœ‰æ’åˆ—ã€‚</p>
<p>ä½ å¯ä»¥ä»¥ä»»æ„é¡ºåºè¿”å›è¿™ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œä½†é‡Œé¢ä¸èƒ½æœ‰é‡å¤å…ƒç´ ã€‚</p>
<p><strong>ç¤ºä¾‹:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;abc&quot;</span><br><span class="line">è¾“å‡ºï¼š[&quot;abc&quot;,&quot;acb&quot;,&quot;bac&quot;,&quot;bca&quot;,&quot;cab&quot;,&quot;cba&quot;]</span><br></pre></td></tr></table></figure>



<p><strong>é™åˆ¶ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1 &lt;= s çš„é•¿åº¦ &lt;= 8</span><br></pre></td></tr></table></figure>

<p>Related Topics</p>
<p>å­—ç¬¦ä¸²</p>
<p>å›æº¯</p>
<p>ğŸ‘ 617</p>
<p>ğŸ‘ 0</p>
<p>è§£é¢˜æ€è·¯ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/image-20221123155128395.png" alt="image-20221123155128395"></p>
<p>æ•´ä½“ä¸Šæ˜¯æŠŠå®ƒçœ‹æˆä¸€ä¸ªå®Œå…¨äºŒå‰æ ‘æ¥è§„å®šè¯¥å­—ç¬¦é€‰è¿˜æ˜¯ä¸é€‰ã€‚æ•´ä½“çš„ç»“æ„æ˜¯ä¸€ä¸ªæ’åˆ—æ ‘ï¼ˆç»“æœä¸é¡ºåºæœ‰å…³ï¼‰ï¼Œæ‰€ä»¥éå†æ—¶è¦ä»å¤´éå†ï¼Œéå†è¿‡ç¨‹ä¸­ç”¨usedæ•°ç»„è¿›è¡Œè®°å½•ã€‚å› ä¸ºæœ‰å¯èƒ½ä¼šæœ‰é‡å¤ç»“æœï¼Œè¿™é‡Œç”¨HashSetè¿›è¡Œå»é‡ã€‚</p>
<ol>
<li>å½“æœç´¢åˆ°å¶å­èŠ‚ç‚¹å°±è¿›è¡Œè®°å½•ã€‚æ‰¾åˆ°äº†ä¸€ä¸ªç»“æœï¼ŒåŠ å…¥åˆ°setä¸­ã€‚</li>
<li>éå†æ—¶ï¼Œé€šè¿‡usedæ•°ç»„è¿›è¡Œå‰ªæã€‚</li>
</ol>
<p>code:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">Set&lt;String&gt; res; <span class="comment">// è®°å½•ç»“æœé›† é¡ºä¾¿ç”¨HashSetå»é‡</span></span><br><span class="line">StringBuilder path; <span class="comment">// è·¯å¾„ ç”¨StringBuilder</span></span><br><span class="line"><span class="keyword">public</span> String[] permutation(String s) &#123;</span><br><span class="line">    <span class="type">char</span>[] chars = s.toCharArray();</span><br><span class="line">    res = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">    path = <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">    <span class="type">boolean</span>[] used = <span class="keyword">new</span> <span class="title class_">boolean</span>[s.length()];<span class="comment">// è®°å½•æœ‰æ²¡æœ‰éå†è¿‡</span></span><br><span class="line">    backtracking(chars, used);</span><br><span class="line">    <span class="keyword">return</span> res.toArray(<span class="keyword">new</span> <span class="title class_">String</span>[<span class="number">0</span>]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">backtracking</span><span class="params">(<span class="type">char</span>[] chars, <span class="type">boolean</span>[] used)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (path.length() == chars.length) &#123; <span class="comment">// å·²ç»æœç´¢åˆ°æ ¹äº†ï¼Œè®°å½•</span></span><br><span class="line">        res.add(path.toString());</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; chars.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!used[i]) &#123;</span><br><span class="line">            path.append(chars[i]);</span><br><span class="line">            used[i] = <span class="literal">true</span>;</span><br><span class="line">            backtracking(chars, used);</span><br><span class="line">            used[i] = <span class="literal">false</span>;</span><br><span class="line">            path.deleteCharAt(path.length() - <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="8-13ã€å‰‘æŒ‡-Offer-54-äºŒå‰æœç´¢æ ‘çš„ç¬¬-k-å¤§èŠ‚ç‚¹"><a href="#8-13ã€å‰‘æŒ‡-Offer-54-äºŒå‰æœç´¢æ ‘çš„ç¬¬-k-å¤§èŠ‚ç‚¹" class="headerlink" title="8.13ã€å‰‘æŒ‡ Offer 54. äºŒå‰æœç´¢æ ‘çš„ç¬¬ k å¤§èŠ‚ç‚¹"></a>8.13ã€å‰‘æŒ‡ Offer 54. äºŒå‰æœç´¢æ ‘çš„ç¬¬ k å¤§èŠ‚ç‚¹</h3><p>ç»™å®šä¸€æ£µäºŒå‰æœç´¢æ ‘ï¼Œè¯·æ‰¾å‡ºå…¶ä¸­ç¬¬ <code>k</code> å¤§çš„èŠ‚ç‚¹çš„å€¼ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: root = [3,1,4,null,2], k = 1</span><br><span class="line">   3</span><br><span class="line">  / \</span><br><span class="line"> 1   4</span><br><span class="line">  \</span><br><span class="line">   2</span><br><span class="line">è¾“å‡º: 4</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: root = [5,3,6,2,4,null,null,1], k = 3</span><br><span class="line">       5</span><br><span class="line">      / \</span><br><span class="line">     3   6</span><br><span class="line">    / \</span><br><span class="line">   2   4</span><br><span class="line">  /</span><br><span class="line"> 1</span><br><span class="line">è¾“å‡º: 4</span><br></pre></td></tr></table></figure>



<p><strong>é™åˆ¶ï¼š</strong></p>
<ul>
<li>1 â‰¤ k â‰¤ äºŒå‰æœç´¢æ ‘å…ƒç´ ä¸ªæ•°</li>
</ul>
<p>Related Topics</p>
<p>æ ‘</p>
<p>æ·±åº¦ä¼˜å…ˆæœç´¢</p>
<p>äºŒå‰æœç´¢æ ‘</p>
<p>äºŒå‰æ ‘</p>
<p>ğŸ‘ 344</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>è¦çŸ¥é“äºŒå‰æœç´¢æ ‘çš„æ€§è´¨ï¼Œå³ä¸­åºéå†æ˜¯ä¸€ä¸ªæœ‰åºçš„é›†åˆ,é¡ºåºæ˜¯å‡åºçš„ï¼Œé™åºçš„è¯å°±æ˜¯é€†å‘çš„ä¸­åºéå†ã€‚</p>
<ol>
<li>éå†é¡ºåºï¼šé‡‡ç”¨é€†å‘ä¸­åºéå†ã€‚åœ¨ä¸­é—´èŠ‚ç‚¹è®©è®°å½•å½“å‰çš„éå†æ¬¡æ•°countâ€“</li>
<li>ç»ˆæ­¢æ¡ä»¶ï¼šcount&#x3D;0ï¼Œå³æ‰¾åˆ°äº†å½“å‰ç¬¬kå¤§çš„æ•°ï¼Œè¿”å›</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> res;</span><br><span class="line"><span class="type">int</span> count;</span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">kthLargest</span><span class="params">(TreeNode root, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">    count = k;</span><br><span class="line">    recur(root);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">recur</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) <span class="keyword">return</span>;</span><br><span class="line">    recur(root.right); <span class="comment">// å³</span></span><br><span class="line">    <span class="keyword">if</span> (--count == <span class="number">0</span>) &#123;</span><br><span class="line">        res = root.val;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125; <span class="comment">// ä¸­</span></span><br><span class="line">    recur(root.left); <span class="comment">// å·¦</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="8-14ã€å‰‘æŒ‡-Offer-55-I-äºŒå‰æ ‘çš„æ·±åº¦"><a href="#8-14ã€å‰‘æŒ‡-Offer-55-I-äºŒå‰æ ‘çš„æ·±åº¦" class="headerlink" title="8.14ã€å‰‘æŒ‡ Offer 55 - I. äºŒå‰æ ‘çš„æ·±åº¦"></a>8.14ã€å‰‘æŒ‡ Offer 55 - I. äºŒå‰æ ‘çš„æ·±åº¦</h3><p>è¾“å…¥ä¸€æ£µäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ï¼Œæ±‚è¯¥æ ‘çš„æ·±åº¦ã€‚ä»æ ¹èŠ‚ç‚¹åˆ°å¶èŠ‚ç‚¹ä¾æ¬¡ç»è¿‡çš„èŠ‚ç‚¹ï¼ˆå«æ ¹ã€å¶èŠ‚ç‚¹ï¼‰å½¢æˆæ ‘çš„ä¸€æ¡è·¯å¾„ï¼Œæœ€é•¿è·¯å¾„çš„é•¿åº¦ä¸ºæ ‘çš„æ·±åº¦ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<p>ç»™å®šäºŒå‰æ ‘ <code>[3,9,20,null,null,15,7]</code>ï¼Œ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">  3</span><br><span class="line"> / \</span><br><span class="line">9  20</span><br><span class="line">  /  \</span><br><span class="line"> 15   7</span><br></pre></td></tr></table></figure>

<p>è¿”å›å®ƒçš„æœ€å¤§æ·±åº¦ 3 ã€‚</p>
<p><strong>æç¤ºï¼š</strong></p>
<ol>
<li><code>èŠ‚ç‚¹æ€»æ•° &lt;= 10000</code></li>
</ol>
<p>æ³¨æ„ï¼šæœ¬é¢˜ä¸ä¸»ç«™ 104 é¢˜ç›¸åŒï¼š<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/maximum-depth-of-binary-tree/">https://leetcode-cn.com/problems/maximum-depth-of-binary-tree/</a></p>
<p>Related Topics</p>
<p>æ ‘</p>
<p>æ·±åº¦ä¼˜å…ˆæœç´¢</p>
<p>å¹¿åº¦ä¼˜å…ˆæœç´¢</p>
<p>äºŒå‰æ ‘</p>
<p>ğŸ‘ 218</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<ol>
<li><p>ç¡®å®šéå†é¡ºåºã€‚</p>
<p>è¿™é“é¢˜ä½¿ç”¨DFSå’ŒBFSéƒ½æ˜¯å¯ä»¥è§£å†³çš„ã€‚</p>
</li>
<li><p>DFSæ—¶ï¼Œä»ä¸‹å¾€ä¸Šå›æº¯ï¼Œååºéå†ã€‚</p>
</li>
<li><p>BFSæ—¶ï¼Œæ­£å¥½èƒ½é€šè¿‡sizeæ¥è®°å½•æ¯ä¸€æ’çš„ä¸ªæ•°ã€‚</p>
</li>
</ol>
<p>æ·±åº¦ä¼˜å…ˆéå†ï¼ˆååºï¼‰ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1603024336-lXVRDd-Picture1.png" alt="Picture1.png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxDepth</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123; <span class="comment">// é€’å½’ç»ˆæ­¢æ¡ä»¶</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> <span class="variable">leftH</span> <span class="operator">=</span> maxDepth(root.left);<span class="comment">// å·¦æ ‘é«˜åº¦</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">rightH</span> <span class="operator">=</span> maxDepth(root.right);<span class="comment">// å³æ ‘é«˜åº¦</span></span><br><span class="line">    <span class="keyword">return</span> Math.max(leftH, rightH) + <span class="number">1</span>;<span class="comment">//ä¸¤æ£µæ ‘çš„æœ€å¤§é«˜åº¦ + å½“å‰èŠ‚ç‚¹</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š	</p>
<p>æ—¶é—´å¤æ‚åº¦ O(N) ï¼š N ä¸ºæ ‘çš„èŠ‚ç‚¹æ•°é‡ï¼Œè®¡ç®—æ ‘çš„æ·±åº¦éœ€è¦éå†æ‰€æœ‰èŠ‚ç‚¹ã€‚<br>ç©ºé—´å¤æ‚åº¦ O(N) ï¼š æœ€å·®æƒ…å†µä¸‹ï¼ˆå½“æ ‘é€€åŒ–ä¸ºé“¾è¡¨æ—¶ï¼‰ï¼Œé€’å½’æ·±åº¦å¯è¾¾åˆ° N ã€‚</p>
<hr>
<p>å±‚åºéå†ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1603024336-EXcbJg-Picture15.png" alt="img"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxDepth2</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="literal">null</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    Queue&lt;TreeNode&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    queue.add(root);</span><br><span class="line">    <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">size</span> <span class="operator">=</span> queue.size();</span><br><span class="line">        count++;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">            <span class="type">TreeNode</span> <span class="variable">tmp</span> <span class="operator">=</span> queue.poll();</span><br><span class="line">            <span class="keyword">if</span> (tmp.left != <span class="literal">null</span>) &#123;</span><br><span class="line">                queue.add(tmp.left);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (tmp.right != <span class="literal">null</span>) &#123;</span><br><span class="line">                queue.add(tmp.right);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š<br>æ—¶é—´å¤æ‚åº¦ O(N) ï¼š N ä¸ºæ ‘çš„èŠ‚ç‚¹æ•°é‡ï¼Œè®¡ç®—æ ‘çš„æ·±åº¦éœ€è¦éå†æ‰€æœ‰èŠ‚ç‚¹ã€‚<br>ç©ºé—´å¤æ‚åº¦ O(N) ï¼š æœ€å·®æƒ…å†µä¸‹ï¼ˆå½“æ ‘å¹³è¡¡æ—¶ï¼‰ï¼Œé˜Ÿåˆ— queue åŒæ—¶å­˜å‚¨ N&#x2F;2 ä¸ªèŠ‚ç‚¹ã€‚</p>
<h3 id="8-15ã€å‰‘æŒ‡-Offer-55-II-å¹³è¡¡äºŒå‰æ ‘"><a href="#8-15ã€å‰‘æŒ‡-Offer-55-II-å¹³è¡¡äºŒå‰æ ‘" class="headerlink" title="8.15ã€å‰‘æŒ‡ Offer 55 - II. å¹³è¡¡äºŒå‰æ ‘"></a>8.15ã€å‰‘æŒ‡ Offer 55 - II. å¹³è¡¡äºŒå‰æ ‘</h3><p>è¾“å…¥ä¸€æ£µäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ï¼Œåˆ¤æ–­è¯¥æ ‘æ˜¯ä¸æ˜¯å¹³è¡¡äºŒå‰æ ‘ã€‚å¦‚æœæŸäºŒå‰æ ‘ä¸­ä»»æ„èŠ‚ç‚¹çš„å·¦å³å­æ ‘çš„æ·±åº¦ç›¸å·®ä¸è¶…è¿‡1ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯ä¸€æ£µå¹³è¡¡äºŒå‰æ ‘ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<p>ç»™å®šäºŒå‰æ ‘ <code>[3,9,20,null,null,15,7]</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">  3</span><br><span class="line"> / \</span><br><span class="line">9  20</span><br><span class="line">  /  \</span><br><span class="line"> 15   7</span><br></pre></td></tr></table></figure>

<p>è¿”å› <code>true</code> ã€‚</p>
<p><strong>ç¤ºä¾‹ 2:</strong></p>
<p>ç»™å®šäºŒå‰æ ‘ <code>[1,2,2,3,3,null,null,4,4]</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">      1</span><br><span class="line">     / \</span><br><span class="line">    2   2</span><br><span class="line">   / \</span><br><span class="line">  3   3</span><br><span class="line"> / \</span><br><span class="line">4   4</span><br></pre></td></tr></table></figure>

<p>è¿”å› <code>false</code> ã€‚</p>
<p><strong>é™åˆ¶ï¼š</strong></p>
<ul>
<li><code>0 &lt;= æ ‘çš„ç»“ç‚¹ä¸ªæ•° &lt;= 10000</code></li>
</ul>
<p>æ³¨æ„ï¼šæœ¬é¢˜ä¸ä¸»ç«™ 110 é¢˜ç›¸åŒï¼š<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/balanced-binary-tree/">https://leetcode-cn.com/problems/balanced-binary-tree/</a></p>
<p>Related Topics</p>
<p>æ ‘</p>
<p>æ·±åº¦ä¼˜å…ˆæœç´¢</p>
<p>äºŒå‰æ ‘</p>
<p>ğŸ‘ 322</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>å¹³è¡¡äºŒå‰æ ‘çš„æ€§è´¨ï¼šå¦‚æœæŸäºŒå‰æ ‘ä¸­ä»»æ„èŠ‚ç‚¹çš„å·¦å³å­æ ‘çš„æ·±åº¦ç›¸å·®ä¸è¶…è¿‡1ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯ä¸€æ£µå¹³è¡¡äºŒå‰æ ‘ã€‚</p>
<hr>
<p>å…ˆåºéå† + åˆ¤æ–­æ·±åº¦ ï¼ˆä»é¡¶è‡³åº•):</p>
<p>å¯ä»¥å¯¹æ¯ä¸€ä¸ªèŠ‚ç‚¹éƒ½ç”¨è®¡ç®—äºŒå‰æ ‘é«˜åº¦ï¼Œå¦‚æœå·¦å³å­æ ‘æ·±åº¦å·®è¶…è¿‡1ï¼Œå°±è¿”å›false.</p>
<ol>
<li>ç¡®å®šéå†é¡ºåºï¼šå…ˆåºéå†</li>
<li>å¯¹ä¸­çš„èŠ‚ç‚¹çš„å·¦å³å­©å­æ±‚æ·±åº¦ï¼Œåˆ¤æ–­æ·±åº¦å·®æ˜¯å¦æ»¡è¶³è¦æ±‚ã€‚</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isBalanced</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">leftH</span> <span class="operator">=</span> maxDepth(root.left);<span class="comment">// å·¦å­æ ‘é«˜åº¦</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">rightH</span> <span class="operator">=</span> maxDepth(root.right);<span class="comment">// å³å­æ ‘é«˜åº¦</span></span><br><span class="line">    <span class="keyword">if</span> (Math.abs(leftH - rightH) &lt;= <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">flag1</span> <span class="operator">=</span> isBalanced(root.left);</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">flag2</span> <span class="operator">=</span> isBalanced(root.right);</span><br><span class="line">        <span class="keyword">return</span> flag1 &amp;&amp; flag2;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="type">int</span> <span class="title function_">maxDepth</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123; <span class="comment">// é€’å½’ç»ˆæ­¢æ¡ä»¶</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> <span class="variable">leftH</span> <span class="operator">=</span> maxDepth(root.left);<span class="comment">// å·¦æ ‘é«˜åº¦</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">rightH</span> <span class="operator">=</span> maxDepth(root.right);<span class="comment">// å³æ ‘é«˜åº¦</span></span><br><span class="line">    <span class="keyword">return</span> Math.max(leftH, rightH) + <span class="number">1</span>;<span class="comment">//ä¸¤æ£µæ ‘çš„æœ€å¤§é«˜åº¦ + å½“å‰èŠ‚ç‚¹</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1603024695-uuegMD-Picture17.png" alt="img"></p>
<p>ååºéå† + å‰ªæ ï¼ˆä»åº•è‡³é¡¶ï¼‰:</p>
<blockquote>
<p>æ­¤æ–¹æ³•ä¸ºæœ¬é¢˜çš„æœ€ä¼˜è§£æ³•ï¼Œä½†å‰ªæçš„æ–¹æ³•ä¸æ˜“ç¬¬ä¸€æ—¶é—´æƒ³åˆ°ã€‚</p>
</blockquote>
<p>æ€è·¯æ˜¯å¯¹äºŒå‰æ ‘åšååºéå†ï¼Œä»åº•è‡³é¡¶è¿”å›å­æ ‘æ·±åº¦ï¼Œè‹¥åˆ¤å®šæŸå­æ ‘ä¸æ˜¯å¹³è¡¡æ ‘åˆ™ â€œå‰ªæâ€ ï¼Œç›´æ¥å‘ä¸Šè¿”å›ã€‚</p>
<p>recur(root) å‡½æ•°ï¼š</p>
<ol>
<li>è¿”å›å€¼ï¼š<ol>
<li>å½“èŠ‚ç‚¹root å·¦ &#x2F; å³å­æ ‘çš„æ·±åº¦å·®â‰¤1 ï¼šåˆ™è¿”å›å½“å‰å­æ ‘çš„æ·±åº¦ï¼Œå³èŠ‚ç‚¹ root çš„å·¦ &#x2F; å³å­æ ‘çš„æ·±åº¦æœ€å¤§å€¼ +1ï¼ˆ max(left, right) + 1 ï¼‰ï¼›</li>
<li>å½“èŠ‚ç‚¹root å·¦ &#x2F; å³å­æ ‘çš„æ·±åº¦å·® &gt;1 ï¼šåˆ™è¿”å› âˆ’1 ï¼Œä»£è¡¨ æ­¤å­æ ‘ä¸æ˜¯å¹³è¡¡æ ‘ ã€‚</li>
</ol>
</li>
<li>ç»ˆæ­¢æ¡ä»¶ï¼š<ol>
<li>å½“ root ä¸ºç©ºï¼šè¯´æ˜è¶Šè¿‡å¶èŠ‚ç‚¹ï¼Œå› æ­¤è¿”å›é«˜åº¦ 0 ï¼›</li>
<li>å½“å·¦ï¼ˆå³ï¼‰å­æ ‘æ·±åº¦ä¸º âˆ’1 ï¼šä»£è¡¨æ­¤æ ‘çš„ å·¦ï¼ˆå³ï¼‰å­æ ‘ ä¸æ˜¯å¹³è¡¡æ ‘ï¼Œå› æ­¤å‰ªæï¼Œç›´æ¥è¿”å› âˆ’1 ï¼›</li>
</ol>
</li>
</ol>
<p>isBalanced(root) å‡½æ•°ï¼š</p>
<ol>
<li>è¿”å›å€¼ï¼š è‹¥ recur(root) !&#x3D; -1 ï¼Œåˆ™è¯´æ˜æ­¤æ ‘å¹³è¡¡ï¼Œè¿”å› truetrue ï¼› å¦åˆ™è¿”å› falsefalse ã€‚</li>
</ol>
<p>å¤æ‚åº¦åˆ†æï¼š<br>æ—¶é—´å¤æ‚åº¦ O(N)ï¼š N ä¸ºæ ‘çš„èŠ‚ç‚¹æ•°ï¼›æœ€å·®æƒ…å†µä¸‹ï¼Œéœ€è¦é€’å½’éå†æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹ã€‚<br>ç©ºé—´å¤æ‚åº¦ O(N)ï¼š æœ€å·®æƒ…å†µä¸‹ï¼ˆæ ‘é€€åŒ–ä¸ºé“¾è¡¨æ—¶ï¼‰ï¼Œç³»ç»Ÿé€’å½’éœ€è¦ä½¿ç”¨ O(N) çš„æ ˆç©ºé—´ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isBalanced</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> recur(root) != -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">recur</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> recur(root.left);</span><br><span class="line">        <span class="keyword">if</span>(left == -<span class="number">1</span>) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> recur(root.right);</span><br><span class="line">        <span class="keyword">if</span>(right == -<span class="number">1</span>) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> Math.abs(left - right) &lt; <span class="number">2</span> ? Math.max(left, right) + <span class="number">1</span> : -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1603024695-Jqbiev-Picture12.png" alt="img"></p>
<h3 id="8-16ã€å‰‘æŒ‡-Offer-64-æ±‚-1-2-â€¦-n"><a href="#8-16ã€å‰‘æŒ‡-Offer-64-æ±‚-1-2-â€¦-n" class="headerlink" title="8.16ã€å‰‘æŒ‡ Offer 64. æ±‚ 1 + 2 + â€¦ + n"></a>8.16ã€å‰‘æŒ‡ Offer 64. æ±‚ 1 + 2 + â€¦ + n</h3><p>æ±‚ <code>1+2+...+n</code> ï¼Œè¦æ±‚ä¸èƒ½ä½¿ç”¨ä¹˜é™¤æ³•ã€forã€whileã€ifã€elseã€switchã€caseç­‰å…³é”®å­—åŠæ¡ä»¶åˆ¤æ–­è¯­å¥ï¼ˆA?B:Cï¼‰ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: n = 3</span><br><span class="line">è¾“å‡º: 6</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: n = 9</span><br><span class="line">è¾“å‡º: 45</span><br></pre></td></tr></table></figure>



<p><strong>é™åˆ¶ï¼š</strong></p>
<ul>
<li><code>1 &lt;= n &lt;= 10000</code></li>
</ul>
<p>Related Topics</p>
<p>ä½è¿ç®—</p>
<p>é€’å½’</p>
<p>è„‘ç­‹æ€¥è½¬å¼¯</p>
<p>ğŸ‘ 551</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>é€’å½’æ±‚è§£ï¼Œéœ€è¦ç”¨åˆ°ifï¼Œå¦‚ä½•æ¶ˆå»if</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">sumNums</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (n == <span class="number">1</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span>  n + sumNums(n - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1603023621-WFZwzS-Picture1.png" alt="Picture1.png"></p>
<p>é€»è¾‘è¿ç®—ç¬¦çš„çŸ­è·¯æ•ˆåº”ï¼š<br>å¸¸è§çš„é€»è¾‘è¿ç®—ç¬¦æœ‰ä¸‰ç§ï¼Œå³ â€œä¸ &amp;&amp;â€ï¼Œâ€œæˆ– || â€ï¼Œâ€œé ! â€ ï¼›è€Œå…¶æœ‰é‡è¦çš„çŸ­è·¯æ•ˆåº”ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">if(A &amp;&amp; B)  // è‹¥ A ä¸º false ï¼Œåˆ™ B çš„åˆ¤æ–­ä¸ä¼šæ‰§è¡Œï¼ˆå³çŸ­è·¯ï¼‰ï¼Œç›´æ¥åˆ¤å®š A &amp;&amp; B ä¸º false</span><br><span class="line">if(A || B) // è‹¥ A ä¸º true ï¼Œåˆ™ B çš„åˆ¤æ–­ä¸ä¼šæ‰§è¡Œï¼ˆå³çŸ­è·¯ï¼‰ï¼Œç›´æ¥åˆ¤å®š A || B ä¸º true</span><br></pre></td></tr></table></figure>

<p>æœ¬é¢˜éœ€è¦å®ç° â€œå½“ n &#x3D; 1 æ—¶ç»ˆæ­¢é€’å½’â€ çš„éœ€æ±‚ï¼Œå¯é€šè¿‡çŸ­è·¯æ•ˆåº”å®ç°ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">n &gt; 1 &amp;&amp; sumNums(n - 1) // å½“ n = 1 æ—¶ n &gt; 1 ä¸æˆç«‹ ï¼Œæ­¤æ—¶ â€œçŸ­è·¯â€ ï¼Œç»ˆæ­¢åç»­é€’å½’</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(n) ï¼š è®¡ç®— n + (n-1) + â€¦ + 2 + 1 éœ€è¦å¼€å¯ nnä¸ªé€’å½’å‡½æ•°ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(n) ï¼š é€’å½’æ·±åº¦è¾¾åˆ° nn ï¼Œç³»ç»Ÿä½¿ç”¨ O(n)å¤§å°çš„é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1603023621-nIAzSV-Picture10.png" alt="img"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">sumNums</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">    <span class="comment">//        if (n == 1) return 1;</span></span><br><span class="line">    <span class="comment">//        else return  n + sumNums(n - 1);</span></span><br><span class="line">    <span class="type">boolean</span> <span class="variable">x</span> <span class="operator">=</span> n &gt; <span class="number">1</span> &amp;&amp; sumNums(n - <span class="number">1</span>) &gt;<span class="number">0</span>;</span><br><span class="line">    res += n;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="8-17ã€å‰‘æŒ‡-Offer-68-II-äºŒå‰æœç´¢æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ"><a href="#8-17ã€å‰‘æŒ‡-Offer-68-II-äºŒå‰æœç´¢æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ" class="headerlink" title="8.17ã€å‰‘æŒ‡ Offer 68 - II. äºŒå‰æœç´¢æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ"></a>8.17ã€å‰‘æŒ‡ Offer 68 - II. äºŒå‰æœç´¢æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ</h3><p>ç»™å®šä¸€ä¸ªäºŒå‰æœç´¢æ ‘, æ‰¾åˆ°è¯¥æ ‘ä¸­ä¸¤ä¸ªæŒ‡å®šèŠ‚ç‚¹çš„æœ€è¿‘å…¬å…±ç¥–å…ˆã€‚</p>
<p><a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E6%9C%80%E8%BF%91%E5%85%AC%E5%85%B1%E7%A5%96%E5%85%88/8918834?fr=aladdin">ç™¾åº¦ç™¾ç§‘</a>ä¸­æœ€è¿‘å…¬å…±ç¥–å…ˆçš„å®šä¹‰ä¸ºï¼šâ€œå¯¹äºæœ‰æ ¹æ ‘ T çš„ä¸¤ä¸ªç»“ç‚¹ pã€qï¼Œæœ€è¿‘å…¬å…±ç¥–å…ˆè¡¨ç¤ºä¸ºä¸€ä¸ªç»“ç‚¹ xï¼Œæ»¡è¶³ x æ˜¯ pã€q çš„ç¥–å…ˆä¸” x çš„æ·±åº¦å°½å¯èƒ½å¤§ï¼ˆ<strong>ä¸€ä¸ªèŠ‚ç‚¹ä¹Ÿå¯ä»¥æ˜¯å®ƒè‡ªå·±çš„ç¥–å…ˆ</strong>ï¼‰ã€‚â€</p>
<p>ä¾‹å¦‚ï¼Œç»™å®šå¦‚ä¸‹äºŒå‰æœç´¢æ ‘: root &#x3D; [6,2,8,0,4,7,9,null,null,3,5]</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/binarysearchtree_improved.png" alt="img"></p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: root = [6,2,8,0,4,7,9,null,null,3,5], p = 2, q = 8</span><br><span class="line">è¾“å‡º: 6 </span><br><span class="line">è§£é‡Š: èŠ‚ç‚¹ 2 å’ŒèŠ‚ç‚¹ 8 çš„æœ€è¿‘å…¬å…±ç¥–å…ˆæ˜¯ 6ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: root = [6,2,8,0,4,7,9,null,null,3,5], p = 2, q = 4</span><br><span class="line">è¾“å‡º: 2</span><br><span class="line">è§£é‡Š: èŠ‚ç‚¹ 2 å’ŒèŠ‚ç‚¹ 4 çš„æœ€è¿‘å…¬å…±ç¥–å…ˆæ˜¯ 2, å› ä¸ºæ ¹æ®å®šä¹‰æœ€è¿‘å…¬å…±ç¥–å…ˆèŠ‚ç‚¹å¯ä»¥ä¸ºèŠ‚ç‚¹æœ¬èº«ã€‚</span><br></pre></td></tr></table></figure>



<p><strong>è¯´æ˜:</strong></p>
<ul>
<li>æ‰€æœ‰èŠ‚ç‚¹çš„å€¼éƒ½æ˜¯å”¯ä¸€çš„ã€‚</li>
<li>pã€q ä¸ºä¸åŒèŠ‚ç‚¹ä¸”å‡å­˜åœ¨äºç»™å®šçš„äºŒå‰æœç´¢æ ‘ä¸­ã€‚</li>
</ul>
<p>æ³¨æ„ï¼šæœ¬é¢˜ä¸ä¸»ç«™ 235 é¢˜ç›¸åŒï¼š<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/lowest-common-ancestor-of-a-binary-search-tree/">https://leetcode-cn.com/problems/lowest-common-ancestor-of-a-binary-search-tree/</a></p>
<p>Related Topics</p>
<p>æ ‘</p>
<p>æ·±åº¦ä¼˜å…ˆæœç´¢</p>
<p>äºŒå‰æœç´¢æ ‘</p>
<p>äºŒå‰æ ‘</p>
<p>ğŸ‘ 272</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>æœ¬é¢˜æ±‚è§£çš„æ˜¯äºŒå‰æœç´¢æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆï¼ŒäºŒå‰æœç´¢æ ‘æ˜¯æœ‰åºçš„ï¼Œä»ä¸Šå¾€ä¸‹è¿›è¡Œæœç´¢ï¼Œå¦‚æœèŠ‚ç‚¹åœ¨[p.val,q.val]ä¸­é‚£ä¹ˆä¸€å®šæ˜¯p,qçš„å…¬å…±ç¥–å…ˆï¼Œè€Œä¸”æ˜¯<strong>æœ€å°å…¬å…±ç¥–å…ˆ</strong>ã€‚å†å¾€ä¸‹æœç´¢ï¼Œä¸ç®¡å¾€å·¦ã€å¾€å³éƒ½ä¼šå‰ªæ‰ä¸€ä¸ªå­æ ‘ï¼Œè¿™æ ·å°±æ¼æ‰äº†ä¸€ä¸ªèŠ‚ç‚¹ã€‚å› æ­¤åªè¦æ‰¾åˆ°ä½äºè¯¥åŒºé—´çš„èŠ‚ç‚¹å°±è¡Œã€‚éå†é¡ºåºæ— å…³ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/20220926164214.png" alt="235.äºŒå‰æœç´¢æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ"></p>
<h4 id="é€’å½’æ³•ï¼š"><a href="#é€’å½’æ³•ï¼š" class="headerlink" title="é€’å½’æ³•ï¼š"></a>é€’å½’æ³•ï¼š</h4><ol>
<li><p>ç¡®å®šå‡½æ•°çš„è¿”å›å€¼ä»¥åŠå‚æ•°</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">TreeNode <span class="title function_">traversal</span><span class="params">(TreeNode cur, TreeNode p, TreeNode q)</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ç¡®å®šç»ˆæ­¢æ¡ä»¶</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (cur == <span class="literal">null</span>) <span class="keyword">return</span> cur;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç¡®å®šå•å±‚é€’å½’çš„é€»è¾‘</p>
<ul>
<li>å¦‚æœ cur.val å¤§äº p.valï¼ŒåŒæ—¶ cur.val å¤§äºq.valï¼Œé‚£ä¹ˆå°±åº”è¯¥å‘å·¦éå†ï¼ˆè¯´æ˜ç›®æ ‡åŒºé—´åœ¨å·¦å­æ ‘ä¸Šï¼‰ã€‚</li>
<li>å¦‚æœ cur.val å°äº p.valï¼ŒåŒæ—¶ cur.val å°äºq.valï¼Œé‚£ä¹ˆå°±åº”è¯¥å‘å³éå†ï¼ˆè¯´æ˜ç›®æ ‡åŒºé—´åœ¨å³å­æ ‘ä¸Šï¼‰ã€‚</li>
<li>curèŠ‚ç‚¹åœ¨åŒºé—´ï¼ˆp.val &lt;&#x3D; cur.val &amp;&amp; cur.val &lt;&#x3D; q.valï¼‰æˆ–è€… ï¼ˆq.val &lt;&#x3D; cur.val &amp;&amp; cur.val &lt;&#x3D; p.valï¼‰ä¸­ï¼Œé‚£ä¹ˆcurå°±æ˜¯æœ€è¿‘å…¬å…±ç¥–å…ˆäº†ï¼Œç›´æ¥è¿”å›curã€‚</li>
</ul>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> TreeNode <span class="title function_">lowestCommonAncestor</span><span class="params">(TreeNode root, TreeNode p, TreeNode q)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> traversal(root, p, q);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> TreeNode <span class="title function_">traversal</span><span class="params">(TreeNode root, TreeNode p, TreeNode q)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) <span class="keyword">return</span> root;</span><br><span class="line">    <span class="keyword">if</span> (root.val &gt; p.val &amp;&amp; root.val &gt; q.val) &#123; <span class="comment">// å·¦</span></span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">left</span> <span class="operator">=</span> traversal(root.left, p, q);</span><br><span class="line">        <span class="keyword">if</span> (left != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> left;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (root.val &lt; p.val &amp;&amp; root.val &lt; q.val) &#123; <span class="comment">// å³</span></span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">right</span> <span class="operator">=</span> traversal(root.right, p, q);</span><br><span class="line">        <span class="keyword">if</span> (right != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> right;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="è¿­ä»£-1"><a href="#è¿­ä»£-1" class="headerlink" title="è¿­ä»£"></a>è¿­ä»£</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> TreeNode <span class="title function_">lowestCommonAncestor</span><span class="params">(TreeNode root, TreeNode p, TreeNode q)</span> &#123;</span><br><span class="line">    <span class="keyword">while</span> (root != <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (root.val &gt; p.val &amp;&amp; root.val &gt; q.val) &#123; <span class="comment">//å·¦</span></span><br><span class="line">            root = root.left;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (root.val &lt; p.val &amp;&amp; root.val &lt; q.val) &#123; <span class="comment">//å³</span></span><br><span class="line">            root = root.right;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="8-18ã€å‰‘æŒ‡-Offer-68-II-äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–"><a href="#8-18ã€å‰‘æŒ‡-Offer-68-II-äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–" class="headerlink" title="8.18ã€å‰‘æŒ‡ Offer 68 - II. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–"></a>8.18ã€å‰‘æŒ‡ Offer 68 - II. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–</h3><p>ç»™å®šä¸€ä¸ªäºŒå‰æ ‘, æ‰¾åˆ°è¯¥æ ‘ä¸­ä¸¤ä¸ªæŒ‡å®šèŠ‚ç‚¹çš„æœ€è¿‘å…¬å…±ç¥–å…ˆã€‚</p>
<p><a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E6%9C%80%E8%BF%91%E5%85%AC%E5%85%B1%E7%A5%96%E5%85%88/8918834?fr=aladdin">ç™¾åº¦ç™¾ç§‘</a>ä¸­æœ€è¿‘å…¬å…±ç¥–å…ˆçš„å®šä¹‰ä¸ºï¼šâ€œå¯¹äºæœ‰æ ¹æ ‘ T çš„ä¸¤ä¸ªç»“ç‚¹ pã€qï¼Œæœ€è¿‘å…¬å…±ç¥–å…ˆè¡¨ç¤ºä¸ºä¸€ä¸ªç»“ç‚¹ xï¼Œæ»¡è¶³ x æ˜¯ pã€q çš„ç¥–å…ˆä¸” x çš„æ·±åº¦å°½å¯èƒ½å¤§ï¼ˆ<strong>ä¸€ä¸ªèŠ‚ç‚¹ä¹Ÿå¯ä»¥æ˜¯å®ƒè‡ªå·±çš„ç¥–å…ˆ</strong>ï¼‰ã€‚â€</p>
<p>ä¾‹å¦‚ï¼Œç»™å®šå¦‚ä¸‹äºŒå‰æ ‘: root &#x3D; [3,5,1,6,2,0,8,null,null,7,4]</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/binarytree.png" alt="img"></p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: root = [3,5,1,6,2,0,8,null,null,7,4], p = 5, q = 1</span><br><span class="line">è¾“å‡º: 3</span><br><span class="line">è§£é‡Š: èŠ‚ç‚¹ 5 å’ŒèŠ‚ç‚¹ 1 çš„æœ€è¿‘å…¬å…±ç¥–å…ˆæ˜¯èŠ‚ç‚¹ 3ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: root = [3,5,1,6,2,0,8,null,null,7,4], p = 5, q = 4</span><br><span class="line">è¾“å‡º: 5</span><br><span class="line">è§£é‡Š: èŠ‚ç‚¹ 5 å’ŒèŠ‚ç‚¹ 4 çš„æœ€è¿‘å…¬å…±ç¥–å…ˆæ˜¯èŠ‚ç‚¹ 5ã€‚å› ä¸ºæ ¹æ®å®šä¹‰æœ€è¿‘å…¬å…±ç¥–å…ˆèŠ‚ç‚¹å¯ä»¥ä¸ºèŠ‚ç‚¹æœ¬èº«ã€‚</span><br></pre></td></tr></table></figure>



<p><strong>è¯´æ˜:</strong></p>
<ul>
<li>æ‰€æœ‰èŠ‚ç‚¹çš„å€¼éƒ½æ˜¯å”¯ä¸€çš„ã€‚</li>
<li>pã€q ä¸ºä¸åŒèŠ‚ç‚¹ä¸”å‡å­˜åœ¨äºç»™å®šçš„äºŒå‰æ ‘ä¸­ã€‚</li>
</ul>
<p>æ³¨æ„ï¼šæœ¬é¢˜ä¸ä¸»ç«™ 236 é¢˜ç›¸åŒï¼š<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/lowest-common-ancestor-of-a-binary-tree/">https://leetcode-cn.com/problems/lowest-common-ancestor-of-a-binary-tree/</a></p>
<p>Related Topics</p>
<p>æ ‘</p>
<p>æ·±åº¦ä¼˜å…ˆæœç´¢</p>
<p>äºŒå‰æ ‘</p>
<p>ğŸ‘ 495</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<ol>
<li><p>ç¡®å®šé€’å½’é¡ºåºï¼Œååºéå†ï¼Œååºéå†çš„é¡ºåºä¸ºå·¦å³ä¸­ï¼Œæ­£å¥½å¯ä»¥ä»ä¸‹å‘ä¸Šæ¥å›æº¯æœç´¢ã€‚</p>
</li>
<li><p>ç¡®å®šé€’å½’å‡½æ•°è¿”å›å€¼ä»¥åŠå‚æ•°ï¼Œæˆ‘ä»¬éœ€è¦è¿”å›æ‰¾åˆ°çš„æœ€è¿‘å…¬å…±ç¥–å…ˆï¼Œæ²¡æ‰¾åˆ°è¿”å›nullã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">TreeNode <span class="title function_">lowestCommonAncestor</span><span class="params">(TreeNode root, TreeNode p, TreeNode q)</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ç¡®å®šç»ˆæ­¢æ¡ä»¶ï¼Œå¦‚æœæˆ‘ä»¬æ‰¾åˆ°äº†èŠ‚ç‚¹pæˆ–qå°±è¿”å›ï¼Œç›´åˆ°æ ¹èŠ‚ç‚¹ä¸ºç©ºã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (root == q || root == p || root == NULL) <span class="keyword">return</span> root;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç¡®å®šå•å±‚é€’å½’é€»è¾‘ï¼Œæœ¬é¢˜åº”è¯¥æ˜¯æœç´¢æ•´æ£µæ ‘ï¼Œå› ä¸ºè¦å¯¹ååºèŠ‚ç‚¹çš„leftã€rightè¿›è¡Œé€»è¾‘å¤„ç†ã€‚</p>
</li>
<li><p>åœ¨å‘ä¸Šè¿”å›çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœleftã€rightéƒ½æœ‰è¿”å›å€¼ï¼Œåˆ™è¿”å›rootï¼Œå…¶ä¸­ä¸€ä¸ªæœ‰å€¼å°±è¿”å›è¿™ä¸ªå€¼ï¼Œä¸¤ä¸ªéƒ½ä¸ºnullï¼Œè¿”å›nullã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//4 5æ­¥ä»£ç </span></span><br><span class="line"><span class="type">TreeNode</span> <span class="variable">left</span> <span class="operator">=</span> lowestCommonAncestor(root.left, p, q);</span><br><span class="line"><span class="type">TreeNode</span> <span class="variable">right</span> <span class="operator">=</span> lowestCommonAncestor(root.right, p, q);</span><br><span class="line"><span class="keyword">if</span> (left == <span class="literal">null</span> &amp;&amp; right != <span class="literal">null</span>) <span class="keyword">return</span> right;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (left != <span class="literal">null</span> &amp;&amp; right == <span class="literal">null</span>) <span class="keyword">return</span> left;</span><br><span class="line"><span class="keyword">else</span>  &#123; <span class="comment">//  (left == null &amp;&amp; right == null)</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ•´ä½“çš„æµç¨‹å›¾ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/202102041512582.png" alt="236.äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ2"></p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> TreeNode <span class="title function_">lowestCommonAncestor</span><span class="params">(TreeNode root, TreeNode p, TreeNode q)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span> || root == p || root == q)</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    <span class="type">TreeNode</span> <span class="variable">left</span> <span class="operator">=</span> lowestCommonAncestor(root.left, p, q); <span class="comment">// å·¦</span></span><br><span class="line">    <span class="type">TreeNode</span> <span class="variable">right</span> <span class="operator">=</span> lowestCommonAncestor(root.right, p, q); <span class="comment">// å³</span></span><br><span class="line">    <span class="comment">// ä¸­</span></span><br><span class="line">    <span class="keyword">if</span> (left != <span class="literal">null</span> &amp;&amp; right != <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (left == <span class="literal">null</span> &amp;&amp; right != <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> right;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (left != <span class="literal">null</span> &amp;&amp; right == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> left;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="ä¹ã€åˆ†æ²»ç®—æ³•"><a href="#ä¹ã€åˆ†æ²»ç®—æ³•" class="headerlink" title="ä¹ã€åˆ†æ²»ç®—æ³•"></a>ä¹ã€åˆ†æ²»ç®—æ³•</h2><h3 id="9-1ã€å‰‘æŒ‡-Offer-07-é‡å»ºäºŒå‰æ ‘"><a href="#9-1ã€å‰‘æŒ‡-Offer-07-é‡å»ºäºŒå‰æ ‘" class="headerlink" title="9.1ã€å‰‘æŒ‡ Offer 07. é‡å»ºäºŒå‰æ ‘"></a>9.1ã€å‰‘æŒ‡ Offer 07. é‡å»ºäºŒå‰æ ‘</h3><p>è¾“å…¥æŸäºŒå‰æ ‘çš„å‰åºéå†å’Œä¸­åºéå†çš„ç»“æœï¼Œè¯·æ„å»ºè¯¥äºŒå‰æ ‘å¹¶è¿”å›å…¶æ ¹èŠ‚ç‚¹ã€‚</p>
<p>å‡è®¾è¾“å…¥çš„å‰åºéå†å’Œä¸­åºéå†çš„ç»“æœä¸­éƒ½ä¸å«é‡å¤çš„æ•°å­—ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/tree.jpg" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: preorder = [3,9,20,15,7], inorder = [9,3,15,20,7]</span><br><span class="line">Output: [3,9,20,null,null,15,7]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: preorder = [-1], inorder = [-1]</span><br><span class="line">Output: [-1]</span><br></pre></td></tr></table></figure>



<p><strong>é™åˆ¶ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0 &lt;= èŠ‚ç‚¹ä¸ªæ•° &lt;= 5000</span><br></pre></td></tr></table></figure>



<p><strong>æ³¨æ„</strong>ï¼šæœ¬é¢˜ä¸ä¸»ç«™ 105 é¢˜é‡å¤ï¼š<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/construct-binary-tree-from-preorder-and-inorder-traversal/">https://leetcode-cn.com/problems/construct-binary-tree-from-preorder-and-inorder-traversal/</a></p>
<p>Related Topics</p>
<p>æ ‘</p>
<p>æ•°ç»„</p>
<p>å“ˆå¸Œè¡¨</p>
<p>åˆ†æ²»</p>
<p>äºŒå‰æ ‘</p>
<p>ğŸ‘ 941</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<ul>
<li>ç¬¬ä¸€æ­¥ï¼šå¦‚æœæ•°ç»„å¤§å°ä¸ºé›¶çš„è¯ï¼Œè¯´æ˜æ˜¯ç©ºèŠ‚ç‚¹äº†ã€‚</li>
<li>ç¬¬äºŒæ­¥ï¼šå¦‚æœä¸ä¸ºç©ºï¼Œé‚£ä¹ˆå–å‰åºæ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ ä½œä¸ºèŠ‚ç‚¹å…ƒç´ ã€‚</li>
<li>ç¬¬ä¸‰æ­¥ï¼šæ‰¾åˆ°å‰åºæ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ åœ¨ä¸­åºæ•°ç»„çš„ä½ç½®ï¼Œä½œä¸ºåˆ‡å‰²ç‚¹</li>
<li>ç¬¬å››æ­¥ï¼šåˆ‡å‰²ä¸­åºæ•°ç»„ï¼Œåˆ‡æˆä¸­åºå·¦æ•°ç»„å’Œä¸­åºå³æ•°ç»„ ï¼ˆé¡ºåºåˆ«æåäº†ï¼Œä¸€å®šæ˜¯å…ˆåˆ‡ä¸­åºæ•°ç»„ï¼‰</li>
<li>ç¬¬äº”æ­¥ï¼šåˆ‡å‰²å‰åºæ•°ç»„ï¼Œåˆ‡æˆå‰åºå·¦æ•°ç»„å’Œå‰åºå³æ•°ç»„</li>
<li>ç¬¬å…­æ­¥ï¼šé€’å½’å¤„ç†å·¦åŒºé—´å’Œå³åŒºé—´</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/image-20221126100453967.png" alt="image-20221126100453967"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;Integer, Integer&gt; map;<span class="comment">// æ–¹ä¾¿æ ¹æ®æ•°å€¼æŸ¥æ‰¾ä½ç½®</span></span><br><span class="line"><span class="keyword">public</span> TreeNode <span class="title function_">buildTree</span><span class="params">(<span class="type">int</span>[] preorder, <span class="type">int</span>[] inorder)</span> &#123;</span><br><span class="line">    map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; inorder.length; i++) &#123; <span class="comment">// ç”¨mapä¿å­˜ä¸­åºåºåˆ—çš„æ•°å€¼å¯¹åº”ä½ç½®</span></span><br><span class="line">        map.put(inorder[i], i);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> findNode(preorder, <span class="number">0</span>, preorder.length, inorder, <span class="number">0</span>, inorder.length);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> TreeNode <span class="title function_">findNode</span><span class="params">(<span class="type">int</span>[] preorder, <span class="type">int</span> preBegin, <span class="type">int</span> preEnd, <span class="type">int</span>[] inorder, <span class="type">int</span> inBegin, <span class="type">int</span> inEnd)</span> &#123;</span><br><span class="line">    <span class="comment">// ä¿è¯åŒºé—´æ˜¯å·¦é—­å³å¼€çš„[)</span></span><br><span class="line">    <span class="keyword">if</span> (preBegin &gt;= preEnd || inBegin &gt;= inEnd) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> <span class="variable">rootIndex</span> <span class="operator">=</span> map.get(preorder[preBegin]);<span class="comment">// æ‰¾åˆ°å‰åºéå†çš„ç¬¬ä¸€ä¸ªå…ƒç´ åœ¨ä¸­åºéå†ä¸­çš„ä½ç½®</span></span><br><span class="line">    <span class="type">TreeNode</span> <span class="variable">root</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TreeNode</span>(preorder[preBegin]);</span><br><span class="line">    <span class="type">int</span> <span class="variable">lenOfLeft</span> <span class="operator">=</span> rootIndex - inBegin; <span class="comment">// ä¿å­˜ä¸­åºå·¦å­æ ‘ä¸ªæ•°ï¼Œç”¨æ¥ç¡®å®šå‰åºæ•°åˆ—çš„ä¸ªæ•°</span></span><br><span class="line">    root.left = findNode(preorder, preBegin + <span class="number">1</span>, preBegin + <span class="number">1</span> + lenOfLeft,</span><br><span class="line">                        inorder, inBegin, rootIndex);</span><br><span class="line">    root.right = findNode(preorder, preBegin + <span class="number">1</span> + lenOfLeft, preEnd,</span><br><span class="line">                        inorder, rootIndex + <span class="number">1</span>, inEnd);</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="9-2ã€106-ä»ä¸­åºä¸ååºéå†åºåˆ—æ„é€ äºŒå‰æ ‘"><a href="#9-2ã€106-ä»ä¸­åºä¸ååºéå†åºåˆ—æ„é€ äºŒå‰æ ‘" class="headerlink" title="9.2ã€106.ä»ä¸­åºä¸ååºéå†åºåˆ—æ„é€ äºŒå‰æ ‘"></a>9.2ã€106.ä»ä¸­åºä¸ååºéå†åºåˆ—æ„é€ äºŒå‰æ ‘</h3><p>è§£é¢˜æ€è·¯ï¼š</p>
<ul>
<li>ç¬¬ä¸€æ­¥ï¼šå¦‚æœæ•°ç»„å¤§å°ä¸ºé›¶çš„è¯ï¼Œè¯´æ˜æ˜¯ç©ºèŠ‚ç‚¹äº†ã€‚</li>
<li>ç¬¬äºŒæ­¥ï¼šå¦‚æœä¸ä¸ºç©ºï¼Œé‚£ä¹ˆå–ååºæ•°ç»„æœ€åä¸€ä¸ªå…ƒç´ ä½œä¸ºèŠ‚ç‚¹å…ƒç´ ã€‚</li>
<li>ç¬¬ä¸‰æ­¥ï¼šæ‰¾åˆ°ååºæ•°ç»„æœ€åä¸€ä¸ªå…ƒç´ åœ¨ä¸­åºæ•°ç»„çš„ä½ç½®ï¼Œä½œä¸ºåˆ‡å‰²ç‚¹</li>
<li>ç¬¬å››æ­¥ï¼šåˆ‡å‰²ä¸­åºæ•°ç»„ï¼Œåˆ‡æˆä¸­åºå·¦æ•°ç»„å’Œä¸­åºå³æ•°ç»„ ï¼ˆé¡ºåºåˆ«æåäº†ï¼Œä¸€å®šæ˜¯å…ˆåˆ‡ä¸­åºæ•°ç»„ï¼‰</li>
<li>ç¬¬äº”æ­¥ï¼šåˆ‡å‰²ååºæ•°ç»„ï¼Œåˆ‡æˆååºå·¦æ•°ç»„å’Œååºå³æ•°ç»„</li>
<li>ç¬¬å…­æ­¥ï¼šé€’å½’å¤„ç†å·¦åŒºé—´å’Œå³åŒºé—´</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/image-20221126100223163.png" alt="image-20221126100223163"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;Integer, Integer&gt; map;  <span class="comment">// æ–¹ä¾¿æ ¹æ®æ•°å€¼æŸ¥æ‰¾ä½ç½®</span></span><br><span class="line"><span class="keyword">public</span> TreeNode <span class="title function_">buildTree</span><span class="params">(<span class="type">int</span>[] inorder, <span class="type">int</span>[] postorder)</span> &#123;</span><br><span class="line">    map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; inorder.length; i++) &#123; <span class="comment">// ç”¨mapä¿å­˜ä¸­åºåºåˆ—çš„æ•°å€¼å¯¹åº”ä½ç½®</span></span><br><span class="line">        map.put(inorder[i], i);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> findNode(inorder,  <span class="number">0</span>, inorder.length, postorder,<span class="number">0</span>, postorder.length);  <span class="comment">// å‰é—­åå¼€</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> TreeNode <span class="title function_">findNode</span><span class="params">(<span class="type">int</span>[] inorder, <span class="type">int</span> inBegin, <span class="type">int</span> inEnd, <span class="type">int</span>[] postorder, <span class="type">int</span> postBegin, <span class="type">int</span> postEnd)</span> &#123;</span><br><span class="line">    <span class="comment">// å‚æ•°é‡Œçš„èŒƒå›´éƒ½æ˜¯å‰é—­åå¼€</span></span><br><span class="line">    <span class="keyword">if</span> (inBegin &gt;= inEnd || postBegin &gt;= postEnd) &#123;  <span class="comment">// ä¸æ»¡è¶³å·¦é—­å³å¼€ï¼Œè¯´æ˜æ²¡æœ‰å…ƒç´ ï¼Œè¿”å›ç©ºæ ‘</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> <span class="variable">rootIndex</span> <span class="operator">=</span> map.get(postorder[postEnd - <span class="number">1</span>]);  <span class="comment">// æ‰¾åˆ°ååºéå†çš„æœ€åä¸€ä¸ªå…ƒç´ åœ¨ä¸­åºéå†ä¸­çš„ä½ç½®</span></span><br><span class="line">    <span class="type">TreeNode</span> <span class="variable">root</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TreeNode</span>(inorder[rootIndex]);  <span class="comment">// æ„é€ ç»“ç‚¹</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">lenOfLeft</span> <span class="operator">=</span> rootIndex - inBegin;  <span class="comment">// ä¿å­˜ä¸­åºå·¦å­æ ‘ä¸ªæ•°ï¼Œç”¨æ¥ç¡®å®šååºæ•°åˆ—çš„ä¸ªæ•°</span></span><br><span class="line">    root.left = findNode(inorder, inBegin, rootIndex,</span><br><span class="line">                         postorder, postBegin, postBegin + lenOfLeft);</span><br><span class="line">    root.right = findNode(inorder, rootIndex + <span class="number">1</span>, inEnd,</span><br><span class="line">                          postorder, postBegin + lenOfLeft, postEnd - <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="9-3ã€å‰‘æŒ‡-Offer-16-æ•°å€¼çš„æ•´æ•°æ¬¡æ–¹"><a href="#9-3ã€å‰‘æŒ‡-Offer-16-æ•°å€¼çš„æ•´æ•°æ¬¡æ–¹" class="headerlink" title="9.3ã€å‰‘æŒ‡ Offer 16. æ•°å€¼çš„æ•´æ•°æ¬¡æ–¹"></a>9.3ã€å‰‘æŒ‡ Offer 16. æ•°å€¼çš„æ•´æ•°æ¬¡æ–¹</h3><p>å®ç° <a target="_blank" rel="noopener" href="https://www.cplusplus.com/reference/valarray/pow/">pow(<em>x</em>, <em>n</em>)</a> ï¼Œå³è®¡ç®— x çš„ n æ¬¡å¹‚å‡½æ•°ï¼ˆå³ï¼Œx^nï¼‰ã€‚ä¸å¾—ä½¿ç”¨åº“å‡½æ•°ï¼ŒåŒæ—¶ä¸éœ€è¦è€ƒè™‘å¤§æ•°é—®é¢˜ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šx = 2.00000, n = 10</span><br><span class="line">è¾“å‡ºï¼š1024.00000</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šx = 2.10000, n = 3</span><br><span class="line">è¾“å‡ºï¼š9.26100</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šx = 2.00000, n = -2</span><br><span class="line">è¾“å‡ºï¼š0.25000</span><br><span class="line">è§£é‡Šï¼š2-2 = 1/22 = 1/4 = 0.25</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>-100.0 &lt; x &lt; 100.0</code></li>
<li><code>-231 &lt;= n &lt;= 231-1</code></li>
<li><code>-104 &lt;= xn &lt;= 104</code></li>
</ul>
<p>æ³¨æ„ï¼šæœ¬é¢˜ä¸ä¸»ç«™ 50 é¢˜ç›¸åŒï¼š<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/powx-n/">https://leetcode-cn.com/problems/powx-n/</a></p>
<p>Related Topics</p>
<p>é€’å½’</p>
<p>æ•°å­¦</p>
<p>ğŸ‘ 365</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<h4 id="æš´åŠ›è§£æ³•"><a href="#æš´åŠ›è§£æ³•" class="headerlink" title="æš´åŠ›è§£æ³•"></a>æš´åŠ›è§£æ³•</h4><p>æ±‚ x^nï¼Œæœ€ç®€å•çš„æ–¹æ³•æ˜¯é€šè¿‡å¾ªç¯å°† nn ä¸ª xx ä¹˜èµ·æ¥ï¼Œä¾æ¬¡æ±‚ x^1, x^2, â€¦, x^{n-1}, x^n æ—¶é—´å¤æ‚åº¦ä¸º O(n)ã€‚</p>
<h4 id="å¿«é€Ÿå¹‚è§£æï¼ˆåˆ†æ²»æ³•è§’åº¦ï¼‰"><a href="#å¿«é€Ÿå¹‚è§£æï¼ˆåˆ†æ²»æ³•è§’åº¦ï¼‰" class="headerlink" title="å¿«é€Ÿå¹‚è§£æï¼ˆåˆ†æ²»æ³•è§’åº¦ï¼‰"></a>å¿«é€Ÿå¹‚è§£æï¼ˆåˆ†æ²»æ³•è§’åº¦ï¼‰</h4><blockquote>
<p>å¿«é€Ÿå¹‚å®é™…ä¸Šæ˜¯åˆ†æ²»æ€æƒ³çš„ä¸€ç§åº”ç”¨ã€‚</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/image-20221126103110506.png" alt="image-20221126103110506"></p>
<blockquote>
<p>è§‚å¯Ÿå‘ç°ï¼Œå½“ nä¸ºå¥‡æ•°æ—¶ï¼ŒäºŒåˆ†åä¼šå¤šå‡ºä¸€é¡¹ x ã€‚</p>
</blockquote>
<p>å¹‚ç»“æœè·å–ï¼š</p>
<ul>
<li>æ ¹æ®æ¨å¯¼ï¼Œå¯é€šè¿‡å¾ªç¯ x &#x3D; x^2,æ¯æ¬¡æŠŠå¹‚ä» n é™è‡³ n&#x2F;&#x2F;2ï¼Œç›´è‡³å°†å¹‚é™ä¸º0 ï¼›</li>
<li>è®¾ res&#x3D;1ï¼Œåˆ™åˆå§‹çŠ¶æ€ x^n &#x3D; x^n Ã—res ã€‚åœ¨å¾ªç¯äºŒåˆ†æ—¶ï¼Œæ¯å½“ n ä¸ºå¥‡æ•°æ—¶ï¼Œå°†å¤šå‡ºçš„ä¸€é¡¹ x ä¹˜å…¥ resï¼Œåˆ™æœ€ç»ˆå¯åŒ–è‡³ x^n &#x3D; x^0 Ã—res&#x3D;res ï¼Œè¿”å› res å³å¯ã€‚<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1599885604-YzlkAN-Picture2.png" alt="Picture2.png"></li>
</ul>
<p>è½¬åŒ–ä¸ºä½è¿ç®—ï¼š</p>
<ul>
<li>å‘ä¸‹æ•´é™¤ n&#x2F;&#x2F;2 ç­‰ä»·äº å³ç§»ä¸€ä½ n&gt;&gt;1 ï¼›</li>
<li>å–ä½™æ•° n%2 ç­‰ä»·äº åˆ¤æ–­äºŒè¿›åˆ¶æœ€å³ä½ n&amp;1 ï¼›</li>
</ul>
<h4 id="å¿«é€Ÿå¹‚è§£æï¼ˆäºŒè¿›åˆ¶è§’åº¦ï¼‰"><a href="#å¿«é€Ÿå¹‚è§£æï¼ˆäºŒè¿›åˆ¶è§’åº¦ï¼‰" class="headerlink" title="å¿«é€Ÿå¹‚è§£æï¼ˆäºŒè¿›åˆ¶è§’åº¦ï¼‰"></a>å¿«é€Ÿå¹‚è§£æï¼ˆäºŒè¿›åˆ¶è§’åº¦ï¼‰</h4><blockquote>
<p>åˆ©ç”¨åè¿›åˆ¶æ•°å­— nçš„äºŒè¿›åˆ¶è¡¨ç¤ºï¼Œå¯å¯¹å¿«é€Ÿå¹‚è¿›è¡Œæ•°å­¦åŒ–è§£é‡Šã€‚</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/image-20221126104107284.png" alt="image-20221126104107284"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1599885604-yDzVYK-Picture1.png" alt="Picture1.png"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/image-20221126104208372.png" alt="image-20221126104208372"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">myPow</span><span class="params">(<span class="type">double</span> x, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(x == <span class="number">0.0f</span>) <span class="keyword">return</span> <span class="number">0.0d</span>;</span><br><span class="line">        <span class="type">long</span> <span class="variable">b</span> <span class="operator">=</span> n;</span><br><span class="line">        <span class="type">double</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">1.0</span>;</span><br><span class="line">        <span class="keyword">if</span>(b &lt; <span class="number">0</span>) &#123;</span><br><span class="line">            x = <span class="number">1</span> / x;</span><br><span class="line">            b = -b;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(b &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span>((b &amp; <span class="number">1</span>) == <span class="number">1</span>) res *= x;</span><br><span class="line">            x *= x;</span><br><span class="line">            b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="9-4ã€å‰‘æŒ‡-Offer-17-æ‰“å°ä»-1-åˆ°æœ€å¤§çš„-n-ä½æ•°"><a href="#9-4ã€å‰‘æŒ‡-Offer-17-æ‰“å°ä»-1-åˆ°æœ€å¤§çš„-n-ä½æ•°" class="headerlink" title="9.4ã€å‰‘æŒ‡ Offer 17. æ‰“å°ä» 1 åˆ°æœ€å¤§çš„ n ä½æ•°"></a>9.4ã€å‰‘æŒ‡ Offer 17. æ‰“å°ä» 1 åˆ°æœ€å¤§çš„ n ä½æ•°</h3><p>è¾“å…¥æ•°å­— <code>n</code>ï¼ŒæŒ‰é¡ºåºæ‰“å°å‡ºä» 1 åˆ°æœ€å¤§çš„ n ä½åè¿›åˆ¶æ•°ã€‚æ¯”å¦‚è¾“å…¥ 3ï¼Œåˆ™æ‰“å°å‡º 1ã€2ã€3 ä¸€ç›´åˆ°æœ€å¤§çš„ 3 ä½æ•° 999ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: n = 1</span><br><span class="line">è¾“å‡º: [1,2,3,4,5,6,7,8,9]</span><br></pre></td></tr></table></figure>



<p>è¯´æ˜ï¼š</p>
<ul>
<li>ç”¨è¿”å›ä¸€ä¸ªæ•´æ•°åˆ—è¡¨æ¥ä»£æ›¿æ‰“å°</li>
<li>n ä¸ºæ­£æ•´æ•°</li>
</ul>
<p>Related Topics</p>
<p>æ•°ç»„</p>
<p>æ•°å­¦</p>
<p>ğŸ‘ 265</p>
<p>ğŸ‘ 0</p>
<p>è§£é¢˜æ€è·¯ï¼š<br>é¢˜ç›®è¦æ±‚æ‰“å° â€œä» 1 è‡³æœ€å¤§çš„ n ä½æ•°çš„åˆ—è¡¨â€ ï¼Œå› æ­¤éœ€è€ƒè™‘ä»¥ä¸‹ä¸¤ä¸ªé—®é¢˜ï¼š</p>
<ol>
<li>æœ€å¤§çš„ n ä½æ•°ï¼ˆè®°ä¸º end ï¼‰å’Œä½æ•° n çš„å…³ç³»ï¼š ä¾‹å¦‚æœ€å¤§çš„ 1 ä½æ•°æ˜¯ 9 ï¼Œæœ€å¤§çš„ 2 ä½æ•°æ˜¯ 99 ï¼Œæœ€å¤§çš„ 3 ä½æ•°æ˜¯ 999ã€‚åˆ™å¯æ¨å‡ºå…¬å¼ï¼šend &#x3D; 10^n - 1</li>
<li>å¤§æ•°è¶Šç•Œé—®é¢˜ï¼š å½“ n è¾ƒå¤§æ—¶ï¼Œend ä¼šè¶…å‡º int32 æ•´å‹çš„å–å€¼èŒƒå›´ï¼Œè¶…å‡ºå–å€¼èŒƒå›´çš„æ•°å­—æ— æ³•æ­£å¸¸å­˜å‚¨ã€‚ä½†ç”±äºæœ¬é¢˜è¦æ±‚è¿”å› int ç±»å‹æ•°ç»„ï¼Œç›¸å½“äºé»˜è®¤æ‰€æœ‰æ•°å­—éƒ½åœ¨ int32 æ•´å‹å–å€¼èŒƒå›´å†…ï¼Œå› æ­¤ä¸è€ƒè™‘å¤§æ•°è¶Šç•Œé—®é¢˜ã€‚</li>
</ol>
<p>å› æ­¤ï¼Œåªéœ€å®šä¹‰åŒºé—´ [1, 10^n - 1]å’Œæ­¥é•¿ 1 ï¼Œé€šè¿‡ for å¾ªç¯ç”Ÿæˆç»“æœåˆ—è¡¨ res å¹¶è¿”å›å³å¯ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span>[] printNumbers(<span class="type">int</span> n) &#123;</span><br><span class="line">    <span class="type">int</span>[] res = <span class="keyword">new</span> <span class="title class_">int</span>[(<span class="type">int</span>) Math.pow(<span class="number">10</span>, n) - <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; res.length; i++) &#123;</span><br><span class="line">        res[i] = i + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¤æ‚åº¦åˆ†æï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(10^n)ï¼š ç”Ÿæˆé•¿åº¦ä¸º 10^nçš„åˆ—è¡¨éœ€ä½¿ç”¨ O(10^n)æ—¶é—´ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(1)ï¼š å»ºç«‹åˆ—è¡¨éœ€ä½¿ç”¨ O(1) å¤§å°çš„é¢å¤–ç©ºé—´ï¼ˆ åˆ—è¡¨ä½œä¸ºè¿”å›ç»“æœï¼Œä¸è®¡å…¥é¢å¤–ç©ºé—´ ï¼‰ã€‚</li>
</ul>
<hr>
<h4 id="å¤§æ•°æ‰“å°è§£æ³•ï¼š"><a href="#å¤§æ•°æ‰“å°è§£æ³•ï¼š" class="headerlink" title="å¤§æ•°æ‰“å°è§£æ³•ï¼š"></a>å¤§æ•°æ‰“å°è§£æ³•ï¼š</h4><p>å®é™…ä¸Šï¼Œæœ¬é¢˜çš„ä¸»è¦è€ƒç‚¹æ˜¯å¤§æ•°è¶Šç•Œæƒ…å†µä¸‹çš„æ‰“å°ã€‚éœ€è¦è§£å†³ä»¥ä¸‹ä¸‰ä¸ªé—®é¢˜ï¼š</p>
<ol>
<li>è¡¨ç¤ºå¤§æ•°çš„å˜é‡ç±»å‹ï¼š<br>æ— è®ºæ˜¯ short &#x2F; int &#x2F; long â€¦ ä»»æ„å˜é‡ç±»å‹ï¼Œæ•°å­—çš„å–å€¼èŒƒå›´éƒ½æ˜¯æœ‰é™çš„ã€‚å› æ­¤ï¼Œå¤§æ•°çš„è¡¨ç¤ºåº”ç”¨å­—ç¬¦ä¸² String ç±»å‹ã€‚</li>
<li>ç”Ÿæˆæ•°å­—çš„å­—ç¬¦ä¸²é›†ï¼š<br>ä½¿ç”¨ int ç±»å‹æ—¶ï¼Œæ¯è½®å¯é€šè¿‡ +1+1 ç”Ÿæˆä¸‹ä¸ªæ•°å­—ï¼Œè€Œæ­¤æ–¹æ³•æ— æ³•åº”ç”¨è‡³ String ç±»å‹ã€‚å¹¶ä¸”ï¼Œ String ç±»å‹çš„æ•°å­—çš„è¿›ä½æ“ä½œæ•ˆç‡è¾ƒä½ï¼Œä¾‹å¦‚ â€œ9999â€ è‡³ â€œ10000â€ éœ€è¦ä»ä¸ªä½åˆ°åƒä½å¾ªç¯åˆ¤æ–­ï¼Œè¿›ä½ 4 æ¬¡ã€‚</li>
</ol>
<p>è§‚å¯Ÿå¯çŸ¥ï¼Œç”Ÿæˆçš„åˆ—è¡¨å®é™…ä¸Šæ˜¯ nn ä½ 00 - 99 çš„ å…¨æ’åˆ— ï¼Œå› æ­¤å¯é¿å¼€è¿›ä½æ“ä½œï¼Œé€šè¿‡é€’å½’ç”Ÿæˆæ•°å­—çš„ String åˆ—è¡¨ã€‚</p>
<ol start="3">
<li>é€’å½’ç”Ÿæˆå…¨æ’åˆ—ï¼š<br>åŸºäºåˆ†æ²»ç®—æ³•çš„æ€æƒ³ï¼Œå…ˆå›ºå®šé«˜ä½ï¼Œå‘ä½ä½é€’å½’ï¼Œå½“ä¸ªä½å·²è¢«å›ºå®šæ—¶ï¼Œæ·»åŠ æ•°å­—çš„å­—ç¬¦ä¸²ã€‚ä¾‹å¦‚å½“ n &#x3D; 2n&#x3D;2 æ—¶ï¼ˆæ•°å­—èŒƒå›´ 1 - 991âˆ’99 ï¼‰ï¼Œå›ºå®šåä½ä¸º 00 - 99 ï¼ŒæŒ‰é¡ºåºä¾æ¬¡å¼€å¯é€’å½’ï¼Œå›ºå®šä¸ªä½ 00 - 99 ï¼Œç»ˆæ­¢é€’å½’å¹¶æ·»åŠ æ•°å­—å­—ç¬¦ä¸²ã€‚</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/83f4b5930ddc1d42b05c724ea2950ee7f00427b11150c86b45bd88405f8c7c87-Picture1.png" alt="Picture1.png"></p>
<p>åˆæ­¥ç¼–å†™å…¨æ’åˆ—ä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    StringBuilder res;</span><br><span class="line">    <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>, n;</span><br><span class="line">    <span class="type">char</span>[] num, loop = &#123;<span class="string">&#x27;0&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;3&#x27;</span>, <span class="string">&#x27;4&#x27;</span>, <span class="string">&#x27;5&#x27;</span>, <span class="string">&#x27;6&#x27;</span>, <span class="string">&#x27;7&#x27;</span>, <span class="string">&#x27;8&#x27;</span>, <span class="string">&#x27;9&#x27;</span>&#125;;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">printNumbers</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.n = n;</span><br><span class="line">        res = <span class="keyword">new</span> <span class="title class_">StringBuilder</span>(); <span class="comment">// æ•°å­—å­—ç¬¦ä¸²é›†</span></span><br><span class="line">        num = <span class="keyword">new</span> <span class="title class_">char</span>[n]; <span class="comment">// å®šä¹‰é•¿åº¦ä¸º n çš„å­—ç¬¦åˆ—è¡¨</span></span><br><span class="line">        dfs(<span class="number">0</span>); <span class="comment">// å¼€å¯å…¨æ’åˆ—é€’å½’</span></span><br><span class="line">        res.deleteCharAt(res.length() - <span class="number">1</span>); <span class="comment">// åˆ é™¤æœ€åå¤šä½™çš„é€—å·</span></span><br><span class="line">        <span class="keyword">return</span> res.toString(); <span class="comment">// è½¬åŒ–ä¸ºå­—ç¬¦ä¸²å¹¶è¿”å›</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(x == n) &#123; <span class="comment">// ç»ˆæ­¢æ¡ä»¶ï¼šå·²å›ºå®šå®Œæ‰€æœ‰ä½</span></span><br><span class="line">            res.append(String.valueOf(num) + <span class="string">&quot;,&quot;</span>); <span class="comment">// æ‹¼æ¥ num å¹¶æ·»åŠ è‡³ res å°¾éƒ¨ï¼Œä½¿ç”¨é€—å·éš”å¼€</span></span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">char</span> i : loop) &#123; <span class="comment">// éå† â€˜0â€˜ - â€™9â€˜</span></span><br><span class="line">            num[x] = i; <span class="comment">// å›ºå®šç¬¬ x ä½ä¸º i</span></span><br><span class="line">            dfs(x + <span class="number">1</span>); <span class="comment">// å¼€å¯å›ºå®šç¬¬ x + 1 ä½</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨æ­¤æ–¹æ³•ä¸‹ï¼Œå„æ•°å­—å­—ç¬¦ä¸²è¢«é€—å·éš”å¼€ï¼Œå…±åŒç»„æˆé•¿å­—ç¬¦ä¸²ã€‚è¿”å›çš„æ•°å­—é›†å­—ç¬¦ä¸²å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = 1</span><br><span class="line">è¾“å‡ºï¼š&quot;0,1,2,3,4,5,6,7,8,9&quot;</span><br><span class="line"></span><br><span class="line">è¾“å…¥ï¼šn = 2</span><br><span class="line">è¾“å‡ºï¼š&quot;00,01,02,...,10,11,12,...,97,98,99&quot;</span><br><span class="line"></span><br><span class="line">è¾“å…¥ï¼šn = 3</span><br><span class="line">è¾“å‡ºï¼š&quot;000,001,002,...,100,101,102,...,997,998,999&quot;</span><br></pre></td></tr></table></figure>


<p>è§‚å¯Ÿå¯çŸ¥ï¼Œå½“å‰çš„ç”Ÿæˆæ–¹æ³•ä»æœ‰ä»¥ä¸‹é—®é¢˜ï¼š</p>
<ol>
<li>è¯¸å¦‚ 00, 01, 02,â‹¯ åº”æ˜¾ç¤ºä¸º 0, 1, 2, â‹¯ ï¼Œå³åº” åˆ é™¤é«˜ä½å¤šä½™çš„ 0 ;</li>
<li>æ­¤æ–¹æ³•ä» 00 å¼€å§‹ç”Ÿæˆï¼Œè€Œé¢˜ç›®è¦æ±‚ åˆ—è¡¨ä» 11 å¼€å§‹ ï¼›</li>
</ol>
<p>ä»¥ä¸Šä¸¤ä¸ªé—®é¢˜çš„è§£å†³æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<ol>
<li>åˆ é™¤é«˜ä½å¤šä½™çš„ 0 ï¼š</li>
</ol>
<ul>
<li><p>å­—ç¬¦ä¸²å·¦è¾¹ç•Œå®šä¹‰ï¼š å£°æ˜å˜é‡ start è§„å®šå­—ç¬¦ä¸²çš„å·¦è¾¹ç•Œï¼Œä»¥ä¿è¯æ·»åŠ çš„æ•°å­—å­—ç¬¦ä¸² num[start:] ä¸­æ— é«˜ä½å¤šä½™çš„ 0 ã€‚ä¾‹å¦‚å½“ n &#x3D; 2 æ—¶ï¼Œ 1 - 9 æ—¶ start &#x3D; 1 ï¼Œ 10 - 99 æ—¶ start &#x3D; 0s ã€‚</p>
</li>
<li><p>å·¦è¾¹ç•Œ start å˜åŒ–è§„å¾‹ï¼š è§‚å¯Ÿå¯çŸ¥ï¼Œå½“è¾“å‡ºæ•°å­—çš„æ‰€æœ‰ä½éƒ½æ˜¯ 9 æ—¶ï¼Œåˆ™ä¸‹ä¸ªæ•°å­—éœ€è¦å‘æ›´é«˜ä½è¿› 1 ï¼Œæ­¤æ—¶å·¦è¾¹ç•Œ start éœ€è¦å‡ 1 ï¼ˆå³é«˜ä½å¤šä½™çš„ 0 å‡å°‘ä¸€ä¸ªï¼‰ã€‚ä¾‹å¦‚å½“ n &#x3D; 3 ï¼ˆæ•°å­—èŒƒå›´ 1 - 999 ï¼‰æ—¶ï¼Œå·¦è¾¹ç•Œ start éœ€è¦å‡ 1 çš„æƒ…å†µæœ‰ï¼š â€œ009â€ è¿›ä½è‡³ â€œ010â€ ï¼Œ â€œ099â€ è¿›ä½è‡³ â€œ100â€ ã€‚è®¾æ•°å­—å„ä½ä¸­ 9 çš„æ•°é‡ä¸º nineï¼Œæ‰€æœ‰ä½éƒ½ä¸º 9 çš„åˆ¤æ–­æ¡ä»¶å¯ç”¨ä»¥ä¸‹å…¬å¼è¡¨ç¤ºï¼š</p>
</li>
</ul>
<p>â€‹																						n - start &#x3D; nine</p>
<p>â€‹		- ç»Ÿè®¡ nine çš„æ–¹æ³•ï¼š å›ºå®šç¬¬ xx ä½æ—¶ï¼Œå½“ i&#x3D;9 åˆ™æ‰§è¡Œ nine &#x3D; nine + 1 ï¼Œå¹¶åœ¨å›æº¯å‰æ¢å¤ nine &#x3D; nine - 1ã€‚</p>
<ol start="2">
<li>åˆ—è¡¨ä» 1 å¼€å§‹ï¼š</li>
</ol>
<ul>
<li>åœ¨ä»¥ä¸Šæ–¹æ³•çš„åŸºç¡€ä¸Šï¼Œæ·»åŠ æ•°å­—å­—ç¬¦ä¸²å‰åˆ¤æ–­å…¶æ˜¯å¦ä¸º â€œ0â€ ï¼Œè‹¥ä¸º â€œ0â€ åˆ™ç›´æ¥è·³è¿‡ã€‚</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/98054fcc5e43d84baba54224be52c5cd35b23fcc8dca3594e1068e6095f7b79a-Picture10.png" alt="img"></p>
<p>å¤æ‚åº¦åˆ†æï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(10^n)ï¼š é€’å½’çš„ç”Ÿæˆçš„æ’åˆ—çš„æ•°é‡ä¸º 10^n - 1</li>
<li>ç©ºé—´å¤æ‚åº¦ O(10^n)ï¼š ç»“æœåˆ—è¡¨ resres çš„é•¿åº¦ä¸º 10^n - 1 ï¼Œå„æ•°å­—å­—ç¬¦ä¸²çš„é•¿åº¦ä¸º 1, 2, â€¦, nï¼Œå› æ­¤å ç”¨ O(10^n) å¤§å°çš„é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    StringBuilder res;</span><br><span class="line">    <span class="type">int</span> <span class="variable">nine</span> <span class="operator">=</span> <span class="number">0</span>, count = <span class="number">0</span>, start, n;</span><br><span class="line">    <span class="type">char</span>[] num, loop = &#123;<span class="string">&#x27;0&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;3&#x27;</span>, <span class="string">&#x27;4&#x27;</span>, <span class="string">&#x27;5&#x27;</span>, <span class="string">&#x27;6&#x27;</span>, <span class="string">&#x27;7&#x27;</span>, <span class="string">&#x27;8&#x27;</span>, <span class="string">&#x27;9&#x27;</span>&#125;;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">printNumbers</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.n = n;</span><br><span class="line">        res = <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        num = <span class="keyword">new</span> <span class="title class_">char</span>[n];</span><br><span class="line">        start = n - <span class="number">1</span>;</span><br><span class="line">        dfs(<span class="number">0</span>);</span><br><span class="line">        res.deleteCharAt(res.length() - <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span> res.toString();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(x == n) &#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> String.valueOf(num).substring(start);</span><br><span class="line">            <span class="keyword">if</span>(!s.equals(<span class="string">&quot;0&quot;</span>)) res.append(s + <span class="string">&quot;,&quot;</span>);</span><br><span class="line">            <span class="keyword">if</span>(n - start == nine) start--;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">char</span> i : loop) &#123;</span><br><span class="line">            <span class="keyword">if</span>(i == <span class="string">&#x27;9&#x27;</span>) nine++;</span><br><span class="line">            num[x] = i;</span><br><span class="line">            dfs(x + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        nine--;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿”å›æ•°ç»„æ ¼å¼ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="type">int</span>[] res;</span><br><span class="line">    <span class="type">int</span> <span class="variable">nine</span> <span class="operator">=</span> <span class="number">0</span>, count = <span class="number">0</span>, start, n;</span><br><span class="line">    <span class="type">char</span>[] num, loop = &#123;<span class="string">&#x27;0&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;3&#x27;</span>, <span class="string">&#x27;4&#x27;</span>, <span class="string">&#x27;5&#x27;</span>, <span class="string">&#x27;6&#x27;</span>, <span class="string">&#x27;7&#x27;</span>, <span class="string">&#x27;8&#x27;</span>, <span class="string">&#x27;9&#x27;</span>&#125;;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[] printNumbers(<span class="type">int</span> n) &#123;</span><br><span class="line">        <span class="built_in">this</span>.n = n;</span><br><span class="line">        res = <span class="keyword">new</span> <span class="title class_">int</span>[(<span class="type">int</span>)Math.pow(<span class="number">10</span>, n) - <span class="number">1</span>];</span><br><span class="line">        num = <span class="keyword">new</span> <span class="title class_">char</span>[n];</span><br><span class="line">        start = n - <span class="number">1</span>;</span><br><span class="line">        dfs(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(x == n) &#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> String.valueOf(num).substring(start);<span class="comment">//å–æ‰å‰è¾¹å¤šä½™çš„0</span></span><br><span class="line">            <span class="keyword">if</span>(!s.equals(<span class="string">&quot;0&quot;</span>)) res[count++] = Integer.parseInt(s);<span class="comment">//ä»1å¼€å§‹</span></span><br><span class="line">            <span class="keyword">if</span>(n - start == nine) start--;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">char</span> i : loop) &#123;</span><br><span class="line">            <span class="keyword">if</span>(i == <span class="string">&#x27;9&#x27;</span>) nine++;</span><br><span class="line">            num[x] = i;</span><br><span class="line">            dfs(x + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        nine--;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="9-5ã€å‰‘æŒ‡-Offer-33-äºŒå‰æœç´¢æ ‘çš„ååºéå†åºåˆ—"><a href="#9-5ã€å‰‘æŒ‡-Offer-33-äºŒå‰æœç´¢æ ‘çš„ååºéå†åºåˆ—" class="headerlink" title="9.5ã€å‰‘æŒ‡ Offer 33. äºŒå‰æœç´¢æ ‘çš„ååºéå†åºåˆ—"></a>9.5ã€å‰‘æŒ‡ Offer 33. äºŒå‰æœç´¢æ ‘çš„ååºéå†åºåˆ—</h3><p>è¾“å…¥ä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼Œåˆ¤æ–­è¯¥æ•°ç»„æ˜¯ä¸æ˜¯æŸäºŒå‰æœç´¢æ ‘çš„ååºéå†ç»“æœã€‚å¦‚æœæ˜¯åˆ™è¿”å› <code>true</code>ï¼Œå¦åˆ™è¿”å› <code>false</code>ã€‚å‡è®¾è¾“å…¥çš„æ•°ç»„çš„ä»»æ„ä¸¤ä¸ªæ•°å­—éƒ½äº’ä¸ç›¸åŒã€‚</p>
<p>å‚è€ƒä»¥ä¸‹è¿™é¢—äºŒå‰æœç´¢æ ‘ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">    5</span><br><span class="line">   / \</span><br><span class="line">  2   6</span><br><span class="line"> / \</span><br><span class="line">1   3</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: [1,6,3,2,5]</span><br><span class="line">è¾“å‡º: false</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: [1,3,2,6,5]</span><br><span class="line">è¾“å‡º: true</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ol>
<li><code>æ•°ç»„é•¿åº¦ &lt;= 1000</code></li>
</ol>
<p>Related Topics</p>
<p>æ ˆ</p>
<p>æ ‘</p>
<p>äºŒå‰æœç´¢æ ‘</p>
<p>é€’å½’</p>
<p>äºŒå‰æ ‘</p>
<p>å•è°ƒæ ˆ</p>
<p>ğŸ‘ 637</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p><strong>ååºéå†å®šä¹‰</strong>ï¼š [ å·¦å­æ ‘ | å³å­æ ‘ | æ ¹èŠ‚ç‚¹ ] ï¼Œå³éå†é¡ºåºä¸º â€œå·¦ã€å³ã€æ ¹â€ ã€‚</p>
<p><strong>äºŒå‰æœç´¢æ ‘å®šä¹‰</strong>ï¼š å·¦å­æ ‘ä¸­æ‰€æœ‰èŠ‚ç‚¹çš„å€¼ &lt; æ ¹èŠ‚ç‚¹çš„å€¼ï¼›å³å­æ ‘ä¸­æ‰€æœ‰èŠ‚ç‚¹çš„å€¼ &gt; æ ¹èŠ‚ç‚¹çš„å€¼ï¼›å…¶å·¦ã€å³å­æ ‘ä¹Ÿåˆ†åˆ«ä¸ºäºŒå‰æœç´¢æ ‘ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1599753507-JrFBjm-Picture1.png" alt="Picture1.png"></p>
<h4 id="æ–¹æ³•ä¸€ï¼šé€’å½’åˆ†æ²»"><a href="#æ–¹æ³•ä¸€ï¼šé€’å½’åˆ†æ²»" class="headerlink" title="æ–¹æ³•ä¸€ï¼šé€’å½’åˆ†æ²»"></a>æ–¹æ³•ä¸€ï¼šé€’å½’åˆ†æ²»</h4><p>æ ¹æ®äºŒå‰æœç´¢æ ‘çš„å®šä¹‰ï¼Œå¯ä»¥é€šè¿‡é€’å½’ï¼Œåˆ¤æ–­æ‰€æœ‰å­æ ‘çš„ <strong>æ­£ç¡®æ€§</strong> ï¼ˆå³å…¶ååºéå†æ˜¯å¦æ»¡è¶³äºŒå‰æœç´¢æ ‘çš„å®šä¹‰ï¼‰ ï¼Œè‹¥æ‰€æœ‰å­æ ‘éƒ½æ­£ç¡®ï¼Œåˆ™æ­¤åºåˆ—ä¸ºäºŒå‰æœç´¢æ ‘çš„ååºéå†ã€‚</p>
<p><strong>é€’å½’è§£æ</strong>ï¼š</p>
<ul>
<li>ç»ˆæ­¢æ¡ä»¶ï¼š å½“ iâ‰¥j ï¼Œè¯´æ˜æ­¤å­æ ‘èŠ‚ç‚¹æ•°é‡ â‰¤1 ï¼Œæ— éœ€åˆ¤åˆ«æ­£ç¡®æ€§ï¼Œå› æ­¤ç›´æ¥è¿”å› true ï¼›</li>
<li>é€’æ¨å·¥ä½œï¼š<ol>
<li>åˆ’åˆ†å·¦å³å­æ ‘ï¼š éå†ååºéå†çš„ [i, j] åŒºé—´å…ƒç´ ï¼Œå¯»æ‰¾ ç¬¬ä¸€ä¸ªå¤§äºæ ¹èŠ‚ç‚¹ çš„èŠ‚ç‚¹ï¼Œç´¢å¼•è®°ä¸º m ã€‚æ­¤æ—¶ï¼Œå¯åˆ’åˆ†å‡ºå·¦å­æ ‘åŒºé—´ [i,m-1] ã€å³å­æ ‘åŒºé—´ [m, j - 1] ã€æ ¹èŠ‚ç‚¹ç´¢å¼• j ã€‚</li>
<li>åˆ¤æ–­æ˜¯å¦ä¸ºäºŒå‰æœç´¢æ ‘ï¼š<ul>
<li>å·¦å­æ ‘åŒºé—´ [i, m - 1] å†…çš„æ‰€æœ‰èŠ‚ç‚¹éƒ½åº” &lt;postorder[j] ã€‚è€Œç¬¬ <code>1.åˆ’åˆ†å·¦å³å­æ ‘</code> æ­¥éª¤å·²ç»ä¿è¯å·¦å­æ ‘åŒºé—´çš„æ­£ç¡®æ€§ï¼Œå› æ­¤åªéœ€è¦åˆ¤æ–­å³å­æ ‘åŒºé—´å³å¯ã€‚</li>
<li>å³å­æ ‘åŒºé—´ [m, j-1] å†…çš„æ‰€æœ‰èŠ‚ç‚¹éƒ½åº” &gt; postorder[j] ã€‚å®ç°æ–¹å¼ä¸ºéå†ï¼Œå½“é‡åˆ° â‰¤postorder[j] çš„èŠ‚ç‚¹åˆ™è·³å‡ºï¼›åˆ™å¯é€šè¿‡ p &#x3D; j åˆ¤æ–­æ˜¯å¦ä¸ºäºŒå‰æœç´¢æ ‘ã€‚</li>
<li>è¿”å›å€¼ï¼š æ‰€æœ‰å­æ ‘éƒ½éœ€æ­£ç¡®æ‰å¯åˆ¤å®šæ­£ç¡®ï¼Œå› æ­¤ä½¿ç”¨ ä¸é€»è¾‘ç¬¦ &amp;&amp; è¿æ¥ã€‚<br>p &#x3D; j ï¼š åˆ¤æ–­ æ­¤æ ‘ æ˜¯å¦æ­£ç¡®ã€‚<br>recur(i, m - 1) ï¼š åˆ¤æ–­ æ­¤æ ‘çš„å·¦å­æ ‘ æ˜¯å¦æ­£ç¡®ã€‚<br>recur(m, j - 1)ï¼š åˆ¤æ–­ æ­¤æ ‘çš„å³å­æ ‘ æ˜¯å¦æ­£ç¡®ã€‚</li>
</ul>
</li>
</ol>
</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1599753507-TyHQkm-Picture9.png" alt="img"></p>
<p>å¤æ‚åº¦åˆ†æï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(N^2)ï¼š æ¯æ¬¡è°ƒç”¨ recur(i,j) å‡å»ä¸€ä¸ªæ ¹èŠ‚ç‚¹ï¼Œå› æ­¤é€’å½’å ç”¨O(N) ï¼›æœ€å·®æƒ…å†µä¸‹ï¼ˆå³å½“æ ‘é€€åŒ–ä¸ºé“¾è¡¨ï¼‰ï¼Œæ¯è½®é€’å½’éƒ½éœ€éå†æ ‘æ‰€æœ‰èŠ‚ç‚¹ï¼Œå ç”¨ O(N) ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(N) ï¼š æœ€å·®æƒ…å†µä¸‹ï¼ˆå³å½“æ ‘é€€åŒ–ä¸ºé“¾è¡¨ï¼‰ï¼Œé€’å½’æ·±åº¦å°†è¾¾åˆ° N ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">verifyPostorder</span><span class="params">(<span class="type">int</span>[] postorder)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> recur(postorder, <span class="number">0</span>, postorder.length - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">boolean</span> <span class="title function_">recur</span><span class="params">(<span class="type">int</span>[] postorder, <span class="type">int</span> i, <span class="type">int</span> j)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(i &gt;= j) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">p</span> <span class="operator">=</span> i;</span><br><span class="line">        <span class="keyword">while</span>(postorder[p] &lt; postorder[j]) p++; <span class="comment">// æ‰¾ç¬¬ä¸€ä¸ª&gt;æ ¹èŠ‚ç‚¹çš„èŠ‚ç‚¹ å°±æ˜¯å³å­æ ‘çš„æ ¹èŠ‚ç‚¹</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> p;</span><br><span class="line">        <span class="keyword">while</span>(postorder[p] &gt; postorder[j]) p++;<span class="comment">// éªŒè¯å³å­æ ‘</span></span><br><span class="line">        <span class="keyword">return</span> p == j &amp;&amp; recur(postorder, i, m - <span class="number">1</span>) &amp;&amp; recur(postorder, m, j - <span class="number">1</span>);<span class="comment">// åˆ†æ²»</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="æ–¹æ³•äºŒï¼šè¾…åŠ©å•è°ƒæ ˆ"><a href="#æ–¹æ³•äºŒï¼šè¾…åŠ©å•è°ƒæ ˆ" class="headerlink" title="æ–¹æ³•äºŒï¼šè¾…åŠ©å•è°ƒæ ˆ"></a>æ–¹æ³•äºŒï¼šè¾…åŠ©å•è°ƒæ ˆ</h4><p><strong>ååºéå†å€’åº</strong>ï¼š [ æ ¹èŠ‚ç‚¹ | å³å­æ ‘ | å·¦å­æ ‘ ] ã€‚ç±»ä¼¼ å…ˆåºéå†çš„é•œåƒ ï¼Œå³å…ˆåºéå†ä¸º â€œæ ¹ã€å·¦ã€å³â€ çš„é¡ºåºï¼Œè€Œååºéå†çš„å€’åºä¸º â€œæ ¹ã€å³ã€å·¦â€ é¡ºåºã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1599753507-KaeaWl-Picture10.png" alt="Picture10.png"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/image-20221127115157286.png" alt="image-20221127115157286"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/image-20221127115457068.png" alt="image-20221127115457068"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1599753507-mgqkoF-Picture11.png" alt="Picture11.png"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/image-20221127115646432.png" alt="image-20221127115646432"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/image-20221127115822659.png" alt="image-20221127115822659"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1599753507-LmdXnR-Picture17.png" alt="img"></p>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(N) ï¼š éå†postorder æ‰€æœ‰èŠ‚ç‚¹ï¼Œå„èŠ‚ç‚¹å‡å…¥æ ˆ &#x2F; å‡ºæ ˆä¸€æ¬¡ï¼Œä½¿ç”¨ O(N) æ—¶é—´ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(N) ï¼š æœ€å·®æƒ…å†µä¸‹ï¼Œå•è°ƒæ ˆ stackstack å­˜å‚¨æ‰€æœ‰èŠ‚ç‚¹ï¼Œä½¿ç”¨ O(N) é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">verifyPostorder</span><span class="params">(<span class="type">int</span>[] postorder)</span> &#123;</span><br><span class="line">        Stack&lt;Integer&gt; stack = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">        <span class="type">int</span> <span class="variable">root</span> <span class="operator">=</span> Integer.MAX_VALUE;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> postorder.length - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            <span class="keyword">if</span>(postorder[i] &gt; root) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">while</span>(!stack.isEmpty() &amp;&amp; stack.peek() &gt; postorder[i])</span><br><span class="line">                root = stack.pop();</span><br><span class="line">            stack.add(postorder[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="9-6ã€å‰‘æŒ‡-Offer-51-æ•°ç»„ä¸­çš„é€†åºå¯¹"><a href="#9-6ã€å‰‘æŒ‡-Offer-51-æ•°ç»„ä¸­çš„é€†åºå¯¹" class="headerlink" title="9.6ã€å‰‘æŒ‡ Offer 51. æ•°ç»„ä¸­çš„é€†åºå¯¹"></a>9.6ã€å‰‘æŒ‡ Offer 51. æ•°ç»„ä¸­çš„é€†åºå¯¹</h3><p>åœ¨æ•°ç»„ä¸­çš„ä¸¤ä¸ªæ•°å­—ï¼Œå¦‚æœå‰é¢ä¸€ä¸ªæ•°å­—å¤§äºåé¢çš„æ•°å­—ï¼Œåˆ™è¿™ä¸¤ä¸ªæ•°å­—ç»„æˆä¸€ä¸ªé€†åºå¯¹ã€‚è¾“å…¥ä¸€ä¸ªæ•°ç»„ï¼Œæ±‚å‡ºè¿™ä¸ªæ•°ç»„ä¸­çš„é€†åºå¯¹çš„æ€»æ•°ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: [7,5,6,4]</span><br><span class="line">è¾“å‡º: 5</span><br></pre></td></tr></table></figure>



<p><strong>é™åˆ¶ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0 &lt;= æ•°ç»„é•¿åº¦ &lt;= 50000</span><br></pre></td></tr></table></figure>

<p>Related Topics</p>
<p>æ ‘çŠ¶æ•°ç»„</p>
<p>çº¿æ®µæ ‘</p>
<p>æ•°ç»„</p>
<p>äºŒåˆ†æŸ¥æ‰¾</p>
<p>åˆ†æ²»</p>
<p>æœ‰åºé›†åˆ</p>
<p>å½’å¹¶æ’åº</p>
<p>ğŸ‘ 900</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<blockquote>
<p>ç›´è§‚æ¥çœ‹ï¼Œä½¿ç”¨æš´åŠ›ç»Ÿè®¡æ³•å³å¯ï¼Œå³éå†æ•°ç»„çš„æ‰€æœ‰æ•°å­—å¯¹å¹¶ç»Ÿè®¡é€†åºå¯¹æ•°é‡ã€‚æ­¤æ–¹æ³•æ—¶é—´å¤æ‚åº¦ä¸º O(N^2)ï¼Œè§‚å¯Ÿé¢˜ç›®ç»™å®šçš„æ•°ç»„é•¿åº¦èŒƒå›´ 0 â‰¤ N â‰¤ 50000 ï¼Œå¯çŸ¥æ­¤å¤æ‚åº¦æ˜¯ä¸èƒ½æ¥å—çš„ã€‚</p>
</blockquote>
<p>ã€Œå½’å¹¶æ’åºã€ä¸ã€Œé€†åºå¯¹ã€æ˜¯æ¯æ¯ç›¸å…³çš„ã€‚å½’å¹¶æ’åºä½“ç°äº† â€œåˆ†è€Œæ²»ä¹‹â€ çš„ç®—æ³•æ€æƒ³ï¼Œå…·ä½“ä¸ºï¼š</p>
<ul>
<li>åˆ†ï¼š ä¸æ–­å°†æ•°ç»„ä»ä¸­ç‚¹ä½ç½®åˆ’åˆ†å¼€ï¼ˆå³äºŒåˆ†æ³•ï¼‰ï¼Œå°†æ•´ä¸ªæ•°ç»„çš„æ’åºé—®é¢˜è½¬åŒ–ä¸ºå­æ•°ç»„çš„æ’åºé—®é¢˜ï¼›</li>
<li>æ²»ï¼š åˆ’åˆ†åˆ°å­æ•°ç»„é•¿åº¦ä¸º 1 æ—¶ï¼Œå¼€å§‹å‘ä¸Šåˆå¹¶ï¼Œä¸æ–­å°† <strong>è¾ƒçŸ­æ’åºæ•°ç»„</strong> åˆå¹¶ä¸º <strong>è¾ƒé•¿æ’åºæ•°ç»„</strong>ï¼Œç›´è‡³åˆå¹¶è‡³åŸæ•°ç»„æ—¶å®Œæˆæ’åºï¼›</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1614274007-nBQbZZ-Picture1.png" alt="Picture1.png"></p>
<p><strong>åˆå¹¶é˜¶æ®µ</strong> æœ¬è´¨ä¸Šæ˜¯ <strong>åˆå¹¶ä¸¤ä¸ªæ’åºæ•°ç»„</strong> çš„è¿‡ç¨‹ï¼Œè€Œæ¯å½“é‡åˆ° å·¦å­æ•°ç»„å½“å‰å…ƒç´  &gt; å³å­æ•°ç»„å½“å‰å…ƒç´  æ—¶ï¼Œæ„å‘³ç€ ã€Œå·¦å­æ•°ç»„å½“å‰å…ƒç´  è‡³ æœ«å°¾å…ƒç´ ã€ ä¸ ã€Œå³å­æ•°ç»„å½“å‰å…ƒç´ ã€ æ„æˆäº†è‹¥å¹² ã€Œé€†åºå¯¹ã€ ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1614274007-nIGXwT-Picture5.png" alt="img"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1614274007-oEmevZ-Picture7.png" alt="img"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1614274007-ounrkz-Picture13.png" alt="img"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1614274007-YlPdBQ-Picture15.png" alt="img"></p>
<p>å› æ­¤ï¼Œè€ƒè™‘åœ¨å½’å¹¶æ’åºçš„åˆå¹¶é˜¶æ®µç»Ÿè®¡ã€Œé€†åºå¯¹ã€æ•°é‡ï¼Œå®Œæˆå½’å¹¶æ’åºæ—¶ï¼Œä¹Ÿéšä¹‹å®Œæˆæ‰€æœ‰é€†åºå¯¹çš„ç»Ÿè®¡ã€‚</p>
<p>ç®—æ³•æµç¨‹ï¼š</p>
<p><code>merge_sort()</code> å½’å¹¶æ’åºä¸é€†åºå¯¹ç»Ÿè®¡ï¼š</p>
<ol>
<li>ç»ˆæ­¢æ¡ä»¶ï¼š å½“ leftâ‰¥right æ—¶ï¼Œä»£è¡¨å­æ•°ç»„é•¿åº¦ä¸º 1 ï¼Œæ­¤æ—¶ç»ˆæ­¢åˆ’åˆ†ï¼›(å·¦é—­å³é—­[])</li>
<li>é€’å½’åˆ’åˆ†ï¼š è®¡ç®—æ•°ç»„ä¸­ç‚¹ m ï¼Œé€’å½’åˆ’åˆ†å·¦å­æ•°ç»„ merge_sort(left, m) å’Œå³å­æ•°ç»„ merge_sort(m + 1, right) ï¼›</li>
<li>åˆå¹¶ä¸é€†åºå¯¹ç»Ÿè®¡ï¼š<ol>
<li>æš‚å­˜æ•°ç»„ nums é—­åŒºé—´ [left, right] å†…çš„å…ƒç´ è‡³è¾…åŠ©æ•°ç»„ tmp ï¼›</li>
<li>å¾ªç¯åˆå¹¶ï¼š è®¾ç½®åŒæŒ‡é’ˆ i , j åˆ†åˆ«æŒ‡å‘å·¦ &#x2F; å³å­æ•°ç»„çš„é¦–å…ƒç´ ï¼›<ul>
<li>å½“ i &#x3D; m + 1 æ—¶ï¼š ä»£è¡¨å·¦å­æ•°ç»„å·²åˆå¹¶å®Œï¼Œå› æ­¤æ·»åŠ å³å­æ•°ç»„å½“å‰å…ƒç´  tmp[j] ï¼Œå¹¶æ‰§è¡Œ j &#x3D; j + 1 ï¼›</li>
<li>å¦åˆ™ï¼Œå½“ j &#x3D; r + 1 æ—¶ï¼š ä»£è¡¨å³å­æ•°ç»„å·²åˆå¹¶å®Œï¼Œå› æ­¤æ·»åŠ å·¦å­æ•°ç»„å½“å‰å…ƒç´  tmp[i] ï¼Œå¹¶æ‰§è¡Œ i &#x3D; i + 1 ï¼›</li>
<li>å¦åˆ™ï¼Œå½“ tmp[i]â‰¤tmp[j] æ—¶ï¼š æ·»åŠ å·¦å­æ•°ç»„å½“å‰å…ƒç´  tmp[i]ï¼Œå¹¶æ‰§è¡Œ i &#x3D; i + 1ï¼›</li>
<li>å¦åˆ™ï¼ˆå³ tmp[i] &gt; tmp[j]ï¼‰æ—¶ï¼š æ·»åŠ å³å­æ•°ç»„å½“å‰å…ƒç´  tmp[j] ï¼Œå¹¶æ‰§è¡Œ j &#x3D; j + 1 ï¼›æ­¤æ—¶æ„æˆ m - i + 1 ä¸ªã€Œé€†åºå¯¹ã€ï¼Œç»Ÿè®¡æ·»åŠ è‡³ res ï¼›</li>
</ul>
</li>
</ol>
</li>
<li>è¿”å›å€¼ï¼š è¿”å›ç›´è‡³ç›®å‰çš„é€†åºå¯¹æ€»æ•° res ï¼›</li>
</ol>
<p><code>reversePairs()</code> ä¸»å‡½æ•°ï¼š</p>
<ol>
<li>åˆå§‹åŒ–ï¼š è¾…åŠ©æ•°ç»„ tmp ï¼Œç”¨äºåˆå¹¶é˜¶æ®µæš‚å­˜å…ƒç´ ï¼›</li>
<li>è¿”å›å€¼ï¼š æ‰§è¡Œå½’å¹¶æ’åº merge_sort() ï¼Œå¹¶è¿”å›é€†åºå¯¹æ€»æ•°å³å¯ï¼›</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1614274007-rtFHbG-Picture2.png" alt="Picture2.png"></p>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(NlogN) ï¼š å…¶ä¸­ N ä¸ºæ•°ç»„é•¿åº¦ï¼›å½’å¹¶æ’åºä½¿ç”¨ O(NlogN) æ—¶é—´ï¼›</li>
<li>ç©ºé—´å¤æ‚åº¦ O(N) ï¼š è¾…åŠ©æ•°ç»„ tmp å ç”¨ O(N) å¤§å°çš„é¢å¤–ç©ºé—´ï¼›</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span>[] nums, tmp;</span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">reversePairs</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.nums = nums;</span><br><span class="line">    tmp = <span class="keyword">new</span> <span class="title class_">int</span>[nums.length];</span><br><span class="line">    <span class="keyword">return</span> mergeSort(<span class="number">0</span>, nums.length - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="type">int</span> <span class="title function_">mergeSort</span><span class="params">(<span class="type">int</span> left, <span class="type">int</span> right)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (left &gt;= right) &#123; <span class="comment">// ç»ˆæ­¢æ¡ä»¶</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// é€’å½’åˆ’åˆ†</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> (left + right) / <span class="number">2</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> mergeSort(left, mid) + mergeSort(mid + <span class="number">1</span>, right);</span><br><span class="line">    <span class="comment">// åˆå¹¶é˜¶æ®µ</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> left, j = mid + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> left; k &lt;= right; k++) &#123;</span><br><span class="line">        tmp[k] = nums[k];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> left; k &lt;= right; k++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (i == mid + <span class="number">1</span>)</span><br><span class="line">            nums[k] = tmp[j++];</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (j == right + <span class="number">1</span> || tmp[i] &lt;= tmp[j])</span><br><span class="line">            nums[k] = tmp[i++];</span><br><span class="line">        <span class="keyword">else</span> &#123; <span class="comment">// tmp[i]&gt;tmp[j]</span></span><br><span class="line">            nums[k] = nums[j++];</span><br><span class="line">            res += mid - i + <span class="number">1</span>; <span class="comment">// ç»Ÿè®¡é€†åºæ•°</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="åã€æ’åºç®—æ³•"><a href="#åã€æ’åºç®—æ³•" class="headerlink" title="åã€æ’åºç®—æ³•"></a>åã€æ’åºç®—æ³•</h2><h3 id="1ã€ç®€ä»‹"><a href="#1ã€ç®€ä»‹" class="headerlink" title="1ã€ç®€ä»‹"></a>1ã€ç®€ä»‹</h3><h4 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h4><p>æ’åºç®—æ³•ç”¨ä½œå®ç°åˆ—è¡¨çš„æ’åºï¼Œåˆ—è¡¨å…ƒç´ å¯ä»¥æ˜¯æ•´æ•°ï¼Œä¹Ÿå¯ä»¥æ˜¯æµ®ç‚¹æ•°ã€å­—ç¬¦ä¸²ç­‰å…¶ä»–æ•°æ®ç±»å‹ã€‚ç”Ÿæ´»ä¸­æœ‰è®¸å¤šéœ€è¦æ’åºç®—æ³•çš„åœºæ™¯ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>æ•´æ•°æ’åºï¼š å¯¹äºä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼Œæˆ‘ä»¬å¸Œæœ›å°†æ‰€æœ‰æ•°å­—ä»å°åˆ°å¤§æ’åºï¼›</li>
<li>å­—ç¬¦ä¸²æ’åºï¼š å¯¹äºä¸€ä¸ªå§“ååˆ—è¡¨ï¼Œæˆ‘ä»¬å¸Œæœ›å°†æ‰€æœ‰å•è¯æŒ‰ç…§å­—ç¬¦å…ˆåæ’åºï¼›</li>
<li>è‡ªå®šä¹‰æ’åºï¼š å¯¹äºä»»æ„ä¸€ä¸ª å·²å®šä¹‰æ¯”è¾ƒè§„åˆ™ çš„é›†åˆï¼Œæˆ‘ä»¬å¸Œæœ›å°†å…¶æŒ‰è§„åˆ™æ’åºï¼›</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1629483616-HHvvqY-Picture1.png" alt="Picture1.png"></p>
<p>åŒæ—¶ï¼ŒæŸäº›ç®—æ³•éœ€è¦åœ¨æ’åºç®—æ³•çš„åŸºç¡€ä¸Šä½¿ç”¨ï¼ˆå³åœ¨æ’åºæ•°ç»„ä¸Šè¿è¡Œï¼‰ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>äºŒåˆ†æŸ¥æ‰¾ï¼š æ ¹æ®æ•°ç»„å·²æ’åºçš„ç‰¹æ€§ï¼Œæ‰èƒ½æ¯è½®ç¡®å®šæ’é™¤ä¸¤éƒ¨åˆ†ä¸­çš„å“ªä¸€éƒ¨åˆ†ï¼›</li>
<li>åŒæŒ‡é’ˆï¼š ä¾‹å¦‚åˆå¹¶ä¸¤ä¸ªæ’åºé“¾è¡¨ï¼Œæ ¹æ®å·²æ’åºç‰¹æ€§ï¼Œæ‰èƒ½é€šè¿‡åŒæŒ‡é’ˆç§»åŠ¨åœ¨çº¿æ€§æ—¶é—´å†…å°†å…¶åˆå¹¶ä¸ºä¸€ä¸ªæ’åºé“¾è¡¨ã€‚</li>
</ul>
<h4 id="å¸¸è§ç®—æ³•"><a href="#å¸¸è§ç®—æ³•" class="headerlink" title="å¸¸è§ç®—æ³•"></a>å¸¸è§ç®—æ³•</h4><p>å¸¸è§æ’åºç®—æ³•åŒ…æ‹¬ã€Œå†’æ³¡æ’åºã€ã€ã€Œæ’å…¥æ’åºã€ã€ã€Œé€‰æ‹©æ’åºã€ã€ã€Œå¿«é€Ÿæ’åºã€ã€ã€Œå½’å¹¶æ’åºã€ã€ã€Œå †æ’åºã€ã€ã€ŒåŸºæ•°æ’åºã€ã€ã€Œæ¡¶æ’åºã€ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œä¸ºå„æ’åºç®—æ³•çš„æ ¸å¿ƒç‰¹æ€§ä¸æ—¶ç©ºå¤æ‚åº¦æ€»ç»“ã€‚<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1629483637-tmENTT-Picture2.png" alt="Picture2.png"></p>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œä¸ºåœ¨ ã€Œéšæœºä¹±åºã€ã€ã€Œæ¥è¿‘æœ‰åºã€ã€ã€Œå®Œå…¨å€’åºã€ã€ã€Œå°‘æ•°ç‹¬ç‰¹ã€å››ç±»è¾“å…¥æ•°æ®ä¸‹ï¼Œå„å¸¸è§æ’åºç®—æ³•çš„æ’åºè¿‡ç¨‹ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1629482805-alxVCi-krahets-bubble-sort.gif" alt="krahets-bubble-sort.gif"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1629482805-MMIXPp-krahets-insertion-sort.gif" alt="krahets-insertion-sort.gif"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1629482805-vdWamx-krahets-selection-sort.gif" alt="krahets-selection-sort.gif"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1629482805-DYNZPE-krahets-quick-sort.gif" alt="krahets-quick-sort.gif"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1629482805-IjWwSz-krahets-merge-sort.gif" alt="krahets-merge-sort.gif"></p>
<h4 id="åˆ†ç±»æ–¹æ³•"><a href="#åˆ†ç±»æ–¹æ³•" class="headerlink" title="åˆ†ç±»æ–¹æ³•"></a>åˆ†ç±»æ–¹æ³•</h4><p>æ’åºç®—æ³•ä¸»è¦å¯æ ¹æ® <code>ç¨³å®šæ€§</code> ã€<code>å°±åœ°æ€§</code> ã€<code>è‡ªé€‚åº”æ€§</code> åˆ†ç±»ã€‚ç†æƒ³çš„æ’åºç®—æ³•å…·æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼š</p>
<ul>
<li>å…·æœ‰ç¨³å®šæ€§ï¼Œå³ç›¸ç­‰å…ƒç´ çš„ç›¸å¯¹ä½ç½®ä¸å˜åŒ–ï¼›</li>
<li>å…·æœ‰å°±åœ°æ€§ï¼Œå³ä¸ä½¿ç”¨é¢å¤–çš„è¾…åŠ©ç©ºé—´ï¼›</li>
<li>å…·æœ‰è‡ªé€‚åº”æ€§ï¼Œå³æ—¶é—´å¤æ‚åº¦å—å…ƒç´ åˆ†å¸ƒå½±å“ï¼›</li>
</ul>
<p>ç‰¹åˆ«åœ°ï¼Œä»»æ„æ’åºç®—æ³•éƒ½ <strong>ä¸åŒæ—¶å…·æœ‰ä»¥ä¸Šæ‰€æœ‰ç‰¹æ€§</strong> ã€‚å› æ­¤ï¼Œæ’åºç®—æ³•çš„é€‰å‹ä½¿ç”¨å–å†³äºå…·ä½“çš„åˆ—è¡¨ç±»å‹ã€å…ƒç´ æ•°é‡ã€å…ƒç´ åˆ†å¸ƒæƒ…å†µç­‰åº”ç”¨åœºæ™¯ç‰¹ç‚¹ã€‚</p>
<p><strong>ç¨³å®šæ€§ï¼š</strong></p>
<p>æ ¹æ® <code>ç›¸ç­‰å…ƒç´ </code> åœ¨æ•°ç»„ä¸­çš„ <code>ç›¸å¯¹é¡ºåº</code> æ˜¯å¦è¢«æ”¹å˜ï¼Œæ’åºç®—æ³•å¯åˆ†ä¸ºã€Œç¨³å®šæ’åºã€å’Œã€Œéç¨³å®šæ’åºã€ä¸¤ç±»ã€‚</p>
<ul>
<li>ã€Œç¨³å®šæ’åºã€åœ¨å®Œæˆæ’åºåï¼Œä¸æ”¹å˜ ç›¸ç­‰å…ƒç´ åœ¨æ•°ç»„ä¸­çš„ç›¸å¯¹é¡ºåºã€‚ä¾‹å¦‚ï¼šå†’æ³¡æ’åºã€æ’å…¥æ’åºã€å½’å¹¶æ’åºã€åŸºæ•°æ’åºã€æ¡¶æ’åºã€‚</li>
<li>ã€Œéç¨³å®šæ’åºã€åœ¨å®Œæˆæ’åºåï¼Œç›¸ç­‰ç´ åœ¨æ•°ç»„ä¸­çš„ç›¸å¯¹ä½ç½® å¯èƒ½è¢«æ”¹å˜ã€‚ä¾‹å¦‚ï¼šé€‰æ‹©æ’åºã€å¿«é€Ÿæ’åºã€å †æ’åºã€‚</li>
</ul>
<blockquote>
<p><strong>ä½•æ—¶éœ€è€ƒè™‘æ’åºç®—æ³•çš„ç¨³å®šæ€§ï¼Ÿ</strong></p>
<p>æ•°ç»„æ’åºä¸­ï¼Œç”±äºå…ƒç´ çš†ä¸ºæ•°å­—ï¼Œå› æ­¤ç¨³å®šå’Œéç¨³å®šæ’åºçš†å¯è¾“å‡ºç›¸åŒç»“æœï¼Œæ­¤æ—¶æ— éœ€è€ƒè™‘æ’åºç®—æ³•çš„ç¨³å®šæ€§ã€‚</p>
<p>éç¨³å®šæ’åºä¼šæ”¹å˜ç›¸ç­‰å…ƒç´ çš„ç›¸å¯¹æ¬¡åºï¼Œè¿™åœ¨å®é™…åº”ç”¨åœºæ™¯ä¸­å¯èƒ½æ˜¯ä¸èƒ½æ¥å—çš„ã€‚å¦‚ä»¥ä¸‹ä»£ç æ‰€ç¤ºï¼Œéç¨³å®šæ’åºç ´åäº†è¾“å…¥åˆ—è¡¨ people æŒ‰å§“åæ’åºçš„æ€§è´¨ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="comment">//äºº = (å§“å, å¹´é¾„) ï¼ŒæŒ‰å§“åæ’åº</span></span><br><span class="line"></span><br><span class="line">&gt;people = &#123;</span><br><span class="line">   (<span class="string">&#x27;A&#x27;</span>, <span class="number">19</span>),</span><br><span class="line">   (<span class="string">&#x27;B&#x27;</span>, <span class="number">18</span>),</span><br><span class="line">   (<span class="string">&#x27;C&#x27;</span>, <span class="number">21</span>),</span><br><span class="line">   (<span class="string">&#x27;D&#x27;</span>, <span class="number">19</span>),</span><br><span class="line">   (<span class="string">&#x27;E&#x27;</span>, <span class="number">23</span>)</span><br><span class="line">&gt;&#125;</span><br><span class="line"></span><br><span class="line">&gt;<span class="comment">//éç¨³å®šæ’åºï¼ˆæŒ‰å¹´é¾„ï¼‰</span></span><br><span class="line">&gt;sort_by_age(people)</span><br><span class="line"></span><br><span class="line">&gt;<span class="comment">//äºº = (å§“å, å¹´é¾„) ï¼ŒæŒ‰å¹´é¾„æ’åº</span></span><br><span class="line"></span><br><span class="line">&gt;people = &#123;</span><br><span class="line">   (<span class="string">&#x27;B&#x27;</span>, <span class="number">18</span>),</span><br><span class="line">   (<span class="string">&#x27;D&#x27;</span>, <span class="number">19</span>), # (<span class="string">&#x27;D&#x27;</span>, <span class="number">19</span>) å’Œ (<span class="string">&#x27;A&#x27;</span>, <span class="number">19</span>) çš„ç›¸å¯¹ä½ç½®æ”¹å˜ï¼Œè¾“å…¥æ—¶æŒ‰å§“åæ’åºçš„æ€§è´¨ä¸¢å¤±</span><br><span class="line">   (<span class="string">&#x27;A&#x27;</span>, <span class="number">19</span>),</span><br><span class="line">   (<span class="string">&#x27;C&#x27;</span>, <span class="number">21</span>),</span><br><span class="line">   (<span class="string">&#x27;E&#x27;</span>, <span class="number">23</span>)</span><br><span class="line">&gt;&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<p><strong>å°±åœ°æ€§</strong>ï¼š<br>æ ¹æ®æ’åºè¿‡ç¨‹ä¸­ <code>æ˜¯å¦ä½¿ç”¨é¢å¤–å†…å­˜ï¼ˆè¾…åŠ©æ•°ç»„ï¼‰</code>ï¼Œæ’åºç®—æ³•å¯åˆ†ä¸ºã€ŒåŸåœ°æ’åºã€å’Œã€Œå¼‚åœ°æ’åºã€ä¸¤ç±»ã€‚ä¸€èˆ¬åœ°ï¼Œç”±äºä¸ä½¿ç”¨å¤–éƒ¨å†…å­˜ï¼ŒåŸåœ°æ’åºç›¸æ¯”éåŸåœ°æ’åºçš„æ‰§è¡Œæ•ˆç‡æ›´é«˜ã€‚</p>
<ul>
<li>ã€ŒåŸåœ°æ’åºã€ä¸ä½¿ç”¨é¢å¤–è¾…åŠ©æ•°ç»„ï¼Œä¾‹å¦‚ï¼šå†’æ³¡æ’åºã€æ’å…¥æ’åºã€é€‰æ‹©æ’åºã€å¿«é€Ÿæ’åºã€å †æ’åºã€‚</li>
<li>ã€ŒéåŸåœ°æ’åºã€ä½¿ç”¨é¢å¤–è¾…åŠ©æ•°ç»„ï¼Œä¾‹å¦‚ï¼šå½’å¹¶æ’åºã€åŸºæ•°æ’åºã€æ¡¶æ’åºã€‚</li>
</ul>
<p><strong>è‡ªé€‚åº”æ€§</strong>ï¼š<br>æ ¹æ®ç®—æ³• <code>æ—¶é—´å¤æ‚åº¦</code> æ˜¯å¦ <code>å—å¾…æ’åºæ•°ç»„çš„å…ƒç´ åˆ†å¸ƒå½±å“</code> ï¼Œæ’åºç®—æ³•å¯åˆ†ä¸ºã€Œè‡ªé€‚åº”æ’åºã€å’Œã€Œéè‡ªé€‚åº”æ’åºã€ä¸¤ç±»ã€‚</p>
<ul>
<li>ã€Œè‡ªé€‚åº”æ’åºã€çš„æ—¶é—´å¤æ‚åº¦å—å…ƒç´ åˆ†å¸ƒå½±å“ï¼›ä¾‹å¦‚ï¼šå†’æ³¡æ’åºã€æ’å…¥æ’åºã€å¿«é€Ÿæ’åºã€æ¡¶æ’åºã€‚</li>
<li>ã€Œéè‡ªé€‚åº”æ’åºã€çš„æ—¶é—´å¤æ‚åº¦æ’å®šï¼›ä¾‹å¦‚ï¼šé€‰æ‹©æ’åºã€å½’å¹¶æ’åºã€å †æ’åºã€åŸºæ•°æ’åºã€‚</li>
</ul>
<p><strong>æ¯”è¾ƒç±»</strong>ï¼š<br>æ¯”è¾ƒç±»æ’åºåŸºäºå…ƒç´ ä¹‹é—´çš„ <code>æ¯”è¾ƒç®—å­</code>ï¼ˆå°äºã€ç›¸ç­‰ã€å¤§äºï¼‰æ¥å†³å®šå…ƒç´ çš„ç›¸å¯¹é¡ºåºï¼›ç›¸å¯¹çš„ï¼Œéæ¯”è¾ƒæ’åºåˆ™ä¸åŸºäºæ¯”è¾ƒç®—å­å®ç°ã€‚</p>
<ul>
<li>ã€Œæ¯”è¾ƒç±»æ’åºã€åŸºäºå…ƒç´ ä¹‹é—´çš„æ¯”è¾ƒå®Œæˆæ’åºï¼Œä¾‹å¦‚ï¼šå†’æ³¡æ’åºã€æ’å…¥æ’åºã€é€‰æ‹©æ’åºã€å¿«é€Ÿæ’åºã€å½’å¹¶æ’åºã€å †æ’åºã€‚</li>
<li>ã€Œéæ¯”è¾ƒç±»æ’åºã€ä¸åŸºäºå…ƒç´ ä¹‹é—´çš„æ¯”è¾ƒå®Œæˆæ’åºï¼Œä¾‹å¦‚ï¼šåŸºæ•°æ’åºã€æ¡¶æ’åºã€‚</li>
</ul>
<blockquote>
<p>åŸºäºæ¯”è¾ƒçš„æ’åºç®—æ³•çš„å¹³å‡æ—¶é—´å¤æ‚åº¦æœ€ä¼˜ä¸º O(NlogN) ï¼Œè€Œéæ¯”è¾ƒæ’åºç®—æ³•å¯ä»¥è¾¾åˆ°çº¿æ€§çº§åˆ«çš„æ—¶é—´å¤æ‚åº¦ã€‚</p>
</blockquote>
<h4 id="æ—¶ç©ºå¤æ‚åº¦"><a href="#æ—¶ç©ºå¤æ‚åº¦" class="headerlink" title="æ—¶ç©ºå¤æ‚åº¦"></a>æ—¶ç©ºå¤æ‚åº¦</h4><p>æ€»ä½“ä¸Šçœ‹ï¼Œæ’åºç®—æ³•è¿½æ±‚æ—¶é—´ä¸ç©ºé—´å¤æ‚åº¦æœ€ä½ã€‚è€Œå³ä½¿æŸäº›æ’åºç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ç›¸ç­‰ï¼Œä½†å®é™…æ€§èƒ½è¿˜å— <strong>è¾“å…¥åˆ—è¡¨æ€§è´¨ã€å…ƒç´ æ•°é‡ã€å…ƒç´ åˆ†å¸ƒç­‰</strong> ç­‰å› ç´ å½±å“ã€‚</p>
<blockquote>
<p>è®¾è¾“å…¥åˆ—è¡¨å…ƒç´ æ•°é‡ä¸º N ï¼Œå¸¸è§æ’åºç®—æ³•çš„ã€Œæ—¶é—´å¤æ‚åº¦ã€å’Œã€Œç©ºé—´å¤æ‚åº¦ã€å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/image-20221130102440078.png" alt="image-20221130102440078"></p>
<p>å¯¹äºä¸Šè¡¨ï¼Œéœ€è¦ç‰¹åˆ«æ³¨æ„ï¼š</p>
<ul>
<li>ã€ŒåŸºæ•°æ’åºã€é€‚ç”¨äºæ­£æ•´æ•°ã€å­—ç¬¦ä¸²ã€ç‰¹å®šæ ¼å¼çš„æµ®ç‚¹æ•°æ’åºï¼Œk ä¸ºæœ€å¤§æ•°å­—çš„ä½æ•°ï¼›ã€Œæ¡¶æ’åºã€ä¸­ k ä¸ºæ¡¶çš„æ•°é‡ã€‚</li>
<li>æ™®é€šã€Œå†’æ³¡æ’åºã€çš„æœ€ä½³æ—¶é—´å¤æ‚åº¦ä¸º O(N^2)ï¼Œé€šè¿‡å¢åŠ æ ‡å¿—ä½å®ç° æå‰è¿”å› ï¼Œå¯ä»¥å°†æœ€ä½³æ—¶é—´å¤æ‚åº¦é™ä½è‡³ O(N) ã€‚</li>
<li>åœ¨è¾“å…¥åˆ—è¡¨å®Œå…¨å€’åºä¸‹ï¼Œæ™®é€šã€Œå¿«é€Ÿæ’åºã€çš„ç©ºé—´å¤æ‚åº¦åŠ£åŒ–è‡³ O(N) ï¼Œé€šè¿‡ä»£ç ä¼˜åŒ– Tail Call Optimization ä¿æŒç®—æ³•é€’å½’è¾ƒçŸ­å­æ•°ç»„ï¼Œå¯ä»¥å°†æœ€å·®é€’å½’æ·±åº¦é™ä½è‡³ logN ã€‚</li>
<li>æ™®é€šã€Œå¿«é€Ÿæ’åºã€æ€»ä»¥æœ€å·¦æˆ–æœ€å³å…ƒç´ ä¸ºåŸºå‡†æ•°ï¼Œå› æ­¤åœ¨è¾“å…¥åˆ—è¡¨æœ‰åºæˆ–å€’åºä¸‹ï¼Œæ—¶é—´å¤æ‚åº¦åŠ£åŒ–è‡³ O(N^2)ï¼›é€šè¿‡ éšæœºé€‰æ‹©åŸºå‡†æ•° ï¼Œå¯æå¤§å‡å°‘æ­¤ç±»æœ€å·®æƒ…å†µå‘ç”Ÿï¼Œå°½å¯èƒ½åœ°ä¿æŒ O(NlogN) çš„æ—¶é—´å¤æ‚åº¦ã€‚</li>
<li>è‹¥è¾“å…¥åˆ—è¡¨æ˜¯æ•°ç»„ï¼Œåˆ™å½’å¹¶æ’åºçš„ç©ºé—´å¤æ‚åº¦ä¸º O(N) ï¼›è€Œè‹¥æ’åº é“¾è¡¨ ï¼Œåˆ™ã€Œå½’å¹¶æ’åºã€ä¸éœ€è¦å€ŸåŠ©é¢å¤–è¾…åŠ©ç©ºé—´ï¼Œç©ºé—´å¤æ‚åº¦å¯ä»¥é™ä½è‡³ )O(1) ã€‚</li>
</ul>
<h3 id="2ã€å†’æ³¡æ’åº"><a href="#2ã€å†’æ³¡æ’åº" class="headerlink" title="2ã€å†’æ³¡æ’åº"></a>2ã€å†’æ³¡æ’åº</h3><p><strong>ç®—æ³•è§£æ</strong></p>
<p>å†’æ³¡æ’åºæ˜¯æœ€åŸºç¡€çš„æ’åºç®—æ³•ï¼Œç”±äºå…¶ç›´è§‚æ€§ï¼Œç»å¸¸ä½œä¸ºé¦–ä¸ªä»‹ç»çš„æ’åºç®—æ³•ã€‚å…¶åŸç†ä¸ºï¼š</p>
<ul>
<li>å†…å¾ªç¯ï¼š ä½¿ç”¨ç›¸é‚»åŒæŒ‡é’ˆ j , j + 1 ä»å·¦è‡³å³éå†ï¼Œä¾æ¬¡æ¯”è¾ƒç›¸é‚»å…ƒç´ å¤§å°ï¼Œè‹¥å·¦å…ƒç´ å¤§äºå³å…ƒç´ åˆ™å°†å®ƒä»¬äº¤æ¢ï¼›éå†å®Œæˆæ—¶ï¼Œ<code>æœ€å¤§å…ƒç´ ä¼šè¢«äº¤æ¢è‡³æ•°ç»„æœ€å³è¾¹</code> ã€‚</li>
<li>å¤–å¾ªç¯ï¼š ä¸æ–­é‡å¤ã€Œå†…å¾ªç¯ã€ï¼Œæ¯è½®å°†å½“å‰æœ€å¤§å…ƒç´ äº¤æ¢è‡³ <code>å‰©ä½™æœªæ’åºæ•°ç»„æœ€å³è¾¹</code> ï¼Œç›´è‡³æ‰€æœ‰å…ƒç´ éƒ½è¢«äº¤æ¢è‡³æ­£ç¡®ä½ç½®æ—¶ç»“æŸã€‚</li>
</ul>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œé¦–è½®ã€Œå†…å¾ªç¯ã€åï¼Œæ•°ç»„æœ€å¤§å…ƒç´ å·²è¢«äº¤æ¢è‡³æ•°ç»„æœ€å³è¾¹ï¼›æ¥ä¸‹æ¥ï¼Œåªéœ€è¦å®Œæˆæ•°ç»„å‰©ä½™ N - 1 ä¸ªå…ƒç´ çš„æ’åºå³å¯ï¼ˆè®¾æ•°ç»„å…ƒç´ æ•°é‡ä¸º N ï¼‰ã€‚åŒç†ï¼Œå¯¹å‰©ä½™ N - 1 ä¸ªå…ƒç´ æ‰§è¡Œã€Œå†…å¾ªç¯ã€ï¼Œå¯å°†ç¬¬äºŒå¤§å…ƒç´ äº¤æ¢è‡³å‰©ä½™æ•°ç»„æœ€å³ç«¯ï¼Œä»¥æ­¤ç±»æ¨â€¦â€¦</p>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå†’æ³¡æ’åºçš„ã€Œå¤–å¾ªç¯ã€å…± Nâˆ’1 è½®ï¼Œæ¯è½®ã€Œå†…å¾ªç¯ã€éƒ½å°†å½“å‰æœ€å¤§å…ƒç´ äº¤æ¢è‡³æ•°ç»„æœ€å³è¾¹ï¼Œä»è€Œå®Œæˆå¯¹æ•´ä¸ªæ•°ç»„çš„æ’åºã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1628616643-PvqWBM-Picture1.png" alt="Picture1.png"></p>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š<br>æ—¶é—´å¤æ‚åº¦ O(N^2)ï¼š å…¶ä¸­ N ä¸ºè¾“å…¥æ•°ç»„çš„å…ƒç´ æ•°é‡ï¼›ã€Œå¤–å¾ªç¯ã€å…± N - 1è½®ï¼Œä½¿ç”¨ O(N) æ—¶é—´ï¼›æ¯è½®ã€Œå†…å¾ªç¯ã€åˆ†åˆ«éå† N - 1 , N - 2 ,â‹¯ , 2 , 1 æ¬¡ï¼Œå¹³å‡ N&#x2F; 2 æ¬¡ï¼Œä½¿ç”¨ O(N &#x2F; 2) &#x3D;O(N) æ—¶é—´ï¼›å› æ­¤ï¼Œæ€»ä½“æ—¶é—´å¤æ‚åº¦ä¸º O(N^2) ã€‚<br>ç©ºé—´å¤æ‚åº¦ O(1) ï¼š åªéœ€åŸåœ°äº¤æ¢å…ƒç´ ï¼Œä½¿ç”¨å¸¸æ•°å¤§å°çš„é¢å¤–ç©ºé—´ã€‚</p>
<p><strong>ç®—æ³•ç‰¹æ€§</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ä¸º O(N^2)ï¼Œå› ä¸ºå…¶æ˜¯é€šè¿‡ä¸æ–­ <code>äº¤æ¢å…ƒç´ </code> å®ç°æ’åºï¼ˆäº¤æ¢ 2 ä¸ªå…ƒç´ éœ€è¦ 3 æ¬¡èµ‹å€¼æ“ä½œï¼‰ï¼Œå› æ­¤é€Ÿåº¦è¾ƒæ…¢ï¼›</li>
<li>åŸåœ°ï¼š æŒ‡é’ˆå˜é‡ä»…ä½¿ç”¨å¸¸æ•°å¤§å°é¢å¤–ç©ºé—´ï¼Œç©ºé—´å¤æ‚åº¦ä¸º O(1)ï¼›</li>
<li>ç¨³å®šï¼š å…ƒç´ å€¼ç›¸åŒæ—¶ä¸äº¤æ¢ï¼Œå› æ­¤ä¸ä¼šæ”¹å˜ç›¸åŒå…ƒç´ çš„ç›¸å¯¹ä½ç½®ï¼›</li>
<li>è‡ªé€‚åº”ï¼š é€šè¿‡å¢åŠ ä¸€ä¸ªæ ‡å¿—ä½ flag ï¼Œè‹¥æŸè½®å†…å¾ªç¯æœªæ‰§è¡Œä»»ä½•äº¤æ¢æ“ä½œæ—¶ï¼Œè¯´æ˜å·²ç»å®Œæˆæ’åºï¼Œå› æ­¤ç›´æ¥è¿”å›ã€‚æ­¤ä¼˜åŒ–ä½¿å†’æ³¡æ’åºçš„æœ€ä¼˜æ—¶é—´å¤æ‚åº¦è¾¾åˆ° O(Nï¼‰ï¼ˆå½“è¾“å…¥æ•°ç»„å·²æ’åºæ—¶ï¼‰ï¼›</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">bubbleSort</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">	<span class="type">int</span> <span class="variable">N</span> <span class="operator">=</span> nums.length;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; N - <span class="number">1</span>; i++) &#123;          <span class="comment">// å¤–å¾ªç¯</span></span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; N - i - <span class="number">1</span>; j++) &#123;  <span class="comment">// å†…å¾ªç¯</span></span><br><span class="line">			<span class="keyword">if</span> (nums[j] &gt; nums[j + <span class="number">1</span>]) &#123;</span><br><span class="line">                <span class="comment">// äº¤æ¢ nums[j], nums[j + 1]</span></span><br><span class="line">				<span class="type">int</span> <span class="variable">tmp</span> <span class="operator">=</span> nums[j];</span><br><span class="line">				nums[j] = nums[j + <span class="number">1</span>];</span><br><span class="line">				nums[j + <span class="number">1</span>] = tmp;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>æ•ˆç‡ä¼˜åŒ–</strong></p>
<blockquote>
<p>ä»¥ä¸Šæ™®é€šå†’æ³¡æ’åºçš„æ—¶é—´å¤æ‚åº¦æ’ä¸º O(N^2)<em>O</em>(<em>N</em>2) ï¼Œä¸è¾“å…¥æ•°ç»„çš„å…ƒç´ åˆ†å¸ƒæ— å…³</p>
</blockquote>
<p>é€šè¿‡å¢åŠ ä¸€ä¸ªæ ‡å¿—ä½ flag ï¼Œè‹¥åœ¨æŸè½®ã€Œå†…å¾ªç¯ã€ä¸­æœªæ‰§è¡Œä»»ä½•äº¤æ¢æ“ä½œï¼Œåˆ™è¯´æ˜æ•°ç»„å·²ç»å®Œæˆæ’åºï¼Œç›´æ¥è¿”å›ç»“æœå³å¯ã€‚</p>
<p>ä¼˜åŒ–åçš„å†’æ³¡æ’åºçš„æœ€å·®å’Œå¹³å‡æ—¶é—´å¤æ‚åº¦ä»ä¸º O(N^2)ï¼›åœ¨è¾“å…¥æ•°ç»„ <code>å·²æ’åº </code>æ—¶ï¼Œè¾¾åˆ° <code>æœ€ä½³æ—¶é—´å¤æ‚åº¦</code>O(N) ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">bubbleSort</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">	<span class="type">int</span> <span class="variable">N</span> <span class="operator">=</span> nums.length;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; N - <span class="number">1</span>; i++) &#123;</span><br><span class="line">		<span class="type">boolean</span> <span class="variable">flag</span> <span class="operator">=</span> <span class="literal">false</span>; <span class="comment">// åˆå§‹åŒ–æ ‡å¿—ä½</span></span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; N - i - <span class="number">1</span>; j++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (nums[j] &gt; nums[j + <span class="number">1</span>]) &#123;</span><br><span class="line">				<span class="type">int</span> <span class="variable">tmp</span> <span class="operator">=</span> nums[j];</span><br><span class="line">				nums[j] = nums[j + <span class="number">1</span>];</span><br><span class="line">				nums[j + <span class="number">1</span>] = tmp;</span><br><span class="line">				flag = <span class="literal">true</span>;  <span class="comment">// è®°å½•äº¤æ¢å…ƒç´ </span></span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (!flag) <span class="keyword">break</span>;     <span class="comment">// å†…å¾ªç¯æœªäº¤æ¢ä»»ä½•å…ƒç´ ï¼Œåˆ™è·³å‡º</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3ã€å¿«é€Ÿæ’åº"><a href="#3ã€å¿«é€Ÿæ’åº" class="headerlink" title="3ã€å¿«é€Ÿæ’åº"></a>3ã€å¿«é€Ÿæ’åº</h3><p><strong>ç®—æ³•è§£æ</strong><br>å¿«é€Ÿæ’åºç®—æ³•æœ‰ä¸¤ä¸ªæ ¸å¿ƒç‚¹ï¼Œåˆ†åˆ«ä¸º <code>å“¨å…µåˆ’åˆ†</code> å’Œ <code>é€’å½’</code> ã€‚</p>
<p><strong>å“¨å…µåˆ’åˆ†</strong>ï¼š<br>ä»¥æ•°ç»„æŸä¸ªå…ƒç´ ï¼ˆä¸€èˆ¬é€‰å–é¦–å…ƒç´ ï¼‰ä¸º <code>åŸºå‡†æ•°</code> ï¼Œå°†æ‰€æœ‰å°äºåŸºå‡†æ•°çš„å…ƒç´ ç§»åŠ¨è‡³å…¶å·¦è¾¹ï¼Œå¤§äºåŸºå‡†æ•°çš„å…ƒç´ ç§»åŠ¨è‡³å…¶å³è¾¹ã€‚</p>
<blockquote>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œä¸ºå“¨å…µåˆ’åˆ†æ“ä½œæµç¨‹ã€‚é€šè¿‡ä¸€è½® <strong>å“¨å…µåˆ’åˆ†</strong> ï¼Œå¯å°†æ•°ç»„æ’åºé—®é¢˜æ‹†åˆ†ä¸º <strong>ä¸¤ä¸ªè¾ƒçŸ­æ•°ç»„çš„æ’åºé—®é¢˜</strong> ï¼ˆæœ¬æ–‡ç§°ä¹‹ä¸ºå·¦ï¼ˆå³ï¼‰å­æ•°ç»„ï¼‰ã€‚</p>
</blockquote>
<p><strong>é€’å½’</strong>ï¼š</p>
<p>å¯¹ <strong>å·¦å­æ•°ç»„</strong> å’Œ <strong>å³å­æ•°ç»„</strong> åˆ†åˆ«é€’å½’æ‰§è¡Œ <strong>å“¨å…µåˆ’åˆ†</strong>ï¼Œç›´è‡³å­æ•°ç»„é•¿åº¦ä¸º 1 æ—¶ç»ˆæ­¢é€’å½’ï¼Œå³å¯å®Œæˆå¯¹æ•´ä¸ªæ•°ç»„çš„æ’åºã€‚</p>
<blockquote>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œä¸ºç¤ºä¾‹æ•°ç»„ [2,4,1,0,3,5] çš„å¿«é€Ÿæ’åºæµç¨‹ã€‚è§‚å¯Ÿå‘ç°ï¼Œå¿«é€Ÿæ’åºå’Œ äºŒåˆ†æ³• çš„åŸç†ç±»ä¼¼ï¼Œéƒ½æ˜¯ä»¥ log æ—¶é—´å¤æ‚åº¦å®ç°æœç´¢åŒºé—´ç¼©å°ã€‚</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1612615552-rifQwI-Picture1.png" alt="Picture1.png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">quickSort</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> l, <span class="type">int</span> r)</span> &#123;</span><br><span class="line">    <span class="comment">// å·¦é—­å³é—­</span></span><br><span class="line">    <span class="comment">// å­æ•°ç»„é•¿åº¦ä¸º 1 æ—¶ç»ˆæ­¢é€’å½’</span></span><br><span class="line">    <span class="keyword">if</span> (l &gt;= r) <span class="keyword">return</span>;</span><br><span class="line">    <span class="comment">// å“¨å…µåˆ’åˆ†æ“ä½œ</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> partition(nums, l, r);</span><br><span class="line">    <span class="comment">// é€’å½’å·¦ï¼ˆå³ï¼‰å­æ•°ç»„æ‰§è¡Œå“¨å…µåˆ’åˆ†</span></span><br><span class="line">    quickSort(nums, l, i - <span class="number">1</span>);</span><br><span class="line">    quickSort(nums, i + <span class="number">1</span>, r);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">partition</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> l, <span class="type">int</span> r)</span> &#123;</span><br><span class="line">    <span class="comment">// ä»¥ nums[l] ä½œä¸ºåŸºå‡†æ•°</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> l, j = r;</span><br><span class="line">    <span class="keyword">while</span> (i &lt; j) &#123;</span><br><span class="line">        <span class="keyword">while</span> (i &lt; j &amp;&amp; nums[j] &gt;= nums[l]) j--;</span><br><span class="line">        <span class="keyword">while</span> (i &lt; j &amp;&amp; nums[i] &lt;= nums[l]) i++;</span><br><span class="line">        swap(nums, i, j);</span><br><span class="line">    &#125;</span><br><span class="line">    swap(nums, i, l);</span><br><span class="line">    <span class="keyword">return</span> i;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">swap</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> i, <span class="type">int</span> j)</span> &#123;</span><br><span class="line">    <span class="comment">// äº¤æ¢ nums[i] å’Œ nums[j]</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">tmp</span> <span class="operator">=</span> nums[i];</span><br><span class="line">    nums[i] = nums[j];</span><br><span class="line">    nums[j] = tmp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒç”¨</span></span><br><span class="line"><span class="type">int</span>[] nums = &#123; <span class="number">4</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">5</span> &#125;;</span><br><span class="line">quickSort(nums, <span class="number">0</span>, nums.length - <span class="number">1</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>ç®—æ³•ç‰¹æ€§</strong></p>
<ul>
<li><p><strong>æ—¶é—´å¤æ‚åº¦ï¼š</strong></p>
<ul>
<li>æœ€ä½³ Î©(NlogN) ï¼š æœ€ä½³æƒ…å†µä¸‹ï¼Œ æ¯è½®å“¨å…µåˆ’åˆ†æ“ä½œå°†æ•°ç»„åˆ’åˆ†ä¸ºç­‰é•¿åº¦çš„ä¸¤ä¸ªå­æ•°ç»„ï¼›å“¨å…µåˆ’åˆ†æ“ä½œä¸ºçº¿æ€§æ—¶é—´å¤æ‚åº¦ O(N) ï¼›é€’å½’è½®æ•°å…± O(logN) ã€‚</li>
<li>å¹³å‡ Î˜(NlogN) ï¼š å¯¹äºéšæœºè¾“å…¥æ•°ç»„ï¼Œå“¨å…µåˆ’åˆ†æ“ä½œçš„é€’å½’è½®æ•°ä¹Ÿä¸º O(logN) ã€‚</li>
<li>æœ€å·® O(N^2)ï¼š å¯¹äºæŸäº›ç‰¹æ®Šè¾“å…¥æ•°ç»„ï¼Œæ¯è½®å“¨å…µåˆ’åˆ†æ“ä½œéƒ½å°†é•¿åº¦ä¸º N çš„æ•°ç»„åˆ’åˆ†ä¸ºé•¿åº¦ä¸º 1 å’Œ N - 1 çš„ä¸¤ä¸ªå­æ•°ç»„ï¼Œæ­¤æ—¶é€’å½’è½®æ•°è¾¾åˆ° N ã€‚</li>
</ul>
<blockquote>
<p>é€šè¿‡ ã€Œéšæœºé€‰æ‹©åŸºå‡†æ•°ã€ä¼˜åŒ–ï¼Œå¯å°½å¯èƒ½é¿å…å‡ºç°æœ€å·®æƒ…å†µï¼Œè¯¦æƒ…è¯·è§ä¸‹æ–‡ã€‚</p>
</blockquote>
</li>
<li><p><strong>ç©ºé—´å¤æ‚åº¦ O(N) ï¼š</strong> å¿«é€Ÿæ’åºçš„é€’å½’æ·±åº¦æœ€å¥½ä¸å¹³å‡çš†ä¸º log<em>N</em> ï¼›è¾“å…¥æ•°ç»„å®Œå…¨å€’åºä¸‹ï¼Œè¾¾åˆ°æœ€å·®é€’å½’æ·±åº¦ N ã€‚</p>
<blockquote>
<p>é€šè¿‡ã€ŒTail Callã€ä¼˜åŒ–ï¼Œå¯å°†æœ€å·®ç©ºé—´å¤æ‚åº¦é™ä½è‡³ O(\log N)<em>O</em>(log<em>N</em>) ï¼Œè¯¦æƒ…è¯·è§ä¸‹æ–‡ã€‚</p>
</blockquote>
</li>
<li><p>è™½ç„¶å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸ã€Œå½’å¹¶æ’åºã€å’Œã€Œå †æ’åºã€ä¸€è‡´ï¼Œä½†åœ¨å®é™…ä½¿ç”¨ä¸­å¿«é€Ÿæ’åº <strong>æ•ˆç‡æ›´é«˜</strong> ï¼Œè¿™æ˜¯å› ä¸ºï¼š</p>
<ul>
<li>æœ€å·®æƒ…å†µç¨€ç–æ€§ï¼š è™½ç„¶å¿«é€Ÿæ’åºçš„æœ€å·®æ—¶é—´å¤æ‚åº¦ä¸º O(N^2)ï¼Œå·®äºå½’å¹¶æ’åºå’Œå †æ’åºï¼Œä½†ç»Ÿè®¡æ„ä¹‰ä¸Šçœ‹ï¼Œè¿™ç§æƒ…å†µå‡ºç°çš„æœºç‡å¾ˆä½ã€‚å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œå¿«é€Ÿæ’åºä»¥ O(NlogN) å¤æ‚åº¦è¿è¡Œã€‚</li>
<li>ç¼“å­˜ä½¿ç”¨æ•ˆç‡é«˜ï¼š å“¨å…µåˆ’åˆ†æ“ä½œæ—¶ï¼Œå°†æ•´ä¸ªå­æ•°ç»„åŠ è½½å…¥ç¼“å­˜ä¸­ï¼Œè®¿é—®å…ƒç´ æ•ˆç‡å¾ˆé«˜ï¼›å †æ’åºéœ€è¦è·³è·ƒå¼è®¿é—®å…ƒç´ ï¼Œå› æ­¤ä¸å…·æœ‰æ­¤ç‰¹æ€§ã€‚</li>
<li>å¸¸æ•°ç³»æ•°ä½ï¼š åœ¨æåŠçš„ä¸‰ç§ç®—æ³•ä¸­ï¼Œå¿«é€Ÿæ’åºçš„ æ¯”è¾ƒã€èµ‹å€¼ã€äº¤æ¢ ä¸‰ç§æ“ä½œçš„ç»¼åˆè€—æ—¶æœ€ä½ï¼ˆç±»ä¼¼äºæ’å…¥æ’åºå¿«äºå†’æ³¡æ’åºçš„åŸç†ï¼‰ã€‚</li>
</ul>
</li>
<li><p>åŸåœ°ï¼š ä¸ç”¨å€ŸåŠ©è¾…åŠ©æ•°ç»„çš„é¢å¤–ç©ºé—´ï¼Œé€’å½’ä»…ä½¿ç”¨ O(logN) å¤§å°çš„æ ˆå¸§ç©ºé—´ã€‚</p>
</li>
<li><p>éç¨³å®šï¼š å“¨å…µåˆ’åˆ†æ“ä½œå¯èƒ½æ”¹å˜ç›¸ç­‰å…ƒç´ çš„ç›¸å¯¹é¡ºåºã€‚</p>
</li>
<li><p>è‡ªé€‚åº”ï¼š å¯¹äºæå°‘è¾“å…¥æ•°æ®ï¼Œæ¯è½®å“¨å…µåˆ’åˆ†æ“ä½œéƒ½å°†é•¿åº¦ä¸º N çš„æ•°ç»„åˆ’åˆ†ä¸ºé•¿åº¦ 1 å’Œ N - 1 ä¸¤ä¸ªå­æ•°ç»„ï¼Œæ­¤æ—¶æ—¶é—´å¤æ‚åº¦åŠ£åŒ–è‡³ O(N^2)ã€‚</p>
</li>
</ul>
<p><strong>ç®—æ³•ä¼˜åŒ–</strong></p>
<p>å¿«é€Ÿæ’åºçš„å¸¸è§ä¼˜åŒ–æ‰‹æ®µæœ‰ã€ŒTail Callã€å’Œã€ŒéšæœºåŸºå‡†æ•°ã€ä¸¤ç§ã€‚</p>
<p><strong>Tail Call ï¼š</strong></p>
<p>ç”±äºæ™®é€šå¿«é€Ÿæ’åºæ¯è½®é€‰å–ã€Œå­æ•°ç»„æœ€å·¦å…ƒç´ ã€ä½œä¸ºã€ŒåŸºå‡†æ•°ã€ï¼Œå› æ­¤åœ¨è¾“å…¥æ•°ç»„ <code>å®Œå…¨å€’åº</code> æ—¶ï¼Œ partition() çš„é€’å½’æ·±åº¦ä¼šè¾¾åˆ° N ï¼Œå³ <code>æœ€å·®ç©ºé—´å¤æ‚åº¦</code> ä¸º O(N) ã€‚</p>
<p>æ¯è½®é€’å½’æ—¶ï¼Œä»…å¯¹ <code>è¾ƒçŸ­çš„å­æ•°ç»„</code> æ‰§è¡Œå“¨å…µåˆ’åˆ† partition() ï¼Œå°±å¯å°†æœ€å·®çš„é€’å½’æ·±åº¦æ§åˆ¶åœ¨ O(logN) ï¼ˆæ¯è½®é€’å½’çš„å­æ•°ç»„é•¿åº¦éƒ½ â‰¤ å½“å‰æ•°ç»„é•¿åº¦ &#x2F; 2 ï¼‰ï¼Œå³å®ç°æœ€å·®ç©ºé—´å¤æ‚åº¦ O(logN) ã€‚</p>
<blockquote>
<p>ä»£ç ä»…éœ€ä¿®æ”¹ <code>quick_sort()</code> æ–¹æ³•ï¼Œå…¶ä½™æ–¹æ³•ä¸å˜ï¼Œåœ¨æ­¤çœç•¥ã€‚</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">quickSort</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> l, <span class="type">int</span> r)</span> &#123;</span><br><span class="line">    <span class="comment">// å­æ•°ç»„é•¿åº¦ä¸º 1 æ—¶ç»ˆæ­¢é€’å½’</span></span><br><span class="line">    <span class="keyword">while</span> (l &lt; r) &#123;</span><br><span class="line">        <span class="comment">// å“¨å…µåˆ’åˆ†æ“ä½œ</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> partition(nums, l, r);</span><br><span class="line">        <span class="comment">// ä»…é€’å½’è‡³è¾ƒçŸ­å­æ•°ç»„ï¼Œæ§åˆ¶é€’å½’æ·±åº¦</span></span><br><span class="line">        <span class="keyword">if</span> (i - l &lt; r - i) &#123;</span><br><span class="line">            quickSort(nums, l, i - <span class="number">1</span>);</span><br><span class="line">            l = i + <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            quickSort(nums, i + <span class="number">1</span>, r);</span><br><span class="line">            r = i - <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>éšæœºåŸºå‡†æ•°</strong>ï¼š<br>åŒæ ·åœ°ï¼Œç”±äºå¿«é€Ÿæ’åºæ¯è½®é€‰å–ã€Œå­æ•°ç»„æœ€å·¦å…ƒç´ ã€ä½œä¸ºã€ŒåŸºå‡†æ•°ã€ï¼Œå› æ­¤åœ¨è¾“å…¥æ•°ç»„ <code>å®Œå…¨æœ‰åº</code> æˆ– <code>å®Œå…¨å€’åº</code> æ—¶ï¼Œ partition() æ¯è½®åªåˆ’åˆ†ä¸€ä¸ªå…ƒç´ ï¼Œè¾¾åˆ°æœ€å·®æ—¶é—´å¤æ‚åº¦ O(N^2)ã€‚</p>
<p>å› æ­¤ï¼Œå¯ä½¿ç”¨ <code>éšæœºå‡½æ•°</code> ï¼Œæ¯è½®åœ¨å­æ•°ç»„ä¸­éšæœºé€‰æ‹©ä¸€ä¸ªå…ƒç´ ä½œä¸ºåŸºå‡†æ•°ï¼Œè¿™æ ·å°±å¯ä»¥æå¤§æ¦‚ç‡é¿å…ä»¥ä¸ŠåŠ£åŒ–æƒ…å†µã€‚</p>
<p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œç”±äºä»ç„¶å¯èƒ½å‡ºç°æœ€å·®æƒ…å†µï¼Œå› æ­¤å¿«é€Ÿæ’åºçš„æœ€å·®æ—¶é—´å¤æ‚åº¦ä»ä¸º O(N^2)ã€‚</p>
<blockquote>
<p>ä»£ç ä»…éœ€ä¿®æ”¹ <code>partition()</code> æ–¹æ³•ï¼Œå…¶ä½™æ–¹æ³•ä¸å˜ï¼Œåœ¨æ­¤çœç•¥ã€‚</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">partition</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> l, <span class="type">int</span> r)</span> &#123;</span><br><span class="line">    <span class="comment">// åœ¨é—­åŒºé—´ [l, r] éšæœºé€‰å–ä»»æ„ç´¢å¼•ï¼Œå¹¶ä¸ nums[l] äº¤æ¢</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">ra</span> <span class="operator">=</span> (<span class="type">int</span>)(l + Math.random() * (r - l + <span class="number">1</span>));</span><br><span class="line">    swap(nums, l, ra);</span><br><span class="line">    <span class="comment">// ä»¥ nums[l] ä½œä¸ºåŸºå‡†æ•°</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> l, j = r;</span><br><span class="line">    <span class="keyword">while</span> (i &lt; j) &#123;</span><br><span class="line">        <span class="keyword">while</span> (i &lt; j &amp;&amp; nums[j] &gt;= nums[l]) j--;</span><br><span class="line">        <span class="keyword">while</span> (i &lt; j &amp;&amp; nums[i] &lt;= nums[l]) i++;</span><br><span class="line">        swap(nums, i, j);</span><br><span class="line">    &#125;</span><br><span class="line">    swap(nums, i, l);</span><br><span class="line">    <span class="keyword">return</span> i;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4ã€å½’å¹¶æ’åº"><a href="#4ã€å½’å¹¶æ’åº" class="headerlink" title="4ã€å½’å¹¶æ’åº"></a>4ã€å½’å¹¶æ’åº</h3><p><strong>ç®—æ³•è§£æ</strong></p>
<p>å½’å¹¶æ’åºä½“ç°äº† â€œåˆ†è€Œæ²»ä¹‹â€ çš„ç®—æ³•æ€æƒ³ï¼Œå…·ä½“ä¸ºï¼š</p>
<ul>
<li>ã€Œåˆ†ã€ï¼š ä¸æ–­å°†æ•°ç»„ä» ä¸­ç‚¹ä½ç½® åˆ’åˆ†å¼€ï¼Œå°†åŸæ•°ç»„çš„æ’åºé—®é¢˜è½¬åŒ–ä¸ºå­æ•°ç»„çš„æ’åºé—®é¢˜ï¼›</li>
<li>ã€Œæ²»ã€ï¼š åˆ’åˆ†åˆ°å­æ•°ç»„é•¿åº¦ä¸º 1 æ—¶ï¼Œå¼€å§‹å‘ä¸Šåˆå¹¶ï¼Œä¸æ–­å°† å·¦å³ä¸¤ä¸ªè¾ƒçŸ­æ’åºæ•°ç»„ åˆå¹¶ä¸º ä¸€ä¸ªè¾ƒé•¿æ’åºæ•°ç»„ï¼Œç›´è‡³åˆå¹¶è‡³åŸæ•°ç»„æ—¶å®Œæˆæ’åºï¼›</li>
</ul>
<blockquote>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œä¸ºæ•°ç»„ <code>[7,3,2,6,0,1,5,4]</code> çš„å½’å¹¶æ’åºè¿‡ç¨‹ã€‚</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1632675739-CNHaOu-Picture1.png" alt="Picture1.png"></p>
<p><strong>ç®—æ³•æµç¨‹</strong>ï¼š</p>
<ol>
<li><p><code>é€’å½’åˆ’åˆ†</code>ï¼š</p>
<ol>
<li>è®¡ç®—æ•°ç»„ä¸­ç‚¹ m ï¼Œé€’å½’åˆ’åˆ†å·¦å­æ•°ç»„ merge_sort(l, m) å’Œå³å­æ•°ç»„ merge_sort(m + 1, r) ï¼›</li>
<li>å½“ l â‰¥ r æ—¶ï¼Œä»£è¡¨å­æ•°ç»„é•¿åº¦ä¸º 1 æˆ– 0 ï¼Œæ­¤æ—¶ <strong>ç»ˆæ­¢åˆ’åˆ†</strong> ï¼Œå¼€å§‹åˆå¹¶ï¼›</li>
</ol>
</li>
<li><p><code>åˆå¹¶å­æ•°ç»„</code>ï¼š</p>
<ol>
<li>æš‚å­˜æ•°ç»„ nums é—­åŒºé—´ [l,r] å†…çš„å…ƒç´ è‡³è¾…åŠ©æ•°ç»„ tmp ï¼›</li>
<li><code>å¾ªç¯åˆå¹¶</code>ï¼š è®¾ç½®åŒæŒ‡é’ˆ ii , jj åˆ†åˆ«æŒ‡å‘ tmptmp çš„å·¦ &#x2F; å³å­æ•°ç»„çš„é¦–å…ƒç´ ï¼›</li>
</ol>
<blockquote>
<p>æ³¨æ„ï¼š nums å­æ•°ç»„çš„å·¦è¾¹ç•Œã€ä¸­ç‚¹ã€å³è¾¹ç•Œåˆ†åˆ«ä¸º l , m , r ï¼Œè€Œè¾…åŠ©æ•°ç»„ tmp ä¸­çš„å¯¹åº”ç´¢å¼•ä¸º 0 , m - l, r - lï¼›</p>
</blockquote>
<ul>
<li>å½“ i &#x3D;&#x3D; m - l + 1 æ—¶ï¼š ä»£è¡¨å·¦å­æ•°ç»„å·²åˆå¹¶å®Œï¼Œå› æ­¤æ·»åŠ å³å­æ•°ç»„å…ƒç´  tmp[j] ï¼Œå¹¶æ‰§è¡Œ j &#x3D; j + 1 ï¼›</li>
</ul>
</li>
</ol>
<ul>
<li>å¦åˆ™,å½“ j &#x3D;&#x3D; r - l + 1 æ—¶;ä»£è¡¨å³å­æ•°ç»„å·²åˆå¹¶å®Œï¼Œå› æ­¤æ·»åŠ å·¦å­æ•°ç»„å…ƒç´  tmp[i]ï¼Œå¹¶æ‰§è¡Œ i &#x3D; i + 1ï¼›</li>
<li>å¦åˆ™ï¼Œå½“ tmp[i]â‰¤tmp[j] æ—¶ï¼š æ·»åŠ å·¦å­æ•°ç»„å…ƒç´  tmp[i] ï¼Œå¹¶æ‰§è¡Œ i &#x3D; i + 1 ï¼›</li>
<li>å¦åˆ™ï¼ˆå³å½“ tmp[i] &gt; tmp[j] æ—¶ï¼‰ï¼š æ·»åŠ å³å­æ•°ç»„å…ƒç´  tmp[j] ï¼Œå¹¶æ‰§è¡Œ j &#x3D; j + 1 ï¼›</li>
</ul>
<p>â€‹	</p>
<blockquote>
<p>å¦‚ä¸‹åŠ¨å›¾æ‰€ç¤ºï¼Œä¸ºæ•°ç»„ <code>[7,3,2,6]</code> çš„å½’å¹¶æ’åºè¿‡ç¨‹ã€‚</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1632675727-VVDNmq-Picture11.png" alt="img"></p>
<p>ä¸ºç®€åŒ–ä»£ç ï¼Œã€Œå½“ j &#x3D; r + 1æ—¶ã€ ä¸ ã€Œå½“ tmp*[<em>i</em>]â‰¤*tmp[j] æ—¶ã€ ä¸¤åˆ¤æ–­é¡¹å¯åˆå¹¶ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">mergeSort</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> l, <span class="type">int</span> r)</span> &#123;</span><br><span class="line">    <span class="comment">// ç»ˆæ­¢æ¡ä»¶</span></span><br><span class="line">    <span class="keyword">if</span> (l &gt;= r) <span class="keyword">return</span>;</span><br><span class="line">    <span class="comment">// é€’å½’åˆ’åˆ†</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> (l + r) / <span class="number">2</span>;</span><br><span class="line">    mergeSort(nums, l, m);</span><br><span class="line">    mergeSort(nums, m + <span class="number">1</span>, r);</span><br><span class="line">    <span class="comment">// åˆå¹¶å­æ•°ç»„</span></span><br><span class="line">    <span class="type">int</span>[] tmp = <span class="keyword">new</span> <span class="title class_">int</span>[r - l + <span class="number">1</span>]; <span class="comment">// æš‚å­˜éœ€åˆå¹¶åŒºé—´å…ƒç´ </span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> l; k &lt;= r; k++)</span><br><span class="line">        tmp[k - l] = nums[k];</span><br><span class="line">    <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>, j = m - l + <span class="number">1</span>;       <span class="comment">// ä¸¤æŒ‡é’ˆåˆ†åˆ«æŒ‡å‘å·¦/å³å­æ•°ç»„çš„é¦–ä¸ªå…ƒç´ </span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> l; k &lt;= r; k++) &#123;  <span class="comment">// éå†åˆå¹¶å·¦/å³å­æ•°ç»„</span></span><br><span class="line">        <span class="keyword">if</span> (i == m - l + <span class="number">1</span>)</span><br><span class="line">            nums[k] = tmp[j++];</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (j == r - l + <span class="number">1</span> || tmp[i] &lt;= tmp[j])</span><br><span class="line">            nums[k] = tmp[i++];</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            nums[k] = tmp[j++];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒç”¨</span></span><br><span class="line"><span class="type">int</span>[] nums = &#123; <span class="number">3</span>, <span class="number">4</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">2</span>, <span class="number">1</span> &#125;;</span><br><span class="line">mergeSort(nums, <span class="number">0</span>, len(nums) - <span class="number">1</span>);</span><br></pre></td></tr></table></figure>

<p><strong>ç®—æ³•ç‰¹æ€§</strong></p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š æœ€ä½³ Î©(NlogN) ï¼Œå¹³å‡ Î˜(NlogN) ï¼Œæœ€å·® O(NlogN) ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(N) ï¼š åˆå¹¶è¿‡ç¨‹ä¸­éœ€è¦å€ŸåŠ©è¾…åŠ©æ•°ç»„ tmp ï¼Œä½¿ç”¨ O(N) å¤§å°çš„é¢å¤–ç©ºé—´ï¼›åˆ’åˆ†çš„é€’å½’æ·±åº¦ä¸º logN ï¼Œä½¿ç”¨ O(logN) å¤§å°çš„æ ˆå¸§ç©ºé—´ã€‚</li>
<li>è‹¥è¾“å…¥æ•°æ®æ˜¯ <code>é“¾è¡¨</code> ï¼Œåˆ™å½’å¹¶æ’åºçš„ç©ºé—´å¤æ‚åº¦å¯è¢«ä¼˜åŒ–è‡³ O(1) ï¼Œè¿™æ˜¯å› ä¸ºï¼š<ul>
<li>é€šè¿‡åº”ç”¨ã€ŒåŒæŒ‡é’ˆæ³•ã€ï¼Œå¯åœ¨ O(1) ç©ºé—´ä¸‹å®Œæˆä¸¤ä¸ªæ’åºé“¾è¡¨çš„åˆå¹¶ï¼Œçœå»è¾…åŠ©æ•°ç»„ tmp ä½¿ç”¨çš„é¢å¤–ç©ºé—´ï¼›</li>
<li>é€šè¿‡ä½¿ç”¨ã€Œè¿­ä»£ã€ä»£æ›¿ã€Œé€’å½’åˆ’åˆ†ã€ï¼Œå¯çœå»é€’å½’ä½¿ç”¨çš„æ ˆå¸§ç©ºé—´ï¼›</li>
</ul>
</li>
<li>éåŸåœ°ï¼š è¾…åŠ©æ•°ç»„ tmp éœ€è¦ä½¿ç”¨é¢å¤–ç©ºé—´ã€‚</li>
<li>ç¨³å®šï¼š å½’å¹¶æ’åºä¸æ”¹å˜ç›¸ç­‰å…ƒç´ çš„ç›¸å¯¹é¡ºåºã€‚</li>
<li>éè‡ªé€‚åº”ï¼š å¯¹äºä»»æ„è¾“å…¥æ•°æ®ï¼Œå½’å¹¶æ’åºçš„æ—¶é—´å¤æ‚åº¦çš†ç›¸åŒã€‚</li>
</ul>
<h3 id="5ã€å‰‘æŒ‡-Offer-40-æœ€å°çš„-k-ä¸ªæ•°"><a href="#5ã€å‰‘æŒ‡-Offer-40-æœ€å°çš„-k-ä¸ªæ•°" class="headerlink" title="5ã€å‰‘æŒ‡ Offer 40. æœ€å°çš„ k ä¸ªæ•°"></a>5ã€å‰‘æŒ‡ Offer 40. æœ€å°çš„ k ä¸ªæ•°</h3><p>è¾“å…¥æ•´æ•°æ•°ç»„ <code>arr</code> ï¼Œæ‰¾å‡ºå…¶ä¸­æœ€å°çš„ <code>k</code> ä¸ªæ•°ã€‚ä¾‹å¦‚ï¼Œè¾“å…¥4ã€5ã€1ã€6ã€2ã€7ã€3ã€8è¿™8ä¸ªæ•°å­—ï¼Œåˆ™æœ€å°çš„4ä¸ªæ•°å­—æ˜¯1ã€2ã€3ã€4ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šarr = [3,2,1], k = 2</span><br><span class="line">è¾“å‡ºï¼š[1,2] æˆ–è€… [2,1]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šarr = [0,1,2,1], k = 1</span><br><span class="line">è¾“å‡ºï¼š[0]</span><br></pre></td></tr></table></figure>



<p><strong>é™åˆ¶ï¼š</strong></p>
<ul>
<li><code>0 &lt;= k &lt;= arr.length &lt;= 10000</code></li>
<li><code>0 &lt;= arr[i] &lt;= 10000</code></li>
</ul>
<p>Related Topics</p>
<p>æ•°ç»„</p>
<p>åˆ†æ²»</p>
<p>å¿«é€Ÿé€‰æ‹©</p>
<p>æ’åº</p>
<p>å †ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰</p>
<p>ğŸ‘ 500</p>
<p>ğŸ‘ 0</p>
<h4 id="æ’åº"><a href="#æ’åº" class="headerlink" title="æ’åº"></a>æ’åº</h4><p>å¯¹æ•°ç»„ <code>arr</code> æ‰§è¡Œæ’åºï¼Œå†è¿”å›å‰ <em>k</em> ä¸ªå…ƒç´ å³å¯ã€‚ä½¿ç”¨ä»»æ„æ’åºç®—æ³•çš†å¯ï¼Œæœ¬æ–‡é‡‡ç”¨å¹¶ä»‹ç» <strong>å¿«é€Ÿæ’åº</strong> ï¼Œä¸ºä¸‹æ–‡ <strong>æ–¹æ³•äºŒ</strong> åšé“ºå«ã€‚</p>
<p><strong>å¿«é€Ÿæ’åºåŸç†</strong>ï¼š<br>å¿«é€Ÿæ’åºç®—æ³•æœ‰ä¸¤ä¸ªæ ¸å¿ƒç‚¹ï¼Œåˆ†åˆ«ä¸º â€œå“¨å…µåˆ’åˆ†â€ å’Œ â€œé€’å½’â€ ã€‚</p>
<p><strong>å“¨å…µåˆ’åˆ†æ“ä½œ</strong>ï¼š ä»¥æ•°ç»„æŸä¸ªå…ƒç´ ï¼ˆä¸€èˆ¬é€‰å–é¦–å…ƒç´ ï¼‰ä¸º <code>åŸºå‡†æ•°</code> ï¼Œå°†æ‰€æœ‰å°äºåŸºå‡†æ•°çš„å…ƒç´ ç§»åŠ¨è‡³å…¶å·¦è¾¹ï¼Œå¤§äºåŸºå‡†æ•°çš„å…ƒç´ ç§»åŠ¨è‡³å…¶å³è¾¹ã€‚</p>
<blockquote>
<p>é€šè¿‡ä¸€è½® <strong>å“¨å…µåˆ’åˆ†</strong> ï¼Œå¯å°†æ•°ç»„æ’åºé—®é¢˜æ‹†åˆ†ä¸º <strong>ä¸¤ä¸ªè¾ƒçŸ­æ•°ç»„çš„æ’åºé—®é¢˜</strong> ï¼ˆæœ¬æ–‡ç§°ä¹‹ä¸ºå·¦ï¼ˆå³ï¼‰å­æ•°ç»„ï¼‰ã€‚</p>
</blockquote>
<p><strong>é€’å½’ï¼š</strong> å¯¹ <strong>å·¦å­æ•°ç»„</strong> å’Œ <strong>å³å­æ•°ç»„</strong> é€’å½’æ‰§è¡Œ <strong>å“¨å…µåˆ’åˆ†</strong>ï¼Œç›´è‡³å­æ•°ç»„é•¿åº¦ä¸º 1 æ—¶ç»ˆæ­¢é€’å½’ï¼Œå³å¯å®Œæˆå¯¹æ•´ä¸ªæ•°ç»„çš„æ’åºã€‚</p>
<blockquote>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œä¸ºç¤ºä¾‹æ•°ç»„ [2,4,1,0,3,5] çš„å¿«é€Ÿæ’åºæµç¨‹ã€‚è§‚å¯Ÿå‘ç°ï¼Œå¿«é€Ÿæ’åºå’Œ <code>äºŒåˆ†æ³•</code> çš„åŸç†ç±»ä¼¼ï¼Œéƒ½æ˜¯ä»¥ log æ—¶é—´å¤æ‚åº¦å®ç°æœç´¢åŒºé—´ç¼©å°ã€‚</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1612615552-rifQwI-Picture1-16698640161711.png" alt="Picture1.png"></p>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š<br>æ—¶é—´å¤æ‚åº¦ O(NlogN) ï¼š åº“å‡½æ•°ã€å¿«æ’ç­‰æ’åºç®—æ³•çš„å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸º O(NlogN) ã€‚<br>ç©ºé—´å¤æ‚åº¦ O(N) ï¼š å¿«é€Ÿæ’åºçš„é€’å½’æ·±åº¦æœ€å¥½ï¼ˆå¹³å‡ï¼‰ä¸º O(logN) ï¼Œæœ€å·®æƒ…å†µï¼ˆå³è¾“å…¥æ•°ç»„å®Œå…¨å€’åºï¼‰ä¸º O(N)ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[] getLeastNumbers(<span class="type">int</span>[] arr, <span class="type">int</span> k) &#123;</span><br><span class="line">        quickSort(arr, <span class="number">0</span>, arr.length - <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span> Arrays.copyOf(arr, k);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">quickSort</span><span class="params">(<span class="type">int</span>[] arr, <span class="type">int</span> l, <span class="type">int</span> r)</span> &#123;</span><br><span class="line">        <span class="comment">// å­æ•°ç»„é•¿åº¦ä¸º 1 æ—¶ç»ˆæ­¢é€’å½’</span></span><br><span class="line">        <span class="keyword">if</span> (l &gt;= r) <span class="keyword">return</span>;</span><br><span class="line">        <span class="comment">// å“¨å…µåˆ’åˆ†æ“ä½œï¼ˆä»¥ arr[l] ä½œä¸ºåŸºå‡†æ•°ï¼‰</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> l, j = r;</span><br><span class="line">        <span class="keyword">while</span> (i &lt; j) &#123;</span><br><span class="line">            <span class="keyword">while</span> (i &lt; j &amp;&amp; arr[j] &gt;= arr[l]) j--;</span><br><span class="line">            <span class="keyword">while</span> (i &lt; j &amp;&amp; arr[i] &lt;= arr[l]) i++;</span><br><span class="line">            swap(arr, i, j);</span><br><span class="line">        &#125;</span><br><span class="line">        swap(arr, i, l);</span><br><span class="line">        <span class="comment">// é€’å½’å·¦ï¼ˆå³ï¼‰å­æ•°ç»„æ‰§è¡Œå“¨å…µåˆ’åˆ†</span></span><br><span class="line">        quickSort(arr, l, i - <span class="number">1</span>);</span><br><span class="line">        quickSort(arr, i + <span class="number">1</span>, r);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">swap</span><span class="params">(<span class="type">int</span>[] arr, <span class="type">int</span> i, <span class="type">int</span> j)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">tmp</span> <span class="operator">=</span> arr[i];</span><br><span class="line">        arr[i] = arr[j];</span><br><span class="line">        arr[j] = tmp;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="åŸºäºå¿«é€Ÿæ’åºçš„æ•°ç»„åˆ’åˆ†"><a href="#åŸºäºå¿«é€Ÿæ’åºçš„æ•°ç»„åˆ’åˆ†" class="headerlink" title="åŸºäºå¿«é€Ÿæ’åºçš„æ•°ç»„åˆ’åˆ†"></a>åŸºäºå¿«é€Ÿæ’åºçš„æ•°ç»„åˆ’åˆ†</h4><p>é¢˜ç›®åªè¦æ±‚è¿”å›æœ€å°çš„ k ä¸ªæ•°ï¼Œå¯¹è¿™ k ä¸ªæ•°çš„é¡ºåºå¹¶æ²¡æœ‰è¦æ±‚ã€‚å› æ­¤ï¼Œåªéœ€è¦å°†æ•°ç»„åˆ’åˆ†ä¸º <code>æœ€å°çš„ k ä¸ªæ•°</code> å’Œ <code>å…¶ä»–æ•°å­—</code> ä¸¤éƒ¨åˆ†å³å¯ï¼Œè€Œå¿«é€Ÿæ’åºçš„å“¨å…µåˆ’åˆ†å¯å®Œæˆæ­¤ç›®æ ‡ã€‚</p>
<p>æ ¹æ®å¿«é€Ÿæ’åºåŸç†ï¼Œå¦‚æœæŸæ¬¡å“¨å…µåˆ’åˆ†å <code>åŸºå‡†æ•°æ­£å¥½æ˜¯ç¬¬ k+1 å°çš„æ•°å­—</code> ï¼Œé‚£ä¹ˆæ­¤æ—¶åŸºå‡†æ•°å·¦è¾¹çš„æ‰€æœ‰æ•°å­—ä¾¿æ˜¯é¢˜ç›®æ‰€æ±‚çš„ <code>æœ€å°çš„ k ä¸ªæ•°</code> ã€‚</p>
<p>æ ¹æ®æ­¤æ€è·¯ï¼Œè€ƒè™‘åœ¨æ¯æ¬¡å“¨å…µåˆ’åˆ†åï¼Œåˆ¤æ–­åŸºå‡†æ•°åœ¨æ•°ç»„ä¸­çš„ç´¢å¼•æ˜¯å¦ç­‰äº k ï¼Œè‹¥ true åˆ™ç›´æ¥è¿”å›æ­¤æ—¶æ•°ç»„çš„å‰ k ä¸ªæ•°å­—å³å¯ã€‚</p>
<p><strong>ç®—æ³•æµç¨‹</strong>ï¼š<br>getLeastNumbers() å‡½æ•°ï¼š</p>
<ol>
<li>è‹¥ k å¤§äºæ•°ç»„é•¿åº¦ï¼Œåˆ™ç›´æ¥è¿”å›æ•´ä¸ªæ•°ç»„ï¼›</li>
<li>æ‰§è¡Œå¹¶è¿”å› quick_sort() å³å¯ï¼›</li>
</ol>
<p>quick_sort() å‡½æ•°ï¼š</p>
<blockquote>
<p>æ³¨æ„ï¼Œæ­¤æ—¶ quick_sort() çš„åŠŸèƒ½ä¸æ˜¯æ’åºæ•´ä¸ªæ•°ç»„ï¼Œè€Œæ˜¯æœç´¢å¹¶è¿”å›æœ€å°çš„ k ä¸ªæ•°ã€‚</p>
</blockquote>
<ol>
<li><strong>å“¨å…µåˆ’åˆ†</strong>ï¼š<ul>
<li>åˆ’åˆ†å®Œæ¯•åï¼ŒåŸºå‡†æ•°ä¸º arr[i] ï¼Œå·¦ &#x2F; å³å­æ•°ç»„åŒºé—´åˆ†åˆ«ä¸º [l, i - 1] , [i + 1, r] ï¼›</li>
</ul>
</li>
<li>é€’å½’æˆ–è¿”å›ï¼š<ul>
<li>è‹¥ k &lt; i ï¼Œä»£è¡¨ç¬¬ k + 1 å°çš„æ•°å­—åœ¨ <code>å·¦å­æ•°ç»„</code> ä¸­ï¼Œåˆ™é€’å½’å·¦å­æ•°ç»„ï¼›</li>
<li>è‹¥ k &gt; i ï¼Œä»£è¡¨ç¬¬ k + 1 å°çš„æ•°å­—åœ¨ <code>å³å­æ•°ç»„</code> ä¸­ï¼Œåˆ™é€’å½’å³å­æ•°ç»„ï¼›</li>
<li>è‹¥ k &#x3D; i ï¼Œä»£è¡¨æ­¤æ—¶ arr[k] å³ä¸ºç¬¬ k + 1 å°çš„æ•°å­—ï¼Œåˆ™ç›´æ¥è¿”å›æ•°ç»„å‰ k ä¸ªæ•°å­—å³å¯ï¼›</li>
</ul>
</li>
</ol>
<h5 id="å¤æ‚åº¦åˆ†æï¼š"><a href="#å¤æ‚åº¦åˆ†æï¼š" class="headerlink" title="å¤æ‚åº¦åˆ†æï¼š"></a>å¤æ‚åº¦åˆ†æï¼š</h5><blockquote>
<p>æœ¬æ–¹æ³•ä¼˜åŒ–æ—¶é—´å¤æ‚åº¦çš„æœ¬è´¨æ˜¯é€šè¿‡åˆ¤æ–­èˆå»äº†ä¸å¿…è¦çš„é€’å½’ï¼ˆå“¨å…µåˆ’åˆ†ï¼‰ã€‚</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/image-20221201111603883.png" alt="image-20221201111603883"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span>[] getLeastNumbers(<span class="type">int</span>[] arr, <span class="type">int</span> k) &#123;</span><br><span class="line">    <span class="keyword">if</span> (k &gt;= arr.length) &#123;</span><br><span class="line">        <span class="keyword">return</span> arr;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> quickSort(arr, k, <span class="number">0</span>, arr.length - <span class="number">1</span>); <span class="comment">// å·¦é—­å³é—­[,]</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="type">int</span>[] quickSort(<span class="type">int</span>[] arr, <span class="type">int</span> k, <span class="type">int</span> left, <span class="type">int</span> right) &#123;</span><br><span class="line">    <span class="comment">// å“¨å…µåˆ’åˆ†</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> left, j = right;</span><br><span class="line">    <span class="keyword">while</span> (i &lt; j) &#123;</span><br><span class="line">        <span class="keyword">while</span> (i &lt; j &amp;&amp; arr[j] &gt;= arr[left])</span><br><span class="line">            j--;</span><br><span class="line">        <span class="keyword">while</span> (i &lt; j &amp;&amp; arr[i] &lt;= arr[left])</span><br><span class="line">            i++;</span><br><span class="line">        swap(arr, i, j);</span><br><span class="line">    &#125;</span><br><span class="line">    swap(arr, i, left);<span class="comment">//åˆ’åˆ†å€¼ å’Œ æœ€åä¸€ä¸ª&lt;ä»–çš„å…ƒç´ äº¤æ¢</span></span><br><span class="line">    <span class="comment">// é€’å½’</span></span><br><span class="line">    <span class="keyword">if</span> (i &gt; k) quickSort(arr, k, left, i - <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (i &lt; k) quickSort(arr, k, i + <span class="number">1</span>, right);</span><br><span class="line">    <span class="keyword">return</span> Arrays.copyOf(arr, k);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">swap</span><span class="params">(<span class="type">int</span>[] arr, <span class="type">int</span> i, <span class="type">int</span> j)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">tmp</span> <span class="operator">=</span> arr[i];</span><br><span class="line">    arr[i] = arr[j];</span><br><span class="line">    arr[j] = tmp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="6ã€å‰‘æŒ‡-Offer-41-æ•°æ®æµä¸­çš„ä¸­ä½æ•°"><a href="#6ã€å‰‘æŒ‡-Offer-41-æ•°æ®æµä¸­çš„ä¸­ä½æ•°" class="headerlink" title="6ã€å‰‘æŒ‡ Offer 41. æ•°æ®æµä¸­çš„ä¸­ä½æ•°"></a>6ã€å‰‘æŒ‡ Offer 41. æ•°æ®æµä¸­çš„ä¸­ä½æ•°</h3><p>å¦‚ä½•å¾—åˆ°ä¸€ä¸ªæ•°æ®æµä¸­çš„ä¸­ä½æ•°ï¼Ÿå¦‚æœä»æ•°æ®æµä¸­è¯»å‡ºå¥‡æ•°ä¸ªæ•°å€¼ï¼Œé‚£ä¹ˆä¸­ä½æ•°å°±æ˜¯æ‰€æœ‰æ•°å€¼æ’åºä¹‹åä½äºä¸­é—´çš„æ•°å€¼ã€‚å¦‚æœä»æ•°æ®æµä¸­è¯»å‡ºå¶æ•°ä¸ªæ•°å€¼ï¼Œé‚£ä¹ˆä¸­ä½æ•°å°±æ˜¯æ‰€æœ‰æ•°å€¼æ’åºä¹‹åä¸­é—´ä¸¤ä¸ªæ•°çš„å¹³å‡å€¼ã€‚</p>
<p>ä¾‹å¦‚ï¼Œ</p>
<p>[2,3,4] çš„ä¸­ä½æ•°æ˜¯ 3</p>
<p>[2,3] çš„ä¸­ä½æ•°æ˜¯ (2 + 3) &#x2F; 2 &#x3D; 2.5</p>
<p>è®¾è®¡ä¸€ä¸ªæ”¯æŒä»¥ä¸‹ä¸¤ç§æ“ä½œçš„æ•°æ®ç»“æ„ï¼š</p>
<ul>
<li>void addNum(int num) - ä»æ•°æ®æµä¸­æ·»åŠ ä¸€ä¸ªæ•´æ•°åˆ°æ•°æ®ç»“æ„ä¸­ã€‚</li>
<li>double findMedian() - è¿”å›ç›®å‰æ‰€æœ‰å…ƒç´ çš„ä¸­ä½æ•°ã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š</span><br><span class="line">[&quot;MedianFinder&quot;,&quot;addNum&quot;,&quot;addNum&quot;,&quot;findMedian&quot;,&quot;addNum&quot;,&quot;findMedian&quot;]</span><br><span class="line">[[],[1],[2],[],[3],[]]</span><br><span class="line">è¾“å‡ºï¼š[null,null,null,1.50000,null,2.00000]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š</span><br><span class="line">[&quot;MedianFinder&quot;,&quot;addNum&quot;,&quot;findMedian&quot;,&quot;addNum&quot;,&quot;findMedian&quot;]</span><br><span class="line">[[],[2],[],[3],[]]</span><br><span class="line">è¾“å‡ºï¼š[null,null,2.00000,null,2.50000]</span><br></pre></td></tr></table></figure>



<p><strong>é™åˆ¶ï¼š</strong></p>
<ul>
<li>æœ€å¤šä¼šå¯¹ <code>addNumã€findMedian</code> è¿›è¡Œ <code>50000</code> æ¬¡è°ƒç”¨ã€‚</li>
</ul>
<p>æ³¨æ„ï¼šæœ¬é¢˜ä¸ä¸»ç«™ 295 é¢˜ç›¸åŒï¼š<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/find-median-from-data-stream/">https://leetcode-cn.com/problems/find-median-from-data-stream/</a></p>
<p>Related Topics</p>
<p>è®¾è®¡</p>
<p>åŒæŒ‡é’ˆ</p>
<p>æ•°æ®æµ</p>
<p>æ’åº</p>
<p>å †ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰</p>
<p>ğŸ‘ 379</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<blockquote>
<p>ç»™å®šä¸€é•¿åº¦ä¸º N çš„æ— åºæ•°ç»„ï¼Œå…¶ä¸­ä½æ•°çš„è®¡ç®—æ–¹æ³•ï¼šé¦–å…ˆå¯¹æ•°ç»„æ‰§è¡Œæ’åºï¼ˆä½¿ç”¨ O(NlogN) æ—¶é—´ï¼‰ï¼Œç„¶åè¿”å›ä¸­é—´å…ƒç´ å³å¯ï¼ˆä½¿ç”¨ O(1) æ—¶é—´ï¼‰ã€‚</p>
</blockquote>
<p>é’ˆå¯¹æœ¬é¢˜ï¼Œæ ¹æ®ä»¥ä¸Šæ€è·¯ï¼Œå¯ä»¥å°†æ•°æ®æµä¿å­˜åœ¨ä¸€ä¸ªåˆ—è¡¨ä¸­ï¼Œå¹¶åœ¨æ·»åŠ å…ƒç´ æ—¶ ä¿æŒæ•°ç»„æœ‰åº ã€‚æ­¤æ–¹æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º O(N) ï¼Œå…¶ä¸­åŒ…æ‹¬ï¼š æŸ¥æ‰¾å…ƒç´ æ’å…¥ä½ç½® O(logN) ï¼ˆäºŒåˆ†æŸ¥æ‰¾ï¼‰ã€å‘æ•°ç»„æŸä½ç½®æ’å…¥å…ƒç´  O(N) ï¼ˆæ’å…¥ä½ç½®ä¹‹åçš„å…ƒç´ éƒ½éœ€è¦å‘åç§»åŠ¨ä¸€ä½ï¼‰ã€‚</p>
<blockquote>
<p>å€ŸåŠ© <strong>å †</strong> å¯è¿›ä¸€æ­¥ä¼˜åŒ–æ—¶é—´å¤æ‚åº¦ã€‚</p>
</blockquote>
<p>å»ºç«‹ä¸€ä¸ª <code>å°é¡¶å †</code> A å’Œ <code>å¤§é¡¶å †</code> B ï¼Œå„ä¿å­˜åˆ—è¡¨çš„ä¸€åŠå…ƒç´ ï¼Œä¸”è§„å®šï¼š</p>
<ul>
<li>A ä¿å­˜ è¾ƒå¤§ çš„ä¸€åŠï¼Œé•¿åº¦ä¸º N &#x2F; 2ï¼ˆ N ä¸ºå¶æ•°ï¼‰æˆ– (N + 1) &#x2F; 2ï¼ˆ N ä¸ºå¥‡æ•°ï¼‰ï¼›</li>
<li>b ä¿å­˜ è¾ƒå° çš„ä¸€åŠï¼Œé•¿åº¦ä¸º N &#x2F; 2ï¼ˆ N ä¸ºå¶æ•°ï¼‰æˆ– (N - 1) &#x2F; 2ï¼ˆ N ä¸ºå¥‡æ•°ï¼‰ï¼›</li>
</ul>
<p>éšåï¼Œä¸­ä½æ•°å¯ä»…æ ¹æ® A, B çš„å †é¡¶å…ƒç´ è®¡ç®—å¾—åˆ°ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/bcfaca2b1920d2dd6bbb01aeff990698eb36d53830c38ed499ea3239a15296b3-Picture1.png" alt="Picture1.png"></p>
<p>ç®—æ³•æµç¨‹</p>
<blockquote>
<p>è®¾å…ƒç´ æ€»æ•°ä¸º N &#x3D; m + n ï¼Œå…¶ä¸­ m å’Œ nåˆ†åˆ«ä¸º A å’Œ B ä¸­çš„å…ƒç´ ä¸ªæ•°ã€‚</p>
</blockquote>
<p>addNum(num) å‡½æ•°ï¼š</p>
<ol>
<li>å½“ m &#x3D; nï¼ˆå³ N ä¸º å¶æ•°ï¼‰ï¼šéœ€å‘ A æ·»åŠ ä¸€ä¸ªå…ƒç´ ã€‚å®ç°æ–¹æ³•ï¼šå°†æ–°å…ƒç´  num æ’å…¥è‡³ B ï¼Œå†å°† B å †é¡¶å…ƒç´ æ’å…¥è‡³ A ï¼›</li>
<li>å½“ m !&#x3D; nï¼ˆå³ N ä¸º å¥‡æ•°ï¼‰ï¼šéœ€å‘ B æ·»åŠ ä¸€ä¸ªå…ƒç´ ã€‚å®ç°æ–¹æ³•ï¼šå°†æ–°å…ƒç´  num æ’å…¥è‡³ A ï¼Œå†å°† A å †é¡¶å…ƒç´ æ’å…¥è‡³ B ï¼›</li>
</ol>
<blockquote>
<p>å‡è®¾æ’å…¥æ•°å­— num é‡åˆ°æƒ…å†µ </p>
<ol>
<li>ç”±äº num å¯èƒ½å±äº â€œè¾ƒå°çš„ä¸€åŠâ€ ï¼ˆå³å±äº B ï¼‰ï¼Œå› æ­¤ä¸èƒ½å°† nums ç›´æ¥æ’å…¥è‡³ A ã€‚è€Œåº”å…ˆå°† num æ’å…¥è‡³ B ï¼Œå†å°† B å †é¡¶å…ƒç´ æ’å…¥è‡³ A ã€‚è¿™æ ·å°±å¯ä»¥å§‹ç»ˆä¿æŒ A ä¿å­˜è¾ƒå¤§ä¸€åŠã€ B ä¿å­˜è¾ƒå°ä¸€åŠã€‚</li>
</ol>
</blockquote>
<p>findMedian() å‡½æ•°ï¼š</p>
<ol>
<li>å½“ m &#x3D; nï¼ˆ N ä¸º å¶æ•°ï¼‰ï¼šåˆ™ä¸­ä½æ•°ä¸º ( A çš„å †é¡¶å…ƒç´  + B çš„å †é¡¶å…ƒç´  )&#x2F;2ã€‚</li>
<li>å½“ m !&#x3D;nï¼ˆ N ä¸º å¥‡æ•°ï¼‰ï¼šåˆ™ä¸­ä½æ•°ä¸º A çš„å †é¡¶å…ƒç´ ã€‚</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/68a1972bd8f51f8b042717a82f2984787729d8daec41f965e9a26f0adccd3a29-Picture11.png" alt="img"></p>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<ul>
<li>æŸ¥æ‰¾ä¸­ä½æ•° O(1) ï¼š è·å–å †é¡¶å…ƒç´ ä½¿ç”¨ O(1) æ—¶é—´ï¼›</li>
<li>æ·»åŠ æ•°å­— O(logN) ï¼š å †çš„æ’å…¥å’Œå¼¹å‡ºæ“ä½œä½¿ç”¨ )O(logN) æ—¶é—´ã€‚</li>
</ul>
</li>
<li>ç©ºé—´å¤æ‚åº¦ O(N) ï¼š å…¶ä¸­ N ä¸ºæ•°æ®æµä¸­çš„å…ƒç´ æ•°é‡ï¼Œå°é¡¶å † A å’Œå¤§é¡¶å † B æœ€å¤šåŒæ—¶ä¿å­˜ N ä¸ªå…ƒç´ ã€‚</li>
</ul>
<p>Java ä½¿ç”¨ <code>PriorityQueue&lt;&gt;((x, y) -&gt; (y - x))</code> å¯æ–¹ä¾¿å®ç°å¤§é¡¶å †ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">Queue&lt;Integer&gt; A,B;</span><br><span class="line"></span><br><span class="line"><span class="comment">/** initialize your data structure here. */</span></span><br><span class="line"><span class="keyword">public</span> <span class="title function_">MedianFinder</span><span class="params">()</span> &#123;</span><br><span class="line">    A = <span class="keyword">new</span> <span class="title class_">PriorityQueue</span>&lt;&gt;();<span class="comment">// å°æ ¹å †ï¼Œä¿å­˜è¾ƒå¤§çš„ä¸€åŠ</span></span><br><span class="line">    B = <span class="keyword">new</span> <span class="title class_">PriorityQueue</span>&lt;&gt;((x,y) -&gt; (y - x)); <span class="comment">// å¤§æ ¹å †ï¼Œä¿å­˜è¾ƒå¤§çš„ä¸€åŠ</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addNum</span><span class="params">(<span class="type">int</span> num)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (A.size() != B.size()) &#123; <span class="comment">// m != n å‘BåŠ å…¥æ•°æ®</span></span><br><span class="line">        A.add(num);</span><br><span class="line">        B.add(A.poll());</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123; <span class="comment">// m == n å‘AåŠ å…¥æ•°æ®</span></span><br><span class="line">        B.add(num);</span><br><span class="line">        A.add(B.poll());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">double</span> <span class="title function_">findMedian</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (A.size() == B.size()) &#123; <span class="comment">//å¶æ•°</span></span><br><span class="line">        <span class="keyword">return</span> (A.peek() + B.peek()) / <span class="number">2.0</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123; <span class="comment">// å¥‡æ•°</span></span><br><span class="line">        <span class="keyword">return</span> A.peek();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="7ã€å‰‘æŒ‡-Offer-45-æŠŠæ•°ç»„æ’æˆæœ€å°çš„æ•°"><a href="#7ã€å‰‘æŒ‡-Offer-45-æŠŠæ•°ç»„æ’æˆæœ€å°çš„æ•°" class="headerlink" title="7ã€å‰‘æŒ‡ Offer 45. æŠŠæ•°ç»„æ’æˆæœ€å°çš„æ•°"></a>7ã€å‰‘æŒ‡ Offer 45. æŠŠæ•°ç»„æ’æˆæœ€å°çš„æ•°</h3><p>è¾“å…¥ä¸€ä¸ªéè´Ÿæ•´æ•°æ•°ç»„ï¼ŒæŠŠæ•°ç»„é‡Œæ‰€æœ‰æ•°å­—æ‹¼æ¥èµ·æ¥æ’æˆä¸€ä¸ªæ•°ï¼Œæ‰“å°èƒ½æ‹¼æ¥å‡ºçš„æ‰€æœ‰æ•°å­—ä¸­æœ€å°çš„ä¸€ä¸ªã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: [10,2]</span><br><span class="line">è¾“å‡º: &quot;102&quot;</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: [3,30,34,5,9]</span><br><span class="line">è¾“å‡º: &quot;3033459&quot;</span><br></pre></td></tr></table></figure>



<p><strong>æç¤º:</strong></p>
<ul>
<li><code>0 &lt; nums.length &lt;= 100</code></li>
</ul>
<p><strong>è¯´æ˜:</strong></p>
<ul>
<li>è¾“å‡ºç»“æœå¯èƒ½éå¸¸å¤§ï¼Œæ‰€ä»¥ä½ éœ€è¦è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²è€Œä¸æ˜¯æ•´æ•°</li>
<li>æ‹¼æ¥èµ·æ¥çš„æ•°å­—å¯èƒ½ä¼šæœ‰å‰å¯¼ 0ï¼Œæœ€åç»“æœä¸éœ€è¦å»æ‰å‰å¯¼ 0</li>
</ul>
<p>Related Topics</p>
<p>è´ªå¿ƒ</p>
<p>å­—ç¬¦ä¸²</p>
<p>æ’åº</p>
<p>ğŸ‘ 564</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>æ­¤é¢˜æ±‚æ‹¼æ¥èµ·æ¥çš„æœ€å°æ•°å­—ï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªæ’åºé—®é¢˜ã€‚è®¾æ•°ç»„ numsnums ä¸­ä»»æ„ä¸¤æ•°å­—çš„å­—ç¬¦ä¸²ä¸º x å’Œ y ï¼Œåˆ™è§„å®š <code>æ’åºåˆ¤æ–­è§„åˆ™</code> ä¸ºï¼š</p>
<ul>
<li>è‹¥æ‹¼æ¥å­—ç¬¦ä¸² x + y &gt; y + x ï¼Œåˆ™ x â€œå¤§äºâ€ y ï¼›</li>
<li>åä¹‹ï¼Œè‹¥ x + y &lt; y + x ï¼Œåˆ™ x â€œå°äºâ€ y ï¼›</li>
</ul>
<blockquote>
<p><em>x</em> â€œå°äºâ€ <em>y</em> ä»£è¡¨ï¼šæ’åºå®Œæˆåï¼Œæ•°ç»„ä¸­ <em>x</em> åº”åœ¨ <em>y</em> å·¦è¾¹ï¼›â€œå¤§äºâ€ åˆ™åä¹‹ã€‚</p>
</blockquote>
<p>æ ¹æ®ä»¥ä¸Šè§„åˆ™ï¼Œå¥—ç”¨ä»»ä½•æ’åºæ–¹æ³•å¯¹ nums æ‰§è¡Œæ’åºå³å¯ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/95e81dbccc44f26292d88c509afd68204a86b37d342f83d109fa7aa0cd4a6049-Picture1.png" alt="Picture1.png"></p>
<p><strong>ç®—æ³•æµç¨‹</strong>ï¼š</p>
<ol>
<li>åˆå§‹åŒ–ï¼š å­—ç¬¦ä¸²åˆ—è¡¨ strsï¼Œä¿å­˜å„æ•°å­—çš„å­—ç¬¦ä¸²æ ¼å¼ï¼›</li>
<li>åˆ—è¡¨æ’åºï¼š åº”ç”¨ä»¥ä¸Š â€œæ’åºåˆ¤æ–­è§„åˆ™â€ ï¼Œå¯¹ strs æ‰§è¡Œæ’åºï¼›</li>
<li>è¿”å›å€¼ï¼š æ‹¼æ¥ strs ä¸­çš„æ‰€æœ‰å­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›ã€‚</li>
</ol>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(NlogN) ï¼š N ä¸ºæœ€ç»ˆè¿”å›å€¼çš„å­—ç¬¦æ•°é‡ï¼ˆ strs åˆ—è¡¨çš„é•¿åº¦ â‰¤ N ï¼‰ï¼›ä½¿ç”¨å¿«æ’æˆ–å†…ç½®å‡½æ•°çš„å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸º O(NlogN) ï¼Œæœ€å·®ä¸º O(N^2) ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(N) ï¼š å­—ç¬¦ä¸²åˆ—è¡¨ strs å ç”¨çº¿æ€§å¤§å°çš„é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/14e3e6b5a28486fc4b0e7c614d75eb239aafca71b4ac5a6907d7e4154b27784a-Picture4.png" alt="img"></p>
<p><strong>ä»£ç </strong>ï¼š<br>æœ¬æ–‡åˆ—ä¸¾ å¿«é€Ÿæ’åº å’Œ å†…ç½®å‡½æ•° ä¸¤ç§æ’åºæ–¹æ³•ï¼Œå…¶ä»–æ’åºæ–¹æ³•ä¹Ÿå¯å®ç°ã€‚</p>
<p><strong>å¿«é€Ÿæ’åº</strong>ï¼š<br>éœ€ä¿®æ”¹å¿«é€Ÿæ’åºå‡½æ•°ä¸­çš„æ’åºåˆ¤æ–­è§„åˆ™ã€‚å­—ç¬¦ä¸²å¤§å°ï¼ˆå­—å…¸åºï¼‰å¯¹æ¯”çš„å®ç°æ–¹æ³•ï¼š<br>Java ä¸­ä½¿ç”¨å‡½æ•° A.compareTo(B)ï¼›</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">minNumber</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        String[] strs = <span class="keyword">new</span> <span class="title class_">String</span>[nums.length];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; nums.length; i++)</span><br><span class="line">            strs[i] = String.valueOf(nums[i]);</span><br><span class="line">        quickSort(strs, <span class="number">0</span>, strs.length - <span class="number">1</span>);</span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">res</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        <span class="keyword">for</span>(String s : strs)</span><br><span class="line">            res.append(s);</span><br><span class="line">        <span class="keyword">return</span> res.toString();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">quickSort</span><span class="params">(String[] strs, <span class="type">int</span> l, <span class="type">int</span> r)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(l &gt;= r) <span class="keyword">return</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> l, j = r;</span><br><span class="line">        <span class="type">String</span> <span class="variable">tmp</span> <span class="operator">=</span> strs[i];</span><br><span class="line">        <span class="keyword">while</span>(i &lt; j) &#123;</span><br><span class="line">            <span class="keyword">while</span>((strs[j] + strs[l]).compareTo(strs[l] + strs[j]) &gt;= <span class="number">0</span> &amp;&amp; i &lt; j) j--;</span><br><span class="line">            <span class="keyword">while</span>((strs[i] + strs[l]).compareTo(strs[l] + strs[i]) &lt;= <span class="number">0</span> &amp;&amp; i &lt; j) i++;</span><br><span class="line">            tmp = strs[i];</span><br><span class="line">            strs[i] = strs[j];</span><br><span class="line">            strs[j] = tmp;</span><br><span class="line">        &#125;</span><br><span class="line">        strs[i] = strs[l];</span><br><span class="line">        strs[l] = tmp;</span><br><span class="line">        quickSort(strs, l, i - <span class="number">1</span>);</span><br><span class="line">        quickSort(strs, i + <span class="number">1</span>, r);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å†…ç½®å‡½æ•°</strong>ï¼š<br>éœ€å®šä¹‰æ’åºè§„åˆ™ï¼š<br>Java å®šä¹‰ä¸º (x, y) -&gt; (x + y).compareTo(y + x) ï¼›</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">minNumber</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        String[] strs = <span class="keyword">new</span> <span class="title class_">String</span>[nums.length];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; nums.length; i++)</span><br><span class="line">            strs[i] = String.valueOf(nums[i]);</span><br><span class="line">        Arrays.sort(strs, (x, y) -&gt; (x + y).compareTo(y + x));</span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">res</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        <span class="keyword">for</span>(String s : strs)</span><br><span class="line">            res.append(s);</span><br><span class="line">        <span class="keyword">return</span> res.toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="8ã€å‰‘æŒ‡-Offer-61-æ‰‘å…‹ç‰Œä¸­çš„é¡ºå­"><a href="#8ã€å‰‘æŒ‡-Offer-61-æ‰‘å…‹ç‰Œä¸­çš„é¡ºå­" class="headerlink" title="8ã€å‰‘æŒ‡ Offer 61. æ‰‘å…‹ç‰Œä¸­çš„é¡ºå­"></a>8ã€å‰‘æŒ‡ Offer 61. æ‰‘å…‹ç‰Œä¸­çš„é¡ºå­</h3><p>ä»<strong>è‹¥å¹²å‰¯æ‰‘å…‹ç‰Œ</strong>ä¸­éšæœºæŠ½ <code>5</code> å¼ ç‰Œï¼Œåˆ¤æ–­æ˜¯ä¸æ˜¯ä¸€ä¸ªé¡ºå­ï¼Œå³è¿™5å¼ ç‰Œæ˜¯ä¸æ˜¯è¿ç»­çš„ã€‚2ï½10ä¸ºæ•°å­—æœ¬èº«ï¼ŒAä¸º1ï¼ŒJä¸º11ï¼ŒQä¸º12ï¼ŒKä¸º13ï¼Œè€Œå¤§ã€å°ç‹ä¸º 0 ï¼Œå¯ä»¥çœ‹æˆä»»æ„æ•°å­—ã€‚A ä¸èƒ½è§†ä¸º 14ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: [1,2,3,4,5]</span><br><span class="line">è¾“å‡º: True</span><br></pre></td></tr></table></figure>



<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: [0,0,1,2,5]</span><br><span class="line">è¾“å‡º: True</span><br></pre></td></tr></table></figure>



<p><strong>é™åˆ¶ï¼š</strong></p>
<p>æ•°ç»„é•¿åº¦ä¸º 5</p>
<p>æ•°ç»„çš„æ•°å–å€¼ä¸º [0, 13] .</p>
<p>Related Topics</p>
<p>æ•°ç»„</p>
<p>æ’åº</p>
<p>ğŸ‘ 288</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯ï¼š</strong></p>
<h4 id="è§£æ³•ä¸€"><a href="#è§£æ³•ä¸€" class="headerlink" title="è§£æ³•ä¸€"></a>è§£æ³•ä¸€</h4><ol>
<li>éå†è¿‡ç¨‹ä¸­ç»Ÿè®¡jokerçš„æ•°é‡ï¼Œç”¨äºåç»­æ›¿ä»£å…¶ä»–å¡ç‰Œã€‚</li>
<li>å¦‚æœé‡åˆ°ä¸¤å¼ ç›¸ç­‰ï¼Œåˆ™ç›´æ¥è¿”å›falseã€‚</li>
<li>é‡åˆ°ä¸è¿ç»­çš„æƒ…å†µï¼Œå°±è®©jokeræ¥æ›¿ä»£å¡ç‰Œã€‚</li>
<li>éå†å®Œæˆåï¼Œè¿”å›trueã€‚</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isStraight</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">    Arrays.sort(nums); <span class="comment">// æ’åºï¼šç»Ÿè®¡joker</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">joker</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (nums[i] == <span class="number">0</span>) &#123;</span><br><span class="line">            joker++;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[i] == nums[i + <span class="number">1</span>]) &#123; <span class="comment">// æ’é™¤ç›¸ç­‰çš„ä¸¤å¼ ç›´æ¥ä¸ºé”™</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[i] + <span class="number">1</span> != nums[i + <span class="number">1</span>]) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> nums[i + <span class="number">1</span>] - nums[i] - <span class="number">1</span>; <span class="comment">// éœ€è¦å‡ å¼ joker</span></span><br><span class="line">            <span class="keyword">if</span> (res &gt; joker) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">else</span> joker -= res;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="è§£æ³•äºŒ"><a href="#è§£æ³•äºŒ" class="headerlink" title="è§£æ³•äºŒ"></a>è§£æ³•äºŒ</h4><p>æ ¹æ®é¢˜æ„ï¼Œæ­¤ 5 å¼ ç‰Œæ˜¯é¡ºå­çš„ <code>å……åˆ†æ¡ä»¶</code> å¦‚ä¸‹ï¼š</p>
<ol>
<li>é™¤å¤§å°ç‹å¤–ï¼Œæ‰€æœ‰ç‰Œ <code>æ— é‡å¤</code> ï¼›</li>
<li>è®¾æ­¤ 5 å¼ ç‰Œä¸­æœ€å¤§çš„ç‰Œä¸º max ï¼Œæœ€å°çš„ç‰Œä¸º min ï¼ˆå¤§å°ç‹é™¤å¤–ï¼‰ï¼Œåˆ™éœ€æ»¡è¶³ï¼š<br>max - min &lt; 5</li>
</ol>
<p>å› æ­¤å¯å°†é—®é¢˜è½¬åŒ–ä¸ºï¼šæ­¤ 5 å¼ ç‰Œæ˜¯å¦æ»¡è¶³ä»¥ä¸Šä¸¤ä¸ªæ¡ä»¶ï¼Ÿ</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1599885716-MGMODX-Picture1.png" alt="Picture1.png"></p>
<p>æ–¹æ³•ä¸€ï¼š <strong>é›†åˆ Set + éå†</strong></p>
<ul>
<li>éå†äº”å¼ ç‰Œï¼Œé‡åˆ°å¤§å°ç‹ï¼ˆå³ 0 ï¼‰ç›´æ¥è·³è¿‡ã€‚</li>
<li>åˆ¤åˆ«é‡å¤ï¼š åˆ©ç”¨ Set å®ç°éå†åˆ¤é‡ï¼Œ Set çš„æŸ¥æ‰¾æ–¹æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º O(1)O(1) ï¼›</li>
<li>è·å–æœ€å¤§ &#x2F; æœ€å°çš„ç‰Œï¼š å€ŸåŠ©è¾…åŠ©å˜é‡ ma å’Œ mi ï¼Œéå†ç»Ÿè®¡å³å¯ã€‚</li>
</ul>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š<br>æ—¶é—´å¤æ‚åº¦ O(1) ï¼š æœ¬é¢˜ä¸­ç»™å®šç‰Œæ•°é‡ Nâ‰¡5 ï¼›éå†æ•°ç»„ä½¿ç”¨ O(N) &#x3D; O(5) &#x3D; O(1) æ—¶é—´ã€‚<br>ç©ºé—´å¤æ‚åº¦ O(1) ï¼š ç”¨äºåˆ¤é‡çš„è¾…åŠ© Set ä½¿ç”¨ O(N) &#x3D; O(1) é¢å¤–ç©ºé—´ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isStraight</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        Set&lt;Integer&gt; repeat = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">        <span class="type">int</span> <span class="variable">max</span> <span class="operator">=</span> <span class="number">0</span>, min = <span class="number">14</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> num : nums) &#123;</span><br><span class="line">            <span class="keyword">if</span>(num == <span class="number">0</span>) <span class="keyword">continue</span>; <span class="comment">// è·³è¿‡å¤§å°ç‹</span></span><br><span class="line">            max = Math.max(max, num); <span class="comment">// æœ€å¤§ç‰Œ</span></span><br><span class="line">            min = Math.min(min, num); <span class="comment">// æœ€å°ç‰Œ</span></span><br><span class="line">            <span class="keyword">if</span>(repeat.contains(num)) <span class="keyword">return</span> <span class="literal">false</span>; <span class="comment">// è‹¥æœ‰é‡å¤ï¼Œæå‰è¿”å› false</span></span><br><span class="line">            repeat.add(num); <span class="comment">// æ·»åŠ æ­¤ç‰Œè‡³ Set</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> max - min &lt; <span class="number">5</span>; <span class="comment">// æœ€å¤§ç‰Œ - æœ€å°ç‰Œ &lt; 5 åˆ™å¯æ„æˆé¡ºå­</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ–¹æ³•äºŒï¼š<strong>æ’åº + éå†</strong></p>
<ul>
<li>å…ˆå¯¹æ•°ç»„æ‰§è¡Œæ’åºã€‚</li>
<li>åˆ¤åˆ«é‡å¤ï¼š æ’åºæ•°ç»„nums[i]&#x3D;nums[i+1] æ˜¯å¦æˆç«‹æ¥åˆ¤é‡ã€‚</li>
<li>è·å–æœ€å¤§ &#x2F; æœ€å°çš„ç‰Œï¼š æ’åºåï¼Œæ•°ç»„æœ«ä½å…ƒç´  nums[4] ä¸ºæœ€å¤§ç‰Œï¼›å…ƒç´  nums[joker] ä¸ºæœ€å°ç‰Œï¼Œå…¶ä¸­ joker ä¸ºå¤§å°ç‹çš„æ•°é‡ã€‚</li>
</ul>
<p>å¤æ‚åº¦åˆ†æï¼š<br>æ—¶é—´å¤æ‚åº¦ O(1) ï¼š æœ¬é¢˜ä¸­ç»™å®šç‰Œæ•°é‡ Nâ‰¡5 ï¼›æ•°ç»„æ’åºä½¿ç”¨ O(NlogN)&#x3D;O(5log5)&#x3D;O(1) æ—¶é—´ã€‚<br>ç©ºé—´å¤æ‚åº¦O(1) ï¼š å˜é‡ joker ä½¿ç”¨ O(1) å¤§å°çš„é¢å¤–ç©ºé—´ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1599885716-Lqyuwk-Picture15.png" alt="img"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isStraight</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">joker</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        Arrays.sort(nums); <span class="comment">// æ•°ç»„æ’åº</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(nums[i] == <span class="number">0</span>) joker++; <span class="comment">// ç»Ÿè®¡å¤§å°ç‹æ•°é‡</span></span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(nums[i] == nums[i + <span class="number">1</span>]) <span class="keyword">return</span> <span class="literal">false</span>; <span class="comment">// è‹¥æœ‰é‡å¤ï¼Œæå‰è¿”å› false</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> nums[<span class="number">4</span>] - nums[joker] &lt; <span class="number">5</span>; <span class="comment">// æœ€å¤§ç‰Œ - æœ€å°ç‰Œ &lt; 5 åˆ™å¯æ„æˆé¡ºå­</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="åä¸€ã€æŸ¥æ‰¾ç®—æ³•"><a href="#åä¸€ã€æŸ¥æ‰¾ç®—æ³•" class="headerlink" title="åä¸€ã€æŸ¥æ‰¾ç®—æ³•"></a>åä¸€ã€æŸ¥æ‰¾ç®—æ³•</h2><h3 id="1ã€å‰‘æŒ‡-Offer-03-æ•°ç»„ä¸­é‡å¤çš„æ•°å­—"><a href="#1ã€å‰‘æŒ‡-Offer-03-æ•°ç»„ä¸­é‡å¤çš„æ•°å­—" class="headerlink" title="1ã€å‰‘æŒ‡ Offer 03. æ•°ç»„ä¸­é‡å¤çš„æ•°å­—"></a>1ã€å‰‘æŒ‡ Offer 03. æ•°ç»„ä¸­é‡å¤çš„æ•°å­—</h3><p>æ‰¾å‡ºæ•°ç»„ä¸­é‡å¤çš„æ•°å­—ã€‚</p>
<p>åœ¨ä¸€ä¸ªé•¿åº¦ä¸º n çš„æ•°ç»„ nums é‡Œçš„æ‰€æœ‰æ•°å­—éƒ½åœ¨ 0ï½n-1 çš„èŒƒå›´å†…ã€‚æ•°ç»„ä¸­æŸäº›æ•°å­—æ˜¯é‡å¤çš„ï¼Œä½†ä¸çŸ¥é“æœ‰å‡ ä¸ªæ•°å­—é‡å¤äº†ï¼Œä¹Ÿä¸çŸ¥é“æ¯ä¸ªæ•°å­—é‡å¤äº†å‡ æ¬¡ã€‚è¯·æ‰¾å‡ºæ•°ç»„ä¸­ä»»æ„ä¸€ä¸ªé‡å¤çš„æ•°å­—ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š</span><br><span class="line">[2, 3, 1, 0, 2, 5, 3]</span><br><span class="line">è¾“å‡ºï¼š2 æˆ– 3 </span><br></pre></td></tr></table></figure>



<p><strong>é™åˆ¶ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2 &lt;= n &lt;= 100000</span><br></pre></td></tr></table></figure>

<p>Related Topics</p>
<p>æ•°ç»„</p>
<p>å“ˆå¸Œè¡¨</p>
<p>æ’åº</p>
<p>ğŸ‘ 1017</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<h4 id="æ–¹æ³•ä¸€ï¼šå“ˆå¸Œè¡¨"><a href="#æ–¹æ³•ä¸€ï¼šå“ˆå¸Œè¡¨" class="headerlink" title="æ–¹æ³•ä¸€ï¼šå“ˆå¸Œè¡¨"></a>æ–¹æ³•ä¸€ï¼šå“ˆå¸Œè¡¨</h4><p>åˆ©ç”¨æ•°æ®ç»“æ„ç‰¹ç‚¹ï¼Œå®¹æ˜“æƒ³åˆ°ä½¿ç”¨å“ˆå¸Œè¡¨ï¼ˆSetï¼‰è®°å½•æ•°ç»„çš„å„ä¸ªæ•°å­—ï¼Œå½“æŸ¥æ‰¾åˆ°é‡å¤æ•°å­—åˆ™ç›´æ¥è¿”å›ã€‚</p>
<p><strong>ç®—æ³•æµç¨‹</strong>ï¼š</p>
<ol>
<li>åˆå§‹åŒ–ï¼š æ–°å»º HashSet ï¼Œè®°ä¸º set ï¼›</li>
<li>éå†æ•°ç»„ nums ä¸­çš„æ¯ä¸ªæ•°å­— num ï¼š<ol>
<li>å½“ num åœ¨ set ä¸­ï¼Œè¯´æ˜é‡å¤ï¼Œç›´æ¥è¿”å› num ï¼›</li>
<li>å°† num æ·»åŠ è‡³ set ä¸­ï¼›</li>
</ol>
</li>
<li>è¿”å› -1 ã€‚æœ¬é¢˜ä¸­ä¸€å®šæœ‰é‡å¤æ•°å­—ï¼Œå› æ­¤è¿™é‡Œè¿”å›å¤šå°‘éƒ½å¯ä»¥ã€‚</li>
</ol>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(N) ï¼š éå†æ•°ç»„ä½¿ç”¨ O(N) ï¼ŒHashSet æ·»åŠ ä¸æŸ¥æ‰¾å…ƒç´ çš†ä¸º O(1) ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(N) ï¼š HashSet å ç”¨ O(N) å¤§å°çš„é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * å“ˆå¸Œset</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"> <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">findRepeatNumber</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">     Set&lt;Integer&gt; set = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">     <span class="keyword">for</span> (<span class="type">int</span> num : nums) &#123;</span><br><span class="line">         <span class="keyword">if</span> (set.contains(num)) <span class="keyword">return</span> num;</span><br><span class="line">         <span class="keyword">else</span> set.add(num);</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * æ•°ç»„è®°å½•</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">findRepeatNumber2</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">     <span class="type">byte</span>[] arr = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">100000</span>];</span><br><span class="line">     <span class="keyword">for</span> (<span class="type">int</span> num : nums) &#123;</span><br><span class="line">         <span class="keyword">if</span> (arr[num] == <span class="number">1</span>) <span class="keyword">return</span> num;</span><br><span class="line">         <span class="keyword">else</span> arr[num] = <span class="number">1</span>;</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="æ–¹æ³•äºŒï¼šåŸåœ°äº¤æ¢"><a href="#æ–¹æ³•äºŒï¼šåŸåœ°äº¤æ¢" class="headerlink" title="æ–¹æ³•äºŒï¼šåŸåœ°äº¤æ¢"></a>æ–¹æ³•äºŒï¼šåŸåœ°äº¤æ¢</h4><p>é¢˜ç›®è¯´æ˜å°šæœªè¢«å……åˆ†ä½¿ç”¨ï¼Œå³ <code>åœ¨ä¸€ä¸ªé•¿åº¦ä¸º n çš„æ•°ç»„ nums é‡Œçš„æ‰€æœ‰æ•°å­—éƒ½åœ¨ 0 ~ n-1 çš„èŒƒå›´å†…</code> ã€‚ æ­¤è¯´æ˜å«ä¹‰ï¼šæ•°ç»„å…ƒç´ çš„ <strong>ç´¢å¼•</strong> å’Œ <strong>å€¼</strong> æ˜¯ <strong>ä¸€å¯¹å¤š</strong> çš„å…³ç³»ã€‚</p>
<p>å› æ­¤ï¼Œå¯éå†æ•°ç»„å¹¶é€šè¿‡äº¤æ¢æ“ä½œï¼Œä½¿å…ƒç´ çš„ <strong>ç´¢å¼•</strong> ä¸ <strong>å€¼</strong> ä¸€ä¸€å¯¹åº”ï¼ˆå³ nums[i] &#x3D; i ï¼‰ã€‚å› è€Œï¼Œå°±èƒ½é€šè¿‡ç´¢å¼•æ˜ å°„å¯¹åº”çš„å€¼ï¼Œèµ·åˆ°ä¸å­—å…¸ç­‰ä»·çš„ä½œç”¨ã€‚<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/c1fc8ab927c2663d44d6e11ec3db3871db816999466ceeacbe57e6cf6e9de149-Picture0.png" alt="Picture0.png"></p>
<p>éå†ä¸­ï¼Œç¬¬ä¸€æ¬¡é‡åˆ°æ•°å­— x æ—¶ï¼Œå°†å…¶äº¤æ¢è‡³ç´¢å¼• x å¤„ï¼›è€Œå½“ç¬¬äºŒæ¬¡é‡åˆ°æ•°å­— x æ—¶ï¼Œä¸€å®šæœ‰ nums[x] &#x3D; x ï¼Œæ­¤æ—¶å³å¯å¾—åˆ°ä¸€ç»„é‡å¤æ•°å­—ã€‚</p>
<p><strong>ç®—æ³•æµç¨‹</strong>ï¼š</p>
<p>éå†æ•°ç»„ nums ï¼Œè®¾ç´¢å¼•åˆå§‹å€¼ä¸º i &#x3D; 0 :</p>
<p>è‹¥ nums[i] &#x3D; i ï¼š è¯´æ˜æ­¤æ•°å­—å·²åœ¨å¯¹åº”ç´¢å¼•ä½ç½®ï¼Œæ— éœ€äº¤æ¢ï¼Œå› æ­¤è·³è¿‡ï¼›<br>è‹¥ nums[nums[i]] &#x3D; nums[i] ï¼š ä»£è¡¨ç´¢å¼• nums[i] å¤„å’Œç´¢å¼• i å¤„çš„å…ƒç´ å€¼éƒ½ä¸º nums[i] ï¼Œå³æ‰¾åˆ°ä¸€ç»„é‡å¤å€¼ï¼Œè¿”å›æ­¤å€¼ nums[i] ï¼›<br>å¦åˆ™ï¼š äº¤æ¢ç´¢å¼•ä¸º i å’Œ nums[i] çš„å…ƒç´ å€¼ï¼Œå°†æ­¤æ•°å­—äº¤æ¢è‡³å¯¹åº”ç´¢å¼•ä½ç½®ã€‚<br>è‹¥éå†å®Œæ¯•å°šæœªè¿”å›ï¼Œåˆ™è¿”å› âˆ’1 ã€‚</p>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(N) ï¼š éå†æ•°ç»„ä½¿ç”¨ O(N) ï¼Œæ¯è½®éå†çš„åˆ¤æ–­å’Œäº¤æ¢æ“ä½œä½¿ç”¨ O(1) ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(1) ï¼š ä½¿ç”¨å¸¸æ•°å¤æ‚åº¦çš„é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/82ea50d1915609e368839cac6d4e0e615ff8297138aff645d0c2aba79e6a7b7e-Picture15.png" alt="img"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åŸåœ°äº¤æ¢</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">   <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">findRepeatNumber3</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">       <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">       <span class="keyword">while</span> (i &lt; nums.length) &#123;</span><br><span class="line">           <span class="keyword">if</span> (nums[i] == i) &#123; <span class="comment">// å·²ç»æœ‰åº</span></span><br><span class="line">               i++;</span><br><span class="line">               <span class="keyword">continue</span>;</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="keyword">if</span> (nums[nums[i]] == nums[i]) &#123; <span class="comment">// æ’å¥½åºåï¼Œé‡åˆ°äº†ç¬¬äºŒä¸ªè¿™ä¸ªæ•°</span></span><br><span class="line">               <span class="keyword">return</span> nums[i];</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="comment">// äº¤æ¢</span></span><br><span class="line">           <span class="type">int</span> <span class="variable">tmp</span> <span class="operator">=</span> nums[i];</span><br><span class="line">           nums[i] = nums[nums[i]];</span><br><span class="line">           nums[nums[i]] = tmp;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<h3 id="2ã€å‰‘æŒ‡-Offer-04-äºŒç»´æ•°ç»„ä¸­çš„æŸ¥æ‰¾"><a href="#2ã€å‰‘æŒ‡-Offer-04-äºŒç»´æ•°ç»„ä¸­çš„æŸ¥æ‰¾" class="headerlink" title="2ã€å‰‘æŒ‡ Offer 04. äºŒç»´æ•°ç»„ä¸­çš„æŸ¥æ‰¾"></a>2ã€å‰‘æŒ‡ Offer 04. äºŒç»´æ•°ç»„ä¸­çš„æŸ¥æ‰¾</h3><p>åœ¨ä¸€ä¸ª n * m çš„äºŒç»´æ•°ç»„ä¸­ï¼Œæ¯ä¸€è¡Œéƒ½æŒ‰ç…§ä»å·¦åˆ°å³ <strong>éé€’å‡</strong> çš„é¡ºåºæ’åºï¼Œæ¯ä¸€åˆ—éƒ½æŒ‰ç…§ä»ä¸Šåˆ°ä¸‹ <strong>éé€’å‡</strong> çš„é¡ºåºæ’åºã€‚è¯·å®Œæˆä¸€ä¸ªé«˜æ•ˆçš„å‡½æ•°ï¼Œè¾“å…¥è¿™æ ·çš„ä¸€ä¸ªäºŒç»´æ•°ç»„å’Œä¸€ä¸ªæ•´æ•°ï¼Œåˆ¤æ–­æ•°ç»„ä¸­æ˜¯å¦å«æœ‰è¯¥æ•´æ•°ã€‚</p>
<p><strong>ç¤ºä¾‹:</strong></p>
<p>ç°æœ‰çŸ©é˜µ matrix å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  [1,   4,  7, 11, 15],</span><br><span class="line">  [2,   5,  8, 12, 19],</span><br><span class="line">  [3,   6,  9, 16, 22],</span><br><span class="line">  [10, 13, 14, 17, 24],</span><br><span class="line">  [18, 21, 23, 26, 30]</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p>ç»™å®š target &#x3D; <code>5</code>ï¼Œè¿”å› <code>true</code>ã€‚</p>
<p>ç»™å®š target &#x3D; <code>20</code>ï¼Œè¿”å› <code>false</code>ã€‚</p>
<p><strong>é™åˆ¶ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">0 &lt;= n &lt;= 1000</span><br><span class="line">0 &lt;= m &lt;= 1000</span><br></pre></td></tr></table></figure>



<p><strong>æ³¨æ„ï¼š</strong>æœ¬é¢˜ä¸ä¸»ç«™ 240 é¢˜ç›¸åŒï¼š<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/search-a-2d-matrix-ii/">https://leetcode-cn.com/problems/search-a-2d-matrix-ii/</a></p>
<p>Related Topics</p>
<p>æ•°ç»„</p>
<p>äºŒåˆ†æŸ¥æ‰¾</p>
<p>åˆ†æ²»</p>
<p>çŸ©é˜µ</p>
<p>ğŸ‘ 833</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<blockquote>
<p>è‹¥ä½¿ç”¨æš´åŠ›æ³•éå†çŸ©é˜µ <code>matrix</code> ï¼Œåˆ™æ—¶é—´å¤æ‚åº¦ä¸º O(NM) ã€‚æš´åŠ›æ³•æœªåˆ©ç”¨çŸ©é˜µ <strong>â€œä»ä¸Šåˆ°ä¸‹é€’å¢ã€ä»å·¦åˆ°å³é€’å¢â€</strong> çš„ç‰¹ç‚¹ï¼Œæ˜¾ç„¶ä¸æ˜¯æœ€ä¼˜è§£æ³•ã€‚</p>
</blockquote>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæˆ‘ä»¬å°†çŸ©é˜µé€†æ—¶é’ˆæ—‹è½¬ 45Â° ï¼Œå¹¶å°†å…¶è½¬åŒ–ä¸ºå›¾å½¢å¼ï¼Œå‘ç°å…¶ç±»ä¼¼äº <strong>äºŒå‰æœç´¢æ ‘</strong> ï¼Œå³å¯¹äºæ¯ä¸ªå…ƒç´ ï¼Œå…¶å·¦åˆ†æ”¯å…ƒç´ æ›´å°ã€å³åˆ†æ”¯å…ƒç´ æ›´å¤§ã€‚å› æ­¤ï¼Œé€šè¿‡ä» â€œæ ¹èŠ‚ç‚¹â€ å¼€å§‹æœç´¢ï¼Œé‡åˆ°æ¯” <code>target</code> å¤§çš„å…ƒç´ å°±å‘å·¦ï¼Œåä¹‹å‘å³ï¼Œå³å¯æ‰¾åˆ°ç›®æ ‡å€¼ <code>target</code> ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/6584ea93812d27112043d203ea90e4b0950117d45e0452d0c630fcb247fbc4af-Picture1.png" alt="Picture1.png"></p>
<p>â€œæ ¹èŠ‚ç‚¹â€ å¯¹åº”çš„æ˜¯çŸ©é˜µçš„ â€œå·¦ä¸‹è§’â€ å’Œ â€œå³ä¸Šè§’â€ å…ƒç´ ï¼Œæœ¬æ–‡ç§°ä¹‹ä¸º <strong>æ ‡å¿—æ•°</strong> ï¼Œä»¥ <code>matrix</code> ä¸­çš„ <strong>å·¦ä¸‹è§’å…ƒç´ </strong> ä¸ºæ ‡å¿—æ•° <code>flag</code> ï¼Œåˆ™æœ‰:</p>
<ol>
<li>è‹¥ flag &gt; target ï¼Œåˆ™ target ä¸€å®šåœ¨ flag æ‰€åœ¨ è¡Œçš„ä¸Šæ–¹ ï¼Œå³ flag æ‰€åœ¨è¡Œå¯è¢«æ¶ˆå»ã€‚</li>
<li>è‹¥ flag &lt; target ï¼Œåˆ™ target ä¸€å®šåœ¨ flag æ‰€åœ¨ åˆ—çš„å³æ–¹ ï¼Œå³ flag æ‰€åœ¨åˆ—å¯è¢«æ¶ˆå»ã€‚</li>
</ol>
<p><strong>ç®—æ³•æµç¨‹</strong>ï¼š</p>
<ol>
<li><p>ä»çŸ©é˜µ matrix å·¦ä¸‹è§’å…ƒç´ ï¼ˆç´¢å¼•è®¾ä¸º (i, j) ï¼‰å¼€å§‹éå†ï¼Œå¹¶ä¸ç›®æ ‡å€¼å¯¹æ¯”ï¼š</p>
<ul>
<li>å½“ matrix[i] [j] &gt; target æ—¶ï¼Œæ‰§è¡Œ iâ€“ ï¼Œå³æ¶ˆå»ç¬¬ i è¡Œå…ƒç´ ï¼›</li>
<li>å½“ matrix[i] [j] &lt; target æ—¶ï¼Œæ‰§è¡Œ j++ ï¼Œå³æ¶ˆå»ç¬¬ j åˆ—å…ƒç´ ï¼›</li>
<li>å½“ matrix[i] [j] &#x3D; target æ—¶ï¼Œè¿”å› true ï¼Œä»£è¡¨æ‰¾åˆ°ç›®æ ‡å€¼ã€‚</li>
</ul>
</li>
<li><p>è‹¥è¡Œç´¢å¼•æˆ–åˆ—ç´¢å¼•è¶Šç•Œï¼Œåˆ™ä»£è¡¨çŸ©é˜µä¸­æ— ç›®æ ‡å€¼ï¼Œè¿”å› false<em>f<strong>a</strong>l<strong>s</strong>e</em> ã€‚</p>
</li>
</ol>
<blockquote>
<p>æ¯è½® <code>i</code> æˆ– <code>j</code> ç§»åŠ¨åï¼Œç›¸å½“äºç”Ÿæˆäº†â€œæ¶ˆå»ä¸€è¡Œï¼ˆåˆ—ï¼‰çš„æ–°çŸ©é˜µâ€ï¼Œ ç´¢å¼•<code>(i,j)</code> æŒ‡å‘æ–°çŸ©é˜µçš„å·¦ä¸‹è§’å…ƒç´ ï¼ˆæ ‡å¿—æ•°ï¼‰ï¼Œå› æ­¤å¯é‡å¤ä½¿ç”¨ä»¥ä¸Šæ€§è´¨æ¶ˆå»è¡Œï¼ˆåˆ—ï¼‰ã€‚</p>
</blockquote>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(M+N) ï¼šå…¶ä¸­ï¼ŒN å’Œ M åˆ†åˆ«ä¸ºçŸ©é˜µè¡Œæ•°å’Œåˆ—æ•°ï¼Œæ­¤ç®—æ³•æœ€å¤šå¾ªç¯ M+N æ¬¡ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(1) : i, j æŒ‡é’ˆä½¿ç”¨å¸¸æ•°å¤§å°é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">findNumberIn2DArray2</span><span class="params">(<span class="type">int</span>[][] matrix, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> matrix.length - <span class="number">1</span>, j = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (i &gt;= <span class="number">0</span> &amp;&amp; j &lt; matrix[<span class="number">0</span>].length) &#123;</span><br><span class="line">        <span class="keyword">if</span> (matrix[i][j] &gt; target) &#123;</span><br><span class="line">            i--;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (matrix[i][j] &lt; target) &#123;</span><br><span class="line">            j++;</span><br><span class="line">        &#125; <span class="keyword">else</span> </span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é€’å½’</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* é€’å½’</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">findNumberIn2DArray</span><span class="params">(<span class="type">int</span>[][] matrix, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> traversal(matrix, matrix.length - <span class="number">1</span>, <span class="number">0</span>, target);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">traversal</span><span class="params">(<span class="type">int</span>[][] matrix, <span class="type">int</span> startX, <span class="type">int</span> startY, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (startX &lt; <span class="number">0</span> || startY &gt;= matrix[<span class="number">0</span>].length) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (matrix[startX][startY] ==  target) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (matrix[startX][startY] &gt; target) &#123;</span><br><span class="line">        <span class="keyword">return</span> traversal(matrix, startX - <span class="number">1</span>, startY, target);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123; <span class="comment">// &lt;</span></span><br><span class="line">        <span class="keyword">return</span> traversal(matrix, startX, startY + <span class="number">1</span>, target);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3ã€å‰‘æŒ‡-Offer-11-æ—‹è½¬æ•°ç»„çš„æœ€å°æ•°å­—"><a href="#3ã€å‰‘æŒ‡-Offer-11-æ—‹è½¬æ•°ç»„çš„æœ€å°æ•°å­—" class="headerlink" title="3ã€å‰‘æŒ‡ Offer 11. æ—‹è½¬æ•°ç»„çš„æœ€å°æ•°å­—"></a>3ã€å‰‘æŒ‡ Offer 11. æ—‹è½¬æ•°ç»„çš„æœ€å°æ•°å­—</h3><p>æŠŠä¸€ä¸ªæ•°ç»„æœ€å¼€å§‹çš„è‹¥å¹²ä¸ªå…ƒç´ æ¬åˆ°æ•°ç»„çš„æœ«å°¾ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºæ•°ç»„çš„æ—‹è½¬ã€‚</p>
<p>ç»™ä½ ä¸€ä¸ªå¯èƒ½å­˜åœ¨ <strong>é‡å¤</strong> å…ƒç´ å€¼çš„æ•°ç»„ <code>numbers</code> ï¼Œå®ƒåŸæ¥æ˜¯ä¸€ä¸ªå‡åºæ’åˆ—çš„æ•°ç»„ï¼Œå¹¶æŒ‰ä¸Šè¿°æƒ…å½¢è¿›è¡Œäº†ä¸€æ¬¡æ—‹è½¬ã€‚è¯·è¿”å›æ—‹è½¬æ•°ç»„çš„<strong>æœ€å°å…ƒç´ </strong>ã€‚ä¾‹å¦‚ï¼Œæ•°ç»„ <code>[3,4,5,1,2]</code> ä¸º <code>[1,2,3,4,5]</code> çš„ä¸€æ¬¡æ—‹è½¬ï¼Œè¯¥æ•°ç»„çš„æœ€å°å€¼ä¸º 1ã€‚</p>
<p>æ³¨æ„ï¼Œæ•°ç»„ <code>[a[0], a[1], a[2], ..., a[n-1]]</code> æ—‹è½¬ä¸€æ¬¡ çš„ç»“æœä¸ºæ•°ç»„ <code>[a[n-1], a[0], a[1], a[2], ..., a[n-2]]</code> ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnumbers = [3,4,5,1,2]</span><br><span class="line">è¾“å‡ºï¼š1</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnumbers = [2,2,2,0,1]</span><br><span class="line">è¾“å‡ºï¼š0</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>n == numbers.length</code></li>
<li><code>1 &lt;= n &lt;= 5000</code></li>
<li><code>-5000 &lt;= numbers[i] &lt;= 5000</code></li>
<li><code>numbers</code> åŸæ¥æ˜¯ä¸€ä¸ªå‡åºæ’åºçš„æ•°ç»„ï¼Œå¹¶è¿›è¡Œäº† <code>1</code> è‡³ <code>n</code> æ¬¡æ—‹è½¬</li>
</ul>
<p>æ³¨æ„ï¼šæœ¬é¢˜ä¸ä¸»ç«™ 154 é¢˜ç›¸åŒï¼š<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/find-minimum-in-rotated-sorted-array-ii/">https://leetcode-cn.com/problems/find-minimum-in-rotated-sorted-array-ii/</a></p>
<p>Related Topics</p>
<p>æ•°ç»„</p>
<p>äºŒåˆ†æŸ¥æ‰¾</p>
<p>ğŸ‘ 732</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå¯»æ‰¾æ—‹è½¬æ•°ç»„çš„æœ€å°å…ƒç´ å³ä¸ºå¯»æ‰¾ <strong>å³æ’åºæ•°ç»„</strong> çš„é¦–ä¸ªå…ƒç´  nums[x]ï¼Œç§° x ä¸º <strong>æ—‹è½¬ç‚¹</strong> ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1599404042-JMvjtL-Picture1.png" alt="Picture1.png"></p>
<p>æ’åºæ•°ç»„çš„æŸ¥æ‰¾é—®é¢˜é¦–å…ˆè€ƒè™‘ä½¿ç”¨ <strong>äºŒåˆ†æ³•</strong> è§£å†³ï¼Œå…¶å¯å°† <strong>éå†æ³•</strong> çš„ <strong>çº¿æ€§çº§åˆ«</strong> æ—¶é—´å¤æ‚åº¦é™ä½è‡³ <strong>å¯¹æ•°çº§åˆ«</strong> ã€‚</p>
<p><strong>ç®—æ³•æµç¨‹</strong>ï¼š</p>
<ol>
<li>åˆå§‹åŒ–ï¼š å£°æ˜ i, j åŒæŒ‡é’ˆåˆ†åˆ«æŒ‡å‘ nums æ•°ç»„å·¦å³ä¸¤ç«¯ï¼›</li>
<li><strong>å¾ªç¯äºŒåˆ†</strong>ï¼š è®¾ m &#x3D; (i + j) &#x2F; 2 ä¸ºæ¯æ¬¡äºŒåˆ†çš„ä¸­ç‚¹ï¼ˆ â€œ&#x2F;â€œ ä»£è¡¨å‘ä¸‹å–æ•´é™¤æ³•ï¼Œå› æ­¤æ’æœ‰ iâ‰¤m&lt;j , å·¦é—­å³å¼€[)ï¼‰ï¼Œå¯åˆ†ä¸ºä»¥ä¸‹ä¸‰ç§æƒ…å†µï¼š<ol>
<li>å½“ nums[m] &gt; nums[j] æ—¶ï¼š m ä¸€å®šåœ¨ å·¦æ’åºæ•°ç»„ ä¸­ï¼Œå³æ—‹è½¬ç‚¹ x ä¸€å®šåœ¨ [m + 1, j] é—­åŒºé—´å†…ï¼Œå› æ­¤æ‰§è¡Œ i &#x3D; m + 1ï¼›</li>
<li>å½“ nums[m] &lt; nums[j] æ—¶ï¼š m ä¸€å®šåœ¨ å³æ’åºæ•°ç»„ ä¸­ï¼Œå³æ—‹è½¬ç‚¹ x ä¸€å®šåœ¨ [i, m] é—­åŒºé—´å†…ï¼Œå› æ­¤æ‰§è¡Œ j &#x3D; mï¼›</li>
<li>å½“ nums[m] &#x3D; nums[j] æ—¶ï¼š æ— æ³•åˆ¤æ–­ m åœ¨å“ªä¸ªæ’åºæ•°ç»„ä¸­ï¼Œå³æ— æ³•åˆ¤æ–­æ—‹è½¬ç‚¹ x åœ¨ [i, m] è¿˜æ˜¯ [m + 1, j] åŒºé—´ä¸­ã€‚è§£å†³æ–¹æ¡ˆï¼š æ‰§è¡Œ j &#x3D; j - 1 ç¼©å°åˆ¤æ–­èŒƒå›´ï¼Œåˆ†æè§ä¸‹æ–‡ã€‚</li>
</ol>
</li>
<li>è¿”å›å€¼ï¼š å½“ i &#x3D; j æ—¶è·³å‡ºäºŒåˆ†å¾ªç¯ï¼Œå¹¶è¿”å› æ—‹è½¬ç‚¹çš„å€¼ nums[i] å³å¯ã€‚</li>
</ol>
<p><strong>æ­£ç¡®æ€§è¯æ˜</strong>ï¼š</p>
<p>å½“ nums[m] &#x3D; nums[j] æ—¶ï¼Œæ— æ³•åˆ¤å®š m åœ¨å·¦ï¼ˆå³ï¼‰æ’åºæ•°ç»„ï¼Œè‡ªç„¶ä¹Ÿæ— æ³•é€šè¿‡äºŒåˆ†æ³•å®‰å…¨åœ°ç¼©å°åŒºé—´ï¼Œå› ä¸ºå…¶ä¼šå¯¼è‡´æ—‹è½¬ç‚¹ x ä¸åœ¨åŒºé—´ [i, j] å†…ã€‚ä¸¾ä¾‹å¦‚ä¸‹ï¼š</p>
<blockquote>
<p>è®¾ä»¥ä¸‹ä¸¤ä¸ªæ—‹è½¬ç‚¹å€¼ä¸º 0 çš„ç¤ºä¾‹æ•°ç»„ï¼Œåˆ™å½“ i &#x3D; 0, j &#x3D; 4 æ—¶ m &#x3D; 2 ï¼Œä¸¤ç¤ºä¾‹ç»“æœä¸åŒã€‚<br>ç¤ºä¾‹ä¸€ [1, 0, 1, 1, 1] ï¼šæ—‹è½¬ç‚¹ x &#x3D; 1 ï¼Œå› æ­¤ m &#x3D; 2 åœ¨ å³æ’åºæ•°ç»„ ä¸­ã€‚<br>ç¤ºä¾‹äºŒ [1, 1, 1, 0, 1] ï¼šæ—‹è½¬ç‚¹ x &#x3D; 3 ï¼Œå› æ­¤ m &#x3D; 2 åœ¨ å·¦æ’åºæ•°ç»„ ä¸­ã€‚</p>
</blockquote>
<p>è€Œè¯æ˜ j &#x3D; j - 1 æ­£ç¡®ï¼ˆç¼©å°åŒºé—´å®‰å…¨æ€§ï¼‰ï¼Œéœ€åˆ†ä¸ºä¸¤ç§æƒ…å†µï¼š</p>
<ol>
<li><p>å½“ x &lt; j æ—¶ï¼š æ˜“å¾—æ‰§è¡Œ j &#x3D; j - 1 åï¼Œæ—‹è½¬ç‚¹ x ä»åœ¨åŒºé—´ [i, j] å†…ã€‚</p>
</li>
<li><p>å½“ x &#x3D; j æ—¶ï¼š æ‰§è¡Œ j &#x3D; j - 1 åè¶Šè¿‡ï¼ˆä¸¢å¤±ï¼‰äº†æ—‹è½¬ç‚¹ x ï¼Œä½†æœ€ç»ˆè¿”å›çš„å…ƒç´ å€¼ nums[i] ä»ç­‰äºæ—‹è½¬ç‚¹å€¼ nums[x] ã€‚</p>
<ol>
<li>ç”±äº x &#x3D; j ï¼Œå› æ­¤ nums[x] &#x3D; nums[j] &#x3D; nums[m] â‰¤ nums[i] ;</li>
<li>åˆç”±äº i â‰¤ m &lt; j æ’æˆç«‹ï¼Œå› æ­¤æœ‰ m &lt; x ï¼Œå³æ­¤æ—¶ m ä¸€å®šåœ¨å·¦æ’åºæ•°ç»„ä¸­ï¼Œå› æ­¤ nums[m] â‰¥ nums[i] ;</li>
</ol>
</li>
</ol>
<ul>
<li><p>ç»¼åˆ 1. , 2. ï¼Œå¯æ¨å‡º nums[i] &#x3D; nums[m] ï¼Œä¸”åŒºé—´ [i, m] å†…æ‰€æœ‰å…ƒç´ å€¼ç›¸ç­‰ï¼Œå³æœ‰ï¼š<br>nums[i] &#x3D; nums[i+1] &#x3D; â€¦ &#x3D; nums[m] &#x3D; nums[x]</p>
</li>
<li><p>æ­¤æ—¶ï¼Œæ‰§è¡Œ j &#x3D; j - 1 åè™½ç„¶ä¸¢å¤±äº†æ—‹è½¬ç‚¹ x ï¼Œä½†ä¹‹ååŒºé—´ [i, j] åªåŒ…å«å·¦æ’åºæ•°ç»„ï¼ŒäºŒåˆ†ä¸‹å»è¿”å›çš„ä¸€å®šæ˜¯æœ¬è½®çš„ nums[i] ï¼Œè€Œå…¶ä¸ nums[x] ç›¸ç­‰ã€‚</p>
</li>
</ul>
<blockquote>
<p>ç»¼ä¸Šæ‰€è¿°ï¼Œæ­¤æ–¹æ³•å¯ä»¥ä¿è¯è¿”å›å€¼ nums[i] ç­‰äºæ—‹è½¬ç‚¹å€¼ nums[x] ï¼Œä½†åœ¨å°‘æ•°ç‰¹ä¾‹ä¸‹ i !&#x3D; x ï¼›è€Œæœ¬é¢˜ç›®åªè¦æ±‚è¿”å› â€œæ—‹è½¬ç‚¹çš„å€¼â€ ï¼Œå› æ­¤æœ¬æ–¹æ³•æ­£ç¡®ã€‚</p>
</blockquote>
<p><strong>è¡¥å……æ€è€ƒ</strong>ï¼š ä¸ºä»€ä¹ˆæœ¬é¢˜äºŒåˆ†æ³•ä¸ç”¨ nums[m] å’Œ nums[i] ä½œæ¯”è¾ƒï¼Ÿ</p>
<p>äºŒåˆ†ç›®çš„æ˜¯åˆ¤æ–­ m åœ¨å“ªä¸ªæ’åºæ•°ç»„ä¸­ï¼Œä»è€Œç¼©å°åŒºé—´ã€‚è€Œåœ¨ nums[m] &gt; nums[i] æƒ…å†µä¸‹ï¼Œæ— æ³•åˆ¤æ–­ m åœ¨å“ªä¸ªæ’åºæ•°ç»„ä¸­ã€‚æœ¬è´¨ä¸Šæ˜¯ç”±äº j åˆå§‹å€¼è‚¯å®šåœ¨å³æ’åºæ•°ç»„ä¸­ï¼› i åˆå§‹å€¼æ— æ³•ç¡®å®šåœ¨å“ªä¸ªæ’åºæ•°ç»„ä¸­ã€‚ä¸¾ä¾‹å¦‚ä¸‹ï¼š</p>
<blockquote>
<p>å¯¹äºä»¥ä¸‹ä¸¤ç¤ºä¾‹ï¼Œå½“ i &#x3D; 0, j &#x3D; 4, m &#x3D; 2 æ—¶ï¼Œæœ‰ nums[m] &gt; nums[i] ï¼Œè€Œç»“æœä¸åŒã€‚<br>[1, 2, 3, 4 ,5] æ—‹è½¬ç‚¹ x &#x3D; 0 ï¼š m åœ¨å³æ’åºæ•°ç»„ï¼ˆæ­¤ç¤ºä¾‹åªæœ‰å³æ’åºæ•°ç»„ï¼‰ï¼›<br>[3, 4, 5, 1 ,2] æ—‹è½¬ç‚¹ x &#x3D; 3 ï¼š m åœ¨å·¦æ’åºæ•°ç»„ã€‚</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1599404366-ngPDoD-Picture9.png" alt="img"></p>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(log N) ï¼š åœ¨ç‰¹ä¾‹æƒ…å†µä¸‹ï¼ˆä¾‹å¦‚ [1, 1, 1, 1]ï¼‰ï¼Œä¼šé€€åŒ–åˆ° O(N)ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(1) ï¼š i , j , m å˜é‡ä½¿ç”¨å¸¸æ•°å¤§å°çš„é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minArray</span><span class="params">(<span class="type">int</span>[] numbers)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>, j = numbers.length - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (i &lt; j) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> (i + j) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (numbers[m] &gt; numbers[j]) i = m + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (numbers[m] &lt; numbers[j]) j = m;</span><br><span class="line">        <span class="keyword">else</span> j--;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> numbers[i];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å®é™…ä¸Šï¼Œå½“å‡ºç° nums[m] &#x3D; nums[j] æ—¶ï¼Œä¸€å®šæœ‰åŒºé—´ [i, m] å†…æ‰€æœ‰å…ƒç´ ç›¸ç­‰ æˆ– åŒºé—´ [m, j] å†…æ‰€æœ‰å…ƒç´ ç›¸ç­‰ï¼ˆæˆ–ä¸¤è€…çš†æ»¡è¶³ï¼‰ã€‚å¯¹äºå¯»æ‰¾æ­¤ç±»æ•°ç»„çš„æœ€å°å€¼é—®é¢˜ï¼Œå¯ç›´æ¥æ”¾å¼ƒäºŒåˆ†æŸ¥æ‰¾ï¼Œè€Œä½¿ç”¨çº¿æ€§æŸ¥æ‰¾æ›¿ä»£ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minArray2</span><span class="params">(<span class="type">int</span>[] numbers)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>, j = numbers.length - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (i &lt; j) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> (i + j) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (numbers[m] &gt; numbers[j]) i = m + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (numbers[m] &lt; numbers[j]) j = m;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> i;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> i + <span class="number">1</span>; k &lt; j; k++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (numbers[k] &lt; numbers[x]) &#123;</span><br><span class="line">                    x = k;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> numbers[x];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> numbers[i];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4ã€å‰‘æŒ‡-Offer-50-ç¬¬ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦"><a href="#4ã€å‰‘æŒ‡-Offer-50-ç¬¬ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦" class="headerlink" title="4ã€å‰‘æŒ‡ Offer 50. ç¬¬ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦"></a>4ã€å‰‘æŒ‡ Offer 50. ç¬¬ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦</h3><p>åœ¨å­—ç¬¦ä¸² s ä¸­æ‰¾å‡ºç¬¬ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦ã€‚å¦‚æœæ²¡æœ‰ï¼Œè¿”å›ä¸€ä¸ªå•ç©ºæ ¼ã€‚ s åªåŒ…å«å°å†™å­—æ¯ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;abaccdeff&quot;</span><br><span class="line">è¾“å‡ºï¼š&#x27;b&#x27;</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;&quot; </span><br><span class="line">è¾“å‡ºï¼š&#x27; &#x27;</span><br></pre></td></tr></table></figure>



<p><strong>é™åˆ¶ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0 &lt;= s çš„é•¿åº¦ &lt;= 50000</span><br></pre></td></tr></table></figure>

<p>Related Topics</p>
<p>é˜Ÿåˆ—</p>
<p>å“ˆå¸Œè¡¨</p>
<p>å­—ç¬¦ä¸²</p>
<p>è®¡æ•°</p>
<p>ğŸ‘ 275</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>æœ¬é¢˜è€ƒå¯Ÿ <strong>å“ˆå¸Œè¡¨</strong> çš„ä½¿ç”¨ï¼Œæœ¬æ–‡ä»‹ç» <strong>å“ˆå¸Œè¡¨</strong> å’Œ <strong>æœ‰åºå“ˆå¸Œè¡¨</strong> ä¸¤ç§è§£æ³•ã€‚å…¶ä¸­ï¼Œåœ¨å­—ç¬¦ä¸²é•¿åº¦è¾ƒå¤§ã€é‡å¤å­—ç¬¦å¾ˆå¤šæ—¶ï¼Œâ€œæœ‰åºå“ˆå¸Œè¡¨â€ è§£æ³•ç†è®ºä¸Šæ•ˆç‡æ›´é«˜ã€‚</p>
<h4 id="æ–¹æ³•ä¸€ï¼šå“ˆå¸Œè¡¨-1"><a href="#æ–¹æ³•ä¸€ï¼šå“ˆå¸Œè¡¨-1" class="headerlink" title="æ–¹æ³•ä¸€ï¼šå“ˆå¸Œè¡¨"></a>æ–¹æ³•ä¸€ï¼šå“ˆå¸Œè¡¨</h4><ol>
<li>éå†å­—ç¬¦ä¸² s ï¼Œä½¿ç”¨å“ˆå¸Œè¡¨ç»Ÿè®¡ â€œå„å­—ç¬¦æ•°é‡ â€ã€‚</li>
<li>å†éå†å­—ç¬¦ä¸² s ï¼Œåœ¨å“ˆå¸Œè¡¨ä¸­æ‰¾åˆ°é¦–ä¸ª â€œæ•°é‡ä¸º 1 çš„å­—ç¬¦â€ï¼Œå¹¶è¿”å›ã€‚</li>
</ol>
<p><strong>ç®—æ³•æµç¨‹</strong>ï¼š</p>
<ol>
<li>åˆå§‹åŒ–ï¼š HashMap(Java)ï¼Œè®°ä¸º mapï¼›</li>
<li>å­—ç¬¦ç»Ÿè®¡ï¼š éå†å­—ç¬¦ä¸² s ä¸­çš„æ¯ä¸ªå­—ç¬¦ c , æ›´æ–°è¯¥å­—ç¬¦åœ¨ map ä¸­è®°å½•çš„ä¸ªæ•°ã€‚</li>
<li>æŸ¥æ‰¾æ•°é‡ä¸º 1 çš„å­—ç¬¦ï¼š éå†å­—ç¬¦ä¸² s ä¸­çš„æ¯ä¸ªå­—ç¬¦ c ï¼›è‹¥ mapä¸­é”® c å¯¹åº”çš„å€¼ä¸º 1ï¼šï¼Œåˆ™è¿”å› c ã€‚</li>
<li>è¿”å› â€˜ â€˜ ï¼Œä»£è¡¨å­—ç¬¦ä¸²æ— æ•°é‡ä¸º 1 çš„å­—ç¬¦ã€‚</li>
</ol>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(N) ï¼š N ä¸ºå­—ç¬¦ä¸² s çš„é•¿åº¦ï¼›éœ€éå† s ä¸¤è½®,ä½¿ç”¨ O(N) ï¼›HashMap æŸ¥æ‰¾æ“ä½œçš„å¤æ‚åº¦ä¸º O(1)ï¼›</li>
<li>ç©ºé—´å¤æ‚åº¦ O(1) ï¼š ç”±äºé¢˜ç›®æŒ‡å‡º s åªåŒ…å«å°å†™å­—æ¯ï¼Œå› æ­¤æœ€å¤šæœ‰ 26 ä¸ªä¸åŒå­—ç¬¦ï¼ŒHashMap å­˜å‚¨éœ€å ç”¨ O(26) &#x3D; O(1) çš„é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">char</span> <span class="title function_">firstUniqChar</span><span class="params">(String s)</span> &#123;</span><br><span class="line">    HashMap&lt;Character, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class="line">        map.put(s.charAt(i), map.getOrDefault(s.charAt(i), <span class="number">0</span>) + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (map.get(s.charAt(i)) == <span class="number">1</span>) <span class="keyword">return</span> s.charAt(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="æ–¹æ³•äºŒï¼šæœ‰åºå“ˆå¸Œè¡¨"><a href="#æ–¹æ³•äºŒï¼šæœ‰åºå“ˆå¸Œè¡¨" class="headerlink" title="æ–¹æ³•äºŒï¼šæœ‰åºå“ˆå¸Œè¡¨"></a>æ–¹æ³•äºŒï¼šæœ‰åºå“ˆå¸Œè¡¨</h4><p>åœ¨å“ˆå¸Œè¡¨çš„åŸºç¡€ä¸Šï¼Œæœ‰åºå“ˆå¸Œè¡¨ä¸­çš„é”®å€¼å¯¹æ˜¯ <code>æŒ‰ç…§æ’å…¥é¡ºåºæ’åº</code> çš„ã€‚åŸºäºæ­¤ï¼Œå¯é€šè¿‡éå†æœ‰åºå“ˆå¸Œè¡¨ï¼Œå®ç°æœç´¢é¦–ä¸ª â€œæ•°é‡ä¸º 1 çš„å­—ç¬¦â€ã€‚</p>
<p>å“ˆå¸Œè¡¨æ˜¯ <code>å»é‡</code> çš„ï¼Œå³å“ˆå¸Œè¡¨ä¸­é”®å€¼å¯¹æ•°é‡ &lt;&#x3D; å­—ç¬¦ä¸² s çš„é•¿åº¦ã€‚å› æ­¤ï¼Œç›¸æ¯”äºæ–¹æ³•ä¸€ï¼Œæ–¹æ³•äºŒå‡å°‘äº†ç¬¬äºŒè½®éå†çš„å¾ªç¯æ¬¡æ•°ã€‚å½“å­—ç¬¦ä¸²å¾ˆé•¿ï¼ˆé‡å¤å­—ç¬¦å¾ˆå¤šï¼‰æ—¶ï¼Œæ–¹æ³•äºŒåˆ™æ•ˆç‡æ›´é«˜ã€‚</p>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š<br>æ—¶é—´å’Œç©ºé—´å¤æ‚åº¦å‡ä¸ â€œæ–¹æ³•ä¸€â€ ç›¸åŒï¼Œè€Œå…·ä½“åˆ†æï¼šæ–¹æ³•ä¸€ éœ€éå† s ä¸¤è½®ï¼›æ–¹æ³•äºŒ éå† s ä¸€è½®ï¼Œéå† mapä¸€è½®ï¼ˆ map çš„é•¿åº¦ä¸å¤§äº 26 ï¼‰ã€‚</p>
<p>Java ä½¿ç”¨ <code>LinkedHashMap</code> å®ç°æœ‰åºå“ˆå¸Œè¡¨ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">char</span> <span class="title function_">firstUniqChar2</span><span class="params">(String s)</span> &#123;</span><br><span class="line">    HashMap&lt;Character, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">LinkedHashMap</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class="line">        map.put(s.charAt(i), map.getOrDefault(s.charAt(i), <span class="number">0</span>) + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (Map.Entry&lt;Character, Integer&gt; m : map.entrySet()) &#123;</span><br><span class="line">        <span class="keyword">if</span> (m.getValue() == <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> m.getKey();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5ã€å‰‘æŒ‡-Offer-53-II-0ï½n-1-ä¸­ç¼ºå¤±çš„æ•°å­—"><a href="#5ã€å‰‘æŒ‡-Offer-53-II-0ï½n-1-ä¸­ç¼ºå¤±çš„æ•°å­—" class="headerlink" title="5ã€å‰‘æŒ‡ Offer 53 - II. 0ï½n-1 ä¸­ç¼ºå¤±çš„æ•°å­—"></a>5ã€å‰‘æŒ‡ Offer 53 - II. 0ï½n-1 ä¸­ç¼ºå¤±çš„æ•°å­—</h3><p>ä¸€ä¸ªé•¿åº¦ä¸ºn-1çš„é€’å¢æ’åºæ•°ç»„ä¸­çš„æ‰€æœ‰æ•°å­—éƒ½æ˜¯å”¯ä¸€çš„ï¼Œå¹¶ä¸”æ¯ä¸ªæ•°å­—éƒ½åœ¨èŒƒå›´0ï½n-1ä¹‹å†…ã€‚åœ¨èŒƒå›´0ï½n-1å†…çš„nä¸ªæ•°å­—ä¸­æœ‰ä¸”åªæœ‰ä¸€ä¸ªæ•°å­—ä¸åœ¨è¯¥æ•°ç»„ä¸­ï¼Œè¯·æ‰¾å‡ºè¿™ä¸ªæ•°å­—ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: [0,1,3]</span><br><span class="line">è¾“å‡º: 2</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: [0,1,2,3,4,5,6,7,9]</span><br><span class="line">è¾“å‡º: 8</span><br></pre></td></tr></table></figure>



<p><strong>é™åˆ¶ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1 &lt;= æ•°ç»„é•¿åº¦ &lt;= 10000</span><br></pre></td></tr></table></figure>

<p>Related Topics</p>
<p>ä½è¿ç®—</p>
<p>æ•°ç»„</p>
<p>å“ˆå¸Œè¡¨</p>
<p>æ•°å­¦</p>
<p>äºŒåˆ†æŸ¥æ‰¾</p>
<p>ğŸ‘ 326</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>æ’åºæ•°ç»„ä¸­çš„æœç´¢é—®é¢˜ï¼Œé¦–å…ˆæƒ³åˆ° <code>äºŒåˆ†æ³•</code> è§£å†³ã€‚æ ¹æ®é¢˜æ„ï¼Œæ•°ç»„å¯ä»¥æŒ‰ç…§ä»¥ä¸‹è§„åˆ™åˆ’åˆ†ä¸ºä¸¤éƒ¨åˆ†ã€‚</p>
<ul>
<li>å·¦å­æ•°ç»„ï¼š nums[i] &#x3D; i ï¼›</li>
<li>å³å­æ•°ç»„ï¼š nums[i] !&#x3D; iï¼›</li>
</ul>
<p>ç¼ºå¤±çš„æ•°å­—ç­‰äº <strong>â€œå³å­æ•°ç»„çš„é¦–ä½å…ƒç´ â€</strong> å¯¹åº”çš„ç´¢å¼•ï¼›å› æ­¤è€ƒè™‘ä½¿ç”¨äºŒåˆ†æ³•æŸ¥æ‰¾ â€œå³å­æ•°ç»„çš„é¦–ä½å…ƒç´ â€ ã€‚</p>
<p><strong>ç®—æ³•è§£æ</strong>ï¼š</p>
<ol>
<li>åˆå§‹åŒ–ï¼š å·¦è¾¹ç•Œ i &#x3D; 0 ï¼Œå³è¾¹ç•Œ j &#x3D; len(nums) - 1 ï¼›ä»£è¡¨é—­åŒºé—´ [i, j] ã€‚</li>
<li>å¾ªç¯äºŒåˆ†ï¼š å½“ i â‰¤ j æ—¶å¾ªç¯ ï¼ˆå³å½“é—­åŒºé—´ [i, j] ä¸ºç©ºæ—¶è·³å‡ºï¼‰ ï¼›<ol>
<li>è®¡ç®—ä¸­ç‚¹ m &#x3D; (i + j) &#x2F;&#x2F; 2 ï¼Œå…¶ä¸­ â€œ&#x2F;&#x2F;â€œ ä¸ºå‘ä¸‹å–æ•´é™¤æ³•ï¼›</li>
<li>è‹¥ nums[m] &#x3D; m ï¼Œåˆ™ â€œå³å­æ•°ç»„çš„é¦–ä½å…ƒç´ â€ ä¸€å®šåœ¨é—­åŒºé—´ [m + 1, j] ä¸­ï¼Œå› æ­¤æ‰§è¡Œ i &#x3D; m + 1ï¼›</li>
<li>è‹¥ nums[m] !&#x3D;m ï¼Œåˆ™ â€œå·¦å­æ•°ç»„çš„æœ«ä½å…ƒç´ â€ ä¸€å®šåœ¨é—­åŒºé—´ [i, m - 1] ä¸­ï¼Œå› æ­¤æ‰§è¡Œ j &#x3D; m - 1ï¼›</li>
</ol>
</li>
<li>è¿”å›å€¼ï¼š è·³å‡ºæ—¶ï¼Œå˜é‡ i å’Œ j åˆ†åˆ«æŒ‡å‘ â€œå³å­æ•°ç»„çš„é¦–ä½å…ƒç´ â€ å’Œ â€œå·¦å­æ•°ç»„çš„æœ«ä½å…ƒç´ â€ ã€‚å› æ­¤è¿”å› i å³å¯ã€‚</li>
</ol>
<p>å¤æ‚åº¦åˆ†æï¼š </p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(log N)ï¼š äºŒåˆ†æ³•ä¸ºå¯¹æ•°çº§åˆ«å¤æ‚åº¦ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(1)ï¼š å‡ ä¸ªå˜é‡ä½¿ç”¨å¸¸æ•°å¤§å°çš„é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * äºŒåˆ†æŸ¥æ‰¾</span></span><br><span class="line"><span class="comment"> * 0 &lt;= nums[i] &lt;= n-1</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">missingNumber</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> nums.length - <span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (left &lt;= right) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> left + ((right - left) / <span class="number">2</span>); <span class="comment">// mid</span></span><br><span class="line">        <span class="keyword">if</span> (nums[mid] == mid) &#123;</span><br><span class="line">            left = mid + <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> right = mid - <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> left;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="6ã€å‰‘æŒ‡-Offer-53-I-åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾æ•°å­—-I"><a href="#6ã€å‰‘æŒ‡-Offer-53-I-åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾æ•°å­—-I" class="headerlink" title="6ã€å‰‘æŒ‡ Offer 53 - I. åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾æ•°å­— I"></a>6ã€å‰‘æŒ‡ Offer 53 - I. åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾æ•°å­— I</h3><p>ç»Ÿè®¡ä¸€ä¸ªæ•°å­—åœ¨æ’åºæ•°ç»„ä¸­å‡ºç°çš„æ¬¡æ•°ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: nums = [5,7,7,8,8,10], target = 8</span><br><span class="line">è¾“å‡º: 2</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: nums = [5,7,7,8,8,10], target = 6</span><br><span class="line">è¾“å‡º: 0</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>0 &lt;= nums.length &lt;= 105</code></li>
<li><code>-109 &lt;= nums[i] &lt;= 109</code></li>
<li><code>nums</code> æ˜¯ä¸€ä¸ªéé€’å‡æ•°ç»„</li>
<li><code>-109 &lt;= target &lt;= 109</code></li>
</ul>
<p><strong>æ³¨æ„ï¼š</strong>æœ¬é¢˜ä¸ä¸»ç«™ 34 é¢˜ç›¸åŒï¼ˆä»…è¿”å›å€¼ä¸åŒï¼‰ï¼š<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/find-first-and-last-position-of-element-in-sorted-array/">https://leetcode-cn.com/problems/find-first-and-last-position-of-element-in-sorted-array/</a></p>
<p>Related Topics</p>
<p>æ•°ç»„</p>
<p>äºŒåˆ†æŸ¥æ‰¾</p>
<p>ğŸ‘ 382</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<blockquote>
<p>æ’åºæ•°ç»„ä¸­çš„æœç´¢é—®é¢˜ï¼Œé¦–å…ˆæƒ³åˆ° <strong>äºŒåˆ†æ³•</strong> è§£å†³ã€‚</p>
</blockquote>
<p>æ’åºæ•°ç»„ nums ä¸­çš„æ‰€æœ‰æ•°å­— target å½¢æˆä¸€ä¸ªçª—å£ï¼Œè®°çª—å£çš„ <code>å·¦ / å³è¾¹ç•Œ</code> ç´¢å¼•åˆ†åˆ«ä¸º left å’Œ right ï¼Œåˆ†åˆ«å¯¹åº”çª—å£å·¦è¾¹ &#x2F; å³è¾¹çš„é¦–ä¸ªå…ƒç´ ã€‚</p>
<p>æœ¬é¢˜è¦æ±‚ç»Ÿè®¡æ•°å­— target çš„å‡ºç°æ¬¡æ•°ï¼Œå¯è½¬åŒ–ä¸ºï¼šä½¿ç”¨äºŒåˆ†æ³•åˆ†åˆ«æ‰¾åˆ° å·¦è¾¹ç•Œ left å’Œ å³è¾¹ç•Œ right ï¼Œæ˜“å¾—æ•°å­— target çš„æ•°é‡ä¸º right - left - 1 ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1600793982-pWqZGf-Picture1.png" alt="Picture1.png"></p>
<p><strong>ç®—æ³•è§£æ</strong>ï¼š</p>
<ol>
<li>åˆå§‹åŒ–ï¼š å·¦è¾¹ç•Œ i &#x3D; 0 ï¼Œå³è¾¹ç•Œ j &#x3D; len(nums) - 1 ã€‚</li>
<li>å¾ªç¯äºŒåˆ†ï¼š å½“é—­åŒºé—´ [i, j] æ— å…ƒç´ æ—¶è·³å‡ºï¼›<ol>
<li>è®¡ç®—ä¸­ç‚¹ m &#x3D; (i + j) &#x2F; 2 ï¼ˆå‘ä¸‹å–æ•´ï¼‰ï¼›</li>
<li>è‹¥ nums[m] &lt; target ï¼Œåˆ™ target åœ¨é—­åŒºé—´ [m + 1, j] ä¸­ï¼Œå› æ­¤æ‰§è¡Œ i &#x3D; m + 1ï¼›</li>
<li>è‹¥ nums[m] &gt; target ï¼Œåˆ™ target åœ¨é—­åŒºé—´ [i, m - 1] ä¸­ï¼Œå› æ­¤æ‰§è¡Œ j &#x3D; m - 1ï¼›</li>
<li>è‹¥ nums[m] &#x3D; target ï¼Œåˆ™å³è¾¹ç•Œ right åœ¨é—­åŒºé—´ [m + 1, j] ä¸­ï¼›å·¦è¾¹ç•Œ left åœ¨é—­åŒºé—´ [i, m-1] ä¸­ã€‚å› æ­¤åˆ†ä¸ºä»¥ä¸‹ä¸¤ç§æƒ…å†µï¼š<ul>
<li>è‹¥æŸ¥æ‰¾ <strong>å³è¾¹ç•Œ</strong> right ï¼Œåˆ™æ‰§è¡Œ i &#x3D; m + 1 ï¼›ï¼ˆè·³å‡ºæ—¶ i æŒ‡å‘å³è¾¹ç•Œï¼‰</li>
<li>è‹¥æŸ¥æ‰¾ <strong>å·¦è¾¹ç•Œ</strong> left ï¼Œåˆ™æ‰§è¡Œ j &#x3D; m - 1 ï¼›ï¼ˆè·³å‡ºæ—¶ j æŒ‡å‘å·¦è¾¹ç•Œï¼‰</li>
</ul>
</li>
</ol>
</li>
<li>è¿”å›å€¼ï¼š åº”ç”¨ä¸¤æ¬¡äºŒåˆ†ï¼Œåˆ†åˆ«æŸ¥æ‰¾ right å’Œ left ï¼Œæœ€ç»ˆè¿”å› right - left - 1 å³å¯ã€‚</li>
</ol>
<p><strong>æ•ˆç‡ä¼˜åŒ–</strong>ï¼š</p>
<blockquote>
<p>ä»¥ä¸‹ä¼˜åŒ–åŸºäºï¼šæŸ¥æ‰¾å®Œå³è¾¹ç•Œ right &#x3D; i åï¼Œåˆ™ nums[j] æŒ‡å‘æœ€å³è¾¹çš„ targetï¼ˆè‹¥å­˜åœ¨ï¼‰ã€‚</p>
</blockquote>
<ol>
<li>æŸ¥æ‰¾å®Œå³è¾¹ç•Œåï¼Œå¯ç”¨ nums[j] &#x3D; target åˆ¤æ–­æ•°ç»„ä¸­æ˜¯å¦åŒ…å« target ï¼Œè‹¥ä¸åŒ…å«åˆ™ç›´æ¥æå‰è¿”å› 0 ï¼Œæ— éœ€åç»­æŸ¥æ‰¾å·¦è¾¹ç•Œã€‚</li>
<li>æŸ¥æ‰¾å®Œå³è¾¹ç•Œåï¼Œå·¦è¾¹ç•Œ left ä¸€å®šåœ¨é—­åŒºé—´ [0, j] ä¸­ï¼Œå› æ­¤ç›´æ¥ä»æ­¤åŒºé—´å¼€å§‹äºŒåˆ†æŸ¥æ‰¾å³å¯ã€‚</li>
</ol>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(log N)ï¼š äºŒåˆ†æ³•ä¸ºå¯¹æ•°çº§åˆ«å¤æ‚åº¦ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(1) ï¼š å‡ ä¸ªå˜é‡ä½¿ç”¨å¸¸æ•°å¤§å°çš„é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<h4 id="code1-ä¸¤æ¬¡äºŒåˆ†"><a href="#code1-ä¸¤æ¬¡äºŒåˆ†" class="headerlink" title="code1:ä¸¤æ¬¡äºŒåˆ†"></a>code1:ä¸¤æ¬¡äºŒåˆ†</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">search</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">        <span class="comment">// æœç´¢å³è¾¹ç•Œ right</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>, j = nums.length - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(i &lt;= j) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> (i + j) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span>(nums[m] &lt;= target) i = m + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span> j = m - <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> i;</span><br><span class="line">        <span class="comment">// è‹¥æ•°ç»„ä¸­æ—  target ï¼Œåˆ™æå‰è¿”å›</span></span><br><span class="line">        <span class="keyword">if</span>(j &gt;= <span class="number">0</span> &amp;&amp; nums[j] != target) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// æœç´¢å·¦è¾¹ç•Œ right</span></span><br><span class="line">        i = <span class="number">0</span>; j = nums.length - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(i &lt;= j) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> (i + j) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span>(nums[m] &lt; target) i = m + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span> j = m - <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> j;</span><br><span class="line">        <span class="keyword">return</span> right - left - <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="code2-å°è£…äºŒåˆ†æ³•ï¼Œç®€åŒ–ä»£ç "><a href="#code2-å°è£…äºŒåˆ†æ³•ï¼Œç®€åŒ–ä»£ç " class="headerlink" title="code2:å°è£…äºŒåˆ†æ³•ï¼Œç®€åŒ–ä»£ç "></a>code2:å°è£…äºŒåˆ†æ³•ï¼Œç®€åŒ–ä»£ç </h4><p>ä»¥ä¸Šä»£ç æ˜¾å¾—æ¯”è¾ƒè‡ƒè‚¿ï¼ˆä¸¤è½®äºŒåˆ†æŸ¥æ‰¾ä»£ç å†—ä½™ï¼‰ã€‚ä¸ºç®€åŒ–ä»£ç ï¼Œå¯å°†äºŒåˆ†æŸ¥æ‰¾å³è¾¹ç•Œ right çš„ä»£ç  å°è£…è‡³å‡½æ•° helper() ã€‚<br>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œç”±äºæ•°ç»„ nums ä¸­å…ƒç´ éƒ½ä¸ºæ•´æ•°ï¼Œå› æ­¤å¯ä»¥åˆ†åˆ«äºŒåˆ†æŸ¥æ‰¾ target å’Œ target - 1 çš„å³è¾¹ç•Œï¼Œå°†ä¸¤ç»“æœç›¸å‡å¹¶è¿”å›å³å¯ã€‚<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1600793982-ikEYZs-Picture2.png" alt="Picture2.png"></p>
<p>æœ¬è´¨ä¸Šçœ‹ï¼Œ <code>helper()</code> å‡½æ•°æ—¨åœ¨æŸ¥æ‰¾æ•°å­— tar åœ¨æ•°ç»„ nums ä¸­çš„ <strong>æ’å…¥ç‚¹</strong> ï¼Œä¸”è‹¥æ•°ç»„ä¸­å­˜åœ¨å€¼ç›¸åŒçš„å…ƒç´ ï¼Œåˆ™æ’å…¥åˆ°è¿™äº›å…ƒç´ çš„å³è¾¹ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">search</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> helper(nums, target) - helper(nums, target - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> <span class="title function_">helper</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> tar)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>, j = nums.length - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(i &lt;= j) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> (i + j) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span>(nums[m] &lt;= tar) i = m + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span> j = m - <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> i;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="code3-å…ˆäºŒåˆ†ï¼Œå†ä¸¤è¾¹åŒæ—¶é€¼è¿‘ï¼ˆé¡ºåºï¼‰"><a href="#code3-å…ˆäºŒåˆ†ï¼Œå†ä¸¤è¾¹åŒæ—¶é€¼è¿‘ï¼ˆé¡ºåºï¼‰" class="headerlink" title="code3:å…ˆäºŒåˆ†ï¼Œå†ä¸¤è¾¹åŒæ—¶é€¼è¿‘ï¼ˆé¡ºåºï¼‰"></a>code3:å…ˆäºŒåˆ†ï¼Œå†ä¸¤è¾¹åŒæ—¶é€¼è¿‘ï¼ˆé¡ºåºï¼‰</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">search</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> nums.length - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (left &lt;= right) &#123; <span class="comment">// å·¦é—­å³é—­[,]</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> left + (right - left) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span> (nums[mid] &gt; target) &#123;</span><br><span class="line">                right = mid - <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[mid] &lt; target) &#123;</span><br><span class="line">                left = mid + <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123; <span class="comment">// é¡ºåº æŸ¥æ‰¾</span></span><br><span class="line">                <span class="keyword">if</span> (nums[right] != target) &#123;</span><br><span class="line">                    right--;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (nums[left] != target) &#123;</span><br><span class="line">                    left++;</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[right] == nums[left]) &#123;</span><br><span class="line">                    <span class="keyword">return</span> right - left + <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="7ã€å‰‘æŒ‡-Offer-25-åˆå¹¶ä¸¤ä¸ªæ’åºçš„é“¾è¡¨"><a href="#7ã€å‰‘æŒ‡-Offer-25-åˆå¹¶ä¸¤ä¸ªæ’åºçš„é“¾è¡¨" class="headerlink" title="7ã€å‰‘æŒ‡ Offer 25. åˆå¹¶ä¸¤ä¸ªæ’åºçš„é“¾è¡¨"></a>7ã€å‰‘æŒ‡ Offer 25. åˆå¹¶ä¸¤ä¸ªæ’åºçš„é“¾è¡¨</h3><p>è¾“å…¥ä¸¤ä¸ªé€’å¢æ’åºçš„é“¾è¡¨ï¼Œåˆå¹¶è¿™ä¸¤ä¸ªé“¾è¡¨å¹¶ä½¿æ–°é“¾è¡¨ä¸­çš„èŠ‚ç‚¹ä»ç„¶æ˜¯é€’å¢æ’åºçš„ã€‚</p>
<p><strong>ç¤ºä¾‹1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š1-&gt;2-&gt;4, 1-&gt;3-&gt;4</span><br><span class="line">è¾“å‡ºï¼š1-&gt;1-&gt;2-&gt;3-&gt;4-&gt;4</span><br></pre></td></tr></table></figure>

<p><strong>é™åˆ¶ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0 &lt;= é“¾è¡¨é•¿åº¦ &lt;= 1000</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼šæœ¬é¢˜ä¸ä¸»ç«™ 21 é¢˜ç›¸åŒï¼š<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/merge-two-sorted-lists/">https://leetcode-cn.com/problems/merge-two-sorted-lists/</a></p>
<p>Related Topics</p>
<p>é€’å½’</p>
<p>é“¾è¡¨</p>
<p>ğŸ‘ 299</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<ul>
<li><p>æ ¹æ®é¢˜ç›®æè¿°ï¼Œ é“¾è¡¨ l1 , l2 æ˜¯ <strong>é€’å¢</strong> çš„ï¼Œå› æ­¤å®¹æ˜“æƒ³åˆ°ä½¿ç”¨åŒæŒ‡é’ˆ cur1, cur2 éå†ä¸¤é“¾è¡¨ï¼Œæ ¹æ® l1.vall å’Œ l2.val çš„å¤§å°å…³ç³»ç¡®å®šèŠ‚ç‚¹æ·»åŠ é¡ºåºï¼Œä¸¤èŠ‚ç‚¹æŒ‡é’ˆäº¤æ›¿å‰è¿›ï¼Œç›´è‡³éå†å®Œæ¯•ã€‚</p>
</li>
<li><p>å¼•å…¥ä¼ªå¤´èŠ‚ç‚¹ï¼š ç”±äºåˆå§‹çŠ¶æ€åˆå¹¶é“¾è¡¨ä¸­æ— èŠ‚ç‚¹ï¼Œå› æ­¤å¾ªç¯ç¬¬ä¸€è½®æ—¶æ— æ³•å°†èŠ‚ç‚¹æ·»åŠ åˆ°åˆå¹¶é“¾è¡¨ä¸­ã€‚è§£å†³æ–¹æ¡ˆï¼šåˆå§‹åŒ–ä¸€ä¸ªè¾…åŠ©èŠ‚ç‚¹ dum ä½œä¸ºåˆå¹¶é“¾è¡¨çš„ä¼ªå¤´èŠ‚ç‚¹ï¼Œå°†å„èŠ‚ç‚¹æ·»åŠ è‡³ dum ä¹‹åã€‚</p>
</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/e4c8c97883da50d81498fd1f1e6cdd575429bd65f9f2babb00dc2b709f7ad8b2-Picture1.png" alt="Picture1.png"></p>
<p><strong>ç®—æ³•æµç¨‹</strong>ï¼š</p>
<ol>
<li>åˆå§‹åŒ–ï¼š ä¼ªå¤´èŠ‚ç‚¹ dum ï¼ŒèŠ‚ç‚¹ cur æŒ‡å‘ dumdum ã€‚</li>
<li>å¾ªç¯åˆå¹¶ï¼š å½“ l1 æˆ– l2 ä¸ºç©ºæ—¶è·³å‡ºï¼›<ol>
<li>å½“ l1.val &lt; l2.val æ—¶ï¼š cur çš„åç»§èŠ‚ç‚¹æŒ‡å®šä¸º l1 ï¼Œå¹¶ l1 å‘å‰èµ°ä¸€æ­¥ï¼›</li>
<li>å½“ l1.val â‰¥ l2.val æ—¶ï¼š cur çš„åç»§èŠ‚ç‚¹æŒ‡å®šä¸º l2 ï¼Œå¹¶ l2 å‘å‰èµ°ä¸€æ­¥ ï¼›</li>
<li>èŠ‚ç‚¹ cur å‘å‰èµ°ä¸€æ­¥ï¼Œå³ cur &#x3D; cur.next ã€‚</li>
</ol>
</li>
<li>åˆå¹¶å‰©ä½™å°¾éƒ¨ï¼š è·³å‡ºæ—¶æœ‰ä¸¤ç§æƒ…å†µï¼Œå³ l1 ä¸ºç©º æˆ– l2 ä¸ºç©ºã€‚<ol>
<li>è‹¥ l1 !&#x3D; null ï¼š å°† l1 æ·»åŠ è‡³èŠ‚ç‚¹ cur ä¹‹åï¼›</li>
<li>å¦åˆ™ï¼š å°† l2 æ·»åŠ è‡³èŠ‚ç‚¹ cur ä¹‹åã€‚</li>
</ol>
</li>
<li>è¿”å›å€¼ï¼š åˆå¹¶é“¾è¡¨åœ¨ä¼ªå¤´èŠ‚ç‚¹ dum ä¹‹åï¼Œå› æ­¤è¿”å› dum.next å³å¯ã€‚</li>
</ol>
<p>å¤æ‚åº¦åˆ†æï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(M+N) ï¼š M, N åˆ†åˆ«ä¸ºé“¾è¡¨ l1 , l2 çš„é•¿åº¦ï¼Œåˆå¹¶æ“ä½œéœ€éå†ä¸¤é“¾è¡¨ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(1) ï¼š èŠ‚ç‚¹å¼•ç”¨ dum , cur ä½¿ç”¨å¸¸æ•°å¤§å°çš„é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> ListNode <span class="title function_">mergeTwoLists</span><span class="params">(ListNode l1, ListNode l2)</span> &#123;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">dum</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ListNode</span>(<span class="number">0</span>), cur = dum;</span><br><span class="line">        <span class="keyword">while</span>(l1 != <span class="literal">null</span> &amp;&amp; l2 != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span>(l1.val &lt; l2.val) &#123;</span><br><span class="line">                cur.next = l1;</span><br><span class="line">                l1 = l1.next;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                cur.next = l2;</span><br><span class="line">                l2 = l2.next;</span><br><span class="line">            &#125;</span><br><span class="line">            cur = cur.next;</span><br><span class="line">        &#125;</span><br><span class="line">        cur.next = l1 != <span class="literal">null</span> ? l1 : l2;</span><br><span class="line">        <span class="keyword">return</span> dum.next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="8ã€å‰‘æŒ‡-Offer-52-ä¸¤ä¸ªé“¾è¡¨çš„ç¬¬ä¸€ä¸ªå…¬å…±èŠ‚ç‚¹"><a href="#8ã€å‰‘æŒ‡-Offer-52-ä¸¤ä¸ªé“¾è¡¨çš„ç¬¬ä¸€ä¸ªå…¬å…±èŠ‚ç‚¹" class="headerlink" title="8ã€å‰‘æŒ‡ Offer 52. ä¸¤ä¸ªé“¾è¡¨çš„ç¬¬ä¸€ä¸ªå…¬å…±èŠ‚ç‚¹"></a>8ã€å‰‘æŒ‡ Offer 52. ä¸¤ä¸ªé“¾è¡¨çš„ç¬¬ä¸€ä¸ªå…¬å…±èŠ‚ç‚¹</h3><p>è¾“å…¥ä¸¤ä¸ªé“¾è¡¨ï¼Œæ‰¾å‡ºå®ƒä»¬çš„ç¬¬ä¸€ä¸ªå…¬å…±èŠ‚ç‚¹ã€‚</p>
<p>å¦‚ä¸‹é¢çš„ä¸¤ä¸ªé“¾è¡¨<strong>ï¼š</strong></p>
<p><a target="_blank" rel="noopener" href="https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2018/12/14/160_statement.png"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/160_statement.png" alt="img"></a></p>
<p>åœ¨èŠ‚ç‚¹ c1 å¼€å§‹ç›¸äº¤ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><a target="_blank" rel="noopener" href="https://assets.leetcode.com/uploads/2018/12/13/160_example_1.png"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/160_example_1.png" alt="img"></a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šintersectVal = 8, listA = [4,1,8,4,5], listB = [5,0,1,8,4,5], skipA = 2, skipB = 3</span><br><span class="line">è¾“å‡ºï¼šReference of the node with value = 8</span><br><span class="line">è¾“å…¥è§£é‡Šï¼šç›¸äº¤èŠ‚ç‚¹çš„å€¼ä¸º 8 ï¼ˆæ³¨æ„ï¼Œå¦‚æœä¸¤ä¸ªåˆ—è¡¨ç›¸äº¤åˆ™ä¸èƒ½ä¸º 0ï¼‰ã€‚ä»å„è‡ªçš„è¡¨å¤´å¼€å§‹ç®—èµ·ï¼Œé“¾è¡¨ A ä¸º [4,1,8,4,5]ï¼Œé“¾è¡¨ B ä¸º [5,0,1,8,4,5]ã€‚åœ¨ A ä¸­ï¼Œç›¸äº¤èŠ‚ç‚¹å‰æœ‰ 2 ä¸ªèŠ‚ç‚¹ï¼›åœ¨ B ä¸­ï¼Œç›¸äº¤èŠ‚ç‚¹å‰æœ‰ 3 ä¸ªèŠ‚ç‚¹ã€‚</span><br></pre></td></tr></table></figure>



<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<p><a target="_blank" rel="noopener" href="https://assets.leetcode.com/uploads/2018/12/13/160_example_2.png"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/160_example_2.png" alt="img"></a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šintersectVal = 2, listA = [0,9,1,2,4], listB = [3,2,4], skipA = 3, skipB = 1</span><br><span class="line">è¾“å‡ºï¼šReference of the node with value = 2</span><br><span class="line">è¾“å…¥è§£é‡Šï¼šç›¸äº¤èŠ‚ç‚¹çš„å€¼ä¸º 2 ï¼ˆæ³¨æ„ï¼Œå¦‚æœä¸¤ä¸ªåˆ—è¡¨ç›¸äº¤åˆ™ä¸èƒ½ä¸º 0ï¼‰ã€‚ä»å„è‡ªçš„è¡¨å¤´å¼€å§‹ç®—èµ·ï¼Œé“¾è¡¨ A ä¸º [0,9,1,2,4]ï¼Œé“¾è¡¨ B ä¸º [3,2,4]ã€‚åœ¨ A ä¸­ï¼Œç›¸äº¤èŠ‚ç‚¹å‰æœ‰ 3 ä¸ªèŠ‚ç‚¹ï¼›åœ¨ B ä¸­ï¼Œç›¸äº¤èŠ‚ç‚¹å‰æœ‰ 1 ä¸ªèŠ‚ç‚¹ã€‚</span><br></pre></td></tr></table></figure>



<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<p><a target="_blank" rel="noopener" href="https://assets.leetcode.com/uploads/2018/12/13/160_example_3.png"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/160_example_3.png" alt="img"></a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šintersectVal = 0, listA = [2,6,4], listB = [1,5], skipA = 3, skipB = 2</span><br><span class="line">è¾“å‡ºï¼šnull</span><br><span class="line">è¾“å…¥è§£é‡Šï¼šä»å„è‡ªçš„è¡¨å¤´å¼€å§‹ç®—èµ·ï¼Œé“¾è¡¨ A ä¸º [2,6,4]ï¼Œé“¾è¡¨ B ä¸º [1,5]ã€‚ç”±äºè¿™ä¸¤ä¸ªé“¾è¡¨ä¸ç›¸äº¤ï¼Œæ‰€ä»¥ intersectVal å¿…é¡»ä¸º 0ï¼Œè€Œ skipA å’Œ skipB å¯ä»¥æ˜¯ä»»æ„å€¼ã€‚</span><br><span class="line">è§£é‡Šï¼šè¿™ä¸¤ä¸ªé“¾è¡¨ä¸ç›¸äº¤ï¼Œå› æ­¤è¿”å› nullã€‚</span><br></pre></td></tr></table></figure>



<p><strong>æ³¨æ„ï¼š</strong></p>
<ul>
<li>å¦‚æœä¸¤ä¸ªé“¾è¡¨æ²¡æœ‰äº¤ç‚¹ï¼Œè¿”å› <code>null</code>.</li>
<li>åœ¨è¿”å›ç»“æœåï¼Œä¸¤ä¸ªé“¾è¡¨ä»é¡»ä¿æŒåŸæœ‰çš„ç»“æ„ã€‚</li>
<li>å¯å‡å®šæ•´ä¸ªé“¾è¡¨ç»“æ„ä¸­æ²¡æœ‰å¾ªç¯ã€‚</li>
<li>ç¨‹åºå°½é‡æ»¡è¶³ O(<em>n</em>) æ—¶é—´å¤æ‚åº¦ï¼Œä¸”ä»…ç”¨ O(<em>1</em>) å†…å­˜ã€‚</li>
<li>æœ¬é¢˜ä¸ä¸»ç«™ 160 é¢˜ç›¸åŒï¼š<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/intersection-of-two-linked-lists/">https://leetcode-cn.com/problems/intersection-of-two-linked-lists/</a></li>
</ul>
<p>Related Topics</p>
<p>å“ˆå¸Œè¡¨</p>
<p>é“¾è¡¨</p>
<p>åŒæŒ‡é’ˆ</p>
<p>ğŸ‘ 568</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>è®¾ã€Œç¬¬ä¸€ä¸ªå…¬å…±èŠ‚ç‚¹ã€ä¸º node ï¼Œã€Œé“¾è¡¨ headAã€çš„èŠ‚ç‚¹æ•°é‡ä¸º a ï¼Œã€Œé“¾è¡¨ headBã€çš„èŠ‚ç‚¹æ•°é‡ä¸º b ï¼Œã€Œä¸¤é“¾è¡¨çš„å…¬å…±å°¾éƒ¨ã€çš„èŠ‚ç‚¹æ•°é‡ä¸º c ï¼Œåˆ™æœ‰ï¼š</p>
<ul>
<li>å¤´èŠ‚ç‚¹ <code>headA</code> åˆ° <code>node</code> å‰ï¼Œå…±æœ‰ a - c ä¸ªèŠ‚ç‚¹ï¼›</li>
<li>å¤´èŠ‚ç‚¹ <code>headB</code> åˆ° <code>node</code> å‰ï¼Œå…±æœ‰ b - c ä¸ªèŠ‚ç‚¹ï¼›</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1615224578-EBRtwv-Picture1.png" alt="Picture1.png"></p>
<p>è€ƒè™‘æ„å»ºä¸¤ä¸ªèŠ‚ç‚¹æŒ‡é’ˆ <code>A</code> , <code>B</code> åˆ†åˆ«æŒ‡å‘ä¸¤é“¾è¡¨å¤´èŠ‚ç‚¹ <code>headA</code> , <code>headB</code> ï¼Œåšå¦‚ä¸‹æ“ä½œï¼š</p>
<ul>
<li><p>æŒ‡é’ˆ A å…ˆéå†å®Œé“¾è¡¨ headA ï¼Œå†å¼€å§‹éå†é“¾è¡¨ headB ï¼Œå½“èµ°åˆ° node æ—¶ï¼Œå…±èµ°æ­¥æ•°ä¸ºï¼ša + (b - c)</p>
</li>
<li><p>æŒ‡é’ˆ B å…ˆéå†å®Œé“¾è¡¨ headB ï¼Œå†å¼€å§‹éå†é“¾è¡¨ headA ï¼Œå½“èµ°åˆ° node æ—¶ï¼Œå…±èµ°æ­¥æ•°ä¸ºï¼šb + (a - c)</p>
</li>
</ul>
<p>å¦‚ä¸‹å¼æ‰€ç¤ºï¼Œæ­¤æ—¶æŒ‡é’ˆ <code>A</code> , <code>B</code> é‡åˆï¼Œå¹¶æœ‰ä¸¤ç§æƒ…å†µï¼š a + (b - c) &#x3D; b + (a - c)</p>
<ul>
<li>è‹¥ä¸¤é“¾è¡¨ æœ‰ å…¬å…±å°¾éƒ¨ (å³ c &gt; 0 ) ï¼šæŒ‡é’ˆ A , B åŒæ—¶æŒ‡å‘ã€Œç¬¬ä¸€ä¸ªå…¬å…±èŠ‚ç‚¹ã€node ã€‚</li>
<li>è‹¥ä¸¤é“¾è¡¨ æ—  å…¬å…±å°¾éƒ¨ (å³ c &#x3D; 0 ) ï¼šæŒ‡é’ˆ A , B åŒæ—¶æŒ‡å‘ null ã€‚<br>å› æ­¤è¿”å› <code>A</code> å³å¯ã€‚</li>
</ul>
<blockquote>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œä¸º a &#x3D; 5, b &#x3D; 3 , c &#x3D; 2 ç¤ºä¾‹çš„ç®—æ³•æ‰§è¡Œè¿‡ç¨‹ã€‚</p>
</blockquote>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(a + b) ï¼š æœ€å·®æƒ…å†µä¸‹ï¼ˆå³ |a - b| &#x3D; 1 , c &#x3D; 0 ï¼‰ï¼Œæ­¤æ—¶éœ€éå† a + b ä¸ªèŠ‚ç‚¹ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(1) ï¼š èŠ‚ç‚¹æŒ‡é’ˆ A , B ä½¿ç”¨å¸¸æ•°å¤§å°çš„é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<h4 id="code1-å¾ªç¯éå†"><a href="#code1-å¾ªç¯éå†" class="headerlink" title="code1 å¾ªç¯éå†"></a>code1 å¾ªç¯éå†</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> ListNode <span class="title function_">getIntersectionNode</span><span class="params">(ListNode headA, ListNode headB)</span> &#123;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">A</span> <span class="operator">=</span> headA, B = headB;</span><br><span class="line">        <span class="keyword">while</span> (A != B) &#123;</span><br><span class="line">            A = A != <span class="literal">null</span> ? A.next : headB;</span><br><span class="line">            B = B != <span class="literal">null</span> ? B.next : headA;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> A;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="code2-å·®å€¼æ³•"><a href="#code2-å·®å€¼æ³•" class="headerlink" title="code2 å·®å€¼æ³•"></a>code2 å·®å€¼æ³•</h4><ol>
<li>å…ˆè®¡ç®—ä¸¤ä¸ªé“¾è¡¨çš„é•¿åº¦</li>
<li>è®©é•¿çš„é“¾è¡¨å…ˆèµ°å·®å€¼çš„å¤§å°</li>
<li>éå†ï¼Œçœ‹æ˜¯å¦æœ‰å…±åŒèŠ‚ç‚¹</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    ListNode <span class="title function_">getIntersectionNode</span><span class="params">(ListNode headA, ListNode headB)</span> &#123;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">cur1</span> <span class="operator">=</span> headA;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">cur2</span> <span class="operator">=</span> headB;</span><br><span class="line">        <span class="type">int</span> <span class="variable">lenA</span> <span class="operator">=</span> <span class="number">0</span>; <span class="comment">// a çš„é•¿åº¦</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">lenB</span> <span class="operator">=</span> <span class="number">0</span>; <span class="comment">// b çš„é•¿åº¦</span></span><br><span class="line">        <span class="comment">// è®¡ç®—é•¿åº¦</span></span><br><span class="line">        <span class="keyword">while</span> (cur1 != <span class="literal">null</span>) &#123;</span><br><span class="line">            lenA++;</span><br><span class="line">            cur1 = cur1.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (cur2 != <span class="literal">null</span>) &#123;</span><br><span class="line">            lenB++;</span><br><span class="line">            cur2 = cur2.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// é•¿çš„å…ˆèµ° len1 - len2 æ­¥</span></span><br><span class="line">        cur1 = headA;</span><br><span class="line">        cur2 = headB;</span><br><span class="line">        <span class="keyword">if</span> (lenA &gt; lenB) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> lenA - lenB;</span><br><span class="line">            <span class="keyword">while</span> (len-- != <span class="number">0</span>) &#123;</span><br><span class="line">                cur1 = cur1.next;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> lenB - lenA;</span><br><span class="line">            <span class="keyword">while</span> (len-- != <span class="number">0</span>) &#123;</span><br><span class="line">                cur2 = cur2.next;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// éå† çœ‹æœ‰æ²¡æœ‰å…±åŒèŠ‚ç‚¹</span></span><br><span class="line">        <span class="keyword">while</span> (cur1 != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (cur1 == cur2) &#123;</span><br><span class="line">                <span class="keyword">return</span> cur1;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                cur1 = cur1.next;</span><br><span class="line">                cur2 = cur2.next;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="9ã€å‰‘æŒ‡-Offer-57-å’Œä¸º-s-çš„ä¸¤ä¸ªæ•°å­—"><a href="#9ã€å‰‘æŒ‡-Offer-57-å’Œä¸º-s-çš„ä¸¤ä¸ªæ•°å­—" class="headerlink" title="9ã€å‰‘æŒ‡ Offer 57. å’Œä¸º s çš„ä¸¤ä¸ªæ•°å­—"></a>9ã€å‰‘æŒ‡ Offer 57. å’Œä¸º s çš„ä¸¤ä¸ªæ•°å­—</h3><p>è¾“å…¥ä¸€ä¸ªé€’å¢æ’åºçš„æ•°ç»„å’Œä¸€ä¸ªæ•°å­—sï¼Œåœ¨æ•°ç»„ä¸­æŸ¥æ‰¾ä¸¤ä¸ªæ•°ï¼Œä½¿å¾—å®ƒä»¬çš„å’Œæ­£å¥½æ˜¯sã€‚å¦‚æœæœ‰å¤šå¯¹æ•°å­—çš„å’Œç­‰äºsï¼Œåˆ™è¾“å‡ºä»»æ„ä¸€å¯¹å³å¯ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [2,7,11,15], target = 9</span><br><span class="line">è¾“å‡ºï¼š[2,7] æˆ–è€… [7,2]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [10,26,30,31,47,60], target = 40</span><br><span class="line">è¾“å‡ºï¼š[10,30] æˆ–è€… [30,10]</span><br></pre></td></tr></table></figure>



<p><strong>é™åˆ¶ï¼š</strong></p>
<ul>
<li><code>1 &lt;= nums.length &lt;= 10^5</code></li>
<li><code>1 &lt;= nums[i] &lt;= 10^6</code></li>
</ul>
<p>Related Topics</p>
<p>æ•°ç»„</p>
<p>åŒæŒ‡é’ˆ</p>
<p>äºŒåˆ†æŸ¥æ‰¾</p>
<p>ğŸ‘ 218</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š<br>åˆ©ç”¨ HashMap å¯ä»¥é€šè¿‡éå†æ•°ç»„æ‰¾åˆ°æ•°å­—ç»„åˆï¼Œæ—¶é—´å’Œç©ºé—´å¤æ‚åº¦å‡ä¸º O(N) ï¼›<br>æ³¨æ„æœ¬é¢˜çš„ nums æ˜¯ <code>æ’åºæ•°ç»„</code> ï¼Œå› æ­¤å¯ä½¿ç”¨ <code>åŒæŒ‡é’ˆæ³•</code> å°†ç©ºé—´å¤æ‚åº¦é™ä½è‡³ O(1) ã€‚</p>
<p><strong>ç®—æ³•æµç¨‹</strong>ï¼š</p>
<ol>
<li>åˆå§‹åŒ–ï¼š åŒæŒ‡é’ˆ i , j åˆ†åˆ«æŒ‡å‘æ•°ç»„ nums çš„å·¦å³ä¸¤ç«¯ ï¼ˆä¿—ç§°å¯¹æ’åŒæŒ‡é’ˆï¼‰ã€‚</li>
<li>å¾ªç¯æœç´¢ï¼š å½“åŒæŒ‡é’ˆç›¸é‡æ—¶è·³å‡ºï¼›<ol>
<li>è®¡ç®—å’Œ s &#x3D; nums[i] + nums[j] ï¼›</li>
<li>è‹¥ s &gt; target ï¼Œåˆ™æŒ‡é’ˆ j å‘å·¦ç§»åŠ¨ï¼Œå³æ‰§è¡Œ j &#x3D; j - 1 ï¼›</li>
<li>è‹¥ s &lt; target ï¼Œåˆ™æŒ‡é’ˆ i å‘å³ç§»åŠ¨ï¼Œå³æ‰§è¡Œ i &#x3D; i + 1 ï¼›</li>
<li>è‹¥ s &#x3D; target ï¼Œç«‹å³è¿”å›æ•°ç»„ [nums[i], nums[j]] ï¼›</li>
</ol>
</li>
<li>è‹¥å¾ªç¯ç»“æŸï¼Œåˆ™è¿”å›ç©ºæ•°ç»„ï¼Œä»£è¡¨æ— å’Œä¸º target çš„æ•°å­—ç»„åˆã€‚</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1600794717-MdyQXK-Picture5.png" alt="img"></p>
<p>æ­£ç¡®æ€§è¯æ˜ï¼š</p>
<blockquote>
<p>è®°æ¯ä¸ªçŠ¶æ€ä¸º S(i, j) ï¼Œå³ S(i, j) &#x3D; nums[i] + nums[j] ã€‚å‡è®¾ S(i, j) &lt; target, åˆ™æ‰§è¡Œ i &#x3D; i + 1 ï¼Œå³çŠ¶æ€åˆ‡æ¢è‡³ S(i + 1, j) ã€‚</p>
</blockquote>
<p>çŠ¶æ€ S(i, j) åˆ‡æ¢è‡³ S(i + 1, j) ï¼Œåˆ™ä¼šæ¶ˆå»ä¸€è¡Œå…ƒç´ ï¼Œç›¸å½“äº <code>æ¶ˆå»äº†çŠ¶æ€é›†åˆ</code> {S(i, i + 1), S(i, i + 2), â€¦, S(i, j - 2), S(i, j - 1), S(i, j)} ã€‚ï¼ˆç”±äºåŒæŒ‡é’ˆéƒ½æ˜¯å‘ä¸­é—´æ”¶ç¼©ï¼Œå› æ­¤è¿™äº›çŠ¶æ€ä¹‹åä¸å¯èƒ½å†é‡åˆ°ï¼‰ã€‚</p>
<p>ç”±äº nums æ˜¯æ’åºæ•°ç»„ï¼Œå› æ­¤è¿™äº› <code>æ¶ˆå»çš„çŠ¶æ€</code> éƒ½ä¸€å®šæ»¡è¶³ S(i, j) &lt; target ï¼Œå³è¿™äº›çŠ¶æ€éƒ½ <code>ä¸æ˜¯è§£</code> ã€‚</p>
<p><strong>ç»“è®º</strong>ï¼š ä»¥ä¸Šåˆ†æå·²è¯æ˜ â€œæ¯æ¬¡æŒ‡é’ˆ i çš„ç§»åŠ¨æ“ä½œï¼Œéƒ½ä¸ä¼šå¯¼è‡´è§£çš„ä¸¢å¤±â€ ï¼Œå³æŒ‡é’ˆ i çš„ç§»åŠ¨æ“ä½œæ˜¯å®‰å…¨çš„ï¼›åŒç†ï¼Œå¯¹äºæŒ‡é’ˆ j å¯å¾—å‡ºåŒæ ·æ¨è®ºï¼›å› æ­¤ï¼Œæ­¤åŒæŒ‡é’ˆæ³•æ˜¯æ­£ç¡®çš„ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1600794717-VSmNyQ-Picture1.png" alt="Picture1.png"></p>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(N) ï¼š N ä¸ºæ•°ç»„ nums çš„é•¿åº¦ï¼›åŒæŒ‡é’ˆå…±åŒçº¿æ€§éå†æ•´ä¸ªæ•°ç»„ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(1) ï¼š å˜é‡ i, j ä½¿ç”¨å¸¸æ•°å¤§å°çš„é¢å¤–ç©ºé—´</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span>[] twoSum(<span class="type">int</span>[] nums, <span class="type">int</span> target) &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> nums.length - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (left &lt; right) &#123;</span><br><span class="line">        <span class="keyword">if</span> (nums[left] + nums[right] &gt; target) &#123;</span><br><span class="line">            right--;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[left] + nums[right] &lt; target) &#123;</span><br><span class="line">            left++;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">int</span>[]&#123;nums[left], nums[right]&#125;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">0</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="10ã€å‰‘æŒ‡-Offer-58-I-ç¿»è½¬å•è¯é¡ºåº"><a href="#10ã€å‰‘æŒ‡-Offer-58-I-ç¿»è½¬å•è¯é¡ºåº" class="headerlink" title="10ã€å‰‘æŒ‡ Offer 58 - I. ç¿»è½¬å•è¯é¡ºåº"></a>10ã€å‰‘æŒ‡ Offer 58 - I. ç¿»è½¬å•è¯é¡ºåº</h3><p>è¾“å…¥ä¸€ä¸ªè‹±æ–‡å¥å­ï¼Œç¿»è½¬å¥å­ä¸­å•è¯çš„é¡ºåºï¼Œä½†å•è¯å†…å­—ç¬¦çš„é¡ºåºä¸å˜ã€‚ä¸ºç®€å•èµ·è§ï¼Œæ ‡ç‚¹ç¬¦å·å’Œæ™®é€šå­—æ¯ä¸€æ ·å¤„ç†ã€‚ä¾‹å¦‚è¾“å…¥å­—ç¬¦ä¸²â€I am a student. â€œï¼Œåˆ™è¾“å‡ºâ€student. a am Iâ€ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: &quot;the sky is blue&quot;</span><br><span class="line">è¾“å‡º: &quot;blue is sky the&quot;</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: &quot;  hello world!  &quot;</span><br><span class="line">è¾“å‡º: &quot;world! hello&quot;</span><br><span class="line">è§£é‡Š: è¾“å…¥å­—ç¬¦ä¸²å¯ä»¥åœ¨å‰é¢æˆ–è€…åé¢åŒ…å«å¤šä½™çš„ç©ºæ ¼ï¼Œä½†æ˜¯åè½¬åçš„å­—ç¬¦ä¸èƒ½åŒ…æ‹¬ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: &quot;a good   example&quot;</span><br><span class="line">è¾“å‡º: &quot;example good a&quot;</span><br><span class="line">è§£é‡Š: å¦‚æœä¸¤ä¸ªå•è¯é—´æœ‰å¤šä½™çš„ç©ºæ ¼ï¼Œå°†åè½¬åå•è¯é—´çš„ç©ºæ ¼å‡å°‘åˆ°åªå«ä¸€ä¸ªã€‚</span><br></pre></td></tr></table></figure>



<p><strong>è¯´æ˜ï¼š</strong></p>
<ul>
<li>æ— ç©ºæ ¼å­—ç¬¦æ„æˆä¸€ä¸ªå•è¯ã€‚</li>
<li>è¾“å…¥å­—ç¬¦ä¸²å¯ä»¥åœ¨å‰é¢æˆ–è€…åé¢åŒ…å«å¤šä½™çš„ç©ºæ ¼ï¼Œä½†æ˜¯åè½¬åçš„å­—ç¬¦ä¸èƒ½åŒ…æ‹¬ã€‚</li>
<li>å¦‚æœä¸¤ä¸ªå•è¯é—´æœ‰å¤šä½™çš„ç©ºæ ¼ï¼Œå°†åè½¬åå•è¯é—´çš„ç©ºæ ¼å‡å°‘åˆ°åªå«ä¸€ä¸ªã€‚</li>
</ul>
<p><strong>æ³¨æ„ï¼š</strong>æœ¬é¢˜ä¸ä¸»ç«™ 151 é¢˜ç›¸åŒï¼š<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/reverse-words-in-a-string/">https://leetcode-cn.com/problems/reverse-words-in-a-string/</a></p>
<p><strong>æ³¨æ„ï¼š</strong>æ­¤é¢˜å¯¹æ¯”åŸé¢˜æœ‰æ”¹åŠ¨</p>
<p>Related Topics</p>
<p>åŒæŒ‡é’ˆ</p>
<p>å­—ç¬¦ä¸²</p>
<p>ğŸ‘ 254</p>
<p>ğŸ‘ 0</p>
<h4 id="æ–¹æ³•ä¸€ï¼šåŒæŒ‡é’ˆ"><a href="#æ–¹æ³•ä¸€ï¼šåŒæŒ‡é’ˆ" class="headerlink" title="æ–¹æ³•ä¸€ï¼šåŒæŒ‡é’ˆ"></a>æ–¹æ³•ä¸€ï¼šåŒæŒ‡é’ˆ</h4><p><strong>ç®—æ³•è§£æ</strong>ï¼š</p>
<ul>
<li>å€’åºéå†å­—ç¬¦ä¸² s ï¼Œè®°å½•å•è¯å·¦å³ç´¢å¼•è¾¹ç•Œ i , j ï¼›</li>
<li>æ¯ç¡®å®šä¸€ä¸ªå•è¯çš„è¾¹ç•Œï¼Œåˆ™å°†å…¶æ·»åŠ è‡³å•è¯åˆ—è¡¨ res ï¼›</li>
<li>æœ€ç»ˆï¼Œå°†å•è¯åˆ—è¡¨æ‹¼æ¥ä¸ºå­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›å³å¯ã€‚</li>
</ul>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(N) ï¼š å…¶ä¸­ N ä¸ºå­—ç¬¦ä¸² s çš„é•¿åº¦ï¼Œçº¿æ€§éå†å­—ç¬¦ä¸²ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(N) ï¼š æ–°å»ºçš„ StringBuilder(Java) ä¸­çš„å­—ç¬¦ä¸²æ€»é•¿åº¦ â‰¤ N ï¼Œå ç”¨ O(N) å¤§å°çš„é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">reverseWords</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        s = s.trim();                                    <span class="comment">// åˆ é™¤é¦–å°¾ç©ºæ ¼</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> s.length() - <span class="number">1</span>, i = j;</span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">res</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        <span class="keyword">while</span> (i &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">while</span> (i &gt;= <span class="number">0</span> &amp;&amp; s.charAt(i) != <span class="string">&#x27; &#x27;</span>) i--;     <span class="comment">// æœç´¢é¦–ä¸ªç©ºæ ¼</span></span><br><span class="line">            res.append(s.substring(i + <span class="number">1</span>, j + <span class="number">1</span>) + <span class="string">&quot; &quot;</span>); <span class="comment">// æ·»åŠ å•è¯</span></span><br><span class="line">            <span class="keyword">while</span> (i &gt;= <span class="number">0</span> &amp;&amp; s.charAt(i) == <span class="string">&#x27; &#x27;</span>) i--;     <span class="comment">// è·³è¿‡å•è¯é—´ç©ºæ ¼</span></span><br><span class="line">            j = i;                                       <span class="comment">// j æŒ‡å‘ä¸‹ä¸ªå•è¯çš„å°¾å­—ç¬¦</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res.toString().trim();                    <span class="comment">// è½¬åŒ–ä¸ºå­—ç¬¦ä¸²å¹¶è¿”å›</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="æ–¹æ³•äºŒï¼šåˆ†å‰²-å€’åº"><a href="#æ–¹æ³•äºŒï¼šåˆ†å‰²-å€’åº" class="headerlink" title="æ–¹æ³•äºŒï¼šåˆ†å‰² + å€’åº"></a>æ–¹æ³•äºŒï¼šåˆ†å‰² + å€’åº</h4><p>åˆ©ç”¨ â€œå­—ç¬¦ä¸²åˆ†å‰²â€ã€â€œåˆ—è¡¨å€’åºâ€ çš„å†…ç½®å‡½æ•° ï¼ˆé¢è¯•æ—¶ä¸å»ºè®®ä½¿ç”¨ï¼‰ ï¼Œå¯ç®€ä¾¿åœ°å®ç°æœ¬é¢˜çš„å­—ç¬¦ä¸²ç¿»è½¬è¦æ±‚ã€‚</p>
<p>ç®—æ³•è§£æï¼š</p>
<p>Java ï¼š ä»¥ç©ºæ ¼ä¸ºåˆ†å‰²ç¬¦å®Œæˆå­—ç¬¦ä¸²åˆ†å‰²åï¼Œè‹¥ä¸¤å•è¯é—´æœ‰ x &gt; 1 ä¸ªç©ºæ ¼ï¼Œåˆ™åœ¨å•è¯åˆ—è¡¨ strs ä¸­ï¼Œæ­¤ä¸¤å•è¯é—´ä¼šå¤šå‡º x - 1 ä¸ª â€œç©ºå•è¯â€ ï¼ˆå³ â€œâ€ ï¼‰ã€‚è§£å†³æ–¹æ³•ï¼šå€’åºéå†å•è¯åˆ—è¡¨ï¼Œå¹¶å°†å•è¯é€ä¸ªæ·»åŠ è‡³ StringBuilder ï¼Œé‡åˆ°ç©ºå•è¯æ—¶è·³è¿‡ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1600795186-RmKJXL-Picture2.png" alt="Picture2.png"></p>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(N) ï¼š æ€»ä½“ä¸ºçº¿æ€§æ—¶é—´å¤æ‚åº¦ï¼Œå„å‡½æ•°æ—¶é—´å¤æ‚åº¦å’Œå‚è€ƒèµ„æ–™é“¾æ¥å¦‚ä¸‹ã€‚<ul>
<li>split() æ–¹æ³•ï¼š ä¸º O(N) ï¼›</li>
<li>trim() å’Œ strip() æ–¹æ³•ï¼š æœ€å·®æƒ…å†µä¸‹ï¼ˆå½“å­—ç¬¦ä¸²å…¨ä¸ºç©ºæ ¼æ—¶ï¼‰ï¼Œä¸º O(N) ï¼›</li>
<li>join() æ–¹æ³•ï¼š ä¸º O(N) ï¼›</li>
<li>reverse() æ–¹æ³•ï¼š ä¸º O(N) ï¼›</li>
</ul>
</li>
<li>ç©ºé—´å¤æ‚åº¦ O(N) ï¼š å•è¯åˆ—è¡¨ strs å ç”¨çº¿æ€§å¤§å°çš„é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">reverseWords</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        String[] strs = s.trim().split(<span class="string">&quot; &quot;</span>);        <span class="comment">// åˆ é™¤é¦–å°¾ç©ºæ ¼ï¼Œåˆ†å‰²å­—ç¬¦ä¸²</span></span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">res</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> strs.length - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123; <span class="comment">// å€’åºéå†å•è¯åˆ—è¡¨</span></span><br><span class="line">            <span class="keyword">if</span>(strs[i].equals(<span class="string">&quot;&quot;</span>)) <span class="keyword">continue</span>;        <span class="comment">// é‡åˆ°ç©ºå•è¯åˆ™è·³è¿‡</span></span><br><span class="line">            res.append(strs[i] + <span class="string">&quot; &quot;</span>);              <span class="comment">// å°†å•è¯æ‹¼æ¥è‡³ StringBuilder</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res.toString().trim();               <span class="comment">// è½¬åŒ–ä¸ºå­—ç¬¦ä¸²ï¼Œåˆ é™¤å°¾éƒ¨ç©ºæ ¼ï¼Œå¹¶è¿”å›</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="åäºŒã€ä½è¿ç®—"><a href="#åäºŒã€ä½è¿ç®—" class="headerlink" title="åäºŒã€ä½è¿ç®—"></a>åäºŒã€ä½è¿ç®—</h2><h3 id="1ã€å‰‘æŒ‡-Offer-15-äºŒè¿›åˆ¶ä¸­-1-çš„ä¸ªæ•°"><a href="#1ã€å‰‘æŒ‡-Offer-15-äºŒè¿›åˆ¶ä¸­-1-çš„ä¸ªæ•°" class="headerlink" title="1ã€å‰‘æŒ‡ Offer 15. äºŒè¿›åˆ¶ä¸­ 1 çš„ä¸ªæ•°"></a>1ã€å‰‘æŒ‡ Offer 15. äºŒè¿›åˆ¶ä¸­ 1 çš„ä¸ªæ•°</h3><p>ç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œè¾“å…¥æ˜¯ä¸€ä¸ªæ— ç¬¦å·æ•´æ•°ï¼ˆä»¥äºŒè¿›åˆ¶ä¸²çš„å½¢å¼ï¼‰ï¼Œè¿”å›å…¶äºŒè¿›åˆ¶è¡¨è¾¾å¼ä¸­æ•°å­—ä½æ•°ä¸º â€˜1â€™ çš„ä¸ªæ•°ï¼ˆä¹Ÿè¢«ç§°ä¸º <a target="_blank" rel="noopener" href="http://en.wikipedia.org/wiki/Hamming_weight">æ±‰æ˜é‡é‡</a>).ï¼‰ã€‚</p>
<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li>è¯·æ³¨æ„ï¼Œåœ¨æŸäº›è¯­è¨€ï¼ˆå¦‚ Javaï¼‰ä¸­ï¼Œæ²¡æœ‰æ— ç¬¦å·æ•´æ•°ç±»å‹ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¾“å…¥å’Œè¾“å‡ºéƒ½å°†è¢«æŒ‡å®šä¸ºæœ‰ç¬¦å·æ•´æ•°ç±»å‹ï¼Œå¹¶ä¸”ä¸åº”å½±å“æ‚¨çš„å®ç°ï¼Œå› ä¸ºæ— è®ºæ•´æ•°æ˜¯æœ‰ç¬¦å·çš„è¿˜æ˜¯æ— ç¬¦å·çš„ï¼Œå…¶å†…éƒ¨çš„äºŒè¿›åˆ¶è¡¨ç¤ºå½¢å¼éƒ½æ˜¯ç›¸åŒçš„ã€‚</li>
<li>åœ¨ Java ä¸­ï¼Œç¼–è¯‘å™¨ä½¿ç”¨ <a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E4%BA%8C%E8%BF%9B%E5%88%B6%E8%A1%A5%E7%A0%81/5295284">äºŒè¿›åˆ¶è¡¥ç </a> è®°æ³•æ¥è¡¨ç¤ºæœ‰ç¬¦å·æ•´æ•°ã€‚å› æ­¤ï¼Œåœ¨ä¸Šé¢çš„ <strong>ç¤ºä¾‹ 3</strong> ä¸­ï¼Œè¾“å…¥è¡¨ç¤ºæœ‰ç¬¦å·æ•´æ•° <code>-3</code>ã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = 11 (æ§åˆ¶å°è¾“å…¥ 00000000000000000000000000001011)</span><br><span class="line">è¾“å‡ºï¼š3</span><br><span class="line">è§£é‡Šï¼šè¾“å…¥çš„äºŒè¿›åˆ¶ä¸² 00000000000000000000000000001011 ä¸­ï¼Œå…±æœ‰ä¸‰ä½ä¸º &#x27;1&#x27;ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = 128 (æ§åˆ¶å°è¾“å…¥ 00000000000000000000000010000000)</span><br><span class="line">è¾“å‡ºï¼š1</span><br><span class="line">è§£é‡Šï¼šè¾“å…¥çš„äºŒè¿›åˆ¶ä¸² 00000000000000000000000010000000 ä¸­ï¼Œå…±æœ‰ä¸€ä½ä¸º &#x27;1&#x27;ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = 4294967293 (æ§åˆ¶å°è¾“å…¥ 11111111111111111111111111111101ï¼Œéƒ¨åˆ†è¯­è¨€ä¸­ n = -3ï¼‰</span><br><span class="line">è¾“å‡ºï¼š31</span><br><span class="line">è§£é‡Šï¼šè¾“å…¥çš„äºŒè¿›åˆ¶ä¸² 11111111111111111111111111111101 ä¸­ï¼Œå…±æœ‰ 31 ä½ä¸º &#x27;1&#x27;ã€‚</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li>è¾“å…¥å¿…é¡»æ˜¯é•¿åº¦ä¸º <code>32</code> çš„ <strong>äºŒè¿›åˆ¶ä¸²</strong> ã€‚</li>
</ul>
<p>æ³¨æ„ï¼šæœ¬é¢˜ä¸ä¸»ç«™ 191 é¢˜ç›¸åŒï¼š<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/number-of-1-bits/">https://leetcode-cn.com/problems/number-of-1-bits/</a></p>
<p>Related Topics</p>
<p>ä½è¿ç®—</p>
<p>ğŸ‘ 290</p>
<p>ğŸ‘ 0</p>
<h4 id="æ–¹æ³•ä¸€ï¼šé€ä½åˆ¤æ–­"><a href="#æ–¹æ³•ä¸€ï¼šé€ä½åˆ¤æ–­" class="headerlink" title="æ–¹æ³•ä¸€ï¼šé€ä½åˆ¤æ–­"></a>æ–¹æ³•ä¸€ï¼šé€ä½åˆ¤æ–­</h4><ul>
<li>æ ¹æ® <strong>ä¸è¿ç®—</strong> å®šä¹‰ï¼Œè®¾äºŒè¿›åˆ¶æ•°å­— nn ï¼Œåˆ™æœ‰ï¼š<ul>
<li>è‹¥ n &amp; 1 &#x3D; 0ï¼Œåˆ™ n äºŒè¿›åˆ¶ æœ€å³ä¸€ä½ ä¸º 0 ï¼›</li>
<li>è‹¥ n &amp; 1 &#x3D; 1ï¼Œåˆ™ n äºŒè¿›åˆ¶ æœ€å³ä¸€ä½ ä¸º 1 ã€‚</li>
</ul>
</li>
<li>æ ¹æ®ä»¥ä¸Šç‰¹ç‚¹ï¼Œè€ƒè™‘ä»¥ä¸‹ <strong>å¾ªç¯åˆ¤æ–­</strong> ï¼š<ul>
<li>åˆ¤æ–­ n æœ€å³ä¸€ä½æ˜¯å¦ä¸º 1 ï¼Œæ ¹æ®ç»“æœè®¡æ•°ã€‚</li>
<li>å°† n å³ç§»ä¸€ä½ï¼ˆæœ¬é¢˜è¦æ±‚æŠŠæ•°å­— n çœ‹ä½œæ— ç¬¦å·æ•°ï¼Œå› æ­¤ä½¿ç”¨ <strong>æ— ç¬¦å·å³ç§»</strong> æ“ä½œï¼‰ã€‚</li>
</ul>
</li>
</ul>
<p><strong>ç®—æ³•æµç¨‹</strong>ï¼š</p>
<ol>
<li>åˆå§‹åŒ–æ•°é‡ç»Ÿè®¡å˜é‡ res &#x3D; 0 ã€‚</li>
<li>å¾ªç¯é€ä½åˆ¤æ–­ï¼š å½“ n &#x3D; 0 æ—¶è·³å‡ºã€‚<ol>
<li><code>res += n &amp; 1</code> ï¼š è‹¥ n &amp; 1 &#x3D; 1 ï¼Œåˆ™ç»Ÿè®¡æ•° res åŠ ä¸€ã€‚</li>
<li><code>n &gt;&gt;= 1</code> ï¼š å°†äºŒè¿›åˆ¶æ•°å­— n æ— ç¬¦å·å³ç§»ä¸€ä½ï¼ˆ Java ä¸­æ— ç¬¦å·å³ç§»ä¸º â€œ&gt;&gt;&gt;â€ ï¼‰ ã€‚<br>è¿”å›ç»Ÿè®¡æ•°é‡ res ã€‚</li>
</ol>
</li>
</ol>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(log n) ï¼š æ­¤ç®—æ³•å¾ªç¯å†…éƒ¨ä»…æœ‰ ç§»ä½ã€ä¸ã€åŠ  ç­‰åŸºæœ¬è¿ç®—ï¼Œå ç”¨ O(1) ï¼›é€ä½åˆ¤æ–­éœ€å¾ªç¯ log n æ¬¡ï¼Œå…¶ä¸­ log n ä»£è¡¨æ•°å­— n æœ€é«˜ä½ 1 çš„æ‰€åœ¨ä½æ•°ï¼ˆä¾‹å¦‚ log 4 &#x3D; 2  log 16 &#x3D; 4ï¼‰ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(1) ï¼š å˜é‡ res ä½¿ç”¨å¸¸æ•°å¤§å°é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<h4 id="æ–¹æ³•äºŒï¼šå·§ç”¨-n-amp-n-1-n-amp-nâˆ’1"><a href="#æ–¹æ³•äºŒï¼šå·§ç”¨-n-amp-n-1-n-amp-nâˆ’1" class="headerlink" title="æ–¹æ³•äºŒï¼šå·§ç”¨ n &amp; (n - 1)n&amp;(nâˆ’1)"></a>æ–¹æ³•äºŒï¼šå·§ç”¨ n &amp; (n - 1)<em>n</em>&amp;(<em>n</em>âˆ’1)</h4><ul>
<li>(nâˆ’1) è§£æï¼š äºŒè¿›åˆ¶æ•°å­— n æœ€å³è¾¹çš„ 1 å˜æˆ 0 ï¼Œæ­¤ 1 å³è¾¹çš„ 0 éƒ½å˜æˆ 1 ã€‚</li>
<li>n &amp; (n - 1) è§£æï¼š äºŒè¿›åˆ¶æ•°å­— n æœ€å³è¾¹çš„ 1 å˜æˆ 0 ï¼Œå…¶ä½™ä¸å˜ã€‚</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/f23d9ef4fcfd65d7fbe29e477cbf36110b2f34558020e8cff09a1e13c0275c43-Picture1.png" alt="Picture1.png"></p>
<p><strong>ç®—æ³•æµç¨‹</strong>ï¼š</p>
<ol>
<li>åˆå§‹åŒ–æ•°é‡ç»Ÿè®¡å˜é‡ resres ã€‚</li>
<li>å¾ªç¯æ¶ˆå»æœ€å³è¾¹çš„ 1 ï¼šå½“ n &#x3D; 0 æ—¶è·³å‡ºã€‚<ol>
<li>res +&#x3D; 1 ï¼š ç»Ÿè®¡å˜é‡åŠ  1 ï¼›</li>
<li>n &amp;&#x3D; n - 1 ï¼š æ¶ˆå»æ•°å­— n æœ€å³è¾¹çš„ 1 ã€‚</li>
</ol>
</li>
<li>è¿”å›ç»Ÿè®¡æ•°é‡ res ã€‚</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/d16a9a6cfdba918c655679373632afc8ddeaf9b64912aa1fbf7b57371736ccaa-Picture11.png" alt="img"></p>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(M) ï¼š n &amp; (n - 1) æ“ä½œä»…æœ‰å‡æ³•å’Œä¸è¿ç®—ï¼Œå ç”¨ O(1) ï¼›è®¾ M ä¸ºäºŒè¿›åˆ¶æ•°å­— n ä¸­ 1 çš„ä¸ªæ•°ï¼Œåˆ™éœ€å¾ªç¯ M æ¬¡ï¼ˆæ¯è½®æ¶ˆå»ä¸€ä¸ª 1 ï¼‰ï¼Œå ç”¨ O(M) ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(1) ï¼š å˜é‡ res ä½¿ç”¨å¸¸æ•°å¤§å°é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">hammingWeight2</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (n != <span class="number">0</span>) &#123;</span><br><span class="line">        res++;</span><br><span class="line">        n &amp;= n - <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2ã€å‰‘æŒ‡-Offer-65-ä¸ç”¨åŠ å‡ä¹˜é™¤åšåŠ æ³•"><a href="#2ã€å‰‘æŒ‡-Offer-65-ä¸ç”¨åŠ å‡ä¹˜é™¤åšåŠ æ³•" class="headerlink" title="2ã€å‰‘æŒ‡ Offer 65. ä¸ç”¨åŠ å‡ä¹˜é™¤åšåŠ æ³•"></a>2ã€å‰‘æŒ‡ Offer 65. ä¸ç”¨åŠ å‡ä¹˜é™¤åšåŠ æ³•</h3><p>å†™ä¸€ä¸ªå‡½æ•°ï¼Œæ±‚ä¸¤ä¸ªæ•´æ•°ä¹‹å’Œï¼Œè¦æ±‚åœ¨å‡½æ•°ä½“å†…ä¸å¾—ä½¿ç”¨ â€œ+â€ã€â€œ-â€ã€â€œ*â€ã€â€œ&#x2F;â€ å››åˆ™è¿ç®—ç¬¦å·ã€‚</p>
<p><strong>ç¤ºä¾‹:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: a = 1, b = 1</span><br><span class="line">è¾“å‡º: 2</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>a</code>, <code>b</code> å‡å¯èƒ½æ˜¯è´Ÿæ•°æˆ– 0</li>
<li>ç»“æœä¸ä¼šæº¢å‡º 32 ä½æ•´æ•°</li>
</ul>
<p>Related Topics</p>
<p>ä½è¿ç®—</p>
<p>æ•°å­¦</p>
<p>ğŸ‘ 366</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š<br>æœ¬é¢˜è€ƒå¯Ÿå¯¹ä½è¿ç®—çš„çµæ´»ä½¿ç”¨ï¼Œå³ä½¿ç”¨ä½è¿ç®—å®ç°åŠ æ³•ã€‚<br>è®¾ä¸¤æ•°å­—çš„äºŒè¿›åˆ¶å½¢å¼ a, b ï¼Œå…¶æ±‚å’Œ s &#x3D; a + b ï¼Œa(i) ä»£è¡¨ a çš„äºŒè¿›åˆ¶ç¬¬ i ä½ï¼Œåˆ™åˆ†ä¸ºä»¥ä¸‹å››ç§æƒ…å†µï¼š</p>
<table>
<thead>
<tr>
<th>a(i)</th>
<th>b(i)</th>
<th>æ— è¿›ä½å’Œ n(i)</th>
<th>è¿›ä½ c(i+1)</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
</tr>
<tr>
<td>1</td>
<td>0</td>
<td>1</td>
<td>0</td>
</tr>
<tr>
<td>1</td>
<td>1</td>
<td>0</td>
<td>1</td>
</tr>
</tbody></table>
<p>è§‚å¯Ÿå‘ç°ï¼Œ<strong>æ— è¿›ä½å’Œ</strong> ä¸ <strong>å¼‚æˆ–è¿ç®—</strong> è§„å¾‹ç›¸åŒï¼Œ<strong>è¿›ä½</strong> å’Œ <strong>ä¸è¿ç®—</strong> è§„å¾‹ç›¸åŒï¼ˆå¹¶éœ€å·¦ç§»ä¸€ä½ï¼‰ã€‚å› æ­¤ï¼Œæ— è¿›ä½å’Œ n ä¸è¿›ä½ c çš„è®¡ç®—å…¬å¼å¦‚ä¸‹ï¼›</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/image-20221214145340991.png" alt="image-20221214145340991"></p>
<p>å¾ªç¯æ±‚ n å’Œ c ï¼Œç›´è‡³è¿›ä½ c &#x3D; 0 ï¼›æ­¤æ—¶ s &#x3D; n ï¼Œè¿”å› n å³å¯ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/9716b1a1ead21824b8216c7d54910bee4d838c011581f4e3d82a14f71cb392a1-Picture1.png" alt="Picture1.png"></p>
<blockquote>
<p>Q ï¼š è‹¥æ•°å­— a å’Œ b ä¸­æœ‰è´Ÿæ•°ï¼Œåˆ™å˜æˆäº†å‡æ³•ï¼Œå¦‚ä½•å¤„ç†ï¼Ÿ<br>A ï¼š åœ¨è®¡ç®—æœºç³»ç»Ÿä¸­ï¼Œæ•°å€¼ä¸€å¾‹ç”¨ <strong>è¡¥ç </strong> æ¥è¡¨ç¤ºå’Œå­˜å‚¨ã€‚<strong>è¡¥ç çš„ä¼˜åŠ¿</strong>ï¼š åŠ æ³•ã€å‡æ³•å¯ä»¥ç»Ÿä¸€å¤„ç†ï¼ˆCPUåªæœ‰åŠ æ³•å™¨ï¼‰ã€‚å› æ­¤ï¼Œä»¥ä¸Šæ–¹æ³• <strong>åŒæ—¶é€‚ç”¨äºæ­£æ•°å’Œè´Ÿæ•°çš„åŠ æ³•</strong> ã€‚</p>
</blockquote>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(1) ï¼š æœ€å·®æƒ…å†µä¸‹ï¼ˆä¾‹å¦‚ a &#x3D; 0x7fffffff , b &#x3D; 1 æ—¶ï¼‰ï¼Œéœ€å¾ªç¯ 32 æ¬¡ï¼Œä½¿ç”¨ O(1) æ—¶é—´ï¼›æ¯è½®ä¸­çš„å¸¸æ•°æ¬¡ä½æ“ä½œä½¿ç”¨ O(1) æ—¶é—´ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(1) ï¼š ä½¿ç”¨å¸¸æ•°å¤§å°çš„é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span> &#123;</span><br><span class="line">        <span class="keyword">while</span>(b != <span class="number">0</span>) &#123; <span class="comment">// å½“è¿›ä½ä¸º 0 æ—¶è·³å‡º</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> (a &amp; b) &lt;&lt; <span class="number">1</span>;  <span class="comment">// c = è¿›ä½</span></span><br><span class="line">            a ^= b; <span class="comment">// a = éè¿›ä½å’Œ</span></span><br><span class="line">            b = c; <span class="comment">// b = è¿›ä½</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="3ã€å‰‘æŒ‡-Offer-56-I-æ•°ç»„ä¸­æ•°å­—å‡ºç°çš„æ¬¡æ•°"><a href="#3ã€å‰‘æŒ‡-Offer-56-I-æ•°ç»„ä¸­æ•°å­—å‡ºç°çš„æ¬¡æ•°" class="headerlink" title="3ã€å‰‘æŒ‡ Offer 56 - I. æ•°ç»„ä¸­æ•°å­—å‡ºç°çš„æ¬¡æ•°"></a>3ã€å‰‘æŒ‡ Offer 56 - I. æ•°ç»„ä¸­æ•°å­—å‡ºç°çš„æ¬¡æ•°</h3><p>ä¸€ä¸ªæ•´å‹æ•°ç»„ <code>nums</code> é‡Œé™¤ä¸¤ä¸ªæ•°å­—ä¹‹å¤–ï¼Œå…¶ä»–æ•°å­—éƒ½å‡ºç°äº†ä¸¤æ¬¡ã€‚è¯·å†™ç¨‹åºæ‰¾å‡ºè¿™ä¸¤ä¸ªåªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ã€‚è¦æ±‚æ—¶é—´å¤æ‚åº¦æ˜¯O(n)ï¼Œç©ºé—´å¤æ‚åº¦æ˜¯O(1)ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [4,1,4,6]</span><br><span class="line">è¾“å‡ºï¼š[1,6] æˆ– [6,1]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [1,2,10,4,1,4,3,3]</span><br><span class="line">è¾“å‡ºï¼š[2,10] æˆ– [10,2]</span><br></pre></td></tr></table></figure>



<p><strong>é™åˆ¶ï¼š</strong></p>
<ul>
<li><code>2 &lt;= nums.length &lt;= 10000</code></li>
</ul>
<p>Related Topics</p>
<p>ä½è¿ç®—</p>
<p>æ•°ç»„</p>
<p>ğŸ‘ 737</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>é¢˜ç›®è¦æ±‚æ—¶é—´å¤æ‚åº¦ O(N) ï¼Œç©ºé—´å¤æ‚åº¦ O(1) ï¼Œå› æ­¤é¦–å…ˆæ’é™¤ <code>æš´åŠ›æ³•</code> å’Œ <code>å“ˆå¸Œè¡¨ç»Ÿè®¡æ³•</code> ã€‚</p>
<blockquote>
<p><strong>ç®€åŒ–é—®é¢˜</strong>ï¼š ä¸€ä¸ªæ•´å‹æ•°ç»„ nums é‡Œé™¤ ä¸€ä¸ª æ•°å­—ä¹‹å¤–ï¼Œå…¶ä»–æ•°å­—éƒ½å‡ºç°äº†ä¸¤æ¬¡ã€‚</p>
</blockquote>
<p>è®¾æ•´å‹æ•°ç»„ nums ä¸­å‡ºç°ä¸€æ¬¡çš„æ•°å­—ä¸º x ï¼Œå‡ºç°ä¸¤æ¬¡çš„æ•°å­—ä¸º a, a, b, b, â€¦ï¼Œå³ï¼š</p>
<p>â€‹								nums &#x3D; [a, a, b, b, â€¦, x]</p>
<p>å¼‚æˆ–è¿ç®—æœ‰ä¸ªé‡è¦çš„æ€§è´¨ï¼Œä¸¤ä¸ªç›¸åŒæ•°å­—å¼‚æˆ–ä¸º 0 ï¼Œå³å¯¹äºä»»æ„æ•´æ•° a æœ‰ a âŠ• a &#x3D; 0 ã€‚å› æ­¤ï¼Œè‹¥å°† nums ä¸­æ‰€æœ‰æ•°å­—æ‰§è¡Œå¼‚æˆ–è¿ç®—ï¼Œç•™ä¸‹çš„ç»“æœåˆ™ä¸º å‡ºç°ä¸€æ¬¡çš„æ•°å­— x ï¼Œå³ï¼š</p>
<pre><code>                          a âŠ• a âŠ• b âŠ• b âŠ• ... âŠ• x
                       = 0 âŠ• 0 âŠ• ... âŠ• x
                       = x
</code></pre>
<p>å¼‚æˆ–è¿ç®—æ»¡è¶³äº¤æ¢å¾‹ a <em>âŠ•</em> b*&#x3D;*b <em>âŠ•</em> a ï¼Œå³ä»¥ä¸Šè¿ç®—ç»“æœä¸ nums çš„å…ƒç´ é¡ºåºæ— å…³ã€‚ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span>[] singleNumber(<span class="type">int</span>[] nums) &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> num : nums)  <span class="comment">// 1. éå† nums æ‰§è¡Œå¼‚æˆ–è¿ç®—</span></span><br><span class="line">        x ^= num;</span><br><span class="line">    <span class="keyword">return</span> x;            <span class="comment">// 2. è¿”å›å‡ºç°ä¸€æ¬¡çš„æ•°å­— x</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>è®¾ nums &#x3D; [3, 3, 4, 4, 1] ï¼Œä»¥ä¸Šè®¡ç®—æµç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1611393960-EnUIaQ-Picture1.png" alt="Picture1.png"></p>
<blockquote>
<p><strong>æœ¬é¢˜éš¾ç‚¹ï¼š</strong> æ•°ç»„ nums æœ‰ <strong>ä¸¤ä¸ª</strong> åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ï¼Œå› æ­¤æ— æ³•é€šè¿‡å¼‚æˆ–ç›´æ¥å¾—åˆ°è¿™ä¸¤ä¸ªæ•°å­—ã€‚</p>
</blockquote>
<p>è®¾ä¸¤ä¸ªåªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ä¸º x , y ï¼Œç”±äº x !&#x3D; y ï¼Œåˆ™ x å’Œ y äºŒè¿›åˆ¶è‡³å°‘æœ‰ä¸€ä½ä¸åŒï¼ˆå³åˆ†åˆ«ä¸º 0 å’Œ 1 ï¼‰ï¼Œæ ¹æ®æ­¤ä½å¯ä»¥å°† nums æ‹†åˆ†ä¸ºåˆ†åˆ«åŒ…å« x å’Œ y çš„ä¸¤ä¸ªå­æ•°ç»„ã€‚</p>
<p>æ˜“çŸ¥ä¸¤å­æ•°ç»„éƒ½æ»¡è¶³ ã€Œé™¤ä¸€ä¸ªæ•°å­—ä¹‹å¤–ï¼Œå…¶ä»–æ•°å­—éƒ½å‡ºç°äº†ä¸¤æ¬¡ã€ã€‚å› æ­¤ï¼Œä»¿ç…§ä»¥ä¸Šç®€åŒ–é—®é¢˜çš„æ€è·¯ï¼Œåˆ†åˆ«å¯¹ä¸¤å­æ•°ç»„éå†æ‰§è¡Œå¼‚æˆ–æ“ä½œï¼Œå³å¯å¾—åˆ°ä¸¤ä¸ªåªå‡ºç°ä¸€æ¬¡çš„æ•°å­— x, y ã€‚</p>
<p><strong>ç®—æ³•æµç¨‹</strong>ï¼š</p>
<ol>
<li><p>éå† nums æ‰§è¡Œå¼‚æˆ–ï¼š</p>
<ul>
<li>è®¾æ•´å‹æ•°ç»„ nums &#x3D; [a, a, b, b, â€¦, x, y]nums&#x3D;[a,a,b,b,â€¦,x,y] ï¼Œå¯¹ numsnums ä¸­æ‰€æœ‰æ•°å­—æ‰§è¡Œå¼‚æˆ–ï¼Œå¾—åˆ°çš„ç»“æœä¸º x âŠ• y ï¼Œå³ï¼š</li>
</ul>
<p>â€‹		a âŠ• a âŠ• b âŠ• b âŠ• â€¦ âŠ• x âŠ• y</p>
<p>â€‹		&#x3D; 0 âŠ• 0 âŠ• â€¦ âŠ• x âŠ• y</p>
<p>â€‹		&#x3D; x âŠ• y</p>
</li>
<li><p>å¾ªç¯å·¦ç§»è®¡ç®— m ï¼š<br>æ ¹æ®å¼‚æˆ–è¿ç®—å®šä¹‰ï¼Œè‹¥æ•´æ•° x âŠ• y æŸäºŒè¿›åˆ¶ä½ä¸º 1 ï¼Œåˆ™ x å’Œ y çš„æ­¤äºŒè¿›åˆ¶ä½ä¸€å®šä¸åŒã€‚æ¢è¨€ä¹‹ï¼Œæ‰¾åˆ° x âŠ• y æŸä¸º 1 çš„äºŒè¿›åˆ¶ä½ï¼Œå³å¯å°†æ•°ç»„ nums æ‹†åˆ†ä¸ºä¸Šè¿°çš„ä¸¤ä¸ªå­æ•°ç»„ã€‚æ ¹æ®ä¸è¿ç®—ç‰¹ç‚¹ï¼Œå¯çŸ¥å¯¹äºä»»æ„æ•´æ•° a æœ‰ï¼š</p>
<ul>
<li>è‹¥ a &amp; 0001 !&#x3D; 0 ï¼Œåˆ™ a çš„ç¬¬ä¸€ä½ä¸º 1 ï¼›</li>
<li>è‹¥ a &amp; 0010 !&#x3D; 0 ï¼Œåˆ™ a çš„ç¬¬äºŒä½ä¸º 1 ï¼›</li>
<li>ä»¥æ­¤ç±»æ¨â€¦â€¦</li>
</ul>
</li>
</ol>
<ul>
<li>å› æ­¤ï¼Œåˆå§‹åŒ–ä¸€ä¸ªè¾…åŠ©å˜é‡ m &#x3D; 1 ï¼Œé€šè¿‡ä¸è¿ç®—ä»å³å‘å·¦å¾ªç¯åˆ¤æ–­ï¼Œå¯ è·å–æ•´æ•° x âŠ• y é¦–ä½ 1 ï¼Œè®°å½•äº m ä¸­ï¼Œä»£ç å¦‚ä¸‹ï¼š</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span>(z &amp; m == <span class="number">0</span>) <span class="comment">// m å¾ªç¯å·¦ç§»ä¸€ä½ï¼Œç›´åˆ° z &amp; m ï¼= 0</span></span><br><span class="line">    m &lt;&lt;== <span class="number">1</span></span><br></pre></td></tr></table></figure>

<ol start="3">
<li><p>æ‹†åˆ† nums ä¸ºä¸¤ä¸ªå­æ•°ç»„ï¼š</p>
</li>
<li><p>åˆ†åˆ«éå†ä¸¤ä¸ªå­æ•°ç»„æ‰§è¡Œå¼‚æˆ–ï¼š</p>
</li>
</ol>
<ul>
<li>é€šè¿‡éå†åˆ¤æ–­ nums ä¸­å„æ•°å­—å’Œ m åšä¸è¿ç®—çš„ç»“æœï¼Œå¯å°†æ•°ç»„æ‹†åˆ†ä¸ºä¸¤ä¸ªå­æ•°ç»„ï¼Œå¹¶åˆ†åˆ«å¯¹ä¸¤ä¸ªå­æ•°ç»„éå†æ±‚å¼‚æˆ–ï¼Œåˆ™å¯å¾—åˆ°ä¸¤ä¸ªåªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ï¼Œä»£ç å¦‚ä¸‹ï¼š</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="type">int</span> num: nums) &#123;</span><br><span class="line">    <span class="keyword">if</span>((num &amp; m) != <span class="number">0</span>) x ^= num;  <span class="comment">// è‹¥ num &amp; m != 0 , åˆ’åˆ†è‡³å­æ•°ç»„ 1 ï¼Œæ‰§è¡Œéå†å¼‚æˆ–</span></span><br><span class="line">    <span class="keyword">else</span> y ^= num;                <span class="comment">// è‹¥ num &amp; m == 0 , åˆ’åˆ†è‡³å­æ•°ç»„ 2 ï¼Œæ‰§è¡Œéå†å¼‚æˆ–</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">int</span>[] &#123;x, y&#125;;          <span class="comment">// éå†å¼‚æˆ–å®Œæ¯•ï¼Œè¿”å›åªå‡ºç°ä¸€æ¬¡çš„æ•°å­— x å’Œ y</span></span><br></pre></td></tr></table></figure>

<ol start="5">
<li>è¿”å›å€¼ï¼š</li>
</ol>
<ul>
<li>è¿”å›åªå‡ºç°ä¸€æ¬¡çš„æ•°å­— x, y å³å¯</li>
</ul>
<blockquote>
<p>è®¾ nums &#x3D; [3, 3, 4, 4, 1, 6] ï¼Œä»¥ä¸Šè®¡ç®—æµç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1614836837-oygHyk-Picture2.png" alt="Picture2.png"></p>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(N) ï¼š çº¿æ€§éå† nums ä½¿ç”¨ O(N) æ—¶é—´ï¼Œéå† x âŠ• y äºŒè¿›åˆ¶ä½ä½¿ç”¨ O(32) &#x3D; O(1) æ—¶é—´ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(1) ï¼š è¾…åŠ©å˜é‡ a , b , x , y ä½¿ç”¨å¸¸æ•°å¤§å°é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[] singleNumbers(<span class="type">int</span>[] nums) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> <span class="number">0</span>, y = <span class="number">0</span>, n = <span class="number">0</span>, m = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> num : nums)               <span class="comment">// 1. éå†å¼‚æˆ–</span></span><br><span class="line">            n ^= num;</span><br><span class="line">        <span class="keyword">while</span>((n &amp; m) == <span class="number">0</span>)               <span class="comment">// 2. å¾ªç¯å·¦ç§»ï¼Œè®¡ç®— m</span></span><br><span class="line">            m &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> num: nums) &#123;              <span class="comment">// 3. éå† nums åˆ†ç»„</span></span><br><span class="line">            <span class="keyword">if</span>((num &amp; m) != <span class="number">0</span>) x ^= num;  <span class="comment">// 4. å½“ num &amp; m != 0</span></span><br><span class="line">            <span class="keyword">else</span> y ^= num;                <span class="comment">// 4. å½“ num &amp; m == 0</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">int</span>[] &#123;x, y&#125;;          <span class="comment">// 5. è¿”å›å‡ºç°ä¸€æ¬¡çš„æ•°å­—</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4ã€å‰‘æŒ‡-Offer-56-II-æ•°ç»„ä¸­æ•°å­—å‡ºç°çš„æ¬¡æ•°-II"><a href="#4ã€å‰‘æŒ‡-Offer-56-II-æ•°ç»„ä¸­æ•°å­—å‡ºç°çš„æ¬¡æ•°-II" class="headerlink" title="4ã€å‰‘æŒ‡ Offer 56 - II. æ•°ç»„ä¸­æ•°å­—å‡ºç°çš„æ¬¡æ•° II"></a>4ã€å‰‘æŒ‡ Offer 56 - II. æ•°ç»„ä¸­æ•°å­—å‡ºç°çš„æ¬¡æ•° II</h3><p>åœ¨ä¸€ä¸ªæ•°ç»„ <code>nums</code> ä¸­é™¤ä¸€ä¸ªæ•°å­—åªå‡ºç°ä¸€æ¬¡ä¹‹å¤–ï¼Œå…¶ä»–æ•°å­—éƒ½å‡ºç°äº†ä¸‰æ¬¡ã€‚è¯·æ‰¾å‡ºé‚£ä¸ªåªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [3,4,3,3]</span><br><span class="line">è¾“å‡ºï¼š4</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [9,1,7,9,7,9,7]</span><br><span class="line">è¾“å‡ºï¼š1</span><br></pre></td></tr></table></figure>



<p><strong>é™åˆ¶ï¼š</strong></p>
<ul>
<li><code>1 &lt;= nums.length &lt;= 10000</code></li>
<li><code>1 &lt;= nums[i] &lt; 2^31</code></li>
</ul>
<p>Related Topics</p>
<p>ä½è¿ç®—</p>
<p>æ•°ç»„</p>
<p>ğŸ‘ 401</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œè€ƒè™‘æ•°å­—çš„äºŒè¿›åˆ¶å½¢å¼ï¼Œå¯¹äºå‡ºç°ä¸‰æ¬¡çš„æ•°å­—ï¼Œå„ äºŒè¿›åˆ¶ä½ å‡ºç°çš„æ¬¡æ•°éƒ½æ˜¯ 3 çš„å€æ•°ã€‚<br>å› æ­¤ï¼Œç»Ÿè®¡æ‰€æœ‰æ•°å­—çš„å„äºŒè¿›åˆ¶ä½ä¸­ 1 çš„å‡ºç°æ¬¡æ•°ï¼Œå¹¶å¯¹ 3 æ±‚ä½™ï¼Œç»“æœåˆ™ä¸ºåªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1603022900-quEtJr-Picture1.png" alt="Picture1.png"></p>
<h4 id="æ–¹æ³•ä¸€ï¼šæœ‰é™çŠ¶æ€è‡ªåŠ¨æœº"><a href="#æ–¹æ³•ä¸€ï¼šæœ‰é™çŠ¶æ€è‡ªåŠ¨æœº" class="headerlink" title="æ–¹æ³•ä¸€ï¼šæœ‰é™çŠ¶æ€è‡ªåŠ¨æœº"></a>æ–¹æ³•ä¸€ï¼šæœ‰é™çŠ¶æ€è‡ªåŠ¨æœº</h4><p>å„äºŒè¿›åˆ¶ä½çš„ <code>ä½è¿ç®—è§„åˆ™ç›¸åŒ</code> ï¼Œå› æ­¤åªéœ€è€ƒè™‘ä¸€ä½å³å¯ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå¯¹äºæ‰€æœ‰æ•°å­—ä¸­çš„æŸäºŒè¿›åˆ¶ä½ 1 çš„ä¸ªæ•°ï¼Œå­˜åœ¨ 3 ç§çŠ¶æ€ï¼Œå³å¯¹ 3 ä½™æ•°ä¸º 0, 1, 2 ã€‚</p>
<p>è‹¥è¾“å…¥äºŒè¿›åˆ¶ä½ 1 ï¼Œåˆ™çŠ¶æ€æŒ‰ç…§ä»¥ä¸‹é¡ºåºè½¬æ¢ï¼›<br>è‹¥è¾“å…¥äºŒè¿›åˆ¶ä½ 0 ï¼Œåˆ™çŠ¶æ€ä¸å˜ã€‚</p>
<p>â€‹								    0 â†’ 1 â†’ 2 â†’ 0 â†’ â‹¯</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1603022900-GNKGMP-Picture2.png" alt="Picture2.png"></p>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œç”±äºäºŒè¿›åˆ¶åªèƒ½è¡¨ç¤º 0, 1 ï¼Œå› æ­¤éœ€è¦ä½¿ç”¨ä¸¤ä¸ªäºŒè¿›åˆ¶ä½æ¥è¡¨ç¤º 3 ä¸ªçŠ¶æ€ã€‚è®¾æ­¤ä¸¤ä½åˆ†åˆ«ä¸º two , one ï¼Œåˆ™çŠ¶æ€è½¬æ¢å˜ä¸ºï¼š</p>
<p>â€‹								00 â†’ 01 â†’ 10 â†’ 00 â†’ â‹¯</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1603022900-nPXQLk-Picture3.png" alt="Picture3.png"></p>
<p>æ¥ä¸‹æ¥ï¼Œéœ€è¦é€šè¿‡ <code>çŠ¶æ€è½¬æ¢è¡¨</code> å¯¼å‡º <code>çŠ¶æ€è½¬æ¢çš„è®¡ç®—å…¬å¼</code> ã€‚é¦–å…ˆå›å¿†ä¸€ä¸‹ä½è¿ç®—ç‰¹ç‚¹ï¼Œå¯¹äºä»»æ„äºŒè¿›åˆ¶ä½ x ï¼Œæœ‰ï¼š</p>
<ul>
<li>å¼‚æˆ–è¿ç®—ï¼šx ^ 0 &#x3D; x ï¼Œ x ^ 1 &#x3D; ~x</li>
<li>ä¸è¿ç®—ï¼šx &amp; 0 &#x3D; 0 ï¼Œ x &amp; 1 &#x3D; x</li>
</ul>
<p>è®¡ç®— oneone æ–¹æ³•ï¼š</p>
<p>è®¾å½“å‰çŠ¶æ€ä¸º two one ï¼Œæ­¤æ—¶è¾“å…¥äºŒè¿›åˆ¶ä½ n ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œé€šè¿‡å¯¹çŠ¶æ€è¡¨çš„æƒ…å†µæ‹†åˆ†ï¼Œå¯æ¨å‡º one çš„è®¡ç®—æ–¹æ³•ä¸ºï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> two == <span class="number">0</span></span><br><span class="line">  <span class="keyword">if</span> n == <span class="number">0</span></span><br><span class="line">    one = one</span><br><span class="line">  <span class="keyword">if</span> n == <span class="number">1</span></span><br><span class="line">    one = !one</span><br><span class="line"><span class="keyword">if</span> two == <span class="number">1</span></span><br><span class="line">    one = <span class="number">0</span></span><br></pre></td></tr></table></figure>

<p>å¼•å…¥ <strong>å¼‚æˆ–è¿ç®—</strong> ï¼Œå¯å°†ä»¥ä¸Šæ‹†åˆ†ç®€åŒ–ä¸ºï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> two == <span class="number">0</span>:</span><br><span class="line">    one = one ^ n</span><br><span class="line"><span class="keyword">if</span> two == <span class="number">1</span>:</span><br><span class="line">    one = <span class="number">0</span></span><br></pre></td></tr></table></figure>

<p>å¼•å…¥ <strong>ä¸è¿ç®—</strong> ï¼Œå¯ç»§ç»­ç®€åŒ–ä¸ºï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">one = one ^ n &amp; ~two</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1603022900-qIFpAR-Picture4.png" alt="Picture4.png"></p>
<p>è®¡ç®— two æ–¹æ³•ï¼š</p>
<p>ç”±äºæ˜¯å…ˆè®¡ç®— one ï¼Œå› æ­¤åº”åœ¨æ–° one çš„åŸºç¡€ä¸Šè®¡ç®— twoã€‚<br>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œä¿®æ”¹ä¸ºæ–° one åï¼Œå¾—åˆ°äº†æ–°çš„çŠ¶æ€å›¾ã€‚è§‚å¯Ÿå‘ç°ï¼Œå¯ä»¥ä½¿ç”¨åŒæ ·çš„æ–¹æ³•è®¡ç®— two ï¼Œå³ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">two = two ^ n &amp; ~one</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1603022900-hnUxBz-Picture5.png" alt="Picture5.png"></p>
<p><strong>è¿”å›å€¼</strong>ï¼š</p>
<p>ä»¥ä¸Šæ˜¯å¯¹æ•°å­—çš„äºŒè¿›åˆ¶ä¸­ â€œä¸€ä½â€ çš„åˆ†æï¼Œè€Œ int ç±»å‹çš„å…¶ä»– 31 ä½å…·æœ‰ç›¸åŒçš„è¿ç®—è§„åˆ™ï¼Œå› æ­¤å¯å°†ä»¥ä¸Šå…¬å¼ç›´æ¥å¥—ç”¨åœ¨ 32 ä½æ•°ä¸Šã€‚</p>
<p>éå†å®Œæ‰€æœ‰æ•°å­—åï¼Œå„äºŒè¿›åˆ¶ä½éƒ½å¤„äºçŠ¶æ€ 00 å’ŒçŠ¶æ€ 01 ï¼ˆå–å†³äº â€œåªå‡ºç°ä¸€æ¬¡çš„æ•°å­—â€ çš„å„äºŒè¿›åˆ¶ä½æ˜¯ 1 è¿˜æ˜¯ 0 ï¼‰ï¼Œè€Œæ­¤ä¸¤çŠ¶æ€æ˜¯ç”± one æ¥è®°å½•çš„ï¼ˆæ­¤ä¸¤çŠ¶æ€ä¸‹ twos æ’ä¸º 0 ï¼‰ï¼Œå› æ­¤è¿”å› ones å³å¯ã€‚</p>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(N) ï¼š å…¶ä¸­ N ä½æ•°ç»„ nums çš„é•¿åº¦ï¼›éå†æ•°ç»„å ç”¨ O(N) ï¼Œæ¯è½®ä¸­çš„å¸¸æ•°ä¸ªä½è¿ç®—æ“ä½œå ç”¨ O(32Ã—3Ã—2)&#x3D;O(1) ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(1) ï¼š å˜é‡ ones , twos ä½¿ç”¨å¸¸æ•°å¤§å°çš„é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">singleNumber</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">ones</span> <span class="operator">=</span> <span class="number">0</span>, twos = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> num : nums)&#123;</span><br><span class="line">            ones = ones ^ num &amp; ~twos;</span><br><span class="line">            twos = twos ^ num &amp; ~ones;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ones;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="æ–¹æ³•äºŒï¼šéå†ç»Ÿè®¡"><a href="#æ–¹æ³•äºŒï¼šéå†ç»Ÿè®¡" class="headerlink" title="æ–¹æ³•äºŒï¼šéå†ç»Ÿè®¡"></a>æ–¹æ³•äºŒï¼šéå†ç»Ÿè®¡</h4><blockquote>
<p>æ­¤æ–¹æ³•ç›¸å¯¹å®¹æ˜“ç†è§£ï¼Œä½†æ•ˆç‡è¾ƒä½ï¼Œæ€»ä½“æ¨èæ–¹æ³•ä¸€ã€‚</p>
</blockquote>
<p>ä½¿ç”¨ ä¸è¿ç®— ï¼Œå¯è·å–äºŒè¿›åˆ¶æ•°å­— num çš„æœ€å³ä¸€ä½ n1ï¼š n1&#x3D;num&amp;i</p>
<p>é…åˆ å³ç§»æ“ä½œ ï¼Œå¯ä»ä½ä½è‡³é«˜ä½ï¼Œè·å– num æ‰€æœ‰ä½çš„å€¼ï¼ˆè®¾ int ç±»å‹ä»ä½è‡³é«˜çš„ä½æ•°ä¸ºç¬¬ 0 ä½ è‡³ç¬¬ 31 ä½ï¼Œå³ n0~n31   num &#x3D; num &gt;&gt; 1</p>
<p>å»ºç«‹ä¸€ä¸ªé•¿åº¦ä¸º 32 çš„æ•°ç»„ counts ï¼Œé€šè¿‡ä»¥ä¸Šæ–¹æ³•å¯è®°å½•æ‰€æœ‰æ•°å­—çš„å„äºŒè¿›åˆ¶ä½çš„ 1 çš„å‡ºç°æ¬¡æ•°ä¹‹å’Œã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span>[] counts = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">32</span>];</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> num : nums) &#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">32</span>; i++) &#123;</span><br><span class="line">        counts[i] += num &amp; <span class="number">1</span>; <span class="comment">// æ›´æ–°ç¬¬ i ä½ 1 çš„ä¸ªæ•°ä¹‹å’Œ</span></span><br><span class="line">        num &gt;&gt;= <span class="number">1</span>;            <span class="comment">// ç¬¬ i ä½ --&gt; ç¬¬ i + 1 ä½</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å°† counts å„å…ƒç´ å¯¹ 3 æ±‚ä½™ï¼Œåˆ™ç»“æœä¸º â€œåªå‡ºç°ä¸€æ¬¡çš„æ•°å­—â€ çš„å„äºŒè¿›åˆ¶ä½ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">31</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> counts[i] %= <span class="number">3</span>; <span class="comment">// å¾—åˆ° â€œåªå‡ºç°ä¸€æ¬¡çš„æ•°å­—â€ çš„ç¬¬ i ä½</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åˆ©ç”¨ <strong>å·¦ç§»æ“ä½œ</strong> å’Œ <strong>æˆ–è¿ç®—</strong> ï¼Œå¯å°† counts æ•°ç»„ä¸­å„äºŒè¿›ä½çš„å€¼æ¢å¤åˆ°æ•°å­— res ä¸Šã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">31</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">    res &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">    res |= counts[i] % <span class="number">3</span>; <span class="comment">// æ¢å¤ç¬¬ i ä½</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æœ€ç»ˆè¿”å› res å³å¯</p>
<p>å¤æ‚åº¦åˆ†æï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(N) ï¼š å…¶ä¸­ N ä½æ•°ç»„ nums çš„é•¿åº¦ï¼›éå†æ•°ç»„å ç”¨ O(N) ï¼Œæ¯è½®ä¸­çš„å¸¸æ•°ä¸ªä½è¿ç®—æ“ä½œå ç”¨ O(1) ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(1) ï¼š æ•°ç»„ counts é•¿åº¦æ’ä¸º 32 ï¼Œå ç”¨å¸¸æ•°å¤§å°çš„é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<p>å®é™…ä¸Šï¼Œåªéœ€è¦ä¿®æ”¹æ±‚ä½™æ•°å€¼ <em>m</em> ï¼Œå³å¯å®ç°è§£å†³ <strong>é™¤äº†ä¸€ä¸ªæ•°å­—ä»¥å¤–ï¼Œå…¶ä½™æ•°å­—éƒ½å‡ºç° mæ¬¡</strong> çš„é€šç”¨é—®é¢˜ã€‚</p>
<blockquote>
<p>è®¾ int ç±»å‹ä»ä½è‡³é«˜çš„ä½æ•°ä¸ºç¬¬ 0 ä½ è‡³ç¬¬ 31 ä½ã€‚</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">singleNumber</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        <span class="type">int</span>[] counts = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">32</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> num : nums) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">32</span>; i++) &#123;</span><br><span class="line">                counts[i] += num &amp; <span class="number">1</span>; <span class="comment">// æ›´æ–°ç¬¬ i ä½ 1 çš„ä¸ªæ•°ä¹‹å’Œ</span></span><br><span class="line">                num &gt;&gt;= <span class="number">1</span>;            <span class="comment">// ç¬¬ i ä½ --&gt; ç¬¬ i ä½</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>, m = <span class="number">3</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">31</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            res &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">            res |= counts[i] % m;     <span class="comment">// æ¢å¤ç¬¬ i ä½</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="åä¸‰ã€æ•°å­¦"><a href="#åä¸‰ã€æ•°å­¦" class="headerlink" title="åä¸‰ã€æ•°å­¦"></a>åä¸‰ã€æ•°å­¦</h2><h3 id="1ã€å‰‘æŒ‡-Offer-39-æ•°ç»„ä¸­å‡ºç°æ¬¡æ•°è¶…è¿‡ä¸€åŠçš„æ•°å­—"><a href="#1ã€å‰‘æŒ‡-Offer-39-æ•°ç»„ä¸­å‡ºç°æ¬¡æ•°è¶…è¿‡ä¸€åŠçš„æ•°å­—" class="headerlink" title="1ã€å‰‘æŒ‡ Offer 39. æ•°ç»„ä¸­å‡ºç°æ¬¡æ•°è¶…è¿‡ä¸€åŠçš„æ•°å­—"></a>1ã€å‰‘æŒ‡ Offer 39. æ•°ç»„ä¸­å‡ºç°æ¬¡æ•°è¶…è¿‡ä¸€åŠçš„æ•°å­—</h3><p>æ•°ç»„ä¸­æœ‰ä¸€ä¸ªæ•°å­—å‡ºç°çš„æ¬¡æ•°è¶…è¿‡æ•°ç»„é•¿åº¦çš„ä¸€åŠï¼Œè¯·æ‰¾å‡ºè¿™ä¸ªæ•°å­—ã€‚</p>
<p>ä½ å¯ä»¥å‡è®¾æ•°ç»„æ˜¯éç©ºçš„ï¼Œå¹¶ä¸”ç»™å®šçš„æ•°ç»„æ€»æ˜¯å­˜åœ¨å¤šæ•°å…ƒç´ ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: [1, 2, 3, 2, 2, 2, 5, 4, 2]</span><br><span class="line">è¾“å‡º: 2</span><br></pre></td></tr></table></figure>



<p><strong>é™åˆ¶ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1 &lt;= æ•°ç»„é•¿åº¦ &lt;= 50000</span><br></pre></td></tr></table></figure>



<p>æ³¨æ„ï¼šæœ¬é¢˜ä¸ä¸»ç«™ 169 é¢˜ç›¸åŒï¼š<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/majority-element/">https://leetcode-cn.com/problems/majority-element/</a></p>
<p>Related Topics</p>
<p>æ•°ç»„</p>
<p>å“ˆå¸Œè¡¨</p>
<p>åˆ†æ²»</p>
<p>è®¡æ•°</p>
<p>æ’åº</p>
<p>ğŸ‘ 335</p>
<p>ğŸ‘ 0</p>
<blockquote>
<p>æœ¬æ–‡å°† â€œæ•°ç»„ä¸­å‡ºç°æ¬¡æ•°è¶…è¿‡ä¸€åŠçš„æ•°å­—â€ ç®€ç§°ä¸º <strong>â€œä¼—æ•°â€</strong> ã€‚<br>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ•°å­¦ä¸­ä¼—æ•°çš„å®šä¹‰ä¸º â€œæ•°ç»„ä¸­å‡ºç°æ¬¡æ•°æœ€å¤šçš„æ•°å­—â€ ï¼Œä¸æœ¬æ–‡å®šä¹‰ä¸åŒã€‚</p>
</blockquote>
<p>æœ¬é¢˜å¸¸è§çš„ä¸‰ç§è§£æ³•ï¼š</p>
<ol>
<li><strong>å“ˆå¸Œè¡¨ç»Ÿè®¡æ³•</strong>ï¼š éå†æ•°ç»„ nums ï¼Œç”¨ HashMap ç»Ÿè®¡å„æ•°å­—çš„æ•°é‡ï¼Œå³å¯æ‰¾å‡º ä¼—æ•° ã€‚æ­¤æ–¹æ³•æ—¶é—´å’Œç©ºé—´å¤æ‚åº¦å‡ä¸º O(N) ã€‚</li>
<li><strong>æ•°ç»„æ’åºæ³•</strong>ï¼š å°†æ•°ç»„ nums æ’åºï¼Œ<code>æ•°ç»„ä¸­ç‚¹çš„å…ƒç´ </code> ä¸€å®šä¸ºä¼—æ•°ã€‚æŒ‰ç…§æ’åºç®—æ³•çš„æ—¶é—´å¤æ‚åº¦å’Œç©ºé—´å¤æ‚åº¦æ¥è®¡ç®—ï¼Œåº“å‡½æ•°ä¸ºå¿«é€Ÿæ’åºï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(NlogN), ç©ºé—´å¤æ‚åº¦ O(N);</li>
<li><strong>æ‘©å°”æŠ•ç¥¨æ³•</strong>ï¼š æ ¸å¿ƒç†å¿µä¸º <code>ç¥¨æ•°æ­£è´ŸæŠµæ¶ˆ</code> ã€‚æ­¤æ–¹æ³•æ—¶é—´å’Œç©ºé—´å¤æ‚åº¦åˆ†åˆ«ä¸º O(N) å’Œ O(1) ï¼Œä¸ºæœ¬é¢˜çš„æœ€ä½³è§£æ³•ã€‚</li>
</ol>
<h4 id="æ‘©å°”æŠ•ç¥¨æ³•ï¼š"><a href="#æ‘©å°”æŠ•ç¥¨æ³•ï¼š" class="headerlink" title="æ‘©å°”æŠ•ç¥¨æ³•ï¼š"></a>æ‘©å°”æŠ•ç¥¨æ³•ï¼š</h4><blockquote>
<p>è®¾è¾“å…¥æ•°ç»„ <code>nums</code> çš„ä¼—æ•°ä¸º x ï¼Œæ•°ç»„é•¿åº¦ä¸º n ã€‚</p>
</blockquote>
<p>æ¨è®ºä¸€ï¼š è‹¥è®° <code>ä¼—æ•°</code> çš„ç¥¨æ•°ä¸º +1 ï¼Œ<code>éä¼—æ•°</code> çš„ç¥¨æ•°ä¸º âˆ’1 ï¼Œåˆ™ä¸€å®šæœ‰æ‰€æœ‰æ•°å­—çš„ <code>ç¥¨æ•°å’Œ</code> &gt; 0 ã€‚</p>
<p>æ¨è®ºäºŒï¼š è‹¥æ•°ç»„çš„å‰ a ä¸ªæ•°å­—çš„ ç¥¨æ•°å’Œ &#x3D; 0 ï¼Œåˆ™ æ•°ç»„å‰©ä½™ (n-a) ä¸ªæ•°å­—çš„ ç¥¨æ•°å’Œä¸€å®šä» &gt;0 ï¼Œå³å (n-a) ä¸ªæ•°å­—çš„ ä¼—æ•°ä»ä¸º x ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1603612327-bOQxzq-Picture1.png" alt="Picture1.png"></p>
<p>æ ¹æ®ä»¥ä¸Šæ¨è®ºï¼Œè®°æ•°ç»„é¦–ä¸ªå…ƒç´ ä¸º n1 ï¼Œä¼—æ•°ä¸º x ï¼Œéå†å¹¶ç»Ÿè®¡ç¥¨æ•°ã€‚å½“å‘ç”Ÿ <code>ç¥¨æ•°å’Œ = 0</code> æ—¶ï¼Œ<strong>å‰©ä½™æ•°ç»„çš„ä¼—æ•°ä¸€å®šä¸å˜</strong> ï¼Œè¿™æ˜¯ç”±äºï¼š</p>
<ul>
<li>å½“ n1 &#x3D;&#x3D; x ï¼š æŠµæ¶ˆçš„æ‰€æœ‰æ•°å­—ï¼Œæœ‰ä¸€åŠæ˜¯ä¼—æ•° x ã€‚</li>
<li>å½“ n1 !&#x3D; x ï¼š æŠµæ¶ˆçš„æ‰€æœ‰æ•°å­—ï¼Œä¼—æ•° x çš„æ•°é‡æœ€å°‘ä¸º 0 ä¸ªï¼Œæœ€å¤šä¸ºä¸€åŠã€‚</li>
</ul>
<p>åˆ©ç”¨æ­¤ç‰¹æ€§ï¼Œæ¯è½®å‡è®¾å‘ç”Ÿ <strong>ç¥¨æ•°å’Œ &#x3D; 0</strong> éƒ½å¯ä»¥ <strong>ç¼©å°å‰©ä½™æ•°ç»„åŒºé—´</strong> ã€‚å½“éå†å®Œæˆæ—¶ï¼Œæœ€åä¸€è½®å‡è®¾çš„æ•°å­—å³ä¸ºä¼—æ•°ã€‚</p>
<p><strong>ç®—æ³•æµç¨‹</strong>:</p>
<ol>
<li>åˆå§‹åŒ–ï¼š ç¥¨æ•°ç»Ÿè®¡ votes &#x3D; 0 ï¼Œ ä¼—æ•° xï¼›</li>
<li>å¾ªç¯ï¼š éå†æ•°ç»„ nums ä¸­çš„æ¯ä¸ªæ•°å­— num ï¼›<ul>
<li>å½“ ç¥¨æ•° votes ç­‰äº 0 ï¼Œåˆ™å‡è®¾å½“å‰æ•°å­— num æ˜¯ä¼—æ•°ï¼›</li>
<li>å½“ num &#x3D; x æ—¶ï¼Œç¥¨æ•° votes è‡ªå¢ 1 ï¼›å½“ num !&#x3D; x æ—¶ï¼Œç¥¨æ•° votes è‡ªå‡ 1 ï¼›</li>
</ul>
</li>
<li>è¿”å›å€¼ï¼š è¿”å› x å³å¯ï¼›</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1603612327-WvtbDg-Picture7.png" alt="img"></p>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(N) ï¼š N ä¸ºæ•°ç»„ <code>nums</code> é•¿åº¦ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(1) ï¼š <code>votes</code> å˜é‡ä½¿ç”¨å¸¸æ•°å¤§å°çš„é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ‘©å°”æŠ•ç¥¨</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">majorityElement</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> <span class="number">0</span>, vote = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> num : nums) &#123;</span><br><span class="line">        <span class="keyword">if</span> (vote == <span class="number">0</span>) x = num;</span><br><span class="line">        <span class="keyword">if</span> (num == x) vote++;</span><br><span class="line">        <span class="keyword">else</span> vote--;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>æ‹“å±•</strong>ï¼š ç”±äºé¢˜ç›®è¯´æ˜ <code>ç»™å®šçš„æ•°ç»„æ€»æ˜¯å­˜åœ¨å¤šæ•°å…ƒç´ </code> ï¼Œå› æ­¤æœ¬é¢˜ä¸ç”¨è€ƒè™‘ <code>æ•°ç»„ä¸å­˜åœ¨ä¼—æ•°</code> çš„æƒ…å†µã€‚è‹¥è€ƒè™‘ï¼Œéœ€è¦åŠ å…¥ä¸€ä¸ª â€œéªŒè¯ç¯èŠ‚â€ ï¼Œéå†æ•°ç»„ nums ç»Ÿè®¡ x çš„æ•°é‡ã€‚</p>
<ul>
<li>è‹¥ x çš„æ•°é‡è¶…è¿‡æ•°ç»„é•¿åº¦ä¸€åŠï¼Œåˆ™è¿”å› x ï¼›</li>
<li>å¦åˆ™ï¼Œè¿”å›æœªæ‰¾åˆ°ä¼—æ•°ï¼›</li>
</ul>
<p>æ—¶é—´å’Œç©ºé—´å¤æ‚åº¦ä¸å˜ï¼Œä»ä¸º O(N) å’Œ O(1) ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">majorityElement</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> <span class="number">0</span>, votes = <span class="number">0</span>, count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> num : nums)&#123;</span><br><span class="line">        <span class="keyword">if</span>(votes == <span class="number">0</span>) x = num;</span><br><span class="line">        votes += num == x ? <span class="number">1</span> : -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// éªŒè¯ x æ˜¯å¦ä¸ºä¼—æ•°</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> num : nums)</span><br><span class="line">        <span class="keyword">if</span>(num == x) count++;</span><br><span class="line">    <span class="keyword">return</span> count &gt; nums.length / <span class="number">2</span> ? x : <span class="number">0</span>; <span class="comment">// å½“æ— ä¼—æ•°æ—¶è¿”å› 0</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="æ’åºæ³•ï¼š"><a href="#æ’åºæ³•ï¼š" class="headerlink" title="æ’åºæ³•ï¼š"></a>æ’åºæ³•ï¼š</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ’åº</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">majorityElement2</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">    Arrays.sort(nums);</span><br><span class="line">    <span class="keyword">return</span> nums[nums.length / <span class="number">2</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2ã€å‰‘æŒ‡-Offer-66-æ„å»ºä¹˜ç§¯æ•°ç»„"><a href="#2ã€å‰‘æŒ‡-Offer-66-æ„å»ºä¹˜ç§¯æ•°ç»„" class="headerlink" title="2ã€å‰‘æŒ‡ Offer 66. æ„å»ºä¹˜ç§¯æ•°ç»„"></a>2ã€å‰‘æŒ‡ Offer 66. æ„å»ºä¹˜ç§¯æ•°ç»„</h3><p>ç»™å®šä¸€ä¸ªæ•°ç»„ <code>A[0,1,â€¦,n-1]</code>ï¼Œè¯·æ„å»ºä¸€ä¸ªæ•°ç»„ <code>B[0,1,â€¦,n-1]</code>ï¼Œå…¶ä¸­ <code>B[i]</code> çš„å€¼æ˜¯æ•°ç»„ <code>A</code> ä¸­é™¤äº†ä¸‹æ ‡ <code>i</code> ä»¥å¤–çš„å…ƒç´ çš„ç§¯, å³ <code>B[i]=A[0]Ã—A[1]Ã—â€¦Ã—A[i-1]Ã—A[i+1]Ã—â€¦Ã—A[n-1]</code>ã€‚ä¸èƒ½ä½¿ç”¨é™¤æ³•ã€‚</p>
<p><strong>ç¤ºä¾‹:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: [1,2,3,4,5]</span><br><span class="line">è¾“å‡º: [120,60,40,30,24]</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li>æ‰€æœ‰å…ƒç´ ä¹˜ç§¯ä¹‹å’Œä¸ä¼šæº¢å‡º 32 ä½æ•´æ•°</li>
<li><code>a.length &lt;= 100000</code></li>
</ul>
<p>Related Topics</p>
<p>æ•°ç»„</p>
<p>å‰ç¼€å’Œ</p>
<p>ğŸ‘ 279</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>æœ¬é¢˜çš„éš¾ç‚¹åœ¨äº <code>ä¸èƒ½ä½¿ç”¨é™¤æ³•</code> ï¼Œå³éœ€è¦ <code>åªç”¨ä¹˜æ³•</code> ç”Ÿæˆæ•°ç»„ B ã€‚æ ¹æ®é¢˜ç›®å¯¹ B[i] çš„å®šä¹‰ï¼Œå¯åˆ—è¡¨æ ¼ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p>
<p>æ ¹æ®è¡¨æ ¼çš„ä¸»å¯¹è§’çº¿ï¼ˆå…¨ä¸º 1 ï¼‰ï¼Œå¯å°†è¡¨æ ¼åˆ†ä¸º <code>ä¸Šä¸‰è§’</code> å’Œ <code>ä¸‹ä¸‰è§’</code> ä¸¤éƒ¨åˆ†ã€‚åˆ†åˆ«è¿­ä»£è®¡ç®—ä¸‹ä¸‰è§’å’Œä¸Šä¸‰è§’ä¸¤éƒ¨åˆ†çš„ä¹˜ç§¯ï¼Œå³å¯ <code>ä¸ä½¿ç”¨é™¤æ³•</code> å°±è·å¾—ç»“æœã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1624619180-vpyyqh-Picture1.png" alt="Picture1.png"></p>
<p><strong>ç®—æ³•æµç¨‹</strong>ï¼š</p>
<ol>
<li>åˆå§‹åŒ–ï¼šæ•°ç»„ B ï¼Œå…¶ä¸­ B[0] &#x3D; 1 ï¼›è¾…åŠ©å˜é‡ tmp &#x3D; 1 ï¼›</li>
<li>è®¡ç®— B[i] çš„ <code>ä¸‹ä¸‰è§’</code> å„å…ƒç´ çš„ä¹˜ç§¯ï¼Œç›´æ¥ä¹˜å…¥ B[i] ï¼›</li>
<li>è®¡ç®— B[i] çš„ <code>ä¸Šä¸‰è§’</code> å„å…ƒç´ çš„ä¹˜ç§¯ï¼Œè®°ä¸º tmp ï¼Œå¹¶ä¹˜å…¥ B[i] ï¼›</li>
<li>è¿”å› B ã€‚</li>
</ol>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(N) ï¼š å…¶ä¸­ N ä¸ºæ•°ç»„é•¿åº¦ï¼Œä¸¤è½®éå†æ•°ç»„ a ï¼Œä½¿ç”¨ O(N) æ—¶é—´ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(1) ï¼š å˜é‡ tmp ä½¿ç”¨å¸¸æ•°å¤§å°é¢å¤–ç©ºé—´ï¼ˆæ•°ç»„ b ä½œä¸ºè¿”å›å€¼ï¼Œä¸è®¡å…¥å¤æ‚åº¦è€ƒè™‘ï¼‰ã€‚</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1599920669-atltNE-Picture4.png" alt="img"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1599920669-ufmhnT-Picture8.png" alt="img"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span>[] constructArr(<span class="type">int</span>[] a) &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> a.length;</span><br><span class="line">    <span class="keyword">if</span> (len == <span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">0</span>];</span><br><span class="line">    <span class="type">int</span>[] b = <span class="keyword">new</span> <span class="title class_">int</span>[len];</span><br><span class="line">    b[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; len; i++) &#123; <span class="comment">// å·¦ä¸‹è§’</span></span><br><span class="line">        b[i] = b[i - <span class="number">1</span>] * a[i - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> len - <span class="number">2</span>; i &gt;= <span class="number">0</span>; i--) &#123; <span class="comment">// å³ä¸Šè§’</span></span><br><span class="line">        temp *= a[i + <span class="number">1</span>];</span><br><span class="line">        b[i] *= temp;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3ã€å‰‘æŒ‡-Offer-14-I-å‰ªç»³å­"><a href="#3ã€å‰‘æŒ‡-Offer-14-I-å‰ªç»³å­" class="headerlink" title="3ã€å‰‘æŒ‡ Offer 14- I. å‰ªç»³å­"></a>3ã€å‰‘æŒ‡ Offer 14- I. å‰ªç»³å­</h3><p>ç»™ä½ ä¸€æ ¹é•¿åº¦ä¸º <code>n</code> çš„ç»³å­ï¼Œè¯·æŠŠç»³å­å‰ªæˆæ•´æ•°é•¿åº¦çš„ <code>m</code> æ®µï¼ˆmã€néƒ½æ˜¯æ•´æ•°ï¼Œn&gt;1å¹¶ä¸”m&gt;1ï¼‰ï¼Œæ¯æ®µç»³å­çš„é•¿åº¦è®°ä¸º <code>k[0],k[1]...k[m-1]</code> ã€‚è¯·é—® <code>k[0]*k[1]*...*k[m-1]</code> å¯èƒ½çš„æœ€å¤§ä¹˜ç§¯æ˜¯å¤šå°‘ï¼Ÿä¾‹å¦‚ï¼Œå½“ç»³å­çš„é•¿åº¦æ˜¯8æ—¶ï¼Œæˆ‘ä»¬æŠŠå®ƒå‰ªæˆé•¿åº¦åˆ†åˆ«ä¸º2ã€3ã€3çš„ä¸‰æ®µï¼Œæ­¤æ—¶å¾—åˆ°çš„æœ€å¤§ä¹˜ç§¯æ˜¯18ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: 2</span><br><span class="line">è¾“å‡º: 1</span><br><span class="line">è§£é‡Š: 2 = 1 + 1, 1 Ã— 1 = 1</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: 10</span><br><span class="line">è¾“å‡º: 36</span><br><span class="line">è§£é‡Š: 10 = 3 + 3 + 4, 3 Ã— 3 Ã— 4 = 36</span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>2 &lt;= n &lt;= 58</code></li>
</ul>
<p>æ³¨æ„ï¼šæœ¬é¢˜ä¸ä¸»ç«™ 343 é¢˜ç›¸åŒï¼š<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/integer-break/">https://leetcode-cn.com/problems/integer-break/</a></p>
<p>Related Topics</p>
<p>æ•°å­¦</p>
<p>åŠ¨æ€è§„åˆ’</p>
<p>ğŸ‘ 529</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<h4 id="æ•°å­¦æ³•"><a href="#æ•°å­¦æ³•" class="headerlink" title="æ•°å­¦æ³•"></a>æ•°å­¦æ³•</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/image-20221220093051857.png" alt="image-20221220093051857"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/image-20221220093350891.png" alt="image-20221220093350891"></p>
<p><strong>åˆ‡åˆ†è§„åˆ™</strong>ï¼š<br>æœ€ä¼˜ï¼š 3 ã€‚æŠŠç»³å­å°½å¯èƒ½åˆ‡ä¸ºå¤šä¸ªé•¿åº¦ä¸º 3 çš„ç‰‡æ®µï¼Œç•™ä¸‹çš„æœ€åä¸€æ®µç»³å­çš„é•¿åº¦å¯èƒ½ä¸º 0,1,2 ä¸‰ç§æƒ…å†µã€‚<br>æ¬¡ä¼˜ï¼š 2 ã€‚è‹¥æœ€åä¸€æ®µç»³å­é•¿åº¦ä¸º 2 ï¼›åˆ™ä¿ç•™ï¼Œä¸å†æ‹†ä¸º 1+1 ã€‚<br>æœ€å·®ï¼š 1 ã€‚è‹¥æœ€åä¸€æ®µç»³å­é•¿åº¦ä¸º 1 ï¼›åˆ™åº”æŠŠä¸€ä»½ 3 + 1 æ›¿æ¢ä¸º 2 + 2ï¼Œå› ä¸º 2Ã—2 &gt; 3Ã—1ã€‚</p>
<p><strong>ç®—æ³•æµç¨‹</strong>ï¼š</p>
<ol>
<li>å½“ n â‰¤ 3 æ—¶ï¼ŒæŒ‰ç…§è§„åˆ™åº”ä¸åˆ‡åˆ†ï¼Œä½†ç”±äºé¢˜ç›®è¦æ±‚å¿…é¡»å‰ªæˆ m &gt; 1 æ®µï¼Œå› æ­¤å¿…é¡»å‰ªå‡ºä¸€æ®µé•¿åº¦ä¸º 1 çš„ç»³å­ï¼Œå³è¿”å› n - 1 ã€‚</li>
<li>å½“ n &gt; 3 æ—¶ï¼Œæ±‚ n é™¤ä»¥ 3 çš„ æ•´æ•°éƒ¨åˆ† a å’Œ ä½™æ•°éƒ¨åˆ† b ï¼ˆå³ n &#x3D; 3a + b ï¼‰ï¼Œå¹¶åˆ†ä¸ºä»¥ä¸‹ä¸‰ç§æƒ…å†µï¼š<ul>
<li>å½“ b &#x3D; 0 æ—¶ï¼Œç›´æ¥è¿”å› 3 ^ aï¼›</li>
<li>å½“ b &#x3D; 1 æ—¶ï¼Œè¦å°†ä¸€ä¸ª 1 + 3 è½¬æ¢ä¸º 2 + 2ï¼Œå› æ­¤è¿”å› 3^(aâˆ’1) Ã— 4ï¼›</li>
<li>å½“ b &#x3D; 2b&#x3D;2 æ—¶ï¼Œè¿”å› 3^a Ã— 2ã€‚</li>
</ul>
</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1f9adeaa7b9fff0ab19c9d29e3a8f98749011d22dc162d67bdbe223f1a38119f-Picture1.png" alt="Picture1.png"></p>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li><p>æ—¶é—´å¤æ‚åº¦ O(1) ï¼š ä»…æœ‰æ±‚æ•´ã€æ±‚ä½™ã€æ¬¡æ–¹è¿ç®—ã€‚</p>
<ul>
<li>æ±‚æ•´å’Œæ±‚ä½™è¿ç®—ï¼šèµ„æ–™æåˆ°ä¸è¶…è¿‡æœºå™¨æ•°çš„æ•´æ•°å¯ä»¥çœ‹ä½œæ˜¯ O(1) ï¼›</li>
<li>å¹‚è¿ç®—ï¼šæŸ¥é˜…èµ„æ–™ï¼Œæåˆ°æµ®ç‚¹å–å¹‚ä¸º O(1) ã€‚</li>
</ul>
</li>
<li><p>ç©ºé—´å¤æ‚åº¦ O(1) ï¼š å˜é‡ a å’Œ b ä½¿ç”¨å¸¸æ•°å¤§å°é¢å¤–ç©ºé—´ã€‚</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">cuttingRope</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(n &lt;= <span class="number">3</span>) <span class="keyword">return</span> n - <span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> n / <span class="number">3</span>, b = n % <span class="number">3</span>;</span><br><span class="line">        <span class="keyword">if</span>(b == <span class="number">0</span>) <span class="keyword">return</span> (<span class="type">int</span>)Math.pow(<span class="number">3</span>, a);</span><br><span class="line">        <span class="keyword">if</span>(b == <span class="number">1</span>) <span class="keyword">return</span> (<span class="type">int</span>)Math.pow(<span class="number">3</span>, a - <span class="number">1</span>) * <span class="number">4</span>;</span><br><span class="line">        <span class="keyword">return</span> (<span class="type">int</span>)Math.pow(<span class="number">3</span>, a) * <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="è´ªå¿ƒç®—æ³•"><a href="#è´ªå¿ƒç®—æ³•" class="headerlink" title="è´ªå¿ƒç®—æ³•"></a>è´ªå¿ƒç®—æ³•</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/image-20221220095148305.png" alt="image-20221220095148305"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/image-20221220095204014.png" alt="image-20221220095204014"></p>
<h4 id="åŠ¨æ€è§„åˆ’-4"><a href="#åŠ¨æ€è§„åˆ’-4" class="headerlink" title="åŠ¨æ€è§„åˆ’"></a>åŠ¨æ€è§„åˆ’</h4><p><strong>æ€è·¯</strong></p>
<p>å¯¹äºçš„é•¿åº¦ä¸ºnçš„ç»³å­ï¼Œå½“ n â‰¥ 2 æ—¶ï¼Œå¯ä»¥å‰ªæˆè‡³å°‘ä¸¤ä¸ªç»³å­ã€‚ä»¤ k æ˜¯å‰ªå‡ºçš„ç¬¬ä¸€æ®µç»³å­ï¼Œåˆ™å‰©ä¸‹çš„éƒ¨åˆ†æ˜¯ nâˆ’kï¼Œnâˆ’k å¯ä»¥ä¸ç»§ç»­å‰ªï¼Œæˆ–è€…ç»§ç»­å‰ªæˆè‡³å°‘ä¸¤æ®µç»³å­ï¼ˆä¸€ä¸ªé—®é¢˜å¯ä»¥åˆ†è§£ä¸ºç›¸ä¼¼çš„å­é—®é¢˜å› æ­¤æƒ³åˆ°åŠ¨æ€è§„åˆ’ï¼‰ã€‚ç”±äºæ¯ä¸ªç»³å­é•¿åº¦å¯¹åº”çš„æœ€å¤§ä¹˜ç§¯å–å†³äºæ¯”å®ƒå°çš„ç»³å­å¯¹åº”çš„æœ€å¤§ä¹˜ç§¯ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨<code>åŠ¨æ€è§„åˆ’</code>æ±‚è§£ã€‚</p>
<ol>
<li>ç¡®å®šdpæ•°ç»„ä»¥åŠä¸‹æ ‡çš„å«ä¹‰<br>dp[i] è¡¨ç¤ºå°†é•¿åº¦ä¸º i çš„ç»³å­å‰ªæˆè‡³å°‘ä¸¤æ®µç»³å­ä¹‹åï¼Œè¿™äº›ç»³å­é•¿åº¦çš„æœ€å¤§ä¹˜ç§¯</li>
<li>ç¡®å®šçŠ¶æ€è½¬ç§»æ–¹ç¨‹<ul>
<li>å½“ i â‰¥ 2 æ—¶ï¼Œå‡è®¾å¯¹é•¿åº¦ä¸º i ç»³å­å‰ªå‡ºçš„ç¬¬ä¸€æ®µç»³å­é•¿åº¦æ˜¯ jï¼ˆ1â‰¤j&lt;iï¼‰ï¼Œåˆ™æœ‰ä»¥ä¸‹ä¸¤ç§æ–¹æ¡ˆï¼š<ul>
<li>å°† i å‰ªæˆ j å’Œ i-j é•¿åº¦çš„ç»³å­ï¼Œä¸” iâˆ’j ä¸å†ç»§ç»­å‰ªï¼Œæ­¤æ—¶çš„ä¹˜ç§¯æ˜¯ jÃ—(iâˆ’j) ï¼›</li>
<li>å°† i å‰ªæˆ j å’Œ iâˆ’j é•¿åº¦çš„ç»³å­ï¼Œä¸” iâˆ’j ç»§ç»­å‰ªæˆå¤šæ®µé•¿åº¦çš„ç»³å­ï¼Œæ­¤æ—¶çš„ä¹˜ç§¯æ˜¯ jÃ—dp[iâˆ’j] ã€‚</li>
<li>å› æ­¤ï¼Œå½“ j å›ºå®šæ—¶ï¼Œæœ‰ dp[i]&#x3D;max(jÃ—(iâˆ’j),jÃ—dp[iâˆ’j])ã€‚ç”±äº j çš„å–å€¼èŒƒå›´æ˜¯ 1 åˆ° i ï¼Œéœ€è¦éå†æ‰€æœ‰çš„ j å¾—åˆ°dp[i]çš„</li>
</ul>
</li>
</ul>
</li>
<li>åˆå§‹åŒ–çŠ¶æ€<br>0 ä¸æ˜¯æ­£æ•´æ•°ï¼Œ1 æ˜¯æœ€å°çš„æ­£æ•´æ•°ï¼Œ0 å’Œ 1 éƒ½ä¸èƒ½æ‹†åˆ†ï¼Œå› æ­¤ dp[0]&#x3D;dp[1]&#x3D;0ã€‚</li>
<li>éå†é¡ºåº<br>ç”±çŠ¶æ€è½¬ç§»æ–¹ç¨‹çŸ¥é“dp[i] æ˜¯ä» jÃ—(iâˆ’j)å’ŒjÃ—dp[iâˆ’j] ä¸”j çš„å–å€¼èŒƒå›´æ˜¯ 1 åˆ° iâˆ’1 ï¼Œéœ€è¦éå†æ‰€æœ‰çš„ j å¾—åˆ°dp[i]æ‰€ä»¥ä»å‰å¾€åéå†ã€‚</li>
<li>è¿”å›å€¼<br>æœ€ç»ˆå¾—åˆ°dp[n]çš„å€¼å³ä¸ºå°†é•¿åº¦ä¸ºnçš„ç»³å­æ‹†åˆ†æˆè‡³å°‘ä¸¤æ®µç»³å­ä¹‹åï¼Œè¿™äº›ç»³å­é•¿åº¦çš„æœ€å¤§ä¹˜ç§¯ã€‚</li>
</ol>
<p>å†ä¼˜åŒ–ä¸€ä¸‹ï¼šéå†jçš„æ—¶å€™åªéœ€è¦éå†è‡³ç»³å­é•¿åº¦çš„ä¸€åŠå³å¯</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">cuttingRope</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">    <span class="comment">// é•¿åº¦ä¸º i çš„ç»³å­å‰ªæˆè‡³å°‘ä¸¤æ®µç»³å­ä¹‹åï¼Œè¿™äº›ç»³å­é•¿åº¦çš„æœ€å¤§ä¹˜ç§¯</span></span><br><span class="line">    <span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[n + <span class="number">1</span>];</span><br><span class="line">    dp[<span class="number">2</span>] = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">3</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">1</span>; j &lt; i / <span class="number">2</span>; j++) &#123;</span><br><span class="line">            dp[i] = Math.max(dp[i], Math.max(j * (i - j), dp[i - j] * j));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[n];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong></p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼šO(n ^ 2)</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼šO(n)</li>
</ul>
<h3 id="4ã€å‰‘æŒ‡-Offer-14-II-å‰ªç»³å­-II"><a href="#4ã€å‰‘æŒ‡-Offer-14-II-å‰ªç»³å­-II" class="headerlink" title="4ã€å‰‘æŒ‡ Offer 14- II. å‰ªç»³å­ II"></a>4ã€å‰‘æŒ‡ Offer 14- II. å‰ªç»³å­ II</h3><p>ç»™ä½ ä¸€æ ¹é•¿åº¦ä¸º <code>n</code> çš„ç»³å­ï¼Œè¯·æŠŠç»³å­å‰ªæˆæ•´æ•°é•¿åº¦çš„ <code>m</code> æ®µï¼ˆmã€néƒ½æ˜¯æ•´æ•°ï¼Œn&gt;1å¹¶ä¸”m&gt;1ï¼‰ï¼Œæ¯æ®µç»³å­çš„é•¿åº¦è®°ä¸º <code>k[0],k[1]...k[m - 1]</code> ã€‚è¯·é—® <code>k[0]*k[1]*...*k[m - 1]</code> å¯èƒ½çš„æœ€å¤§ä¹˜ç§¯æ˜¯å¤šå°‘ï¼Ÿä¾‹å¦‚ï¼Œå½“ç»³å­çš„é•¿åº¦æ˜¯8æ—¶ï¼Œæˆ‘ä»¬æŠŠå®ƒå‰ªæˆé•¿åº¦åˆ†åˆ«ä¸º2ã€3ã€3çš„ä¸‰æ®µï¼Œæ­¤æ—¶å¾—åˆ°çš„æœ€å¤§ä¹˜ç§¯æ˜¯18ã€‚</p>
<p>ç­”æ¡ˆéœ€è¦å–æ¨¡ 1e9+7ï¼ˆ1000000007ï¼‰ï¼Œå¦‚è®¡ç®—åˆå§‹ç»“æœä¸ºï¼š1000000008ï¼Œè¯·è¿”å› 1ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: 2</span><br><span class="line">è¾“å‡º: 1</span><br><span class="line">è§£é‡Š: 2 = 1 + 1, 1 Ã— 1 = 1</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: 10</span><br><span class="line">è¾“å‡º: 36</span><br><span class="line">è§£é‡Š: 10 = 3 + 3 + 4, 3 Ã— 3 Ã— 4 = 36</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>2 &lt;= n &lt;= 1000</code></li>
</ul>
<p>æ³¨æ„ï¼šæœ¬é¢˜ä¸ä¸»ç«™ 343 é¢˜ç›¸åŒï¼š<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/integer-break/">https://leetcode-cn.com/problems/integer-break/</a></p>
<p>Related Topics</p>
<p>æ•°å­¦</p>
<p>åŠ¨æ€è§„åˆ’</p>
<p>ğŸ‘ 221</p>
<p>ğŸ‘ 0</p>
<h4 id="æ•°å­¦"><a href="#æ•°å­¦" class="headerlink" title="æ•°å­¦"></a>æ•°å­¦</h4><p><strong>åˆ‡åˆ†è§„åˆ™</strong>ï¼š</p>
<ol>
<li>æœ€ä¼˜ï¼š 3 ã€‚æŠŠç»³å­å°½å¯èƒ½åˆ‡ä¸ºå¤šä¸ªé•¿åº¦ä¸º 3 çš„ç‰‡æ®µï¼Œç•™ä¸‹çš„æœ€åä¸€æ®µç»³å­çš„é•¿åº¦å¯èƒ½ä¸º 0,1,2 ä¸‰ç§æƒ…å†µã€‚</li>
<li>æ¬¡ä¼˜ï¼š 2 ã€‚è‹¥æœ€åä¸€æ®µç»³å­é•¿åº¦ä¸º 2 ï¼›åˆ™ä¿ç•™ï¼Œä¸å†æ‹†ä¸º 1+1 ã€‚</li>
<li>æœ€å·®ï¼š 1 ã€‚è‹¥æœ€åä¸€æ®µç»³å­é•¿åº¦ä¸º 1 ï¼›åˆ™åº”æŠŠä¸€ä»½ 3 + 1 æ›¿æ¢ä¸º 2 + 2ï¼Œå› ä¸º 2Ã—2 &gt; 3Ã—1ã€‚</li>
</ol>
<p><strong>ç®—æ³•æµç¨‹</strong>ï¼š</p>
<ol>
<li>å½“ n â‰¤ 3 æ—¶ï¼ŒæŒ‰ç…§è§„åˆ™åº”ä¸åˆ‡åˆ†ï¼Œä½†ç”±äºé¢˜ç›®è¦æ±‚å¿…é¡»å‰ªæˆ m &gt; 1 æ®µï¼Œå› æ­¤å¿…é¡»å‰ªå‡ºä¸€æ®µé•¿åº¦ä¸º 1 çš„ç»³å­ï¼Œå³è¿”å› n - 1 ã€‚</li>
<li>å½“ n &gt; 3 æ—¶ï¼Œæ±‚ n é™¤ä»¥ 3 çš„ æ•´æ•°éƒ¨åˆ† a å’Œ ä½™æ•°éƒ¨åˆ† b ï¼ˆå³ n &#x3D; 3a + b ï¼‰ï¼Œå¹¶åˆ†ä¸ºä»¥ä¸‹ä¸‰ç§æƒ…å†µï¼ˆè®¾æ±‚ä½™æ“ä½œç¬¦å·ä¸º â€œâŠ™â€ ï¼‰ï¼š<ul>
<li>å½“ b &#x3D; 0 æ—¶ï¼Œç›´æ¥è¿”å› 3 ^ a âŠ™ 1000000007ï¼›</li>
<li>å½“ b &#x3D; 1 æ—¶ï¼Œè¦å°†ä¸€ä¸ª 1 + 3 è½¬æ¢ä¸º 2 + 2ï¼Œå› æ­¤è¿”å› 3^(aâˆ’1) Ã— 4 âŠ™ 1000000007ï¼›</li>
<li>å½“ b &#x3D; 2b&#x3D;2 æ—¶ï¼Œè¿”å› 3^a Ã— 2 âŠ™ 1000000007ã€‚</li>
</ul>
</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1f9adeaa7b9fff0ab19c9d29e3a8f98749011d22dc162d67bdbe223f1a38119f-Picture1-16715070085052.png" alt="Picture1.png"></p>
<p><strong>å¤§æ•°æ±‚ä½™è§£æ³•</strong>ï¼š</p>
<p><strong>å¤§æ•°è¶Šç•Œ</strong>ï¼š å½“ a å¢å¤§æ—¶ï¼Œæœ€åè¿”å›çš„ 3^a å¤§å°ä»¥æŒ‡æ•°çº§åˆ«å¢é•¿ï¼Œå¯èƒ½è¶…å‡º int32 ç”šè‡³ int64 çš„å–å€¼èŒƒå›´ï¼Œå¯¼è‡´è¿”å›å€¼é”™è¯¯ã€‚</p>
<p><strong>å¤§æ•°æ±‚ä½™é—®é¢˜</strong>ï¼š åœ¨ä»…ä½¿ç”¨ int32 ç±»å‹å­˜å‚¨çš„å‰æä¸‹ï¼Œæ­£ç¡®è®¡ç®— x^a å¯¹ p æ±‚ä½™ï¼ˆå³ x^a âŠ™p ï¼‰çš„å€¼ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š å¾ªç¯æ±‚ä½™ ã€ å¿«é€Ÿå¹‚æ±‚ä½™ ï¼Œå…¶ä¸­åè€…çš„æ—¶é—´å¤æ‚åº¦æ›´ä½ï¼Œä¸¤ç§æ–¹æ³•å‡åŸºäºä»¥ä¸‹æ±‚ä½™è¿ç®—è§„åˆ™æ¨å‡ºï¼š<br>(xy)âŠ™p&#x3D;[(xâŠ™p)(yâŠ™p)]âŠ™p</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/image-20221220113438247.png" alt="image-20221220113438247"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/image-20221220113610097.png" alt="image-20221220113610097"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/image-20221220113729433.png" alt="image-20221220113729433"></p>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<blockquote>
<p>ä»¥ä¸‹ä¸º äºŒåˆ†æ±‚ä½™æ³• çš„å¤æ‚åº¦ã€‚</p>
</blockquote>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(logN) ï¼š å…¶ä¸­ N&#x3D;a ï¼ŒäºŒåˆ†æ³•ä¸ºå¯¹æ•°çº§åˆ«å¤æ‚åº¦ï¼Œæ¯è½®ä»…æœ‰æ±‚æ•´ã€æ±‚ä½™ã€æ¬¡æ–¹è¿ç®—ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(1) ï¼š å˜é‡ a, b, p, x, rem ä½¿ç”¨å¸¸æ•°å¤§å°é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<p>Java&#x2F;C++ ä»£ç ï¼š æ ¹æ®äºŒåˆ†æ³•è®¡ç®—åŸç†ï¼Œè‡³å°‘è¦ä¿è¯å˜é‡ x å’Œ rem å¯ä»¥æ­£ç¡®å­˜å‚¨ 1000000007^2ï¼Œè€Œ 2^64 &gt; 1000000007^2 &gt; 2^32ï¼Œå› æ­¤æˆ‘ä»¬é€‰å– long ç±»å‹ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">cuttingRope</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(n &lt;= <span class="number">3</span>) <span class="keyword">return</span> n - <span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> n % <span class="number">3</span>, p = <span class="number">1000000007</span>;</span><br><span class="line">        <span class="type">long</span> <span class="variable">rem</span> <span class="operator">=</span> <span class="number">1</span>, x = <span class="number">3</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> n / <span class="number">3</span> - <span class="number">1</span>; a &gt; <span class="number">0</span>; a /= <span class="number">2</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span>(a % <span class="number">2</span> == <span class="number">1</span>) rem = (rem * x) % p;</span><br><span class="line">            x = (x * x) % p;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(b == <span class="number">0</span>) <span class="keyword">return</span> (<span class="type">int</span>)(rem * <span class="number">3</span> % p);</span><br><span class="line">        <span class="keyword">if</span>(b == <span class="number">1</span>) <span class="keyword">return</span> (<span class="type">int</span>)(rem * <span class="number">4</span> % p);</span><br><span class="line">        <span class="keyword">return</span> (<span class="type">int</span>)(rem * <span class="number">6</span> % p);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="åŠ¨æ€è§„åˆ’-5"><a href="#åŠ¨æ€è§„åˆ’-5" class="headerlink" title="åŠ¨æ€è§„åˆ’"></a>åŠ¨æ€è§„åˆ’</h4><p>ç”¨BigInteger</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.math.BigInteger;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">cuttingRope</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">        BigInteger[] dp = <span class="keyword">new</span> <span class="title class_">BigInteger</span>[n + <span class="number">1</span>];</span><br><span class="line">         Arrays.fill(dp, BigInteger.valueOf(<span class="number">1</span>));</span><br><span class="line">        <span class="comment">// dp[1] = BigInteger.valueOf(1);</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">3</span>; i &lt; n + <span class="number">1</span>; i++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">1</span>; j &lt; i; j++)&#123;</span><br><span class="line">                dp[i] = dp[i].max(BigInteger.valueOf(j * (i - j))).max(dp[i - j].multiply(BigInteger.valueOf(j)));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[n].mod(BigInteger.valueOf(<span class="number">1000000007</span>)).intValue();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5ã€å‰‘æŒ‡-Offer-57-II-å’Œä¸º-s-çš„è¿ç»­æ­£æ•°åºåˆ—"><a href="#5ã€å‰‘æŒ‡-Offer-57-II-å’Œä¸º-s-çš„è¿ç»­æ­£æ•°åºåˆ—" class="headerlink" title="5ã€å‰‘æŒ‡ Offer 57 - II. å’Œä¸º s çš„è¿ç»­æ­£æ•°åºåˆ—"></a>5ã€å‰‘æŒ‡ Offer 57 - II. å’Œä¸º s çš„è¿ç»­æ­£æ•°åºåˆ—</h3><p>è¾“å…¥ä¸€ä¸ªæ­£æ•´æ•° <code>target</code> ï¼Œè¾“å‡ºæ‰€æœ‰å’Œä¸º <code>target</code> çš„è¿ç»­æ­£æ•´æ•°åºåˆ—ï¼ˆè‡³å°‘å«æœ‰ä¸¤ä¸ªæ•°ï¼‰ã€‚</p>
<p>åºåˆ—å†…çš„æ•°å­—ç”±å°åˆ°å¤§æ’åˆ—ï¼Œä¸åŒåºåˆ—æŒ‰ç…§é¦–ä¸ªæ•°å­—ä»å°åˆ°å¤§æ’åˆ—ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼štarget = 9</span><br><span class="line">è¾“å‡ºï¼š[[2,3,4],[4,5]]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼štarget = 15</span><br><span class="line">è¾“å‡ºï¼š[[1,2,3,4,5],[4,5,6],[7,8]]</span><br></pre></td></tr></table></figure>



<p><strong>é™åˆ¶ï¼š</strong></p>
<ul>
<li><code>1 &lt;= target &lt;= 10^5</code></li>
</ul>
<p>Related Topics</p>
<p>æ•°å­¦</p>
<p>åŒæŒ‡é’ˆ</p>
<p>æšä¸¾</p>
<p>ğŸ‘ 495</p>
<p>ğŸ‘ 0</p>
<h4 id="åŒæŒ‡é’ˆ-1"><a href="#åŒæŒ‡é’ˆ-1" class="headerlink" title="åŒæŒ‡é’ˆ"></a>åŒæŒ‡é’ˆ</h4><p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>åˆ©ç”¨åŒæŒ‡é’ˆç»´æŠ¤ä¸€ä¸ªåŒºé—´æ¥è®¡ç®—å’Œå€¼ï¼Œæ ¹æ® å’Œå€¼ ä¸ target çš„å¤§å°ï¼Œæ¥å¢ç¼©åŒºé—´ã€‚å½“ å’Œå€¼ å’Œ target ç›¸ç­‰æ—¶ï¼ŒæŠŠæ•°ç»„åŠ å…¥åˆ°ç»“æœé›†ã€‚ </p>
<p>ç®—æ³•æµç¨‹ï¼š</p>
<ol>
<li><p>å½“ target &lt;&#x3D; 2 æ—¶ï¼Œä¸æ»¡è¶³é¢˜æ„ï¼Œç›´æ¥è¿”å›ã€‚</p>
</li>
<li><p>slow è¡¨ç¤ºå·¦è¾¹ç•Œï¼Œ faster è¡¨ç¤ºæœ‰åŒºé—´, sum ç»´æŠ¤åŒºé—´çš„å’Œå€¼ã€‚å½“ slow &lt; faster å¹¶ä¸”  faster &lt;&#x3D; target &#x2F; 2 + 1å¼€å§‹æœç´¢ã€‚</p>
</li>
<li><p>sum &lt; target æ‰©å³åŒºé—´, faster++, sum +&#x3D; faster;</p>
</li>
<li><p>sum &gt; target ç¼©å·¦åŒºé—´, sum -&#x3D; slow,slow++ï¼›</p>
</li>
<li><p>è®°å½•æ•°ç»„</p>
</li>
<li><p>è¿”å›resã€‚</p>
</li>
</ol>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦O(N)</li>
<li>ç©ºé—´å¤æ‚åº¦O(N)</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span>[][] findContinuousSequence(<span class="type">int</span> target) &#123;</span><br><span class="line">    <span class="keyword">if</span> (target &lt;= <span class="number">2</span>) <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">int</span>[][] &#123;&#125;;</span><br><span class="line">    List&lt;<span class="type">int</span>[]&gt; res = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    <span class="type">int</span> <span class="variable">slow</span> <span class="operator">=</span> <span class="number">1</span>; <span class="comment">// å·¦è¾¹ç•Œ</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">faster</span> <span class="operator">=</span> <span class="number">2</span>; <span class="comment">// å³è¾¹ç•Œ</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">3</span>;  <span class="comment">// ç»´æŠ¤çš„åŒºé—´çš„å’Œ</span></span><br><span class="line">    <span class="keyword">while</span> (faster &lt;= target / <span class="number">2</span> + <span class="number">1</span> &amp;&amp; slow &lt; faster) &#123;</span><br><span class="line">        <span class="keyword">if</span> (sum &lt; target) &#123; <span class="comment">// æ‰©å³åŒºé—´</span></span><br><span class="line">            sum += ++faster;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (sum &gt; target) &#123; <span class="comment">// ç¼©å·¦åŒºé—´</span></span><br><span class="line">            sum -= slow++;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123; <span class="comment">// åŠ å…¥æ•°ç»„</span></span><br><span class="line">            <span class="type">int</span>[] temp = <span class="keyword">new</span> <span class="title class_">int</span>[faster - slow + <span class="number">1</span>];</span><br><span class="line">            temp[<span class="number">0</span>] = slow;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; temp.length; i++) &#123;</span><br><span class="line">                temp[i] = temp[i - <span class="number">1</span>] + <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            res.add(temp);</span><br><span class="line">            sum -= slow++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res.toArray(<span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">0</span>][]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="æ•°å­¦-1"><a href="#æ•°å­¦-1" class="headerlink" title="æ•°å­¦"></a>æ•°å­¦</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/image-20221222112119650.png" alt="image-20221222112119650"></p>
<blockquote>
<p>å½“ target &#x3D; 9 æ—¶ï¼Œä»¥ä¸Šæ±‚è§£æµç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1611494538-VUzxtS-Picture1.png" alt="Picture1.png"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/image-20221222112427812.png" alt="image-20221222112427812"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[][] findContinuousSequence(<span class="type">int</span> target) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">        <span class="type">double</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">2.0</span>;</span><br><span class="line">        List&lt;<span class="type">int</span>[]&gt; res = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">while</span>(i &lt; j) &#123;</span><br><span class="line">            j = (-<span class="number">1</span> + Math.sqrt(<span class="number">1</span> + <span class="number">4</span> * (<span class="number">2</span> * target + (<span class="type">long</span>) i * i - i))) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span>(j == (<span class="type">int</span>)j) &#123;</span><br><span class="line">                <span class="type">int</span>[] ans = <span class="keyword">new</span> <span class="title class_">int</span>[(<span class="type">int</span>)j - i + <span class="number">1</span>];</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> i; k &lt;= (<span class="type">int</span>)j; k++)</span><br><span class="line">                    ans[k - i] = k;</span><br><span class="line">                res.add(ans);</span><br><span class="line">            &#125;</span><br><span class="line">            i++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res.toArray(<span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">0</span>][]);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="6ã€å‰‘æŒ‡-Offer-62-åœ†åœˆä¸­æœ€åå‰©ä¸‹çš„æ•°å­—"><a href="#6ã€å‰‘æŒ‡-Offer-62-åœ†åœˆä¸­æœ€åå‰©ä¸‹çš„æ•°å­—" class="headerlink" title="6ã€å‰‘æŒ‡ Offer 62. åœ†åœˆä¸­æœ€åå‰©ä¸‹çš„æ•°å­—"></a>6ã€å‰‘æŒ‡ Offer 62. åœ†åœˆä¸­æœ€åå‰©ä¸‹çš„æ•°å­—</h3><p>0,1,Â·Â·Â·,n-1è¿™nä¸ªæ•°å­—æ’æˆä¸€ä¸ªåœ†åœˆï¼Œä»æ•°å­—0å¼€å§‹ï¼Œæ¯æ¬¡ä»è¿™ä¸ªåœ†åœˆé‡Œåˆ é™¤ç¬¬mä¸ªæ•°å­—ï¼ˆåˆ é™¤åä»ä¸‹ä¸€ä¸ªæ•°å­—å¼€å§‹è®¡æ•°ï¼‰ã€‚æ±‚å‡ºè¿™ä¸ªåœ†åœˆé‡Œå‰©ä¸‹çš„æœ€åä¸€ä¸ªæ•°å­—ã€‚</p>
<p>ä¾‹å¦‚ï¼Œ0ã€1ã€2ã€3ã€4è¿™5ä¸ªæ•°å­—ç»„æˆä¸€ä¸ªåœ†åœˆï¼Œä»æ•°å­—0å¼€å§‹æ¯æ¬¡åˆ é™¤ç¬¬3ä¸ªæ•°å­—ï¼Œåˆ™åˆ é™¤çš„å‰4ä¸ªæ•°å­—ä¾æ¬¡æ˜¯2ã€0ã€4ã€1ï¼Œå› æ­¤æœ€åå‰©ä¸‹çš„æ•°å­—æ˜¯3ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: n = 5, m = 3</span><br><span class="line">è¾“å‡º: 3</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: n = 10, m = 17</span><br><span class="line">è¾“å‡º: 2</span><br></pre></td></tr></table></figure>



<p><strong>é™åˆ¶ï¼š</strong></p>
<ul>
<li><code>1 &lt;= n &lt;= 10^5</code></li>
<li><code>1 &lt;= m &lt;= 10^6</code></li>
</ul>
<p>Related Topics</p>
<p>é€’å½’</p>
<p>æ•°å­¦</p>
<p>ğŸ‘ 716</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>æ¨¡æ‹Ÿæ•´ä¸ªåˆ é™¤è¿‡ç¨‹æœ€ç›´è§‚ï¼Œå³æ„å»ºä¸€ä¸ªé•¿åº¦ä¸º n çš„é“¾è¡¨ï¼Œå„èŠ‚ç‚¹å€¼ä¸ºå¯¹åº”çš„é¡ºåºç´¢å¼•ï¼›æ¯è½®åˆ é™¤ç¬¬ m ä¸ªèŠ‚ç‚¹ï¼Œç›´è‡³é“¾è¡¨é•¿åº¦ä¸º 1 æ—¶ç»“æŸï¼Œè¿”å›æœ€åå‰©ä½™èŠ‚ç‚¹çš„å€¼å³å¯ã€‚</p>
<p>æ¨¡æ‹Ÿæ³•éœ€è¦å¾ªç¯åˆ é™¤ n - 1 è½®ï¼Œæ¯è½®åœ¨é“¾è¡¨ä¸­å¯»æ‰¾åˆ é™¤èŠ‚ç‚¹éœ€è¦ m æ¬¡è®¿é—®æ“ä½œï¼ˆé“¾è¡¨çº¿æ€§éå†ï¼‰ï¼Œå› æ­¤æ€»ä½“æ—¶é—´å¤æ‚åº¦ä¸º O(nm) ã€‚é¢˜ç›®ç»™å®šçš„ m, n å–å€¼èŒƒå›´å¦‚ä¸‹æ‰€ç¤ºï¼Œè§‚å¯Ÿå¯çŸ¥æ­¤æ—¶é—´å¤æ‚åº¦æ˜¯ä¸å¯æ¥å—çš„ã€‚<br>                                1â‰¤nâ‰¤10 ^5</p>
<p>â€‹								1â‰¤mâ‰¤10 ^6</p>
<blockquote>
<p>å®é™…ä¸Šï¼Œæœ¬é¢˜æ˜¯è‘—åçš„ â€œçº¦ç‘Ÿå¤«ç¯â€ é—®é¢˜ï¼Œå¯ä½¿ç”¨ <strong>åŠ¨æ€è§„åˆ’</strong> è§£å†³ã€‚</p>
</blockquote>
<p>è¾“å…¥ n, m ï¼Œè®°æ­¤çº¦ç‘Ÿå¤«ç¯é—®é¢˜ä¸º ã€Œn, m é—®é¢˜ã€ ï¼Œè®¾è§£ï¼ˆå³æœ€åç•™ä¸‹çš„æ•°å­—ï¼‰ä¸º f(n) ï¼Œåˆ™æœ‰ï¼š</p>
<ul>
<li>ã€Œn, m é—®é¢˜ã€ï¼šæ•°å­—ç¯ä¸º 0, 1, 2, â€¦, n - 1 ï¼Œè§£ä¸º f(n)ï¼›</li>
<li>ã€Œn-1, m é—®é¢˜ã€ï¼šæ•°å­—ç¯ä¸º 0, 1, 2, â€¦, n - 2 ï¼Œè§£ä¸º f(n-1) ï¼›<br>ä»¥æ­¤ç±»æ¨â€¦â€¦</li>
</ul>
<p>è¯·æ³¨æ„ï¼Œæ•°å­—ç¯æ˜¯ <strong>é¦–å°¾ç›¸æ¥</strong> çš„ï¼Œä¸ºæ–¹ä¾¿è¡Œæ–‡ï¼Œæœ¬æ–‡ä½¿ç”¨åˆ—è¡¨å½¢å¼è¡¨ç¤ºã€‚</p>
<p>å¯¹äºã€Œn, m é—®é¢˜ã€ï¼Œé¦–è½®åˆ é™¤ç¯ä¸­ç¬¬ m ä¸ªæ•°å­—åï¼Œå¾—åˆ°ä¸€ä¸ªé•¿åº¦ä¸º n - 1 çš„æ•°å­—ç¯ã€‚ç”±äºæœ‰å¯èƒ½ m &gt; n ï¼Œå› æ­¤åˆ é™¤çš„æ•°å­—ä¸º (m - 1) % n ï¼Œåˆ é™¤åçš„æ•°å­—ç¯ä»ä¸‹ä¸ªæ•°å­—ï¼ˆå³ m % nï¼‰å¼€å§‹ï¼Œè®¾ t &#x3D; m % n ï¼Œå¯å¾—æ•°å­—ç¯ï¼š</p>
<p>t, t + 1, t + 2, â€¦, 0, 1, â€¦, t - 3, t - 2</p>
<p>åˆ é™¤ä¸€è½®åçš„æ•°å­—ç¯ä¹Ÿå˜ä¸ºä¸€ä¸ªã€Œn-1, m é—®é¢˜ã€ï¼Œè§‚å¯Ÿä»¥ä¸‹æ•°å­—ç¼–å·å¯¹åº”å…³ç³»ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/image-20221222113836052.png" alt="image-20221222113836052"></p>
<p>è®¾ã€Œn-1, m é—®é¢˜ã€æŸæ•°å­—ä¸º x ï¼Œåˆ™å¯å¾—é€’æ¨å…³ç³»ï¼š<br>                                xâ†’(x+t)%n</p>
<p>æ¢è€Œè¨€ä¹‹ï¼Œè‹¥å·²çŸ¥ã€Œn-1, m é—®é¢˜ã€çš„è§£ f(n - 1) ï¼Œåˆ™å¯é€šè¿‡ä»¥ä¸Šå…¬å¼è®¡ç®—å¾—åˆ°ã€Œn, m é—®é¢˜ã€çš„è§£ f(n) ï¼Œå³ï¼š<br>f(n)&#x3D;(f(nâˆ’1)+t)%n<br>    &#x3D;(f(nâˆ’1)+m%n)%n<br>    &#x3D;(f(nâˆ’1)+m)%n</p>
<blockquote>
<p>ä»¥ n &#x3D; 5 , m &#x3D; 3 çš„ç¤ºä¾‹å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1615096532-kUoKUe-Picture1.png" alt="Picture1.png"></p>
<p>f(n) å¯ç”± f(n - 1) å¾—åˆ°ï¼Œf(n - 1) å¯ç”± f(n - 2) å¾—åˆ°ï¼Œâ€¦â€¦ï¼Œf(2) å¯ç”± f(1) å¾—åˆ°ï¼›å› æ­¤ï¼Œè‹¥ç»™å®š f(1) çš„å€¼ï¼Œå°±å¯ä»¥é€’æ¨è‡³ä»»æ„ f(n) ã€‚è€Œã€Œ1, m é—®é¢˜ã€çš„è§£ f(1) &#x3D; 0 æ’æˆç«‹ï¼Œå³æ— è®º m ä¸ºä½•å€¼ï¼Œé•¿åº¦ä¸º 1 çš„æ•°å­—ç¯ç•™ä¸‹çš„æ˜¯ä¸€å®šæ˜¯æ•°å­— 0 ã€‚</p>
<blockquote>
<p>ä»¥ä¸Šæ•°å­¦æ¨å¯¼æœ¬è´¨æ˜¯å¾—å‡ºåŠ¨æ€è§„åˆ’çš„ è½¬ç§»æ–¹ç¨‹ å’Œ åˆå§‹çŠ¶æ€ ã€‚</p>
</blockquote>
<p><strong>åŠ¨æ€è§„åˆ’è§£æ</strong>ï¼š</p>
<ol>
<li><p>çŠ¶æ€å®šä¹‰ï¼š è®¾ã€Œi, m é—®é¢˜ã€çš„è§£ä¸º dp[i] ï¼›</p>
</li>
<li><p>è½¬ç§»æ–¹ç¨‹ï¼š é€šè¿‡ä»¥ä¸‹å…¬å¼å¯ä» dp[i - 1] é€’æ¨å¾—åˆ° dp[i] ï¼›dp[i] &#x3D; (dp[i - 1] + m) % i</p>
</li>
<li><p>åˆå§‹çŠ¶æ€ï¼šã€Œ1, m é—®é¢˜ã€çš„è§£æ’ä¸º 0 ï¼Œå³ dp[1] &#x3D; 0 ï¼›</p>
</li>
<li><p>è¿”å›å€¼ï¼š è¿”å›ã€Œn, m é—®é¢˜ã€çš„è§£ dp[n] ï¼›</p>
</li>
</ol>
<blockquote>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œä¸º n &#x3D; 5 , m &#x3D; 3 æ—¶çš„çŠ¶æ€è½¬ç§»å’Œå¯¹åº”çš„æ¨¡æ‹Ÿåˆ é™¤è¿‡ç¨‹ã€‚</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1613584667-AQpTlK-Picture2.png" alt="Picture2.png"></p>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(n) ï¼š çŠ¶æ€è½¬ç§»å¾ªç¯ n - 1 æ¬¡ä½¿ç”¨ O(n) æ—¶é—´ï¼ŒçŠ¶æ€è½¬ç§»æ–¹ç¨‹è®¡ç®—ä½¿ç”¨ O(1) æ—¶é—´ï¼›</li>
<li>ç©ºé—´å¤æ‚åº¦ O(1) ï¼š ä½¿ç”¨å¸¸æ•°å¤§å°çš„é¢å¤–ç©ºé—´ï¼›</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">lastRemaining</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span> m)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">2</span>; i &lt;= n; i++) &#123;</span><br><span class="line">            x = (x + m) % i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="7ã€å‰‘æŒ‡-Offer-43-1ï½n-æ•´æ•°ä¸­-1-å‡ºç°çš„æ¬¡æ•°"><a href="#7ã€å‰‘æŒ‡-Offer-43-1ï½n-æ•´æ•°ä¸­-1-å‡ºç°çš„æ¬¡æ•°" class="headerlink" title="7ã€å‰‘æŒ‡ Offer 43. 1ï½n æ•´æ•°ä¸­ 1 å‡ºç°çš„æ¬¡æ•°"></a>7ã€å‰‘æŒ‡ Offer 43. 1ï½n æ•´æ•°ä¸­ 1 å‡ºç°çš„æ¬¡æ•°</h3><p>è¾“å…¥ä¸€ä¸ªæ•´æ•° <code>n</code> ï¼Œæ±‚1ï½nè¿™nä¸ªæ•´æ•°çš„åè¿›åˆ¶è¡¨ç¤ºä¸­1å‡ºç°çš„æ¬¡æ•°ã€‚</p>
<p>ä¾‹å¦‚ï¼Œè¾“å…¥12ï¼Œ1ï½12è¿™äº›æ•´æ•°ä¸­åŒ…å«1 çš„æ•°å­—æœ‰1ã€10ã€11å’Œ12ï¼Œ1ä¸€å…±å‡ºç°äº†5æ¬¡ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = 12</span><br><span class="line">è¾“å‡ºï¼š5</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = 13</span><br><span class="line">è¾“å‡ºï¼š6</span><br></pre></td></tr></table></figure>



<p><strong>é™åˆ¶ï¼š</strong></p>
<ul>
<li><code>1 &lt;= n &lt; 2^31</code></li>
</ul>
<p>æ³¨æ„ï¼šæœ¬é¢˜ä¸ä¸»ç«™ 233 é¢˜ç›¸åŒï¼š<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/number-of-digit-one/">https://leetcode-cn.com/problems/number-of-digit-one/</a></p>
<p>Related Topics</p>
<p>é€’å½’</p>
<p>æ•°å­¦</p>
<p>åŠ¨æ€è§„åˆ’</p>
<p>ğŸ‘ 387</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>å°† 1 ~ n çš„ä¸ªä½ã€åä½ã€ç™¾ä½ã€â€¦çš„ 1 å‡ºç°æ¬¡æ•°ç›¸åŠ ï¼Œå³ä¸º 1 å‡ºç°çš„æ€»æ¬¡æ•°ã€‚</p>
<p>è®¾æ•°å­— n æ˜¯ x ä½æ•°ï¼Œè®° n çš„ç¬¬ i ä½ä¸º ni  ï¼Œåˆ™å¯å°† n å†™ä¸º nx nx-1 â€¦n2 n1 ï¼›</p>
<p>æœ¬æ–‡åè¯è§„å®šå¦‚ä¸‹ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/image-20221224143843898.png" alt="image-20221224143843898"></p>
<p>æŸä½ä¸­ 1 å‡ºç°æ¬¡æ•°çš„è®¡ç®—æ–¹æ³•ï¼š</p>
<p>æ ¹æ®å½“å‰ä½ cur å€¼çš„ä¸åŒï¼Œåˆ†ä¸ºä»¥ä¸‹ä¸‰ç§æƒ…å†µï¼š</p>
<ol>
<li>å½“ cur &#x3D; 0 æ—¶ï¼š æ­¤ä½ 1 çš„å‡ºç°æ¬¡æ•°åªç”±é«˜ä½ high å†³å®šï¼Œè®¡ç®—å…¬å¼ä¸ºï¼š<br>highÃ—digit</li>
</ol>
<blockquote>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œä»¥ n &#x3D; 2304 ä¸ºä¾‹ï¼Œæ±‚ digit &#x3D; 10 ï¼ˆå³åä½ï¼‰çš„ 1 å‡ºç°æ¬¡æ•°ã€‚</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1599887431-cVmcVA-Picture1.png" alt="Picture1.png"></p>
<ol start="2">
<li>å½“ cur &#x3D; 1 æ—¶ï¼š æ­¤ä½ 1 çš„å‡ºç°æ¬¡æ•°ç”±é«˜ä½ high å’Œä½ä½ low å†³å®šï¼Œè®¡ç®—å…¬å¼ä¸ºï¼š</li>
</ol>
<p>high<em>Ã—</em>digit*+*low+1</p>
<blockquote>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œä»¥ n &#x3D; 2314 ä¸ºä¾‹ï¼Œæ±‚ digit &#x3D; 1 ï¼ˆå³åä½ï¼‰çš„ 1 å‡ºç°æ¬¡æ•°ã€‚</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1599887431-HAAvVp-Picture2.png" alt="Picture2.png"></p>
<ol start="3">
<li>å½“ cur &#x3D; 2, 3,â€¦, 9 æ—¶ï¼š æ­¤ä½ 1 çš„å‡ºç°æ¬¡æ•°åªç”±é«˜ä½ high å†³å®šï¼Œè®¡ç®—å…¬å¼ä¸ºï¼š</li>
</ol>
<p>(<em>high</em>+1)Ã—digit</p>
<blockquote>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œä»¥ n &#x3D; 2324 ä¸ºä¾‹ï¼Œæ±‚ digit &#x3D; 10 ï¼ˆå³åä½ï¼‰çš„ 1 å‡ºç°æ¬¡æ•°ã€‚</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1599887431-djUZTe-Picture3.png" alt="Picture3.png"></p>
<p>å˜é‡é€’æ¨å…¬å¼ï¼š<br>è®¾è®¡æŒ‰ç…§ â€œä¸ªä½ã€åä½ã€â€¦â€ çš„é¡ºåºè®¡ç®—ï¼Œåˆ™ high &#x2F; cur &#x2F; low &#x2F; digit åº”åˆå§‹åŒ–ä¸ºï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">high</span> <span class="operator">=</span> n / <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">cur</span> <span class="operator">=</span> n % <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">low</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">digit</span> <span class="operator">=</span> <span class="number">1</span>; <span class="comment">// ä¸ªä½</span></span><br></pre></td></tr></table></figure>

<p>å› æ­¤ï¼Œä»ä¸ªä½åˆ°æœ€é«˜ä½çš„å˜é‡é€’æ¨å…¬å¼ä¸ºï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span>(high != <span class="number">0</span> || cur != <span class="number">0</span>) &#123; <span class="comment">// å½“ high å’Œ cur åŒæ—¶ä¸º 0 æ—¶ï¼Œè¯´æ˜å·²ç»è¶Šè¿‡æœ€é«˜ä½ï¼Œå› æ­¤è·³å‡º</span></span><br><span class="line">    low += cur * digit; <span class="comment">// å°† cur åŠ å…¥ low ï¼Œç»„æˆä¸‹è½® low</span></span><br><span class="line">    cur = high % <span class="number">10</span>; <span class="comment">// ä¸‹è½® cur æ˜¯æœ¬è½® high çš„æœ€ä½ä½</span></span><br><span class="line">    high /= <span class="number">10</span>; <span class="comment">// å°†æœ¬è½® high æœ€ä½ä½åˆ é™¤ï¼Œå¾—åˆ°ä¸‹è½® high</span></span><br><span class="line">    digit *= <span class="number">10</span>; <span class="comment">// ä½å› å­æ¯è½® Ã— 10</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(logn) ï¼š å¾ªç¯å†…çš„è®¡ç®—æ“ä½œä½¿ç”¨ O(1) æ—¶é—´ï¼›å¾ªç¯æ¬¡æ•°ä¸ºæ•°å­— n çš„ä½æ•°ï¼Œå³ logn ï¼Œå› æ­¤å¾ªç¯ä½¿ç”¨ O(logn) æ—¶é—´ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(1)O(1) ï¼š å‡ ä¸ªå˜é‡ä½¿ç”¨å¸¸æ•°å¤§å°çš„é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1599886793-BBSKuG-Picture8.png" alt="img"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">countDigitOne</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">digit</span> <span class="operator">=</span> <span class="number">1</span>, res = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">high</span> <span class="operator">=</span> n / <span class="number">10</span>, cur = n % <span class="number">10</span>, low = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(high != <span class="number">0</span> || cur != <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span>(cur == <span class="number">0</span>) res += high * digit;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(cur == <span class="number">1</span>) res += high * digit + low + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span> res += (high + <span class="number">1</span>) * digit;</span><br><span class="line">            low += cur * digit;</span><br><span class="line">            cur = high % <span class="number">10</span>;</span><br><span class="line">            high /= <span class="number">10</span>;</span><br><span class="line">            digit *= <span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="8ã€å‰‘æŒ‡-Offer-44-æ•°å­—åºåˆ—ä¸­æŸä¸€ä½çš„æ•°å­—"><a href="#8ã€å‰‘æŒ‡-Offer-44-æ•°å­—åºåˆ—ä¸­æŸä¸€ä½çš„æ•°å­—" class="headerlink" title="8ã€å‰‘æŒ‡ Offer 44. æ•°å­—åºåˆ—ä¸­æŸä¸€ä½çš„æ•°å­—"></a>8ã€å‰‘æŒ‡ Offer 44. æ•°å­—åºåˆ—ä¸­æŸä¸€ä½çš„æ•°å­—</h3><p>æ•°å­—ä»¥0123456789101112131415â€¦çš„æ ¼å¼åºåˆ—åŒ–åˆ°ä¸€ä¸ªå­—ç¬¦åºåˆ—ä¸­ã€‚åœ¨è¿™ä¸ªåºåˆ—ä¸­ï¼Œç¬¬5ä½ï¼ˆä»ä¸‹æ ‡0å¼€å§‹è®¡æ•°ï¼‰æ˜¯5ï¼Œç¬¬13ä½æ˜¯1ï¼Œç¬¬19ä½æ˜¯4ï¼Œç­‰ç­‰ã€‚</p>
<p>è¯·å†™ä¸€ä¸ªå‡½æ•°ï¼Œæ±‚ä»»æ„ç¬¬nä½å¯¹åº”çš„æ•°å­—ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = 3</span><br><span class="line">è¾“å‡ºï¼š3</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = 11</span><br><span class="line">è¾“å‡ºï¼š0</span><br></pre></td></tr></table></figure>



<p><strong>é™åˆ¶ï¼š</strong></p>
<ul>
<li><code>0 &lt;= n &lt; 2^31</code></li>
</ul>
<p>æ³¨æ„ï¼šæœ¬é¢˜ä¸ä¸»ç«™ 400 é¢˜ç›¸åŒï¼š<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/nth-digit/">https://leetcode-cn.com/problems/nth-digit/</a></p>
<p>Related Topics</p>
<p>æ•°å­¦</p>
<p>äºŒåˆ†æŸ¥æ‰¾</p>
<p>ğŸ‘ 301</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>åè¯è§„å®šå¦‚ä¸‹ï¼š</p>
<ol>
<li>å°† 101112 â‹¯ ä¸­çš„æ¯ä¸€ä½ç§°ä¸º <strong>æ•°ä½</strong> ï¼Œè®°ä¸º n ï¼›</li>
<li>å°† 10, 11, 12, â‹¯ ç§°ä¸º <strong>æ•°å­—</strong> ï¼Œè®°ä¸º num ï¼›</li>
<li>æ•°å­— 10 æ˜¯ä¸€ä¸ªä¸¤ä½æ•°ï¼Œç§°æ­¤æ•°å­—çš„ <strong>ä½æ•°</strong> ä¸º 2 ï¼Œè®°ä¸º digit ï¼›</li>
<li>æ¯ digit ä½æ•°çš„èµ·å§‹æ•°å­—ï¼ˆå³ï¼š1, 10, 100, â‹¯ï¼‰ï¼Œè®°ä¸º start ï¼›</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1599888213-CYhLfm-Picture1.png" alt="Picture1.png"></p>
<p>è§‚å¯Ÿä¸Šè¡¨ï¼Œå¯æ¨å‡ºå„ digit ä¸‹çš„æ•°ä½æ•°é‡ count çš„è®¡ç®—å…¬å¼ï¼š<br>count&#x3D;9Ã—startÃ—digit</p>
<p>æ ¹æ®ä»¥ä¸Šåˆ†æï¼Œå¯å°†æ±‚è§£åˆ†ä¸ºä¸‰æ­¥ï¼š</p>
<ol>
<li><p>ç¡®å®š n æ‰€åœ¨ <strong>æ•°å­—</strong> çš„ <strong>ä½æ•°</strong> ï¼Œè®°ä¸º digit ï¼›</p>
</li>
<li><p>ç¡®å®š n æ‰€åœ¨çš„ <strong>æ•°å­—</strong> ï¼Œè®°ä¸º num ï¼›</p>
</li>
<li><p>ç¡®å®š n æ˜¯ num ä¸­çš„å“ªä¸€æ•°ä½ï¼Œå¹¶è¿”å›ç»“æœï¼›</p>
</li>
<li><p>ç¡®å®šæ‰€æ±‚æ•°ä½çš„æ‰€åœ¨æ•°å­—çš„ä½æ•°</p>
</li>
</ol>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå¾ªç¯æ‰§è¡Œ n å‡å» ä¸€ä½æ•°ã€ä¸¤ä½æ•°ã€â€¦ çš„æ•°ä½æ•°é‡ count ï¼Œç›´è‡³ n â‰¤ count æ—¶è·³å‡ºã€‚</p>
<p>ç”±äº n å·²ç»å‡å»äº†ä¸€ä½æ•°ã€ä¸¤ä½æ•°ã€â€¦ã€(digit-1) ä½æ•°çš„ æ•°ä½æ•°é‡ count ï¼Œå› è€Œæ­¤æ—¶çš„ n æ˜¯ä»èµ·å§‹æ•°å­— start å¼€å§‹è®¡æ•°çš„ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">digit</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line"><span class="type">long</span> <span class="variable">start</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line"><span class="type">long</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">9</span>;</span><br><span class="line"><span class="keyword">while</span> (n &gt; count) &#123;</span><br><span class="line">   n -= count;</span><br><span class="line">   start *= <span class="number">10</span>; <span class="comment">// 1, 10, 100, ...</span></span><br><span class="line">   digit += <span class="number">1</span>;  <span class="comment">// 1,  2,  3, ...</span></span><br><span class="line">   count = digit * start * <span class="number">9</span>; <span class="comment">// 9, 180, 2700, ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ç»“è®ºï¼š</strong> æ‰€æ±‚æ•°ä½ â‘  åœ¨æŸä¸ª digit ä½æ•°ä¸­ï¼› â‘¡ ä¸ºä»æ•°å­— start å¼€å§‹çš„ç¬¬ <em>n</em> ä¸ªæ•°ä½ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1599888496-HivJvS-Picture2.png" alt="Picture2.png"></p>
<ol start="2">
<li>ç¡®å®šæ‰€æ±‚æ•°ä½æ‰€åœ¨çš„æ•°å­—</li>
</ol>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæ‰€æ±‚æ•°ä½ åœ¨ä»æ•°å­— start å¼€å§‹çš„ç¬¬ [(n - 1) &#x2F; digit] ä¸ª æ•°å­— ä¸­ï¼ˆ start ä¸ºç¬¬ 0 ä¸ªæ•°å­—ï¼‰ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">long</span> <span class="variable">num</span> <span class="operator">=</span> start + (n - <span class="number">1</span>) / digit;</span><br></pre></td></tr></table></figure>

<p><strong>ç»“è®ºï¼š</strong> æ‰€æ±‚æ•°ä½åœ¨æ•°å­— num ä¸­ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1599888213-gCcnEA-Picture3.png" alt="Picture3.png"></p>
<ol start="3">
<li>ç¡®å®šæ‰€æ±‚æ•°ä½åœ¨ num çš„å“ªä¸€æ•°ä½</li>
</ol>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæ‰€æ±‚æ•°ä½ä¸ºæ•°å­— num çš„ç¬¬ (n - 1) % digit ä½ï¼ˆ æ•°å­—çš„é¦–ä¸ªæ•°ä½ä¸ºç¬¬ 0 ä½ï¼‰ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> Long.toString(num); <span class="comment">// è½¬åŒ–ä¸º string</span></span><br><span class="line"><span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> s.charAt((n - <span class="number">1</span>) % digit) - <span class="string">&#x27;0&#x27;</span>; <span class="comment">// è·å¾— num çš„ ç¬¬ (n - 1) % digit ä¸ªæ•°ä½ï¼Œå¹¶è½¬åŒ–ä¸º int</span></span><br></pre></td></tr></table></figure>

<p><strong>ç»“è®ºï¼š</strong> æ‰€æ±‚æ•°ä½æ˜¯ res ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1599888395-oeWGAH-Picture4.png" alt="Picture4.png"></p>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(logn) ï¼š æ‰€æ±‚æ•°ä½ n å¯¹åº”æ•°å­— num çš„ä½æ•° digit æœ€å¤§ä¸º O(logn) ï¼›ç¬¬ä¸€æ­¥æœ€å¤šå¾ªç¯ O(logn) æ¬¡ï¼›ç¬¬ä¸‰æ­¥ä¸­å°† num è½¬åŒ–ä¸ºå­—ç¬¦ä¸²ä½¿ç”¨ O(logn) æ—¶é—´ï¼›å› æ­¤æ€»ä½“ä¸º O(logn) ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(logn) ï¼š å°†æ•°å­— num è½¬åŒ–ä¸ºå­—ç¬¦ä¸² str(num) ï¼Œå ç”¨ O(logn) çš„é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1599888213-wmVktF-Picture5.png" alt="img"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1599888213-vPFqup-Picture6.png" alt="img"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1599888796-IlfLEc-Picture7.png" alt="img"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">findNthDigit</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">digit</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">        <span class="type">long</span> <span class="variable">start</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">        <span class="type">long</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">9</span>;</span><br><span class="line">        <span class="keyword">while</span> (n &gt; count) &#123; <span class="comment">// 1.</span></span><br><span class="line">            n -= count;</span><br><span class="line">            start *= <span class="number">10</span>;</span><br><span class="line">            digit += <span class="number">1</span>;</span><br><span class="line">            count = digit * start * <span class="number">9</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">long</span> <span class="variable">num</span> <span class="operator">=</span> start + (n - <span class="number">1</span>) / digit; <span class="comment">// 2.</span></span><br><span class="line">        <span class="keyword">return</span> Long.toString(num).charAt((n - <span class="number">1</span>) % digit) - <span class="string">&#x27;0&#x27;</span>; <span class="comment">// 3.</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="9ã€LC1759-ç»Ÿè®¡åŒæ„å­å­—ç¬¦ä¸²çš„æ•°ç›®"><a href="#9ã€LC1759-ç»Ÿè®¡åŒæ„å­å­—ç¬¦ä¸²çš„æ•°ç›®" class="headerlink" title="9ã€LC1759. ç»Ÿè®¡åŒæ„å­å­—ç¬¦ä¸²çš„æ•°ç›®"></a>9ã€LC1759. ç»Ÿè®¡åŒæ„å­å­—ç¬¦ä¸²çš„æ•°ç›®</h3><p>ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² <code>s</code> ï¼Œè¿”å› <code>s</code> ä¸­ <strong>åŒæ„å­å­—ç¬¦ä¸²</strong> çš„æ•°ç›®ã€‚ç”±äºç­”æ¡ˆå¯èƒ½å¾ˆå¤§ï¼Œåªéœ€è¿”å›å¯¹ <code>10^9 + 7</code> <strong>å–ä½™</strong> åçš„ç»“æœã€‚</p>
<p><strong>åŒæ„å­—ç¬¦ä¸²</strong> çš„å®šä¹‰ä¸ºï¼šå¦‚æœä¸€ä¸ªå­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰å­—ç¬¦éƒ½ç›¸åŒï¼Œé‚£ä¹ˆè¯¥å­—ç¬¦ä¸²å°±æ˜¯åŒæ„å­—ç¬¦ä¸²ã€‚</p>
<p><strong>å­å­—ç¬¦ä¸²</strong> æ˜¯å­—ç¬¦ä¸²ä¸­çš„ä¸€ä¸ªè¿ç»­å­—ç¬¦åºåˆ—ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;abbcccaa&quot;</span><br><span class="line">è¾“å‡ºï¼š13</span><br><span class="line">è§£é‡Šï¼šåŒæ„å­å­—ç¬¦ä¸²å¦‚ä¸‹æ‰€åˆ—ï¼š</span><br><span class="line">&quot;a&quot;   å‡ºç° 3 æ¬¡ã€‚</span><br><span class="line">&quot;aa&quot;  å‡ºç° 1 æ¬¡ã€‚</span><br><span class="line">&quot;b&quot;   å‡ºç° 2 æ¬¡ã€‚</span><br><span class="line">&quot;bb&quot;  å‡ºç° 1 æ¬¡ã€‚</span><br><span class="line">&quot;c&quot;   å‡ºç° 3 æ¬¡ã€‚</span><br><span class="line">&quot;cc&quot;  å‡ºç° 2 æ¬¡ã€‚</span><br><span class="line">&quot;ccc&quot; å‡ºç° 1 æ¬¡ã€‚</span><br><span class="line">3 + 1 + 2 + 1 + 3 + 2 + 1 = 13</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;xy&quot;</span><br><span class="line">è¾“å‡ºï¼š2</span><br><span class="line">è§£é‡Šï¼šåŒæ„å­å­—ç¬¦ä¸²æ˜¯ &quot;x&quot; å’Œ &quot;y&quot; ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;zzzzz&quot;</span><br><span class="line">è¾“å‡ºï¼š15</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= s.length &lt;= 105</code></li>
<li><code>s</code> ç”±å°å†™å­—ç¬¦ä¸²ç»„æˆ</li>
</ul>
<p>Related Topics</p>
<p>æ•°å­¦</p>
<p>å­—ç¬¦ä¸²</p>
<p><strong>è§£é¢˜æ€è·¯</strong>:</p>
<p>è¦æ±‚çš„æ˜¯åŒæ„å­—ç¬¦çš„æ•°é‡ï¼ŒæŠŠåŸå­—ç¬¦ä¸²è¿›è¡Œåˆ‡å‰²ï¼Œåˆ‡å‰²æˆç›¸ç­‰çš„å­—ç¬¦ä¸²ã€‚â€abbcccaaâ€ åˆ‡å‰²ä¸º â€œaâ€ â€œbbâ€ â€œcccâ€ â€œaaâ€ã€‚å¯¹åˆ‡å‰²åçš„å„éƒ¨åˆ†ç®—åŒæ„å­—ç¬¦ä¸²çš„è´¡çŒ®ï¼Œç´¯åŠ ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/image-20221226111209255.png" alt="image-20221226111209255"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">MOD</span> <span class="operator">=</span> (<span class="type">int</span>) <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">countHomogenous</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> s.length();</span><br><span class="line">        <span class="type">long</span> <span class="variable">ans</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">char</span> <span class="variable">tmp</span> <span class="operator">=</span> s.charAt(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="type">char</span> <span class="variable">c</span> <span class="operator">=</span> s.charAt(i);</span><br><span class="line">            <span class="keyword">if</span> (tmp == c) len++;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                ans += (<span class="type">long</span>) len * (len + <span class="number">1</span>) / <span class="number">2</span>;</span><br><span class="line">                len = <span class="number">1</span>;</span><br><span class="line">                tmp = c;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        ans += (<span class="type">long</span>) len * (len + <span class="number">1</span>) / <span class="number">2</span>; <span class="comment">// å¤„ç†æœ€åä¸€ä¸ªåˆ†ç»„</span></span><br><span class="line">        <span class="keyword">return</span> (<span class="type">int</span>) (ans % MOD);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦O(N);</li>
<li>ç©ºé—´å¤æ‚åº¦O(1);</li>
</ul>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">æ–‡ç« ä½œè€…: </span><span class="post-copyright-info"><a href="http://www.haungrd.top">Huang RD</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">æ–‡ç« é“¾æ¥: </span><span class="post-copyright-info"><a href="http://www.haungrd.top/2022/12/26/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/">http://www.haungrd.top/2022/12/26/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">ç‰ˆæƒå£°æ˜: </span><span class="post-copyright-info">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥è‡ª <a href="http://www.haungrd.top" target="_blank">Huang Blog</a>ï¼</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/JAVA/">JAVA</a><a class="post-meta__tags" href="/tags/%E7%AE%97%E6%B3%95/">ç®—æ³•</a><a class="post-meta__tags" href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">æ•°æ®ç»“æ„</a><a class="post-meta__tags" href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/">è®¡ç®—æœºåŸºç¡€</a></div><div class="post_share"><div class="social-share" data-image="https://www.huangrd.top/images/agentina/14.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2022/12/26/RabbitMQ1/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.huangrd.top/images/agentina/9.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info">RabbitMQå¾®æœåŠ¡å¤ä¹ </div></div></a></div><div class="next-post pull-right"><a href="/2022/12/24/Docker%E5%AE%9E%E7%94%A8%E7%AF%87/"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.huangrd.top/images/agentina/8.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info">Docker</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>ç›¸å…³æ¨è</span></div><div class="relatedPosts-list"><div><a href="/2022/11/22/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%AE%9E%E9%AA%8C/" title="æ•°æ®ç»“æ„å®éªŒ"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.huangrd.top/images/agentina/4.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-11-22</div><div class="title">æ•°æ®ç»“æ„å®éªŒ</div></div></a></div><div><a href="/2022/11/29/GUI/" title="java GUIåŸºç¡€"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.huangrd.top/images/agentina/10.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-11-29</div><div class="title">java GUIåŸºç¡€</div></div></a></div><div><a href="/2022/11/22/Netty04-%E4%BC%98%E5%8C%96%E4%B8%8E%E6%BA%90%E7%A0%81/" title="Netty ä¼˜åŒ–ä¸æºç "><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.huangrd.top/images/agentina/6.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-11-22</div><div class="title">Netty ä¼˜åŒ–ä¸æºç </div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://getwallpapers.com/wallpaper/full/a/1/8/1057222-free-download-cool-nature-backgrounds-1920x1200-windows-10.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Huang RD</div><div class="author-info__description">Huang Rui Dong Blog</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">23</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">28</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">5</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/A-JAVAer-HRD"><i class="fab fa-github"></i><span>äº†è§£ï¿½ï¿½ï¿½..</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/A-JAVAer-HRD" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:huangruidong.xauat@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>å…¬å‘Š</span></div><div class="announcement_content">æ¬¢ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½å®¢ï¿½ï¿½</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®å½•</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93"><span class="toc-text">ç®—æ³•æ€»ç»“</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E4%BA%8C%E5%88%86%E6%90%9C%E7%B4%A2"><span class="toc-text">ä¸€ã€äºŒåˆ†æœç´¢</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1%E3%80%81%E5%B7%A6%E9%97%AD%E5%8F%B3%E9%97%AD"><span class="toc-text">1.1ã€å·¦é—­å³é—­</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2%E3%80%81%E5%B7%A6%E9%97%AD%E5%8F%B3%E5%BC%80"><span class="toc-text">1.2ã€å·¦é—­å³å¼€</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3%E3%80%81LC69-x-%E7%9A%84%E5%B9%B3%E6%96%B9%E6%A0%B9"><span class="toc-text">1.3ã€LC69 x çš„å¹³æ–¹æ ¹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4%E3%80%81LC367-%E6%9C%89%E6%95%88%E7%9A%84%E5%AE%8C%E5%85%A8%E5%B9%B3%E6%96%B9%E6%95%B0"><span class="toc-text">1.4ã€LC367 æœ‰æ•ˆçš„å®Œå…¨å¹³æ–¹æ•°</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E5%8F%8C%E6%8C%87%E9%92%88%E6%B3%95"><span class="toc-text">äºŒã€åŒæŒ‡é’ˆæ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1%E3%80%81%E7%A7%BB%E9%99%A4%E6%95%B0%E7%BB%84%E5%85%83%E7%B4%A0"><span class="toc-text">2.1ã€ç§»é™¤æ•°ç»„å…ƒç´ </span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2%E3%80%81LC11-%E7%9B%9B%E6%9C%80%E5%A4%9A%E6%B0%B4%E7%9A%84%E5%AE%B9%E5%99%A8"><span class="toc-text">2.2ã€LC11. ç››æœ€å¤šæ°´çš„å®¹å™¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3%E3%80%81LC141-%E7%8E%AF%E5%BD%A2%E9%93%BE%E8%A1%A8"><span class="toc-text">2.3ã€LC141. ç¯å½¢é“¾è¡¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4%E3%80%81LC142-%E7%8E%AF%E5%BD%A2%E9%93%BE%E8%A1%A8II"><span class="toc-text">2.4ã€LC142. ç¯å½¢é“¾è¡¨II</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5%E3%80%81%E5%89%91%E6%8C%87-Offer-18-%E5%88%A0%E9%99%A4%E9%93%BE%E8%A1%A8%E7%9A%84%E8%8A%82%E7%82%B9"><span class="toc-text">2.5ã€å‰‘æŒ‡ Offer 18. åˆ é™¤é“¾è¡¨çš„èŠ‚ç‚¹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6%E3%80%81%E5%89%91%E6%8C%87-Offer-21-%E8%B0%83%E6%95%B4%E6%95%B0%E7%BB%84%E9%A1%BA%E5%BA%8F%E4%BD%BF%E5%A5%87%E6%95%B0%E4%BD%8D%E4%BA%8E%E5%81%B6%E6%95%B0%E5%89%8D%E9%9D%A2"><span class="toc-text">2.6ã€å‰‘æŒ‡ Offer 21. è°ƒæ•´æ•°ç»„é¡ºåºä½¿å¥‡æ•°ä½äºå¶æ•°å‰é¢</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-7%E3%80%81%E5%89%91%E6%8C%87-Offer-22-%E9%93%BE%E8%A1%A8%E4%B8%AD%E5%80%92%E6%95%B0%E7%AC%AC-k-%E4%B8%AA%E8%8A%82%E7%82%B9"><span class="toc-text">2.7ã€å‰‘æŒ‡ Offer 22. é“¾è¡¨ä¸­å€’æ•°ç¬¬ k ä¸ªèŠ‚ç‚¹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-8%E3%80%81LC206-%E5%8F%8D%E8%BD%AC%E9%93%BE%E8%A1%A8"><span class="toc-text">2.8ã€LC206. åè½¬é“¾è¡¨</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%8C%E6%8C%87%E9%92%88"><span class="toc-text">åŒæŒ‡é’ˆ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%92%E5%BD%92"><span class="toc-text">é€’å½’</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3"><span class="toc-text">ä¸‰ã€æ»‘åŠ¨çª—å£</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1%E3%80%81LC209-%E9%95%BF%E5%BA%A6%E6%9C%80%E5%B0%8F%E7%9A%84%E5%AD%90%E6%95%B0%E7%BB%84"><span class="toc-text">3.1ã€LC209. é•¿åº¦æœ€å°çš„å­æ•°ç»„</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2%E3%80%81LC904-%E6%B0%B4%E6%9E%9C%E6%88%90%E7%AF%AE"><span class="toc-text">3.2ã€LC904. æ°´æœæˆç¯®</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3%E3%80%81LC76-%E6%9C%80%E5%B0%8F%E8%A6%86%E7%9B%96%E5%AD%97%E4%B8%B2"><span class="toc-text">3.3ã€LC76. æœ€å°è¦†ç›–å­—ä¸²</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4%E3%80%81LC3-%E6%97%A0%E9%87%8D%E5%A4%8D%E5%AD%97%E7%AC%A6%E7%9A%84%E6%9C%80%E9%95%BF%E5%AD%90%E4%B8%B2"><span class="toc-text">3.4ã€LC3. æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E6%A8%A1%E6%8B%9F"><span class="toc-text">å››ã€æ¨¡æ‹Ÿ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1%E3%80%81LC54-%E8%9E%BA%E6%97%8B%E7%9F%A9%E9%98%B5"><span class="toc-text">4.1ã€LC54. èºæ—‹çŸ©é˜µ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2%E3%80%81LC59-%E8%9E%BA%E6%97%8B%E7%9F%A9%E9%98%B5II"><span class="toc-text">4.2ã€LC59. èºæ—‹çŸ©é˜µII</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3%E3%80%81%E5%89%91%E6%8C%87Offer29-%E9%A1%BA%E6%97%B6%E9%92%88%E6%89%93%E5%8D%B0%E7%9F%A9%E9%98%B5"><span class="toc-text">4.3ã€å‰‘æŒ‡Offer29. é¡ºæ—¶é’ˆæ‰“å°çŸ©é˜µ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-4%E3%80%81%E5%89%91%E6%8C%87-Offer-31-%E6%A0%88%E7%9A%84%E5%8E%8B%E5%85%A5%E3%80%81%E5%BC%B9%E5%87%BA%E5%BA%8F%E5%88%97"><span class="toc-text">4.4ã€å‰‘æŒ‡ Offer 31. æ ˆçš„å‹å…¥ã€å¼¹å‡ºåºåˆ—</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AF%87"><span class="toc-text">äº”ã€æ•°æ®ç»“æ„ç¯‡</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1%E3%80%81%E5%89%91%E6%8C%87-Offer05-%E6%9B%BF%E6%8D%A2%E7%A9%BA%E6%A0%BC"><span class="toc-text">5.1ã€å‰‘æŒ‡ Offer05. æ›¿æ¢ç©ºæ ¼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2%E3%80%81%E5%89%91%E6%8C%87-Offer-06-%E4%BB%8E%E5%B0%BE%E5%88%B0%E5%A4%B4%E6%89%93%E5%8D%B0%E9%93%BE%E8%A1%A8"><span class="toc-text">5.2ã€å‰‘æŒ‡ Offer 06. ä»å°¾åˆ°å¤´æ‰“å°é“¾è¡¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3%E3%80%81%E5%89%91%E6%8C%87-Offer-09-%E7%94%A8%E4%B8%A4%E4%B8%AA%E6%A0%88%E5%AE%9E%E7%8E%B0%E9%98%9F%E5%88%97"><span class="toc-text">5.3ã€å‰‘æŒ‡ Offer 09. ç”¨ä¸¤ä¸ªæ ˆå®ç°é˜Ÿåˆ—</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%9D%E8%B7%AF%E4%B8%80"><span class="toc-text">æ€è·¯ä¸€</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%9D%E8%B7%AF%E4%BA%8C"><span class="toc-text">æ€è·¯äºŒ</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4%E3%80%81%E5%89%91%E6%8C%87-Offer-24-%E5%8F%8D%E8%BD%AC%E9%93%BE%E8%A1%A8"><span class="toc-text">5.4ã€å‰‘æŒ‡ Offer 24. åè½¬é“¾è¡¨</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%AD%E4%BB%A3"><span class="toc-text">è¿­ä»£</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%92%E5%BD%92-1"><span class="toc-text">é€’å½’</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5%E3%80%81%E5%89%91%E6%8C%87-Offer-30-%E5%8C%85%E5%90%AB-min-%E5%87%BD%E6%95%B0%E7%9A%84%E6%A0%88"><span class="toc-text">5.5ã€å‰‘æŒ‡ Offer 30. åŒ…å« min å‡½æ•°çš„æ ˆ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-6%E3%80%81%E5%89%91%E6%8C%87-Offer-35-%E5%A4%8D%E6%9D%82%E9%93%BE%E8%A1%A8%E7%9A%84%E5%A4%8D%E5%88%B6"><span class="toc-text">5.6ã€å‰‘æŒ‡ Offer 35. å¤æ‚é“¾è¡¨çš„å¤åˆ¶</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%93%88%E5%B8%8C%E8%A1%A8%E8%AE%B0%E5%BD%95%E6%B3%95"><span class="toc-text">å“ˆå¸Œè¡¨è®°å½•æ³•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8B%BC%E6%8E%A5%E6%8B%86%E5%88%86"><span class="toc-text">æ‹¼æ¥æ‹†åˆ†</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-7%E3%80%81%E5%89%91%E6%8C%87-Offer-58-II-%E5%B7%A6%E6%97%8B%E8%BD%AC%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-text">5.7ã€å‰‘æŒ‡ Offer 58 - II. å·¦æ—‹è½¬å­—ç¬¦ä¸²</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%88%87%E7%89%87"><span class="toc-text">å­—ç¬¦ä¸²åˆ‡ç‰‡</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%97%E8%A1%A8%E9%81%8D%E5%8E%86%E6%8B%BC%E6%8E%A5"><span class="toc-text">åˆ—è¡¨éå†æ‹¼æ¥</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E9%81%8D%E5%8E%86%E6%8B%BC%E6%8E%A5"><span class="toc-text">å­—ç¬¦ä¸²éå†æ‹¼æ¥</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-8%E3%80%81%E5%89%91%E6%8C%87-Offer-59-I-%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3%E7%9A%84%E6%9C%80%E5%A4%A7%E5%80%BC"><span class="toc-text">5.8ã€å‰‘æŒ‡ Offer 59 - I. æ»‘åŠ¨çª—å£çš„æœ€å¤§å€¼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-9%E3%80%81%E5%89%91%E6%8C%87-Offer-59-II-%E9%98%9F%E5%88%97%E7%9A%84%E6%9C%80%E5%A4%A7%E5%80%BC"><span class="toc-text">5.9ã€å‰‘æŒ‡ Offer 59 - II. é˜Ÿåˆ—çš„æœ€å¤§å€¼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-10%E3%80%81%E5%89%91%E6%8C%87-Offer-67-%E6%8A%8A%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BD%AC%E6%8D%A2%E6%88%90%E6%95%B4%E6%95%B0"><span class="toc-text">5.10ã€å‰‘æŒ‡ Offer 67. æŠŠå­—ç¬¦ä¸²è½¬æ¢æˆæ•´æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-11%E3%80%81LC2-%E4%B8%A4%E6%95%B0%E4%B9%8B%E5%92%8C"><span class="toc-text">5.11ã€LC2. ä¸¤æ•°ä¹‹å’Œ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9E%84%E9%80%A0%E6%96%B0%E9%93%BE%E8%A1%A8"><span class="toc-text">æ„é€ æ–°é“¾è¡¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9C%A8%E5%8E%9F%E9%93%BE%E8%A1%A8%E4%B8%8A%E6%93%8D%E4%BD%9C"><span class="toc-text">åœ¨åŸé“¾è¡¨ä¸Šæ“ä½œ</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AD%E3%80%81%E6%9C%89%E9%99%90%E7%8A%B6%E6%80%81%E8%87%AA%E5%8A%A8%E6%9C%BA%EF%BC%88FSM%EF%BC%89"><span class="toc-text">å…­ã€æœ‰é™çŠ¶æ€è‡ªåŠ¨æœºï¼ˆFSMï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1%E3%80%81%E5%BA%94%E7%94%A8%E6%9C%89%E9%99%90%E8%87%AA%E5%8A%A8%E6%9C%BA%E8%A7%A3%E9%A2%98%E6%AD%A5%E9%AA%A4"><span class="toc-text">6.1ã€åº”ç”¨æœ‰é™è‡ªåŠ¨æœºè§£é¢˜æ­¥éª¤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2%E3%80%81%E5%89%91%E6%8C%87-Offer-20-%E8%A1%A8%E7%A4%BA%E6%95%B0%E5%80%BC%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-text">6.2ã€å‰‘æŒ‡ Offer 20. è¡¨ç¤ºæ•°å€¼çš„å­—ç¬¦ä¸²</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%83%E3%80%81%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92"><span class="toc-text">ä¸ƒã€åŠ¨æ€è§„åˆ’</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1%E3%80%81%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E7%90%86%E8%AE%BA"><span class="toc-text">7.1ã€åŠ¨æ€è§„åˆ’ç†è®º</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2%E3%80%81%E9%87%8D%E5%8F%A0%E5%AD%90%E9%97%AE%E9%A2%98%E4%BE%8B%E9%A2%98%EF%BC%9A%E6%96%90%E6%B3%A2%E9%82%A3%E5%A5%91%E6%95%B0%E5%88%97"><span class="toc-text">7.2ã€é‡å å­é—®é¢˜ä¾‹é¢˜ï¼šæ–æ³¢é‚£å¥‘æ•°åˆ—</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9A%B4%E5%8A%9B%E9%80%92%E5%BD%92"><span class="toc-text">æš´åŠ›é€’å½’</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%B0%E5%BF%86%E5%8C%96%E9%80%92%E5%BD%92"><span class="toc-text">è®°å¿†åŒ–é€’å½’</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92"><span class="toc-text">åŠ¨æ€è§„åˆ’</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B%E5%B0%8F%E7%BB%93"><span class="toc-text">ç¤ºä¾‹å°ç»“</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3%E3%80%81%E6%9C%80%E4%BC%98%E5%AD%90%E7%BB%93%E6%9E%84%E4%BE%8B%E9%A2%98%EF%BC%9A%E8%9B%8B%E7%B3%95%E5%94%AE%E4%BB%B7"><span class="toc-text">7.3ã€æœ€ä¼˜å­ç»“æ„ä¾‹é¢˜ï¼šè›‹ç³•å”®ä»·</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9A%B4%E5%8A%9B%E9%80%92%E5%BD%92-1"><span class="toc-text">æš´åŠ›é€’å½’</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%B0%E5%BF%86%E5%8C%96%E9%80%92%E5%BD%92-1"><span class="toc-text">è®°å¿†åŒ–é€’å½’</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92-1"><span class="toc-text">åŠ¨æ€è§„åˆ’</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-4%E3%80%8101%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98"><span class="toc-text">7.4ã€01èƒŒåŒ…é—®é¢˜</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8C%E7%BB%B4dp"><span class="toc-text">äºŒç»´dp</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%80%E7%BB%B4dp%EF%BC%88%E6%BB%9A%E5%8A%A8%E6%95%B0%E7%BB%84%EF%BC%89"><span class="toc-text">ä¸€ç»´dpï¼ˆæ»šåŠ¨æ•°ç»„ï¼‰</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-5%E3%80%81%E5%AE%8C%E5%85%A8%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98"><span class="toc-text">7.5ã€å®Œå…¨èƒŒåŒ…é—®é¢˜</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-6%E3%80%81%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E8%A7%A3%E9%A2%98%E6%A1%86%E6%9E%B6"><span class="toc-text">7.6ã€åŠ¨æ€è§„åˆ’è§£é¢˜æ¡†æ¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-5%E3%80%81%E5%89%91%E6%8C%87-Offer-10-I-%E6%96%90%E6%B3%A2%E9%82%A3%E5%A5%91%E6%95%B0%E5%88%97"><span class="toc-text">7.5ã€å‰‘æŒ‡ Offer 10- I. æ–æ³¢é‚£å¥‘æ•°åˆ—</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%B0%E5%BF%86%E5%8C%96%E6%90%9C%E7%B4%A2"><span class="toc-text">è®°å¿†åŒ–æœç´¢</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92-2"><span class="toc-text">åŠ¨æ€è§„åˆ’</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-6%E3%80%81%E5%89%91%E6%8C%87-Offer-19-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%8C%B9%E9%85%8D"><span class="toc-text">7.6ã€å‰‘æŒ‡ Offer 19. æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-7%E3%80%81%E5%89%91%E6%8C%87-Offer-46-%E6%8A%8A%E6%95%B0%E5%AD%97%E7%BF%BB%E8%AF%91%E6%88%90%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-text">7.7ã€å‰‘æŒ‡ Offer 46. æŠŠæ•°å­—ç¿»è¯‘æˆå­—ç¬¦ä¸²</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-8%E3%80%81%E5%89%91%E6%8C%87-Offer-47-%E7%A4%BC%E7%89%A9%E7%9A%84%E6%9C%80%E5%A4%A7%E4%BB%B7%E5%80%BC"><span class="toc-text">7.8ã€å‰‘æŒ‡ Offer 47. ç¤¼ç‰©çš„æœ€å¤§ä»·å€¼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-9%E3%80%81%E5%89%91%E6%8C%87-Offer-48-%E6%9C%80%E9%95%BF%E4%B8%8D%E5%90%AB%E9%87%8D%E5%A4%8D%E5%AD%97%E7%AC%A6%E7%9A%84%E5%AD%90%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-text">7.9ã€å‰‘æŒ‡ Offer 48. æœ€é•¿ä¸å«é‡å¤å­—ç¬¦çš„å­å­—ç¬¦ä¸²</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%89%91%E6%8C%87-Offer-49-%E4%B8%91%E6%95%B0"><span class="toc-text">å‰‘æŒ‡ Offer 49. ä¸‘æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-10%E3%80%81%E5%89%91%E6%8C%87-Offer-60-n-%E4%B8%AA%E9%AA%B0%E5%AD%90%E7%9A%84%E7%82%B9%E6%95%B0"><span class="toc-text">7.10ã€å‰‘æŒ‡ Offer 60. n ä¸ªéª°å­çš„ç‚¹æ•°</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9A%B4%E5%8A%9B%E6%B3%95"><span class="toc-text">æš´åŠ›æ³•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92-3"><span class="toc-text">åŠ¨æ€è§„åˆ’</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-11%E3%80%81%E5%89%91%E6%8C%87-Offer-63-%E8%82%A1%E7%A5%A8%E7%9A%84%E6%9C%80%E5%A4%A7%E5%88%A9%E6%B6%A6"><span class="toc-text">7.11ã€å‰‘æŒ‡ Offer 63. è‚¡ç¥¨çš„æœ€å¤§åˆ©æ¶¦</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AB%E3%80%81%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%9E%E6%BA%AF%E7%AE%97%E6%B3%95"><span class="toc-text">å…«ã€æœç´¢ä¸å›æº¯ç®—æ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1%E3%80%81%E5%89%91%E6%8C%87-Offer-12-%E7%9F%A9%E9%98%B5%E4%B8%AD%E7%9A%84%E8%B7%AF%E5%BE%84"><span class="toc-text">8.1ã€å‰‘æŒ‡ Offer 12. çŸ©é˜µä¸­çš„è·¯å¾„</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-2%E3%80%81%E5%89%91%E6%8C%87-Offer-13-%E6%9C%BA%E5%99%A8%E4%BA%BA%E7%9A%84%E8%BF%90%E5%8A%A8%E8%8C%83%E5%9B%B4"><span class="toc-text">8.2ã€å‰‘æŒ‡ Offer 13. æœºå™¨äººçš„è¿åŠ¨èŒƒå›´</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-3%E3%80%81%E5%89%91%E6%8C%87-Offer-26-%E6%A0%91%E7%9A%84%E5%AD%90%E7%BB%93%E6%9E%84"><span class="toc-text">8.3ã€å‰‘æŒ‡ Offer 26. æ ‘çš„å­ç»“æ„</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-4%E3%80%81%E5%89%91%E6%8C%87-Offer-27-%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E9%95%9C%E5%83%8F"><span class="toc-text">8.4ã€å‰‘æŒ‡ Offer 27. äºŒå‰æ ‘çš„é•œåƒ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-5%E3%80%81%E5%89%91%E6%8C%87-Offer-28-%E5%AF%B9%E7%A7%B0%E7%9A%84%E4%BA%8C%E5%8F%89%E6%A0%91"><span class="toc-text">8.5ã€å‰‘æŒ‡ Offer 28. å¯¹ç§°çš„äºŒå‰æ ‘</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-6%E3%80%81%E5%89%91%E6%8C%87-Offer-32-I-%E4%BB%8E%E4%B8%8A%E5%88%B0%E4%B8%8B%E6%89%93%E5%8D%B0%E4%BA%8C%E5%8F%89%E6%A0%91"><span class="toc-text">8.6ã€å‰‘æŒ‡ Offer 32 - I. ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-7%E3%80%81%E5%89%91%E6%8C%87-Offer-32-II-%E4%BB%8E%E4%B8%8A%E5%88%B0%E4%B8%8B%E6%89%93%E5%8D%B0%E4%BA%8C%E5%8F%89%E6%A0%91-II"><span class="toc-text">8.7ã€å‰‘æŒ‡ Offer 32 - II. ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘ II</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-8%E3%80%81%E5%89%91%E6%8C%87-Offer-32-III-%E4%BB%8E%E4%B8%8A%E5%88%B0%E4%B8%8B%E6%89%93%E5%8D%B0%E4%BA%8C%E5%8F%89%E6%A0%91-III"><span class="toc-text">8.8ã€å‰‘æŒ‡ Offer 32 - III. ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘ III</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-9%E3%80%81%E5%89%91%E6%8C%87-Offer-34-%E4%BA%8C%E5%8F%89%E6%A0%91%E4%B8%AD%E5%92%8C%E4%B8%BA%E6%9F%90%E4%B8%80%E5%80%BC%E7%9A%84%E8%B7%AF%E5%BE%84"><span class="toc-text">8.9ã€å‰‘æŒ‡ Offer 34. äºŒå‰æ ‘ä¸­å’Œä¸ºæŸä¸€å€¼çš„è·¯å¾„</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-10%E3%80%81%E5%89%91%E6%8C%87-Offer-36-%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91%E4%B8%8E%E5%8F%8C%E5%90%91%E9%93%BE%E8%A1%A8"><span class="toc-text">8.10ã€å‰‘æŒ‡ Offer 36. äºŒå‰æœç´¢æ ‘ä¸åŒå‘é“¾è¡¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-11%E3%80%81%E5%89%91%E6%8C%87-Offer-37-%E5%BA%8F%E5%88%97%E5%8C%96%E4%BA%8C%E5%8F%89%E6%A0%91"><span class="toc-text">8.11ã€å‰‘æŒ‡ Offer 37. åºåˆ—åŒ–äºŒå‰æ ‘</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-12%E3%80%81%E5%89%91%E6%8C%87-Offer-38-%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%8E%92%E5%88%97"><span class="toc-text">8.12ã€å‰‘æŒ‡ Offer 38. å­—ç¬¦ä¸²çš„æ’åˆ—</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-13%E3%80%81%E5%89%91%E6%8C%87-Offer-54-%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91%E7%9A%84%E7%AC%AC-k-%E5%A4%A7%E8%8A%82%E7%82%B9"><span class="toc-text">8.13ã€å‰‘æŒ‡ Offer 54. äºŒå‰æœç´¢æ ‘çš„ç¬¬ k å¤§èŠ‚ç‚¹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-14%E3%80%81%E5%89%91%E6%8C%87-Offer-55-I-%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E6%B7%B1%E5%BA%A6"><span class="toc-text">8.14ã€å‰‘æŒ‡ Offer 55 - I. äºŒå‰æ ‘çš„æ·±åº¦</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-15%E3%80%81%E5%89%91%E6%8C%87-Offer-55-II-%E5%B9%B3%E8%A1%A1%E4%BA%8C%E5%8F%89%E6%A0%91"><span class="toc-text">8.15ã€å‰‘æŒ‡ Offer 55 - II. å¹³è¡¡äºŒå‰æ ‘</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-16%E3%80%81%E5%89%91%E6%8C%87-Offer-64-%E6%B1%82-1-2-%E2%80%A6-n"><span class="toc-text">8.16ã€å‰‘æŒ‡ Offer 64. æ±‚ 1 + 2 + â€¦ + n</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-17%E3%80%81%E5%89%91%E6%8C%87-Offer-68-II-%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91%E7%9A%84%E6%9C%80%E8%BF%91%E5%85%AC%E5%85%B1%E7%A5%96%E5%85%88"><span class="toc-text">8.17ã€å‰‘æŒ‡ Offer 68 - II. äºŒå‰æœç´¢æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%92%E5%BD%92%E6%B3%95%EF%BC%9A"><span class="toc-text">é€’å½’æ³•ï¼š</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%AD%E4%BB%A3-1"><span class="toc-text">è¿­ä»£</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-18%E3%80%81%E5%89%91%E6%8C%87-Offer-68-II-%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E6%9C%80%E8%BF%91%E5%85%AC%E5%85%B1%E7%A5%96"><span class="toc-text">8.18ã€å‰‘æŒ‡ Offer 68 - II. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B9%9D%E3%80%81%E5%88%86%E6%B2%BB%E7%AE%97%E6%B3%95"><span class="toc-text">ä¹ã€åˆ†æ²»ç®—æ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#9-1%E3%80%81%E5%89%91%E6%8C%87-Offer-07-%E9%87%8D%E5%BB%BA%E4%BA%8C%E5%8F%89%E6%A0%91"><span class="toc-text">9.1ã€å‰‘æŒ‡ Offer 07. é‡å»ºäºŒå‰æ ‘</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-2%E3%80%81106-%E4%BB%8E%E4%B8%AD%E5%BA%8F%E4%B8%8E%E5%90%8E%E5%BA%8F%E9%81%8D%E5%8E%86%E5%BA%8F%E5%88%97%E6%9E%84%E9%80%A0%E4%BA%8C%E5%8F%89%E6%A0%91"><span class="toc-text">9.2ã€106.ä»ä¸­åºä¸ååºéå†åºåˆ—æ„é€ äºŒå‰æ ‘</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-3%E3%80%81%E5%89%91%E6%8C%87-Offer-16-%E6%95%B0%E5%80%BC%E7%9A%84%E6%95%B4%E6%95%B0%E6%AC%A1%E6%96%B9"><span class="toc-text">9.3ã€å‰‘æŒ‡ Offer 16. æ•°å€¼çš„æ•´æ•°æ¬¡æ–¹</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9A%B4%E5%8A%9B%E8%A7%A3%E6%B3%95"><span class="toc-text">æš´åŠ›è§£æ³•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BF%AB%E9%80%9F%E5%B9%82%E8%A7%A3%E6%9E%90%EF%BC%88%E5%88%86%E6%B2%BB%E6%B3%95%E8%A7%92%E5%BA%A6%EF%BC%89"><span class="toc-text">å¿«é€Ÿå¹‚è§£æï¼ˆåˆ†æ²»æ³•è§’åº¦ï¼‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BF%AB%E9%80%9F%E5%B9%82%E8%A7%A3%E6%9E%90%EF%BC%88%E4%BA%8C%E8%BF%9B%E5%88%B6%E8%A7%92%E5%BA%A6%EF%BC%89"><span class="toc-text">å¿«é€Ÿå¹‚è§£æï¼ˆäºŒè¿›åˆ¶è§’åº¦ï¼‰</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-4%E3%80%81%E5%89%91%E6%8C%87-Offer-17-%E6%89%93%E5%8D%B0%E4%BB%8E-1-%E5%88%B0%E6%9C%80%E5%A4%A7%E7%9A%84-n-%E4%BD%8D%E6%95%B0"><span class="toc-text">9.4ã€å‰‘æŒ‡ Offer 17. æ‰“å°ä» 1 åˆ°æœ€å¤§çš„ n ä½æ•°</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%A7%E6%95%B0%E6%89%93%E5%8D%B0%E8%A7%A3%E6%B3%95%EF%BC%9A"><span class="toc-text">å¤§æ•°æ‰“å°è§£æ³•ï¼š</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-5%E3%80%81%E5%89%91%E6%8C%87-Offer-33-%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91%E7%9A%84%E5%90%8E%E5%BA%8F%E9%81%8D%E5%8E%86%E5%BA%8F%E5%88%97"><span class="toc-text">9.5ã€å‰‘æŒ‡ Offer 33. äºŒå‰æœç´¢æ ‘çš„ååºéå†åºåˆ—</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80%EF%BC%9A%E9%80%92%E5%BD%92%E5%88%86%E6%B2%BB"><span class="toc-text">æ–¹æ³•ä¸€ï¼šé€’å½’åˆ†æ²»</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%BA%8C%EF%BC%9A%E8%BE%85%E5%8A%A9%E5%8D%95%E8%B0%83%E6%A0%88"><span class="toc-text">æ–¹æ³•äºŒï¼šè¾…åŠ©å•è°ƒæ ˆ</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-6%E3%80%81%E5%89%91%E6%8C%87-Offer-51-%E6%95%B0%E7%BB%84%E4%B8%AD%E7%9A%84%E9%80%86%E5%BA%8F%E5%AF%B9"><span class="toc-text">9.6ã€å‰‘æŒ‡ Offer 51. æ•°ç»„ä¸­çš„é€†åºå¯¹</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%81%E3%80%81%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95"><span class="toc-text">åã€æ’åºç®—æ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81%E7%AE%80%E4%BB%8B"><span class="toc-text">1ã€ç®€ä»‹</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0"><span class="toc-text">æ¦‚è¿°</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E7%AE%97%E6%B3%95"><span class="toc-text">å¸¸è§ç®—æ³•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E7%B1%BB%E6%96%B9%E6%B3%95"><span class="toc-text">åˆ†ç±»æ–¹æ³•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%B6%E7%A9%BA%E5%A4%8D%E6%9D%82%E5%BA%A6"><span class="toc-text">æ—¶ç©ºå¤æ‚åº¦</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F"><span class="toc-text">2ã€å†’æ³¡æ’åº</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F"><span class="toc-text">3ã€å¿«é€Ÿæ’åº</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E3%80%81%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F"><span class="toc-text">4ã€å½’å¹¶æ’åº</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5%E3%80%81%E5%89%91%E6%8C%87-Offer-40-%E6%9C%80%E5%B0%8F%E7%9A%84-k-%E4%B8%AA%E6%95%B0"><span class="toc-text">5ã€å‰‘æŒ‡ Offer 40. æœ€å°çš„ k ä¸ªæ•°</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8E%92%E5%BA%8F"><span class="toc-text">æ’åº</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E4%BA%8E%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F%E7%9A%84%E6%95%B0%E7%BB%84%E5%88%92%E5%88%86"><span class="toc-text">åŸºäºå¿«é€Ÿæ’åºçš„æ•°ç»„åˆ’åˆ†</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90%EF%BC%9A"><span class="toc-text">å¤æ‚åº¦åˆ†æï¼š</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6%E3%80%81%E5%89%91%E6%8C%87-Offer-41-%E6%95%B0%E6%8D%AE%E6%B5%81%E4%B8%AD%E7%9A%84%E4%B8%AD%E4%BD%8D%E6%95%B0"><span class="toc-text">6ã€å‰‘æŒ‡ Offer 41. æ•°æ®æµä¸­çš„ä¸­ä½æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7%E3%80%81%E5%89%91%E6%8C%87-Offer-45-%E6%8A%8A%E6%95%B0%E7%BB%84%E6%8E%92%E6%88%90%E6%9C%80%E5%B0%8F%E7%9A%84%E6%95%B0"><span class="toc-text">7ã€å‰‘æŒ‡ Offer 45. æŠŠæ•°ç»„æ’æˆæœ€å°çš„æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8%E3%80%81%E5%89%91%E6%8C%87-Offer-61-%E6%89%91%E5%85%8B%E7%89%8C%E4%B8%AD%E7%9A%84%E9%A1%BA%E5%AD%90"><span class="toc-text">8ã€å‰‘æŒ‡ Offer 61. æ‰‘å…‹ç‰Œä¸­çš„é¡ºå­</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%A3%E6%B3%95%E4%B8%80"><span class="toc-text">è§£æ³•ä¸€</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%A3%E6%B3%95%E4%BA%8C"><span class="toc-text">è§£æ³•äºŒ</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%81%E4%B8%80%E3%80%81%E6%9F%A5%E6%89%BE%E7%AE%97%E6%B3%95"><span class="toc-text">åä¸€ã€æŸ¥æ‰¾ç®—æ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81%E5%89%91%E6%8C%87-Offer-03-%E6%95%B0%E7%BB%84%E4%B8%AD%E9%87%8D%E5%A4%8D%E7%9A%84%E6%95%B0%E5%AD%97"><span class="toc-text">1ã€å‰‘æŒ‡ Offer 03. æ•°ç»„ä¸­é‡å¤çš„æ•°å­—</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80%EF%BC%9A%E5%93%88%E5%B8%8C%E8%A1%A8"><span class="toc-text">æ–¹æ³•ä¸€ï¼šå“ˆå¸Œè¡¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%BA%8C%EF%BC%9A%E5%8E%9F%E5%9C%B0%E4%BA%A4%E6%8D%A2"><span class="toc-text">æ–¹æ³•äºŒï¼šåŸåœ°äº¤æ¢</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81%E5%89%91%E6%8C%87-Offer-04-%E4%BA%8C%E7%BB%B4%E6%95%B0%E7%BB%84%E4%B8%AD%E7%9A%84%E6%9F%A5%E6%89%BE"><span class="toc-text">2ã€å‰‘æŒ‡ Offer 04. äºŒç»´æ•°ç»„ä¸­çš„æŸ¥æ‰¾</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81%E5%89%91%E6%8C%87-Offer-11-%E6%97%8B%E8%BD%AC%E6%95%B0%E7%BB%84%E7%9A%84%E6%9C%80%E5%B0%8F%E6%95%B0%E5%AD%97"><span class="toc-text">3ã€å‰‘æŒ‡ Offer 11. æ—‹è½¬æ•°ç»„çš„æœ€å°æ•°å­—</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E3%80%81%E5%89%91%E6%8C%87-Offer-50-%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%8F%AA%E5%87%BA%E7%8E%B0%E4%B8%80%E6%AC%A1%E7%9A%84%E5%AD%97%E7%AC%A6"><span class="toc-text">4ã€å‰‘æŒ‡ Offer 50. ç¬¬ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80%EF%BC%9A%E5%93%88%E5%B8%8C%E8%A1%A8-1"><span class="toc-text">æ–¹æ³•ä¸€ï¼šå“ˆå¸Œè¡¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%BA%8C%EF%BC%9A%E6%9C%89%E5%BA%8F%E5%93%88%E5%B8%8C%E8%A1%A8"><span class="toc-text">æ–¹æ³•äºŒï¼šæœ‰åºå“ˆå¸Œè¡¨</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5%E3%80%81%E5%89%91%E6%8C%87-Offer-53-II-0%EF%BD%9En-1-%E4%B8%AD%E7%BC%BA%E5%A4%B1%E7%9A%84%E6%95%B0%E5%AD%97"><span class="toc-text">5ã€å‰‘æŒ‡ Offer 53 - II. 0ï½n-1 ä¸­ç¼ºå¤±çš„æ•°å­—</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6%E3%80%81%E5%89%91%E6%8C%87-Offer-53-I-%E5%9C%A8%E6%8E%92%E5%BA%8F%E6%95%B0%E7%BB%84%E4%B8%AD%E6%9F%A5%E6%89%BE%E6%95%B0%E5%AD%97-I"><span class="toc-text">6ã€å‰‘æŒ‡ Offer 53 - I. åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾æ•°å­— I</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#code1-%E4%B8%A4%E6%AC%A1%E4%BA%8C%E5%88%86"><span class="toc-text">code1:ä¸¤æ¬¡äºŒåˆ†</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#code2-%E5%B0%81%E8%A3%85%E4%BA%8C%E5%88%86%E6%B3%95%EF%BC%8C%E7%AE%80%E5%8C%96%E4%BB%A3%E7%A0%81"><span class="toc-text">code2:å°è£…äºŒåˆ†æ³•ï¼Œç®€åŒ–ä»£ç </span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#code3-%E5%85%88%E4%BA%8C%E5%88%86%EF%BC%8C%E5%86%8D%E4%B8%A4%E8%BE%B9%E5%90%8C%E6%97%B6%E9%80%BC%E8%BF%91%EF%BC%88%E9%A1%BA%E5%BA%8F%EF%BC%89"><span class="toc-text">code3:å…ˆäºŒåˆ†ï¼Œå†ä¸¤è¾¹åŒæ—¶é€¼è¿‘ï¼ˆé¡ºåºï¼‰</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7%E3%80%81%E5%89%91%E6%8C%87-Offer-25-%E5%90%88%E5%B9%B6%E4%B8%A4%E4%B8%AA%E6%8E%92%E5%BA%8F%E7%9A%84%E9%93%BE%E8%A1%A8"><span class="toc-text">7ã€å‰‘æŒ‡ Offer 25. åˆå¹¶ä¸¤ä¸ªæ’åºçš„é“¾è¡¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8%E3%80%81%E5%89%91%E6%8C%87-Offer-52-%E4%B8%A4%E4%B8%AA%E9%93%BE%E8%A1%A8%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%85%AC%E5%85%B1%E8%8A%82%E7%82%B9"><span class="toc-text">8ã€å‰‘æŒ‡ Offer 52. ä¸¤ä¸ªé“¾è¡¨çš„ç¬¬ä¸€ä¸ªå…¬å…±èŠ‚ç‚¹</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#code1-%E5%BE%AA%E7%8E%AF%E9%81%8D%E5%8E%86"><span class="toc-text">code1 å¾ªç¯éå†</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#code2-%E5%B7%AE%E5%80%BC%E6%B3%95"><span class="toc-text">code2 å·®å€¼æ³•</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9%E3%80%81%E5%89%91%E6%8C%87-Offer-57-%E5%92%8C%E4%B8%BA-s-%E7%9A%84%E4%B8%A4%E4%B8%AA%E6%95%B0%E5%AD%97"><span class="toc-text">9ã€å‰‘æŒ‡ Offer 57. å’Œä¸º s çš„ä¸¤ä¸ªæ•°å­—</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10%E3%80%81%E5%89%91%E6%8C%87-Offer-58-I-%E7%BF%BB%E8%BD%AC%E5%8D%95%E8%AF%8D%E9%A1%BA%E5%BA%8F"><span class="toc-text">10ã€å‰‘æŒ‡ Offer 58 - I. ç¿»è½¬å•è¯é¡ºåº</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80%EF%BC%9A%E5%8F%8C%E6%8C%87%E9%92%88"><span class="toc-text">æ–¹æ³•ä¸€ï¼šåŒæŒ‡é’ˆ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%BA%8C%EF%BC%9A%E5%88%86%E5%89%B2-%E5%80%92%E5%BA%8F"><span class="toc-text">æ–¹æ³•äºŒï¼šåˆ†å‰² + å€’åº</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%81%E4%BA%8C%E3%80%81%E4%BD%8D%E8%BF%90%E7%AE%97"><span class="toc-text">åäºŒã€ä½è¿ç®—</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81%E5%89%91%E6%8C%87-Offer-15-%E4%BA%8C%E8%BF%9B%E5%88%B6%E4%B8%AD-1-%E7%9A%84%E4%B8%AA%E6%95%B0"><span class="toc-text">1ã€å‰‘æŒ‡ Offer 15. äºŒè¿›åˆ¶ä¸­ 1 çš„ä¸ªæ•°</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80%EF%BC%9A%E9%80%90%E4%BD%8D%E5%88%A4%E6%96%AD"><span class="toc-text">æ–¹æ³•ä¸€ï¼šé€ä½åˆ¤æ–­</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%BA%8C%EF%BC%9A%E5%B7%A7%E7%94%A8-n-amp-n-1-n-amp-n%E2%88%921"><span class="toc-text">æ–¹æ³•äºŒï¼šå·§ç”¨ n &amp; (n - 1)n&amp;(nâˆ’1)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81%E5%89%91%E6%8C%87-Offer-65-%E4%B8%8D%E7%94%A8%E5%8A%A0%E5%87%8F%E4%B9%98%E9%99%A4%E5%81%9A%E5%8A%A0%E6%B3%95"><span class="toc-text">2ã€å‰‘æŒ‡ Offer 65. ä¸ç”¨åŠ å‡ä¹˜é™¤åšåŠ æ³•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81%E5%89%91%E6%8C%87-Offer-56-I-%E6%95%B0%E7%BB%84%E4%B8%AD%E6%95%B0%E5%AD%97%E5%87%BA%E7%8E%B0%E7%9A%84%E6%AC%A1%E6%95%B0"><span class="toc-text">3ã€å‰‘æŒ‡ Offer 56 - I. æ•°ç»„ä¸­æ•°å­—å‡ºç°çš„æ¬¡æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E3%80%81%E5%89%91%E6%8C%87-Offer-56-II-%E6%95%B0%E7%BB%84%E4%B8%AD%E6%95%B0%E5%AD%97%E5%87%BA%E7%8E%B0%E7%9A%84%E6%AC%A1%E6%95%B0-II"><span class="toc-text">4ã€å‰‘æŒ‡ Offer 56 - II. æ•°ç»„ä¸­æ•°å­—å‡ºç°çš„æ¬¡æ•° II</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80%EF%BC%9A%E6%9C%89%E9%99%90%E7%8A%B6%E6%80%81%E8%87%AA%E5%8A%A8%E6%9C%BA"><span class="toc-text">æ–¹æ³•ä¸€ï¼šæœ‰é™çŠ¶æ€è‡ªåŠ¨æœº</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%BA%8C%EF%BC%9A%E9%81%8D%E5%8E%86%E7%BB%9F%E8%AE%A1"><span class="toc-text">æ–¹æ³•äºŒï¼šéå†ç»Ÿè®¡</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%81%E4%B8%89%E3%80%81%E6%95%B0%E5%AD%A6"><span class="toc-text">åä¸‰ã€æ•°å­¦</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81%E5%89%91%E6%8C%87-Offer-39-%E6%95%B0%E7%BB%84%E4%B8%AD%E5%87%BA%E7%8E%B0%E6%AC%A1%E6%95%B0%E8%B6%85%E8%BF%87%E4%B8%80%E5%8D%8A%E7%9A%84%E6%95%B0%E5%AD%97"><span class="toc-text">1ã€å‰‘æŒ‡ Offer 39. æ•°ç»„ä¸­å‡ºç°æ¬¡æ•°è¶…è¿‡ä¸€åŠçš„æ•°å­—</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%91%A9%E5%B0%94%E6%8A%95%E7%A5%A8%E6%B3%95%EF%BC%9A"><span class="toc-text">æ‘©å°”æŠ•ç¥¨æ³•ï¼š</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8E%92%E5%BA%8F%E6%B3%95%EF%BC%9A"><span class="toc-text">æ’åºæ³•ï¼š</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81%E5%89%91%E6%8C%87-Offer-66-%E6%9E%84%E5%BB%BA%E4%B9%98%E7%A7%AF%E6%95%B0%E7%BB%84"><span class="toc-text">2ã€å‰‘æŒ‡ Offer 66. æ„å»ºä¹˜ç§¯æ•°ç»„</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81%E5%89%91%E6%8C%87-Offer-14-I-%E5%89%AA%E7%BB%B3%E5%AD%90"><span class="toc-text">3ã€å‰‘æŒ‡ Offer 14- I. å‰ªç»³å­</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E5%AD%A6%E6%B3%95"><span class="toc-text">æ•°å­¦æ³•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95"><span class="toc-text">è´ªå¿ƒç®—æ³•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92-4"><span class="toc-text">åŠ¨æ€è§„åˆ’</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E3%80%81%E5%89%91%E6%8C%87-Offer-14-II-%E5%89%AA%E7%BB%B3%E5%AD%90-II"><span class="toc-text">4ã€å‰‘æŒ‡ Offer 14- II. å‰ªç»³å­ II</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E5%AD%A6"><span class="toc-text">æ•°å­¦</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92-5"><span class="toc-text">åŠ¨æ€è§„åˆ’</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5%E3%80%81%E5%89%91%E6%8C%87-Offer-57-II-%E5%92%8C%E4%B8%BA-s-%E7%9A%84%E8%BF%9E%E7%BB%AD%E6%AD%A3%E6%95%B0%E5%BA%8F%E5%88%97"><span class="toc-text">5ã€å‰‘æŒ‡ Offer 57 - II. å’Œä¸º s çš„è¿ç»­æ­£æ•°åºåˆ—</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%8C%E6%8C%87%E9%92%88-1"><span class="toc-text">åŒæŒ‡é’ˆ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E5%AD%A6-1"><span class="toc-text">æ•°å­¦</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6%E3%80%81%E5%89%91%E6%8C%87-Offer-62-%E5%9C%86%E5%9C%88%E4%B8%AD%E6%9C%80%E5%90%8E%E5%89%A9%E4%B8%8B%E7%9A%84%E6%95%B0%E5%AD%97"><span class="toc-text">6ã€å‰‘æŒ‡ Offer 62. åœ†åœˆä¸­æœ€åå‰©ä¸‹çš„æ•°å­—</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7%E3%80%81%E5%89%91%E6%8C%87-Offer-43-1%EF%BD%9En-%E6%95%B4%E6%95%B0%E4%B8%AD-1-%E5%87%BA%E7%8E%B0%E7%9A%84%E6%AC%A1%E6%95%B0"><span class="toc-text">7ã€å‰‘æŒ‡ Offer 43. 1ï½n æ•´æ•°ä¸­ 1 å‡ºç°çš„æ¬¡æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8%E3%80%81%E5%89%91%E6%8C%87-Offer-44-%E6%95%B0%E5%AD%97%E5%BA%8F%E5%88%97%E4%B8%AD%E6%9F%90%E4%B8%80%E4%BD%8D%E7%9A%84%E6%95%B0%E5%AD%97"><span class="toc-text">8ã€å‰‘æŒ‡ Offer 44. æ•°å­—åºåˆ—ä¸­æŸä¸€ä½çš„æ•°å­—</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9%E3%80%81LC1759-%E7%BB%9F%E8%AE%A1%E5%90%8C%E6%9E%84%E5%AD%90%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%95%B0%E7%9B%AE"><span class="toc-text">9ã€LC1759. ç»Ÿè®¡åŒæ„å­å­—ç¬¦ä¸²çš„æ•°ç›®</span></a></li></ol></li></ol></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2022 By Huang RD</div><div class="framework-info"><span>æ¡†æ¶ </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>ä¸»é¢˜ </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="ç®€ç¹è½¬æ¢">ç®€</button><button id="darkmode" type="button" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">æœç´¢</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  æ•°æ®åº“åŠ è½½ä¸­</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="æœç´¢æ–‡ç« " type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><script src="/js/search/local-search.js"></script><div class="js-pjax"></div><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="30" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-nest.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>