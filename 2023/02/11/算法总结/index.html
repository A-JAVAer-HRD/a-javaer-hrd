<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>ç®—æ³•æ€»ç»“ | Huang Blog</title><meta name="author" content="Huang RD"><meta name="copyright" content="Huang RD"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="éƒ¨åˆ†æ¥æºäºï¼š åŠ›æ‰£Krahetsï¼Œé“¾æ¥ï¼šhttps:&#x2F;&#x2F;leetcode.cn&#x2F;leetbook&#x2F;read&#x2F;illustration-of-algorithm&#x2F;5dj09d&#x2F; ä»£ç éšæƒ³å½• java guide åŸæ–‡é“¾æ¥ï¼šhttps:&#x2F;&#x2F;javaguide.cn&#x2F;cs-basics&#x2F;data-structure&#x2F;linear-data-structure.html  ç®—æ³•æ€»ç»“ä¸€ã€äºŒåˆ†æœç´¢Binar">
<meta property="og:type" content="article">
<meta property="og:title" content="ç®—æ³•æ€»ç»“">
<meta property="og:url" content="http://www.haungrd.top/2023/02/11/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/index.html">
<meta property="og:site_name" content="Huang Blog">
<meta property="og:description" content="éƒ¨åˆ†æ¥æºäºï¼š åŠ›æ‰£Krahetsï¼Œé“¾æ¥ï¼šhttps:&#x2F;&#x2F;leetcode.cn&#x2F;leetbook&#x2F;read&#x2F;illustration-of-algorithm&#x2F;5dj09d&#x2F; ä»£ç éšæƒ³å½• java guide åŸæ–‡é“¾æ¥ï¼šhttps:&#x2F;&#x2F;javaguide.cn&#x2F;cs-basics&#x2F;data-structure&#x2F;linear-data-structure.html  ç®—æ³•æ€»ç»“ä¸€ã€äºŒåˆ†æœç´¢Binar">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://www.huangrd.top/images/agentina/8.jpg">
<meta property="article:published_time" content="2023-02-11T04:12:57.000Z">
<meta property="article:modified_time" content="2023-03-08T00:44:18.412Z">
<meta property="article:author" content="Huang RD">
<meta property="article:tag" content="JAVA">
<meta property="article:tag" content="è®¡ç®—æœºåŸºç¡€">
<meta property="article:tag" content="ç®—æ³•">
<meta property="article:tag" content="æ•°æ®ç»“æ„">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://www.huangrd.top/images/agentina/8.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://www.haungrd.top/2023/02/11/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"languages":{"hits_empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹ï¼š${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"ç¹","msgToSimplifiedChinese":"ç®€"},
  noticeOutdate: {"limitDay":365,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":230},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '',
  date_suffix: {
    just: 'åˆšåˆš',
    min: 'åˆ†é’Ÿå‰',
    hour: 'å°æ—¶å‰',
    day: 'å¤©å‰',
    month: 'ä¸ªæœˆå‰'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"ä½ å·²åˆ‡æ¢ä¸ºç¹ä½“","cht_to_chs":"ä½ å·²åˆ‡æ¢ä¸ºç®€ä½“","day_to_night":"ä½ å·²åˆ‡æ¢ä¸ºæ·±è‰²æ¨¡å¼","night_to_day":"ä½ å·²åˆ‡æ¢ä¸ºæµ…è‰²æ¨¡å¼","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"top-right"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'ç®—æ³•æ€»ç»“',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-03-08 08:44:18'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const now = new Date()
          const hour = now.getHours()
          const isNight = hour <= 6 || hour >= 18
          if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
          else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://getwallpapers.com/wallpaper/full/a/1/8/1057222-free-download-cool-nature-backgrounds-1920x1200-windows-10.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">44</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">50</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">16</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><span> æ¸…å•</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> éŸ³ä¹</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> ç…§ç‰‡</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> ç”µå½±</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> å‹æƒ…é“¾æ¥</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> å…³äº</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://www.huangrd.top/images/agentina/8.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Huang Blog</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> æœç´¢</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><span> æ¸…å•</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> éŸ³ä¹</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> ç…§ç‰‡</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> ç”µå½±</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> å‹æƒ…é“¾æ¥</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> å…³äº</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">ç®—æ³•æ€»ç»“</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2023-02-11T04:12:57.000Z" title="å‘è¡¨äº 2023-02-11 12:12:57">2023-02-11</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2023-03-08T00:44:18.412Z" title="æ›´æ–°äº 2023-03-08 08:44:18">2023-03-08</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E7%AE%97%E6%B3%95/">ç®—æ³•</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">å­—æ•°æ€»è®¡:</span><span class="word-count">173.8k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»æ—¶é•¿:</span><span>678åˆ†é’Ÿ</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="ç®—æ³•æ€»ç»“"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»é‡:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><blockquote>
<p>éƒ¨åˆ†æ¥æºäºï¼š</p>
<p>åŠ›æ‰£Krahetsï¼Œé“¾æ¥ï¼š<a target="_blank" rel="noopener" href="https://leetcode.cn/leetbook/read/illustration-of-algorithm/5dj09d/">https://leetcode.cn/leetbook/read/illustration-of-algorithm/5dj09d/</a></p>
<p>ä»£ç éšæƒ³å½•</p>
<p>java guide åŸæ–‡é“¾æ¥ï¼š<a target="_blank" rel="noopener" href="https://javaguide.cn/cs-basics/data-structure/linear-data-structure.html">https://javaguide.cn/cs-basics/data-structure/linear-data-structure.html</a></p>
</blockquote>
<h1 id="ç®—æ³•æ€»ç»“"><a href="#ç®—æ³•æ€»ç»“" class="headerlink" title="ç®—æ³•æ€»ç»“"></a>ç®—æ³•æ€»ç»“</h1><h2 id="ä¸€ã€äºŒåˆ†æœç´¢"><a href="#ä¸€ã€äºŒåˆ†æœç´¢" class="headerlink" title="ä¸€ã€äºŒåˆ†æœç´¢"></a>ä¸€ã€äºŒåˆ†æœç´¢</h2><p>Binary Search</p>
<p>å¯¹äºå·²ç»æœ‰åºçš„æ•°ç»„ï¼Œä½¿ç”¨äºŒåˆ†æœç´¢åŠ å¿«æœç´¢é€Ÿåº¦</p>
<p>æ—¶é—´å¤æ‚åº¦O(logN)</p>
<ol>
<li><p>æœ‰ä¸€ä¸ªæœ‰åºè¡¨ä¸º 1,5,8,11,19,22,31,35,40,45,48,49,50 å½“äºŒåˆ†æŸ¥æ‰¾å€¼ä¸º 48 çš„ç»“ç‚¹æ—¶ï¼ŒæŸ¥æ‰¾æˆåŠŸéœ€è¦æ¯”è¾ƒçš„æ¬¡æ•° </p>
</li>
<li><p>ä½¿ç”¨äºŒåˆ†æ³•åœ¨åºåˆ— 1,4,6,7,15,33,39,50,64,78,75,81,89,96 ä¸­æŸ¥æ‰¾å…ƒç´  81 æ—¶ï¼Œéœ€è¦ç»è¿‡ï¼ˆ   ï¼‰æ¬¡æ¯”è¾ƒ</p>
</li>
<li><p>åœ¨æ‹¥æœ‰128ä¸ªå…ƒç´ çš„æ•°ç»„ä¸­äºŒåˆ†æŸ¥æ‰¾ä¸€ä¸ªæ•°ï¼Œéœ€è¦æ¯”è¾ƒçš„æ¬¡æ•°æœ€å¤šä¸è¶…è¿‡å¤šå°‘æ¬¡</p>
</li>
</ol>
<p>å¯¹äºå‰ä¸¤ä¸ªé¢˜ç›®ï¼Œè®°å¾—ä¸€ä¸ªç®€è¦åˆ¤æ–­å£è¯€ï¼šå¥‡æ•°äºŒåˆ†å–ä¸­é—´ï¼Œå¶æ•°äºŒåˆ†å–ä¸­é—´é å·¦ã€‚å¯¹äºåä¸€é“é¢˜ç›®ï¼Œéœ€è¦çŸ¥é“å…¬å¼ï¼š</p>
<p>n &#x3D; log2N &#x3D; log_{10}N&#x2F;log_{10}2</p>
<p>å…¶ä¸­ n ä¸ºæŸ¥æ‰¾æ¬¡æ•°ï¼ŒN ä¸ºå…ƒç´ ä¸ªæ•°</p>
<p>äºŒåˆ†æ³•çš„ä¸¤ç§å†™æ³•ï¼š</p>
<ul>
<li>å·¦é—­å³é—­[left,right]</li>
<li>å·¦é—­å³å¼€[left,right)</li>
</ul>
<h3 id="1-1ã€å·¦é—­å³é—­"><a href="#1-1ã€å·¦é—­å³é—­" class="headerlink" title="1.1ã€å·¦é—­å³é—­"></a>1.1ã€å·¦é—­å³é—­</h3><p> target æ˜¯åœ¨ä¸€ä¸ªåœ¨å·¦é—­å³é—­çš„åŒºé—´é‡Œï¼Œ[left, right] ã€‚</p>
<p>å¯¹äºå·¦é—­å³é—­çš„å†™æ³•ï¼š</p>
<ul>
<li>while (left &lt;&#x3D; right) è¦ä½¿ç”¨ &lt;&#x3D; ï¼Œå› ä¸ºleft &#x3D;&#x3D; rightæ˜¯æœ‰æ„ä¹‰çš„ï¼Œæ‰€ä»¥ä½¿ç”¨ &lt;&#x3D;</li>
<li>if (nums[middle] &gt; target) right è¦èµ‹å€¼ä¸º middle - 1ï¼Œå› ä¸ºå½“å‰è¿™ä¸ªnums[middle]ä¸€å®šä¸æ˜¯targetï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥è¦æŸ¥æ‰¾çš„å·¦åŒºé—´ç»“æŸä¸‹æ ‡ä½ç½®å°±æ˜¯ middle - 1</li>
</ul>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/20210311153055723.jpg" alt="704.äºŒåˆ†æŸ¥æ‰¾" style="zoom:100%;" />

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å·¦é—­å³é—­</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">binarySearch1</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> nums.length - <span class="number">1</span>;<span class="comment">//åŒºé—´[leftï¼Œright]è¦æœ‰æ„ä¹‰</span></span><br><span class="line">    <span class="keyword">while</span> (left &lt;= right) &#123;<span class="comment">//æ³¨æ„ç‚¹1</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> left + ((right - left) / <span class="number">2</span>);<span class="comment">//é˜²æ­¢æº¢å‡º</span></span><br><span class="line">        <span class="keyword">if</span> (nums[mid] &lt; target) &#123;</span><br><span class="line">            left = mid + <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[mid] &gt; target) &#123;</span><br><span class="line">            right = mid - <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">return</span> mid;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="1-2ã€å·¦é—­å³å¼€"><a href="#1-2ã€å·¦é—­å³å¼€" class="headerlink" title="1.2ã€å·¦é—­å³å¼€"></a>1.2ã€å·¦é—­å³å¼€</h3><p>å®šä¹‰ target æ˜¯åœ¨ä¸€ä¸ªåœ¨å·¦é—­å³å¼€çš„åŒºé—´é‡Œï¼Œä¹Ÿå°±æ˜¯[left, right)ã€‚</p>
<p>å¯¹äºå·¦é—­å³å¼€çš„å†™æ³•ï¼š</p>
<ul>
<li>while (left &lt; right)ï¼Œè¿™é‡Œä½¿ç”¨ &lt; ,å› ä¸ºleft &#x3D;&#x3D; rightåœ¨åŒºé—´[left, right)æ˜¯æ²¡æœ‰æ„ä¹‰çš„</li>
<li>if (nums[middle] &gt; target) right æ›´æ–°ä¸º middleï¼Œå› ä¸ºå½“å‰nums[middle]ä¸ç­‰äºtargetï¼Œå»å·¦åŒºé—´ç»§ç»­å¯»æ‰¾ï¼Œè€Œå¯»æ‰¾åŒºé—´æ˜¯å·¦é—­å³å¼€åŒºé—´ï¼Œæ‰€ä»¥rightæ›´æ–°ä¸ºmiddleï¼Œå³ï¼šä¸‹ä¸€ä¸ªæŸ¥è¯¢åŒºé—´ä¸ä¼šå»æ¯”è¾ƒnums[middle]</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/20210311153123632.jpg"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å·¦é—­å³å¼€</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">binarySearch2</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> nums.length;<span class="comment">//åŒºé—´[left,right)</span></span><br><span class="line">    <span class="keyword">while</span> (left &lt; right) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> left + ((right - left) / <span class="number">2</span>);</span><br><span class="line">        <span class="keyword">if</span> (nums[mid] &lt; target) &#123;<span class="comment">//å·¦é—­</span></span><br><span class="line">            left = mid + <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[mid] &gt; target) &#123;<span class="comment">//å³å¼€</span></span><br><span class="line">            right = mid;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">return</span> mid;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="äºŒåˆ†æ³•æŸ¥æ‰¾å·¦å³è¾¹ç•Œ"><a href="#äºŒåˆ†æ³•æŸ¥æ‰¾å·¦å³è¾¹ç•Œ" class="headerlink" title="äºŒåˆ†æ³•æŸ¥æ‰¾å·¦å³è¾¹ç•Œ"></a>äºŒåˆ†æ³•æŸ¥æ‰¾å·¦å³è¾¹ç•Œ</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">binarySearch</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>, right = nums.length - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (left &lt;= right) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> left + (right - left) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (nums[mid] == target) &#123;</span><br><span class="line">            <span class="keyword">return</span> mid;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[mid] &lt; target) &#123;</span><br><span class="line">            left = mid + <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            right = mid - <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">binarySearchFindLeft</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>, right = nums.length;</span><br><span class="line">    <span class="keyword">while</span> (left &lt; right) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> left + (right - left) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (nums[mid] &lt; target) &#123;</span><br><span class="line">            left = mid + <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// ä¸è¿”å›ï¼Œæ”¶ç¼©å³è¾¹ç•Œï¼Œæ‰¾åˆ°å·¦ä¾§è¾¹ç•Œ åˆå¹¶ &gt; æƒ…å†µ</span></span><br><span class="line">            right = mid;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> left != nums.length &amp;&amp; nums[left] == target ? left : -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">binarySearchFindRight</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>, right = nums.length;</span><br><span class="line">    <span class="keyword">while</span> (left &lt; right) &#123;</span><br><span class="line">        <span class="comment">// ä¸è¿”å›ï¼Œæ”¶ç¼©å·¦è¾¹ç•Œï¼Œæ‰¾åˆ°å·¦å³ä¾§è¾¹ç•Œ</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> left + (right - left) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (nums[mid] &lt;= target) &#123;</span><br><span class="line">            left = mid + <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            right = mid;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> left != <span class="number">0</span> &amp;&amp; nums[left - <span class="number">1</span>] == target ? left - <span class="number">1</span> : -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="type">int</span>[] nums = &#123;<span class="number">1</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">11</span>, <span class="number">19</span>, <span class="number">19</span>, <span class="number">19</span>, <span class="number">22</span>, <span class="number">31</span>, <span class="number">35</span>, <span class="number">40</span>, <span class="number">45</span>, <span class="number">48</span>, <span class="number">49</span>, <span class="number">50</span>&#125;;</span><br><span class="line">    System.out.println(binarySearchFindLeft(nums, <span class="number">19</span>));</span><br><span class="line">    System.out.println(binarySearch(nums, <span class="number">19</span>));</span><br><span class="line">    System.out.println(binarySearchFindRight(nums, <span class="number">19</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="1-3ã€LC69-x-çš„å¹³æ–¹æ ¹"><a href="#1-3ã€LC69-x-çš„å¹³æ–¹æ ¹" class="headerlink" title="1.3ã€LC69 x çš„å¹³æ–¹æ ¹"></a>1.3ã€LC69 x çš„å¹³æ–¹æ ¹</h3><p>ç»™ä½ ä¸€ä¸ªéè´Ÿæ•´æ•° <code>x</code> ï¼Œè®¡ç®—å¹¶è¿”å› <code>x</code> çš„ <strong>ç®—æœ¯å¹³æ–¹æ ¹</strong> ã€‚</p>
<p>ç”±äºè¿”å›ç±»å‹æ˜¯æ•´æ•°ï¼Œç»“æœåªä¿ç•™ <strong>æ•´æ•°éƒ¨åˆ†</strong> ï¼Œå°æ•°éƒ¨åˆ†å°†è¢« <strong>èˆå» ã€‚</strong></p>
<p><strong>æ³¨æ„ï¼š</strong>ä¸å…è®¸ä½¿ç”¨ä»»ä½•å†…ç½®æŒ‡æ•°å‡½æ•°å’Œç®—ç¬¦ï¼Œä¾‹å¦‚ <code>pow(x, 0.5)</code> æˆ–è€… <code>x ** 0.5</code> ã€‚</p>
<p>åˆ©ç”¨äºŒåˆ†æ³•çš„æ€è·¯ï¼Œåœ¨0~x-1ä¸­æœç´¢å‡ºä»–çš„å¹³æ–¹æ ¹ï¼Œæ’é™¤ç‰¹ä¾‹ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">mySqrt</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * äºŒåˆ†æŸ¥æ‰¾</span></span><br><span class="line"><span class="comment">     * [left,right)</span></span><br><span class="line"><span class="comment">     * */</span></span><br><span class="line">    <span class="comment">//å› ä¸ºå®šä¹‰çš„åŒºé—´ä¸ºå·¦é—­å³å¼€ï¼Œå¯¹äºxï¼Œå½“x &lt; 2çš„æ—¶å€™ï¼Œxæ‰ä¼šå–0 or x å³ 0 1</span></span><br><span class="line">    <span class="keyword">if</span> (x &lt; <span class="number">2</span>) <span class="keyword">return</span> x;</span><br><span class="line">    <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> x;</span><br><span class="line">    <span class="keyword">while</span> (left &lt; right) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> left + ((right - left) / <span class="number">2</span>);</span><br><span class="line">        <span class="keyword">if</span> (mid &gt; x / mid) &#123;</span><br><span class="line">            <span class="comment">//mid &gt; x / midé˜²æ­¢æº¢å‡º</span></span><br><span class="line">            right = mid;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (mid &lt; x / mid) &#123;</span><br><span class="line">            left = mid + <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">return</span> mid;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> right - <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é¢è¯•é¢˜ç›®è¦æ±‚ï¼šæ±‚æŸæ­£æ•´æ•°çš„å¹³æ–¹æ ¹ï¼Œè¦æ±‚è¯¯å·®å°äº0.01</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//äºŒåˆ†æ³•è¿›è¡Œå¤„ç†ï¼Œæ³¨æ„å˜é‡ç±»å‹</span></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">double</span> <span class="title function_">sqrt</span><span class="params">(<span class="type">int</span> target)</span>&#123;</span><br><span class="line">        <span class="type">double</span> n=<span class="number">1e-2</span>;            <span class="comment">//åœ¨è¿™é‡Œå¯æ ¹æ®ç²¾åº¦è¦æ±‚è¿›è¡Œè°ƒæ•´</span></span><br><span class="line">        <span class="type">double</span> l=<span class="number">0</span>,r=target;      <span class="comment">//è¿™é‡Œè‹¥åˆå§‹åŒ–r=target/2çš„è¯ï¼Œåˆ™å¤„ç†è¾ƒå°æ­£æ•´æ•°ä¼šå‡ºé”™ï¼Œå¦‚1,2</span></span><br><span class="line">        <span class="keyword">while</span>(l&lt;=r)&#123;              <span class="comment">//äºŒåˆ†æŸ¥æ‰¾</span></span><br><span class="line">            <span class="type">double</span> mid=(l+r)/<span class="number">2</span>;</span><br><span class="line">            <span class="comment">//è¿™é‡Œç”¨é™¤æ³•ï¼Œè€Œä¸ç”¨mid*midä¸targetæ¯”è¾ƒï¼Œæ˜¯é˜²æ­¢midè¿‡å¤§æ—¶ï¼Œmid*midäº§ç”Ÿæº¢å‡ºé—®é¢˜</span></span><br><span class="line">            <span class="keyword">if</span>(target/mid&lt;mid)&#123;   </span><br><span class="line">                r=mid-n;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                l=mid+n;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> r;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="1-4ã€LC367-æœ‰æ•ˆçš„å®Œå…¨å¹³æ–¹æ•°"><a href="#1-4ã€LC367-æœ‰æ•ˆçš„å®Œå…¨å¹³æ–¹æ•°" class="headerlink" title="1.4ã€LC367 æœ‰æ•ˆçš„å®Œå…¨å¹³æ–¹æ•°"></a>1.4ã€LC367 æœ‰æ•ˆçš„å®Œå…¨å¹³æ–¹æ•°</h3><p>ç»™å®šä¸€ä¸ª <strong>æ­£æ•´æ•°</strong> <code>num</code> ï¼Œç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œå¦‚æœ <code>num</code> æ˜¯ä¸€ä¸ªå®Œå…¨å¹³æ–¹æ•°ï¼Œåˆ™è¿”å› <code>true</code> ï¼Œå¦åˆ™è¿”å› <code>false</code> ã€‚</p>
<p><strong>è¿›é˜¶ï¼šä¸è¦</strong> ä½¿ç”¨ä»»ä½•å†…ç½®çš„åº“å‡½æ•°ï¼Œå¦‚ <code>sqrt</code> ã€‚</p>
<p>é˜²æ­¢è¶Šç•Œï¼Œç”¨longè¡¨ç¤ºã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* äºŒåˆ†æ³•</span></span><br><span class="line"><span class="comment">* [left,right]å·¦é—­å³é—­</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isPerfectSquare</span><span class="params">(<span class="type">int</span> num)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> num;</span><br><span class="line">    <span class="keyword">while</span> (left &lt;= right) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> left + ((right - left) / <span class="number">2</span>);</span><br><span class="line">        <span class="type">long</span> <span class="variable">square</span> <span class="operator">=</span> (<span class="type">long</span>) mid * mid;</span><br><span class="line">        <span class="keyword">if</span> (square &gt; num) &#123;</span><br><span class="line">            right = mid - <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (square &lt; num) &#123;</span><br><span class="line">            left = mid + <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="1-5ã€LC1802-æœ‰ç•Œæ•°ç»„ä¸­æŒ‡å®šä¸‹æ ‡å¤„çš„æœ€å¤§å€¼"><a href="#1-5ã€LC1802-æœ‰ç•Œæ•°ç»„ä¸­æŒ‡å®šä¸‹æ ‡å¤„çš„æœ€å¤§å€¼" class="headerlink" title="1.5ã€LC1802. æœ‰ç•Œæ•°ç»„ä¸­æŒ‡å®šä¸‹æ ‡å¤„çš„æœ€å¤§å€¼"></a>1.5ã€LC1802. æœ‰ç•Œæ•°ç»„ä¸­æŒ‡å®šä¸‹æ ‡å¤„çš„æœ€å¤§å€¼</h3><p>ç»™ä½ ä¸‰ä¸ªæ­£æ•´æ•° <code>n</code>ã€<code>index</code> å’Œ <code>maxSum</code> ã€‚ä½ éœ€è¦æ„é€ ä¸€ä¸ªåŒæ—¶æ»¡è¶³ä¸‹è¿°æ‰€æœ‰æ¡ä»¶çš„æ•°ç»„ <code>nums</code>ï¼ˆä¸‹æ ‡ <strong>ä» 0 å¼€å§‹</strong> è®¡æ•°ï¼‰ï¼š</p>
<ul>
<li><code>nums.length == n</code></li>
<li><code>nums[i]</code> æ˜¯ <strong>æ­£æ•´æ•°</strong> ï¼Œå…¶ä¸­ <code>0 &lt;= i &lt; n</code></li>
<li><code>abs(nums[i] - nums[i+1]) &lt;= 1</code> ï¼Œå…¶ä¸­ <code>0 &lt;= i &lt; n-1</code></li>
<li><code>nums</code> ä¸­æ‰€æœ‰å…ƒç´ ä¹‹å’Œä¸è¶…è¿‡ <code>maxSum</code></li>
<li><code>nums[index]</code> çš„å€¼è¢« <strong>æœ€å¤§åŒ–</strong></li>
</ul>
<p>è¿”å›ä½ æ‰€æ„é€ çš„æ•°ç»„ä¸­çš„ <code>nums[index]</code> ã€‚</p>
<p>æ³¨æ„ï¼š<code>abs(x)</code> ç­‰äº <code>x</code> çš„å‰ææ˜¯ <code>x &gt;= 0</code> ï¼›å¦åˆ™ï¼Œ<code>abs(x)</code> ç­‰äº <code>-x</code> ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = 4, index = 2,  maxSum = 6</span><br><span class="line">è¾“å‡ºï¼š2</span><br><span class="line">è§£é‡Šï¼šæ•°ç»„ [1,1,2,1] å’Œ [1,2,2,1] æ»¡è¶³æ‰€æœ‰æ¡ä»¶ã€‚ä¸å­˜åœ¨å…¶ä»–åœ¨æŒ‡å®šä¸‹æ ‡å¤„å…·æœ‰æ›´å¤§å€¼çš„æœ‰æ•ˆæ•°ç»„ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = 6, index = 1,  maxSum = 10</span><br><span class="line">è¾“å‡ºï¼š3</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= n &lt;= maxSum &lt;= 109</code></li>
<li><code>0 &lt;= index &lt; n</code></li>
</ul>
<p>Related Topics</p>
<p>è´ªå¿ƒ</p>
<p>äºŒåˆ†æŸ¥æ‰¾</p>
<p>ğŸ‘ 81</p>
<p>ğŸ‘ 0</p>
<h4 id="æ–¹æ³•ä¸€ï¼šäºŒåˆ†æŸ¥æ‰¾"><a href="#æ–¹æ³•ä¸€ï¼šäºŒåˆ†æŸ¥æ‰¾" class="headerlink" title="æ–¹æ³•ä¸€ï¼šäºŒåˆ†æŸ¥æ‰¾"></a>æ–¹æ³•ä¸€ï¼šäºŒåˆ†æŸ¥æ‰¾</h4><p>æ ¹æ®é¢˜ç›®æè¿°ï¼Œå¦‚æœæˆ‘ä»¬ç¡®å®šäº† nums[index] çš„å€¼ä¸º xï¼Œæ­¤æ—¶æˆ‘ä»¬å¯ä»¥æ‰¾åˆ°ä¸€ä¸ªæœ€å°çš„æ•°ç»„æ€»å’Œã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ index å·¦ä¾§çš„æ•°ç»„å…ƒç´ ä» x-1 æ¯æ¬¡é€’å‡ 1ï¼Œå¦‚æœå‡åˆ° 1 åè¿˜æœ‰å‰©ä½™å…ƒç´ ï¼Œé‚£ä¹ˆå‰©ä½™çš„å…ƒç´ éƒ½ä¸º 1ï¼›åŒæ ·çš„ï¼Œåœ¨ index åŠå³ä¾§çš„æ•°ç»„å…ƒç´ ä» x ä¹Ÿæ˜¯æ¯æ¬¡é€’å‡ 1ï¼Œå¦‚æœå‡åˆ° 1 åè¿˜æœ‰å‰©ä½™å…ƒç´ ï¼Œé‚£ä¹ˆå‰©ä½™çš„å…ƒç´ ä¹Ÿéƒ½ä¸º 1ã€‚</p>
<p>è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥è®¡ç®—å‡ºæ•°ç»„çš„æ€»å’Œï¼Œå¦‚æœæ€»å’Œå°äºç­‰äº maxSumï¼Œé‚£ä¹ˆæ­¤æ—¶çš„ x æ˜¯åˆæ³•çš„ã€‚éšç€ x çš„å¢å¤§ï¼Œæ•°ç»„çš„æ€»å’Œä¹Ÿä¼šå¢å¤§ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾çš„æ–¹æ³•ï¼Œæ‰¾åˆ°ä¸€ä¸ªæœ€å¤§çš„ä¸”ç¬¦åˆæ¡ä»¶çš„ xã€‚</p>
<p>ä¸ºäº†æ–¹ä¾¿è®¡ç®—æ•°ç»„å·¦ä¾§ã€å³ä¾§çš„å…ƒç´ ä¹‹å’Œï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªå‡½æ•° sum(x, cnt)ï¼Œè¡¨ç¤ºä¸€å…±æœ‰ cnt ä¸ªå…ƒç´ ï¼Œä¸”æœ€å¤§å€¼ä¸º x çš„æ•°ç»„çš„æ€»å’Œã€‚å‡½æ•° sum(x, cnt) å¯ä»¥åˆ†ä¸ºä¸¤ç§æƒ…å†µï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">è®¡ç®—[0,idx] å’Œ [idx, n - 1]åŒºé—´æ‰€æœ‰å…ƒç´ çš„å’Œ</span><br><span class="line">è®¾cntä¸ºåŒºé—´çš„å…ƒç´ ä¸ªæ•°ï¼Œå³idx + 1 æˆ– n - idx</span><br><span class="line">1. cnt &gt;= x, é‚£ä¹ˆä¼šæœ‰å¤šä½™çš„æ•°å…¨éƒ¨æ”¾ç½®ä¸º1: cnt - mid, å‰©ä¸‹çš„æ•°ä¸º1,2,...x, å’Œä¸º(x+1)*x/2ã€‚  </span><br><span class="line">æ€»å’Œ = cnt - x + (x+1)*x/2</span><br><span class="line">2. cnt &lt; x, é‚£ä¹ˆæ”¾ç½®çš„æ•°ä¸º x - cnt + 1, x - cnt, ...., xå³[x-cnt+1, x],</span><br><span class="line">æ€»å’Œ = (2x-cnt+1) * cnt / 2</span><br></pre></td></tr></table></figure>



<ul>
<li><p>å¦‚æœ x â‰¥ cntï¼Œé‚£ä¹ˆæ•°ç»„çš„æ€»å’Œä¸º [(x+xâˆ’cnt+1)Ã—cnt]&#x2F;2</p>
</li>
<li><p>å¦‚æœ x &lt; cntï¼Œé‚£ä¹ˆæ•°ç»„çš„æ€»å’Œä¸º [(x+1)Ã—x]&#x2F;2+cntâˆ’x</p>
</li>
</ul>
<p>å¯¹äºæ»¡è¶³æ¡ä»¶çš„æœ€å¤§çš„ xï¼Œx+1ï¼Œx+2,â€¦ ä¸€å®šä¸æ»¡è¶³æ¡ä»¶ï¼Œè€Œ 1,2,â€¦,x è¿™äº›æ•°éƒ½æ»¡è¶³æ¡ä»¶ï¼Œæˆ‘ä»¬éœ€è¦å¯»æ‰¾æœ€å¤§çš„xï¼Œç”±äº n&#x3D;10^9, ç›´æ¥å¾ªç¯è‚¯å®šä¸è¡Œï¼Œæˆ‘ä»¬ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾æ¥å¯»æ‰¾æ»¡è¶³æ¡ä»¶çš„æœ€å¤§xã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œå®šä¹‰äºŒåˆ†çš„å·¦è¾¹ç•Œ left &#x3D; 1ï¼Œå³è¾¹ç•Œ right &#x3D; maxSumï¼Œç„¶åäºŒåˆ†æŸ¥æ‰¾ nums[index] çš„å€¼ midï¼Œå¦‚æœ sum(midâˆ’1,index) + sum(mid,nâˆ’index) â‰¤ maxSumï¼Œé‚£ä¹ˆæ­¤æ—¶çš„ mid æ˜¯åˆæ³•çš„ï¼Œæˆ‘ä»¬å¯ä»¥å°† left æ›´æ–°ä¸º midï¼Œå¦åˆ™æˆ‘ä»¬å°† right æ›´æ–°ä¸º mid - 1ã€‚</p>
<p>æœ€åå°† left ä½œä¸ºç­”æ¡ˆè¿”å›å³å¯ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxValue</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span> index, <span class="type">int</span> maxSum)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">1</span>, right = maxSum;</span><br><span class="line">        <span class="keyword">while</span> (left &lt; right) &#123;</span><br><span class="line">            <span class="comment">// å½“ç”¨åˆ°çš„æ˜¯r=midæ˜¯ï¼Œå°±æ˜¯mid=l+r&gt;&gt;1,å½“ç”¨åˆ°çš„æ˜¯l=midæ—¶ï¼Œå°±æ˜¯mid=l+r+1&gt;&gt;1,è¿™æ˜¯åˆ«äººæ€»ç»“å‡ºæ¥çš„ç»éªŒï¼Œè¿™æ ·å°±é¿å…äº†å‡ºç°å„ç§å„æ ·çš„è¾¹ç•Œé”™è¯¯ã€‚</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> (left + right + <span class="number">1</span>) &gt;&gt;&gt; <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span> (sum(mid - <span class="number">1</span>, index) + sum(mid, n - index) &lt;= maxSum) &#123;</span><br><span class="line">                left = mid;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                right = mid - <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> left;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">long</span> <span class="title function_">sum</span><span class="params">(<span class="type">long</span> x, <span class="type">int</span> cnt)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> x &gt;= cnt ? (x + x - cnt + <span class="number">1</span>) * cnt / <span class="number">2</span> : (x + <span class="number">1</span>) * x / <span class="number">2</span> + cnt - x;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O*(log<em>N</em>)*</li>
<li>ç©ºé—´å¤æ‚åº¦ O(1)ã€‚å…¶ä¸­ N &#x3D; maxSum</li>
</ul>
<h3 id="1-6ã€LC33-æœç´¢æ—‹è½¬æ’åºæ•°ç»„"><a href="#1-6ã€LC33-æœç´¢æ—‹è½¬æ’åºæ•°ç»„" class="headerlink" title="1.6ã€LC33. æœç´¢æ—‹è½¬æ’åºæ•°ç»„"></a>1.6ã€LC33. æœç´¢æ—‹è½¬æ’åºæ•°ç»„</h3><p>æ•´æ•°æ•°ç»„ <code>nums</code> æŒ‰å‡åºæ’åˆ—ï¼Œæ•°ç»„ä¸­çš„å€¼ <strong>äº’ä¸ç›¸åŒ</strong> ã€‚</p>
<p>åœ¨ä¼ é€’ç»™å‡½æ•°ä¹‹å‰ï¼Œ<code>nums</code> åœ¨é¢„å…ˆæœªçŸ¥çš„æŸä¸ªä¸‹æ ‡ <code>k</code>ï¼ˆ<code>0 &lt;= k &lt; nums.length</code>ï¼‰ä¸Šè¿›è¡Œäº† <strong>æ—‹è½¬</strong>ï¼Œä½¿æ•°ç»„å˜ä¸º <code>[nums[k], nums[k+1], ..., nums[n-1], nums[0], nums[1], ..., nums[k-1]]</code>ï¼ˆä¸‹æ ‡ <strong>ä» 0 å¼€å§‹</strong> è®¡æ•°ï¼‰ã€‚ä¾‹å¦‚ï¼Œ <code>[0,1,2,4,5,6,7]</code> åœ¨ä¸‹æ ‡ <code>3</code> å¤„ç»æ—‹è½¬åå¯èƒ½å˜ä¸º <code>[4,5,6,7,0,1,2]</code> ã€‚</p>
<p>ç»™ä½  <strong>æ—‹è½¬å</strong> çš„æ•°ç»„ <code>nums</code> å’Œä¸€ä¸ªæ•´æ•° <code>target</code> ï¼Œå¦‚æœ <code>nums</code> ä¸­å­˜åœ¨è¿™ä¸ªç›®æ ‡å€¼ <code>target</code> ï¼Œåˆ™è¿”å›å®ƒçš„ä¸‹æ ‡ï¼Œå¦åˆ™è¿”å› <code>-1</code> ã€‚</p>
<p>ä½ å¿…é¡»è®¾è®¡ä¸€ä¸ªæ—¶é—´å¤æ‚åº¦ä¸º <code>O(log n)</code> çš„ç®—æ³•è§£å†³æ­¤é—®é¢˜ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [4,5,6,7,0,1,2], target = 0</span><br><span class="line">è¾“å‡ºï¼š4</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [4,5,6,7,0,1,2], target = 3</span><br><span class="line">è¾“å‡ºï¼š-1</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [1], target = 0</span><br><span class="line">è¾“å‡ºï¼š-1</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= nums.length &lt;= 5000</code></li>
<li><code>-104 &lt;= nums[i] &lt;= 104</code></li>
<li><code>nums</code> ä¸­çš„æ¯ä¸ªå€¼éƒ½ <strong>ç‹¬ä¸€æ— äºŒ</strong></li>
<li>é¢˜ç›®æ•°æ®ä¿è¯ <code>nums</code> åœ¨é¢„å…ˆæœªçŸ¥çš„æŸä¸ªä¸‹æ ‡ä¸Šè¿›è¡Œäº†æ—‹è½¬</li>
<li><code>-104 &lt;= target &lt;= 104</code></li>
</ul>
<p>Related Topics</p>
<p>æ•°ç»„</p>
<p>äºŒåˆ†æŸ¥æ‰¾</p>
<p>ğŸ‘ 2442</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>å…ˆæ ¹æ® nums[mid] ä¸ nums[left] çš„å…³ç³»åˆ¤æ–­ mid æ˜¯åœ¨å·¦æ®µè¿˜æ˜¯å³æ®µï¼Œæ¥ä¸‹æ¥å†åˆ¤æ–­ target æ˜¯åœ¨ mid çš„å·¦è¾¹è¿˜æ˜¯å³è¾¹ï¼Œä»è€Œæ¥è°ƒæ•´å·¦å³è¾¹ç•Œ left å’Œ rightã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">search</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>, right = nums.length - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (left &lt;= right) &#123; <span class="comment">// [,]å·¦é—­å³é—­</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> left + (right - left) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span> (nums[mid] == target) &#123;</span><br><span class="line">                <span class="keyword">return</span> mid;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// å…ˆæ ¹æ® nums[mid] ä¸ nums[left] çš„å…³ç³»åˆ¤æ–­ mid æ˜¯åœ¨å·¦æ®µè¿˜æ˜¯å³æ®µ</span></span><br><span class="line">            <span class="keyword">if</span> (nums[mid] &gt;= nums[left]) &#123;</span><br><span class="line">                <span class="comment">// å†åˆ¤æ–­ target æ˜¯åœ¨ mid çš„å·¦è¾¹è¿˜æ˜¯å³è¾¹ï¼Œä»è€Œè°ƒæ•´å·¦å³è¾¹ç•Œ left å’Œ right</span></span><br><span class="line">                <span class="keyword">if</span> (target &lt; nums[mid] &amp;&amp; target &gt;= nums[left]) &#123;</span><br><span class="line">                    right = mid - <span class="number">1</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    left = mid + <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (target &gt; nums[mid] &amp;&amp; target &lt;= nums[right]) &#123;</span><br><span class="line">                    left = mid + <span class="number">1</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    right = mid - <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦O(log N)</li>
<li>ç©ºé—´å¤æ‚åº¦O(1)</li>
</ul>
<h2 id="äºŒã€åŒæŒ‡é’ˆæ³•"><a href="#äºŒã€åŒæŒ‡é’ˆæ³•" class="headerlink" title="äºŒã€åŒæŒ‡é’ˆæ³•"></a>äºŒã€åŒæŒ‡é’ˆæ³•</h2><p>åŒæŒ‡é’ˆæ³•ï¼ˆå¿«æ…¢æŒ‡é’ˆæ³•ï¼‰ï¼š <strong>é€šè¿‡ä¸€ä¸ªå¿«æŒ‡é’ˆå’Œæ…¢æŒ‡é’ˆåœ¨ä¸€ä¸ªforå¾ªç¯ä¸‹å®Œæˆä¸¤ä¸ªforå¾ªç¯çš„å·¥ä½œã€‚</strong></p>
<p><strong>åŒæŒ‡é’ˆæ³•ï¼ˆå¿«æ…¢æŒ‡é’ˆæ³•ï¼‰åœ¨æ•°ç»„å’Œé“¾è¡¨çš„æ“ä½œä¸­æ˜¯éå¸¸å¸¸è§çš„ï¼Œå¾ˆå¤šè€ƒå¯Ÿæ•°ç»„ã€é“¾è¡¨ã€å­—ç¬¦ä¸²ç­‰æ“ä½œçš„é¢è¯•é¢˜ï¼Œéƒ½ä½¿ç”¨åŒæŒ‡é’ˆæ³•ã€‚</strong></p>
<h3 id="2-1ã€ç§»é™¤æ•°ç»„å…ƒç´ "><a href="#2-1ã€ç§»é™¤æ•°ç»„å…ƒç´ " class="headerlink" title="2.1ã€ç§»é™¤æ•°ç»„å…ƒç´ "></a>2.1ã€ç§»é™¤æ•°ç»„å…ƒç´ </h3><p>å®šä¹‰å¿«æ…¢æŒ‡é’ˆ</p>
<ul>
<li>å¿«æŒ‡é’ˆï¼šå¯»æ‰¾æ–°æ•°ç»„çš„å…ƒç´  ï¼Œæ–°æ•°ç»„å°±æ˜¯ä¸å«æœ‰ç›®æ ‡å…ƒç´ çš„æ•°ç»„</li>
<li>æ…¢æŒ‡é’ˆï¼šæŒ‡å‘æ›´æ–° æ–°æ•°ç»„ä¸‹æ ‡çš„ä½ç½®</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://tva1.sinaimg.cn/large/008eGmZEly1gntrds6r59g30du09mnpd.gif" alt="27.ç§»é™¤å…ƒç´ -åŒæŒ‡é’ˆæ³•"></p>
<h3 id="2-2ã€LC11-ç››æœ€å¤šæ°´çš„å®¹å™¨"><a href="#2-2ã€LC11-ç››æœ€å¤šæ°´çš„å®¹å™¨" class="headerlink" title="2.2ã€LC11. ç››æœ€å¤šæ°´çš„å®¹å™¨"></a>2.2ã€LC11. ç››æœ€å¤šæ°´çš„å®¹å™¨</h3><p>ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º <code>n</code> çš„æ•´æ•°æ•°ç»„ <code>height</code> ã€‚æœ‰ <code>n</code> æ¡å‚çº¿ï¼Œç¬¬ <code>i</code> æ¡çº¿çš„ä¸¤ä¸ªç«¯ç‚¹æ˜¯ <code>(i, 0)</code> å’Œ <code>(i, height[i])</code> ã€‚</p>
<p>æ‰¾å‡ºå…¶ä¸­çš„ä¸¤æ¡çº¿ï¼Œä½¿å¾—å®ƒä»¬ä¸ <code>x</code> è½´å…±åŒæ„æˆçš„å®¹å™¨å¯ä»¥å®¹çº³æœ€å¤šçš„æ°´ã€‚</p>
<p>è¿”å›å®¹å™¨å¯ä»¥å‚¨å­˜çš„æœ€å¤§æ°´é‡ã€‚</p>
<p><strong>è¯´æ˜ï¼š</strong>ä½ ä¸èƒ½å€¾æ–œå®¹å™¨ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://aliyun-lc-upload.oss-cn-hangzhou.aliyuncs.com/aliyun-lc-upload/uploads/2018/07/25/question_11.jpg" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š[1,8,6,2,5,4,8,3,7]</span><br><span class="line">è¾“å‡ºï¼š49 </span><br><span class="line">è§£é‡Šï¼šå›¾ä¸­å‚ç›´çº¿ä»£è¡¨è¾“å…¥æ•°ç»„ [1,8,6,2,5,4,8,3,7]ã€‚åœ¨æ­¤æƒ…å†µä¸‹ï¼Œå®¹å™¨èƒ½å¤Ÿå®¹çº³æ°´ï¼ˆè¡¨ç¤ºä¸ºè“è‰²éƒ¨åˆ†ï¼‰çš„æœ€å¤§å€¼ä¸º 49ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šheight = [1,1]</span><br><span class="line">è¾“å‡ºï¼š1</span><br></pre></td></tr></table></figure>

<p>é¢ç§¯ï¼šé«˜*å®½ min(height[left], height[right]) * (right - left)</p>
<ol>
<li><p>åˆå§‹åŒ–ä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘ä¸¤ä¸ªè¾¹ï¼Œè¿™ä¸ªæ—¶å€™å®½æ˜¯æœ€å¤§çš„ã€‚</p>
</li>
<li><p>å½“ä¸¤ä¸ªè¾¹å‘å†…ç¼©å°çš„æ—¶å€™,å¦‚æœé«˜æ˜¯å¢å¤§çš„è¯ï¼Œæ‰æœ‰å¯èƒ½ä¼šå¢å¤§ï¼Œå¦‚æœé«˜æ˜¯å‡å°çš„å°±ä¸èƒ½å¢å¤§ã€‚</p>
</li>
<li><p>å› æ­¤åœ¨ç¼©å°çš„æ—¶å€™ï¼Œè®©é«˜å°½å¯èƒ½å˜å¤§ï¼Œå³ç¼©å°é«˜å°çš„ä¸€è¾¹ã€‚ç›¸ç­‰çš„è¯ï¼Œä»»æ„ã€‚ï¼ˆæœ‰å¯èƒ½å­˜åœ¨å±±å³°çš„å½¢çŠ¶ï¼‰</p>
</li>
<li><p>è¿™æ ·ä¿è¯äº†åœ¨æ¯ä¸€æ¬¡é€‰æ‹©æ—¶éƒ½æ˜¯é€‰æ‹©æœ€å¤§çš„ï¼Œåœ¨éå†è¿‡ç¨‹ä¸­ç”¨resultè®°å½•æœ€å¤§å€¼è¿”å›ã€‚</p>
</li>
</ol>
<p>åªè¿›è¡Œäº†ä¸€æ¬¡éå†ã€‚<br>æ—¶é—´å¤æ‚åº¦O(N)<br>ç©ºé—´å¤æ‚åº¦O(1)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åŒæŒ‡é’ˆ</span></span><br><span class="line"><span class="comment">     * */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxArea</span><span class="params">(<span class="type">int</span>[] height)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> height.length - <span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (left &lt; right) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> (Math.min(height[left], height[right]) * (right - left));</span><br><span class="line">            result = Math.max(sum, result);</span><br><span class="line">            <span class="keyword">if</span> (height[left] &lt; height[right]) &#123;</span><br><span class="line">                left++;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                right--;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-3ã€LC141-ç¯å½¢é“¾è¡¨"><a href="#2-3ã€LC141-ç¯å½¢é“¾è¡¨" class="headerlink" title="2.3ã€LC141. ç¯å½¢é“¾è¡¨"></a>2.3ã€LC141. ç¯å½¢é“¾è¡¨</h3><p>ç»™ä½ ä¸€ä¸ªé“¾è¡¨çš„å¤´èŠ‚ç‚¹ <code>head</code> ï¼Œåˆ¤æ–­é“¾è¡¨ä¸­æ˜¯å¦æœ‰ç¯ã€‚</p>
<p>å¦‚æœé“¾è¡¨ä¸­æœ‰æŸä¸ªèŠ‚ç‚¹ï¼Œå¯ä»¥é€šè¿‡è¿ç»­è·Ÿè¸ª <code>next</code> æŒ‡é’ˆå†æ¬¡åˆ°è¾¾ï¼Œåˆ™é“¾è¡¨ä¸­å­˜åœ¨ç¯ã€‚ ä¸ºäº†è¡¨ç¤ºç»™å®šé“¾è¡¨ä¸­çš„ç¯ï¼Œè¯„æµ‹ç³»ç»Ÿå†…éƒ¨ä½¿ç”¨æ•´æ•° <code>pos</code> æ¥è¡¨ç¤ºé“¾è¡¨å°¾è¿æ¥åˆ°é“¾è¡¨ä¸­çš„ä½ç½®ï¼ˆç´¢å¼•ä» 0 å¼€å§‹ï¼‰ã€‚<strong>æ³¨æ„ï¼š<code>pos</code> ä¸ä½œä¸ºå‚æ•°è¿›è¡Œä¼ é€’</strong> ã€‚ä»…ä»…æ˜¯ä¸ºäº†æ ‡è¯†é“¾è¡¨çš„å®é™…æƒ…å†µã€‚</p>
<p><em>å¦‚æœé“¾è¡¨ä¸­å­˜åœ¨ç¯</em> ï¼Œåˆ™è¿”å› <code>true</code> ã€‚ å¦åˆ™ï¼Œè¿”å› <code>false</code> ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2018/12/07/circularlinkedlist.png" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šhead = [3,2,0,-4], pos = 1</span><br><span class="line">è¾“å‡ºï¼štrue</span><br><span class="line">è§£é‡Šï¼šé“¾è¡¨ä¸­æœ‰ä¸€ä¸ªç¯ï¼Œå…¶å°¾éƒ¨è¿æ¥åˆ°ç¬¬äºŒä¸ªèŠ‚ç‚¹ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2018/12/07/circularlinkedlist_test2.png" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šhead = [1,2], pos = 0</span><br><span class="line">è¾“å‡ºï¼štrue</span><br><span class="line">è§£é‡Šï¼šé“¾è¡¨ä¸­æœ‰ä¸€ä¸ªç¯ï¼Œå…¶å°¾éƒ¨è¿æ¥åˆ°ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2018/12/07/circularlinkedlist_test3.png" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šhead = [1], pos = -1</span><br><span class="line">è¾“å‡ºï¼šfalse</span><br><span class="line">è§£é‡Šï¼šé“¾è¡¨ä¸­æ²¡æœ‰ç¯ã€‚</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li>é“¾è¡¨ä¸­èŠ‚ç‚¹çš„æ•°ç›®èŒƒå›´æ˜¯ <code>[0, 104]</code></li>
<li><code>-105 &lt;= Node.val &lt;= 105</code></li>
<li><code>pos</code> ä¸º <code>-1</code> æˆ–è€…é“¾è¡¨ä¸­çš„ä¸€ä¸ª <strong>æœ‰æ•ˆç´¢å¼•</strong> ã€‚</li>
</ul>
<p><strong>è¿›é˜¶ï¼š</strong>ä½ èƒ½ç”¨ <code>O(1)</code>ï¼ˆå³ï¼Œå¸¸é‡ï¼‰å†…å­˜è§£å†³æ­¤é—®é¢˜å—ï¼Ÿ</p>
<p>åˆ¤æ–­é“¾è¡¨æœ‰æ²¡æœ‰ç¯</p>
<ol>
<li>å®šä¹‰å¿«æ…¢æŒ‡é’ˆï¼Œå¿«æŒ‡é’ˆæ¯æ¬¡èµ°ä¸¤æ­¥ï¼Œæ…¢æŒ‡é’ˆæ¯æ¬¡èµ°ä¸€æ­¥ã€‚</li>
<li>å¦‚æœå¿«æŒ‡é’ˆå…ˆåˆ°è¾¾äº†nullè¯æ˜æ²¡æœ‰ç¯ã€‚</li>
<li>å¦‚æœæ…¢æŒ‡é’ˆè¿½ä¸Šå¿«æŒ‡é’ˆï¼Œåˆ™è¯´æ˜æœ‰ç¯ã€‚</li>
<li>å½“å¿«æ…¢æŒ‡é’ˆç›¸é‡åï¼Œè®©å¿«æŒ‡é’ˆå¼€å§‹æ¯æ¬¡èµ°ä¸€æ­¥ï¼Œæ…¢æŒ‡é’ˆå›åˆ°åŸç‚¹ï¼Œå†æ¬¡è®©ä»–ä»¬ç›¸é‡å°±æ˜¯ç¯çš„å…¥å£èŠ‚</li>
<li><ol start="5">
<li>æ•°å­¦è¯æ˜</li>
</ol>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åŒæŒ‡é’ˆ</span></span><br><span class="line"><span class="comment">     * */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">hasCycle</span><span class="params">(ListNode head)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(head == <span class="literal">null</span> || head.next == <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">slow</span> <span class="operator">=</span> head;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">fast</span> <span class="operator">=</span> head.next;</span><br><span class="line">        <span class="keyword">while</span> (slow != fast) &#123;</span><br><span class="line">            <span class="keyword">if</span> (fast == <span class="literal">null</span> || fast.next == <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            fast = fast.next.next;</span><br><span class="line">            slow = slow.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-4ã€LC142-ç¯å½¢é“¾è¡¨II"><a href="#2-4ã€LC142-ç¯å½¢é“¾è¡¨II" class="headerlink" title="2.4ã€LC142. ç¯å½¢é“¾è¡¨II"></a>2.4ã€LC142. ç¯å½¢é“¾è¡¨II</h3><p>ç»™å®šä¸€ä¸ªé“¾è¡¨çš„å¤´èŠ‚ç‚¹ <code>head</code> ï¼Œè¿”å›é“¾è¡¨å¼€å§‹å…¥ç¯çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚ <em>å¦‚æœé“¾è¡¨æ— ç¯ï¼Œåˆ™è¿”å› <code>null</code>ã€‚</em></p>
<p>å¦‚æœé“¾è¡¨ä¸­æœ‰æŸä¸ªèŠ‚ç‚¹ï¼Œå¯ä»¥é€šè¿‡è¿ç»­è·Ÿè¸ª <code>next</code> æŒ‡é’ˆå†æ¬¡åˆ°è¾¾ï¼Œåˆ™é“¾è¡¨ä¸­å­˜åœ¨ç¯ã€‚ ä¸ºäº†è¡¨ç¤ºç»™å®šé“¾è¡¨ä¸­çš„ç¯ï¼Œè¯„æµ‹ç³»ç»Ÿå†…éƒ¨ä½¿ç”¨æ•´æ•° <code>pos</code> æ¥è¡¨ç¤ºé“¾è¡¨å°¾è¿æ¥åˆ°é“¾è¡¨ä¸­çš„ä½ç½®ï¼ˆ<strong>ç´¢å¼•ä» 0 å¼€å§‹</strong>ï¼‰ã€‚å¦‚æœ <code>pos</code> æ˜¯ <code>-1</code>ï¼Œåˆ™åœ¨è¯¥é“¾è¡¨ä¸­æ²¡æœ‰ç¯ã€‚<strong>æ³¨æ„ï¼š<code>pos</code> ä¸ä½œä¸ºå‚æ•°è¿›è¡Œä¼ é€’</strong>ï¼Œä»…ä»…æ˜¯ä¸ºäº†æ ‡è¯†é“¾è¡¨çš„å®é™…æƒ…å†µã€‚</p>
<p><strong>ä¸å…è®¸ä¿®æ”¹</strong> é“¾è¡¨ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://assets.leetcode.com/uploads/2018/12/07/circularlinkedlist.png" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šhead = [3,2,0,-4], pos = 1</span><br><span class="line">è¾“å‡ºï¼šè¿”å›ç´¢å¼•ä¸º 1 çš„é“¾è¡¨èŠ‚ç‚¹</span><br><span class="line">è§£é‡Šï¼šé“¾è¡¨ä¸­æœ‰ä¸€ä¸ªç¯ï¼Œå…¶å°¾éƒ¨è¿æ¥åˆ°ç¬¬äºŒä¸ªèŠ‚ç‚¹ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2018/12/07/circularlinkedlist_test2.png" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šhead = [1,2], pos = 0</span><br><span class="line">è¾“å‡ºï¼šè¿”å›ç´¢å¼•ä¸º 0 çš„é“¾è¡¨èŠ‚ç‚¹</span><br><span class="line">è§£é‡Šï¼šé“¾è¡¨ä¸­æœ‰ä¸€ä¸ªç¯ï¼Œå…¶å°¾éƒ¨è¿æ¥åˆ°ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2018/12/07/circularlinkedlist_test3.png" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šhead = [1], pos = -1</span><br><span class="line">è¾“å‡ºï¼šè¿”å› null</span><br><span class="line">è§£é‡Šï¼šé“¾è¡¨ä¸­æ²¡æœ‰ç¯ã€‚</span><br></pre></td></tr></table></figure>

<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202210181732061.png" alt="image-20221018173023802" style="zoom:50%;" />

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> ListNode <span class="title function_">detectCycle</span><span class="params">(ListNode head)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (head == <span class="literal">null</span> || head.next == <span class="literal">null</span> || head.next.next == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">fast</span> <span class="operator">=</span> head.next.next;</span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">slow</span> <span class="operator">=</span> head.next;</span><br><span class="line">    <span class="keyword">while</span> (fast != <span class="literal">null</span> &amp;&amp; fast.next != <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (slow == fast) &#123; <span class="comment">//æœ‰ç¯</span></span><br><span class="line">            slow = head;</span><br><span class="line">            <span class="keyword">while</span> (slow != fast) &#123;</span><br><span class="line">                slow = slow.next;</span><br><span class="line">                fast = fast.next;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> slow;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            slow = slow.next;</span><br><span class="line">            fast = fast.next.next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-5ã€å‰‘æŒ‡-Offer-18-åˆ é™¤é“¾è¡¨çš„èŠ‚ç‚¹"><a href="#2-5ã€å‰‘æŒ‡-Offer-18-åˆ é™¤é“¾è¡¨çš„èŠ‚ç‚¹" class="headerlink" title="2.5ã€å‰‘æŒ‡ Offer 18. åˆ é™¤é“¾è¡¨çš„èŠ‚ç‚¹"></a>2.5ã€å‰‘æŒ‡ Offer 18. åˆ é™¤é“¾è¡¨çš„èŠ‚ç‚¹</h3><p>ç»™å®šå•å‘é“¾è¡¨çš„å¤´æŒ‡é’ˆå’Œä¸€ä¸ªè¦åˆ é™¤çš„èŠ‚ç‚¹çš„å€¼ï¼Œå®šä¹‰ä¸€ä¸ªå‡½æ•°åˆ é™¤è¯¥èŠ‚ç‚¹ã€‚</p>
<p>è¿”å›åˆ é™¤åçš„é“¾è¡¨çš„å¤´èŠ‚ç‚¹ã€‚</p>
<p><strong>æ³¨æ„ï¼š</strong>æ­¤é¢˜å¯¹æ¯”åŸé¢˜æœ‰æ”¹åŠ¨</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: head = [4,5,1,9], val = 5</span><br><span class="line">è¾“å‡º: [4,1,9]</span><br><span class="line">è§£é‡Š: ç»™å®šä½ é“¾è¡¨ä¸­å€¼ä¸º 5 çš„ç¬¬äºŒä¸ªèŠ‚ç‚¹ï¼Œé‚£ä¹ˆåœ¨è°ƒç”¨äº†ä½ çš„å‡½æ•°ä¹‹åï¼Œè¯¥é“¾è¡¨åº”å˜ä¸º 4 -&gt; 1 -&gt; 9.</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: head = [4,5,1,9], val = 1</span><br><span class="line">è¾“å‡º: [4,5,9]</span><br><span class="line">è§£é‡Š: ç»™å®šä½ é“¾è¡¨ä¸­å€¼ä¸º 1 çš„ç¬¬ä¸‰ä¸ªèŠ‚ç‚¹ï¼Œé‚£ä¹ˆåœ¨è°ƒç”¨äº†ä½ çš„å‡½æ•°ä¹‹åï¼Œè¯¥é“¾è¡¨åº”å˜ä¸º 4 -&gt; 5 -&gt; 9.</span><br></pre></td></tr></table></figure>



<p><strong>è¯´æ˜ï¼š</strong></p>
<ul>
<li>é¢˜ç›®ä¿è¯é“¾è¡¨ä¸­èŠ‚ç‚¹çš„å€¼äº’ä¸ç›¸åŒ</li>
<li>è‹¥ä½¿ç”¨ C æˆ– C++ è¯­è¨€ï¼Œä½ ä¸éœ€è¦ <code>free</code> æˆ– <code>delete</code> è¢«åˆ é™¤çš„èŠ‚ç‚¹</li>
</ul>
<p>Related Topics</p>
<p>é“¾è¡¨</p>
<p>ğŸ‘ 268</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>æœ¬é¢˜åˆ é™¤å€¼ä¸º val çš„èŠ‚ç‚¹åˆ†éœ€ä¸ºä¸¤æ­¥ï¼šå®šä½èŠ‚ç‚¹ã€ä¿®æ”¹å¼•ç”¨ã€‚</p>
<ol>
<li>å®šä½èŠ‚ç‚¹ï¼š éå†é“¾è¡¨ï¼Œç›´åˆ° head.val &#x3D;&#x3D; val æ—¶è·³å‡ºï¼Œå³å¯å®šä½ç›®æ ‡èŠ‚ç‚¹ã€‚</li>
<li>ä¿®æ”¹å¼•ç”¨ï¼š è®¾èŠ‚ç‚¹ cur çš„å‰é©±èŠ‚ç‚¹ä¸º pre ï¼Œåç»§èŠ‚ç‚¹ä¸º cur.next ï¼›åˆ™æ‰§è¡Œ pre.next &#x3D; cur.next ï¼Œå³å¯å®ç°åˆ é™¤ cur èŠ‚ç‚¹ã€‚</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1613757478-NBOvjn-Picture1.png" alt="Picture1.png"></p>
<p><strong>ç®—æ³•æµç¨‹</strong>ï¼š</p>
<ol>
<li>ç‰¹ä¾‹å¤„ç†ï¼š å½“åº”åˆ é™¤å¤´èŠ‚ç‚¹ head æ—¶ï¼Œç›´æ¥è¿”å› head.next å³å¯ã€‚</li>
<li>åˆå§‹åŒ–ï¼š pre &#x3D; head , cur &#x3D; head.next ã€‚</li>
<li>å®šä½èŠ‚ç‚¹ï¼š å½“ cur ä¸ºç©º æˆ– cur èŠ‚ç‚¹å€¼ç­‰äº val æ—¶è·³å‡ºã€‚<ol>
<li>ä¿å­˜å½“å‰èŠ‚ç‚¹ç´¢å¼•ï¼Œå³ pre &#x3D; cur ã€‚</li>
<li>éå†ä¸‹ä¸€èŠ‚ç‚¹ï¼Œå³ cur &#x3D; cur.next ã€‚</li>
</ol>
</li>
<li>åˆ é™¤èŠ‚ç‚¹ï¼š è‹¥ cur æŒ‡å‘æŸèŠ‚ç‚¹ï¼Œåˆ™æ‰§è¡Œ pre.next &#x3D; cur.next ï¼›è‹¥ cur æŒ‡å‘ null ï¼Œä»£è¡¨é“¾è¡¨ä¸­ä¸åŒ…å«å€¼ä¸º val çš„èŠ‚ç‚¹ã€‚</li>
<li>è¿”å›å€¼ï¼š è¿”å›é“¾è¡¨å¤´éƒ¨èŠ‚ç‚¹ head å³å¯ã€‚</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1599417705-nRNZwN-Picture5.png" alt="img"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* åªèƒ½åˆ é™¤ä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> ListNode <span class="title function_">deleteNode</span><span class="params">(ListNode head, <span class="type">int</span> val)</span> &#123; </span><br><span class="line">    <span class="keyword">if</span>(head.val == val) <span class="keyword">return</span> head.next;</span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">pre</span> <span class="operator">=</span> head, cur = head.next;</span><br><span class="line">    <span class="keyword">while</span>(cur != <span class="literal">null</span> &amp;&amp; cur.val != val) &#123;</span><br><span class="line">        pre = cur;</span><br><span class="line">        cur = cur.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(cur != <span class="literal">null</span>) pre.next = cur.next;</span><br><span class="line">    <span class="keyword">return</span> head;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* å¯ä»¥åˆ å¤šä¸ªèŠ‚ç‚¹</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> ListNode <span class="title function_">deleteNode</span><span class="params">(ListNode head, <span class="type">int</span> val)</span> &#123;</span><br><span class="line">    <span class="keyword">while</span> (head != <span class="literal">null</span> &amp;&amp; head.val == val) &#123; <span class="comment">// å¤„ç†å¤´èŠ‚ç‚¹</span></span><br><span class="line">        head = head.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">cur</span> <span class="operator">=</span> head;</span><br><span class="line">    <span class="keyword">while</span> (cur != <span class="literal">null</span> &amp;&amp; cur.next != <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">next</span> <span class="operator">=</span> cur.next;</span><br><span class="line">        <span class="keyword">if</span> (next.val == val) &#123;</span><br><span class="line">            cur.next = next.next;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            cur = cur.next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> head;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(N) ï¼š N ä¸ºé“¾è¡¨é•¿åº¦ï¼Œåˆ é™¤æ“ä½œå¹³å‡éœ€å¾ªç¯ N&#x2F;2 æ¬¡ï¼Œæœ€å·® N æ¬¡ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(1) ï¼š cur, pre å ç”¨å¸¸æ•°å¤§å°é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<h3 id="2-6ã€å‰‘æŒ‡-Offer-21-è°ƒæ•´æ•°ç»„é¡ºåºä½¿å¥‡æ•°ä½äºå¶æ•°å‰é¢"><a href="#2-6ã€å‰‘æŒ‡-Offer-21-è°ƒæ•´æ•°ç»„é¡ºåºä½¿å¥‡æ•°ä½äºå¶æ•°å‰é¢" class="headerlink" title="2.6ã€å‰‘æŒ‡ Offer 21. è°ƒæ•´æ•°ç»„é¡ºåºä½¿å¥‡æ•°ä½äºå¶æ•°å‰é¢"></a>2.6ã€å‰‘æŒ‡ Offer 21. è°ƒæ•´æ•°ç»„é¡ºåºä½¿å¥‡æ•°ä½äºå¶æ•°å‰é¢</h3><p>è¾“å…¥ä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼Œå®ç°ä¸€ä¸ªå‡½æ•°æ¥è°ƒæ•´è¯¥æ•°ç»„ä¸­æ•°å­—çš„é¡ºåºï¼Œä½¿å¾—æ‰€æœ‰å¥‡æ•°åœ¨æ•°ç»„çš„å‰åŠéƒ¨åˆ†ï¼Œæ‰€æœ‰å¶æ•°åœ¨æ•°ç»„çš„ååŠéƒ¨åˆ†ã€‚</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [1,2,3,4]</span><br><span class="line">è¾“å‡ºï¼š[1,3,2,4] </span><br><span class="line">æ³¨ï¼š[3,1,2,4] ä¹Ÿæ˜¯æ­£ç¡®çš„ç­”æ¡ˆä¹‹ä¸€ã€‚</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ol>
<li><code>0 &lt;= nums.length &lt;= 50000</code></li>
<li><code>0 &lt;= nums[i] &lt;= 10000</code></li>
</ol>
<p>Related Topics</p>
<p>æ•°ç»„</p>
<p>åŒæŒ‡é’ˆ</p>
<p>æ’åº</p>
<p>ğŸ‘ 268</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>è€ƒè™‘å®šä¹‰åŒæŒ‡é’ˆ i , j åˆ†åˆ—æ•°ç»„å·¦å³ä¸¤ç«¯ï¼Œå¾ªç¯æ‰§è¡Œï¼š</p>
<ol>
<li>æŒ‡é’ˆ i ä»å·¦å‘å³å¯»æ‰¾å¶æ•°ï¼›</li>
<li>æŒ‡é’ˆ j ä»å³å‘å·¦å¯»æ‰¾å¥‡æ•°ï¼›</li>
<li>å°† å¶æ•° nums[i] å’Œ å¥‡æ•° nums[j] äº¤æ¢ã€‚</li>
</ol>
<p>å¯å§‹ç»ˆä¿è¯ï¼š æŒ‡é’ˆ i å·¦è¾¹éƒ½æ˜¯å¥‡æ•°ï¼ŒæŒ‡é’ˆ j å³è¾¹éƒ½æ˜¯å¶æ•° ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/43e965485da89efa688947bc108232f10b65b5ba5c0dbd6a68227a82c7e451e4-Picture1.png" alt="Picture1.png"></p>
<p><strong>ç®—æ³•æµç¨‹</strong>ï¼š</p>
<ol>
<li>åˆå§‹åŒ–ï¼š i , j åŒæŒ‡é’ˆï¼Œåˆ†åˆ«æŒ‡å‘æ•°ç»„ nums å·¦å³ä¸¤ç«¯ï¼›</li>
<li>å¾ªç¯äº¤æ¢ï¼š å½“ i &#x3D; j æ—¶è·³å‡ºï¼›<ol>
<li>æŒ‡é’ˆ i é‡åˆ°å¥‡æ•°åˆ™æ‰§è¡Œ i &#x3D; i + 1 è·³è¿‡ï¼Œç›´åˆ°æ‰¾åˆ°å¶æ•°ï¼›</li>
<li>æŒ‡é’ˆ j é‡åˆ°å¶æ•°åˆ™æ‰§è¡Œ j &#x3D; j - 1 è·³è¿‡ï¼Œç›´åˆ°æ‰¾åˆ°å¥‡æ•°ï¼›</li>
<li>äº¤æ¢ nums[i] å’Œ nums[j] å€¼ï¼›</li>
</ol>
</li>
<li>è¿”å›å€¼ï¼š è¿”å›å·²ä¿®æ”¹çš„ nums æ•°ç»„ã€‚</li>
</ol>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(N ï¼š N ä¸ºæ•°ç»„ nums é•¿åº¦ï¼ŒåŒæŒ‡é’ˆ i, j å…±åŒéå†æ•´ä¸ªæ•°ç»„ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(1) ï¼š åŒæŒ‡é’ˆ i, j ä½¿ç”¨å¸¸æ•°å¤§å°çš„é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<p><em>x</em>&amp;1 ä½è¿ç®— ç­‰ä»·äº x*%2 å–ä½™è¿ç®—ï¼Œå³çš†å¯ç”¨äºåˆ¤æ–­æ•°å­—å¥‡å¶æ€§ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[] exchange(<span class="type">int</span>[] nums) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>, j = nums.length - <span class="number">1</span>, tmp;</span><br><span class="line">        <span class="keyword">while</span>(i &lt; j) &#123;</span><br><span class="line">            <span class="keyword">while</span>(i &lt; j &amp;&amp; (nums[i] &amp; <span class="number">1</span>) == <span class="number">1</span>) i++; <span class="comment">// æ‰¾ä¸æ˜¯å¥‡æ•°</span></span><br><span class="line">            <span class="keyword">while</span>(i &lt; j &amp;&amp; (nums[j] &amp; <span class="number">1</span>) == <span class="number">0</span>) j--; <span class="comment">// æ‰¾ä¸æ˜¯å¶æ•°</span></span><br><span class="line">            tmp = nums[i];</span><br><span class="line">            nums[i] = nums[j];</span><br><span class="line">            nums[j] = tmp;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> nums;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-7ã€å‰‘æŒ‡-Offer-22-é“¾è¡¨ä¸­å€’æ•°ç¬¬-k-ä¸ªèŠ‚ç‚¹"><a href="#2-7ã€å‰‘æŒ‡-Offer-22-é“¾è¡¨ä¸­å€’æ•°ç¬¬-k-ä¸ªèŠ‚ç‚¹" class="headerlink" title="2.7ã€å‰‘æŒ‡ Offer 22. é“¾è¡¨ä¸­å€’æ•°ç¬¬ k ä¸ªèŠ‚ç‚¹"></a>2.7ã€å‰‘æŒ‡ Offer 22. é“¾è¡¨ä¸­å€’æ•°ç¬¬ k ä¸ªèŠ‚ç‚¹</h3><p>è¾“å…¥ä¸€ä¸ªé“¾è¡¨ï¼Œè¾“å‡ºè¯¥é“¾è¡¨ä¸­å€’æ•°ç¬¬kä¸ªèŠ‚ç‚¹ã€‚ä¸ºäº†ç¬¦åˆå¤§å¤šæ•°äººçš„ä¹ æƒ¯ï¼Œæœ¬é¢˜ä»1å¼€å§‹è®¡æ•°ï¼Œå³é“¾è¡¨çš„å°¾èŠ‚ç‚¹æ˜¯å€’æ•°ç¬¬1ä¸ªèŠ‚ç‚¹ã€‚</p>
<p>ä¾‹å¦‚ï¼Œä¸€ä¸ªé“¾è¡¨æœ‰ <code>6</code> ä¸ªèŠ‚ç‚¹ï¼Œä»å¤´èŠ‚ç‚¹å¼€å§‹ï¼Œå®ƒä»¬çš„å€¼ä¾æ¬¡æ˜¯ <code>1ã€2ã€3ã€4ã€5ã€6</code>ã€‚è¿™ä¸ªé“¾è¡¨çš„å€’æ•°ç¬¬ <code>3</code> ä¸ªèŠ‚ç‚¹æ˜¯å€¼ä¸º <code>4</code> çš„èŠ‚ç‚¹ã€‚</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ç»™å®šä¸€ä¸ªé“¾è¡¨: 1-&gt;2-&gt;3-&gt;4-&gt;5, å’Œ k = 2.</span><br><span class="line"></span><br><span class="line">è¿”å›é“¾è¡¨ 4-&gt;5.</span><br></pre></td></tr></table></figure>

<p>Related Topics</p>
<p>é“¾è¡¨</p>
<p>åŒæŒ‡é’ˆ</p>
<p>ğŸ‘ 418</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š<br>ç¬¬ä¸€æ—¶é—´æƒ³åˆ°çš„è§£æ³•ï¼š</p>
<ol>
<li>å…ˆéå†ç»Ÿè®¡é“¾è¡¨é•¿åº¦ï¼Œè®°ä¸º len ï¼›</li>
<li>è®¾ç½®ä¸€ä¸ªæŒ‡é’ˆèµ° (len-k) æ­¥ï¼Œå³å¯æ‰¾åˆ°é“¾è¡¨å€’æ•°ç¬¬ k ä¸ªèŠ‚ç‚¹ï¼›</li>
</ol>
<p>ä½¿ç”¨åŒæŒ‡é’ˆåˆ™å¯ä»¥ä¸ç”¨ç»Ÿè®¡é“¾è¡¨é•¿åº¦ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1600794523-AAMvoP-Picture1.png" alt="Picture1.png"></p>
<p><strong>ç®—æ³•æµç¨‹</strong>ï¼š</p>
<ol>
<li>åˆå§‹åŒ–ï¼š å‰æŒ‡é’ˆ former ã€åæŒ‡é’ˆ latter ï¼ŒåŒæŒ‡é’ˆéƒ½æŒ‡å‘å¤´èŠ‚ç‚¹ head ã€‚</li>
<li>æ„å»ºåŒæŒ‡é’ˆè·ç¦»ï¼š å‰æŒ‡é’ˆ former å…ˆå‘å‰èµ° k æ­¥ï¼ˆç»“æŸåï¼ŒåŒæŒ‡é’ˆ former å’Œ latter é—´ç›¸è· k æ­¥ï¼‰ã€‚</li>
<li>åŒæŒ‡é’ˆå…±åŒç§»åŠ¨ï¼š å¾ªç¯ä¸­ï¼ŒåŒæŒ‡é’ˆ former å’Œ latter æ¯è½®éƒ½å‘å‰èµ°ä¸€æ­¥ï¼Œç›´è‡³ former èµ°è¿‡é“¾è¡¨ å°¾èŠ‚ç‚¹ æ—¶è·³å‡ºï¼ˆè·³å‡ºåï¼Œ latter ä¸å°¾èŠ‚ç‚¹è·ç¦»ä¸º k-1ï¼Œå³ latter æŒ‡å‘å€’æ•°ç¬¬ k ä¸ªèŠ‚ç‚¹ï¼‰ã€‚</li>
<li>è¿”å›å€¼ï¼š è¿”å› latter å³å¯ã€‚</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1600794523-NHOoqg-Picture8.png" alt="img"></p>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(N) ï¼š N ä¸ºé“¾è¡¨é•¿åº¦ï¼›æ€»ä½“çœ‹ï¼Œ former èµ°äº† N æ­¥ï¼Œ latter èµ°äº† (N-k) æ­¥ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(1) ï¼š åŒæŒ‡é’ˆ former , latter ä½¿ç”¨å¸¸æ•°å¤§å°çš„é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> ListNode <span class="title function_">getKthFromEnd</span><span class="params">(ListNode head, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">former</span> <span class="operator">=</span> head, latter = head;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; k; i++)</span><br><span class="line">            <span class="keyword">if</span>(former == <span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">            former = former.next;</span><br><span class="line">        <span class="keyword">while</span>(former != <span class="literal">null</span>) &#123;</span><br><span class="line">            former = former.next;</span><br><span class="line">            latter = latter.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> latter;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>code2:å…ˆç»Ÿè®¡é“¾è¡¨é•¿åº¦ï¼Œå†éå†ä¸€æ¬¡è¿”å›å€’æ•°ç¬¬kä¸ªèŠ‚ç‚¹ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> ListNode <span class="title function_">getKthFromEnd</span><span class="params">(ListNode head, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">cur</span> <span class="operator">=</span> head;</span><br><span class="line">    <span class="comment">// ç»Ÿè®¡é•¿åº¦</span></span><br><span class="line">    <span class="keyword">while</span> (cur != <span class="literal">null</span>) &#123;</span><br><span class="line">        cur = cur.next;</span><br><span class="line">        len++;</span><br><span class="line">    &#125;</span><br><span class="line">    len = len - k;</span><br><span class="line">    cur = head;</span><br><span class="line">    <span class="keyword">while</span> (len != <span class="number">0</span>) &#123;</span><br><span class="line">        len--;</span><br><span class="line">        cur = cur.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> cur;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-8ã€LC206-åè½¬é“¾è¡¨"><a href="#2-8ã€LC206-åè½¬é“¾è¡¨" class="headerlink" title="2.8ã€LC206. åè½¬é“¾è¡¨"></a>2.8ã€LC206. åè½¬é“¾è¡¨</h3><p>ç»™ä½ å•é“¾è¡¨çš„å¤´èŠ‚ç‚¹ <code>head</code> ï¼Œè¯·ä½ åè½¬é“¾è¡¨ï¼Œå¹¶è¿”å›åè½¬åçš„é“¾è¡¨ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/rev1ex1.jpg" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šhead = [1,2,3,4,5]</span><br><span class="line">è¾“å‡ºï¼š[5,4,3,2,1]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/rev1ex2.jpg" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šhead = [1,2]</span><br><span class="line">è¾“å‡ºï¼š[2,1]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šhead = []</span><br><span class="line">è¾“å‡ºï¼š[]</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li>é“¾è¡¨ä¸­èŠ‚ç‚¹çš„æ•°ç›®èŒƒå›´æ˜¯ <code>[0, 5000]</code></li>
<li><code>-5000 &lt;= Node.val &lt;= 5000</code></li>
</ul>
<p><strong>è¿›é˜¶ï¼š</strong>é“¾è¡¨å¯ä»¥é€‰ç”¨è¿­ä»£æˆ–é€’å½’æ–¹å¼å®Œæˆåè½¬ã€‚ä½ èƒ½å¦ç”¨ä¸¤ç§æ–¹æ³•è§£å†³è¿™é“é¢˜ï¼Ÿ</p>
<p>Related Topics</p>
<p>é€’å½’</p>
<p>é“¾è¡¨</p>
<p>ğŸ‘ 2890</p>
<p>ğŸ‘ 0</p>
<h4 id="åŒæŒ‡é’ˆ"><a href="#åŒæŒ‡é’ˆ" class="headerlink" title="åŒæŒ‡é’ˆ"></a>åŒæŒ‡é’ˆ</h4><ul>
<li>æˆ‘ä»¬å¯ä»¥ç”³è¯·ä¸¤ä¸ªæŒ‡é’ˆï¼Œç¬¬ä¸€ä¸ªæŒ‡é’ˆå« preï¼Œæœ€åˆæ˜¯æŒ‡å‘ null çš„ã€‚</li>
<li>ç¬¬äºŒä¸ªæŒ‡é’ˆ cur æŒ‡å‘ headï¼Œç„¶åä¸æ–­éå† curã€‚</li>
<li>æ¯æ¬¡è¿­ä»£åˆ° curï¼Œéƒ½å°† cur çš„ next æŒ‡å‘ preï¼Œç„¶å pre å’Œ cur å‰è¿›ä¸€ä½ã€‚</li>
<li>éƒ½è¿­ä»£å®Œäº†(cur å˜æˆ null äº†)ï¼Œpre å°±æ˜¯æœ€åä¸€ä¸ªèŠ‚ç‚¹äº†ã€‚<br>åŠ¨ç”»æ¼”ç¤ºå¦‚ä¸‹ï¼š</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/7d8712af4fbb870537607b1dd95d66c248eb178db4319919c32d9304ee85b602-%E8%BF%AD%E4%BB%A3.gif" alt="è¿­ä»£.gif"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> ListNode <span class="title function_">reverseList</span><span class="params">(ListNode head)</span> &#123;</span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">pre</span> <span class="operator">=</span> <span class="literal">null</span>, cur = head, next;</span><br><span class="line">    <span class="keyword">while</span> (cur != <span class="literal">null</span>) &#123;</span><br><span class="line">        next = cur.next; <span class="comment">// è®°å½•å½“å‰èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">        cur.next = pre; <span class="comment">// ç„¶åå°†å½“å‰èŠ‚ç‚¹æŒ‡å‘pre</span></span><br><span class="line">        <span class="comment">// preå’ŒcurèŠ‚ç‚¹éƒ½å‰è¿›ä¸€ä½</span></span><br><span class="line">        pre = cur;</span><br><span class="line">        cur = next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> pre;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦O(N)</li>
<li>ç©ºé—´å¤æ‚åº¦O(1)</li>
</ul>
<h4 id="é€’å½’"><a href="#é€’å½’" class="headerlink" title="é€’å½’"></a>é€’å½’</h4><p>é€’å½’çš„ä¸¤ä¸ªæ¡ä»¶ï¼š</p>
<p>ç»ˆæ­¢æ¡ä»¶æ˜¯å½“å‰èŠ‚ç‚¹æˆ–è€…ä¸‹ä¸€ä¸ªèŠ‚ç‚¹&#x3D;&#x3D;null<br>åœ¨å‡½æ•°å†…éƒ¨ï¼Œæ”¹å˜èŠ‚ç‚¹çš„æŒ‡å‘ï¼Œä¹Ÿå°±æ˜¯ head çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æŒ‡å‘ head é€’å½’å‡½æ•°é‚£å¥</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">head.next.next = head</span><br></pre></td></tr></table></figure>

<p>å¾ˆä¸å¥½ç†è§£ï¼Œå…¶å®å°±æ˜¯ head çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æŒ‡å‘headã€‚</p>
<p>é€’å½’å‡½æ•°ä¸­æ¯æ¬¡è¿”å›çš„ cur å…¶å®åªæœ€åä¸€ä¸ªèŠ‚ç‚¹ï¼Œåœ¨é€’å½’å‡½æ•°å†…éƒ¨ï¼Œæ”¹å˜çš„æ˜¯å½“å‰èŠ‚ç‚¹çš„æŒ‡å‘ã€‚</p>
<p>åŠ¨ç”»æ¼”ç¤ºå¦‚ä¸‹ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/dacd1bf55dec5c8b38d0904f26e472e2024fc8bee4ea46e3aa676f340ba1eb9d-%E9%80%92%E5%BD%92.gif" alt="é€’å½’.gif"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> ListNode <span class="title function_">reverseList</span><span class="params">(ListNode head)</span> &#123;</span><br><span class="line">    <span class="comment">//é€’å½’ç»ˆæ­¢æ¡ä»¶æ˜¯å½“å‰ä¸ºç©ºï¼Œæˆ–è€…ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ä¸ºç©º</span></span><br><span class="line">    <span class="keyword">if</span>(head==<span class="literal">null</span> || head.next==<span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//è¿™é‡Œçš„curå°±æ˜¯æœ€åä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">cur</span> <span class="operator">=</span> reverseList(head.next);</span><br><span class="line">    <span class="comment">//è¿™é‡Œè¯·é…åˆåŠ¨ç”»æ¼”ç¤ºç†è§£</span></span><br><span class="line">    <span class="comment">//å¦‚æœé“¾è¡¨æ˜¯ 1-&gt;2-&gt;3-&gt;4-&gt;5ï¼Œé‚£ä¹ˆæ­¤æ—¶çš„curå°±æ˜¯5</span></span><br><span class="line">    <span class="comment">//è€Œheadæ˜¯4ï¼Œheadçš„ä¸‹ä¸€ä¸ªæ˜¯5ï¼Œä¸‹ä¸‹ä¸€ä¸ªæ˜¯ç©º</span></span><br><span class="line">    <span class="comment">//æ‰€ä»¥head.next.next å°±æ˜¯5-&gt;4</span></span><br><span class="line">    head.next.next = head;</span><br><span class="line">    <span class="comment">//é˜²æ­¢é“¾è¡¨å¾ªç¯ï¼Œéœ€è¦å°†head.nextè®¾ç½®ä¸ºç©º</span></span><br><span class="line">    head.next = <span class="literal">null</span>;</span><br><span class="line">    <span class="comment">//æ¯å±‚é€’å½’å‡½æ•°éƒ½è¿”å›curï¼Œä¹Ÿå°±æ˜¯æœ€åä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">return</span> cur;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-9ã€LC1750-åˆ é™¤å­—ç¬¦ä¸²ä¸¤ç«¯ç›¸åŒå­—ç¬¦åçš„æœ€çŸ­é•¿åº¦"><a href="#2-9ã€LC1750-åˆ é™¤å­—ç¬¦ä¸²ä¸¤ç«¯ç›¸åŒå­—ç¬¦åçš„æœ€çŸ­é•¿åº¦" class="headerlink" title="2.9ã€LC1750. åˆ é™¤å­—ç¬¦ä¸²ä¸¤ç«¯ç›¸åŒå­—ç¬¦åçš„æœ€çŸ­é•¿åº¦"></a>2.9ã€LC1750. åˆ é™¤å­—ç¬¦ä¸²ä¸¤ç«¯ç›¸åŒå­—ç¬¦åçš„æœ€çŸ­é•¿åº¦</h3><p>ç»™ä½ ä¸€ä¸ªåªåŒ…å«å­—ç¬¦ <code>&#39;a&#39;</code>ï¼Œ<code>&#39;b&#39;</code> å’Œ <code>&#39;c&#39;</code> çš„å­—ç¬¦ä¸² <code>s</code> ï¼Œä½ å¯ä»¥æ‰§è¡Œä¸‹é¢è¿™ä¸ªæ“ä½œï¼ˆ5 ä¸ªæ­¥éª¤ï¼‰ä»»æ„æ¬¡ï¼š</p>
<ol>
<li>é€‰æ‹©å­—ç¬¦ä¸² <code>s</code> ä¸€ä¸ª <strong>éç©º</strong> çš„å‰ç¼€ï¼Œè¿™ä¸ªå‰ç¼€çš„æ‰€æœ‰å­—ç¬¦éƒ½ç›¸åŒã€‚</li>
<li>é€‰æ‹©å­—ç¬¦ä¸² <code>s</code> ä¸€ä¸ª <strong>éç©º</strong> çš„åç¼€ï¼Œè¿™ä¸ªåç¼€çš„æ‰€æœ‰å­—ç¬¦éƒ½ç›¸åŒã€‚</li>
<li>å‰ç¼€å’Œåç¼€åœ¨å­—ç¬¦ä¸²ä¸­ä»»æ„ä½ç½®éƒ½ä¸èƒ½æœ‰äº¤é›†ã€‚</li>
<li>å‰ç¼€å’Œåç¼€åŒ…å«çš„æ‰€æœ‰å­—ç¬¦éƒ½è¦ç›¸åŒã€‚</li>
<li>åŒæ—¶åˆ é™¤å‰ç¼€å’Œåç¼€ã€‚</li>
</ol>
<p>è¯·ä½ è¿”å›å¯¹å­—ç¬¦ä¸² <code>s</code> æ‰§è¡Œä¸Šé¢æ“ä½œä»»æ„æ¬¡ä»¥åï¼ˆå¯èƒ½ 0 æ¬¡ï¼‰ï¼Œèƒ½å¾—åˆ°çš„ <strong>æœ€çŸ­é•¿åº¦</strong> ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;ca&quot;</span><br><span class="line">è¾“å‡ºï¼š2</span><br><span class="line">è§£é‡Šï¼šä½ æ²¡æ³•åˆ é™¤ä»»ä½•ä¸€ä¸ªå­—ç¬¦ï¼Œæ‰€ä»¥å­—ç¬¦ä¸²é•¿åº¦ä»ç„¶ä¿æŒä¸å˜ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;cabaabac&quot;</span><br><span class="line">è¾“å‡ºï¼š0</span><br><span class="line">è§£é‡Šï¼šæœ€ä¼˜æ“ä½œåºåˆ—ä¸ºï¼š</span><br><span class="line">- é€‰æ‹©å‰ç¼€ &quot;c&quot; å’Œåç¼€ &quot;c&quot; å¹¶åˆ é™¤å®ƒä»¬ï¼Œå¾—åˆ° s = &quot;abaaba&quot; ã€‚</span><br><span class="line">- é€‰æ‹©å‰ç¼€ &quot;a&quot; å’Œåç¼€ &quot;a&quot; å¹¶åˆ é™¤å®ƒä»¬ï¼Œå¾—åˆ° s = &quot;baab&quot; ã€‚</span><br><span class="line">- é€‰æ‹©å‰ç¼€ &quot;b&quot; å’Œåç¼€ &quot;b&quot; å¹¶åˆ é™¤å®ƒä»¬ï¼Œå¾—åˆ° s = &quot;aa&quot; ã€‚</span><br><span class="line">- é€‰æ‹©å‰ç¼€ &quot;a&quot; å’Œåç¼€ &quot;a&quot; å¹¶åˆ é™¤å®ƒä»¬ï¼Œå¾—åˆ° s = &quot;&quot; ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;aabccabba&quot;</span><br><span class="line">è¾“å‡ºï¼š3</span><br><span class="line">è§£é‡Šï¼šæœ€ä¼˜æ“ä½œåºåˆ—ä¸ºï¼š</span><br><span class="line">- é€‰æ‹©å‰ç¼€ &quot;aa&quot; å’Œåç¼€ &quot;a&quot; å¹¶åˆ é™¤å®ƒä»¬ï¼Œå¾—åˆ° s = &quot;bccabb&quot; ã€‚</span><br><span class="line">- é€‰æ‹©å‰ç¼€ &quot;b&quot; å’Œåç¼€ &quot;bb&quot; å¹¶åˆ é™¤å®ƒä»¬ï¼Œå¾—åˆ° s = &quot;cca&quot; ã€‚</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= s.length &lt;= 105</code></li>
<li><code>s</code> åªåŒ…å«å­—ç¬¦ <code>&#39;a&#39;</code>ï¼Œ<code>&#39;b&#39;</code> å’Œ <code>&#39;c&#39;</code> ã€‚</li>
</ul>
<p>Related Topics</p>
<p>åŒæŒ‡é’ˆ</p>
<p>å­—ç¬¦ä¸²</p>
<p>ğŸ‘ 29</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>å®šä¹‰åŒæŒ‡é’ˆåˆ†åˆ«æŒ‡å‘ä¸¤ä¾§ï¼Œå½“ä¸¤ä¾§å­—ç¬¦çš„å€¼ç›¸åŒæ—¶ï¼Œè¿›è¡Œæ”¶ç¼©ï¼Œä¸ç›¸ç­‰æ—¶ï¼Œç»“æŸå¾ªç¯ï¼Œè¿”å›ç»“æœã€‚</p>
<p><strong>ç®—æ³•æµç¨‹</strong>ï¼š</p>
<ol>
<li>å®šä¹‰åŒæŒ‡é’ˆ i &#x3D; 0, j &#x3D; s.length() - 1ã€‚</li>
<li>i &lt; j &amp;&amp; s.charAt(i) &#x3D;&#x3D; s.charAt(j) æ—¶ï¼Œå¼€å§‹æ”¶ç¼©ã€‚</li>
<li>çœ‹å¾ªç¯ç»ˆæ­¢æ¡ä»¶ï¼Œå½“ç»ˆæ­¢æ—¶ i &gt; jï¼Œåˆ™è¯´æ˜å¯ä»¥æŠŠå­—ç¬¦ä¸²å…¨éƒ¨åˆ é™¤å®Œã€‚è¿”å› 0.å¦åˆ™å°±è¿”å› iåˆ° j å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minimumLength</span><span class="params">(String s)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>, n = s.length() - <span class="number">1</span>, j = n;</span><br><span class="line">    <span class="keyword">while</span> (i &lt; j &amp;&amp; s.charAt(i) == s.charAt(j)) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> s.charAt(i);</span><br><span class="line">        <span class="comment">// æ”¶ç¼©å³è¾¹ç•Œ</span></span><br><span class="line">        <span class="keyword">while</span> (j &gt;= <span class="number">0</span> &amp;&amp; c == s.charAt(j)) &#123;</span><br><span class="line">            j--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// æ”¶ç¼©å·¦è¾¹ç•Œ</span></span><br><span class="line">        <span class="keyword">while</span> (i &lt;= n &amp;&amp; c == s.charAt(i)) &#123;</span><br><span class="line">            i++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (i &gt; j) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> j - i + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦O(N)</li>
<li>ç©ºé—´å¤æ‚åº¦O(1)</li>
</ul>
<h3 id="2-10ã€LC15-ä¸‰æ•°ä¹‹å’Œ"><a href="#2-10ã€LC15-ä¸‰æ•°ä¹‹å’Œ" class="headerlink" title="2.10ã€LC15. ä¸‰æ•°ä¹‹å’Œ"></a>2.10ã€LC15. ä¸‰æ•°ä¹‹å’Œ</h3><p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>nums</code> ï¼Œåˆ¤æ–­æ˜¯å¦å­˜åœ¨ä¸‰å…ƒç»„ <code>[nums[i], nums[j], nums[k]]</code> æ»¡è¶³ <code>i != j</code>ã€<code>i != k</code> ä¸” <code>j != k</code> ï¼ŒåŒæ—¶è¿˜æ»¡è¶³ <code>nums[i] + nums[j] + nums[k] == 0</code> ã€‚è¯·</p>
<p>ä½ è¿”å›æ‰€æœ‰å’Œä¸º <code>0</code> ä¸”ä¸é‡å¤çš„ä¸‰å…ƒç»„ã€‚</p>
<p><strong>æ³¨æ„ï¼š</strong>ç­”æ¡ˆä¸­ä¸å¯ä»¥åŒ…å«é‡å¤çš„ä¸‰å…ƒç»„ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [-1,0,1,2,-1,-4]</span><br><span class="line">è¾“å‡ºï¼š[[-1,-1,2],[-1,0,1]]</span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">nums[0] + nums[1] + nums[2] = (-1) + 0 + 1 = 0 ã€‚</span><br><span class="line">nums[1] + nums[2] + nums[4] = 0 + 1 + (-1) = 0 ã€‚</span><br><span class="line">nums[0] + nums[3] + nums[4] = (-1) + 2 + (-1) = 0 ã€‚</span><br><span class="line">ä¸åŒçš„ä¸‰å…ƒç»„æ˜¯ [-1,0,1] å’Œ [-1,-1,2] ã€‚</span><br><span class="line">æ³¨æ„ï¼Œè¾“å‡ºçš„é¡ºåºå’Œä¸‰å…ƒç»„çš„é¡ºåºå¹¶ä¸é‡è¦ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [0,1,1]</span><br><span class="line">è¾“å‡ºï¼š[]</span><br><span class="line">è§£é‡Šï¼šå”¯ä¸€å¯èƒ½çš„ä¸‰å…ƒç»„å’Œä¸ä¸º 0 ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [0,0,0]</span><br><span class="line">è¾“å‡ºï¼š[[0,0,0]]</span><br><span class="line">è§£é‡Šï¼šå”¯ä¸€å¯èƒ½çš„ä¸‰å…ƒç»„å’Œä¸º 0 ã€‚</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>3 &lt;= nums.length &lt;= 3000</code></li>
<li><code>-105 &lt;= nums[i] &lt;= 105</code></li>
</ul>
<p>Related Topics</p>
<p>æ•°ç»„</p>
<p>åŒæŒ‡é’ˆ</p>
<p>æ’åº</p>
<p>ğŸ‘ 5500</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/15.%E4%B8%89%E6%95%B0%E4%B9%8B%E5%92%8C.gif" alt="15.ä¸‰æ•°ä¹‹å’Œ"></p>
<p>ä½¿ç”¨åŒæŒ‡é’ˆæ³•ï¼Œè¿›è¡Œéå†ã€‚</p>
<p>é¦–å…ˆå¯¹æ•°ç»„è¿›è¡Œæ’åºï¼Œæ’åºåå›ºå®šä¸€ä¸ªæ•° nums[i]ï¼Œå†ä½¿ç”¨å·¦å³æŒ‡é’ˆæŒ‡å‘ nums[i]åé¢çš„ä¸¤ç«¯ï¼Œæ•°å­—åˆ†åˆ«ä¸º nums[L] å’Œ nums[R]ï¼Œè®¡ç®—ä¸‰ä¸ªæ•°çš„å’Œ sum åˆ¤æ–­æ˜¯å¦æ»¡è¶³ä¸º 0ï¼Œæ»¡è¶³åˆ™æ·»åŠ è¿›ç»“æœé›†ã€‚</p>
<ul>
<li>å¦‚æœ nums[i]å¤§äº 0ï¼Œåˆ™ä¸‰æ•°ä¹‹å’Œå¿…ç„¶æ— æ³•ç­‰äº 0ï¼Œç»“æŸå¾ªç¯ã€‚</li>
<li>å¦‚æœ nums[i] &#x3D;&#x3D; nums[i-1]ï¼Œåˆ™è¯´æ˜è¯¥æ•°å­—é‡å¤ï¼Œä¼šå¯¼è‡´ç»“æœé‡å¤ï¼Œæ‰€ä»¥åº”è¯¥è·³è¿‡ã€‚</li>
<li>å½“ sum &#x3D;&#x3D; 0 æ—¶ï¼Œnums[L] &#x3D;&#x3D; nums[L+1] åˆ™ä¼šå¯¼è‡´ç»“æœé‡å¤ï¼Œåº”è¯¥è·³è¿‡ï¼ŒL++ã€‚</li>
<li>å½“ sum &#x3D;&#x3D; 0 æ—¶ï¼Œnums[R] &#x3D;&#x3D; nums[R-1] åˆ™ä¼šå¯¼è‡´ç»“æœé‡å¤ï¼Œåº”è¯¥è·³è¿‡ï¼ŒRâ€“ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; <span class="title function_">threeSum</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        List&lt;List&lt;Integer&gt;&gt; res = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">if</span> (nums == <span class="literal">null</span> || nums.length &lt; <span class="number">3</span>) <span class="keyword">return</span> res;</span><br><span class="line">        Arrays.sort(nums);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (nums[i] &gt; <span class="number">0</span>) <span class="keyword">break</span>; <span class="comment">// nums[i]å¤§äº 0ï¼Œåˆ™ä¸‰æ•°ä¹‹å’Œå¿…ç„¶æ— æ³•ç­‰äº 0ï¼Œç»“æŸå¾ªç¯ã€‚</span></span><br><span class="line">            <span class="keyword">if</span> (i &gt; <span class="number">0</span> &amp;&amp; nums[i] == nums[i - <span class="number">1</span>]) <span class="keyword">continue</span>; <span class="comment">// nums[i] == nums[i-1]ï¼Œåˆ™è¯´æ˜è¯¥æ•°å­—é‡å¤ï¼Œä¼šå¯¼è‡´ç»“æœé‡å¤ï¼Œæ‰€ä»¥åº”è¯¥è·³è¿‡ã€‚</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> i + <span class="number">1</span>, right = nums.length - <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span> (left &lt; right) &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> nums[i] + nums[left] + nums[right];</span><br><span class="line">                <span class="keyword">if</span> (sum &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                    right--; <span class="comment">// æ”¶ç¼©å³è¾¹</span></span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (sum &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                    left++; <span class="comment">// æ”¶ç¼©å·¦è¾¹</span></span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    res.add(Arrays.asList(nums[i], nums[left], nums[right])); <span class="comment">// æ·»åŠ å…ƒç´ </span></span><br><span class="line">                    <span class="keyword">while</span> (left &lt; right &amp;&amp; nums[left] == nums[left + <span class="number">1</span>]) left++; <span class="comment">// ç¬¬äºŒä¸ªå…ƒç´ è¿›è¡Œå»é‡</span></span><br><span class="line">                    <span class="keyword">while</span> (left &lt; right &amp;&amp; nums[right] == nums[right - <span class="number">1</span>]) right--; <span class="comment">// ç¬¬ä¸‰ä¸ªå…ƒç´ è¿›è¡Œå»é‡</span></span><br><span class="line">                    left++;</span><br><span class="line">                    right--; <span class="comment">// æ‰¾åˆ°å…ƒç´ åï¼Œè‡ªç„¶çš„æ”¶ç¼©</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼šO(n^2)ï¼Œn ä¸ºæ•°ç»„é•¿åº¦ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼šO(1),ä¸ç®—å¿«æ’çš„å¼€é”€æ˜¯O(1)çš„ï¼Œå¿«æ’å¯ä»¥ç”¨å…¶ä»–æ’åºä»£æ›¿ã€‚</li>
</ul>
<h3 id="2-11ã€LC1658-å°†-x-å‡åˆ°-0-çš„æœ€å°æ“ä½œæ•°"><a href="#2-11ã€LC1658-å°†-x-å‡åˆ°-0-çš„æœ€å°æ“ä½œæ•°" class="headerlink" title="2.11ã€LC1658. å°† x å‡åˆ° 0 çš„æœ€å°æ“ä½œæ•°"></a>2.11ã€LC1658. å°† x å‡åˆ° 0 çš„æœ€å°æ“ä½œæ•°</h3><p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>nums</code> å’Œä¸€ä¸ªæ•´æ•° <code>x</code> ã€‚æ¯ä¸€æ¬¡æ“ä½œæ—¶ï¼Œä½ åº”å½“ç§»é™¤æ•°ç»„ <code>nums</code> æœ€å·¦è¾¹æˆ–æœ€å³è¾¹çš„å…ƒç´ ï¼Œç„¶åä» <code>x</code> ä¸­å‡å»è¯¥å…ƒç´ çš„å€¼ã€‚è¯·æ³¨æ„ï¼Œéœ€è¦ <strong>ä¿®æ”¹</strong> æ•°ç»„ä»¥ä¾›æ¥ä¸‹æ¥çš„æ“ä½œä½¿ç”¨ã€‚</p>
<p>å¦‚æœå¯ä»¥å°† <code>x</code> <strong>æ°å¥½</strong> å‡åˆ° <code>0</code> ï¼Œè¿”å› <strong>æœ€å°æ“ä½œæ•°</strong> ï¼›å¦åˆ™ï¼Œè¿”å› <code>-1</code> ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [1,1,4,2,3], x = 5</span><br><span class="line">è¾“å‡ºï¼š2</span><br><span class="line">è§£é‡Šï¼šæœ€ä½³è§£å†³æ–¹æ¡ˆæ˜¯ç§»é™¤åä¸¤ä¸ªå…ƒç´ ï¼Œå°† x å‡åˆ° 0 ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [5,6,7,8,9], x = 4</span><br><span class="line">è¾“å‡ºï¼š-1</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [3,2,20,1,1,3], x = 10</span><br><span class="line">è¾“å‡ºï¼š5</span><br><span class="line">è§£é‡Šï¼šæœ€ä½³è§£å†³æ–¹æ¡ˆæ˜¯ç§»é™¤åä¸‰ä¸ªå…ƒç´ å’Œå‰ä¸¤ä¸ªå…ƒç´ ï¼ˆæ€»å…± 5 æ¬¡æ“ä½œï¼‰ï¼Œå°† x å‡åˆ° 0 ã€‚</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= nums.length &lt;= 105</code></li>
<li><code>1 &lt;= nums[i] &lt;= 104</code></li>
<li><code>1 &lt;= x &lt;= 109</code></li>
</ul>
<p>Related Topics</p>
<p>æ•°ç»„</p>
<p>å“ˆå¸Œè¡¨</p>
<p>äºŒåˆ†æŸ¥æ‰¾</p>
<p>å‰ç¼€å’Œ</p>
<p>æ»‘åŠ¨çª—å£</p>
<p>ğŸ‘ 158</p>
<p>ğŸ‘ 0</p>
<h4 id="æ–¹æ³•ä¸€ï¼šé€†å‘æ€ç»´-åŒæŒ‡é’ˆ"><a href="#æ–¹æ³•ä¸€ï¼šé€†å‘æ€ç»´-åŒæŒ‡é’ˆ" class="headerlink" title="æ–¹æ³•ä¸€ï¼šé€†å‘æ€ç»´+åŒæŒ‡é’ˆ"></a>æ–¹æ³•ä¸€ï¼šé€†å‘æ€ç»´+åŒæŒ‡é’ˆ</h4><p><strong>è§£é¢˜æ€è·¯</strong></p>
<p>æŠŠé—®é¢˜è½¬æ¢æˆã€Œä» nums ä¸­ç§»é™¤ä¸€ä¸ªæœ€é•¿çš„å­æ•°ç»„ï¼Œä½¿å¾—å‰©ä½™å…ƒç´ çš„å’Œä¸º xã€ã€‚</p>
<p>æ¢å¥è¯è¯´ï¼Œè¦ä» nums ä¸­æ‰¾æœ€é•¿çš„å­æ•°ç»„ï¼Œå…¶å…ƒç´ å’Œç­‰äº s - xï¼Œè¿™é‡Œ s ä¸º nums æ‰€æœ‰å…ƒç´ ä¹‹å’Œã€‚</p>
<p>è¿™å¯ä»¥ç”¨åŒæŒ‡é’ˆå®ç°.</p>
<blockquote>
<p>æ³¨ï¼šæˆ‘ä¸€èˆ¬æŠŠçª—å£å¤§å°ä¸å›ºå®šçš„å«åšåŒæŒ‡é’ˆï¼Œçª—å£å¤§å°å›ºå®šçš„å«åšæ»‘åŠ¨çª—å£ã€‚</p>
</blockquote>
<p>æœ€åç­”æ¡ˆä¸º nums çš„é•¿åº¦å‡å»æœ€é•¿å­æ•°ç»„çš„é•¿åº¦ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minOperations</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> x)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">target</span> <span class="operator">=</span> - x;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> num : nums) &#123;</span><br><span class="line">            target += num;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (target &lt; <span class="number">0</span>) &#123; <span class="comment">// å…¨éƒ¨ç§»é™¤ä¹Ÿæ— æ³•æ»¡è¶³è¦æ±‚</span></span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> -<span class="number">1</span>, left = <span class="number">0</span>, sum = <span class="number">0</span>, n = nums.length;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> <span class="number">0</span>; right &lt; n; right++) &#123;</span><br><span class="line">            sum += nums[right];</span><br><span class="line">            <span class="keyword">while</span> (sum &gt; target) &#123;</span><br><span class="line">                sum -= nums[left++]; <span class="comment">// ç¼©å°å­æ•°ç»„çš„é•¿åº¦</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (sum == target) &#123; <span class="comment">// æ‰¾æœ€é•¿å­æ•°ç»„</span></span><br><span class="line">                res = Math.max(res, right - left + <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res &lt; <span class="number">0</span> ? -<span class="number">1</span> : n - res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åŒæŒ‡é’ˆéå†äº†æ‰€æœ‰å­æ•°ç»„å­˜åœ¨çš„å¯èƒ½ã€‚</p>
<p><strong>å¤æ‚åº¦åˆ†æ</strong></p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œå…¶ä¸­ n ä¸º nums çš„é•¿åº¦ã€‚è™½ç„¶å†™äº†ä¸ªäºŒé‡å¾ªç¯ï¼Œä½†æ˜¯ left++ çš„æ‰§è¡Œæ¬¡æ•°ä¸ä¼šè¶…è¿‡ n æ¬¡ï¼Œæ‰€ä»¥æ€»çš„æ—¶é—´å¤æ‚åº¦ä¸º O(n)ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼šO(1)ï¼Œä»…ç”¨åˆ°è‹¥å¹²é¢å¤–å˜é‡ã€‚</li>
</ul>
<h4 id="æ–¹æ³•äºŒï¼šç›´æ¥åŒæŒ‡é’ˆ"><a href="#æ–¹æ³•äºŒï¼šç›´æ¥åŒæŒ‡é’ˆ" class="headerlink" title="æ–¹æ³•äºŒï¼šç›´æ¥åŒæŒ‡é’ˆ"></a>æ–¹æ³•äºŒï¼šç›´æ¥åŒæŒ‡é’ˆ</h4><p>å¦‚æœè¦æ­£å‘è®¡ç®—ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œå°±æ˜¯å†™èµ·æ¥ç¨å¾®æœ‰ç‚¹éº»çƒ¦ï¼šé¦–å…ˆç®—å‡ºæœ€é•¿çš„å…ƒç´ å’Œä¸è¶…è¿‡ x çš„åç¼€ï¼Œç„¶åä¸æ–­æšä¸¾å‰ç¼€é•¿åº¦ï¼Œå¦ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘åç¼€æœ€å·¦å…ƒç´ ï¼Œç­”æ¡ˆå°±æ˜¯å‰ç¼€+åç¼€é•¿åº¦ä¹‹å’Œçš„æœ€å°å€¼ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minOperations</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> x)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0</span>, n = nums.length, right = n;</span><br><span class="line">        <span class="keyword">while</span> (right &gt; <span class="number">0</span> &amp;&amp; sum + nums[right - <span class="number">1</span>] &lt;= x) <span class="comment">// è®¡ç®—æœ€é•¿åç¼€</span></span><br><span class="line">            sum += nums[--right];</span><br><span class="line">        <span class="keyword">if</span> (right == <span class="number">0</span> &amp;&amp; sum &lt; x) <span class="keyword">return</span> -<span class="number">1</span>; <span class="comment">// å…¨éƒ¨ç§»é™¤ä¹Ÿæ— æ³•æ»¡è¶³è¦æ±‚</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">ans</span> <span class="operator">=</span> sum == x ? n - right : n + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>; left &lt; n; ++left) &#123;</span><br><span class="line">            sum += nums[left];</span><br><span class="line">            <span class="keyword">while</span> (right &lt; n &amp;&amp; sum &gt; x) <span class="comment">// ç¼©å°åç¼€é•¿åº¦</span></span><br><span class="line">                sum -= nums[right++];</span><br><span class="line">            <span class="keyword">if</span> (sum &gt; x) <span class="keyword">break</span>; <span class="comment">// ç¼©å°å¤±è´¥ï¼Œè¯´æ˜å‰ç¼€è¿‡é•¿</span></span><br><span class="line">            <span class="keyword">if</span> (sum == x) ans = Math.min(ans, left + <span class="number">1</span> + n - right); <span class="comment">// å‰ç¼€+åç¼€é•¿åº¦</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans &gt; n ? -<span class="number">1</span> : ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-12ã€LC1813-å¥å­ç›¸ä¼¼æ€§-III"><a href="#2-12ã€LC1813-å¥å­ç›¸ä¼¼æ€§-III" class="headerlink" title="2.12ã€LC1813. å¥å­ç›¸ä¼¼æ€§ III"></a>2.12ã€LC1813. å¥å­ç›¸ä¼¼æ€§ III</h3><p>ä¸€ä¸ªå¥å­æ˜¯ç”±ä¸€äº›å•è¯ä¸å®ƒä»¬ä¹‹é—´çš„å•ä¸ªç©ºæ ¼ç»„æˆï¼Œä¸”å¥å­çš„å¼€å¤´å’Œç»“å°¾æ²¡æœ‰å¤šä½™ç©ºæ ¼ã€‚æ¯”æ–¹è¯´ï¼Œ<code>&quot;Hello World&quot;</code> ï¼Œ<code>&quot;HELLO&quot;</code> ï¼Œ<code>&quot;hello world hello world&quot;</code> éƒ½æ˜¯å¥å­ã€‚æ¯ä¸ªå•è¯éƒ½ <strong>åª</strong> åŒ…å«å¤§å†™å’Œå°å†™è‹±æ–‡å­—æ¯ã€‚</p>
<p>å¦‚æœä¸¤ä¸ªå¥å­ <code>sentence1</code> å’Œ <code>sentence2</code> ï¼Œå¯ä»¥é€šè¿‡å¾€å…¶ä¸­ä¸€ä¸ªå¥å­æ’å…¥ä¸€ä¸ªä»»æ„çš„å¥å­ï¼ˆ<strong>å¯ä»¥æ˜¯ç©ºå¥å­</strong>ï¼‰è€Œå¾—åˆ°å¦ä¸€ä¸ªå¥å­ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç§°è¿™ä¸¤ä¸ªå¥å­æ˜¯ <strong>ç›¸ä¼¼çš„</strong> ã€‚æ¯”æ–¹è¯´ï¼Œ<code>sentence1 = &quot;Hello my name is Jane&quot;</code> ä¸” <code>sentence2 = &quot;Hello Jane&quot;</code> ï¼Œæˆ‘ä»¬å¯ä»¥å¾€ <code>sentence2</code> ä¸­ <code>&quot;Hello&quot;</code> å’Œ <code>&quot;Jane&quot;</code> ä¹‹é—´æ’å…¥ <code>&quot;my name is&quot;</code> å¾—åˆ° <code>sentence1</code> ã€‚</p>
<p>ç»™ä½ ä¸¤ä¸ªå¥å­ <code>sentence1</code> å’Œ <code>sentence2</code> ï¼Œå¦‚æœ <code>sentence1</code> å’Œ <code>sentence2</code> æ˜¯ç›¸ä¼¼çš„ï¼Œè¯·ä½ è¿”å› <code>true</code> ï¼Œå¦åˆ™è¿”å› <code>false</code> ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šsentence1 = &quot;My name is Haley&quot;, sentence2 = &quot;My Haley&quot;</span><br><span class="line">è¾“å‡ºï¼štrue</span><br><span class="line">è§£é‡Šï¼šå¯ä»¥å¾€ sentence2 ä¸­ &quot;My&quot; å’Œ &quot;Haley&quot; ä¹‹é—´æ’å…¥ &quot;name is&quot; ï¼Œå¾—åˆ° sentence1 ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šsentence1 = &quot;of&quot;, sentence2 = &quot;A lot of words&quot;</span><br><span class="line">è¾“å‡ºï¼šfalse</span><br><span class="line">è§£é‡Šï¼šæ²¡æ³•å¾€è¿™ä¸¤ä¸ªå¥å­ä¸­çš„ä¸€ä¸ªå¥å­åªæ’å…¥ä¸€ä¸ªå¥å­å°±å¾—åˆ°å¦ä¸€ä¸ªå¥å­ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šsentence1 = &quot;Eating right now&quot;, sentence2 = &quot;Eating&quot;</span><br><span class="line">è¾“å‡ºï¼štrue</span><br><span class="line">è§£é‡Šï¼šå¯ä»¥å¾€ sentence2 çš„ç»“å°¾æ’å…¥ &quot;right now&quot; å¾—åˆ° sentence1 ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 4ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šsentence1 = &quot;Luky&quot;, sentence2 = &quot;Lucccky&quot;</span><br><span class="line">è¾“å‡ºï¼šfalse</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= sentence1.length, sentence2.length &lt;= 100</code></li>
<li><code>sentence1</code> å’Œ <code>sentence2</code> éƒ½åªåŒ…å«å¤§å°å†™è‹±æ–‡å­—æ¯å’Œç©ºæ ¼ã€‚</li>
<li><code>sentence1</code> å’Œ <code>sentence2</code> ä¸­çš„å•è¯éƒ½åªç”±å•ä¸ªç©ºæ ¼éš”å¼€ã€‚</li>
</ul>
<p>Related Topics</p>
<p>æ•°ç»„</p>
<p>åŒæŒ‡é’ˆ</p>
<p>å­—ç¬¦ä¸²</p>
<p>ğŸ‘ 66</p>
<p>ğŸ‘ 0</p>
<h4 id="æ–¹æ³•ä¸€ï¼šå­—ç¬¦ä¸²æŒ‰ç©ºæ ¼åˆ†å‰²-åŒæŒ‡é’ˆ"><a href="#æ–¹æ³•ä¸€ï¼šå­—ç¬¦ä¸²æŒ‰ç©ºæ ¼åˆ†å‰²-åŒæŒ‡é’ˆ" class="headerlink" title="æ–¹æ³•ä¸€ï¼šå­—ç¬¦ä¸²æŒ‰ç©ºæ ¼åˆ†å‰² + åŒæŒ‡é’ˆ"></a>æ–¹æ³•ä¸€ï¼šå­—ç¬¦ä¸²æŒ‰ç©ºæ ¼åˆ†å‰² + åŒæŒ‡é’ˆ</h4><p><strong>æ€è·¯</strong></p>
<p>æ ¹æ®é¢˜æ„ï¼Œä¸¤ä¸ªå¥å­ sentence1 å’Œ sentence2ï¼Œå¦‚æœæ˜¯ç›¸ä¼¼çš„ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªå¥å­æŒ‰ç©ºæ ¼åˆ†å‰²å¾—åˆ°çš„å­—ç¬¦ä¸²æ•°ç»„ words1 å’Œ words2ï¼Œä¸€å®šèƒ½é€šè¿‡å¾€å…¶ä¸­ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ä¸­æ’å…¥æŸä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼ˆå¯ä»¥ä¸ºç©ºï¼‰ï¼Œå¾—åˆ°å¦ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ã€‚è¿™ä¸ªéªŒè¯å¯ä»¥é€šè¿‡åŒæŒ‡é’ˆå®Œæˆã€‚<em>i</em> è¡¨ç¤ºä¸¤ä¸ªå­—ç¬¦ä¸²æ•°ç»„ä»å·¦å¼€å§‹ï¼Œæœ€å¤šæœ‰ i ä¸ªå­—ç¬¦ä¸²ç›¸åŒã€‚<em>j</em> è¡¨ç¤ºå‰©ä¸‹çš„å­—ç¬¦ä¸²æ•°ç»„ä»å³å¼€å§‹ï¼Œæœ€å¤šæœ‰ <em>j</em> ä¸ªå­—ç¬¦ä¸²ç›¸åŒã€‚å¦‚æœ i*+*j æ­£å¥½æ˜¯æŸä¸ªå­—ç¬¦ä¸²æ•°ç»„çš„é•¿åº¦ï¼Œé‚£ä¹ˆåŸå­—ç¬¦ä¸²å°±æ˜¯ç›¸ä¼¼çš„ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">areSentencesSimilar</span><span class="params">(String sentence1, String sentence2)</span> &#123;</span><br><span class="line">        String[] words1 = sentence1.split(<span class="string">&quot; &quot;</span>);</span><br><span class="line">        String[] words2 = sentence2.split(<span class="string">&quot; &quot;</span>);</span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>, j = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (i &lt; words1.length &amp;&amp; i &lt; words2.length &amp;&amp; words1[i].equals(words2[i])) &#123;</span><br><span class="line">            i++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (j &lt; words1.length - i &amp;&amp; j &lt; words2.length - i &amp;&amp; words1[words1.length - j - <span class="number">1</span>].equals(words2[words2.length - j - <span class="number">1</span>])) &#123;</span><br><span class="line">            j++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> i + j == Math.min(words1.length, words2.length);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong></p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼šO*(<em>m</em>+<em>n</em>)ï¼Œå…¶ä¸­ m* æ˜¯ sentence<em>1 çš„é•¿åº¦ï¼Œn</em> æ˜¯ sentence<em>2 çš„é•¿åº¦ã€‚å­—ç¬¦ä¸²åˆ†å‰²å’ŒåŒæŒ‡é’ˆåˆ¤æ–­æ“ä½œéƒ½éœ€è¦éå† O</em>(<em>m</em>+<em>n</em>) ä¸ªå­—ç¬¦ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼šO*(<em>m</em>+<em>n</em>)ã€‚å­—ç¬¦ä¸²åˆ†å‰²éœ€è¦ O*(<em>m</em>+<em>n</em>) çš„ç©ºé—´ï¼ŒåŒæŒ‡é’ˆæ¶ˆè€— O(1) ç©ºé—´ã€‚</li>
</ul>
<h3 id="2-13ã€LC88-åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„"><a href="#2-13ã€LC88-åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„" class="headerlink" title="2.13ã€LC88. åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„"></a>2.13ã€LC88. åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„</h3><p>ç»™ä½ ä¸¤ä¸ªæŒ‰ <strong>éé€’å‡é¡ºåº</strong> æ’åˆ—çš„æ•´æ•°æ•°ç»„ <code>nums1</code> å’Œ <code>nums2</code>ï¼Œå¦æœ‰ä¸¤ä¸ªæ•´æ•° <code>m</code> å’Œ <code>n</code> ï¼Œåˆ†åˆ«è¡¨ç¤º <code>nums1</code> å’Œ <code>nums2</code> ä¸­çš„å…ƒç´ æ•°ç›®ã€‚</p>
<p>è¯·ä½  <strong>åˆå¹¶</strong> <code>nums2</code> åˆ° <code>nums1</code> ä¸­ï¼Œä½¿åˆå¹¶åçš„æ•°ç»„åŒæ ·æŒ‰ <strong>éé€’å‡é¡ºåº</strong> æ’åˆ—ã€‚</p>
<p><strong>æ³¨æ„ï¼š</strong>æœ€ç»ˆï¼Œåˆå¹¶åæ•°ç»„ä¸åº”ç”±å‡½æ•°è¿”å›ï¼Œè€Œæ˜¯å­˜å‚¨åœ¨æ•°ç»„ <code>nums1</code> ä¸­ã€‚ä¸ºäº†åº”å¯¹è¿™ç§æƒ…å†µï¼Œ<code>nums1</code> çš„åˆå§‹é•¿åº¦ä¸º <code>m + n</code>ï¼Œå…¶ä¸­å‰ <code>m</code> ä¸ªå…ƒç´ è¡¨ç¤ºåº”åˆå¹¶çš„å…ƒç´ ï¼Œå <code>n</code> ä¸ªå…ƒç´ ä¸º <code>0</code> ï¼Œåº”å¿½ç•¥ã€‚<code>nums2</code> çš„é•¿åº¦ä¸º <code>n</code> ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums1 = [1,2,3,0,0,0], m = 3, nums2 = [2,5,6], n = 3</span><br><span class="line">è¾“å‡ºï¼š[1,2,2,3,5,6]</span><br><span class="line">è§£é‡Šï¼šéœ€è¦åˆå¹¶ [1,2,3] å’Œ [2,5,6] ã€‚</span><br><span class="line">åˆå¹¶ç»“æœæ˜¯ [1,2,2,3,5,6] ï¼Œå…¶ä¸­æ–œä½“åŠ ç²—æ ‡æ³¨çš„ä¸º nums1 ä¸­çš„å…ƒç´ ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums1 = [1], m = 1, nums2 = [], n = 0</span><br><span class="line">è¾“å‡ºï¼š[1]</span><br><span class="line">è§£é‡Šï¼šéœ€è¦åˆå¹¶ [1] å’Œ [] ã€‚</span><br><span class="line">åˆå¹¶ç»“æœæ˜¯ [1] ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums1 = [0], m = 0, nums2 = [1], n = 1</span><br><span class="line">è¾“å‡ºï¼š[1]</span><br><span class="line">è§£é‡Šï¼šéœ€è¦åˆå¹¶çš„æ•°ç»„æ˜¯ [] å’Œ [1] ã€‚</span><br><span class="line">åˆå¹¶ç»“æœæ˜¯ [1] ã€‚</span><br><span class="line">æ³¨æ„ï¼Œå› ä¸º m = 0 ï¼Œæ‰€ä»¥ nums1 ä¸­æ²¡æœ‰å…ƒç´ ã€‚nums1 ä¸­ä»…å­˜çš„ 0 ä»…ä»…æ˜¯ä¸ºäº†ç¡®ä¿åˆå¹¶ç»“æœå¯ä»¥é¡ºåˆ©å­˜æ”¾åˆ° nums1 ä¸­ã€‚</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>nums1.length == m + n</code></li>
<li><code>nums2.length == n</code></li>
<li><code>0 &lt;= m, n &lt;= 200</code></li>
<li><code>1 &lt;= m + n &lt;= 200</code></li>
<li><code>-109 &lt;= nums1[i], nums2[j] &lt;= 109</code></li>
</ul>
<p><strong>è¿›é˜¶ï¼š</strong>ä½ å¯ä»¥è®¾è®¡å®ç°ä¸€ä¸ªæ—¶é—´å¤æ‚åº¦ä¸º <code>O(m + n)</code> çš„ç®—æ³•è§£å†³æ­¤é—®é¢˜å—ï¼Ÿ</p>
<p>Related Topics</p>
<p>æ•°ç»„</p>
<p>åŒæŒ‡é’ˆ</p>
<p>æ’åº</p>
<p>ğŸ‘ 1705</p>
<p>ğŸ‘ 0</p>
<h4 id="è§£æ³•ä¸€ï¼šåŒæŒ‡é’ˆ"><a href="#è§£æ³•ä¸€ï¼šåŒæŒ‡é’ˆ" class="headerlink" title="è§£æ³•ä¸€ï¼šåŒæŒ‡é’ˆ"></a>è§£æ³•ä¸€ï¼šåŒæŒ‡é’ˆ</h4><p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<ol>
<li>åŒæŒ‡é’ˆä»åå‘å‰éå†ï¼Œæ¯æ¬¡é€‰å–å¤§çš„æ•°æ”¾åœ¨æ•°ç»„ä¸Šã€‚</li>
<li>æ³¨æ„å¾ªç¯çš„è¾¹ç•Œå¤„ç†ï¼Œå½“ len2 &lt; 0 ä¹Ÿå°±æ˜¯ nums2 çš„æ•°å·²ç»å®Œäº†ï¼Œå°±ç›´æ¥éå† nums1 çš„æ•°ï¼ŒåŒç† len1 &lt; 0ä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">merge</span><span class="params">(<span class="type">int</span>[] nums1, <span class="type">int</span> m, <span class="type">int</span>[] nums2, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">len1</span> <span class="operator">=</span> m - <span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">len2</span> <span class="operator">=</span> n - <span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> nums1.length - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (len &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (len2 &lt; <span class="number">0</span> || (len1 &gt;= <span class="number">0</span> &amp;&amp; nums1[len1] &gt;= nums2[len2])) &#123;</span><br><span class="line">                nums1[len--] = nums1[len1--];</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                nums1[len--] = nums2[len2--];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦O(M + N)</li>
<li>ç©ºé—´å¤æ‚åº¦O(1)</li>
</ul>
<h3 id="2-14ã€LC165-æ¯”è¾ƒç‰ˆæœ¬å·"><a href="#2-14ã€LC165-æ¯”è¾ƒç‰ˆæœ¬å·" class="headerlink" title="2.14ã€LC165. æ¯”è¾ƒç‰ˆæœ¬å·"></a>2.14ã€LC165. æ¯”è¾ƒç‰ˆæœ¬å·</h3><p>ç»™ä½ ä¸¤ä¸ªç‰ˆæœ¬å· <code>version1</code> å’Œ <code>version2</code> ï¼Œè¯·ä½ æ¯”è¾ƒå®ƒä»¬ã€‚</p>
<p>ç‰ˆæœ¬å·ç”±ä¸€ä¸ªæˆ–å¤šä¸ªä¿®è®¢å·ç»„æˆï¼Œå„ä¿®è®¢å·ç”±ä¸€ä¸ª <code>&#39;.&#39;</code> è¿æ¥ã€‚æ¯ä¸ªä¿®è®¢å·ç”± <strong>å¤šä½æ•°å­—</strong> ç»„æˆï¼Œå¯èƒ½åŒ…å« <strong>å‰å¯¼é›¶</strong> ã€‚æ¯ä¸ªç‰ˆæœ¬å·è‡³å°‘åŒ…å«ä¸€ä¸ªå­—ç¬¦ã€‚ä¿®è®¢å·ä»å·¦åˆ°å³ç¼–å·ï¼Œä¸‹æ ‡ä» 0 å¼€å§‹ï¼Œæœ€å·¦è¾¹çš„ä¿®è®¢å·ä¸‹æ ‡ä¸º 0 ï¼Œä¸‹ä¸€ä¸ªä¿®è®¢å·ä¸‹æ ‡ä¸º 1 ï¼Œä»¥æ­¤ç±»æ¨ã€‚ä¾‹å¦‚ï¼Œ<code>2.5.33</code> å’Œ <code>0.1</code> éƒ½æ˜¯æœ‰æ•ˆçš„ç‰ˆæœ¬å·ã€‚</p>
<p>æ¯”è¾ƒç‰ˆæœ¬å·æ—¶ï¼Œè¯·æŒ‰ä»å·¦åˆ°å³çš„é¡ºåºä¾æ¬¡æ¯”è¾ƒå®ƒä»¬çš„ä¿®è®¢å·ã€‚æ¯”è¾ƒä¿®è®¢å·æ—¶ï¼Œåªéœ€æ¯”è¾ƒ <strong>å¿½ç•¥ä»»ä½•å‰å¯¼é›¶åçš„æ•´æ•°å€¼</strong> ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¿®è®¢å· <code>1</code> å’Œä¿®è®¢å· <code>001</code> <strong>ç›¸ç­‰</strong> ã€‚å¦‚æœç‰ˆæœ¬å·æ²¡æœ‰æŒ‡å®šæŸä¸ªä¸‹æ ‡å¤„çš„ä¿®è®¢å·ï¼Œåˆ™è¯¥ä¿®è®¢å·è§†ä¸º <code>0</code> ã€‚ä¾‹å¦‚ï¼Œç‰ˆæœ¬ <code>1.0</code> å°äºç‰ˆæœ¬ <code>1.1</code> ï¼Œå› ä¸ºå®ƒä»¬ä¸‹æ ‡ä¸º <code>0</code> çš„ä¿®è®¢å·ç›¸åŒï¼Œè€Œä¸‹æ ‡ä¸º <code>1</code> çš„ä¿®è®¢å·åˆ†åˆ«ä¸º <code>0</code> å’Œ <code>1</code> ï¼Œ<code>0 &lt; 1</code> ã€‚</p>
<p>è¿”å›è§„åˆ™å¦‚ä¸‹ï¼š</p>
<ul>
<li>å¦‚æœ <code>*version1* &gt; *version2*</code> è¿”å› <code>1</code>ï¼Œ</li>
<li>å¦‚æœ <code>*version1* &lt; *version2*</code> è¿”å› <code>-1</code>ï¼Œ</li>
<li>é™¤æ­¤ä¹‹å¤–è¿”å› <code>0</code>ã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šversion1 = &quot;1.01&quot;, version2 = &quot;1.001&quot;</span><br><span class="line">è¾“å‡ºï¼š0</span><br><span class="line">è§£é‡Šï¼šå¿½ç•¥å‰å¯¼é›¶ï¼Œ&quot;01&quot; å’Œ &quot;001&quot; éƒ½è¡¨ç¤ºç›¸åŒçš„æ•´æ•° &quot;1&quot;</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šversion1 = &quot;1.0&quot;, version2 = &quot;1.0.0&quot;</span><br><span class="line">è¾“å‡ºï¼š0</span><br><span class="line">è§£é‡Šï¼šversion1 æ²¡æœ‰æŒ‡å®šä¸‹æ ‡ä¸º 2 çš„ä¿®è®¢å·ï¼Œå³è§†ä¸º &quot;0&quot;</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šversion1 = &quot;0.1&quot;, version2 = &quot;1.1&quot;</span><br><span class="line">è¾“å‡ºï¼š-1</span><br><span class="line">è§£é‡Šï¼šversion1 ä¸­ä¸‹æ ‡ä¸º 0 çš„ä¿®è®¢å·æ˜¯ &quot;0&quot;ï¼Œversion2 ä¸­ä¸‹æ ‡ä¸º 0 çš„ä¿®è®¢å·æ˜¯ &quot;1&quot; ã€‚0 &lt; 1ï¼Œæ‰€ä»¥ version1 &lt; version2</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= version1.length, version2.length &lt;= 500</code></li>
<li><code>version1</code> å’Œ <code>version2</code> ä»…åŒ…å«æ•°å­—å’Œ <code>&#39;.&#39;</code></li>
<li><code>version1</code> å’Œ <code>version2</code> éƒ½æ˜¯ <strong>æœ‰æ•ˆç‰ˆæœ¬å·</strong></li>
<li><code>version1</code> å’Œ <code>version2</code> çš„æ‰€æœ‰ä¿®è®¢å·éƒ½å¯ä»¥å­˜å‚¨åœ¨ <strong>32 ä½æ•´æ•°</strong> ä¸­</li>
</ul>
<p>Related Topics</p>
<p>åŒæŒ‡é’ˆ</p>
<p>å­—ç¬¦ä¸²</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compareVersion</span><span class="params">(String version1, String version2)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">v1</span> <span class="operator">=</span> <span class="number">0</span>, v2 = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">sum1</span> <span class="operator">=</span> <span class="number">0</span>, sum2 = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (v1 &lt; version1.length() || v2 &lt; version2.length()) &#123;</span><br><span class="line">            <span class="keyword">while</span> (v1 &lt; version1.length() &amp;&amp; version1.charAt(v1) != <span class="string">&#x27;.&#x27;</span>) &#123;</span><br><span class="line">                sum1 = sum1 * <span class="number">10</span> + version1.charAt(v1) - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">                v1++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">while</span> (v2 &lt; version2.length() &amp;&amp; version2.charAt(v2) != <span class="string">&#x27;.&#x27;</span>) &#123;</span><br><span class="line">                sum2 = sum2 * <span class="number">10</span> + version2.charAt(v2) - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">                v2++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (sum1 &lt; sum2) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (sum1 &gt; sum2) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                v1++;</span><br><span class="line">                v2++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="ä¸‰ã€æ»‘åŠ¨çª—å£"><a href="#ä¸‰ã€æ»‘åŠ¨çª—å£" class="headerlink" title="ä¸‰ã€æ»‘åŠ¨çª—å£"></a>ä¸‰ã€æ»‘åŠ¨çª—å£</h2><p>æ»‘åŠ¨çª—å£ï¼Œ<strong>å°±æ˜¯ä¸æ–­çš„è°ƒèŠ‚å­åºåˆ—çš„èµ·å§‹ä½ç½®å’Œç»ˆæ­¢ä½ç½®ï¼Œä»è€Œå¾—å‡ºæˆ‘ä»¬è¦æƒ³çš„ç»“æœ</strong>ã€‚</p>
<p>åœ¨éå†ä¸€ä¸ªæ•°ç»„çš„è¿‡ç¨‹ä¸­ï¼š</p>
<p>åœ¨æš´åŠ›è§£æ³•ä¸­ï¼Œæ˜¯ä¸€ä¸ªforå¾ªç¯æ»‘åŠ¨çª—å£çš„èµ·å§‹ä½ç½®ï¼Œä¸€ä¸ªforå¾ªç¯ä¸ºæ»‘åŠ¨çª—å£çš„ç»ˆæ­¢ä½ç½®ï¼Œç”¨ä¸¤ä¸ªforå¾ªç¯å®Œæˆäº†ä¸€ä¸ªä¸æ–­æœç´¢åŒºé—´çš„è¿‡ç¨‹ã€‚</p>
<p>é‚£ä¹ˆæ»‘åŠ¨çª—å£å¦‚ä½•ç”¨ä¸€ä¸ªforå¾ªç¯æ¥å®Œæˆè¿™ä¸ªæ“ä½œå‘¢ã€‚</p>
<p>é¦–å…ˆè¦æ€è€ƒ å¦‚æœç”¨ä¸€ä¸ªforå¾ªç¯ï¼Œé‚£ä¹ˆåº”è¯¥è¡¨ç¤º æ»‘åŠ¨çª—å£çš„èµ·å§‹ä½ç½®ï¼Œè¿˜æ˜¯ç»ˆæ­¢ä½ç½®ã€‚</p>
<p>å¦‚æœåªç”¨ä¸€ä¸ªforå¾ªç¯æ¥è¡¨ç¤º æ»‘åŠ¨çª—å£çš„èµ·å§‹ä½ç½®ï¼Œé‚£ä¹ˆå¦‚ä½•éå†å‰©ä¸‹çš„ç»ˆæ­¢ä½ç½®ï¼Ÿæ­¤æ—¶éš¾å…å†æ¬¡é™·å…¥ æš´åŠ›è§£æ³•çš„æ€ªåœˆã€‚</p>
<p>æ‰€ä»¥åªç”¨ä¸€ä¸ªforå¾ªç¯ï¼Œé‚£ä¹ˆ<strong>è¿™ä¸ªå¾ªç¯çš„ç´¢å¼•ï¼Œä¸€å®šæ˜¯è¡¨ç¤ºæ»‘åŠ¨çª—å£çš„ç»ˆæ­¢ä½ç½®ã€‚</strong></p>
<p>é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œ æ»‘åŠ¨çª—å£çš„èµ·å§‹ä½ç½®å¦‚ä½•ç§»åŠ¨å‘¢ï¼Ÿ</p>
<p>è¿™é‡Œè¿˜æ˜¯ä»¥<code>é•¿åº¦æœ€å°çš„å­æ•°ç»„</code>ä¸­çš„ç¤ºä¾‹æ¥ä¸¾ä¾‹ï¼Œs&#x3D;7ï¼Œ æ•°ç»„æ˜¯ 2ï¼Œ3ï¼Œ1ï¼Œ2ï¼Œ4ï¼Œ3ï¼Œæ¥çœ‹ä¸€ä¸‹æŸ¥æ‰¾çš„è¿‡ç¨‹ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://code-thinking.cdn.bcebos.com/gifs/209.%E9%95%BF%E5%BA%A6%E6%9C%80%E5%B0%8F%E7%9A%84%E5%AD%90%E6%95%B0%E7%BB%84.gif" alt="209.é•¿åº¦æœ€å°çš„å­æ•°ç»„"></p>
<p>æœ€åæ‰¾åˆ° 4ï¼Œ3 æ˜¯æœ€çŸ­è·ç¦»ã€‚</p>
<p>å…¶å®ä»åŠ¨ç”»ä¸­å¯ä»¥å‘ç°<strong>æ»‘åŠ¨çª—å£ä¹Ÿå¯ä»¥ç†è§£ä¸ºåŒæŒ‡é’ˆæ³•çš„ä¸€ç§ï¼åªä¸è¿‡è¿™ç§è§£æ³•æ›´åƒæ˜¯ä¸€ä¸ªçª—å£çš„ç§»åŠ¨ï¼Œæ‰€ä»¥å«åšæ»‘åŠ¨çª—å£æ›´é€‚åˆä¸€äº›ã€‚</strong></p>
<p>å®ç°æ»‘åŠ¨çª—å£ï¼Œä¸»è¦ç¡®å®šå¦‚ä¸‹ä¸‰ç‚¹ï¼š</p>
<ul>
<li>çª—å£å†…æ˜¯ä»€ä¹ˆï¼Ÿ</li>
<li>å¦‚ä½•ç§»åŠ¨çª—å£çš„èµ·å§‹ä½ç½®ï¼Ÿ</li>
<li>å¦‚ä½•ç§»åŠ¨çª—å£çš„ç»“æŸä½ç½®ï¼Ÿ</li>
</ul>
<p><strong>æ»‘åŠ¨çª—å£çš„ç²¾å¦™ä¹‹å¤„åœ¨äºæ ¹æ®å½“å‰å­åºåˆ—å’Œå¤§å°çš„æƒ…å†µï¼Œä¸æ–­è°ƒèŠ‚å­åºåˆ—çš„èµ·å§‹ä½ç½®ã€‚ä»è€Œå°†O(n^2)æš´åŠ›è§£æ³•é™ä¸ºO(n)ã€‚</strong></p>
<p>æ»‘åŠ¨çª—å£é¢˜ç›®:</p>
<ol start="3">
<li><p>æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²</p>
</li>
<li><p>ä¸²è”æ‰€æœ‰å•è¯çš„å­ä¸²</p>
</li>
<li><p>æœ€å°è¦†ç›–å­ä¸²</p>
</li>
<li><p>è‡³å¤šåŒ…å«ä¸¤ä¸ªä¸åŒå­—ç¬¦çš„æœ€é•¿å­ä¸²</p>
</li>
<li><p>é•¿åº¦æœ€å°çš„å­æ•°ç»„</p>
</li>
<li><p>æ»‘åŠ¨çª—å£æœ€å¤§å€¼</p>
</li>
<li><p>å­—ç¬¦ä¸²çš„æ’åˆ—</p>
</li>
<li><p>æœ€å°åŒºé—´</p>
</li>
<li><p>æœ€å°çª—å£å­åºåˆ—</p>
</li>
</ol>
<h3 id="3-1ã€LC209-é•¿åº¦æœ€å°çš„å­æ•°ç»„"><a href="#3-1ã€LC209-é•¿åº¦æœ€å°çš„å­æ•°ç»„" class="headerlink" title="3.1ã€LC209. é•¿åº¦æœ€å°çš„å­æ•°ç»„"></a>3.1ã€LC209. é•¿åº¦æœ€å°çš„å­æ•°ç»„</h3><p>ç»™å®šä¸€ä¸ªå«æœ‰ <code>n</code> ä¸ªæ­£æ•´æ•°çš„æ•°ç»„å’Œä¸€ä¸ªæ­£æ•´æ•° <code>target</code> <strong>ã€‚</strong></p>
<p>æ‰¾å‡ºè¯¥æ•°ç»„ä¸­æ»¡è¶³å…¶å’Œ <code>â‰¥ target</code> çš„é•¿åº¦æœ€å°çš„ <strong>è¿ç»­å­æ•°ç»„</strong> <code>[numsl, numsl+1, ..., numsr-1, numsr]</code> ï¼Œå¹¶è¿”å›å…¶é•¿åº¦<strong>ã€‚</strong>å¦‚æœä¸å­˜åœ¨ç¬¦åˆæ¡ä»¶çš„å­æ•°ç»„ï¼Œè¿”å› <code>0</code> ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼štarget = 7, nums = [2,3,1,2,4,3]</span><br><span class="line">è¾“å‡ºï¼š2</span><br><span class="line">è§£é‡Šï¼šå­æ•°ç»„ [4,3] æ˜¯è¯¥æ¡ä»¶ä¸‹çš„é•¿åº¦æœ€å°çš„å­æ•°ç»„ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼štarget = 4, nums = [1,4,4]</span><br><span class="line">è¾“å‡ºï¼š1</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼štarget = 11, nums = [1,1,1,1,1,1,1,1]</span><br><span class="line">è¾“å‡ºï¼š0</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= target &lt;= 109</code></li>
<li><code>1 &lt;= nums.length &lt;= 105</code></li>
<li><code>1 &lt;= nums[i] &lt;= 105</code></li>
</ul>
<p><strong>è¿›é˜¶ï¼š</strong></p>
<ul>
<li>å¦‚æœä½ å·²ç»å®ç° <code>O(n)</code> æ—¶é—´å¤æ‚åº¦çš„è§£æ³•, è¯·å°è¯•è®¾è®¡ä¸€ä¸ª <code>O(n log(n))</code> æ—¶é—´å¤æ‚åº¦çš„è§£æ³•ã€‚</li>
</ul>
<p>åœ¨æœ¬é¢˜ä¸­å®ç°æ»‘åŠ¨çª—å£ï¼Œä¸»è¦ç¡®å®šå¦‚ä¸‹ä¸‰ç‚¹ï¼š</p>
<ul>
<li>çª—å£å†…æ˜¯ä»€ä¹ˆï¼Ÿ</li>
<li>å¦‚ä½•ç§»åŠ¨çª—å£çš„èµ·å§‹ä½ç½®ï¼Ÿ</li>
<li>å¦‚ä½•ç§»åŠ¨çª—å£çš„ç»“æŸä½ç½®ï¼Ÿ</li>
</ul>
<p>çª—å£å°±æ˜¯ æ»¡è¶³å…¶å’Œ â‰¥ s çš„é•¿åº¦æœ€å°çš„ è¿ç»­ å­æ•°ç»„ã€‚</p>
<p>çª—å£çš„èµ·å§‹ä½ç½®å¦‚ä½•ç§»åŠ¨ï¼šå¦‚æœå½“å‰çª—å£çš„å€¼å¤§äºsäº†ï¼Œçª—å£å°±è¦å‘å‰ç§»åŠ¨äº†ï¼ˆä¹Ÿå°±æ˜¯è¯¥ç¼©å°äº†ï¼‰ã€‚</p>
<p>çª—å£çš„ç»“æŸä½ç½®å¦‚ä½•ç§»åŠ¨ï¼šçª—å£çš„ç»“æŸä½ç½®å°±æ˜¯éå†æ•°ç»„çš„æŒ‡é’ˆï¼Œä¹Ÿå°±æ˜¯forå¾ªç¯é‡Œçš„ç´¢å¼•ã€‚</p>
<p>è§£é¢˜çš„å…³é”®åœ¨äº çª—å£çš„èµ·å§‹ä½ç½®å¦‚ä½•ç§»åŠ¨ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/20210312160441942.png" alt="leetcode_209"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ»‘åŠ¨çª—å£</span></span><br><span class="line"><span class="comment">     * */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minSubArrayLen</span><span class="params">(<span class="type">int</span> target, <span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> Integer.MAX_VALUE;</span><br><span class="line">        <span class="comment">//æ»‘åŠ¨çª—å£ for iéå†çš„æ˜¯ç»“æŸçš„ä½ç½® jæ˜¯èµ·å§‹çš„ä½ç½®</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0</span>;<span class="comment">//æ»‘åŠ¨çª—å£çš„å¤§å°</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">            sum += nums[i];</span><br><span class="line"></span><br><span class="line">            <span class="keyword">while</span> (sum &gt;= target) &#123; <span class="comment">//çª—å£çš„å¤§å°å¤§äºè¦æ±‚çš„å€¼ èµ·å§‹ä½ç½®å‘å‰ ç¼©çª—å£</span></span><br><span class="line">                <span class="type">int</span> <span class="variable">subLength</span> <span class="operator">=</span> i - j + <span class="number">1</span>;</span><br><span class="line">                res = Math.min(subLength, res);</span><br><span class="line">                sum -= nums[j++];<span class="comment">//å°±ç›¸å½“äºä¹‹å‰çš„å’Œå‡å»äº†èµ·å§‹ä½ç½®çš„å€¼ èµ·å§‹ä½ç½®++</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (res == Integer.MAX_VALUE) &#123; <span class="comment">//æ•°ç»„ä¸­çš„å’Œä¸å¤§äºtarget</span></span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> res;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-2ã€LC904-æ°´æœæˆç¯®"><a href="#3-2ã€LC904-æ°´æœæˆç¯®" class="headerlink" title="3.2ã€LC904. æ°´æœæˆç¯®"></a>3.2ã€LC904. æ°´æœæˆç¯®</h3><p>ä½ æ­£åœ¨æ¢è®¿ä¸€å®¶å†œåœºï¼Œå†œåœºä»å·¦åˆ°å³ç§æ¤äº†ä¸€æ’æœæ ‘ã€‚è¿™äº›æ ‘ç”¨ä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>fruits</code> è¡¨ç¤ºï¼Œå…¶ä¸­ <code>fruits[i]</code> æ˜¯ç¬¬ <code>i</code> æ£µæ ‘ä¸Šçš„æ°´æœ <strong>ç§ç±»</strong> ã€‚</p>
<p>ä½ æƒ³è¦å°½å¯èƒ½å¤šåœ°æ”¶é›†æ°´æœã€‚ç„¶è€Œï¼Œå†œåœºçš„ä¸»äººè®¾å®šäº†ä¸€äº›ä¸¥æ ¼çš„è§„çŸ©ï¼Œä½ å¿…é¡»æŒ‰ç…§è¦æ±‚é‡‡æ‘˜æ°´æœï¼š</p>
<ul>
<li>ä½ åªæœ‰ <strong>ä¸¤ä¸ª</strong> ç¯®å­ï¼Œå¹¶ä¸”æ¯ä¸ªç¯®å­åªèƒ½è£… <strong>å•ä¸€ç±»å‹</strong> çš„æ°´æœã€‚æ¯ä¸ªç¯®å­èƒ½å¤Ÿè£…çš„æ°´æœæ€»é‡æ²¡æœ‰é™åˆ¶ã€‚</li>
<li>ä½ å¯ä»¥é€‰æ‹©ä»»æ„ä¸€æ£µæ ‘å¼€å§‹é‡‡æ‘˜ï¼Œä½ å¿…é¡»ä» <strong>æ¯æ£µ</strong> æ ‘ï¼ˆåŒ…æ‹¬å¼€å§‹é‡‡æ‘˜çš„æ ‘ï¼‰ä¸Š <strong>æ°å¥½æ‘˜ä¸€ä¸ªæ°´æœ</strong> ã€‚é‡‡æ‘˜çš„æ°´æœåº”å½“ç¬¦åˆç¯®å­ä¸­çš„æ°´æœç±»å‹ã€‚æ¯é‡‡æ‘˜ä¸€æ¬¡ï¼Œä½ å°†ä¼šå‘å³ç§»åŠ¨åˆ°ä¸‹ä¸€æ£µæ ‘ï¼Œå¹¶ç»§ç»­é‡‡æ‘˜ã€‚</li>
<li>ä¸€æ—¦ä½ èµ°åˆ°æŸæ£µæ ‘å‰ï¼Œä½†æ°´æœä¸ç¬¦åˆç¯®å­çš„æ°´æœç±»å‹ï¼Œé‚£ä¹ˆå°±å¿…é¡»åœæ­¢é‡‡æ‘˜ã€‚</li>
</ul>
<p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>fruits</code> ï¼Œè¿”å›ä½ å¯ä»¥æ”¶é›†çš„æ°´æœçš„ <strong>æœ€å¤§</strong> æ•°ç›®ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šfruits = [1,2,1]</span><br><span class="line">è¾“å‡ºï¼š3</span><br><span class="line">è§£é‡Šï¼šå¯ä»¥é‡‡æ‘˜å…¨éƒ¨ 3 æ£µæ ‘ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šfruits = [0,1,2,2]</span><br><span class="line">è¾“å‡ºï¼š3</span><br><span class="line">è§£é‡Šï¼šå¯ä»¥é‡‡æ‘˜ [1,2,2] è¿™ä¸‰æ£µæ ‘ã€‚</span><br><span class="line">å¦‚æœä»ç¬¬ä¸€æ£µæ ‘å¼€å§‹é‡‡æ‘˜ï¼Œåˆ™åªèƒ½é‡‡æ‘˜ [0,1] è¿™ä¸¤æ£µæ ‘ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šfruits = [1,2,3,2,2]</span><br><span class="line">è¾“å‡ºï¼š4</span><br><span class="line">è§£é‡Šï¼šå¯ä»¥é‡‡æ‘˜ [2,3,2,2] è¿™å››æ£µæ ‘ã€‚</span><br><span class="line">å¦‚æœä»ç¬¬ä¸€æ£µæ ‘å¼€å§‹é‡‡æ‘˜ï¼Œåˆ™åªèƒ½é‡‡æ‘˜ [1,2] è¿™ä¸¤æ£µæ ‘ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 4ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šfruits = [3,3,3,1,2,1,1,2,3,3,4]</span><br><span class="line">è¾“å‡ºï¼š5</span><br><span class="line">è§£é‡Šï¼šå¯ä»¥é‡‡æ‘˜ [1,2,1,1,2] è¿™äº”æ£µæ ‘ã€‚</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= fruits.length &lt;= 105</code></li>
<li><code>0 &lt;= fruits[i] &lt; fruits.length</code></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ»‘åŠ¨çª—å£ + hashmap</span></span><br><span class="line"><span class="comment">     * */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">totalFruit</span><span class="params">(<span class="type">int</span>[] fruits)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">1</span>;<span class="comment">//è¿”å›çš„æœ€å¤šæ”¶é›†ä¸ªæ•°</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>;<span class="comment">//èµ·å§‹ä½ç½®</span></span><br><span class="line">        HashMap&lt;Integer, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;(<span class="number">3</span>);<span class="comment">//ç¯®å­</span></span><br><span class="line">        <span class="comment">//éå†ç»ˆæ­¢ä½ç½®i</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; fruits.length; i++) &#123;</span><br><span class="line">            map.put(fruits[i], map.getOrDefault(fruits[i], <span class="number">0</span>) + <span class="number">1</span>);<span class="comment">//åˆ©ç”¨mapä¸å«é‡å¤å…ƒç´ </span></span><br><span class="line">            <span class="keyword">while</span> (map.size() &gt; <span class="number">2</span>) &#123;<span class="comment">//å½“ç¯®å­æ•°å¤§äº2æ—¶ï¼Œç¼©çŸ­çª—å£</span></span><br><span class="line">                <span class="keyword">if</span> (map.get(fruits[j]) - <span class="number">1</span> == <span class="number">0</span>) &#123;</span><br><span class="line">                    map.remove(fruits[j]);</span><br><span class="line">                &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                    map.put(fruits[j], map.get(fruits[j]) - <span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                j++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">int</span> <span class="variable">subLength</span> <span class="operator">=</span> i - j + <span class="number">1</span>;</span><br><span class="line">            res = Math.max(res, subLength);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å®«æ°´ä¸‰å¶ï¼ˆæ•°ç»„å¸¦æ›¿mapï¼‰</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">totalFruit</span><span class="params">(<span class="type">int</span>[] fs)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> fs.length, res = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//cntsç”¨æ¥ç»Ÿè®¡æ¯ç§æ°´æœæ ‘çš„æ•°é‡</span></span><br><span class="line">    <span class="type">int</span>[] cnts = <span class="keyword">new</span> <span class="title class_">int</span>[len + <span class="number">10</span>];</span><br><span class="line">    <span class="comment">//iæ˜¯çª—å£çš„å³è¾¹ï¼Œjæ˜¯å·¦è¾¹ï¼Œtotè¡¨ç¤ºå½“å‰ç¯®å­é‡Œæ°´æœçš„ç§ç±»ï¼ˆè‡³å¤šæœ‰ä¸¤ç§æ°´æœï¼‰ï¼Œä¹Ÿè¡¨ç¤ºçª—å£ä¸­çš„æ°´æœç§ç±»æ•°é‡</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>, j = <span class="number">0</span>, tot = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">        cnts[fs[i]]++;</span><br><span class="line">        <span class="keyword">if</span> (cnts[fs[i]] == <span class="number">1</span>) tot++;<span class="comment">//ç¬¬ä¸€æ¬¡å‡ºç° ç¯®å­çš„ç§ç±»++</span></span><br><span class="line">        <span class="comment">//å½“ç§ç±»æ•°é‡å¤§äº2æ—¶ï¼Œä½¿çª—å£å·¦ä¾§æ”¶ç¼©ï¼Œå¹¶ä¸”é™¤å»å¯¹åº”çš„æ°´æœç§ç±»åœ¨cntsä¸­çš„æ•°é‡</span></span><br><span class="line">        <span class="comment">//å½“ä¸º0æ—¶åˆ™å½»åº•åœ¨çª—å£ä¸­é™¤å»è¯¥ç§æ°´æœ</span></span><br><span class="line">        <span class="keyword">while</span> (tot &gt; <span class="number">2</span>) &#123;</span><br><span class="line">            cnts[fs[j]]--;<span class="comment">//ç¼©çª—å£</span></span><br><span class="line">            <span class="keyword">if</span> (cnts[fs[j]] == <span class="number">0</span>) tot--;<span class="comment">//ç¯®å­ç§ç±»æ•°--</span></span><br><span class="line">            j++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//å³æ—¶æ¯”è¾ƒåˆ¤æ–­çª—å£ä¸­æ°´æœæ ‘çš„æ•°é‡ï¼Œç»è¿‡å‰ä¸¤æ­¥çª—å£ä¸­çš„ä¸œè¥¿ä¸€å®šæ˜¯æ»¡è¶³é¢˜ä¹‰çš„</span></span><br><span class="line">        res = Math.max(res, i - j + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-3ã€LC76-æœ€å°è¦†ç›–å­—ä¸²"><a href="#3-3ã€LC76-æœ€å°è¦†ç›–å­—ä¸²" class="headerlink" title="3.3ã€LC76. æœ€å°è¦†ç›–å­—ä¸²"></a>3.3ã€LC76. æœ€å°è¦†ç›–å­—ä¸²</h3><p>ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² <code>s</code> ã€ä¸€ä¸ªå­—ç¬¦ä¸² <code>t</code> ã€‚è¿”å› <code>s</code> ä¸­æ¶µç›– <code>t</code> æ‰€æœ‰å­—ç¬¦çš„æœ€å°å­ä¸²ã€‚å¦‚æœ <code>s</code> ä¸­ä¸å­˜åœ¨æ¶µç›– <code>t</code> æ‰€æœ‰å­—ç¬¦çš„å­ä¸²ï¼Œåˆ™è¿”å›ç©ºå­—ç¬¦ä¸² <code>&quot;&quot;</code> ã€‚</p>
<p><strong>æ³¨æ„ï¼š</strong></p>
<ul>
<li>å¯¹äº <code>t</code> ä¸­é‡å¤å­—ç¬¦ï¼Œæˆ‘ä»¬å¯»æ‰¾çš„å­å­—ç¬¦ä¸²ä¸­è¯¥å­—ç¬¦æ•°é‡å¿…é¡»ä¸å°‘äº <code>t</code> ä¸­è¯¥å­—ç¬¦æ•°é‡ã€‚</li>
<li>å¦‚æœ <code>s</code> ä¸­å­˜åœ¨è¿™æ ·çš„å­ä¸²ï¼Œæˆ‘ä»¬ä¿è¯å®ƒæ˜¯å”¯ä¸€çš„ç­”æ¡ˆã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;ADOBECODEBANC&quot;, t = &quot;ABC&quot;</span><br><span class="line">è¾“å‡ºï¼š&quot;BANC&quot;</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;a&quot;, t = &quot;a&quot;</span><br><span class="line">è¾“å‡ºï¼š&quot;a&quot;</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: s = &quot;a&quot;, t = &quot;aa&quot;</span><br><span class="line">è¾“å‡º: &quot;&quot;</span><br><span class="line">è§£é‡Š: t ä¸­ä¸¤ä¸ªå­—ç¬¦ &#x27;a&#x27; å‡åº”åŒ…å«åœ¨ s çš„å­ä¸²ä¸­ï¼Œ</span><br><span class="line">å› æ­¤æ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„å­å­—ç¬¦ä¸²ï¼Œè¿”å›ç©ºå­—ç¬¦ä¸²ã€‚</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= s.length, t.length &lt;= 105</code></li>
<li><code>s</code> å’Œ <code>t</code> ç”±è‹±æ–‡å­—æ¯ç»„æˆ</li>
</ul>
<p><strong>è¿›é˜¶ï¼š</strong>ä½ èƒ½è®¾è®¡ä¸€ä¸ªåœ¨ <code>o(n)</code> æ—¶é—´å†…è§£å†³æ­¤é—®é¢˜çš„ç®—æ³•å—ï¼Ÿ</p>
<p>Related Topics</p>
<p>å“ˆå¸Œè¡¨</p>
<p>å­—ç¬¦ä¸²</p>
<p>æ»‘åŠ¨çª—å£</p>
<p><strong>è§£æ³•æ€è·¯ï¼š</strong></p>
<ol>
<li>åˆ›å»ºä¸¤ä¸ªmapï¼Œåˆ†åˆ«è¡¨ç¤ºéœ€è¦çš„å­—ç¬¦sonMapåŠå…¶ä¸ªæ•°å’Œå½“å‰çš„å­—ç¬¦(åªç»Ÿè®¡å­ä¸²å«æœ‰çš„å­—ç¬¦)matherMapåŠå…¶ä¸ªæ•°ã€‚</li>
<li>åˆ©ç”¨æ»‘åŠ¨çª—å£çš„æ€æƒ³ï¼Œéå†å³æŒ‡é’ˆã€‚</li>
<li>å³æŒ‡é’ˆéå†è¿‡çš„å­—ç¬¦å¦‚æœæœ‰è¦åŒ¹é…çš„å­—ç¬¦ï¼ŒåŠ åˆ°mapä¸­å»ã€‚ç»Ÿè®¡å·²ç»åŒ¹é…å­—ç¬¦çš„è®¡æ•°å™¨ã€‚</li>
<li>å¦‚æœå·²ç»åŒ¹é…ä¸Šäº†ï¼Œæ›´æ–°åŒ¹é…çš„å­—ä¸²ï¼ŒæŠŠå·¦æŒ‡é’ˆå¼€å§‹å³ç§»ï¼Œçª—å£æ”¶ç¼©ï¼Œæ›´æ–°matherMapçš„æ•°æ®ã€‚</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> String <span class="title function_">minWindow</span><span class="params">(String s, String t)</span> &#123;</span><br><span class="line">    <span class="comment">//ä¸¤ä¸ªmap,ä¸€ä¸ªå­˜æ”¾éœ€è¦çš„å­—ç¬¦ï¼Œä¸€ä¸ªå­˜æ”¾å½“å‰çš„å­—ç¬¦</span></span><br><span class="line">    Map&lt;Character, Integer&gt; sonMap = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    Map&lt;Character, Integer&gt; matherMap = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//éå†åŒ¹é…çš„å­—ä¸²</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; t.length(); i++) &#123;</span><br><span class="line">        <span class="type">char</span> <span class="variable">cur</span> <span class="operator">=</span> t.charAt(i);</span><br><span class="line">        sonMap.put(cur, sonMap.getOrDefault(cur, <span class="number">0</span>) + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>;<span class="comment">//èµ·å§‹</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> <span class="number">0</span>;<span class="comment">//ç»ˆæ­¢</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">finishCount</span> <span class="operator">=</span> <span class="number">0</span>;<span class="comment">//è®¡æ•°å™¨</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">res</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">minLen</span> <span class="operator">=</span> s.length();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (right &lt; s.length()) &#123;</span><br><span class="line">        <span class="type">char</span> <span class="variable">cur</span> <span class="operator">=</span> s.charAt(right);</span><br><span class="line">        <span class="keyword">if</span> (sonMap.containsKey(cur)) &#123; <span class="comment">//å­—ä¸²ä¸­éœ€è¦è¿™ä¸ªå­—ç¬¦</span></span><br><span class="line">            matherMap.put(cur, matherMap.getOrDefault(cur, <span class="number">0</span>) + <span class="number">1</span>);</span><br><span class="line">            <span class="comment">// ä¸¤ä¸ªIntegerå¯¹è±¡æ¯”è¾ƒæ—¶ï¼Œä¸èƒ½ä½¿ç”¨ == ï¼Œè¦ä½¿ç”¨equalsï¼Œå¦‚æœä½¿ç”¨ == ï¼Œåœ¨[-128,127]èŒƒå›´å†…æ­£å¸¸ï¼ŒèŒƒå›´å¤–ä¸æ­£å¸¸</span></span><br><span class="line">            <span class="keyword">if</span> (sonMap.get(cur).equals(matherMap.get(cur))) &#123; <span class="comment">//ä¸€é¡¹å·²ç»åŒ¹é…äº†</span></span><br><span class="line">                finishCount++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        right++;</span><br><span class="line">        <span class="comment">//è®¡æ•°å™¨æ»¡è¶³è¦æ±‚ï¼Œç¼©å°çª—å£</span></span><br><span class="line">        <span class="keyword">while</span> (finishCount == sonMap.size()) &#123;</span><br><span class="line">            <span class="type">char</span> <span class="variable">leftCur</span> <span class="operator">=</span> s.charAt(left);</span><br><span class="line">            <span class="keyword">if</span> (matherMap.containsKey(leftCur) &amp;&amp; matherMap.get(leftCur) &gt;= sonMap.get(leftCur)) &#123;</span><br><span class="line">                <span class="comment">//è®°å½•æ»¡è¶³æ¡ä»¶çš„æœ€å°å­—ä¸²</span></span><br><span class="line">                <span class="type">String</span> <span class="variable">temp</span> <span class="operator">=</span> s.substring(left, right);</span><br><span class="line">                <span class="keyword">if</span> (temp.length() &lt;= minLen) &#123;</span><br><span class="line">                    res = temp;</span><br><span class="line">                    minLen = temp.length();</span><br><span class="line">                &#125;</span><br><span class="line">                matherMap.put(leftCur, matherMap.get(leftCur) - <span class="number">1</span>);</span><br><span class="line">                <span class="keyword">if</span> (sonMap.get(leftCur) &gt; matherMap.get(leftCur)) &#123;</span><br><span class="line">                    finishCount--;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            left++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-4ã€LC3-æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²"><a href="#3-4ã€LC3-æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²" class="headerlink" title="3.4ã€LC3. æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²"></a>3.4ã€LC3. æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²</h3><p>ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² <code>s</code> ï¼Œè¯·ä½ æ‰¾å‡ºå…¶ä¸­ä¸å«æœ‰é‡å¤å­—ç¬¦çš„ <strong>æœ€é•¿å­ä¸²</strong> çš„é•¿åº¦ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: s = &quot;abcabcbb&quot;</span><br><span class="line">è¾“å‡º: 3 </span><br><span class="line">è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ &quot;abc&quot;ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 3ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: s = &quot;bbbbb&quot;</span><br><span class="line">è¾“å‡º: 1</span><br><span class="line">è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ &quot;b&quot;ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 1ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: s = &quot;pwwkew&quot;</span><br><span class="line">è¾“å‡º: 3</span><br><span class="line">è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ &quot;wke&quot;ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 3ã€‚</span><br><span class="line">     è¯·æ³¨æ„ï¼Œä½ çš„ç­”æ¡ˆå¿…é¡»æ˜¯ å­ä¸² çš„é•¿åº¦ï¼Œ&quot;pwke&quot; æ˜¯ä¸€ä¸ªå­åºåˆ—ï¼Œä¸æ˜¯å­ä¸²ã€‚</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>0 &lt;= s.length &lt;= 5 * 104</code></li>
<li><code>s</code> ç”±è‹±æ–‡å­—æ¯ã€æ•°å­—ã€ç¬¦å·å’Œç©ºæ ¼ç»„æˆ</li>
</ul>
<p>Related Topics</p>
<p>å“ˆå¸Œè¡¨</p>
<p>å­—ç¬¦ä¸²</p>
<p>æ»‘åŠ¨çª—å£</p>
<p>ğŸ‘ 8536</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>å› ä¸ºè¦æ‰¾åˆ°ä¸é‡å¤çš„å­—ç¬¦æœ€å¤§é•¿åº¦ï¼Œåœ¨çª—å£è¿›è¡Œä¼¸ç¼©çš„åˆ¤æ–­ä¸­ï¼Œæœ‰å¯èƒ½çª—å£é‡Œçš„å…ƒç´ ä¸è¦æ‰©å­—ç¬¦çš„å€¼ç›¸åŒï¼Œå› æ­¤é‡‡ç”¨å“ˆå¸Œè¡¨è¿›è¡Œè®°å½•ã€‚å“ˆå¸Œè¡¨è®°å½•çš„æ˜¯å­—ç¬¦ä¸ä¸‹æ ‡çš„å¯¹åº”å…³ç³»ï¼Œå½“éå†åˆ°ä¸€ä¸ªæ–°å­—ç¬¦ï¼Œå°±æŠŠä»–åŠ å…¥åˆ°å“ˆå¸Œè¡¨ä¸­ï¼›å½“éå†åˆ°ä¸€ä¸ªå­˜åœ¨çš„å­—ç¬¦ï¼Œå°±å¯¹çª—å£çš„å·¦è¾¹ç•Œè¿›è¡Œæ”¶ç¼©ï¼Œå¹¶ä¸”æ›´æ–°å­—ç¬¦å¯¹åº”çš„ä¸‹æ ‡ä½ç½®ã€‚</p>
<p><strong>ç®—æ³•æµç¨‹</strong>ï¼š</p>
<ol>
<li><p>é¦–å…ˆï¼Œåˆ¤æ–­å½“å‰å­—ç¬¦æ˜¯å¦åŒ…å«åœ¨mapä¸­ï¼Œå¦‚æœä¸åŒ…å«ï¼Œå°†è¯¥å­—ç¬¦æ·»åŠ åˆ°mapï¼ˆå­—ç¬¦ï¼Œå­—ç¬¦åœ¨æ•°ç»„ä¸‹æ ‡ï¼‰, æ­¤æ—¶æ²¡æœ‰å‡ºç°é‡å¤çš„å­—ç¬¦ï¼Œå·¦æŒ‡é’ˆä¸éœ€è¦å˜åŒ–ã€‚æ­¤æ—¶ä¸é‡å¤å­ä¸²çš„é•¿åº¦ä¸ºï¼ši - left + 1ï¼Œä¸åŸæ¥çš„ maxLen æ¯”è¾ƒï¼Œå–æœ€å¤§å€¼ï¼›</p>
</li>
<li><p>å¦‚æœå½“å‰å­—ç¬¦ ch åŒ…å«åœ¨ mapä¸­ï¼Œæ­¤æ—¶æœ‰2ç±»æƒ…å†µï¼š</p>
<ol>
<li>å½“å‰å­—ç¬¦åŒ…å«åœ¨å½“å‰æœ‰æ•ˆçš„å­æ®µä¸­ï¼Œå¦‚ï¼šabcaï¼Œå½“æˆ‘ä»¬éå†åˆ°ç¬¬äºŒä¸ªaï¼Œå½“å‰æœ‰æ•ˆæœ€é•¿å­æ®µæ˜¯ abcï¼Œæˆ‘ä»¬åˆéå†åˆ°aï¼Œé‚£ä¹ˆæ­¤æ—¶æ›´æ–° left ä¸º map.get(a)+1&#x3D;1ï¼Œå½“å‰æœ‰æ•ˆå­æ®µæ›´æ–°ä¸º bcaï¼›</li>
<li>å½“å‰å­—ç¬¦ä¸åŒ…å«åœ¨å½“å‰æœ€é•¿æœ‰æ•ˆå­æ®µä¸­ï¼Œå¦‚ï¼šabbaï¼Œæˆ‘ä»¬å…ˆæ·»åŠ a,bè¿›mapï¼Œæ­¤æ—¶left&#x3D;0ï¼Œæˆ‘ä»¬å†æ·»åŠ bï¼Œå‘ç°mapä¸­åŒ…å«bï¼Œè€Œä¸”båŒ…å«åœ¨æœ€é•¿æœ‰æ•ˆå­æ®µä¸­ï¼Œå°±æ˜¯1ï¼‰çš„æƒ…å†µï¼Œæˆ‘ä»¬æ›´æ–° left&#x3D;map.get(b)+1&#x3D;2ï¼Œæ­¤æ—¶å­æ®µæ›´æ–°ä¸º bï¼Œè€Œä¸”mapä¸­ä»ç„¶åŒ…å«aï¼Œmap.get(a)&#x3D;0ï¼›éšåï¼Œæˆ‘ä»¬éå†åˆ°aï¼Œå‘ç°aåŒ…å«åœ¨mapä¸­ï¼Œä¸”map.get(a)&#x3D;0ï¼Œå¦‚æœæˆ‘ä»¬åƒ1ï¼‰ä¸€æ ·å¤„ç†ï¼Œå°±ä¼šå‘ç° left&#x3D;map.get(a)+1&#x3D;1ï¼Œå®é™…ä¸Šï¼Œleftæ­¤æ—¶åº”è¯¥ä¸å˜ï¼Œleftå§‹ç»ˆä¸º2ï¼Œå­æ®µå˜æˆ baæ‰å¯¹ã€‚</li>
</ol>
</li>
</ol>
<p>ä¸ºäº†å¤„ç†ä»¥ä¸Š2ç±»æƒ…å†µï¼Œæˆ‘ä»¬æ¯æ¬¡æ›´æ–°leftï¼Œleft&#x3D;Math.max(left , map.get(ch)+1).<br>å¦å¤–ï¼Œæ›´æ–°leftåï¼Œä¸ç®¡åŸæ¥çš„ s.charAt(i) æ˜¯å¦åœ¨æœ€é•¿å­æ®µä¸­ï¼Œæˆ‘ä»¬éƒ½è¦å°† s.charAt(i) çš„ä½ç½®æ›´æ–°ä¸ºå½“å‰çš„iï¼Œ<br>å› æ­¤æ­¤æ—¶æ–°çš„ s.charAt(i) å·²ç»è¿›å…¥åˆ° å½“å‰æœ€é•¿çš„å­æ®µä¸­ï¼</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">lengthOfLongestSubstring</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        HashMap&lt;Character, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        <span class="type">int</span> <span class="variable">maxLen</span> <span class="operator">=</span> <span class="number">0</span>;<span class="comment">//ç”¨äºè®°å½•æœ€å¤§ä¸é‡å¤å­ä¸²çš„é•¿åº¦</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>;<span class="comment">//æ»‘åŠ¨çª—å£å·¦æŒ‡é’ˆ</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; s.length() ; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(map.containsKey(s.charAt(i))) &#123;</span><br><span class="line">                left = Math.max(left , map.get(s.charAt(i))+<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//ä¸ç®¡æ˜¯å¦æ›´æ–°leftï¼Œéƒ½è¦æ›´æ–° s.charAt(i) çš„ä½ç½®ï¼</span></span><br><span class="line">            map.put(s.charAt(i) , i);</span><br><span class="line">            maxLen = Math.max(maxLen , i-left+<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> maxLen;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-5ã€LC239-æ»‘åŠ¨çª—å£æœ€å¤§å€¼"><a href="#3-5ã€LC239-æ»‘åŠ¨çª—å£æœ€å¤§å€¼" class="headerlink" title="3.5ã€LC239. æ»‘åŠ¨çª—å£æœ€å¤§å€¼"></a>3.5ã€LC239. æ»‘åŠ¨çª—å£æœ€å¤§å€¼</h3><p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>nums</code>ï¼Œæœ‰ä¸€ä¸ªå¤§å°ä¸º <code>k</code> çš„æ»‘åŠ¨çª—å£ä»æ•°ç»„çš„æœ€å·¦ä¾§ç§»åŠ¨åˆ°æ•°ç»„çš„æœ€å³ä¾§ã€‚ä½ åªå¯ä»¥çœ‹åˆ°åœ¨æ»‘åŠ¨çª—å£å†…çš„ <code>k</code> ä¸ªæ•°å­—ã€‚æ»‘åŠ¨çª—å£æ¯æ¬¡åªå‘å³ç§»åŠ¨ä¸€ä½ã€‚</p>
<p>è¿”å› <em>æ»‘åŠ¨çª—å£ä¸­çš„æœ€å¤§å€¼</em> ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [1,3,-1,-3,5,3,6,7], k = 3</span><br><span class="line">è¾“å‡ºï¼š[3,3,5,5,6,7]</span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">æ»‘åŠ¨çª—å£çš„ä½ç½®                æœ€å¤§å€¼</span><br><span class="line">---------------               -----</span><br><span class="line">[1  3  -1] -3  5  3  6  7       3</span><br><span class="line"> 1 [3  -1  -3] 5  3  6  7       3</span><br><span class="line"> 1  3 [-1  -3  5] 3  6  7       5</span><br><span class="line"> 1  3  -1 [-3  5  3] 6  7       5</span><br><span class="line"> 1  3  -1  -3 [5  3  6] 7       6</span><br><span class="line"> 1  3  -1  -3  5 [3  6  7]      7</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [1], k = 1</span><br><span class="line">è¾“å‡ºï¼š[1]</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= nums.length &lt;= 105</code></li>
<li><code>-104 &lt;= nums[i] &lt;= 104</code></li>
<li><code>1 &lt;= k &lt;= nums.length</code></li>
</ul>
<p>Related Topics</p>
<p>é˜Ÿåˆ—</p>
<p>æ•°ç»„</p>
<p>æ»‘åŠ¨çª—å£</p>
<p>å•è°ƒé˜Ÿåˆ—</p>
<p>å †ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰</p>
<p>ğŸ‘ 2102</p>
<p>ğŸ‘ 0</p>
<h4 id="è§£æ³•ä¸€ï¼šå•è°ƒé˜Ÿåˆ—"><a href="#è§£æ³•ä¸€ï¼šå•è°ƒé˜Ÿåˆ—" class="headerlink" title="è§£æ³•ä¸€ï¼šå•è°ƒé˜Ÿåˆ—"></a>è§£æ³•ä¸€ï¼šå•è°ƒé˜Ÿåˆ—</h4><p>ç»´æŠ¤ä¸€ä¸ªå•è°ƒé˜Ÿåˆ—ï¼Œé˜Ÿåˆ—ä¸­ä¿å­˜å¯¹åº”çš„æ•°ç»„ä¸‹æ ‡ä½ç½®ï¼Œå¹¶ä¸”æ•°ç»„ä¸­çš„æ•°è¦ä»å¤§åˆ°å°æ’åºã€‚å¦‚æœå½“å‰éå†çš„æ•°æ¯”é˜Ÿå°¾çš„å€¼å¤§ï¼Œåˆ™éœ€è¦å¼¹å‡ºé˜Ÿå°¾å€¼ï¼Œç›´åˆ°é˜Ÿåˆ—é‡æ–°æ»¡è¶³ä»å¤§åˆ°å°çš„è¦æ±‚ã€‚åˆšå¼€å§‹éå†æ—¶ï¼ŒL å’Œ R éƒ½ä¸º 0ï¼Œæœ‰ä¸€ä¸ªå½¢æˆçª—å£çš„è¿‡ç¨‹ï¼Œæ­¤è¿‡ç¨‹æ²¡æœ‰æœ€å¤§å€¼ï¼ŒL ä¸åŠ¨ï¼ŒR å‘å³ç§»ã€‚å½“çª—å£å¤§å°å½¢æˆæ—¶ï¼ŒL å’Œ R ä¸€èµ·å‘å³ç§»ï¼Œæ¯æ¬¡ç§»åŠ¨æ—¶ï¼Œåˆ¤æ–­é˜Ÿé¦–çš„å€¼çš„æ•°ç»„ä¸‹æ ‡æ˜¯å¦åœ¨ <code>[L,R]</code> ä¸­ï¼Œå¦‚æœä¸åœ¨åˆ™éœ€è¦å¼¹å‡ºé˜Ÿé¦–çš„å€¼ï¼Œå½“å‰çª—å£çš„æœ€å¤§å€¼å³ä¸ºé˜Ÿé¦–çš„æ•°ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: nums = [1,3,-1,-3,5,3,6,7], å’Œ k = 3</span><br><span class="line">è¾“å‡º: [3,3,5,5,6,7]</span><br><span class="line"></span><br><span class="line">è§£é‡Šè¿‡ç¨‹ä¸­é˜Ÿåˆ—ä¸­éƒ½æ˜¯å…·ä½“çš„å€¼ï¼Œæ–¹ä¾¿ç†è§£ï¼Œå…·ä½“è§ä»£ç ã€‚</span><br><span class="line">åˆå§‹çŠ¶æ€ï¼šL=R=0,é˜Ÿåˆ—:&#123;&#125;</span><br><span class="line">i=0,nums[0]=1ã€‚é˜Ÿåˆ—ä¸ºç©º,ç›´æ¥åŠ å…¥ã€‚é˜Ÿåˆ—ï¼š&#123;1&#125;</span><br><span class="line">i=1,nums[1]=3ã€‚é˜Ÿå°¾å€¼ä¸º1ï¼Œ3&gt;1ï¼Œå¼¹å‡ºé˜Ÿå°¾å€¼ï¼ŒåŠ å…¥3ã€‚é˜Ÿåˆ—ï¼š&#123;3&#125;</span><br><span class="line">i=2,nums[2]=-1ã€‚é˜Ÿå°¾å€¼ä¸º3ï¼Œ-1&lt;3ï¼Œç›´æ¥åŠ å…¥ã€‚é˜Ÿåˆ—ï¼š&#123;3,-1&#125;ã€‚æ­¤æ—¶çª—å£å·²ç»å½¢æˆï¼ŒL=0,R=2ï¼Œresult=[3]</span><br><span class="line">i=3,nums[3]=-3ã€‚é˜Ÿå°¾å€¼ä¸º-1ï¼Œ-3&lt;-1ï¼Œç›´æ¥åŠ å…¥ã€‚é˜Ÿåˆ—ï¼š&#123;3,-1,-3&#125;ã€‚é˜Ÿé¦–3å¯¹åº”çš„ä¸‹æ ‡ä¸º1ï¼ŒL=1,R=3ï¼Œæœ‰æ•ˆã€‚result=[3,3]</span><br><span class="line">i=4,nums[4]=5ã€‚é˜Ÿå°¾å€¼ä¸º-3ï¼Œ5&gt;-3ï¼Œä¾æ¬¡å¼¹å‡ºååŠ å…¥ã€‚é˜Ÿåˆ—ï¼š&#123;5&#125;ã€‚æ­¤æ—¶L=2,R=4ï¼Œæœ‰æ•ˆã€‚result=[3,3,5]</span><br><span class="line">i=5,nums[5]=3ã€‚é˜Ÿå°¾å€¼ä¸º5ï¼Œ3&lt;5ï¼Œç›´æ¥åŠ å…¥ã€‚é˜Ÿåˆ—ï¼š&#123;5,3&#125;ã€‚æ­¤æ—¶L=3,R=5ï¼Œæœ‰æ•ˆã€‚result=[3,3,5,5]</span><br><span class="line">i=6,nums[6]=6ã€‚é˜Ÿå°¾å€¼ä¸º3ï¼Œ6&gt;3ï¼Œä¾æ¬¡å¼¹å‡ºååŠ å…¥ã€‚é˜Ÿåˆ—ï¼š&#123;6&#125;ã€‚æ­¤æ—¶L=4,R=6ï¼Œæœ‰æ•ˆã€‚result=[3,3,5,5,6]</span><br><span class="line">i=7,nums[7]=7ã€‚é˜Ÿå°¾å€¼ä¸º6ï¼Œ7&gt;6ï¼Œå¼¹å‡ºé˜Ÿå°¾å€¼ååŠ å…¥ã€‚é˜Ÿåˆ—ï¼š&#123;7&#125;ã€‚æ­¤æ—¶L=5,R=7ï¼Œæœ‰æ•ˆã€‚result=[3,3,5,5,6,7]</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[] maxSlidingWindow(<span class="type">int</span>[] nums, <span class="type">int</span> k) &#123;</span><br><span class="line">        <span class="comment">// åŒå‘é˜Ÿåˆ— ä¿å­˜å½“å‰çª—å£æœ€å¤§å€¼çš„æ•°ç»„ä½ç½® ä¿è¯é˜Ÿåˆ—ä¸­æ•°ç»„ä½ç½®çš„æ•°å€¼æŒ‰ä»å¤§åˆ°å°æ’åº</span></span><br><span class="line">        Deque&lt;Integer&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">// ç»“æœæ•°ç»„</span></span><br><span class="line">        <span class="type">int</span>[] result = <span class="keyword">new</span> <span class="title class_">int</span>[nums.length-k+<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">            <span class="comment">// ä¿è¯ä»å¤§åˆ°å° å¦‚æœå‰é¢æ•°å°åˆ™éœ€è¦ä¾æ¬¡å¼¹å‡ºï¼Œç›´è‡³æ»¡è¶³è¦æ±‚</span></span><br><span class="line">            <span class="keyword">while</span>(!queue.isEmpty() &amp;&amp; nums[queue.peekLast()] &lt;= nums[i])&#123;</span><br><span class="line">                queue.pollLast();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// æ·»åŠ å½“å‰å€¼å¯¹åº”çš„æ•°ç»„ä¸‹æ ‡</span></span><br><span class="line">            queue.addLast(i);</span><br><span class="line">            <span class="comment">// åˆ¤æ–­å½“å‰é˜Ÿåˆ—ä¸­é˜Ÿé¦–çš„å€¼æ˜¯å¦æœ‰æ•ˆ</span></span><br><span class="line">            <span class="keyword">if</span>(queue.peek() &lt;= i-k)&#123;</span><br><span class="line">                queue.poll();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// å½“çª—å£é•¿åº¦ä¸ºkæ—¶ ä¿å­˜å½“å‰çª—å£ä¸­æœ€å¤§å€¼</span></span><br><span class="line">            <span class="keyword">if</span>(i+<span class="number">1</span> &gt;= k)&#123;</span><br><span class="line">                result[i+<span class="number">1</span>-k] = nums[queue.peek()];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong></p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼šO*(*n)ï¼Œå…¶ä¸­ n æ˜¯æ•°ç»„ nums çš„é•¿åº¦ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼šO*(*k),æ»‘åŠ¨çª—å£åªä¿å­˜äº†æœ€å¤š k ä¸ªæ•°ã€‚</li>
</ul>
<h3 id="3-6ã€LC76-æœ€å°è¦†ç›–å­ä¸²"><a href="#3-6ã€LC76-æœ€å°è¦†ç›–å­ä¸²" class="headerlink" title="3.6ã€LC76. æœ€å°è¦†ç›–å­ä¸²"></a>3.6ã€LC76. æœ€å°è¦†ç›–å­ä¸²</h3><p>ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² <code>s</code> ã€ä¸€ä¸ªå­—ç¬¦ä¸² <code>t</code> ã€‚è¿”å› <code>s</code> ä¸­æ¶µç›– <code>t</code> æ‰€æœ‰å­—ç¬¦çš„æœ€å°å­ä¸²ã€‚å¦‚æœ <code>s</code> ä¸­ä¸å­˜åœ¨æ¶µç›– <code>t</code> æ‰€æœ‰å­—ç¬¦çš„å­ä¸²ï¼Œåˆ™è¿”å›ç©ºå­—ç¬¦ä¸² <code>&quot;&quot;</code> ã€‚</p>
<p><strong>æ³¨æ„ï¼š</strong></p>
<ul>
<li>å¯¹äº <code>t</code> ä¸­é‡å¤å­—ç¬¦ï¼Œæˆ‘ä»¬å¯»æ‰¾çš„å­å­—ç¬¦ä¸²ä¸­è¯¥å­—ç¬¦æ•°é‡å¿…é¡»ä¸å°‘äº <code>t</code> ä¸­è¯¥å­—ç¬¦æ•°é‡ã€‚</li>
<li>å¦‚æœ <code>s</code> ä¸­å­˜åœ¨è¿™æ ·çš„å­ä¸²ï¼Œæˆ‘ä»¬ä¿è¯å®ƒæ˜¯å”¯ä¸€çš„ç­”æ¡ˆã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;ADOBECODEBANC&quot;, t = &quot;ABC&quot;</span><br><span class="line">è¾“å‡ºï¼š&quot;BANC&quot;</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;a&quot;, t = &quot;a&quot;</span><br><span class="line">è¾“å‡ºï¼š&quot;a&quot;</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: s = &quot;a&quot;, t = &quot;aa&quot;</span><br><span class="line">è¾“å‡º: &quot;&quot;</span><br><span class="line">è§£é‡Š: t ä¸­ä¸¤ä¸ªå­—ç¬¦ &#x27;a&#x27; å‡åº”åŒ…å«åœ¨ s çš„å­ä¸²ä¸­ï¼Œ</span><br><span class="line">å› æ­¤æ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„å­å­—ç¬¦ä¸²ï¼Œè¿”å›ç©ºå­—ç¬¦ä¸²ã€‚</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= s.length, t.length &lt;= 105</code></li>
<li><code>s</code> å’Œ <code>t</code> ç”±è‹±æ–‡å­—æ¯ç»„æˆ</li>
</ul>
<p><strong>è¿›é˜¶ï¼š</strong>ä½ èƒ½è®¾è®¡ä¸€ä¸ªåœ¨ <code>o(n)</code> æ—¶é—´å†…è§£å†³æ­¤é—®é¢˜çš„ç®—æ³•å—ï¼Ÿ</p>
<p>Related Topics</p>
<p>å“ˆå¸Œè¡¨</p>
<p>å­—ç¬¦ä¸²</p>
<p>æ»‘åŠ¨çª—å£</p>
<h4 id="æ–¹æ³•ä¸€ï¼šæ»‘åŠ¨çª—"><a href="#æ–¹æ³•ä¸€ï¼šæ»‘åŠ¨çª—" class="headerlink" title="æ–¹æ³•ä¸€ï¼šæ»‘åŠ¨çª—"></a>æ–¹æ³•ä¸€ï¼šæ»‘åŠ¨çª—</h4><p>è¿™é“é¢˜è¦æ±‚æˆ‘ä»¬è¿”å›å­—ç¬¦ä¸²<code> s</code>ä¸­åŒ…å«å­—ç¬¦ä¸² <code>t</code> çš„å…¨éƒ¨å­—ç¬¦çš„æœ€å°çª—å£ï¼Œæˆ‘ä»¬åˆ©ç”¨æ»‘åŠ¨çª—å£çš„æ€æƒ³è§£å†³è¿™ä¸ªé—®é¢˜ã€‚å› æ­¤æˆ‘ä»¬éœ€è¦ä¸¤ä¸ªå“ˆå¸Œè¡¨ï¼Œ<code>hs</code>å“ˆå¸Œè¡¨ç»´æŠ¤çš„æ˜¯<code>s</code>å­—ç¬¦ä¸²ä¸­æ»‘åŠ¨çª—å£ä¸­å„ä¸ªå­—ç¬¦å‡ºç°å¤šå°‘æ¬¡ï¼Œ<code>ht</code>å“ˆå¸Œè¡¨ç»´æŠ¤çš„æ˜¯<code>t</code>å­—ç¬¦ä¸²å„ä¸ªå­—ç¬¦å‡ºç°å¤šå°‘æ¬¡ã€‚å¦‚æœ<code>hs</code>å“ˆå¸Œè¡¨ä¸­åŒ…å«<code>ht</code>å“ˆå¸Œè¡¨ä¸­çš„æ‰€æœ‰å­—ç¬¦ï¼Œå¹¶ä¸”å¯¹åº”çš„ä¸ªæ•°éƒ½ä¸å°äº<code>ht</code>å“ˆå¸Œè¡¨ä¸­å„ä¸ªå­—ç¬¦çš„ä¸ªæ•°ï¼Œé‚£ä¹ˆè¯´æ˜å½“å‰çš„çª—å£æ˜¯<strong>å¯è¡Œ</strong>çš„ï¼Œå¯è¡Œä¸­çš„é•¿åº¦æœ€çŸ­çš„æ»‘åŠ¨çª—å£å°±æ˜¯ç­”æ¡ˆã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1627392480-ABjwBs-image.png" alt="image.png"></p>
<p><strong>è¿‡ç¨‹å¦‚ä¸‹ï¼š</strong></p>
<p>1ã€éå†<code>t</code>å­—ç¬¦ä¸²ï¼Œç”¨<code>ht</code>å“ˆå¸Œè¡¨è®°å½•<code>t</code>å­—ç¬¦ä¸²å„ä¸ªå­—ç¬¦å‡ºç°çš„æ¬¡æ•°ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1626094551-vODlam-file_1626094550107.png" alt="&lt;img src=&quot;åŠ›æ‰£500é¢˜åˆ·é¢˜ç¬”è®°.assets/image-20210710122600263.png&quot; alt=&quot;image-20210710122600263&quot; style=&quot;zoom:67%;&quot; /&gt;"></p>
<p>2ã€å®šä¹‰ä¸¤ä¸ªæŒ‡é’ˆ<code>j</code>å’Œ<code>i</code>ï¼Œ<code>j</code>æŒ‡é’ˆç”¨äºæ”¶ç¼©çª—å£ï¼Œ<code>i</code>æŒ‡é’ˆç”¨äºå»¶ä¼¸çª—å£ï¼Œåˆ™åŒºé—´<code>[j,i]</code>è¡¨ç¤ºå½“å‰æ»‘åŠ¨çª—å£ã€‚é¦–å…ˆè®©<code>i</code>å’Œ<code>j</code>æŒ‡é’ˆéƒ½æŒ‡å‘å­—ç¬¦ä¸²<code>s</code>å¼€å¤´ï¼Œç„¶åæšä¸¾æ•´ä¸ªå­—ç¬¦ä¸²<code>s</code> ï¼Œæšä¸¾è¿‡ç¨‹ä¸­ï¼Œä¸æ–­å¢åŠ <code>i</code>ä½¿æ»‘åŠ¨çª—å£å¢å¤§ï¼Œç›¸å½“äºå‘å³æ‰©å±•æ»‘åŠ¨çª—å£ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1626094551-FNKtMc-file_1626094550122.png" alt="&lt;img src=&quot;åŠ›æ‰£500é¢˜åˆ·é¢˜ç¬”è®°.assets/image-20210710121027770.png&quot; alt=&quot;image-20210710121027770&quot; style=&quot;zoom:67%;&quot; /&gt;"></p>
<p>3ã€æ¯æ¬¡å‘å³æ‰©å±•æ»‘åŠ¨çª—å£ä¸€æ­¥ï¼Œå°†<code>s[i]</code>åŠ å…¥æ»‘åŠ¨çª—å£ä¸­ï¼Œè€Œæ–°åŠ å…¥äº†<code>s[i]</code>ï¼Œç›¸å½“äºæ»‘åŠ¨çª—å£ç»´æŠ¤çš„å­—ç¬¦æ•°åŠ ä¸€ï¼Œå³<code>hs[s[i]]++</code>ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1626094551-RbOYEW-file_1626094550125.png" alt="&lt;img src=&quot;åŠ›æ‰£500é¢˜åˆ·é¢˜ç¬”è®°.assets/image-20210710122648338.png&quot; alt=&quot;image-20210710122648338&quot; style=&quot;zoom: 67%;&quot; /&gt;"></p>
<p>4ã€å¯¹äºæ–°åŠ å…¥çš„å­—ç¬¦<code>s[i]</code>,å¦‚æœ<code>hs[s[i]] &lt;= ht[s[i]]</code>ï¼Œè¯´æ˜å½“å‰æ–°åŠ å…¥çš„å­—ç¬¦<code>s[i]</code>æ˜¯å¿…éœ€çš„ï¼Œä¸”è¿˜æœªåˆ°è¾¾å­—ç¬¦ä¸²<code>t</code>æ‰€è¦æ±‚çš„æ•°é‡ã€‚æˆ‘ä»¬è¿˜éœ€è¦äº‹å…ˆå®šä¹‰ä¸€ä¸ª<code>cnt</code>å˜é‡ï¼Œ <code>cnt</code>ç»´æŠ¤çš„æ˜¯<code>s</code>å­—ç¬¦ä¸²<code>[j,i]</code>åŒºé—´ä¸­æ»¡è¶³<code>t</code>å­—ç¬¦ä¸²çš„å…ƒç´ çš„ä¸ªæ•°ï¼Œè®°å½•ç›¸å¯¹åº”å­—ç¬¦çš„æ€»æ•°ã€‚æ–°åŠ å…¥çš„å­—ç¬¦<code>s[i]</code>å¿…éœ€ï¼Œåˆ™<code>cnt++</code>ã€‚</p>
<p>5ã€æˆ‘ä»¬å‘å³æ‰©å±•æ»‘åŠ¨çª—å£çš„åŒæ—¶ä¹Ÿä¸èƒ½å¿˜è®°æ”¶ç¼©æ»‘åŠ¨çª—å£ã€‚å› æ­¤å½“<code>hs[s[j]] &gt; ht[s[j]</code>æ—¶ï¼Œè¯´æ˜<code>hs</code>å“ˆå¸Œè¡¨ä¸­<code>s[j]</code>çš„æ•°é‡å¤šäº<code>ht</code>å“ˆå¸Œè¡¨ä¸­<code>s[j]</code>çš„æ•°é‡ï¼Œæ­¤æ—¶æˆ‘ä»¬å°±éœ€è¦å‘å³æ”¶ç¼©æ»‘åŠ¨çª—å£ï¼Œ<code>j++</code>å¹¶ä½¿<code>hs[s[j]]--</code>ï¼Œå³<code>hs[s[j ++ ]] --</code>ã€‚</p>
<p>6ã€å½“<code>cnt == t.size</code>æ—¶ï¼Œè¯´æ˜æ­¤æ—¶æ»‘åŠ¨çª—å£åŒ…å«ç¬¦ä¸² <code>t</code> çš„å…¨éƒ¨å­—ç¬¦ã€‚æˆ‘ä»¬é‡å¤ä¸Šè¿°è¿‡ç¨‹æ‰¾åˆ°æœ€å°çª—å£å³ä¸ºç­”æ¡ˆã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1627392545-pNYyEm-image.png" alt="image.png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">minWindow</span><span class="params">(String s, String t)</span> &#123;</span><br><span class="line">        HashMap&lt;Character, Integer&gt; hs = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;(); <span class="comment">// ç»´æŠ¤sä¸²ä¸­æ»‘åŠ¨çª—å£ä¸­å„ä¸ªå­—ç¬¦å‡ºç°æ¬¡æ•°</span></span><br><span class="line">        Map&lt;Character, Integer&gt; ht = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;(); <span class="comment">// ç»´æŠ¤tä¸²ä¸­å„ä¸ªå­—ç¬¦å‡ºç°æ¬¡æ•°</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// å­˜å…¥ t</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; t.length(); i++) &#123;</span><br><span class="line">            <span class="type">char</span> <span class="variable">c</span> <span class="operator">=</span> t.charAt(i);</span><br><span class="line">            ht.put(c, ht.getOrDefault(c, <span class="number">0</span>) + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ»‘åŠ¨çª—å£éå† s</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> Integer.MAX_VALUE, cnt = <span class="number">0</span>; <span class="comment">// cntç»´æŠ¤sä¸²[left,right]ä¸­æ»¡è¶³tä¸²çš„å…ƒç´ çš„ä¸ªæ•°ï¼Œè®°å½•ç›¸å¯¹åº”å­—ç¬¦çš„æ€»æ•°</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">res</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>, right = <span class="number">0</span>; right &lt; s.length(); right++) &#123;</span><br><span class="line">            <span class="type">char</span> <span class="variable">r</span> <span class="operator">=</span> s.charAt(right);</span><br><span class="line">            hs.put(r, hs.getOrDefault(r, <span class="number">0</span>) + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (ht.containsKey(r)) &#123;</span><br><span class="line">                <span class="comment">// hsè¡¨ä¸­çš„å­—ç¬¦ä¸ªæ•°&lt;=htè¡¨ä¸­çš„å­—ç¬¦ä¸ªæ•°,è¯´æ˜è¯¥å­—ç¬¦æ˜¯å¿…é¡»çš„ï¼Œå¹¶ä¸”è¿˜æœªåˆ°è¾¾å­—ç¬¦ä¸²tæ‰€è¦æ±‚çš„æ•°é‡</span></span><br><span class="line">                <span class="keyword">if</span> (ht.get(r) &gt;= hs.get(r)) &#123;</span><br><span class="line">                    cnt++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// æ”¶ç¼©æ»‘åŠ¨çª—å£</span></span><br><span class="line">            <span class="comment">// å¦‚æœå·¦è¾¹ç•Œçš„å€¼ä¸åœ¨htè¡¨ä¸­ æˆ–è€… å®ƒåœ¨hsè¡¨ä¸­çš„å‡ºç°æ¬¡æ•°å¤šäºhtè¡¨ä¸­çš„å‡ºç°æ¬¡æ•°</span></span><br><span class="line">            <span class="type">char</span> <span class="variable">l</span> <span class="operator">=</span> s.charAt(left);</span><br><span class="line">            <span class="keyword">while</span> (left &lt; right &amp;&amp; (!ht.containsKey(l) || hs.get(l) &gt; ht.get(l))) &#123;</span><br><span class="line">                hs.put(l, hs.get(l) - <span class="number">1</span>);</span><br><span class="line">                left++;</span><br><span class="line">                l = s.charAt(left);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// æ­¤æ—¶æ»‘åŠ¨çª—å£å°±æ˜¯ t çš„å…¨éƒ¨å­—ç¬¦</span></span><br><span class="line">            <span class="keyword">if</span> (cnt == t.length() &amp;&amp; right- left + <span class="number">1</span> &lt; len) &#123;</span><br><span class="line">                len = right - left + <span class="number">1</span>;</span><br><span class="line">                res = s.substring(left, right + <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦O(N)</li>
<li>ç©ºé—´å¤æ‚åº¦O(N)</li>
</ul>
<h2 id="å››ã€æ¨¡æ‹Ÿ"><a href="#å››ã€æ¨¡æ‹Ÿ" class="headerlink" title="å››ã€æ¨¡æ‹Ÿ"></a>å››ã€æ¨¡æ‹Ÿ</h2><p>å¾ªç¯ä¸å˜é‡ï¼šåœ¨å¾ªç¯è¿‡ç¨‹ä¸­ä¿æŒä¸å˜çš„æ€§è´¨ã€‚</p>
<h3 id="4-1ã€LC54-èºæ—‹çŸ©é˜µ"><a href="#4-1ã€LC54-èºæ—‹çŸ©é˜µ" class="headerlink" title="4.1ã€LC54. èºæ—‹çŸ©é˜µ"></a>4.1ã€LC54. èºæ—‹çŸ©é˜µ</h3><p>ä»å¤–éƒ¨å‘å†…éƒ¨é€å±‚éå†æ‰“å°çŸ©é˜µï¼Œæœ€å¤–é¢ä¸€åœˆæ‰“å°å®Œï¼Œé‡Œé¢ä»ç„¶æ˜¯ä¸€ä¸ªçŸ©é˜µ</p>
<p>ç»Ÿè®¡çŸ©é˜µçš„å±‚æ•°ï¼Œæ¯ä¸€å±‚æœ€å¤šä¼šå æ®ä¸¤è¡Œæˆ–è€…ä¸¤åˆ—ï¼Œæœ€å°‘ä¼šå æ®ä¸€è¡Œæˆ–è€…ä¸€åˆ—å…ƒç´ ï¼Œåªæœ‰ä¸€å±‚æˆ–è€…ä¸€åˆ—ï¼Œä¹Ÿç®—ä¸€å±‚ï¼Œåˆ†å±‚å¦‚ä¸‹å›¾ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.leetcode-cn.com/6936cb00971072cf40e96462e782aa47563fa4b24831d72749699c8fd9af7255-%E8%9E%BA%E6%97%8B%E7%9F%A9%E9%98%B5.JPG" alt="èºæ—‹çŸ©é˜µ.JPG"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202210261749987.jpeg" alt="èºæ—‹çŸ©é˜µ1.JPG"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> matrix.length;</span><br><span class="line"><span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> matrix[<span class="number">0</span>].length;</span><br><span class="line"><span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> (Math.min(m, n)+<span class="number">1</span>)/<span class="number">2</span>;</span><br></pre></td></tr></table></figure>

<p><strong>å·¦é—­å³é—­</strong></p>
<p>å¼€å§‹æ‰“å°ç¬¬ <code>i</code> å±‚çš„çŸ©é˜µå…ƒç´ </p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.leetcode-cn.com/a2e0022203893856ec9baa3fa3db6b0b1e6e49b4f3955e086f437852ec88a31d-%E8%9E%BA%E6%97%8B%E7%9F%A9%E9%98%B52.JPG" alt="èºæ—‹çŸ©é˜µ2.JPG"></p>
<p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œå†æ‰“å°ç¬¬iå±‚çš„çŸ©é˜µæ—¶ï¼Œè¦ç»å†4ä¸ªå¾ªç¯ï¼š</p>
<p>ç¬¬ 1 ä¸ªï¼šä»å·¦å‘å³</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for (int j = i; j &lt; n-i; j++) &#123;</span><br><span class="line">    list.add(matrix[i][j]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç¬¬ 2 ä¸ªï¼šä»ä¸Šå¾€ä¸‹</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for (int j = i+1; j &lt; m-i; j++) &#123;</span><br><span class="line">    list.add(matrix[j][(n-1)-i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç¬¬ 3 ä¸ªï¼šä»å³å¾€å·¦ï¼Œå¦‚æœè¿™ä¸€å±‚åªæœ‰1è¡Œï¼Œé‚£ä¹ˆç¬¬ä¸€ä¸ªå¾ªç¯å·²ç»å°†è¯¥è¡Œæ‰“å°äº†ï¼Œè¿™é‡Œå°±ä¸éœ€è¦æ‰“å°äº†ï¼Œå³ <code>ï¼ˆm-1-i ï¼‰!= i</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for (int j = (n-1)-(i+1); j &gt;= i &amp;&amp; (m-1-i != i); j--) &#123;</span><br><span class="line">    list.add(matrix[(m-1)-i][j]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç¬¬4ä¸ªï¼šä»ä¸‹å¾€ä¸Šï¼Œå¦‚æœè¿™ä¸€å±‚åªæœ‰1åˆ—ï¼Œé‚£ä¹ˆç¬¬2ä¸ªå¾ªç¯å·²ç»å°†è¯¥åˆ—æ‰“å°äº†ï¼Œè¿™é‡Œä¸éœ€è¦æ‰“å°ï¼Œå³<code>(n-1-i) != i</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for (int j = (m-1)-(i+1); j &gt;= i+1 &amp;&amp; (n-1-i) != i; j--) &#123;</span><br><span class="line">    list.add(matrix[j][i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title function_">spiralOrder</span><span class="params">(<span class="type">int</span>[][] matrix)</span> &#123;</span><br><span class="line">    <span class="comment">//ä¿æŒå·¦é—­å³å¼€</span></span><br><span class="line">    List&lt;Integer&gt; res = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;<span class="comment">//å¾ªç¯çš„æ¬¡æ•°</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> matrix.length;</span><br><span class="line">    <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> matrix[<span class="number">0</span>].length;</span><br><span class="line">    <span class="comment">//ç»Ÿè®¡çŸ©é˜µä»å¤–å‘å†…çš„å±‚æ•°ï¼Œå¦‚æœçŸ©é˜µéç©ºï¼Œé‚£ä¹ˆå®ƒçš„å±‚æ•°è‡³å°‘ä¸º1å±‚</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> (Math.min(m, n)+<span class="number">1</span>)/<span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (i &lt; count) &#123;</span><br><span class="line">        <span class="comment">//ä¸Šä¾§ å·¦.å³</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i; j &lt; n - i; j++) &#123;</span><br><span class="line">            res.add(matrix[i][j]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//å³ä¾§ ä¸Š.ä¸‹</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i + <span class="number">1</span>; j &lt; m - i; j++) &#123;</span><br><span class="line">            res.add(matrix[j][(n - <span class="number">1</span>) - i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//ä¸‹å†Œ å³.å·¦</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> (n - <span class="number">1</span>) - (i + <span class="number">1</span>); j &gt;= i &amp;&amp; (m - <span class="number">1</span> - i != i); j--) &#123;</span><br><span class="line">            res.add(matrix[(m - <span class="number">1</span>) - i][j]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//å·¦ä¾§ ä¸‹.ä¸Š</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> (m - <span class="number">1</span>) - (i + <span class="number">1</span>); j &gt;= i + <span class="number">1</span> &amp;&amp; (n - <span class="number">1</span> - i) != i; j--) &#123;</span><br><span class="line">            res.add(matrix[j][i]);</span><br><span class="line">        &#125;</span><br><span class="line">        i++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-2ã€LC59-èºæ—‹çŸ©é˜µII"><a href="#4-2ã€LC59-èºæ—‹çŸ©é˜µII" class="headerlink" title="4.2ã€LC59. èºæ—‹çŸ©é˜µII"></a>4.2ã€LC59. èºæ—‹çŸ©é˜µII</h3><ul>
<li>å¡«å……ä¸Šè¡Œä»å·¦åˆ°å³</li>
<li>å¡«å……å³åˆ—ä»ä¸Šåˆ°ä¸‹</li>
<li>å¡«å……ä¸‹è¡Œä»å³åˆ°å·¦</li>
<li>å¡«å……å·¦åˆ—ä»ä¸‹åˆ°ä¸Š</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://code-thinking-1253855093.file.myqcloud.com/pics/20220922102236.png" alt="img"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span>[][] generateMatrix(<span class="type">int</span> n) &#123;</span><br><span class="line">    <span class="type">int</span>[][] res = <span class="keyword">new</span> <span class="title class_">int</span>[n][n];</span><br><span class="line">    <span class="type">int</span> <span class="variable">loop</span> <span class="operator">=</span> <span class="number">0</span>;<span class="comment">//æ§åˆ¶å¾ªç¯æ¬¡æ•°</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">start</span> <span class="operator">=</span> <span class="number">0</span>;<span class="comment">//æ¯ä¸€æ¬¡å¼€å§‹çš„ç‚¹(start,start)</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">1</span>;<span class="comment">//å¡«å……çš„æ•°å­—</span></span><br><span class="line">    <span class="type">int</span> i,j;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (loop++ &lt; n / <span class="number">2</span>) &#123;</span><br><span class="line">        <span class="comment">// æ¨¡æ‹Ÿä¸Šä¾§ä»å·¦åˆ°å³</span></span><br><span class="line">        <span class="keyword">for</span> (j = start; j &lt; n - loop; j++) &#123;</span><br><span class="line">            res[start][j] = count++;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ¨¡æ‹Ÿå³ä¾§ä»ä¸Šåˆ°ä¸‹</span></span><br><span class="line">        <span class="keyword">for</span> (i = start; i &lt; n - loop; i++) &#123;</span><br><span class="line">            res[i][j] = count++;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ¨¡æ‹Ÿä¸‹ä¾§ä»å³åˆ°å·¦</span></span><br><span class="line">        <span class="keyword">for</span> (; j &gt;= loop; j--) &#123;</span><br><span class="line">            res[i][j] = count++;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ¨¡æ‹Ÿå·¦ä¾§ä»ä¸‹åˆ°ä¸Š</span></span><br><span class="line">        <span class="keyword">for</span> (; i &gt;= loop; i--) &#123;</span><br><span class="line">            res[i][j] = count++;</span><br><span class="line">        &#125;</span><br><span class="line">        start++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (n % <span class="number">2</span> == <span class="number">1</span>) &#123; <span class="comment">//ä¸­é—´ä½ç½®</span></span><br><span class="line">        res[start][start] = count;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-3ã€å‰‘æŒ‡Offer29-é¡ºæ—¶é’ˆæ‰“å°çŸ©é˜µ"><a href="#4-3ã€å‰‘æŒ‡Offer29-é¡ºæ—¶é’ˆæ‰“å°çŸ©é˜µ" class="headerlink" title="4.3ã€å‰‘æŒ‡Offer29. é¡ºæ—¶é’ˆæ‰“å°çŸ©é˜µ"></a>4.3ã€å‰‘æŒ‡Offer29. é¡ºæ—¶é’ˆæ‰“å°çŸ©é˜µ</h3><p>è¾“å…¥ä¸€ä¸ªçŸ©é˜µï¼ŒæŒ‰ç…§ä»å¤–å‘é‡Œä»¥é¡ºæ—¶é’ˆçš„é¡ºåºä¾æ¬¡æ‰“å°å‡ºæ¯ä¸€ä¸ªæ•°å­—ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šmatrix = [[1,2,3],[4,5,6],[7,8,9]]</span><br><span class="line">è¾“å‡ºï¼š[1,2,3,6,9,8,7,4,5]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šmatrix = [[1,2,3,4],[5,6,7,8],[9,10,11,12]]</span><br><span class="line">è¾“å‡ºï¼š[1,2,3,4,8,12,11,10,9,5,6,7]</span><br></pre></td></tr></table></figure>



<p><strong>é™åˆ¶ï¼š</strong></p>
<ul>
<li><code>0 &lt;= matrix.length &lt;= 100</code></li>
<li><code>0 &lt;= matrix[i].length &lt;= 100</code></li>
</ul>
<p>æ³¨æ„ï¼šæœ¬é¢˜ä¸ä¸»ç«™ 54 é¢˜ç›¸åŒï¼š<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/spiral-matrix/">https://leetcode-cn.com/problems/spiral-matrix/</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span>[] spiralOrder(<span class="type">int</span>[][] matrix) &#123;</span><br><span class="line">    <span class="keyword">if</span> (matrix.length == <span class="number">0</span> || matrix[<span class="number">0</span>].length == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">int</span>[]&#123;&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    List&lt;Integer&gt; res = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;<span class="comment">//æ§åˆ¶å¾ªç¯åœˆæ•°</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> matrix.length;</span><br><span class="line">    <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> matrix[<span class="number">0</span>].length;</span><br><span class="line">    <span class="type">int</span> <span class="variable">loop</span> <span class="operator">=</span> (Math.min(m, n) + <span class="number">1</span>) / <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (i &lt; loop) &#123;</span><br><span class="line">        <span class="comment">//ä¸Š ä»å·¦åˆ°å³</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i; j &lt; n - i; j++) &#123;</span><br><span class="line">            res.add(matrix[i][j]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//å³ ä»ä¸Šåˆ°ä¸‹</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i + <span class="number">1</span>; j &lt; m - i; j++) &#123;</span><br><span class="line">            res.add(matrix[j][(n - <span class="number">1</span>) - i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//ä¸‹ ä»å³åˆ°å·¦</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> n - <span class="number">1</span> - i - <span class="number">1</span>; j &gt;= i &amp;&amp; m - <span class="number">1</span> - i != i; j--) &#123;</span><br><span class="line">            res.add(matrix[(m - <span class="number">1</span> - i)][j]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//å·¦ ä»ä¸‹åˆ°ä¸Š</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> m - <span class="number">1</span> - <span class="number">1</span> - i; j &gt;= i + <span class="number">1</span> &amp;&amp; n - <span class="number">1</span> - i != i; j--) &#123;</span><br><span class="line">            res.add(matrix[j][i]);</span><br><span class="line">        &#125;</span><br><span class="line">        i++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res.stream().mapToInt(Integer::valueOf).toArray();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>æ ¹æ®é¢˜ç›®ç¤ºä¾‹ matrix &#x3D; [[1,2,3],[4,5,6],[7,8,9]] çš„å¯¹åº”è¾“å‡º [1,2,3,6,9,8,7,4,5] å¯ä»¥å‘ç°ï¼Œé¡ºæ—¶é’ˆæ‰“å°çŸ©é˜µçš„é¡ºåºæ˜¯ â€œ<strong>ä»å·¦å‘å³ã€ä»ä¸Šå‘ä¸‹ã€ä»å³å‘å·¦ã€ä»ä¸‹å‘ä¸Š</strong>â€ å¾ªç¯ã€‚</p>
<p>å› æ­¤ï¼Œè€ƒè™‘è®¾å®šçŸ©é˜µçš„ â€œå·¦ã€ä¸Šã€å³ã€ä¸‹â€ å››ä¸ªè¾¹ç•Œï¼Œæ¨¡æ‹Ÿä»¥ä¸ŠçŸ©é˜µéå†é¡ºåºã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/7605d807782923e4ad3c7995dc2485f538f202ac326bb330fe997f449123a548-Picture1.png" alt="Picture1.png"></p>
<p><strong>ç®—æ³•æµç¨‹</strong>ï¼š</p>
<ol>
<li>ç©ºå€¼å¤„ç†ï¼š å½“ matrix ä¸ºç©ºæ—¶ï¼Œç›´æ¥è¿”å›ç©ºåˆ—è¡¨ [] å³å¯ã€‚</li>
<li>åˆå§‹åŒ–ï¼š çŸ©é˜µ å·¦ã€å³ã€ä¸Šã€ä¸‹ å››ä¸ªè¾¹ç•Œ l , r , t , b ï¼Œç”¨äºæ‰“å°çš„ç»“æœåˆ—è¡¨ res ã€‚</li>
<li>å¾ªç¯æ‰“å°ï¼š â€œä»å·¦å‘å³ã€ä»ä¸Šå‘ä¸‹ã€ä»å³å‘å·¦ã€ä»ä¸‹å‘ä¸Šâ€ å››ä¸ªæ–¹å‘å¾ªç¯æ‰“å°ï¼›<ol>
<li>æ ¹æ®è¾¹ç•Œæ‰“å°ï¼Œå³å°†å…ƒç´ æŒ‰é¡ºåºæ·»åŠ è‡³åˆ—è¡¨ res å°¾éƒ¨ï¼›</li>
<li>è¾¹ç•Œå‘å†…æ”¶ç¼© 1 ï¼ˆä»£è¡¨å·²è¢«æ‰“å°ï¼‰ï¼›</li>
<li>åˆ¤æ–­è¾¹ç•Œæ˜¯å¦ç›¸é‡ï¼ˆæ˜¯å¦æ‰“å°å®Œæ¯•ï¼‰ï¼Œè‹¥æ‰“å°å®Œæ¯•åˆ™è·³å‡ºã€‚</li>
</ol>
</li>
<li>è¿”å›å€¼ï¼š è¿”å› res å³å¯ã€‚</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/image-20221221141406885.png" alt="image-20221221141406885"></p>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(MN) ï¼š M, N åˆ†åˆ«ä¸ºçŸ©é˜µè¡Œæ•°å’Œåˆ—æ•°ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(1) ï¼š å››ä¸ªè¾¹ç•Œ l , r , t , b ä½¿ç”¨å¸¸æ•°å¤§å°çš„é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[] spiralOrder(<span class="type">int</span>[][] matrix) &#123;</span><br><span class="line">        <span class="keyword">if</span>(matrix.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">0</span>];</span><br><span class="line">        <span class="type">int</span> <span class="variable">l</span> <span class="operator">=</span> <span class="number">0</span>, r = matrix[<span class="number">0</span>].length - <span class="number">1</span>, t = <span class="number">0</span>, b = matrix.length - <span class="number">1</span>, x = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span>[] res = <span class="keyword">new</span> <span class="title class_">int</span>[(r + <span class="number">1</span>) * (b + <span class="number">1</span>)];</span><br><span class="line">        <span class="keyword">while</span>(<span class="literal">true</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> l; i &lt;= r; i++) res[x++] = matrix[t][i]; <span class="comment">// left to right</span></span><br><span class="line">            <span class="keyword">if</span>(++t &gt; b) <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> t; i &lt;= b; i++) res[x++] = matrix[i][r]; <span class="comment">// top to bottom</span></span><br><span class="line">            <span class="keyword">if</span>(l &gt; --r) <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> r; i &gt;= l; i--) res[x++] = matrix[b][i]; <span class="comment">// right to left</span></span><br><span class="line">            <span class="keyword">if</span>(t &gt; --b) <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> b; i &gt;= t; i--) res[x++] = matrix[i][l]; <span class="comment">// bottom to top</span></span><br><span class="line">            <span class="keyword">if</span>(++l &gt; r) <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-4ã€å‰‘æŒ‡-Offer-31-æ ˆçš„å‹å…¥ã€å¼¹å‡ºåºåˆ—"><a href="#4-4ã€å‰‘æŒ‡-Offer-31-æ ˆçš„å‹å…¥ã€å¼¹å‡ºåºåˆ—" class="headerlink" title="4.4ã€å‰‘æŒ‡ Offer 31. æ ˆçš„å‹å…¥ã€å¼¹å‡ºåºåˆ—"></a>4.4ã€å‰‘æŒ‡ Offer 31. æ ˆçš„å‹å…¥ã€å¼¹å‡ºåºåˆ—</h3><p>è¾“å…¥ä¸¤ä¸ªæ•´æ•°åºåˆ—ï¼Œç¬¬ä¸€ä¸ªåºåˆ—è¡¨ç¤ºæ ˆçš„å‹å…¥é¡ºåºï¼Œè¯·åˆ¤æ–­ç¬¬äºŒä¸ªåºåˆ—æ˜¯å¦ä¸ºè¯¥æ ˆçš„å¼¹å‡ºé¡ºåºã€‚å‡è®¾å‹å…¥æ ˆçš„æ‰€æœ‰æ•°å­—å‡ä¸ç›¸ç­‰ã€‚ä¾‹å¦‚ï¼Œåºåˆ— {1,2,3,4,5} æ˜¯æŸæ ˆçš„å‹æ ˆåºåˆ—ï¼Œåºåˆ— {4,5,3,2,1} æ˜¯è¯¥å‹æ ˆåºåˆ—å¯¹åº”çš„ä¸€ä¸ªå¼¹å‡ºåºåˆ—ï¼Œä½† {4,3,5,1,2} å°±ä¸å¯èƒ½æ˜¯è¯¥å‹æ ˆåºåˆ—çš„å¼¹å‡ºåºåˆ—ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼špushed = [1,2,3,4,5], popped = [4,5,3,2,1]</span><br><span class="line">è¾“å‡ºï¼štrue</span><br><span class="line">è§£é‡Šï¼šæˆ‘ä»¬å¯ä»¥æŒ‰ä»¥ä¸‹é¡ºåºæ‰§è¡Œï¼š</span><br><span class="line">push(1), push(2), push(3), push(4), pop() -&gt; 4,</span><br><span class="line">push(5), pop() -&gt; 5, pop() -&gt; 3, pop() -&gt; 2, pop() -&gt; 1</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼špushed = [1,2,3,4,5], popped = [4,3,5,1,2]</span><br><span class="line">è¾“å‡ºï¼šfalse</span><br><span class="line">è§£é‡Šï¼š1 ä¸èƒ½åœ¨ 2 ä¹‹å‰å¼¹å‡ºã€‚</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ol>
<li><code>0 &lt;= pushed.length == popped.length &lt;= 1000</code></li>
<li><code>0 &lt;= pushed[i], popped[i] &lt; 1000</code></li>
<li><code>pushed</code> æ˜¯ <code>popped</code> çš„æ’åˆ—ã€‚</li>
</ol>
<p>æ³¨æ„ï¼šæœ¬é¢˜ä¸ä¸»ç«™ 946 é¢˜ç›¸åŒï¼š<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/validate-stack-sequences/">https://leetcode-cn.com/problems/validate-stack-sequences/</a></p>
<p>Related Topics</p>
<p>æ ˆ</p>
<p>æ•°ç»„</p>
<p>æ¨¡æ‹Ÿ</p>
<p>ğŸ‘ 395</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œç»™å®šä¸€ä¸ªå‹å…¥åºåˆ— pushed å’Œå¼¹å‡ºåºåˆ— popped ï¼Œåˆ™å‹å…¥ &#x2F; å¼¹å‡ºæ“ä½œçš„é¡ºåºï¼ˆå³æ’åˆ—ï¼‰æ˜¯ å”¯ä¸€ç¡®å®š çš„ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1188474dc6a377fc258004bca84e5a130b663eeb24bf22c4fa4eb998a0249f97-Picture1.png" alt="Picture1.png"></p>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæ ˆçš„æ•°æ®æ“ä½œå…·æœ‰ <strong>å…ˆå…¥åå‡º</strong> çš„ç‰¹æ€§ï¼Œå› æ­¤æŸäº›å¼¹å‡ºåºåˆ—æ˜¯æ— æ³•å®ç°çš„ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/3f43b224553bf3a37f9758dbb41655e547795e293524a148380c6f335af315e4-Picture2.png" alt="Picture2.png"></p>
<p>è€ƒè™‘å€Ÿç”¨ä¸€ä¸ªè¾…åŠ©æ ˆ stack ï¼Œ<strong>æ¨¡æ‹Ÿ</strong> å‹å…¥ &#x2F; å¼¹å‡ºæ“ä½œçš„æ’åˆ—ã€‚æ ¹æ®æ˜¯å¦æ¨¡æ‹ŸæˆåŠŸï¼Œå³å¯å¾—åˆ°ç»“æœã€‚</p>
<ul>
<li>å…¥æ ˆæ“ä½œï¼š æŒ‰ç…§å‹æ ˆåºåˆ—çš„é¡ºåºæ‰§è¡Œã€‚</li>
<li>å‡ºæ ˆæ“ä½œï¼š æ¯æ¬¡å…¥æ ˆåï¼Œå¾ªç¯åˆ¤æ–­ â€œæ ˆé¡¶å…ƒç´  &#x3D;&#x3D; å¼¹å‡ºåºåˆ—çš„å½“å‰å…ƒç´ â€ æ˜¯å¦æˆç«‹ï¼Œå°†ç¬¦åˆå¼¹å‡ºåºåˆ—é¡ºåºçš„æ ˆé¡¶å…ƒç´ å…¨éƒ¨å¼¹å‡ºã€‚</li>
</ul>
<blockquote>
<p>ç”±äºé¢˜ç›®è§„å®š æ ˆçš„æ‰€æœ‰æ•°å­—å‡ä¸ç›¸ç­‰ ï¼Œå› æ­¤åœ¨å¾ªç¯å…¥æ ˆä¸­ï¼Œæ¯ä¸ªå…ƒç´ å‡ºæ ˆçš„ä½ç½®çš„å¯èƒ½æ€§æ˜¯å”¯ä¸€çš„ï¼ˆè‹¥æœ‰é‡å¤æ•°å­—ï¼Œåˆ™å…·æœ‰å¤šä¸ªå¯å‡ºæ ˆçš„ä½ç½®ï¼‰ã€‚å› è€Œï¼Œåœ¨é‡åˆ° â€œæ ˆé¡¶å…ƒç´  &#x3D;&#x3D; å¼¹å‡ºåºåˆ—çš„å½“å‰å…ƒç´ â€ å°±åº”ç«‹å³æ‰§è¡Œå‡ºæ ˆã€‚</p>
</blockquote>
<p><strong>ç®—æ³•æµç¨‹</strong>ï¼š</p>
<ol>
<li>åˆå§‹åŒ–ï¼š è¾…åŠ©æ ˆ stack ï¼Œå¼¹å‡ºåºåˆ—çš„ç´¢å¼• i ï¼›</li>
<li>éå†å‹æ ˆåºåˆ—ï¼š å„å…ƒç´ è®°ä¸º num ï¼›<ol>
<li>å…ƒç´  num å…¥æ ˆï¼›</li>
<li>å¾ªç¯å‡ºæ ˆï¼šè‹¥ stack çš„æ ˆé¡¶å…ƒç´  &#x3D;&#x3D; å¼¹å‡ºåºåˆ—å…ƒç´  popped[i] ï¼Œåˆ™æ‰§è¡Œå‡ºæ ˆä¸ i++ ï¼›</li>
</ol>
</li>
<li>è¿”å›å€¼ï¼š è‹¥ stack ä¸ºç©ºï¼Œåˆ™æ­¤å¼¹å‡ºåºåˆ—åˆæ³•ã€‚</li>
</ol>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(N) ï¼š å…¶ä¸­ N ä¸ºåˆ—è¡¨ pushed çš„é•¿åº¦ï¼›æ¯ä¸ªå…ƒç´ æœ€å¤šå…¥æ ˆä¸å‡ºæ ˆä¸€æ¬¡ï¼Œå³æœ€å¤šå…± 2N æ¬¡å‡ºå…¥æ ˆæ“ä½œã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(N) ï¼š è¾…åŠ©æ ˆ stack æœ€å¤šåŒæ—¶å­˜å‚¨ N ä¸ªå…ƒç´ ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">validateStackSequences</span><span class="params">(<span class="type">int</span>[] pushed, <span class="type">int</span>[] popped)</span> &#123;</span><br><span class="line">    Stack&lt;Integer&gt; stack = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">    <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> num : pushed) &#123;</span><br><span class="line">        stack.push(num); <span class="comment">// æ¨¡æ‹Ÿå…¥æ ˆ</span></span><br><span class="line">        <span class="keyword">while</span> (!stack.isEmpty() &amp;&amp; stack.peek() == popped[i]) &#123; <span class="comment">// å¾ªç¯åˆ¤æ–­ å‡ºæ ˆ</span></span><br><span class="line">            stack.pop();</span><br><span class="line">            i++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> stack.isEmpty();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-5ã€LC1806-è¿˜åŸæ’åˆ—çš„æœ€å°‘æ“ä½œæ­¥æ•°"><a href="#4-5ã€LC1806-è¿˜åŸæ’åˆ—çš„æœ€å°‘æ“ä½œæ­¥æ•°" class="headerlink" title="4.5ã€LC1806. è¿˜åŸæ’åˆ—çš„æœ€å°‘æ“ä½œæ­¥æ•°"></a>4.5ã€LC1806. è¿˜åŸæ’åˆ—çš„æœ€å°‘æ“ä½œæ­¥æ•°</h3><p>ç»™ä½ ä¸€ä¸ªå¶æ•° <code>n</code> ï¼Œå·²çŸ¥å­˜åœ¨ä¸€ä¸ªé•¿åº¦ä¸º <code>n</code> çš„æ’åˆ— <code>perm</code> ï¼Œå…¶ä¸­ <code>perm[i] == i</code>ï¼ˆä¸‹æ ‡ <strong>ä» 0 å¼€å§‹</strong> è®¡æ•°ï¼‰ã€‚</p>
<p>ä¸€æ­¥æ“ä½œä¸­ï¼Œä½ å°†åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„ <code>arr</code> ï¼Œå¯¹äºæ¯ä¸ª <code>i</code> ï¼š</p>
<ul>
<li>å¦‚æœ <code>i % 2 == 0</code> ï¼Œé‚£ä¹ˆ <code>arr[i] = perm[i / 2]</code></li>
<li>å¦‚æœ <code>i % 2 == 1</code> ï¼Œé‚£ä¹ˆ <code>arr[i] = perm[n / 2 + (i - 1) / 2]</code></li>
</ul>
<p>ç„¶åå°† <code>arr</code> èµ‹å€¼ç»™ <code>perm</code> ã€‚</p>
<p>è¦æƒ³ä½¿ <code>perm</code> å›åˆ°æ’åˆ—åˆå§‹å€¼ï¼Œè‡³å°‘éœ€è¦æ‰§è¡Œå¤šå°‘æ­¥æ“ä½œï¼Ÿè¿”å›æœ€å°çš„ <strong>éé›¶</strong> æ“ä½œæ­¥æ•°ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = 2</span><br><span class="line">è¾“å‡ºï¼š1</span><br><span class="line">è§£é‡Šï¼šæœ€åˆï¼Œperm = [0,1]</span><br><span class="line">ç¬¬ 1 æ­¥æ“ä½œåï¼Œperm = [0,1]</span><br><span class="line">æ‰€ä»¥ï¼Œä»…éœ€æ‰§è¡Œ 1 æ­¥æ“ä½œ</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = 4</span><br><span class="line">è¾“å‡ºï¼š2</span><br><span class="line">è§£é‡Šï¼šæœ€åˆï¼Œperm = [0,1,2,3]</span><br><span class="line">ç¬¬ 1 æ­¥æ“ä½œåï¼Œperm = [0,2,1,3]</span><br><span class="line">ç¬¬ 2 æ­¥æ“ä½œåï¼Œperm = [0,1,2,3]</span><br><span class="line">æ‰€ä»¥ï¼Œä»…éœ€æ‰§è¡Œ 2 æ­¥æ“ä½œ</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = 6</span><br><span class="line">è¾“å‡ºï¼š4</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>2 &lt;= n &lt;= 1000</code></li>
<li><code>n</code> æ˜¯ä¸€ä¸ªå¶æ•°</li>
</ul>
<p>Related Topics</p>
<p>æ•°ç»„</p>
<p>æ•°å­¦</p>
<p>æ¨¡æ‹Ÿ</p>
<p>ğŸ‘ 49</p>
<p>ğŸ‘ 0</p>
<h4 id="æ–¹æ³•ä¸€ï¼šæš´åŠ›æ¨¡æ‹Ÿ"><a href="#æ–¹æ³•ä¸€ï¼šæš´åŠ›æ¨¡æ‹Ÿ" class="headerlink" title="æ–¹æ³•ä¸€ï¼šæš´åŠ›æ¨¡æ‹Ÿ"></a>æ–¹æ³•ä¸€ï¼šæš´åŠ›æ¨¡æ‹Ÿ</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">reinitializePermutation</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="type">int</span>[] prem = <span class="keyword">new</span> <span class="title class_">int</span>[n], arr = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) prem[i] = i;</span><br><span class="line">        <span class="type">int</span> i, step = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; n; i++) arr[i] = i % <span class="number">2</span> == <span class="number">0</span> ? prem[i / <span class="number">2</span>] : prem[(n - <span class="number">1</span> + i) / <span class="number">2</span>];</span><br><span class="line">            <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; n &amp;&amp; arr[i] == i; i++);</span><br><span class="line">            <span class="keyword">if</span> (i == n) <span class="keyword">return</span> step;</span><br><span class="line">            <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; n; i++) prem[i] = arr[i];</span><br><span class="line">            step++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦: O(n^2), æœ€å¤šä¼šå¾ªç¯næ¬¡</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼šO(n)ã€‚</li>
</ul>
<h4 id="æ–¹æ³•äºŒï¼šæ¨¡æ‹Ÿä¼˜åŒ–"><a href="#æ–¹æ³•äºŒï¼šæ¨¡æ‹Ÿä¼˜åŒ–" class="headerlink" title="æ–¹æ³•äºŒï¼šæ¨¡æ‹Ÿä¼˜åŒ–"></a>æ–¹æ³•äºŒï¼šæ¨¡æ‹Ÿä¼˜åŒ–</h4><p>å¯¹äºè§£æ³•ä¸€æ¥è¯´æˆ‘ä»¬æšä¸¾äº†æ‰€æœ‰ä½ç½®è¿›è¡Œäº¤æ¢ï¼Œä½†å…¶å®æˆ‘ä»¬ä¸ç”¨æšä¸¾æ‰€æœ‰ä½ç½®ã€‚é€šè¿‡åˆ†æå¯ä»¥å‘ç°ï¼Œæ‰€æœ‰çš„æ•°äº¤æ¢åä¼šæ„æˆä¸€ä¸ªç¯ï¼Œæ¯ä¸ªç¯ç»è¿‡å®ƒé•¿åº¦çš„äº¤æ¢åå°±å›ä¼šåˆ°æœ€åˆçš„çŠ¶æ€ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ±‚å‡ºæœ€å¤§çš„ç¯çš„é•¿åº¦(å¯ä»¥å‘ç°å¿…ç„¶æ˜¯æ‰€æœ‰ç¯çš„æœ€å°å…¬å€æ•°ï¼‰ï¼Œç»è¿‡åœ¨è¿™ä¸ªé•¿åº¦çš„äº¤æ¢ï¼Œæ‰€æœ‰æ•°å¿…ç„¶å›åˆ°æœ€åˆçš„ä½ç½®ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1673227800-WGoJzi-%E5%9B%BE%E7%89%87.png" alt="å›¾ç‰‡.png"></p>
<p>ä»è§‚å¯Ÿå¯ä»¥å‘ç°ï¼Œ1æˆ–è€…n-2å¿…ç„¶åœ¨æœ€é•¿çš„ç¯ä¸­ï¼Œå› æ­¤æˆ‘ä»¬æ¨¡æ‹Ÿ1æˆ–è€…n-2è¿›è¡Œäº¤æ¢çš„æ¬¡æ•°å°±æ˜¯æœ€ç»ˆçš„ç­”æ¡ˆã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">reinitializePermutation</span><span class="params">(<span class="type">int</span> n)</span> &#123; </span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>, step = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            i = i % <span class="number">2</span> == <span class="number">0</span> ? i / <span class="number">2</span> : (n - <span class="number">1</span> + i) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span> (i == <span class="number">1</span>) <span class="keyword">return</span> step;</span><br><span class="line">            step++;</span><br><span class="line">        &#125; </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼šO(n)<em>O</em>(<em>n</em>)</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼šO(1)<em>O</em>(1)</li>
</ul>
<h3 id="4-6ã€LC657-æœºå™¨äººèƒ½å¦è¿”å›åŸç‚¹"><a href="#4-6ã€LC657-æœºå™¨äººèƒ½å¦è¿”å›åŸç‚¹" class="headerlink" title="4.6ã€LC657. æœºå™¨äººèƒ½å¦è¿”å›åŸç‚¹"></a>4.6ã€LC657. æœºå™¨äººèƒ½å¦è¿”å›åŸç‚¹</h3><p>åœ¨äºŒç»´å¹³é¢ä¸Šï¼Œæœ‰ä¸€ä¸ªæœºå™¨äººä»åŸç‚¹ <code>(0, 0)</code> å¼€å§‹ã€‚ç»™å‡ºå®ƒçš„ç§»åŠ¨é¡ºåºï¼Œåˆ¤æ–­è¿™ä¸ªæœºå™¨äººåœ¨å®Œæˆç§»åŠ¨åæ˜¯å¦åœ¨ <strong><code>(0, 0)</code> å¤„ç»“æŸ</strong>ã€‚</p>
<p>ç§»åŠ¨é¡ºåºç”±å­—ç¬¦ä¸² <code>moves</code> è¡¨ç¤ºã€‚å­—ç¬¦ <code>move[i]</code> è¡¨ç¤ºå…¶ç¬¬ <code>i</code> æ¬¡ç§»åŠ¨ã€‚æœºå™¨äººçš„æœ‰æ•ˆåŠ¨ä½œæœ‰ <code>R</code>ï¼ˆå³ï¼‰ï¼Œ<code>L</code>ï¼ˆå·¦ï¼‰ï¼Œ<code>U</code>ï¼ˆä¸Šï¼‰å’Œ <code>D</code>ï¼ˆä¸‹ï¼‰ã€‚</p>
<p>å¦‚æœæœºå™¨äººåœ¨å®Œæˆæ‰€æœ‰åŠ¨ä½œåè¿”å›åŸç‚¹ï¼Œåˆ™è¿”å› <code>true</code>ã€‚å¦åˆ™ï¼Œè¿”å› <code>false</code>ã€‚</p>
<p><strong>æ³¨æ„ï¼š</strong>æœºå™¨äººâ€œé¢æœâ€çš„æ–¹å‘æ— å…³ç´§è¦ã€‚ <code>â€œRâ€</code> å°†å§‹ç»ˆä½¿æœºå™¨äººå‘å³ç§»åŠ¨ä¸€æ¬¡ï¼Œ<code>â€œLâ€</code> å°†å§‹ç»ˆå‘å·¦ç§»åŠ¨ç­‰ã€‚æ­¤å¤–ï¼Œå‡è®¾æ¯æ¬¡ç§»åŠ¨æœºå™¨äººçš„ç§»åŠ¨å¹…åº¦ç›¸åŒã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: moves = &quot;UD&quot;</span><br><span class="line">è¾“å‡º: true</span><br><span class="line">è§£é‡Šï¼šæœºå™¨äººå‘ä¸Šç§»åŠ¨ä¸€æ¬¡ï¼Œç„¶åå‘ä¸‹ç§»åŠ¨ä¸€æ¬¡ã€‚æ‰€æœ‰åŠ¨ä½œéƒ½å…·æœ‰ç›¸åŒçš„å¹…åº¦ï¼Œå› æ­¤å®ƒæœ€ç»ˆå›åˆ°å®ƒå¼€å§‹çš„åŸç‚¹ã€‚å› æ­¤ï¼Œæˆ‘ä»¬è¿”å› trueã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: moves = &quot;LL&quot;</span><br><span class="line">è¾“å‡º: false</span><br><span class="line">è§£é‡Šï¼šæœºå™¨äººå‘å·¦ç§»åŠ¨ä¸¤æ¬¡ã€‚å®ƒæœ€ç»ˆä½äºåŸç‚¹çš„å·¦ä¾§ï¼Œè·åŸç‚¹æœ‰ä¸¤æ¬¡ â€œç§»åŠ¨â€ çš„è·ç¦»ã€‚æˆ‘ä»¬è¿”å› falseï¼Œå› ä¸ºå®ƒåœ¨ç§»åŠ¨ç»“æŸæ—¶æ²¡æœ‰è¿”å›åŸç‚¹ã€‚</span><br></pre></td></tr></table></figure>



<p><strong>æç¤º:</strong></p>
<ul>
<li><code>1 &lt;= moves.length &lt;= 2 * 104</code></li>
<li><code>moves</code> åªåŒ…å«å­—ç¬¦ <code>&#39;U&#39;</code>, <code>&#39;D&#39;</code>, <code>&#39;L&#39;</code> å’Œ <code>&#39;R&#39;</code></li>
</ul>
<p>Related Topics</p>
<p>å­—ç¬¦ä¸²</p>
<p>æ¨¡æ‹Ÿ</p>
<p>ğŸ‘ 241</p>
<p>ğŸ‘ 0</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">judgeCircle</span><span class="params">(String moves)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> <span class="number">0</span>, y = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; moves.length(); i++) &#123;</span><br><span class="line">            <span class="type">char</span> <span class="variable">c</span> <span class="operator">=</span> moves.charAt(i);</span><br><span class="line">            <span class="keyword">if</span> (c == <span class="string">&#x27;R&#x27;</span>) &#123;</span><br><span class="line">                ++x;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (c == <span class="string">&#x27;L&#x27;</span>) &#123;</span><br><span class="line">                --x;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (c == <span class="string">&#x27;U&#x27;</span>) &#123;</span><br><span class="line">                ++y;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (c == <span class="string">&#x27;D&#x27;</span>) &#123;</span><br><span class="line">                --y;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> x == <span class="number">0</span> &amp;&amp; y == <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦O(N)</li>
<li>ç©ºé—´å¤æ‚åº¦O(1)</li>
</ul>
<h3 id="4-7ã€LC31-ä¸‹ä¸€ä¸ªæ’åˆ—"><a href="#4-7ã€LC31-ä¸‹ä¸€ä¸ªæ’åˆ—" class="headerlink" title="4.7ã€LC31. ä¸‹ä¸€ä¸ªæ’åˆ—"></a>4.7ã€LC31. ä¸‹ä¸€ä¸ªæ’åˆ—</h3><p>æ•´æ•°æ•°ç»„çš„ä¸€ä¸ª <strong>æ’åˆ—</strong> å°±æ˜¯å°†å…¶æ‰€æœ‰æˆå‘˜ä»¥åºåˆ—æˆ–çº¿æ€§é¡ºåºæ’åˆ—ã€‚</p>
<ul>
<li>ä¾‹å¦‚ï¼Œ<code>arr = [1,2,3]</code> ï¼Œä»¥ä¸‹è¿™äº›éƒ½å¯ä»¥è§†ä½œ <code>arr</code> çš„æ’åˆ—ï¼š<code>[1,2,3]</code>ã€<code>[1,3,2]</code>ã€<code>[3,1,2]</code>ã€<code>[2,3,1]</code> ã€‚</li>
</ul>
<p>æ•´æ•°æ•°ç»„çš„ <strong>ä¸‹ä¸€ä¸ªæ’åˆ—</strong> æ˜¯æŒ‡å…¶æ•´æ•°çš„ä¸‹ä¸€ä¸ªå­—å…¸åºæ›´å¤§çš„æ’åˆ—ã€‚æ›´æ­£å¼åœ°ï¼Œå¦‚æœæ•°ç»„çš„æ‰€æœ‰æ’åˆ—æ ¹æ®å…¶å­—å…¸é¡ºåºä»å°åˆ°å¤§æ’åˆ—åœ¨ä¸€ä¸ªå®¹å™¨ä¸­ï¼Œé‚£ä¹ˆæ•°ç»„çš„ <strong>ä¸‹ä¸€ä¸ªæ’åˆ—</strong> å°±æ˜¯åœ¨è¿™ä¸ªæœ‰åºå®¹å™¨ä¸­æ’åœ¨å®ƒåé¢çš„é‚£ä¸ªæ’åˆ—ã€‚å¦‚æœä¸å­˜åœ¨ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ’åˆ—ï¼Œé‚£ä¹ˆè¿™ä¸ªæ•°ç»„å¿…é¡»é‡æ’ä¸ºå­—å…¸åºæœ€å°çš„æ’åˆ—ï¼ˆå³ï¼Œå…¶å…ƒç´ æŒ‰å‡åºæ’åˆ—ï¼‰ã€‚</p>
<ul>
<li>ä¾‹å¦‚ï¼Œ<code>arr = [1,2,3]</code> çš„ä¸‹ä¸€ä¸ªæ’åˆ—æ˜¯ <code>[1,3,2]</code> ã€‚</li>
<li>ç±»ä¼¼åœ°ï¼Œ<code>arr = [2,3,1]</code> çš„ä¸‹ä¸€ä¸ªæ’åˆ—æ˜¯ <code>[3,1,2]</code> ã€‚</li>
<li>è€Œ <code>arr = [3,2,1]</code> çš„ä¸‹ä¸€ä¸ªæ’åˆ—æ˜¯ <code>[1,2,3]</code> ï¼Œå› ä¸º <code>[3,2,1]</code> ä¸å­˜åœ¨ä¸€ä¸ªå­—å…¸åºæ›´å¤§çš„æ’åˆ—ã€‚</li>
</ul>
<p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>nums</code> ï¼Œæ‰¾å‡º <code>nums</code> çš„ä¸‹ä¸€ä¸ªæ’åˆ—ã€‚</p>
<p>å¿…é¡»**<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E5%8E%9F%E5%9C%B0%E7%AE%97%E6%B3%95"> åŸåœ° </a>**ä¿®æ”¹ï¼Œåªå…è®¸ä½¿ç”¨é¢å¤–å¸¸æ•°ç©ºé—´ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [1,2,3]</span><br><span class="line">è¾“å‡ºï¼š[1,3,2]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [3,2,1]</span><br><span class="line">è¾“å‡ºï¼š[1,2,3]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [1,1,5]</span><br><span class="line">è¾“å‡ºï¼š[1,5,1]</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= nums.length &lt;= 100</code></li>
<li><code>0 &lt;= nums[i] &lt;= 100</code></li>
</ul>
<p>Related Topics</p>
<p>æ•°ç»„</p>
<p>åŒæŒ‡é’ˆ</p>
<p>ğŸ‘ 2025</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/31.%E4%B8%8B%E4%B8%80%E4%B8%AA%E6%8E%92%E5%88%97.png" alt="img"></p>
<ol>
<li>ä»åå¾€å‰æ‰¾ç¬¬ä¸€ä¸ªå‡ºç°çš„ i , j æ»¡è¶³ nums[i] &lt; nums[j]ï¼Œäº¤æ¢ nums[i], nums[j].</li>
<li>æ­¤æ—¶å› ä¸ºæ˜¯ä»åå¾€å‰éå†çš„ï¼Œæ‰€ä»¥ nums[i+1:length - 1] çš„ä½ç½®åº”è¯¥éƒ½æ˜¯ä»å¤§åˆ°å°çš„ã€‚</li>
<li>å¯¹åº”çš„æœ€å°æ’åˆ—ï¼Œåº”è¯¥æ˜¯æŠŠä»–ä»¬é€†åºã€‚</li>
<li>å¦‚æœéå†æ•´ä¸ªæ•°ç»„éƒ½æœ‰æ²¡æ‰¾åˆ°çš„è¯ï¼Œè¯´æ˜ nums å°±æ˜¯æœ€å¤§çš„ï¼Œè¿™ä¸ªæ—¶å€™é€†åºè¿”å›ã€‚</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">nextPermutation</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> nums.length - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> nums.length - <span class="number">1</span>; j &gt; i; j--) &#123;</span><br><span class="line">                <span class="keyword">if</span> (nums[j] &gt; nums[i]) &#123;</span><br><span class="line">                    <span class="comment">// äº¤æ¢</span></span><br><span class="line">                    <span class="type">int</span> <span class="variable">tmp</span> <span class="operator">=</span> nums[i];</span><br><span class="line">                    nums[i] = nums[j];</span><br><span class="line">                    nums[j] = tmp;</span><br><span class="line">                    <span class="comment">// è¿™ä¸ªæ—¶å€™[i+1, nums.length - 1]æ˜¯ä»å¤§åˆ°å°çš„ï¼Œå¯¹å…ƒç´ è¿›è¡Œé€†åºã€‚</span></span><br><span class="line">                    reverse(nums, i + <span class="number">1</span>);</span><br><span class="line">                    <span class="keyword">return</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        reverse(nums, <span class="number">0</span>);  <span class="comment">// ä¸å­˜åœ¨ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ’åˆ—ï¼Œåˆ™å°†æ•°å­—é‡æ–°æ’åˆ—æˆæœ€å°çš„æ’åˆ—ï¼ˆé€†åºè¯¥æ•°ç»„ï¼‰ã€‚</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">reverse</span><span class="params">(<span class="type">int</span> [] nums, <span class="type">int</span> index)</span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> index,j = nums.length-<span class="number">1</span>;i&lt;j;i++,j--)&#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> nums[i];</span><br><span class="line">            nums[i] = nums[j];</span><br><span class="line">            nums[j] = temp;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼šO(N^2)ï¼Œæœ€å·®æ’åˆ—æ•°æœ€å¤§æ•°ç»„ï¼Œéœ€è¦n^2ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼šO(1).</li>
</ul>
<h4 id="å¦ä¸€ç§è§£æ³•"><a href="#å¦ä¸€ç§è§£æ³•" class="headerlink" title="å¦ä¸€ç§è§£æ³•"></a>å¦ä¸€ç§è§£æ³•</h4><p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>å¦‚ä½•å¾—åˆ°è¿™æ ·çš„æ’åˆ—é¡ºåºï¼Ÿè¿™æ˜¯æœ¬æ–‡çš„é‡ç‚¹ã€‚æˆ‘ä»¬å¯ä»¥è¿™æ ·æ¥åˆ†æï¼š</p>
<ol>
<li>æˆ‘ä»¬å¸Œæœ›ä¸‹ä¸€ä¸ªæ•° <strong>æ¯”å½“å‰æ•°å¤§</strong>ï¼Œè¿™æ ·æ‰æ»¡è¶³ â€œä¸‹ä¸€ä¸ªæ’åˆ—â€ çš„å®šä¹‰ã€‚å› æ­¤åªéœ€è¦ <strong>å°†åé¢çš„ã€Œå¤§æ•°ã€ä¸å‰é¢çš„ã€Œå°æ•°ã€äº¤æ¢</strong>ï¼Œå°±èƒ½å¾—åˆ°ä¸€ä¸ªæ›´å¤§çš„æ•°ã€‚æ¯”å¦‚ <code>123456</code>ï¼Œå°† <code>5</code> å’Œ <code>6</code> äº¤æ¢å°±èƒ½å¾—åˆ°ä¸€ä¸ªæ›´å¤§çš„æ•° <code>123465</code>ã€‚</li>
<li>æˆ‘ä»¬è¿˜å¸Œæœ›ä¸‹ä¸€ä¸ªæ•°å¢åŠ çš„å¹…åº¦å°½å¯èƒ½çš„å°ï¼Œè¿™æ ·æ‰æ»¡è¶³â€œä¸‹ä¸€ä¸ªæ’åˆ—ä¸å½“å‰æ’åˆ—ç´§é‚»â€œçš„è¦æ±‚ã€‚ä¸ºäº†æ»¡è¶³è¿™ä¸ªè¦æ±‚ï¼Œæˆ‘ä»¬éœ€è¦ï¼š<ol>
<li>åœ¨ <strong>å°½å¯èƒ½é å³çš„ä½ä½</strong> è¿›è¡Œäº¤æ¢ï¼Œéœ€è¦ <strong>ä»åå‘å‰</strong> æŸ¥æ‰¾</li>
<li>å°†ä¸€ä¸ª <strong>å°½å¯èƒ½å°çš„ã€Œå¤§æ•°ã€</strong> ä¸å‰é¢çš„ã€Œå°æ•°ã€äº¤æ¢ã€‚æ¯”å¦‚ <code>123465</code>ï¼Œä¸‹ä¸€ä¸ªæ’åˆ—åº”è¯¥æŠŠ <code>5</code> å’Œ <code>4</code> äº¤æ¢è€Œä¸æ˜¯æŠŠ <code>6</code> å’Œ <code>4</code> äº¤æ¢</li>
<li>å°†ã€Œå¤§æ•°ã€æ¢åˆ°å‰é¢åï¼Œéœ€è¦å°†ã€Œå¤§æ•°ã€åé¢çš„æ‰€æœ‰æ•° <strong>é‡ç½®ä¸ºå‡åº</strong>ï¼Œ<strong>å‡åºæ’åˆ—å°±æ˜¯æœ€å°çš„æ’åˆ—</strong>ã€‚ä»¥ <code>123465</code> ä¸ºä¾‹ï¼šé¦–å…ˆæŒ‰ç…§ä¸Šä¸€æ­¥ï¼Œäº¤æ¢ <code>5</code> å’Œ <code>4</code>ï¼Œå¾—åˆ° <code>123564</code>ï¼›ç„¶åéœ€è¦å°† <code>5</code> ä¹‹åçš„æ•°é‡ç½®ä¸ºå‡åºï¼Œå¾—åˆ° <code>123546</code>ã€‚æ˜¾ç„¶ <code>123546</code> æ¯” <code>123564</code> æ›´å°ï¼Œ<code>123546</code> å°±æ˜¯ <code>123465</code> çš„ä¸‹ä¸€ä¸ªæ’åˆ—</li>
</ol>
</li>
</ol>
<p><strong>ç®—æ³•æè¿°</strong>ï¼š</p>
<ol>
<li><strong>ä»åå‘å‰</strong> æŸ¥æ‰¾ç¬¬ä¸€ä¸ª <strong>ç›¸é‚»å‡åº</strong> çš„å…ƒç´ å¯¹ <code>(i,j)</code>ï¼Œæ»¡è¶³ <code>A[i] &lt; A[j]</code>ã€‚æ­¤æ—¶ <code>[j,end)</code> å¿…ç„¶æ˜¯é™åº</li>
<li>åœ¨ <code>[j,end)</code> <strong>ä»åå‘å‰</strong> æŸ¥æ‰¾ç¬¬ä¸€ä¸ªæ»¡è¶³ <code>A[i] &lt; A[k]</code> çš„ <code>k</code>ã€‚<code>A[i]</code>ã€<code>A[k]</code> åˆ†åˆ«å°±æ˜¯ä¸Šæ–‡æ‰€è¯´çš„ã€Œå°æ•°ã€ã€ã€Œå¤§æ•°ã€</li>
<li>å°† <code>A[i]</code> ä¸ <code>A[k]</code> äº¤æ¢</li>
<li>å¯ä»¥æ–­å®šè¿™æ—¶ <code>[j,end)</code> å¿…ç„¶æ˜¯é™åºï¼Œé€†ç½® <code>[j,end)</code>ï¼Œä½¿å…¶å‡åº</li>
<li>å¦‚æœåœ¨æ­¥éª¤ 1 æ‰¾ä¸åˆ°ç¬¦åˆçš„ç›¸é‚»å…ƒç´ å¯¹ï¼Œè¯´æ˜å½“å‰ <code>[begin,end)</code> ä¸ºä¸€ä¸ªé™åºé¡ºåºï¼Œåˆ™ç›´æ¥è·³åˆ°æ­¥éª¤ 4</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">nextPermutation</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span>(nums == <span class="literal">null</span> || (n = nums.length) == <span class="number">0</span>)  <span class="keyword">return</span>;</span><br><span class="line">        <span class="comment">// ä»åå¾€å‰æŸ¥æ‰¾ç¬¬ä¸€æ¬¡å‡ºç° nums[i] &lt; nums[i+1] çš„ä½ç½®</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> n-<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">for</span>(; i&gt;=<span class="number">0</span> &amp;&amp; nums[i] &gt;= nums[i+<span class="number">1</span>]; i--)    ;</span><br><span class="line">        <span class="comment">// if i == -1 nums åˆ™æ•´ä½“é€†åº</span></span><br><span class="line">        <span class="keyword">if</span>(i &gt;= <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="comment">// æ­¤æ—¶ nums[i+1, n-1] é™åº, æŸ¥æ‰¾å…¶ä¸­ å¤§äºnums[i] çš„æœ€å¤§ä¸‹æ ‡ï¼Œå¯ä»¥ç›´æ¥ ä»åå¾€å‰ é€†å‘æ‰¾</span></span><br><span class="line">            <span class="comment">// å› ä¸ºæœ‰åº å¯ä»¥ç»ƒä¹ ä¸€ä¸‹äºŒåˆ†æŸ¥æ‰¾</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> binarySearch(nums, i+<span class="number">1</span>, n-<span class="number">1</span>, nums[i]);</span><br><span class="line">            <span class="comment">// äº¤æ¢ i j</span></span><br><span class="line">            swap(nums, i, j);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// æ­¤æ—¶ nums[i+1, n-1] ä»ç„¶é™åºï¼Œå°†å…¶æ”¹ä¸ºå‡åºï¼Œåªéœ€è¦åè½¬å³å¯ã€‚</span></span><br><span class="line">        reverse(nums, i+<span class="number">1</span>, n-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// nums[left, right] é€†åºï¼ŒæŸ¥æ‰¾å…¶ä¸­ &gt; target çš„ æœ€å¤§ä¸‹æ ‡</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">binarySearch</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> left, <span class="type">int</span> right, <span class="type">int</span> target)</span>&#123;</span><br><span class="line">        <span class="keyword">while</span>(left &lt;= right)&#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> (left + right) &gt;&gt;&gt; <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span>(nums[mid] &gt; target)&#123;</span><br><span class="line">                left = mid + <span class="number">1</span>; <span class="comment">// å°è¯•å†ç¼©å°åŒºé—´</span></span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                right = mid - <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> right;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">swap</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> i, <span class="type">int</span> j)</span>&#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">tmp</span> <span class="operator">=</span> nums[i];</span><br><span class="line">        nums[i] = nums[j];</span><br><span class="line">        nums[j] = tmp;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">reverse</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> i, <span class="type">int</span> j)</span>&#123;</span><br><span class="line">        <span class="keyword">while</span>(i &lt; j)&#123;</span><br><span class="line">            swap(nums, i++, j--);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong></p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦O(N)</li>
<li>ç©ºé—´å¤æ‚åº¦O(1)</li>
</ul>
<h3 id="ç½‘æ ¼ç±»é—®é¢˜çš„-DFS-éå†æ–¹æ³•"><a href="#ç½‘æ ¼ç±»é—®é¢˜çš„-DFS-éå†æ–¹æ³•" class="headerlink" title="ç½‘æ ¼ç±»é—®é¢˜çš„ DFS éå†æ–¹æ³•"></a>ç½‘æ ¼ç±»é—®é¢˜çš„ DFS éå†æ–¹æ³•</h3><h4 id="ç½‘æ ¼é—®é¢˜çš„åŸºæœ¬æ¦‚å¿µ"><a href="#ç½‘æ ¼é—®é¢˜çš„åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="ç½‘æ ¼é—®é¢˜çš„åŸºæœ¬æ¦‚å¿µ"></a>ç½‘æ ¼é—®é¢˜çš„åŸºæœ¬æ¦‚å¿µ</h4><p>æˆ‘ä»¬é¦–å…ˆæ˜ç¡®ä¸€ä¸‹å²›å±¿é—®é¢˜ä¸­çš„ç½‘æ ¼ç»“æ„æ˜¯å¦‚ä½•å®šä¹‰çš„ï¼Œä»¥æ–¹ä¾¿æˆ‘ä»¬åé¢çš„è®¨è®ºã€‚</p>
<p>ç½‘æ ¼é—®é¢˜æ˜¯ç”± m Ã— n ä¸ªå°æ–¹æ ¼ç»„æˆä¸€ä¸ªç½‘æ ¼ï¼Œæ¯ä¸ªå°æ–¹æ ¼ä¸å…¶ä¸Šä¸‹å·¦å³å››ä¸ªæ–¹æ ¼è®¤ä¸ºæ˜¯ç›¸é‚»çš„ï¼Œè¦åœ¨è¿™æ ·çš„ç½‘æ ¼ä¸Šè¿›è¡ŒæŸç§æœç´¢ã€‚</p>
<p>å²›å±¿é—®é¢˜æ˜¯ä¸€ç±»å…¸å‹çš„ç½‘æ ¼é—®é¢˜ã€‚æ¯ä¸ªæ ¼å­ä¸­çš„æ•°å­—å¯èƒ½æ˜¯ 0 æˆ–è€… 1ã€‚æˆ‘ä»¬æŠŠæ•°å­—ä¸º 0 çš„æ ¼å­çœ‹æˆæµ·æ´‹æ ¼å­ï¼Œæ•°å­—ä¸º 1 çš„æ ¼å­çœ‹æˆé™†åœ°æ ¼å­ï¼Œè¿™æ ·ç›¸é‚»çš„é™†åœ°æ ¼å­å°±è¿æ¥æˆä¸€ä¸ªå²›å±¿ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/c36f9ee4aa60007f02ff4298bc355fd6160aa2b0d628c3607c9281ce864b75a2.jpg" alt="å²›å±¿é—®é¢˜ç¤ºä¾‹"></p>
<p>åœ¨è¿™æ ·ä¸€ä¸ªè®¾å®šä¸‹ï¼Œå°±å‡ºç°äº†å„ç§å²›å±¿é—®é¢˜çš„å˜ç§ï¼ŒåŒ…æ‹¬å²›å±¿çš„æ•°é‡ã€é¢ç§¯ã€å‘¨é•¿ç­‰ã€‚ä¸è¿‡è¿™äº›é—®é¢˜ï¼ŒåŸºæœ¬éƒ½å¯ä»¥ç”¨ DFS éå†æ¥è§£å†³ã€‚</p>
<h4 id="DFS-çš„åŸºæœ¬ç»“æ„"><a href="#DFS-çš„åŸºæœ¬ç»“æ„" class="headerlink" title="DFS çš„åŸºæœ¬ç»“æ„"></a>DFS çš„åŸºæœ¬ç»“æ„</h4><p>ç½‘æ ¼ç»“æ„è¦æ¯”äºŒå‰æ ‘ç»“æ„ç¨å¾®å¤æ‚ä¸€äº›ï¼Œå®ƒå…¶å®æ˜¯ä¸€ç§ç®€åŒ–ç‰ˆçš„å›¾ç»“æ„ã€‚è¦å†™å¥½ç½‘æ ¼ä¸Šçš„ DFS éå†ï¼Œæˆ‘ä»¬é¦–å…ˆè¦ç†è§£äºŒå‰æ ‘ä¸Šçš„ DFS éå†æ–¹æ³•ï¼Œå†ç±»æ¯”å†™å‡ºç½‘æ ¼ç»“æ„ä¸Šçš„ DFS éå†ã€‚æˆ‘ä»¬å†™çš„äºŒå‰æ ‘ DFS éå†ä¸€èˆ¬æ˜¯è¿™æ ·çš„ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">traverse</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">    <span class="comment">// åˆ¤æ–­ base case</span></span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// è®¿é—®ä¸¤ä¸ªç›¸é‚»ç»“ç‚¹ï¼šå·¦å­ç»“ç‚¹ã€å³å­ç»“ç‚¹</span></span><br><span class="line">    traverse(root.left);</span><br><span class="line">    traverse(root.right);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p>å¯ä»¥çœ‹åˆ°ï¼ŒäºŒå‰æ ‘çš„ DFS æœ‰ä¸¤ä¸ªè¦ç´ ï¼šã€Œè®¿é—®ç›¸é‚»ç»“ç‚¹ã€å’Œã€Œåˆ¤æ–­ base caseã€ã€‚</p>
<p>ç¬¬ä¸€ä¸ªè¦ç´ æ˜¯<strong>è®¿é—®ç›¸é‚»ç»“ç‚¹</strong>ã€‚äºŒå‰æ ‘çš„ç›¸é‚»ç»“ç‚¹éå¸¸ç®€å•ï¼Œåªæœ‰å·¦å­ç»“ç‚¹å’Œå³å­ç»“ç‚¹ä¸¤ä¸ªã€‚äºŒå‰æ ‘æœ¬èº«å°±æ˜¯ä¸€ä¸ªé€’å½’å®šä¹‰çš„ç»“æ„ï¼šä¸€æ£µäºŒå‰æ ‘ï¼Œå®ƒçš„å·¦å­æ ‘å’Œå³å­æ ‘ä¹Ÿæ˜¯ä¸€æ£µäºŒå‰æ ‘ã€‚é‚£ä¹ˆæˆ‘ä»¬çš„ DFS éå†åªéœ€è¦é€’å½’è°ƒç”¨å·¦å­æ ‘å’Œå³å­æ ‘å³å¯ã€‚</p>
<p>ç¬¬äºŒä¸ªè¦ç´ æ˜¯ <strong>åˆ¤æ–­ base case</strong>ã€‚ä¸€èˆ¬æ¥è¯´ï¼ŒäºŒå‰æ ‘éå†çš„ base case æ˜¯ root &#x3D;&#x3D; nullã€‚è¿™æ ·ä¸€ä¸ªæ¡ä»¶åˆ¤æ–­å…¶å®æœ‰ä¸¤ä¸ªå«ä¹‰ï¼šä¸€æ–¹é¢ï¼Œè¿™è¡¨ç¤º root æŒ‡å‘çš„å­æ ‘ä¸ºç©ºï¼Œä¸éœ€è¦å†å¾€ä¸‹éå†äº†ã€‚å¦ä¸€æ–¹é¢ï¼Œåœ¨ root &#x3D;&#x3D; null çš„æ—¶å€™åŠæ—¶è¿”å›ï¼Œå¯ä»¥è®©åé¢çš„ root.left å’Œ root.right æ“ä½œä¸ä¼šå‡ºç°ç©ºæŒ‡é’ˆå¼‚å¸¸ã€‚</p>
<p>å¯¹äºç½‘æ ¼ä¸Šçš„ DFSï¼Œæˆ‘ä»¬å®Œå…¨å¯ä»¥å‚è€ƒäºŒå‰æ ‘çš„ DFSï¼Œå†™å‡ºç½‘æ ¼ DFS çš„ä¸¤ä¸ªè¦ç´ ï¼š</p>
<p>é¦–å…ˆï¼Œç½‘æ ¼ç»“æ„ä¸­çš„æ ¼å­æœ‰å¤šå°‘ç›¸é‚»ç»“ç‚¹ï¼Ÿç­”æ¡ˆæ˜¯ä¸Šä¸‹å·¦å³å››ä¸ªã€‚å¯¹äºæ ¼å­ (r, c) æ¥è¯´ï¼ˆr å’Œ c åˆ†åˆ«ä»£è¡¨è¡Œåæ ‡å’Œåˆ—åæ ‡ï¼‰ï¼Œå››ä¸ªç›¸é‚»çš„æ ¼å­åˆ†åˆ«æ˜¯ (r-1, c)ã€(r+1, c)ã€(r, c-1)ã€(r, c+1)ã€‚æ¢å¥è¯è¯´ï¼Œç½‘æ ¼ç»“æ„æ˜¯ã€Œå››å‰ã€çš„ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/63f5803e9452ccecf92fa64f54c887ed0e4e4c3434b9fb246bf2b410e4424555.jpg" alt="ç½‘æ ¼ç»“æ„ä¸­å››ä¸ªç›¸é‚»çš„æ ¼å­"></p>
<p>å…¶æ¬¡ï¼Œç½‘æ ¼ DFS ä¸­çš„ base case æ˜¯ä»€ä¹ˆï¼Ÿä»äºŒå‰æ ‘çš„ base case å¯¹åº”è¿‡æ¥ï¼Œåº”è¯¥æ˜¯ç½‘æ ¼ä¸­ä¸éœ€è¦ç»§ç»­éå†ã€grid[r] [c] ä¼šå‡ºç°æ•°ç»„ä¸‹æ ‡è¶Šç•Œå¼‚å¸¸çš„æ ¼å­ï¼Œä¹Ÿå°±æ˜¯é‚£äº›è¶…å‡ºç½‘æ ¼èŒƒå›´çš„æ ¼å­ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/5a91ec351bcbe8e631e7e3e44e062794d6e53af95f6a5c778de369365b9d994e.jpg" alt="ç½‘æ ¼ DFS çš„ base case"></p>
<p>è¿™ä¸€ç‚¹ç¨å¾®æœ‰äº›åç›´è§‰ï¼Œåæ ‡ç«Ÿç„¶å¯ä»¥ä¸´æ—¶è¶…å‡ºç½‘æ ¼çš„èŒƒå›´ï¼Ÿè¿™ç§æ–¹æ³•æˆ‘ç§°ä¸ºã€Œå…ˆæ±¡æŸ“åæ²»ç†ã€â€”â€” ç”­ç®¡å½“å‰æ˜¯åœ¨å“ªä¸ªæ ¼å­ï¼Œå…ˆå¾€å››ä¸ªæ–¹å‘èµ°ä¸€æ­¥å†è¯´ï¼Œå¦‚æœå‘ç°èµ°å‡ºäº†ç½‘æ ¼èŒƒå›´å†èµ¶ç´§è¿”å›ã€‚è¿™è·ŸäºŒå‰æ ‘çš„éå†æ–¹æ³•æ˜¯ä¸€æ ·çš„ï¼Œå…ˆé€’å½’è°ƒç”¨ï¼Œå‘ç° root &#x3D;&#x3D; null å†è¿”å›ã€‚</p>
<p>è¿™æ ·ï¼Œæˆ‘ä»¬å¾—åˆ°äº†ç½‘æ ¼ DFS éå†çš„æ¡†æ¶ä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span>[][] grid, <span class="type">int</span> r, <span class="type">int</span> c)</span> &#123;</span><br><span class="line">    <span class="comment">// åˆ¤æ–­ base case</span></span><br><span class="line">    <span class="comment">// å¦‚æœåæ ‡ (r, c) è¶…å‡ºäº†ç½‘æ ¼èŒƒå›´ï¼Œç›´æ¥è¿”å›</span></span><br><span class="line">    <span class="keyword">if</span> (!inArea(grid, r, c)) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// è®¿é—®ä¸Šã€ä¸‹ã€å·¦ã€å³å››ä¸ªç›¸é‚»ç»“ç‚¹</span></span><br><span class="line">    dfs(grid, r - <span class="number">1</span>, c);</span><br><span class="line">    dfs(grid, r + <span class="number">1</span>, c);</span><br><span class="line">    dfs(grid, r, c - <span class="number">1</span>);</span><br><span class="line">    dfs(grid, r, c + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ¤æ–­åæ ‡ (r, c) æ˜¯å¦åœ¨ç½‘æ ¼ä¸­</span></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">inArea</span><span class="params">(<span class="type">int</span>[][] grid, <span class="type">int</span> r, <span class="type">int</span> c)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span> &lt;= r &amp;&amp; r &lt; grid.length </span><br><span class="line">        	&amp;&amp; <span class="number">0</span> &lt;= c &amp;&amp; c &lt; grid[<span class="number">0</span>].length;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="å¦‚ä½•é¿å…é‡å¤éå†"><a href="#å¦‚ä½•é¿å…é‡å¤éå†" class="headerlink" title="å¦‚ä½•é¿å…é‡å¤éå†"></a>å¦‚ä½•é¿å…é‡å¤éå†</h4><p>ç½‘æ ¼ç»“æ„çš„ DFS ä¸äºŒå‰æ ‘çš„ DFS æœ€å¤§çš„ä¸åŒä¹‹å¤„åœ¨äºï¼Œéå†ä¸­å¯èƒ½é‡åˆ°éå†è¿‡çš„ç»“ç‚¹ã€‚è¿™æ˜¯å› ä¸ºï¼Œç½‘æ ¼ç»“æ„æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªã€Œå›¾ã€ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠæ¯ä¸ªæ ¼å­çœ‹æˆå›¾ä¸­çš„ç»“ç‚¹ï¼Œæ¯ä¸ªç»“ç‚¹æœ‰å‘ä¸Šä¸‹å·¦å³çš„å››æ¡è¾¹ã€‚åœ¨å›¾ä¸­éå†æ—¶ï¼Œè‡ªç„¶å¯èƒ½é‡åˆ°é‡å¤éå†ç»“ç‚¹ã€‚</p>
<p>è¿™æ—¶å€™ï¼ŒDFS å¯èƒ½ä¼šä¸åœåœ°ã€Œå…œåœˆå­ã€ï¼Œæ°¸è¿œåœä¸ä¸‹æ¥ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/7fec64afe8ab72c5df17d6a41a9cc9ba3879f58beec54a8791cbf108b9fd0685.gif" alt="DFS éå†å¯èƒ½ä¼šå…œåœˆå­ï¼ˆåŠ¨å›¾ï¼‰"></p>
<p>å¦‚ä½•é¿å…è¿™æ ·çš„é‡å¤éå†å‘¢ï¼Ÿç­”æ¡ˆæ˜¯æ ‡è®°å·²ç»éå†è¿‡çš„æ ¼å­ã€‚ä»¥å²›å±¿é—®é¢˜ä¸ºä¾‹ï¼Œæˆ‘ä»¬éœ€è¦åœ¨æ‰€æœ‰å€¼ä¸º 1 çš„é™†åœ°æ ¼å­ä¸Šåš DFS éå†ã€‚æ¯èµ°è¿‡ä¸€ä¸ªé™†åœ°æ ¼å­ï¼Œå°±æŠŠæ ¼å­çš„å€¼æ”¹ä¸º 2ï¼Œè¿™æ ·å½“æˆ‘ä»¬é‡åˆ° 2 çš„æ—¶å€™ï¼Œå°±çŸ¥é“è¿™æ˜¯éå†è¿‡çš„æ ¼å­äº†ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ¯ä¸ªæ ¼å­å¯èƒ½å–ä¸‰ä¸ªå€¼ï¼š</p>
<p>0 â€”â€” æµ·æ´‹æ ¼å­<br>1 â€”â€” é™†åœ°æ ¼å­ï¼ˆæœªéå†è¿‡ï¼‰<br>2 â€”â€” é™†åœ°æ ¼å­ï¼ˆå·²éå†è¿‡ï¼‰<br>æˆ‘ä»¬åœ¨æ¡†æ¶ä»£ç ä¸­åŠ å…¥é¿å…é‡å¤éå†çš„è¯­å¥ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span>[][] grid, <span class="type">int</span> r, <span class="type">int</span> c)</span> &#123;</span><br><span class="line">    <span class="comment">// åˆ¤æ–­ base case</span></span><br><span class="line">    <span class="keyword">if</span> (!inArea(grid, r, c)) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å¦‚æœè¿™ä¸ªæ ¼å­ä¸æ˜¯å²›å±¿ï¼Œç›´æ¥è¿”å›</span></span><br><span class="line">    <span class="keyword">if</span> (grid[r][c] != <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    grid[r][c] = <span class="number">2</span>; <span class="comment">// å°†æ ¼å­æ ‡è®°ä¸ºã€Œå·²éå†è¿‡ã€</span></span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">    <span class="comment">// è®¿é—®ä¸Šã€ä¸‹ã€å·¦ã€å³å››ä¸ªç›¸é‚»ç»“ç‚¹</span></span><br><span class="line">    dfs(grid, r - <span class="number">1</span>, c);</span><br><span class="line">    dfs(grid, r + <span class="number">1</span>, c);</span><br><span class="line">    dfs(grid, r, c - <span class="number">1</span>);</span><br><span class="line">    dfs(grid, r, c + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ¤æ–­åæ ‡ (r, c) æ˜¯å¦åœ¨ç½‘æ ¼ä¸­</span></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">inArea</span><span class="params">(<span class="type">int</span>[][] grid, <span class="type">int</span> r, <span class="type">int</span> c)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span> &lt;= r &amp;&amp; r &lt; grid.length </span><br><span class="line">        	&amp;&amp; <span class="number">0</span> &lt;= c &amp;&amp; c &lt; grid[<span class="number">0</span>].length;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p>è¿™æ ·ï¼Œæˆ‘ä»¬å°±å¾—åˆ°äº†ä¸€ä¸ªå²›å±¿é—®é¢˜ã€ä¹ƒè‡³å„ç§ç½‘æ ¼é—®é¢˜çš„é€šç”¨ DFS éå†æ–¹æ³•ã€‚ä»¥ä¸‹æ‰€è®²çš„å‡ ä¸ªä¾‹é¢˜ï¼Œå…¶å®éƒ½åªéœ€è¦åœ¨ DFS éå†æ¡†æ¶ä¸Šç¨åŠ ä¿®æ”¹è€Œå·²ã€‚</p>
<p>å°è´´å£«ï¼š</p>
<blockquote>
<p>åœ¨ä¸€äº›é¢˜è§£ä¸­ï¼Œå¯èƒ½ä¼šæŠŠã€Œå·²éå†è¿‡çš„é™†åœ°æ ¼å­ã€æ ‡è®°ä¸ºå’Œæµ·æ´‹æ ¼å­ä¸€æ ·çš„ 0ï¼Œç¾å…¶åæ›°ã€Œé™†åœ°æ²‰æ²¡æ–¹æ³•ã€ï¼Œå³éå†å®Œä¸€ä¸ªé™†åœ°æ ¼å­å°±è®©é™†åœ°ã€Œæ²‰æ²¡ã€ä¸ºæµ·æ´‹ã€‚è¿™ç§æ–¹æ³•çœ‹ä¼¼å¾ˆå·§å¦™ï¼Œä½†å®é™…ä¸Šæœ‰å¾ˆå¤§éšæ‚£ï¼Œå› ä¸ºè¿™æ ·æˆ‘ä»¬å°±æ— æ³•åŒºåˆ†ã€Œæµ·æ´‹æ ¼å­ã€å’Œã€Œå·²éå†è¿‡çš„é™†åœ°æ ¼å­ã€äº†ã€‚å¦‚æœé¢˜ç›®æ›´å¤æ‚ä¸€ç‚¹ï¼Œè¿™å¾ˆå®¹æ˜“å‡º bugã€‚</p>
</blockquote>
<h3 id="4-8ã€LC463-å²›å±¿çš„å‘¨é•¿"><a href="#4-8ã€LC463-å²›å±¿çš„å‘¨é•¿" class="headerlink" title="4.8ã€LC463. å²›å±¿çš„å‘¨é•¿"></a>4.8ã€LC463. å²›å±¿çš„å‘¨é•¿</h3><p>ç»™å®šä¸€ä¸ª <code>row x col</code> çš„äºŒç»´ç½‘æ ¼åœ°å›¾ <code>grid</code> ï¼Œå…¶ä¸­ï¼š<code>grid[i][j] = 1</code> è¡¨ç¤ºé™†åœ°ï¼Œ <code>grid[i][j] = 0</code> è¡¨ç¤ºæ°´åŸŸã€‚</p>
<p>ç½‘æ ¼ä¸­çš„æ ¼å­ <strong>æ°´å¹³å’Œå‚ç›´</strong> æ–¹å‘ç›¸è¿ï¼ˆå¯¹è§’çº¿æ–¹å‘ä¸ç›¸è¿ï¼‰ã€‚æ•´ä¸ªç½‘æ ¼è¢«æ°´å®Œå…¨åŒ…å›´ï¼Œä½†å…¶ä¸­æ°å¥½æœ‰ä¸€ä¸ªå²›å±¿ï¼ˆæˆ–è€…è¯´ï¼Œä¸€ä¸ªæˆ–å¤šä¸ªè¡¨ç¤ºé™†åœ°çš„æ ¼å­ç›¸è¿ç»„æˆçš„å²›å±¿ï¼‰ã€‚</p>
<p>å²›å±¿ä¸­æ²¡æœ‰â€œæ¹–â€ï¼ˆâ€œæ¹–â€ æŒ‡æ°´åŸŸåœ¨å²›å±¿å†…éƒ¨ä¸”ä¸å’Œå²›å±¿å‘¨å›´çš„æ°´ç›¸è¿ï¼‰ã€‚æ ¼å­æ˜¯è¾¹é•¿ä¸º 1 çš„æ­£æ–¹å½¢ã€‚ç½‘æ ¼ä¸ºé•¿æ–¹å½¢ï¼Œä¸”å®½åº¦å’Œé«˜åº¦å‡ä¸è¶…è¿‡ 100 ã€‚è®¡ç®—è¿™ä¸ªå²›å±¿çš„å‘¨é•¿ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/island.png" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šgrid = [[0,1,0,0],[1,1,1,0],[0,1,0,0],[1,1,0,0]]</span><br><span class="line">è¾“å‡ºï¼š16</span><br><span class="line">è§£é‡Šï¼šå®ƒçš„å‘¨é•¿æ˜¯ä¸Šé¢å›¾ç‰‡ä¸­çš„ 16 ä¸ªé»„è‰²çš„è¾¹</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šgrid = [[1]]</span><br><span class="line">è¾“å‡ºï¼š4</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šgrid = [[1,0]]</span><br><span class="line">è¾“å‡ºï¼š4</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>row == grid.length</code></li>
<li><code>col == grid[i].length</code></li>
<li><code>1 &lt;= row, col &lt;= 100</code></li>
<li><code>grid[i][j]</code> ä¸º <code>0</code> æˆ– <code>1</code></li>
</ul>
<p>Related Topics</p>
<p>æ·±åº¦ä¼˜å…ˆæœç´¢</p>
<p>å¹¿åº¦ä¼˜å…ˆæœç´¢</p>
<p>æ•°ç»„</p>
<p>çŸ©é˜µ</p>
<p>ğŸ‘ 628</p>
<p>ğŸ‘ 0</p>
<h4 id="è§£æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢"><a href="#è§£æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢" class="headerlink" title="è§£æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢"></a>è§£æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢</h4><h5 id="å¦‚ä½•åœ¨ç½‘æ ¼ä¸Šåš-DFS"><a href="#å¦‚ä½•åœ¨ç½‘æ ¼ä¸Šåš-DFS" class="headerlink" title="å¦‚ä½•åœ¨ç½‘æ ¼ä¸Šåš DFS"></a>å¦‚ä½•åœ¨ç½‘æ ¼ä¸Šåš DFS</h5><p>ç½‘æ ¼é—®é¢˜æ˜¯è¿™æ ·ä¸€ç±»æœç´¢é—®é¢˜ï¼šæœ‰ m Ã— n ä¸ªå°æ–¹æ ¼ï¼Œç»„æˆä¸€ä¸ªç½‘æ ¼ï¼Œæ¯ä¸ªå°æ–¹æ ¼ä¸å…¶ä¸Šä¸‹å·¦å³å››ä¸ªæ–¹æ ¼è®¤ä¸ºæ˜¯ç›¸é‚»çš„ï¼Œè¦åœ¨è¿™æ ·çš„ç½‘æ ¼ä¸Šè¿›è¡ŒæŸç§æœç´¢ã€‚è¿™ç§é¢˜ç›®ä¹ä¸€çœ‹å¯èƒ½æœ‰ç‚¹éº»çƒ¦ï¼Œå®é™…ä¸Šéå¸¸ç®€å•ï¼Œå°¤å…¶æ˜¯ç”¨ DFS çš„æ–¹æ³•ã€‚é¢˜ç›®æ²¡æœ‰é™åˆ¶çš„è¯ï¼Œæˆ‘ä»¬å°½é‡ç”¨ DFS æ¥å†™ä»£ç ã€‚</p>
<p>ä¸‹é¢æˆ‘ä»¬ä¸€æ­¥æ­¥åœ°æ„é€ å‡ºæ–¹æ ¼ç±» DFS çš„ä»£ç ã€‚</p>
<p>é¦–å…ˆï¼Œæ¯ä¸ªæ–¹æ ¼ä¸å…¶ä¸Šä¸‹å·¦å³çš„å››ä¸ªæ–¹æ ¼ç›¸é‚»ï¼Œåˆ™ DFS æ¯æ¬¡è¦åˆ†å‡ºå››ä¸ªå²”ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åŸºæœ¬çš„ DFS æ¡†æ¶ï¼šæ¯æ¬¡æœç´¢å››ä¸ªç›¸é‚»æ–¹æ ¼</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span>[][] grid, <span class="type">int</span> r, <span class="type">int</span> c)</span> &#123;</span><br><span class="line">    dfs(grid, r - <span class="number">1</span>, c); <span class="comment">// ä¸Šè¾¹ç›¸é‚»</span></span><br><span class="line">    dfs(grid, r + <span class="number">1</span>, c); <span class="comment">// ä¸‹è¾¹ç›¸é‚»</span></span><br><span class="line">    dfs(grid, r, c - <span class="number">1</span>); <span class="comment">// å·¦è¾¹ç›¸é‚»</span></span><br><span class="line">    dfs(grid, r, c + <span class="number">1</span>); <span class="comment">// å³è¾¹ç›¸é‚»</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯ï¼Œå¯¹äºç½‘æ ¼è¾¹ç¼˜çš„æ–¹æ ¼ï¼Œä¸Šä¸‹å·¦å³å¹¶ä¸éƒ½æœ‰é‚»å±…ã€‚ä¸€ç§åšæ³•æ˜¯åœ¨é€’å½’è°ƒç”¨ä¹‹å‰åˆ¤æ–­æ–¹æ ¼çš„ä½ç½®ï¼Œä¾‹å¦‚ä½äºå·¦è¾¹ç¼˜ï¼Œåˆ™ä¸è®¿é—®å…¶å·¦é‚»å±…ã€‚ä½†è¿™æ ·ä¸€ä¸ªä¸€ä¸ªåˆ¤æ–­å†™èµ·æ¥æ¯”è¾ƒéº»çƒ¦ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨â€œå…ˆæ±¡æŸ“åæ²»ç†â€çš„æ–¹æ³•ï¼Œå…ˆåšé€’å½’è°ƒç”¨ï¼Œå†åœ¨æ¯ä¸ª DFS å‡½æ•°çš„å¼€å¤´åˆ¤æ–­åæ ‡æ˜¯å¦åˆæ³•ï¼Œä¸åˆæ³•çš„ç›´æ¥è¿”å›ã€‚åŒæ ·åœ°ï¼Œæˆ‘ä»¬è¿˜éœ€è¦åˆ¤æ–­è¯¥æ–¹æ ¼æ˜¯å¦æœ‰å²›å±¿ï¼ˆå€¼æ˜¯å¦ä¸º 1ï¼‰ï¼Œå¦åˆ™ä¹Ÿéœ€è¦è¿”å›ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¤„ç†æ–¹æ ¼ä½äºç½‘æ ¼è¾¹ç¼˜çš„æƒ…å†µ</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span>[][] grid, <span class="type">int</span> r, <span class="type">int</span> c)</span> &#123;</span><br><span class="line">    <span class="comment">// è‹¥åæ ‡ä¸åˆæ³•ï¼Œç›´æ¥è¿”å›</span></span><br><span class="line">    <span class="keyword">if</span> (!(<span class="number">0</span> &lt;= r &amp;&amp; r &lt; grid.length &amp;&amp; <span class="number">0</span> &lt;= c &amp;&amp; c &lt; grid[<span class="number">0</span>].length)) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// è‹¥è¯¥æ–¹æ ¼ä¸æ˜¯å²›å±¿ï¼Œç›´æ¥è¿”å›</span></span><br><span class="line">    <span class="keyword">if</span> (grid[r][c] != <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    dfs(grid, r - <span class="number">1</span>, c);</span><br><span class="line">    dfs(grid, r + <span class="number">1</span>, c);</span><br><span class="line">    dfs(grid, r, c - <span class="number">1</span>);</span><br><span class="line">    dfs(grid, r, c + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯è¿™æ ·è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼šDFS å¯èƒ½ä¼šä¸åœåœ°â€œå…œåœˆå­â€ï¼Œæ°¸è¿œåœä¸ä¸‹æ¥ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/70e6e96cd5fa278ef59cf716664a153fb5bb8f0748a121a249c0292d37685500.gif" alt="éå†ä¼šå…œåœˆå­"></p>
<p>é‚£ä¹ˆæˆ‘ä»¬éœ€è¦æ ‡è®°éå†è¿‡çš„æ–¹æ ¼ï¼Œä¿è¯æ–¹æ ¼ä¸è¿›è¡Œé‡å¤éå†ã€‚æ ‡è®°éå†è¿‡çš„æ–¹æ ¼å¹¶ä¸éœ€è¦ä½¿ç”¨é¢å¤–çš„ç©ºé—´ï¼Œåªéœ€è¦æ”¹å˜æ–¹æ ¼ä¸­å­˜å‚¨çš„å€¼å°±å¯ä»¥ã€‚åœ¨è¿™é“é¢˜ä¸­ï¼Œå€¼ä¸º 0 è¡¨ç¤ºéå²›å±¿ï¼ˆä¸å¯éå†ï¼‰ï¼Œå€¼ä¸º 1 è¡¨ç¤ºå²›å±¿ï¼ˆå¯éå†ï¼‰ï¼Œæˆ‘ä»¬ç”¨ 2 è¡¨ç¤ºå·²éå†è¿‡çš„å²›å±¿ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/602b96c3605464103d5693777713eab579d4b7321d8c44bd6429d56ad4f035e4.gif" alt="æ ‡è®°å·²éå†æ–¹æ ¼"></p>
<p>è¿™æ ·ï¼Œæˆ‘ä»¬å°±å¾—åˆ°äº†ç½‘æ ¼ DFS éå†çš„æ¡†æ¶ä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ ‡è®°å·²éå†è¿‡çš„å²›å±¿ï¼Œä¸åšé‡å¤éå†</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span>[][] grid, <span class="type">int</span> r, <span class="type">int</span> c)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (!(<span class="number">0</span> &lt;= r &amp;&amp; r &lt; grid.length &amp;&amp; <span class="number">0</span> &lt;= c &amp;&amp; c &lt; grid[<span class="number">0</span>].length)) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å·²éå†è¿‡ï¼ˆå€¼ä¸º2ï¼‰çš„å²›å±¿åœ¨è¿™é‡Œä¼šç›´æ¥è¿”å›ï¼Œä¸ä¼šé‡å¤éå†</span></span><br><span class="line">    <span class="keyword">if</span> (grid[r][c] != <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    grid[r][c] = <span class="number">2</span>; <span class="comment">// å°†æ–¹æ ¼æ ‡è®°ä¸º&quot;å·²éå†&quot;</span></span><br><span class="line">    dfs(grid, r - <span class="number">1</span>, c); </span><br><span class="line">    dfs(grid, r + <span class="number">1</span>, c);</span><br><span class="line">    dfs(grid, r, c - <span class="number">1</span>);</span><br><span class="line">    dfs(grid, r, c + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="å¦‚ä½•åœ¨-DFS-éå†æ—¶æ±‚å²›å±¿çš„å‘¨é•¿"><a href="#å¦‚ä½•åœ¨-DFS-éå†æ—¶æ±‚å²›å±¿çš„å‘¨é•¿" class="headerlink" title="å¦‚ä½•åœ¨ DFS éå†æ—¶æ±‚å²›å±¿çš„å‘¨é•¿"></a>å¦‚ä½•åœ¨ DFS éå†æ—¶æ±‚å²›å±¿çš„å‘¨é•¿</h5><p>æ±‚å²›å±¿çš„å‘¨é•¿å…¶å®æœ‰å¾ˆå¤šç§æ–¹æ³•ï¼Œå¦‚æœç”¨ DFS éå†æ¥æ±‚çš„è¯ï¼Œæœ‰ä¸€ç§å¾ˆç®€å•çš„æ€è·¯ï¼šå²›å±¿çš„å‘¨é•¿å°±æ˜¯å²›å±¿æ–¹æ ¼å’Œéå²›å±¿æ–¹æ ¼ç›¸é‚»çš„è¾¹çš„æ•°é‡ã€‚æ³¨æ„ï¼Œè¿™é‡Œçš„éå²›å±¿æ–¹æ ¼ï¼Œæ—¢åŒ…æ‹¬æ°´åŸŸæ–¹æ ¼ï¼Œä¹ŸåŒ…æ‹¬ç½‘æ ¼çš„è¾¹ç•Œã€‚æˆ‘ä»¬å¯ä»¥ç”»ä¸€å¼ å›¾ï¼Œçœ‹å¾—æ›´æ¸…æ™°ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/e0e2314bb62cb06383e6128a6ba2b75e7c942cc5a36dedc32d0b39868a597629.jpg" alt="å²›å±¿å‘¨é•¿çš„ä¸¤ç±»åˆ’åˆ†"></p>
<p>å°†è¿™ä¸ªâ€œç›¸é‚»å…³ç³»â€å¯¹åº”åˆ° DFS éå†ä¸­ï¼Œå°±æ˜¯ï¼šæ¯å½“åœ¨ DFS éå†ä¸­ï¼Œä»ä¸€ä¸ªå²›å±¿æ–¹æ ¼èµ°å‘ä¸€ä¸ªéå²›å±¿æ–¹æ ¼ï¼Œå°±å°†å‘¨é•¿åŠ  1ã€‚ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span>[][] grid, <span class="type">int</span> r, <span class="type">int</span> c)</span> &#123;</span><br><span class="line">    <span class="comment">// ä»ä¸€ä¸ªå²›å±¿æ–¹æ ¼èµ°å‘ç½‘æ ¼è¾¹ç•Œï¼Œå‘¨é•¿åŠ  1</span></span><br><span class="line">    <span class="keyword">if</span> (!(<span class="number">0</span> &lt;= r &amp;&amp; r &lt; grid.length &amp;&amp; <span class="number">0</span> &lt;= c &amp;&amp; c &lt; grid[<span class="number">0</span>].length)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ä»ä¸€ä¸ªå²›å±¿æ–¹æ ¼èµ°å‘æ°´åŸŸæ–¹æ ¼ï¼Œå‘¨é•¿åŠ  1</span></span><br><span class="line">    <span class="keyword">if</span> (grid[r][c] == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (grid[r][c] != <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    grid[r][c] = <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">return</span> dfs(grid, r - <span class="number">1</span>, c)</span><br><span class="line">        + dfs(grid, r + <span class="number">1</span>, c)</span><br><span class="line">        + dfs(grid, r, c - <span class="number">1</span>)</span><br><span class="line">        + dfs(grid, r, c + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æœ€ç»ˆï¼Œæˆ‘ä»¬å¾—åˆ°å®Œæ•´çš„é¢˜è§£ä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">islandPerimeter</span><span class="params">(<span class="type">int</span>[][] grid)</span> &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">r</span> <span class="operator">=</span> <span class="number">0</span>; r &lt; grid.length; r++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> <span class="number">0</span>; c &lt; grid[<span class="number">0</span>].length; c++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (grid[r][c] == <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="comment">// é¢˜ç›®é™åˆ¶åªæœ‰ä¸€ä¸ªå²›å±¿ï¼Œè®¡ç®—ä¸€ä¸ªå³å¯</span></span><br><span class="line">                <span class="keyword">return</span> dfs(grid, r, c);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span>[][] grid, <span class="type">int</span> r, <span class="type">int</span> c)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (!(<span class="number">0</span> &lt;= r &amp;&amp; r &lt; grid.length &amp;&amp; <span class="number">0</span> &lt;= c &amp;&amp; c &lt; grid[<span class="number">0</span>].length)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (grid[r][c] == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (grid[r][c] != <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    grid[r][c] = <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">return</span> dfs(grid, r - <span class="number">1</span>, c)</span><br><span class="line">        + dfs(grid, r + <span class="number">1</span>, c)</span><br><span class="line">        + dfs(grid, r, c - <span class="number">1</span>)</span><br><span class="line">        + dfs(grid, r, c + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong></p>
<ul>
<li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(MN)ï¼Œå…¶ä¸­ M å’Œ N åˆ†åˆ«ä¸ºè¡Œæ•°å’Œåˆ—æ•°ã€‚</p>
</li>
<li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(MN)ï¼Œåœ¨æœ€åæƒ…å†µä¸‹ï¼Œæ•´ä¸ªç½‘æ ¼å‡ä¸ºé™†åœ°ï¼Œæ·±åº¦ä¼˜å…ˆæœç´¢çš„æ·±åº¦è¾¾åˆ° MNã€‚</p>
</li>
</ul>
<h3 id="4-9ã€LC200-å²›å±¿æ•°é‡"><a href="#4-9ã€LC200-å²›å±¿æ•°é‡" class="headerlink" title="4.9ã€LC200. å²›å±¿æ•°é‡"></a>4.9ã€LC200. å²›å±¿æ•°é‡</h3><p>ç»™ä½ ä¸€ä¸ªç”± <code>&#39;1&#39;</code>ï¼ˆé™†åœ°ï¼‰å’Œ <code>&#39;0&#39;</code>ï¼ˆæ°´ï¼‰ç»„æˆçš„çš„äºŒç»´ç½‘æ ¼ï¼Œè¯·ä½ è®¡ç®—ç½‘æ ¼ä¸­å²›å±¿çš„æ•°é‡ã€‚</p>
<p>å²›å±¿æ€»æ˜¯è¢«æ°´åŒ…å›´ï¼Œå¹¶ä¸”æ¯åº§å²›å±¿åªèƒ½ç”±æ°´å¹³æ–¹å‘å’Œ&#x2F;æˆ–ç«–ç›´æ–¹å‘ä¸Šç›¸é‚»çš„é™†åœ°è¿æ¥å½¢æˆã€‚</p>
<p>æ­¤å¤–ï¼Œä½ å¯ä»¥å‡è®¾è¯¥ç½‘æ ¼çš„å››æ¡è¾¹å‡è¢«æ°´åŒ…å›´ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šgrid = [</span><br><span class="line">  [&quot;1&quot;,&quot;1&quot;,&quot;1&quot;,&quot;1&quot;,&quot;0&quot;],</span><br><span class="line">  [&quot;1&quot;,&quot;1&quot;,&quot;0&quot;,&quot;1&quot;,&quot;0&quot;],</span><br><span class="line">  [&quot;1&quot;,&quot;1&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;],</span><br><span class="line">  [&quot;0&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;]</span><br><span class="line">]</span><br><span class="line">è¾“å‡ºï¼š1</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šgrid = [</span><br><span class="line">  [&quot;1&quot;,&quot;1&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;],</span><br><span class="line">  [&quot;1&quot;,&quot;1&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;],</span><br><span class="line">  [&quot;0&quot;,&quot;0&quot;,&quot;1&quot;,&quot;0&quot;,&quot;0&quot;],</span><br><span class="line">  [&quot;0&quot;,&quot;0&quot;,&quot;0&quot;,&quot;1&quot;,&quot;1&quot;]</span><br><span class="line">]</span><br><span class="line">è¾“å‡ºï¼š3</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>m == grid.length</code></li>
<li><code>n == grid[i].length</code></li>
<li><code>1 &lt;= m, n &lt;= 300</code></li>
<li><code>grid[i][j]</code> çš„å€¼ä¸º <code>&#39;0&#39;</code> æˆ– <code>&#39;1&#39;</code></li>
</ul>
<p>Related Topics</p>
<p>æ·±åº¦ä¼˜å…ˆæœç´¢</p>
<p>å¹¿åº¦ä¼˜å…ˆæœç´¢</p>
<p>å¹¶æŸ¥é›†</p>
<p>æ•°ç»„</p>
<p>çŸ©é˜µ</p>
<p>ğŸ‘ 2027</p>
<p>ğŸ‘ 0</p>
<h4 id="æ·±åº¦ä¼˜å…ˆæœç´¢"><a href="#æ·±åº¦ä¼˜å…ˆæœç´¢" class="headerlink" title="æ·±åº¦ä¼˜å…ˆæœç´¢"></a>æ·±åº¦ä¼˜å…ˆæœç´¢</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">numIslands</span><span class="params">(<span class="type">char</span>[][] grid)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>; <span class="comment">// å²›å±¿æ•°é‡</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">r</span> <span class="operator">=</span> <span class="number">0</span>; r &lt; grid.length; r++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> <span class="number">0</span>; c &lt; grid[<span class="number">0</span>].length; c++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (grid[r][c] == <span class="string">&#x27;1&#x27;</span>) &#123;</span><br><span class="line">                    dfs(grid, r, c);</span><br><span class="line">                    count++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> count;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(<span class="type">char</span>[][] grid, <span class="type">int</span> r, <span class="type">int</span> c)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (!(r &gt;= <span class="number">0</span> &amp;&amp; r &lt; grid.length &amp;&amp; c &gt;= <span class="number">0</span> &amp;&amp; c &lt; grid[<span class="number">0</span>].length)) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (grid[r][c] != <span class="string">&#x27;1&#x27;</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        grid[r][c] = <span class="string">&#x27;2&#x27;</span>; <span class="comment">// é˜²æ­¢æ­»å¾ªç¯</span></span><br><span class="line">        dfs(grid, r + <span class="number">1</span>, c);</span><br><span class="line">        dfs(grid, r - <span class="number">1</span>, c);</span><br><span class="line">        dfs(grid, r, c + <span class="number">1</span>);</span><br><span class="line">        dfs(grid, r, c - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong></p>
<ul>
<li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(MN)ï¼Œå…¶ä¸­ M å’Œ N åˆ†åˆ«ä¸ºè¡Œæ•°å’Œåˆ—æ•°ã€‚</p>
</li>
<li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(MN)ï¼Œåœ¨æœ€åæƒ…å†µä¸‹ï¼Œæ•´ä¸ªç½‘æ ¼å‡ä¸ºé™†åœ°ï¼Œæ·±åº¦ä¼˜å…ˆæœç´¢çš„æ·±åº¦è¾¾åˆ° MNã€‚</p>
</li>
</ul>
<h3 id="4-10ã€LC695-å²›å±¿çš„æœ€å¤§é¢ç§¯"><a href="#4-10ã€LC695-å²›å±¿çš„æœ€å¤§é¢ç§¯" class="headerlink" title="4.10ã€LC695. å²›å±¿çš„æœ€å¤§é¢ç§¯"></a>4.10ã€LC695. å²›å±¿çš„æœ€å¤§é¢ç§¯</h3><p>ç»™å®šä¸€ä¸ªç”± <code>0</code> å’Œ <code>1</code> ç»„æˆçš„éç©ºäºŒç»´æ•°ç»„ <code>grid</code> ï¼Œç”¨æ¥è¡¨ç¤ºæµ·æ´‹å²›å±¿åœ°å›¾ã€‚</p>
<p>ä¸€ä¸ª <strong>å²›å±¿</strong> æ˜¯ç”±ä¸€äº›ç›¸é‚»çš„ <code>1</code> (ä»£è¡¨åœŸåœ°) æ„æˆçš„ç»„åˆï¼Œè¿™é‡Œçš„ã€Œç›¸é‚»ã€è¦æ±‚ä¸¤ä¸ª <code>1</code> å¿…é¡»åœ¨æ°´å¹³æˆ–è€…ç«–ç›´æ–¹å‘ä¸Šç›¸é‚»ã€‚ä½ å¯ä»¥å‡è®¾ <code>grid</code> çš„å››ä¸ªè¾¹ç¼˜éƒ½è¢« <code>0</code>ï¼ˆä»£è¡¨æ°´ï¼‰åŒ…å›´ç€ã€‚</p>
<p>æ‰¾åˆ°ç»™å®šçš„äºŒç»´æ•°ç»„ä¸­æœ€å¤§çš„å²›å±¿é¢ç§¯ã€‚å¦‚æœæ²¡æœ‰å²›å±¿ï¼Œåˆ™è¿”å›é¢ç§¯ä¸º <code>0</code> ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1626667010-nSGPXz-image.png" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: grid = [[0,0,1,0,0,0,0,1,0,0,0,0,0],[0,0,0,0,0,0,0,1,1,1,0,0,0],[0,1,1,0,1,0,0,0,0,0,0,0,0],[0,1,0,0,1,1,0,0,1,0,1,0,0],[0,1,0,0,1,1,0,0,1,1,1,0,0],[0,0,0,0,0,0,0,0,0,0,1,0,0],[0,0,0,0,0,0,0,1,1,1,0,0,0],[0,0,0,0,0,0,0,1,1,0,0,0,0]]</span><br><span class="line">è¾“å‡º: 6</span><br><span class="line">è§£é‡Š: å¯¹äºä¸Šé¢è¿™ä¸ªç»™å®šçŸ©é˜µåº”è¿”å› 6ã€‚æ³¨æ„ç­”æ¡ˆä¸åº”è¯¥æ˜¯ 11 ï¼Œå› ä¸ºå²›å±¿åªèƒ½åŒ…å«æ°´å¹³æˆ–å‚ç›´çš„å››ä¸ªæ–¹å‘çš„ 1 ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: grid = [[0,0,0,0,0,0,0,0]]</span><br><span class="line">è¾“å‡º: 0</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>m == grid.length</code></li>
<li><code>n == grid[i].length</code></li>
<li><code>1 &lt;= m, n &lt;= 50</code></li>
<li><code>grid[i][j] is either 0 or 1</code></li>
</ul>
<p>æ³¨æ„ï¼šæœ¬é¢˜ä¸ä¸»ç«™ 695 é¢˜ç›¸åŒï¼š <a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/max-area-of-island/">https://leetcode-cn.com/problems/max-area-of-island/</a></p>
<p>Related Topics</p>
<p>æ·±åº¦ä¼˜å…ˆæœç´¢</p>
<p>å¹¿åº¦ä¼˜å…ˆæœç´¢</p>
<p>å¹¶æŸ¥é›†</p>
<p>æ•°ç»„</p>
<p>çŸ©é˜µ</p>
<p>ğŸ‘ 66</p>
<p>ğŸ‘ 0</p>
<h4 id="æ·±åº¦ä¼˜å…ˆæœç´¢-1"><a href="#æ·±åº¦ä¼˜å…ˆæœç´¢-1" class="headerlink" title="æ·±åº¦ä¼˜å…ˆæœç´¢"></a>æ·±åº¦ä¼˜å…ˆæœç´¢</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxAreaOfIsland</span><span class="params">(<span class="type">int</span>[][] grid)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>; <span class="comment">// å²›å±¿æœ€å¤§é¢ç§¯</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">r</span> <span class="operator">=</span> <span class="number">0</span>; r &lt; grid.length; r++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> <span class="number">0</span>; c &lt; grid[<span class="number">0</span>].length; c++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (grid[r][c] == <span class="number">1</span>) &#123;</span><br><span class="line">                    res = Math.max(res, dfs(grid, r, c));</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span>[][] grid, <span class="type">int</span> r, <span class="type">int</span> c)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (!(r &gt;= <span class="number">0</span> &amp;&amp; r &lt; grid.length &amp;&amp; c &gt;= <span class="number">0</span> &amp;&amp; c &lt; grid[<span class="number">0</span>].length)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (grid[r][c] != <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        grid[r][c] = <span class="number">2</span>; <span class="comment">// é˜²æ­¢æ­»å¾ªç¯</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span> + dfs(grid, r + <span class="number">1</span>, c)</span><br><span class="line">        + dfs(grid, r - <span class="number">1</span>, c)</span><br><span class="line">        + dfs(grid, r, c + <span class="number">1</span>)</span><br><span class="line">        + dfs(grid, r, c - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong></p>
<ul>
<li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(MN)ï¼Œå…¶ä¸­ M å’Œ N åˆ†åˆ«ä¸ºè¡Œæ•°å’Œåˆ—æ•°ã€‚</p>
</li>
<li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(MN)ï¼Œåœ¨æœ€åæƒ…å†µä¸‹ï¼Œæ•´ä¸ªç½‘æ ¼å‡ä¸ºé™†åœ°ï¼Œæ·±åº¦ä¼˜å…ˆæœç´¢çš„æ·±åº¦è¾¾åˆ° MNã€‚</p>
</li>
</ul>
<h3 id="4-11ã€LC827-æœ€å¤§äººå·¥å²›"><a href="#4-11ã€LC827-æœ€å¤§äººå·¥å²›" class="headerlink" title="4.11ã€LC827. æœ€å¤§äººå·¥å²›"></a>4.11ã€LC827. æœ€å¤§äººå·¥å²›</h3><p>ç»™ä½ ä¸€ä¸ªå¤§å°ä¸º <code>n x n</code> äºŒè¿›åˆ¶çŸ©é˜µ <code>grid</code> ã€‚<strong>æœ€å¤š</strong> åªèƒ½å°†ä¸€æ ¼ <code>0</code> å˜æˆ <code>1</code> ã€‚</p>
<p>è¿”å›æ‰§è¡Œæ­¤æ“ä½œåï¼Œ<code>grid</code> ä¸­æœ€å¤§çš„å²›å±¿é¢ç§¯æ˜¯å¤šå°‘ï¼Ÿ</p>
<p><strong>å²›å±¿</strong> ç”±ä¸€ç»„ä¸Šã€ä¸‹ã€å·¦ã€å³å››ä¸ªæ–¹å‘ç›¸è¿çš„ <code>1</code> å½¢æˆã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: grid = [[1, 0], [0, 1]]</span><br><span class="line">è¾“å‡º: 3</span><br><span class="line">è§£é‡Š: å°†ä¸€æ ¼0å˜æˆ1ï¼Œæœ€ç»ˆè¿é€šä¸¤ä¸ªå°å²›å¾—åˆ°é¢ç§¯ä¸º 3 çš„å²›å±¿ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: grid = [[1, 1], [1, 0]]</span><br><span class="line">è¾“å‡º: 4</span><br><span class="line">è§£é‡Š: å°†ä¸€æ ¼0å˜æˆ1ï¼Œå²›å±¿çš„é¢ç§¯æ‰©å¤§ä¸º 4ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: grid = [[1, 1], [1, 1]]</span><br><span class="line">è¾“å‡º: 4</span><br><span class="line">è§£é‡Š: æ²¡æœ‰0å¯ä»¥è®©æˆ‘ä»¬å˜æˆ1ï¼Œé¢ç§¯ä¾ç„¶ä¸º 4ã€‚</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>n == grid.length</code></li>
<li><code>n == grid[i].length</code></li>
<li><code>1 &lt;= n &lt;= 500</code></li>
<li><code>grid[i][j]</code> ä¸º <code>0</code> æˆ– <code>1</code></li>
</ul>
<p>Related Topics</p>
<p>æ·±åº¦ä¼˜å…ˆæœç´¢</p>
<p>å¹¿åº¦ä¼˜å…ˆæœç´¢</p>
<p>å¹¶æŸ¥é›†</p>
<p>æ•°ç»„</p>
<p>çŸ©é˜µ</p>
<p>ğŸ‘ 312</p>
<p>ğŸ‘ 0</p>
<h4 id="æ·±åº¦ä¼˜å…ˆæœç´¢-2"><a href="#æ·±åº¦ä¼˜å…ˆæœç´¢-2" class="headerlink" title="æ·±åº¦ä¼˜å…ˆæœç´¢"></a>æ·±åº¦ä¼˜å…ˆæœç´¢</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">largestIsland</span><span class="params">(<span class="type">int</span>[][] grid)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">value</span> <span class="operator">=</span> <span class="number">2</span>; <span class="comment">// å²›å±¿ç¼–å·</span></span><br><span class="line">        Map&lt;Integer, Integer&gt; islandAreas = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;(); <span class="comment">// å²›å±¿ç¼–å· -&gt; å²›å±¿é¢ç§¯çš„ map</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">r</span> <span class="operator">=</span> <span class="number">0</span>; r &lt; grid.length; r++) &#123; <span class="comment">// å¯»æ‰¾å²›å±¿ è®¡ç®—æ¯ä¸€ä¸ªå²›å±¿çš„é¢ç§¯ æ”¾å…¥map</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> <span class="number">0</span>; c &lt; grid[<span class="number">0</span>].length; c++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (grid[r][c] == <span class="number">1</span>) &#123;</span><br><span class="line">                    <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> area(grid, r, c, value);</span><br><span class="line">                    islandAreas.put(value, a);</span><br><span class="line">                    value++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">r</span> <span class="operator">=</span> <span class="number">0</span>; r &lt; grid.length; r++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> <span class="number">0</span>; c &lt; grid[<span class="number">0</span>].length; c++) &#123;</span><br><span class="line">                <span class="comment">// ä¾æ¬¡å°è¯•å¡«æµ·</span></span><br><span class="line">                <span class="type">int</span> <span class="variable">ta</span> <span class="operator">=</span> thisArea(grid, r, c, islandAreas);</span><br><span class="line">                res = Math.max(res, ta);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æŠŠ (r, c) å¡«æµ·ä¹‹åï¼Œæœ€å¤§çš„å²›å±¿é¢ç§¯</span></span><br><span class="line">    <span class="type">int</span> <span class="title function_">thisArea</span><span class="params">(<span class="type">int</span>[][] grid, <span class="type">int</span> r, <span class="type">int</span> c, Map&lt;Integer, Integer&gt; islandAreas)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (grid[r][c] != <span class="number">0</span>) &#123; <span class="comment">// æ˜¯é™†åœ°ï¼Œç›´æ¥è¿”å›å¯¹åº”ç¼–å·å²›å±¿çš„é¢ç§¯</span></span><br><span class="line">            <span class="keyword">return</span> islandAreas.get(grid[r][c]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        Set&lt;Integer&gt; adjs = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">// å¡«æµ·ä¹‹å åˆ¤æ–­å‰åå·¦å³æ˜¯ä¸æ˜¯é™†åœ° æ˜¯çš„è¯åŠ å…¥set</span></span><br><span class="line">        <span class="keyword">if</span> (inArea(grid, r-<span class="number">1</span>, c) &amp;&amp; grid[r-<span class="number">1</span>][c] &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            adjs.add(grid[r-<span class="number">1</span>][c]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (inArea(grid, r+<span class="number">1</span>, c) &amp;&amp; grid[r+<span class="number">1</span>][c] &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            adjs.add(grid[r+<span class="number">1</span>][c]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (inArea(grid, r, c-<span class="number">1</span>) &amp;&amp; grid[r][c-<span class="number">1</span>] &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            adjs.add(grid[r][c-<span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (inArea(grid, r, c+<span class="number">1</span>) &amp;&amp; grid[r][c+<span class="number">1</span>] &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            adjs.add(grid[r][c+<span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> adj : adjs) &#123;</span><br><span class="line">            <span class="comment">// åŠ ä¸Šå¡«æµ·åçš„é¢ç§¯</span></span><br><span class="line">            res += islandAreas.get(adj);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// value è¡¨ç¤ºå½“å‰å²›å±¿ç¼–å·</span></span><br><span class="line">    <span class="type">int</span> <span class="title function_">area</span><span class="params">(<span class="type">int</span>[][] grid, <span class="type">int</span> r, <span class="type">int</span> c, <span class="type">int</span> value)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (!inArea(grid, r, c)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (grid[r][c] != <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        grid[r][c] = value;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span> + area(grid, r - <span class="number">1</span>, c, value)</span><br><span class="line">                + area(grid, r + <span class="number">1</span>, c, value)</span><br><span class="line">                + area(grid, r, c - <span class="number">1</span>, value)</span><br><span class="line">                + area(grid, r, c + <span class="number">1</span>, value);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">boolean</span> <span class="title function_">inArea</span><span class="params">(<span class="type">int</span>[][] grid, <span class="type">int</span> r, <span class="type">int</span> c)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span> &lt;= r &amp;&amp; r &lt; grid.length</span><br><span class="line">                &amp;&amp; <span class="number">0</span> &lt;= c &amp;&amp; c &lt; grid[<span class="number">0</span>].length;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong></p>
<ul>
<li><p>æ—¶é—´å¤æ‚åº¦ï¼šO((MN)^2)ï¼Œå…¶ä¸­ M å’Œ N åˆ†åˆ«ä¸ºè¡Œæ•°å’Œåˆ—æ•°ã€‚</p>
</li>
<li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(MN)ï¼Œåœ¨æœ€åæƒ…å†µä¸‹ï¼Œæ•´ä¸ªç½‘æ ¼å‡ä¸ºé™†åœ°ï¼Œæ·±åº¦ä¼˜å…ˆæœç´¢çš„æ·±åº¦è¾¾åˆ° MNã€‚</p>
</li>
</ul>
<h3 id="ç½‘æ ¼ç±»é—®é¢˜çš„-DFS-éå†æ–¹æ³•-1"><a href="#ç½‘æ ¼ç±»é—®é¢˜çš„-DFS-éå†æ–¹æ³•-1" class="headerlink" title="ç½‘æ ¼ç±»é—®é¢˜çš„ DFS éå†æ–¹æ³•"></a>ç½‘æ ¼ç±»é—®é¢˜çš„ DFS éå†æ–¹æ³•</h3><h4 id="ç¼–å†™å¹¿åº¦ä¼˜å…ˆéå†ç®—æ³•çš„æ³¨æ„äº‹é¡¹"><a href="#ç¼–å†™å¹¿åº¦ä¼˜å…ˆéå†ç®—æ³•çš„æ³¨æ„äº‹é¡¹" class="headerlink" title="ç¼–å†™å¹¿åº¦ä¼˜å…ˆéå†ç®—æ³•çš„æ³¨æ„äº‹é¡¹"></a>ç¼–å†™å¹¿åº¦ä¼˜å…ˆéå†ç®—æ³•çš„æ³¨æ„äº‹é¡¹</h4><ul>
<li>å¦‚æœé¢˜ç›®è¦æ±‚è¿”å›çš„ç»“æœå’Œè·ç¦»ç›¸å…³ï¼Œéœ€è¦åœ¨ while å¾ªç¯å†…éƒ¨ä¸€ä¸‹å­æŠŠå½“å‰åˆ—è¡¨çš„æ‰€æœ‰å…ƒç´ éƒ½ä¾æ¬¡å–å‡ºæ¥ï¼Œè¿™ç§ã€Œä¸€ä¸‹å­ã€æ“ä½œçš„æ¬¡æ•°å°±æ˜¯æˆ‘ä»¬éœ€è¦çš„è·ç¦»ï¼›</li>
<li>å¦‚æœä¸€ä¸ªå•å…ƒæ ¼è¢«æ·»åŠ åˆ°é˜Ÿåˆ—ä»¥åï¼Œéœ€è¦é©¬ä¸Šå°†å®ƒæ ‡è®°ä¸ºå·²ç»è®¿é—®ï¼ˆæ ¹æ®æƒ…å†µï¼Œå¯ä»¥ç›´æ¥åœ¨åŸå§‹è¾“å…¥æ•°ç»„ä¸Šä¿®æ”¹ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ä¸€ä¸ªå¸ƒå°”æ•°ç»„ visited è¿›è¡Œæ ‡è®°ï¼‰ï¼Œå¦‚æœä¸è¿™ä¹ˆåšï¼Œå¾ˆå¯èƒ½ä¼šå‡ºç°æ­»å¾ªç¯ï¼Œè¿™ä¸€ç‚¹å¦‚æœä¸€å¼€å§‹æ²¡æœ‰æ³¨æ„åˆ°ï¼Œä¹Ÿå¯ä»¥é€šè¿‡è°ƒè¯•ä»£ç è§‚å¯Ÿå‡ºã€‚</li>
</ul>
<p>åœ¨è¿™é‡Œï¼Œæˆ‘ç»™å‡ºçš„æ˜¯ã€Œå¸¸è§„å†™æ³•ã€ï¼Œå¤§å®¶å¯ä»¥å‚è€ƒã€Œå®˜æ–¹é¢˜è§£ã€ å­¦ä¹ è¿™ä¸ªé—®é¢˜çš„å¦å¤–çš„æ€è·¯ã€‚</p>
<p>ä½¿ç”¨ã€Œå¹¿åº¦ä¼˜å…ˆéå†ã€ç®—æ³•çš„é—®é¢˜</p>
<ul>
<li>ã€ŒåŠ›æ‰£ã€ç¬¬ 279 é¢˜ï¼šå®Œå…¨å¹³æ–¹æ•°ï¼›</li>
<li>ã€ŒåŠ›æ‰£ã€ç¬¬ 322 é¢˜ï¼šé›¶é’±å…‘æ¢ã€‚</li>
</ul>
<p>è¿™äº›é—®é¢˜è™½ç„¶çœ‹èµ·æ¥å’Œæœ€çŸ­è·¯å¾„æ— å…³ï¼Œä½†åªè¦åœ¨çº¸ä¸Šå†™å†™ç”»ç”»ï¼Œä¸éš¾å‘ç°ä¾ç„¶æ˜¯æ±‚ï¼šåœ¨æ ‘æˆ–è€…å›¾ä¸Šçš„æœ€çŸ­è·¯å¾„ã€‚å¯ä»¥é€šè¿‡è¿™ä¸€ç±»é—®é¢˜ç†Ÿæ‚‰ BFS çš„å†™æ³•ã€‚</p>
<p>äºŒç»´è¡¨æ ¼ä¸Šçš„æœç´¢é—®é¢˜ï¼ˆå¯»æ‰¾è¿é€šåˆ†é‡ï¼‰è¿˜æœ‰ï¼š</p>
<ul>
<li>ã€ŒåŠ›æ‰£ã€ç¬¬ 200 é¢˜ï¼šå²›å±¿æ•°é‡ï¼›</li>
<li>ã€ŒåŠ›æ‰£ã€ç¬¬ 994 é¢˜ï¼šè…çƒ‚çš„æ©˜å­ï¼›</li>
<li>ã€ŒåŠ›æ‰£ã€ç¬¬ 130 é¢˜ï¼šè¢«å›´ç»•çš„åŒºåŸŸï¼›</li>
<li>ã€ŒåŠ›æ‰£ã€ç¬¬ 79 é¢˜ï¼šå•è¯æœç´¢ï¼›</li>
<li>ã€Œå‰‘æŒ‡ Offer ã€ç¬¬ 13 é¢˜ï¼šæœºå™¨äººçš„è¿åŠ¨èŒƒå›´ã€‚</li>
</ul>
<p>å¤§å®¶å¯ä»¥é€šè¿‡åšè¿™äº›é—®é¢˜ï¼Œç†Ÿæ‚‰åœ¨äºŒç»´è¡¨æ ¼ä¸Šç¼–ç ä»£ç çš„å¸¸ç”¨æŠ€å·§ï¼š</p>
<ul>
<li>è®¾ç½®æ–¹å‘æ•°ç»„ï¼Œä½¿å¾—å‘ã€Œå››é¢å…«æ–¹ã€æ‰©æ•£çš„ä»£ç æ›´åŠ ç´§å‡‘ï¼›</li>
<li>è®¾ç½®æ˜¯å¦è¶Šç•Œçš„åˆ¤æ–­å‡½æ•° inArea()ï¼›</li>
<li>æ ¹æ®æƒ…å†µï¼Œä½¿ç”¨äºŒç»´åæ ‡å’Œä¸€ç»´åæ ‡ç›¸äº’è½¬æ¢çš„æ“ä½œï¼Œå› ä¸ºäºŒç»´åæ ‡ä¼ å…¥é˜Ÿåˆ—çš„æ—¶å€™ï¼Œéœ€è¦å°è£…æˆæ•°ç»„ï¼Œåˆ›å»ºå’Œé”€æ¯æ•°ç»„æœ‰ä¸€å®šæ€§èƒ½æ¶ˆè€—ï¼Œæœ‰äº›é—®é¢˜å¦‚æœéœ€è¦åˆ¤é‡ï¼Œè¿˜å¯èƒ½æœ‰ä¸€ç‚¹ç‚¹å·¥ä½œé‡ï¼›</li>
<li>å¦‚æœåªæ˜¯ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä¸ä½¿ç”¨ visited å¸ƒå°”æ•°ç»„æ˜¯å®Œå…¨å¯ä»¥çš„ã€‚ä½†æ˜¯å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬ä¼šä»‹æ„ä¿®æ”¹è¾“å…¥æ•°ç»„ï¼Œå› æ­¤æ ‡å‡†çš„å†™æ³•æ˜¯ä½¿ç”¨ visited å¸ƒå°”æ•°ç»„è®°å½•å·²ç»è®¿é—®è¿‡çš„å•å…ƒæ ¼ï¼Œå¦‚æœé¢è¯•çš„æ—¶å€™å¯¹è¿™ä¸€ç‚¹æ‹¿æä¸å‡†ï¼Œå¯ä»¥å’¨è¯¢é¢è¯•å®˜ã€‚</li>
</ul>
<h3 id="4-12ã€LC1162-åœ°å›¾åˆ†æ"><a href="#4-12ã€LC1162-åœ°å›¾åˆ†æ" class="headerlink" title="4.12ã€LC1162. åœ°å›¾åˆ†æ"></a>4.12ã€LC1162. åœ°å›¾åˆ†æ</h3><p>ä½ ç°åœ¨æ‰‹é‡Œæœ‰ä¸€ä»½å¤§å°ä¸º <code>n x n</code> çš„ ç½‘æ ¼ <code>grid</code>ï¼Œä¸Šé¢çš„æ¯ä¸ª å•å…ƒæ ¼ éƒ½ç”¨ <code>0</code> å’Œ <code>1</code> æ ‡è®°å¥½äº†ã€‚å…¶ä¸­ <code>0</code> ä»£è¡¨æµ·æ´‹ï¼Œ<code>1</code> ä»£è¡¨é™†åœ°ã€‚</p>
<p>è¯·ä½ æ‰¾å‡ºä¸€ä¸ªæµ·æ´‹å•å…ƒæ ¼ï¼Œè¿™ä¸ªæµ·æ´‹å•å…ƒæ ¼åˆ°ç¦»å®ƒæœ€è¿‘çš„é™†åœ°å•å…ƒæ ¼çš„è·ç¦»æ˜¯æœ€å¤§çš„ï¼Œå¹¶è¿”å›è¯¥è·ç¦»ã€‚å¦‚æœç½‘æ ¼ä¸Šåªæœ‰é™†åœ°æˆ–è€…æµ·æ´‹ï¼Œè¯·è¿”å› <code>-1</code>ã€‚</p>
<p>æˆ‘ä»¬è¿™é‡Œè¯´çš„è·ç¦»æ˜¯ã€Œæ›¼å“ˆé¡¿è·ç¦»ã€ï¼ˆ Manhattan Distanceï¼‰ï¼š<code>(x0, y0)</code> å’Œ <code>(x1, y1)</code> è¿™ä¸¤ä¸ªå•å…ƒæ ¼ä¹‹é—´çš„è·ç¦»æ˜¯ <code>|x0 - x1| + |y0 - y1|</code> ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><strong><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1336_ex1.jpeg" alt="img"></strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šgrid = [[1,0,1],[0,0,0],[1,0,1]]</span><br><span class="line">è¾“å‡ºï¼š2</span><br><span class="line">è§£é‡Šï¼š </span><br><span class="line">æµ·æ´‹å•å…ƒæ ¼ (1, 1) å’Œæ‰€æœ‰é™†åœ°å•å…ƒæ ¼ä¹‹é—´çš„è·ç¦»éƒ½è¾¾åˆ°æœ€å¤§ï¼Œæœ€å¤§è·ç¦»ä¸º 2ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<p><strong><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1336_ex2.jpeg" alt="img"></strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šgrid = [[1,0,0],[0,0,0],[0,0,0]]</span><br><span class="line">è¾“å‡ºï¼š4</span><br><span class="line">è§£é‡Šï¼š </span><br><span class="line">æµ·æ´‹å•å…ƒæ ¼ (2, 2) å’Œæ‰€æœ‰é™†åœ°å•å…ƒæ ¼ä¹‹é—´çš„è·ç¦»éƒ½è¾¾åˆ°æœ€å¤§ï¼Œæœ€å¤§è·ç¦»ä¸º 4ã€‚</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>n == grid.length</code></li>
<li><code>n == grid[i].length</code></li>
<li><code>1 &lt;= n &lt;= 100</code></li>
<li><code>grid[i][j]</code> ä¸æ˜¯ <code>0</code> å°±æ˜¯ <code>1</code></li>
</ul>
<p>Related Topics</p>
<p>å¹¿åº¦ä¼˜å…ˆæœç´¢</p>
<p>æ•°ç»„</p>
<p>åŠ¨æ€è§„åˆ’</p>
<p>çŸ©é˜µ</p>
<p>ğŸ‘ 313</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<ul>
<li>æŠŠæ‰€æœ‰çš„ <strong>é™†åœ°ï¼ˆ<code>1</code>ï¼‰</strong> æ·»åŠ åˆ°é˜Ÿåˆ—ä¸­ï¼Œè¿›è¡Œå¹¿åº¦ä¼˜å…ˆéå†ï¼Œçœ‹çœ‹å¤šå°‘æ­¥å¯ä»¥æ‰©æ•£å®Œæˆï¼›</li>
<li>ã€Œæ‰©æ•£å®Œæˆã€çš„æ„æ€æ˜¯ï¼šæ²¡æœ‰æµ·æ´‹å¯ä»¥æ‰©æ•£ã€‚</li>
</ul>
<p><strong>è§£è¯»é¢˜ç›®ä¸­çš„ã€Œæœ€è¿œã€å’Œã€Œæœ€è¿‘ã€</strong></p>
<ul>
<li>é¢˜ç›®é—®çš„æ˜¯ã€Œè·ç¦»é™†åœ°åŒºåŸŸæœ€è¿œçš„æµ·æ´‹åŒºåŸŸã€ï¼Œå…¶å®å°±æ˜¯ä»é™†åœ° 1 å¼€å§‹ï¼Œè¦æ‰©æ•£å¤šå°‘æ¬¡ï¼Œæ‰èƒ½æŠŠæ‰€æœ‰çš„æµ·æ´‹ç»™è¦†ç›–æ‰ã€‚ã€Œæœ€è¿œã€åº”è¯¥ä»è¿™ä¸ªè§’åº¦æ¥ç†è§£ã€‚</li>
<li>è€Œã€Œè¯¥æµ·æ´‹åŒºåŸŸåˆ°ç¦»å®ƒæœ€è¿‘çš„é™†åœ°åŒºåŸŸçš„è·ç¦»ã€ï¼Œã€Œæœ€è¿‘ã€æ˜¯å› ä¸ºä¸€å®šæ˜¯è·ç¦»è¿™ä¸ªæœ€åæ‰æ‰©æ•£åˆ°çš„æµ·æ´‹çš„æœ€è¿‘çš„é™†åœ°æ‰èƒ½æ‰©æ•£åˆ°å®ƒã€‚</li>
</ul>
<p><strong>åˆ†æ</strong>ï¼š</p>
<ul>
<li>äºŒç»´è¡¨æ ¼ä¸Šçš„é—®é¢˜ï¼Œå¸¸ç”¨çš„ç®—æ³•æ˜¯æ·±åº¦ä¼˜å…ˆéå†ã€å¹¿åº¦ä¼˜å…ˆéå†å’Œå¹¶æŸ¥é›†ï¼Œç”±äºè¿™é‡Œè®¡ç®—çš„ç»“æœå’Œè·ç¦»ç›¸å…³ï¼Œæ˜¾ç„¶ä½¿ç”¨å¹¿åº¦ä¼˜å…ˆéå†ï¼›</li>
<li>ä½†æ˜¯é¢˜ç›®é—®çš„æ˜¯ã€Œè·ç¦»é™†åœ°åŒºåŸŸæœ€è¿œçš„æµ·æ´‹åŒºåŸŸã€ï¼Œè¿™å’Œæˆ‘ä»¬çš„ç»éªŒç¨å¾®æœ‰ç‚¹å‡ºå…¥ã€‚ä¸€èˆ¬è€Œè¨€ï¼Œã€Œå¹¿åº¦ä¼˜å…ˆéå†ã€æ±‚çš„æ˜¯æœ€çŸ­è·¯å¾„ï¼Œä½†ä»”ç»†ä¸€æƒ³ï¼Œå‘ç°å…¶å®å¹¿åº¦ä¼˜å…ˆéå†ä¹Ÿæ˜¯é€‚ç”¨çš„ï¼š<ul>
<li>æ±‚æœ€çŸ­è·¯å¾„çš„æ—¶å€™ï¼Œåªè¦æ‰¾åˆ°ç›®æ ‡å€¼ï¼Œè¿”å›å³å¯ï¼›</li>
<li>æ±‚æœ€é•¿è·¯å¾„çš„æ—¶å€™ï¼Œæ‰€æœ‰ç›®æ ‡å€¼éƒ½çœ‹å®Œä»¥åï¼Œæ‰è¿”å›ã€‚</li>
<li>è¿™é“é¢˜ã€Œå¹¿åº¦ä¼˜å…ˆéå†ã€çš„èµ·ç‚¹æœ‰å¤šä¸ªï¼Œä½†å®Œå…¨ä¸å½±å“ç®—æ³•çš„æ­£ç¡®æ€§ï¼Œå¯ä»¥å‡æƒ³ä¸€ä¸ªè™šæ‹Ÿçš„èµ·ç‚¹ï¼Œåˆå§‹çš„èµ·ç‚¹å°±æ˜¯ç”±è™šæ‹Ÿèµ·ç‚¹æ‰©æ•£å¼€æ¥çš„ï¼Œç¤ºæ„å›¾å¯ä»¥å‚è€ƒ é¢˜è§£ ï¼Œç‰¹åˆ«å½¢è±¡ã€‚</li>
<li><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/a3f28eeb94837d510ad7360e756881059e65ca78489d4d9bae6973884b9870bb-%E5%8D%95%E6%BA%90BFS.gif" alt="å•æºBFS.gif"></li>
<li><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/be6bdff2b8d983d2135e5d2675b4dae750fef16104c904e462d9b1d64ef6d8ed-%E5%A4%9A%E6%BA%90BFS.gif" alt="å¤šæºBFS.gif"></li>
</ul>
</li>
</ul>
<blockquote>
<p>è¿™é‡Œé¢˜ç›®ä¸­ä»‹ç»çš„ã€Œæ›¼å“ˆé¡¿è·ç¦»ã€ï¼Œå…¶å®å°±æ˜¯å¯¹å¹¿åº¦ä¼˜å…ˆéå†ï¼ˆBFSï¼‰é€å±‚å‘å¤–æ‰©æ•£çš„ç²¾å‡†æ•°å­¦è§£é‡Šï¼Œæ¯æ‰©æ•£ä¸€æ¬¡ï¼Œæ›¼å“ˆé¡¿è·ç¦»å°±åŠ  1ã€‚</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxDistance</span><span class="params">(<span class="type">int</span>[][] grid)</span> &#123;</span><br><span class="line">        <span class="comment">// æ–¹å‘å‘é‡</span></span><br><span class="line">        <span class="type">int</span>[][] directions = &#123;&#123;<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;-<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;<span class="number">0</span>, -<span class="number">1</span>&#125;&#125;;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ç”±äºé¢˜ç›®ä¸­ç»™å‡ºäº† grid çš„èŒƒå›´ï¼Œå› æ­¤ä¸ç”¨åšè¾“å…¥æ£€æŸ¥</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">N</span> <span class="operator">=</span> grid.length;</span><br><span class="line"></span><br><span class="line">        Queue&lt;<span class="type">int</span>[]&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">// å°†æ‰€æœ‰çš„é™†åœ°æ ¼å­åŠ å…¥é˜Ÿåˆ—</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; N; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; N; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (grid[i][j] == <span class="number">1</span>) &#123;</span><br><span class="line">                    queue.add(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;i, j&#125;);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¦‚æœæˆ‘ä»¬çš„åœ°å›¾ä¸Šåªæœ‰é™†åœ°æˆ–è€…æµ·æ´‹ï¼Œè¯·è¿”å› -1ã€‚</span></span><br><span class="line">        <span class="keyword">if</span> (queue.isEmpty() || queue.size() == N * N) &#123;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">step</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">            <span class="comment">// æ³¨æ„ï¼šå…ˆæŠŠå½“å‰é˜Ÿåˆ—çš„é•¿åº¦ä¿å­˜ä¸‹æ¥</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">currentQueueSize</span> <span class="operator">=</span> queue.size();</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; currentQueueSize; i++) &#123;</span><br><span class="line">                <span class="type">int</span>[] cell = queue.poll();</span><br><span class="line">                <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> cell[<span class="number">0</span>];</span><br><span class="line">                <span class="type">int</span> <span class="variable">y</span> <span class="operator">=</span> cell[<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span>[] direction : directions) &#123; <span class="comment">// éå†ä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘</span></span><br><span class="line">                    <span class="type">int</span> <span class="variable">newX</span> <span class="operator">=</span> x + direction[<span class="number">0</span>];</span><br><span class="line">                    <span class="type">int</span> <span class="variable">newY</span> <span class="operator">=</span> y + direction[<span class="number">1</span>];</span><br><span class="line">                    <span class="keyword">if</span> (inArea(newX, newY, N) &amp;&amp; grid[newX][newY] == <span class="number">0</span>) &#123;</span><br><span class="line">                        <span class="comment">// èµ‹å€¼æˆä¸ºä¸€ä¸ªä¸ç­‰äº 0 çš„æ•´æ•°å‡å¯ï¼Œå› ä¸ºåç»­é€»è¾‘åªå…³å¿ƒæµ·æ´‹ï¼ˆ0ï¼‰</span></span><br><span class="line">                        grid[newX][newY] = <span class="number">2</span>;</span><br><span class="line">                        queue.add(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;newX, newY&#125;);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            step++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// æ³¨æ„ï¼šç”±äºæœ€åä¸€æ­¥ï¼Œæ²¡æœ‰å¯ä»¥æ‰©æ•£çš„çš„åŒºåŸŸï¼Œä½†æ˜¯ step åŠ äº† 1ï¼Œæ•…åœ¨é€€å‡ºå¾ªç¯çš„æ—¶å€™åº”è¯¥å‡ 1</span></span><br><span class="line">        <span class="keyword">return</span> step - <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> x äºŒç»´è¡¨æ ¼å•å…ƒæ ¼æ¨ªåæ ‡</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> y äºŒç»´è¡¨æ ¼å•å…ƒæ ¼çºµåæ ‡</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> N äºŒç»´è¡¨æ ¼è¡Œæ•°ï¼ˆåˆ—æ•°ï¼‰</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> æ˜¯å¦åœ¨äºŒç»´è¡¨æ ¼æœ‰æ•ˆèŒƒå›´å†…</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">inArea</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y, <span class="type">int</span> N)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span> &lt;= x &amp;&amp; x &lt; N &amp;&amp; <span class="number">0</span> &lt;= y &amp;&amp; y &lt; N;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼šO(N^2)ï¼Œè¿™é‡Œ N æ˜¯æ–¹æ ¼çš„è¾¹é•¿ã€‚äºŒç»´è¡¨æ ¼é‡Œæ‰€æœ‰çš„å…ƒç´ éƒ½ä¼šè¢«çœ‹ä¸€éï¼›</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼šO(N^2)ï¼Œæœ€åæƒ…å†µä¸‹ï¼Œæ–¹æ ¼é‡Œå…¨éƒ¨æ˜¯é™†åœ°ï¼ˆ1ï¼‰çš„æ—¶å€™ï¼Œå…ƒç´ å…¨éƒ¨ä¼šè¿›é˜Ÿåˆ—ã€‚</li>
</ul>
<h3 id="4-13ã€LC994-è…çƒ‚çš„æ©˜å­"><a href="#4-13ã€LC994-è…çƒ‚çš„æ©˜å­" class="headerlink" title="4.13ã€LC994. è…çƒ‚çš„æ©˜å­"></a>4.13ã€LC994. è…çƒ‚çš„æ©˜å­</h3><p>åœ¨ç»™å®šçš„ <code>m x n</code> ç½‘æ ¼ <code>grid</code> ä¸­ï¼Œæ¯ä¸ªå•å…ƒæ ¼å¯ä»¥æœ‰ä»¥ä¸‹ä¸‰ä¸ªå€¼ä¹‹ä¸€ï¼š</p>
<ul>
<li>å€¼ <code>0</code> ä»£è¡¨ç©ºå•å…ƒæ ¼ï¼›</li>
<li>å€¼ <code>1</code> ä»£è¡¨æ–°é²œæ©˜å­ï¼›</li>
<li>å€¼ <code>2</code> ä»£è¡¨è…çƒ‚çš„æ©˜å­ã€‚</li>
</ul>
<p>æ¯åˆ†é’Ÿï¼Œè…çƒ‚çš„æ©˜å­ <strong>å‘¨å›´ 4 ä¸ªæ–¹å‘ä¸Šç›¸é‚»</strong> çš„æ–°é²œæ©˜å­éƒ½ä¼šè…çƒ‚ã€‚</p>
<p>è¿”å› <em>ç›´åˆ°å•å…ƒæ ¼ä¸­æ²¡æœ‰æ–°é²œæ©˜å­ä¸ºæ­¢æ‰€å¿…é¡»ç»è¿‡çš„æœ€å°åˆ†é’Ÿæ•°ã€‚å¦‚æœä¸å¯èƒ½ï¼Œè¿”å› <code>-1</code></em> ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><strong><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/oranges.png" alt="img"></strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šgrid = [[2,1,1],[1,1,0],[0,1,1]]</span><br><span class="line">è¾“å‡ºï¼š4</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šgrid = [[2,1,1],[0,1,1],[1,0,1]]</span><br><span class="line">è¾“å‡ºï¼š-1</span><br><span class="line">è§£é‡Šï¼šå·¦ä¸‹è§’çš„æ©˜å­ï¼ˆç¬¬ 2 è¡Œï¼Œ ç¬¬ 0 åˆ—ï¼‰æ°¸è¿œä¸ä¼šè…çƒ‚ï¼Œå› ä¸ºè…çƒ‚åªä¼šå‘ç”Ÿåœ¨ 4 ä¸ªæ­£å‘ä¸Šã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šgrid = [[0,2]]</span><br><span class="line">è¾“å‡ºï¼š0</span><br><span class="line">è§£é‡Šï¼šå› ä¸º 0 åˆ†é’Ÿæ—¶å·²ç»æ²¡æœ‰æ–°é²œæ©˜å­äº†ï¼Œæ‰€ä»¥ç­”æ¡ˆå°±æ˜¯ 0 ã€‚</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>m == grid.length</code></li>
<li><code>n == grid[i].length</code></li>
<li><code>1 &lt;= m, n &lt;= 10</code></li>
<li><code>grid[i][j]</code> ä»…ä¸º <code>0</code>ã€<code>1</code> æˆ– <code>2</code></li>
</ul>
<p>Related Topics</p>
<p>å¹¿åº¦ä¼˜å…ˆæœç´¢</p>
<p>æ•°ç»„</p>
<p>çŸ©é˜µ</p>
<p>ğŸ‘ 646</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>BFS</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">orangesRotting</span><span class="params">(<span class="type">int</span>[][] grid)</span> &#123;</span><br><span class="line">        <span class="comment">// æ–¹å‘å‘é‡</span></span><br><span class="line">        <span class="type">int</span>[][] directions = &#123;&#123;<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;-<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;<span class="number">0</span>, -<span class="number">1</span>&#125;&#125;;</span><br><span class="line">        <span class="comment">// å¥½æ©˜å­çš„æ•°é‡</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">M</span> <span class="operator">=</span> grid.length; <span class="comment">// è¡Œ</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">N</span> <span class="operator">=</span> grid[<span class="number">0</span>].length; <span class="comment">// åˆ—</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        Queue&lt;<span class="type">int</span>[]&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">// å°†æ‰€æœ‰è…çƒ‚çš„æ©˜å­åŠ å…¥é˜Ÿåˆ—ä¸­</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; M; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; N; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (grid[i][j] == <span class="number">2</span>) &#123;</span><br><span class="line">                    queue.add(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;i, j&#125;);</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (grid[i][j] == <span class="number">1</span>) &#123;</span><br><span class="line">                    count++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¦‚æœæˆ‘ä»¬çš„ç½‘æ ¼ä¸Šåªæœ‰å¥½æ©˜å­æˆ–è€…æ²¡æœ‰çƒ‚æ©˜å­æ©˜å­ï¼Œè¿”å› -1ã€‚</span></span><br><span class="line">        <span class="comment">// å¦‚æœæˆ‘ä»¬çš„ç½‘æ ¼ä¸Šåªæœ‰çƒ‚æ©˜å­æ²¡æœ‰å¥½æ©˜å­ï¼Œè¿”å› 0ã€‚</span></span><br><span class="line">        <span class="keyword">if</span> (queue.isEmpty()) &#123;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (count == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">time</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (count &gt; <span class="number">0</span> &amp;&amp; !queue.isEmpty()) &#123;</span><br><span class="line">            <span class="comment">// å…ˆå–å‡ºé˜Ÿåˆ—çš„sizeå°±æ˜¯è¿™ä¸€å±‚çš„å…¨éƒ¨å…ƒç´ </span></span><br><span class="line">            <span class="type">int</span> <span class="variable">queueSize</span> <span class="operator">=</span> queue.size();</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; queueSize; i++) &#123;</span><br><span class="line">                <span class="type">int</span>[] poll = queue.poll();</span><br><span class="line">                <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> poll[<span class="number">0</span>];</span><br><span class="line">                <span class="type">int</span> <span class="variable">y</span> <span class="operator">=</span> poll[<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">                <span class="comment">// éå†å››ä¸ªæ–¹å‘</span></span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span>[] direction : directions) &#123;</span><br><span class="line">                    <span class="type">int</span> <span class="variable">newX</span> <span class="operator">=</span> x + direction[<span class="number">0</span>];</span><br><span class="line">                    <span class="type">int</span> <span class="variable">newY</span> <span class="operator">=</span> y + direction[<span class="number">1</span>];</span><br><span class="line">                    <span class="keyword">if</span> (isArea(newX, newY, M, N) &amp;&amp; grid[newX][newY] == <span class="number">1</span>) &#123;</span><br><span class="line">                        <span class="comment">// æ„ŸæŸ“æˆçƒ‚æ©˜å­</span></span><br><span class="line">                        grid[newX][newY] = <span class="number">2</span>;</span><br><span class="line">                        count--;</span><br><span class="line">                        queue.add(<span class="keyword">new</span> <span class="title class_">int</span>[] &#123;newX, newY&#125;);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            time++;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (count == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> time;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> x äºŒç»´è¡¨æ ¼å•å…ƒæ ¼æ¨ªåæ ‡</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> y äºŒç»´è¡¨æ ¼å•å…ƒæ ¼çºµåæ ‡</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> N äºŒç»´è¡¨æ ¼åˆ—æ•°</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> M äºŒç»´è¡¨æ ¼è¡Œæ•°</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> æ˜¯å¦åœ¨äºŒç»´è¡¨æ ¼æœ‰æ•ˆèŒƒå›´å†…</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">isArea</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y, <span class="type">int</span> M, <span class="type">int</span> N)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> x &gt;= <span class="number">0</span> &amp;&amp; x &lt; M &amp;&amp; y &gt;= <span class="number">0</span> &amp;&amp; y &lt; N;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦O(MN)</li>
<li>ç©ºé—´å¤æ‚åº¦O(MN)</li>
</ul>
<h3 id="4-14ã€LC130-è¢«å›´ç»•çš„åŒºåŸŸ"><a href="#4-14ã€LC130-è¢«å›´ç»•çš„åŒºåŸŸ" class="headerlink" title="4.14ã€LC130. è¢«å›´ç»•çš„åŒºåŸŸ"></a>4.14ã€LC130. è¢«å›´ç»•çš„åŒºåŸŸ</h3><p>ç»™ä½ ä¸€ä¸ª <code>m x n</code> çš„çŸ©é˜µ <code>board</code> ï¼Œç”±è‹¥å¹²å­—ç¬¦ <code>&#39;X&#39;</code> å’Œ <code>&#39;O&#39;</code> ï¼Œæ‰¾åˆ°æ‰€æœ‰è¢« <code>&#39;X&#39;</code> å›´ç»•çš„åŒºåŸŸï¼Œå¹¶å°†è¿™äº›åŒºåŸŸé‡Œæ‰€æœ‰çš„ <code>&#39;O&#39;</code> ç”¨ <code>&#39;X&#39;</code> å¡«å……ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/xogrid.jpg" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šboard = [[&quot;X&quot;,&quot;X&quot;,&quot;X&quot;,&quot;X&quot;],[&quot;X&quot;,&quot;O&quot;,&quot;O&quot;,&quot;X&quot;],[&quot;X&quot;,&quot;X&quot;,&quot;O&quot;,&quot;X&quot;],[&quot;X&quot;,&quot;O&quot;,&quot;X&quot;,&quot;X&quot;]]</span><br><span class="line">è¾“å‡ºï¼š[[&quot;X&quot;,&quot;X&quot;,&quot;X&quot;,&quot;X&quot;],[&quot;X&quot;,&quot;X&quot;,&quot;X&quot;,&quot;X&quot;],[&quot;X&quot;,&quot;X&quot;,&quot;X&quot;,&quot;X&quot;],[&quot;X&quot;,&quot;O&quot;,&quot;X&quot;,&quot;X&quot;]]</span><br><span class="line">è§£é‡Šï¼šè¢«å›´ç»•çš„åŒºé—´ä¸ä¼šå­˜åœ¨äºè¾¹ç•Œä¸Šï¼Œæ¢å¥è¯è¯´ï¼Œä»»ä½•è¾¹ç•Œä¸Šçš„ &#x27;O&#x27; éƒ½ä¸ä¼šè¢«å¡«å……ä¸º &#x27;X&#x27;ã€‚ ä»»ä½•ä¸åœ¨è¾¹ç•Œä¸Šï¼Œæˆ–ä¸ä¸è¾¹ç•Œä¸Šçš„ &#x27;O&#x27; ç›¸è¿çš„ &#x27;O&#x27; æœ€ç»ˆéƒ½ä¼šè¢«å¡«å……ä¸º &#x27;X&#x27;ã€‚å¦‚æœä¸¤ä¸ªå…ƒç´ åœ¨æ°´å¹³æˆ–å‚ç›´æ–¹å‘ç›¸é‚»ï¼Œåˆ™ç§°å®ƒä»¬æ˜¯â€œç›¸è¿â€çš„ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šboard = [[&quot;X&quot;]]</span><br><span class="line">è¾“å‡ºï¼š[[&quot;X&quot;]]</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>m == board.length</code></li>
<li><code>n == board[i].length</code></li>
<li><code>1 &lt;= m, n &lt;= 200</code></li>
<li><code>board[i][j]</code> ä¸º <code>&#39;X&#39;</code> æˆ– <code>&#39;O&#39;</code></li>
</ul>
<p>Related Topics</p>
<p>æ·±åº¦ä¼˜å…ˆæœç´¢</p>
<p>å¹¿åº¦ä¼˜å…ˆæœç´¢</p>
<p>å¹¶æŸ¥é›†</p>
<p>æ•°ç»„</p>
<p>çŸ©é˜µ</p>
<p>ğŸ‘ 910</p>
<p>ğŸ‘ 0</p>
<p>è§£é¢˜æ€è·¯ï¼š<br>è¿™é“é¢˜æˆ‘ä»¬æ‹¿åˆ°åŸºæœ¬å°±å¯ä»¥ç¡®å®šæ˜¯å›¾çš„ dfsã€bfs éå†çš„é¢˜ç›®äº†ã€‚é¢˜ç›®ä¸­è§£é‡Šè¯´è¢«åŒ…å›´çš„åŒºé—´ä¸ä¼šå­˜åœ¨äºè¾¹ç•Œä¸Šï¼Œæ‰€ä»¥æˆ‘ä»¬ä¼šæƒ³åˆ°è¾¹ç•Œä¸Šçš„ O è¦ç‰¹æ®Šå¤„ç†ï¼Œåªè¦æŠŠè¾¹ç•Œä¸Šçš„ O ç‰¹æ®Šå¤„ç†äº†ï¼Œé‚£ä¹ˆå‰©ä¸‹çš„ O æ›¿æ¢æˆ X å°±å¯ä»¥äº†ã€‚é—®é¢˜è½¬åŒ–ä¸ºï¼Œå¦‚ä½• å¯»æ‰¾å’Œè¾¹ç•Œè”é€šçš„ Oï¼Œæˆ‘ä»¬éœ€è¦è€ƒè™‘å¦‚ä¸‹æƒ…å†µã€‚</p>
<p>X X X X<br>X O O X<br>X X O X<br>X O O X</p>
<p>è¿™æ—¶å€™çš„ O æ˜¯ä¸åšæ›¿æ¢çš„ã€‚å› ä¸ºå’Œè¾¹ç•Œæ˜¯è¿é€šçš„ã€‚ä¸ºäº†è®°å½•è¿™ç§çŠ¶æ€ï¼Œæˆ‘ä»¬æŠŠè¿™ç§æƒ…å†µä¸‹çš„ O æ¢æˆ # ä½œä¸ºå ä½ç¬¦ï¼Œå¾…æœç´¢ç»“æŸä¹‹åï¼Œé‡åˆ° O æ›¿æ¢ä¸º Xï¼ˆå’Œè¾¹ç•Œä¸è¿é€šçš„ Oï¼‰ï¼›é‡åˆ° #ï¼Œæ›¿æ¢å› $O(å’Œè¾¹ç•Œè¿é€šçš„ O)ã€‚</p>
<p>å¦‚ä½•å¯»æ‰¾å’Œè¾¹ç•Œè”é€šçš„ O? ä»è¾¹ç•Œå‡ºå‘ï¼Œå¯¹å›¾è¿›è¡Œ dfs å’Œ bfs å³å¯ã€‚è¿™é‡Œç®€å•æ€»ç»“ä¸‹ dfs å’Œ dfsã€‚</p>
<ul>
<li>bfs é€’å½’ã€‚å¯ä»¥æƒ³æƒ³äºŒå‰æ ‘ä¸­å¦‚ä½•é€’å½’çš„è¿›è¡Œå±‚åºéå†ã€‚</li>
<li>bfs éé€’å½’ã€‚ä¸€èˆ¬ç”¨é˜Ÿåˆ—å­˜å‚¨ã€‚</li>
<li>dfs é€’å½’ã€‚æœ€å¸¸ç”¨ï¼Œå¦‚äºŒå‰æ ‘çš„å…ˆåºéå†ã€‚</li>
<li>dfs éé€’å½’ã€‚ä¸€èˆ¬ç”¨ stackã€‚</li>
</ul>
<p>é‚£ä¹ˆåŸºäºä¸Šé¢è¿™ç§æƒ³æ³•ï¼Œæˆ‘ä»¬æœ‰å››ç§æ–¹å¼å®ç°ã€‚</p>
<h4 id="DFSé€’å½’"><a href="#DFSé€’å½’" class="headerlink" title="DFSé€’å½’"></a>DFSé€’å½’</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="comment">// dfs é€’å½’</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">solve</span><span class="params">(<span class="type">char</span>[][] board)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (board == <span class="literal">null</span> || board.length == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">M</span> <span class="operator">=</span> board.length;</span><br><span class="line">        <span class="type">int</span> <span class="variable">N</span> <span class="operator">=</span> board[<span class="number">0</span>].length;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; M; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; N; j++) &#123;</span><br><span class="line">                <span class="comment">// ä»è¾¹ç•Œçš„Oå¼€å§‹æœç´¢</span></span><br><span class="line">                <span class="type">boolean</span> <span class="variable">isEdge</span> <span class="operator">=</span> i == <span class="number">0</span> || j == <span class="number">0</span> || i == M - <span class="number">1</span> || j == N - <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">if</span> (isEdge &amp;&amp; board[i][j] == <span class="string">&#x27;O&#x27;</span>) &#123;</span><br><span class="line">                    dfs(board, i , j);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; M; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; N; j++) &#123;</span><br><span class="line">                <span class="comment">// è¿™ä¸ªæ—¶å€™å°±æ˜¯è¢«å›´ç»•çš„</span></span><br><span class="line">                <span class="keyword">if</span> (board[i][j] == <span class="string">&#x27;O&#x27;</span>) &#123;</span><br><span class="line">                    board[i][j] = <span class="string">&#x27;X&#x27;</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// è¿˜åŸåŸæ¥çš„è¾¹ç•Œ</span></span><br><span class="line">                <span class="keyword">if</span> (board[i][j] == <span class="string">&#x27;#&#x27;</span>) &#123;</span><br><span class="line">                    board[i][j] = <span class="string">&#x27;O&#x27;</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(<span class="type">char</span>[][] board, <span class="type">int</span> i, <span class="type">int</span> j)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (!inBord(board, i, j)) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (board[i][j] != <span class="string">&#x27;O&#x27;</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        board[i][j] = <span class="string">&#x27;#&#x27;</span>;</span><br><span class="line">        dfs(board, i - <span class="number">1</span>, j);</span><br><span class="line">        dfs(board, i + <span class="number">1</span>, j);</span><br><span class="line">        dfs(board, i, j - <span class="number">1</span>);</span><br><span class="line">        dfs(board, i, j + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆ¤æ–­åœ¨ä¸åœ¨æ ¼å­å†…</span></span><br><span class="line"><span class="comment">     * */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">inBord</span><span class="params">(<span class="type">char</span>[][] board, <span class="type">int</span> i, <span class="type">int</span> j)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> i &gt;= <span class="number">0</span> &amp;&amp; i &lt; board.length &amp;&amp; j &gt;= <span class="number">0</span> &amp;&amp; j &lt; board[<span class="number">0</span>].length;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="DFSè¿­ä»£"><a href="#DFSè¿­ä»£" class="headerlink" title="DFSè¿­ä»£"></a>DFSè¿­ä»£</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// dfs è¿­ä»£</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">solve</span><span class="params">(<span class="type">char</span>[][] board)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (board == <span class="literal">null</span> || board.length == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">M</span> <span class="operator">=</span> board.length;</span><br><span class="line">        <span class="type">int</span> <span class="variable">N</span> <span class="operator">=</span> board[<span class="number">0</span>].length;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; M; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; N; j++) &#123;</span><br><span class="line">                <span class="comment">// ä»è¾¹ç•Œçš„Oå¼€å§‹æœç´¢</span></span><br><span class="line">                <span class="type">boolean</span> <span class="variable">isEdge</span> <span class="operator">=</span> i == <span class="number">0</span> || j == <span class="number">0</span> || i == M - <span class="number">1</span> || j == N - <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">if</span> (isEdge &amp;&amp; board[i][j] == <span class="string">&#x27;O&#x27;</span>) &#123;</span><br><span class="line">                    dfs2(board, i , j);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; M; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; N; j++) &#123;</span><br><span class="line">                <span class="comment">// è¿™ä¸ªæ—¶å€™å°±æ˜¯è¢«å›´ç»•çš„</span></span><br><span class="line">                <span class="keyword">if</span> (board[i][j] == <span class="string">&#x27;O&#x27;</span>) &#123;</span><br><span class="line">                    board[i][j] = <span class="string">&#x27;X&#x27;</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// è¿˜åŸåŸæ¥çš„è¾¹ç•Œ</span></span><br><span class="line">                <span class="keyword">if</span> (board[i][j] == <span class="string">&#x27;#&#x27;</span>) &#123;</span><br><span class="line">                    board[i][j] = <span class="string">&#x27;O&#x27;</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">dfs2</span><span class="params">(<span class="type">char</span>[][] board, <span class="type">int</span> i, <span class="type">int</span> j)</span> &#123;</span><br><span class="line">        Stack&lt;<span class="type">int</span>[]&gt; stack = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">        stack.push(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;i, j&#125;);</span><br><span class="line">        board[i][j] = <span class="string">&#x27;#&#x27;</span>;</span><br><span class="line">        <span class="keyword">while</span> (!stack.isEmpty()) &#123;</span><br><span class="line">            <span class="comment">// å–å‡ºå½“å‰stack é¡¶, ä¸å¼¹å‡º.</span></span><br><span class="line">            <span class="type">int</span>[] peek = stack.peek();</span><br><span class="line">            <span class="type">int</span> <span class="variable">r</span> <span class="operator">=</span> peek[<span class="number">0</span>];</span><br><span class="line">            <span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> peek[<span class="number">1</span>];</span><br><span class="line">            <span class="comment">// ä¸Šä¸‹å·¦å³å››ä¸ªä½ç½®æ”¾å…¥æ ˆä¸­</span></span><br><span class="line">            <span class="keyword">if</span> (inBord(board, r - <span class="number">1</span>, c) &amp;&amp; board[r - <span class="number">1</span>][c] == <span class="string">&#x27;O&#x27;</span>) &#123;</span><br><span class="line">                stack.push(<span class="keyword">new</span> <span class="title class_">int</span>[] &#123;r - <span class="number">1</span>, c&#125;);</span><br><span class="line">                board[r - <span class="number">1</span>][c] = <span class="string">&#x27;#&#x27;</span>;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (inBord(board, r + <span class="number">1</span>, c) &amp;&amp; board[r + <span class="number">1</span>][c] == <span class="string">&#x27;O&#x27;</span>) &#123;</span><br><span class="line">                stack.push(<span class="keyword">new</span> <span class="title class_">int</span>[] &#123;r + <span class="number">1</span>, c&#125;);</span><br><span class="line">                board[r + <span class="number">1</span>][c] = <span class="string">&#x27;#&#x27;</span>;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (inBord(board, r, c - <span class="number">1</span>) &amp;&amp; board[r][c - <span class="number">1</span>] == <span class="string">&#x27;O&#x27;</span>) &#123;</span><br><span class="line">                stack.push(<span class="keyword">new</span> <span class="title class_">int</span>[] &#123;r, c - <span class="number">1</span>&#125;);</span><br><span class="line">                board[r][c - <span class="number">1</span>] = <span class="string">&#x27;#&#x27;</span>;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (inBord(board, r, c + <span class="number">1</span>) &amp;&amp; board[r][c + <span class="number">1</span>] == <span class="string">&#x27;O&#x27;</span>) &#123;</span><br><span class="line">                stack.push(<span class="keyword">new</span> <span class="title class_">int</span>[] &#123;r, c + <span class="number">1</span>&#125;);</span><br><span class="line">                board[r][c + <span class="number">1</span>] = <span class="string">&#x27;#&#x27;</span>;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// å¦‚æœä¸Šä¸‹å·¦å³éƒ½æœç´¢ä¸åˆ°,æœ¬æ¬¡æœç´¢ç»“æŸï¼Œå¼¹å‡ºstack</span></span><br><span class="line">            stack.pop();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆ¤æ–­åœ¨ä¸åœ¨æ ¼å­å†…</span></span><br><span class="line"><span class="comment">     * */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">inBord</span><span class="params">(<span class="type">char</span>[][] board, <span class="type">int</span> i, <span class="type">int</span> j)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> i &gt;= <span class="number">0</span> &amp;&amp; i &lt; board.length &amp;&amp; j &gt;= <span class="number">0</span> &amp;&amp; j &lt; board[<span class="number">0</span>].length;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="BFSè¿­ä»£"><a href="#BFSè¿­ä»£" class="headerlink" title="BFSè¿­ä»£"></a>BFSè¿­ä»£</h4><p>dfs éé€’å½’çš„æ—¶å€™æˆ‘ä»¬ç”¨ stack æ¥è®°å½•çŠ¶æ€ï¼Œè€Œ bfs éé€’å½’ï¼Œæˆ‘ä»¬åˆ™ç”¨é˜Ÿåˆ—æ¥è®°å½•çŠ¶æ€ã€‚å’Œ dfs ä¸åŒçš„æ˜¯ï¼Œdfs ä¸­æœç´¢ä¸Šä¸‹å·¦å³ï¼Œåªè¦æœç´¢åˆ°ä¸€ä¸ªæ»¡è¶³æ¡ä»¶ï¼Œæˆ‘ä»¬å°±é¡ºç€è¯¥æ–¹å‘ç»§ç»­æœç´¢ï¼Œæ‰€ä»¥ä½ å¯ä»¥çœ‹åˆ° dfs ä»£ç ä¸­ï¼Œåªè¦æ»¡è¶³æ¡ä»¶ï¼Œå°±å…¥ Stackï¼Œç„¶å continue æœ¬æ¬¡æœç´¢ï¼Œè¿›è¡Œä¸‹ä¸€æ¬¡æœç´¢ï¼Œç›´åˆ°æœç´¢åˆ°æ²¡æœ‰æ»¡è¶³æ¡ä»¶çš„æ—¶å€™å‡º stackã€‚è€Œ dfs ä¸­ï¼Œæˆ‘ä»¬è¦æŠŠä¸Šä¸‹å·¦å³æ»¡è¶³æ¡ä»¶çš„éƒ½å…¥é˜Ÿï¼Œæ‰€ä»¥æœç´¢çš„æ—¶å€™å°±ä¸èƒ½ continueã€‚å¤§å®¶å¯ä»¥å¯¹æ¯”ä¸‹ä¸¤è€…çš„ä»£ç ï¼Œä½“ä¼š bfs å’Œ dfs çš„å·®å¼‚ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="comment">// bfsè¿­ä»£</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">solve</span><span class="params">(<span class="type">char</span>[][] board)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (board == <span class="literal">null</span> || board.length == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">M</span> <span class="operator">=</span> board.length;</span><br><span class="line">        <span class="type">int</span> <span class="variable">N</span> <span class="operator">=</span> board[<span class="number">0</span>].length;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; M; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; N; j++) &#123;</span><br><span class="line">                <span class="comment">// ä»è¾¹ç•Œçš„Oå¼€å§‹æœç´¢</span></span><br><span class="line">                <span class="type">boolean</span> <span class="variable">isEdge</span> <span class="operator">=</span> i == <span class="number">0</span> || j == <span class="number">0</span> || i == M - <span class="number">1</span> || j == N - <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">if</span> (isEdge &amp;&amp; board[i][j] == <span class="string">&#x27;O&#x27;</span>) &#123;</span><br><span class="line">                    bfs(board, i , j);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; M; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; N; j++) &#123;</span><br><span class="line">                <span class="comment">// è¿™ä¸ªæ—¶å€™å°±æ˜¯è¢«å›´ç»•çš„</span></span><br><span class="line">                <span class="keyword">if</span> (board[i][j] == <span class="string">&#x27;O&#x27;</span>) &#123;</span><br><span class="line">                    board[i][j] = <span class="string">&#x27;X&#x27;</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// è¿˜åŸåŸæ¥çš„è¾¹ç•Œ</span></span><br><span class="line">                <span class="keyword">if</span> (board[i][j] == <span class="string">&#x27;#&#x27;</span>) &#123;</span><br><span class="line">                    board[i][j] = <span class="string">&#x27;O&#x27;</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">bfs</span><span class="params">(<span class="type">char</span>[][] board, <span class="type">int</span> i, <span class="type">int</span> j)</span> &#123;</span><br><span class="line">        Queue&lt;<span class="type">int</span>[]&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">// æ–¹å‘å‘é‡</span></span><br><span class="line">        <span class="type">int</span>[][] directions = &#123;&#123;<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;-<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;<span class="number">0</span>, -<span class="number">1</span>&#125;&#125;;</span><br><span class="line">        queue.offer(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;i, j&#125;);</span><br><span class="line">        board[i][j] = <span class="string">&#x27;#&#x27;</span>;</span><br><span class="line">        <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">            <span class="type">int</span>[] poll = queue.poll();</span><br><span class="line">            <span class="type">int</span> <span class="variable">r</span> <span class="operator">=</span> poll[<span class="number">0</span>];</span><br><span class="line">            <span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> poll[<span class="number">1</span>];</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span>[] direction : directions) &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">newR</span> <span class="operator">=</span> r + direction[<span class="number">0</span>];</span><br><span class="line">                <span class="type">int</span> <span class="variable">newC</span> <span class="operator">=</span> c + direction[<span class="number">1</span>];</span><br><span class="line">                <span class="keyword">if</span> (inBord(board, newR, newC) &amp;&amp; board[newR][newC] == <span class="string">&#x27;O&#x27;</span>) &#123;</span><br><span class="line">                    queue.add(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;newR, newC&#125;);</span><br><span class="line">                    board[newR][newC] = <span class="string">&#x27;#&#x27;</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆ¤æ–­åœ¨ä¸åœ¨æ ¼å­å†…</span></span><br><span class="line"><span class="comment">     * */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">inBord</span><span class="params">(<span class="type">char</span>[][] board, <span class="type">int</span> i, <span class="type">int</span> j)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> i &gt;= <span class="number">0</span> &amp;&amp; i &lt; board.length &amp;&amp; j &gt;= <span class="number">0</span> &amp;&amp; j &lt; board[<span class="number">0</span>].length;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="å¹¶æŸ¥é›†"><a href="#å¹¶æŸ¥é›†" class="headerlink" title="å¹¶æŸ¥é›†"></a>å¹¶æŸ¥é›†</h4><p>å¹¶æŸ¥é›†è¿™ç§æ•°æ®ç»“æ„å¥½åƒå¤§å®¶ä¸å¤ªå¸¸ç”¨ï¼Œå®é™…ä¸Šå¾ˆæœ‰ç”¨ï¼Œæˆ‘åœ¨å®é™…çš„ production code ä¸­ç”¨è¿‡å¹¶æŸ¥é›†ã€‚å¹¶æŸ¥é›†å¸¸ç”¨æ¥è§£å†³è¿é€šæ€§çš„é—®é¢˜ï¼Œå³å°†ä¸€ä¸ªå›¾ä¸­è¿é€šçš„éƒ¨åˆ†åˆ’åˆ†å‡ºæ¥ã€‚å½“æˆ‘ä»¬åˆ¤æ–­å›¾ä¸­ä¸¤ä¸ªç‚¹ä¹‹é—´æ˜¯å¦å­˜åœ¨è·¯å¾„æ—¶ï¼Œå°±å¯ä»¥æ ¹æ®åˆ¤æ–­ä»–ä»¬æ˜¯å¦åœ¨ä¸€ä¸ªè¿é€šåŒºåŸŸã€‚ è€Œè¿™é“é¢˜æˆ‘ä»¬å…¶å®æ±‚è§£çš„å°±æ˜¯å’Œè¾¹ç•Œçš„ O åœ¨ä¸€ä¸ªè¿é€šåŒºåŸŸçš„çš„é—®é¢˜ã€‚</p>
<p>å¹¶æŸ¥é›†çš„æ€æƒ³å°±æ˜¯ï¼ŒåŒä¸€ä¸ªè¿é€šåŒºåŸŸå†…çš„æ‰€æœ‰ç‚¹çš„æ ¹èŠ‚ç‚¹æ˜¯åŒä¸€ä¸ªã€‚å°†æ¯ä¸ªç‚¹æ˜ å°„æˆä¸€ä¸ªæ•°å­—ã€‚å…ˆå‡è®¾æ¯ä¸ªç‚¹çš„æ ¹èŠ‚ç‚¹å°±æ˜¯ä»–ä»¬è‡ªå·±ï¼Œç„¶åæˆ‘ä»¬ä»¥æ­¤è¾“å…¥è¿é€šçš„ç‚¹å¯¹ï¼Œç„¶åå°†å…¶ä¸­ä¸€ä¸ªç‚¹çš„æ ¹èŠ‚ç‚¹èµ‹æˆå¦ä¸€ä¸ªèŠ‚ç‚¹çš„æ ¹èŠ‚ç‚¹ï¼Œè¿™æ ·è¿™ä¸¤ä¸ªç‚¹æ‰€åœ¨è¿é€šåŒºåŸŸåˆç›¸äº’è¿é€šäº†ã€‚<br>å¹¶æŸ¥é›†çš„ä¸»è¦æ“ä½œæœ‰ï¼š</p>
<ul>
<li><p>find(int m)ï¼šè¿™æ˜¯å¹¶æŸ¥é›†çš„åŸºæœ¬æ“ä½œï¼ŒæŸ¥æ‰¾ m çš„æ ¹èŠ‚ç‚¹ã€‚</p>
</li>
<li><p>isConnected(int m,int n)ï¼šåˆ¤æ–­ mï¼Œn ä¸¤ä¸ªç‚¹æ˜¯å¦åœ¨ä¸€ä¸ªè¿é€šåŒºåŸŸã€‚</p>
</li>
<li><p>union(int m,int n):åˆå¹¶ mï¼Œn ä¸¤ä¸ªç‚¹æ‰€åœ¨çš„è¿é€šåŒºåŸŸã€‚</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">UnionFind</span> &#123;</span><br><span class="line">    <span class="type">int</span>[] parents;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">UnionFind</span><span class="params">(<span class="type">int</span> totalNodes)</span> &#123;</span><br><span class="line">        parents = <span class="keyword">new</span> <span class="title class_">int</span>[totalNodes];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; totalNodes; i++) &#123;</span><br><span class="line">            parents[i] = i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">		<span class="comment">// åˆå¹¶è¿é€šåŒºåŸŸæ˜¯é€šè¿‡findæ¥æ“ä½œçš„, å³çœ‹è¿™ä¸¤ä¸ªèŠ‚ç‚¹æ˜¯ä¸æ˜¯åœ¨ä¸€ä¸ªè¿é€šåŒºåŸŸå†….</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">union</span><span class="params">(<span class="type">int</span> node1, <span class="type">int</span> node2)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">root1</span> <span class="operator">=</span> find(node1);</span><br><span class="line">        <span class="type">int</span> <span class="variable">root2</span> <span class="operator">=</span> find(node2);</span><br><span class="line">        <span class="keyword">if</span> (root1 != root2) &#123;</span><br><span class="line">            parents[root2] = root1;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="title function_">find</span><span class="params">(<span class="type">int</span> node)</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (parents[node] != node) &#123;</span><br><span class="line">            <span class="comment">// å½“å‰èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ æŒ‡å‘çˆ¶èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹.</span></span><br><span class="line">            <span class="comment">// ä¿è¯ä¸€ä¸ªè¿é€šåŒºåŸŸæœ€ç»ˆçš„parentsåªæœ‰ä¸€ä¸ª.</span></span><br><span class="line">            parents[node] = parents[parents[node]];</span><br><span class="line">            node = parents[node];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> node;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">boolean</span> <span class="title function_">isConnected</span><span class="params">(<span class="type">int</span> node1, <span class="type">int</span> node2)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> find(node1) == find(node2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬çš„æ€è·¯æ˜¯æŠŠæ‰€æœ‰è¾¹ç•Œä¸Šçš„ O çœ‹åšä¸€ä¸ªè¿é€šåŒºåŸŸã€‚é‡åˆ° O å°±æ‰§è¡Œå¹¶æŸ¥é›†åˆå¹¶æ“ä½œï¼Œè¿™æ ·æ‰€æœ‰çš„ O å°±ä¼šè¢«åˆ†æˆä¸¤ç±»</p>
<ul>
<li>å’Œè¾¹ç•Œä¸Šçš„ O åœ¨ä¸€ä¸ªè¿é€šåŒºåŸŸå†…çš„ã€‚è¿™äº› O æˆ‘ä»¬ä¿ç•™ã€‚</li>
<li>ä¸å’Œè¾¹ç•Œä¸Šçš„ O åœ¨ä¸€ä¸ªè¿é€šåŒºåŸŸå†…çš„ã€‚è¿™äº› O å°±æ˜¯è¢«åŒ…å›´çš„ï¼Œæ›¿æ¢ã€‚</li>
</ul>
<p>ç”±äºå¹¶æŸ¥é›†æˆ‘ä»¬ä¸€èˆ¬ç”¨ä¸€ç»´æ•°ç»„æ¥è®°å½•ï¼Œæ–¹ä¾¿æŸ¥æ‰¾ parantsï¼Œæ‰€ä»¥æˆ‘ä»¬å°†äºŒç»´åæ ‡ç”¨ node å‡½æ•°è½¬åŒ–ä¸ºä¸€ç»´åæ ‡ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">solve</span><span class="params">(<span class="type">char</span>[][] board)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (board == <span class="literal">null</span> || board.length == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">rows</span> <span class="operator">=</span> board.length;</span><br><span class="line">        <span class="type">int</span> <span class="variable">cols</span> <span class="operator">=</span> board[<span class="number">0</span>].length;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ç”¨ä¸€ä¸ªè™šæ‹ŸèŠ‚ç‚¹, è¾¹ç•Œä¸Šçš„O çš„çˆ¶èŠ‚ç‚¹éƒ½æ˜¯è¿™ä¸ªè™šæ‹ŸèŠ‚ç‚¹</span></span><br><span class="line">        <span class="type">UnionFind</span> <span class="variable">uf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">UnionFind</span>(rows * cols + <span class="number">1</span>);</span><br><span class="line">        <span class="type">int</span> <span class="variable">dummyNode</span> <span class="operator">=</span> rows * cols;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; rows; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; cols; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (board[i][j] == <span class="string">&#x27;O&#x27;</span>) &#123;</span><br><span class="line">                    <span class="comment">// é‡åˆ°Oè¿›è¡Œå¹¶æŸ¥é›†æ“ä½œåˆå¹¶</span></span><br><span class="line">                    <span class="keyword">if</span> (i == <span class="number">0</span> || i == rows - <span class="number">1</span> || j == <span class="number">0</span> || j == cols - <span class="number">1</span>) &#123;</span><br><span class="line">                        <span class="comment">// è¾¹ç•Œä¸Šçš„O,æŠŠå®ƒå’ŒdummyNode åˆå¹¶æˆä¸€ä¸ªè¿é€šåŒºåŸŸ.</span></span><br><span class="line">                        uf.union(node(i, j, cols), dummyNode);</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="comment">// å’Œä¸Šä¸‹å·¦å³åˆå¹¶æˆä¸€ä¸ªè¿é€šåŒºåŸŸ.</span></span><br><span class="line">                        <span class="keyword">if</span> (i &gt; <span class="number">0</span> &amp;&amp; board[i - <span class="number">1</span>][j] == <span class="string">&#x27;O&#x27;</span>)</span><br><span class="line">                            uf.union(node(i, j, cols), node(i - <span class="number">1</span>, j, cols));</span><br><span class="line">                        <span class="keyword">if</span> (i &lt; rows - <span class="number">1</span> &amp;&amp; board[i + <span class="number">1</span>][j] == <span class="string">&#x27;O&#x27;</span>)</span><br><span class="line">                            uf.union(node(i, j, cols), node(i + <span class="number">1</span>, j, cols));</span><br><span class="line">                        <span class="keyword">if</span> (j &gt; <span class="number">0</span> &amp;&amp; board[i][j - <span class="number">1</span>] == <span class="string">&#x27;O&#x27;</span>)</span><br><span class="line">                            uf.union(node(i, j, cols), node(i, j - <span class="number">1</span>, cols));</span><br><span class="line">                        <span class="keyword">if</span> (j &lt; cols - <span class="number">1</span> &amp;&amp; board[i][j + <span class="number">1</span>] == <span class="string">&#x27;O&#x27;</span>)</span><br><span class="line">                            uf.union(node(i, j, cols), node(i, j + <span class="number">1</span>, cols));</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; rows; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; cols; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (uf.isConnected(node(i, j, cols), dummyNode)) &#123;</span><br><span class="line">                    <span class="comment">// å’ŒdummyNode åœ¨ä¸€ä¸ªè¿é€šåŒºåŸŸçš„,é‚£ä¹ˆå°±æ˜¯Oï¼›</span></span><br><span class="line">                    board[i][j] = <span class="string">&#x27;O&#x27;</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    board[i][j] = <span class="string">&#x27;X&#x27;</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="title function_">node</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> j,<span class="type">int</span> cols)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> i * cols + j;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">UnionFind</span> &#123;</span><br><span class="line">    <span class="type">int</span>[] parents;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">UnionFind</span><span class="params">(<span class="type">int</span> totalNodes)</span> &#123;</span><br><span class="line">        parents = <span class="keyword">new</span> <span class="title class_">int</span>[totalNodes];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; totalNodes; i++) &#123;</span><br><span class="line">            parents[i] = i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">		<span class="comment">// åˆå¹¶è¿é€šåŒºåŸŸæ˜¯é€šè¿‡findæ¥æ“ä½œçš„, å³çœ‹è¿™ä¸¤ä¸ªèŠ‚ç‚¹æ˜¯ä¸æ˜¯åœ¨ä¸€ä¸ªè¿é€šåŒºåŸŸå†….</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">union</span><span class="params">(<span class="type">int</span> node1, <span class="type">int</span> node2)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">root1</span> <span class="operator">=</span> find(node1);</span><br><span class="line">        <span class="type">int</span> <span class="variable">root2</span> <span class="operator">=</span> find(node2);</span><br><span class="line">        <span class="keyword">if</span> (root1 != root2) &#123;</span><br><span class="line">            parents[root2] = root1;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="title function_">find</span><span class="params">(<span class="type">int</span> node)</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (parents[node] != node) &#123;</span><br><span class="line">            <span class="comment">// å½“å‰èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ æŒ‡å‘çˆ¶èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹.</span></span><br><span class="line">            <span class="comment">// ä¿è¯ä¸€ä¸ªè¿é€šåŒºåŸŸæœ€ç»ˆçš„parentsåªæœ‰ä¸€ä¸ª.</span></span><br><span class="line">            parents[node] = parents[parents[node]];</span><br><span class="line">            node = parents[node];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> node;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">boolean</span> <span class="title function_">isConnected</span><span class="params">(<span class="type">int</span> node1, <span class="type">int</span> node2)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> find(node1) == find(node2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="4-15ã€LC2293-æå¤§æå°æ¸¸æˆ"><a href="#4-15ã€LC2293-æå¤§æå°æ¸¸æˆ" class="headerlink" title="4.15ã€LC2293. æå¤§æå°æ¸¸æˆ"></a>4.15ã€LC2293. æå¤§æå°æ¸¸æˆ</h3><p>ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» <strong>0</strong> å¼€å§‹çš„æ•´æ•°æ•°ç»„ <code>nums</code> ï¼Œå…¶é•¿åº¦æ˜¯ <code>2</code> çš„å¹‚ã€‚</p>
<p>å¯¹ <code>nums</code> æ‰§è¡Œä¸‹è¿°ç®—æ³•ï¼š</p>
<ol>
<li>è®¾ <code>n</code> ç­‰äº <code>nums</code> çš„é•¿åº¦ï¼Œå¦‚æœ <code>n == 1</code> ï¼Œ<strong>ç»ˆæ­¢</strong> ç®—æ³•è¿‡ç¨‹ã€‚å¦åˆ™ï¼Œ<strong>åˆ›å»º</strong> ä¸€ä¸ªæ–°çš„æ•´æ•°æ•°ç»„ <code>newNums</code> ï¼Œæ–°æ•°ç»„é•¿åº¦ä¸º <code>n / 2</code> ï¼Œä¸‹æ ‡ä» <strong>0</strong> å¼€å§‹ã€‚</li>
<li>å¯¹äºæ»¡è¶³ <code>0 &lt;= i &lt; n / 2</code> çš„æ¯ä¸ª <strong>å¶æ•°</strong> ä¸‹æ ‡ <code>i</code> ï¼Œå°† <code>newNums[i]</code> <strong>èµ‹å€¼</strong> ä¸º <code>min(nums[2 * i], nums[2 * i + 1])</code> ã€‚</li>
<li>å¯¹äºæ»¡è¶³ <code>0 &lt;= i &lt; n / 2</code> çš„æ¯ä¸ª <strong>å¥‡æ•°</strong> ä¸‹æ ‡ <code>i</code> ï¼Œå°† <code>newNums[i]</code> <strong>èµ‹å€¼</strong> ä¸º <code>max(nums[2 * i], nums[2 * i + 1])</code> ã€‚</li>
<li>ç”¨ <code>newNums</code> æ›¿æ¢ <code>nums</code> ã€‚</li>
<li>ä»æ­¥éª¤ 1 å¼€å§‹ <strong>é‡å¤</strong> æ•´ä¸ªè¿‡ç¨‹ã€‚</li>
</ol>
<p>æ‰§è¡Œç®—æ³•åï¼Œè¿”å› <code>nums</code> ä¸­å‰©ä¸‹çš„é‚£ä¸ªæ•°å­—ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/example1drawio-1.png" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [1,3,5,2,4,8,2,2]</span><br><span class="line">è¾“å‡ºï¼š1</span><br><span class="line">è§£é‡Šï¼šé‡å¤æ‰§è¡Œç®—æ³•ä¼šå¾—åˆ°ä¸‹è¿°æ•°ç»„ã€‚</span><br><span class="line">ç¬¬ä¸€è½®ï¼šnums = [1,5,4,2]</span><br><span class="line">ç¬¬äºŒè½®ï¼šnums = [1,4]</span><br><span class="line">ç¬¬ä¸‰è½®ï¼šnums = [1]</span><br><span class="line">1 æ˜¯æœ€åå‰©ä¸‹çš„é‚£ä¸ªæ•°å­—ï¼Œè¿”å› 1 ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [3]</span><br><span class="line">è¾“å‡ºï¼š3</span><br><span class="line">è§£é‡Šï¼š3 å°±æ˜¯æœ€åå‰©ä¸‹çš„æ•°å­—ï¼Œè¿”å› 3 ã€‚</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= nums.length &lt;= 1024</code></li>
<li><code>1 &lt;= nums[i] &lt;= 109</code></li>
<li><code>nums.length</code> æ˜¯ <code>2</code> çš„å¹‚</li>
</ul>
<p>Related Topics</p>
<p>æ•°ç»„</p>
<p>æ¨¡æ‹Ÿ</p>
<p>ğŸ‘ 29</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>:</p>
<h4 id="ç›´æ¥æ¨¡æ‹Ÿ"><a href="#ç›´æ¥æ¨¡æ‹Ÿ" class="headerlink" title="ç›´æ¥æ¨¡æ‹Ÿ"></a>ç›´æ¥æ¨¡æ‹Ÿ</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minMaxGame</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        <span class="keyword">while</span>(nums.length &gt; <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="type">int</span>[] newNums = <span class="keyword">new</span> <span class="title class_">int</span>[nums.length / <span class="number">2</span>];</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; newNums.length; i++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (i % <span class="number">2</span> == <span class="number">0</span>) &#123; <span class="comment">// å¶æ•°</span></span><br><span class="line">                    newNums[i] = Math.min(nums[<span class="number">2</span> * i], nums[<span class="number">2</span> * i + <span class="number">1</span>]);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123; <span class="comment">// è®¡æ•°</span></span><br><span class="line">                    newNums[i] = Math.max(nums[<span class="number">2</span> * i], nums[<span class="number">2</span> * i + <span class="number">1</span>]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            nums = newNums;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> nums[<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦O(N)</li>
<li>ç©ºé—´å¤æ‚åº¦O(N)</li>
</ul>
<h4 id="ç©ºé—´ä¸Šä¼˜åŒ–-åŸæ•°ç»„ä¿®æ”¹"><a href="#ç©ºé—´ä¸Šä¼˜åŒ–-åŸæ•°ç»„ä¿®æ”¹" class="headerlink" title="ç©ºé—´ä¸Šä¼˜åŒ–,åŸæ•°ç»„ä¿®æ”¹"></a>ç©ºé—´ä¸Šä¼˜åŒ–,åŸæ•°ç»„ä¿®æ”¹</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minMaxGame</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> nums.length / <span class="number">2</span>; len &gt;= <span class="number">1</span>; len /= <span class="number">2</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (i % <span class="number">2</span> == <span class="number">0</span>) &#123; <span class="comment">// å¶æ•°</span></span><br><span class="line">                    nums[i] = Math.min(nums[<span class="number">2</span> * i], nums[<span class="number">2</span> * i + <span class="number">1</span>]);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123; <span class="comment">// è®¡æ•°</span></span><br><span class="line">                    nums[i] = Math.max(nums[<span class="number">2</span> * i], nums[<span class="number">2</span> * i + <span class="number">1</span>]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> nums[<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦O(N)</li>
<li>ç©ºé—´å¤æ‚åº¦O(1)</li>
</ul>
<h4 id="é€’å½’-1"><a href="#é€’å½’-1" class="headerlink" title="é€’å½’"></a>é€’å½’</h4><p>è‹¥æ•°ç»„ nums çš„é•¿åº¦ n ç­‰äº 1ï¼Œæˆ‘ä»¬ç›´æ¥è¿”å› nums*[0] ä½œä¸ºç­”æ¡ˆã€‚å¦åˆ™ï¼ŒæŒ‰ç…§é¢˜æ„æ±‚å‡ºä¸€ä¸ªé•¿åº¦ä¸º n&#x2F;2 çš„æ•°ç»„ newNums*ï¼Œé€’å½’æ±‚è§£ newNums çš„ç­”æ¡ˆå³å¯ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minMaxGame</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> nums.length;</span><br><span class="line">        <span class="keyword">if</span> (n == <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> nums[<span class="number">0</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span>[] newNums = <span class="keyword">new</span> <span class="title class_">int</span>[n / <span class="number">2</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; newNums.length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i % <span class="number">2</span> == <span class="number">0</span>) &#123;</span><br><span class="line">                newNums[i] = Math.min(nums[<span class="number">2</span> * i], nums[<span class="number">2</span> * i + <span class="number">1</span>]);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                newNums[i] = Math.max(nums[<span class="number">2</span> * i], nums[<span class="number">2</span> * i + <span class="number">1</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> minMaxGame(newNums);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦O(N)</li>
<li>ç©ºé—´å¤æ‚åº¦O(N)</li>
</ul>
<h3 id="4-16ã€LC2303-è®¡ç®—åº”ç¼´ç¨æ¬¾æ€»é¢"><a href="#4-16ã€LC2303-è®¡ç®—åº”ç¼´ç¨æ¬¾æ€»é¢" class="headerlink" title="4.16ã€LC2303. è®¡ç®—åº”ç¼´ç¨æ¬¾æ€»é¢"></a>4.16ã€LC2303. è®¡ç®—åº”ç¼´ç¨æ¬¾æ€»é¢</h3><p>ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» <strong>0</strong> å¼€å§‹çš„äºŒç»´æ•´æ•°æ•°ç»„ <code>brackets</code> ï¼Œå…¶ä¸­ <code>brackets[i] = [upperi, percenti]</code> ï¼Œè¡¨ç¤ºç¬¬ <code>i</code> ä¸ªç¨çº§çš„ä¸Šé™æ˜¯ <code>upperi</code> ï¼Œå¾æ”¶çš„ç¨ç‡ä¸º <code>percenti</code> ã€‚ç¨çº§æŒ‰ä¸Šé™ <strong>ä»ä½åˆ°é«˜æ’åº</strong>ï¼ˆåœ¨æ»¡è¶³ <code>0 &lt; i &lt; brackets.length</code> çš„å‰æä¸‹ï¼Œ<code>upperi-1 &lt; upperi</code>ï¼‰ã€‚</p>
<p>ç¨æ¬¾è®¡ç®—æ–¹å¼å¦‚ä¸‹ï¼š</p>
<ul>
<li>ä¸è¶…è¿‡ <code>upper0</code> çš„æ”¶å…¥æŒ‰ç¨ç‡ <code>percent0</code> ç¼´çº³</li>
<li>æ¥ç€ <code>upper1 - upper0</code> çš„éƒ¨åˆ†æŒ‰ç¨ç‡ <code>percent1</code> ç¼´çº³</li>
<li>ç„¶å <code>upper2 - upper1</code> çš„éƒ¨åˆ†æŒ‰ç¨ç‡ <code>percent2</code> ç¼´çº³</li>
<li>ä»¥æ­¤ç±»æ¨</li>
</ul>
<p>ç»™ä½ ä¸€ä¸ªæ•´æ•° <code>income</code> è¡¨ç¤ºä½ çš„æ€»æ”¶å…¥ã€‚è¿”å›ä½ éœ€è¦ç¼´çº³çš„ç¨æ¬¾æ€»é¢ã€‚ä¸æ ‡å‡†ç­”æ¡ˆè¯¯å·®ä¸è¶… <code>10-5</code> çš„ç»“æœå°†è¢«è§†ä½œæ­£ç¡®ç­”æ¡ˆã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šbrackets = [[3,50],[7,10],[12,25]], income = 10</span><br><span class="line">è¾“å‡ºï¼š2.65000</span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">å‰ $3 çš„ç¨ç‡ä¸º 50% ã€‚éœ€è¦æ”¯ä»˜ç¨æ¬¾ $3 * 50% = $1.50 ã€‚</span><br><span class="line">æ¥ä¸‹æ¥ $7 - $3 = $4 çš„ç¨ç‡ä¸º 10% ã€‚éœ€è¦æ”¯ä»˜ç¨æ¬¾ $4 * 10% = $0.40 ã€‚</span><br><span class="line">æœ€å $10 - $7 = $3 çš„ç¨ç‡ä¸º 25% ã€‚éœ€è¦æ”¯ä»˜ç¨æ¬¾ $3 * 25% = $0.75 ã€‚</span><br><span class="line">éœ€è¦æ”¯ä»˜çš„ç¨æ¬¾æ€»è®¡ $1.50 + $0.40 + $0.75 = $2.65 ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šbrackets = [[1,0],[4,25],[5,50]], income = 2</span><br><span class="line">è¾“å‡ºï¼š0.25000</span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">å‰ $1 çš„ç¨ç‡ä¸º 0% ã€‚éœ€è¦æ”¯ä»˜ç¨æ¬¾ $1 * 0% = $0 ã€‚</span><br><span class="line">å‰©ä¸‹ $1 çš„ç¨ç‡ä¸º 25% ã€‚éœ€è¦æ”¯ä»˜ç¨æ¬¾ $1 * 25% = $0.25 ã€‚</span><br><span class="line">éœ€è¦æ”¯ä»˜çš„ç¨æ¬¾æ€»è®¡ $0 + $0.25 = $0.25 ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šbrackets = [[2,50]], income = 0</span><br><span class="line">è¾“å‡ºï¼š0.00000</span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">æ²¡æœ‰æ”¶å…¥ï¼Œæ— éœ€çº³ç¨ï¼Œéœ€è¦æ”¯ä»˜çš„ç¨æ¬¾æ€»è®¡ $0 ã€‚</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= brackets.length &lt;= 100</code></li>
<li><code>1 &lt;= upperi &lt;= 1000</code></li>
<li><code>0 &lt;= percenti &lt;= 100</code></li>
<li><code>0 &lt;= income &lt;= 1000</code></li>
<li><code>upperi</code> æŒ‰é€’å¢é¡ºåºæ’åˆ—</li>
<li><code>upperi</code> ä¸­çš„æ‰€æœ‰å€¼ <strong>äº’ä¸ç›¸åŒ</strong></li>
<li>æœ€åä¸€ä¸ªç¨çº§çš„ä¸Šé™å¤§äºç­‰äº <code>income</code></li>
</ul>
<p>Related Topics</p>
<p>æ•°ç»„</p>
<p>æ¨¡æ‹Ÿ</p>
<p>ğŸ‘ 41</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>éå† <code>brackets</code>ï¼Œå¯¹äºæ¯ä¸ªç¨çº§ï¼Œè®¡ç®—è¯¥ç¨çº§çš„ç¨é¢ï¼Œç„¶åç´¯åŠ å³å¯ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">calculateTax</span><span class="params">(<span class="type">int</span>[][] brackets, <span class="type">int</span> income)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">pre</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">double</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span>[] bracket : brackets) &#123;</span><br><span class="line">            <span class="keyword">if</span> (income &lt;= bracket[<span class="number">0</span>]) &#123; <span class="comment">// æ²¡è¶…è¿‡å½“å‰çš„ upper</span></span><br><span class="line">                res += (income - pre) * bracket[<span class="number">1</span>] / <span class="number">100.0</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123; <span class="comment">// è¶…è¿‡äº†å½“å‰çš„ upper</span></span><br><span class="line">                res += (bracket[<span class="number">0</span>] - pre) * bracket[<span class="number">1</span>] / <span class="number">100.0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            pre = bracket[<span class="number">0</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦O(N)</li>
<li>ç©ºé—´å¤æ‚åº¦O(1)</li>
</ul>
<h2 id="äº”ã€æ•°æ®ç»“æ„ç¯‡"><a href="#äº”ã€æ•°æ®ç»“æ„ç¯‡" class="headerlink" title="äº”ã€æ•°æ®ç»“æ„ç¯‡"></a>äº”ã€æ•°æ®ç»“æ„ç¯‡</h2><h3 id="å­—ç¬¦ä¸²"><a href="#å­—ç¬¦ä¸²" class="headerlink" title="#å­—ç¬¦ä¸²"></a>#å­—ç¬¦ä¸²</h3><h4 id="1ã€å‰‘æŒ‡-Offer05-æ›¿æ¢ç©ºæ ¼"><a href="#1ã€å‰‘æŒ‡-Offer05-æ›¿æ¢ç©ºæ ¼" class="headerlink" title="1ã€å‰‘æŒ‡ Offer05. æ›¿æ¢ç©ºæ ¼"></a>1ã€å‰‘æŒ‡ Offer05. æ›¿æ¢ç©ºæ ¼</h4><p>è¯·å®ç°ä¸€ä¸ªå‡½æ•°ï¼ŒæŠŠå­—ç¬¦ä¸² <code>s</code> ä¸­çš„æ¯ä¸ªç©ºæ ¼æ›¿æ¢æˆâ€%20â€ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;We are happy.&quot;</span><br><span class="line">è¾“å‡ºï¼š&quot;We%20are%20happy.&quot;</span><br></pre></td></tr></table></figure>



<p><strong>é™åˆ¶ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0 &lt;= s çš„é•¿åº¦ &lt;= 10000</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> String <span class="title function_">replaceSpace</span><span class="params">(String s)</span> &#123;</span><br><span class="line">    <span class="comment">//StringBuilder å•çº¿ç¨‹ä½¿ç”¨ï¼Œæ¯”è¾ƒå¿«</span></span><br><span class="line">    <span class="type">StringBuilder</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (s.charAt(i) == <span class="string">&#x27; &#x27;</span>) &#123;</span><br><span class="line">            sb.append(<span class="string">&quot;%20&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            sb.append(s.charAt(i));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sb.toString();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2ã€å‰‘æŒ‡-Offer-58-II-å·¦æ—‹è½¬å­—ç¬¦ä¸²"><a href="#2ã€å‰‘æŒ‡-Offer-58-II-å·¦æ—‹è½¬å­—ç¬¦ä¸²" class="headerlink" title="2ã€å‰‘æŒ‡ Offer 58 - II. å·¦æ—‹è½¬å­—ç¬¦ä¸²"></a>2ã€å‰‘æŒ‡ Offer 58 - II. å·¦æ—‹è½¬å­—ç¬¦ä¸²</h4><p>å­—ç¬¦ä¸²çš„å·¦æ—‹è½¬æ“ä½œæ˜¯æŠŠå­—ç¬¦ä¸²å‰é¢çš„è‹¥å¹²ä¸ªå­—ç¬¦è½¬ç§»åˆ°å­—ç¬¦ä¸²çš„å°¾éƒ¨ã€‚è¯·å®šä¹‰ä¸€ä¸ªå‡½æ•°å®ç°å­—ç¬¦ä¸²å·¦æ—‹è½¬æ“ä½œçš„åŠŸèƒ½ã€‚æ¯”å¦‚ï¼Œè¾“å…¥å­—ç¬¦ä¸²â€abcdefgâ€å’Œæ•°å­—2ï¼Œè¯¥å‡½æ•°å°†è¿”å›å·¦æ—‹è½¬ä¸¤ä½å¾—åˆ°çš„ç»“æœâ€cdefgabâ€ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: s = &quot;abcdefg&quot;, k = 2</span><br><span class="line">è¾“å‡º: &quot;cdefgab&quot;</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: s = &quot;lrloseumgh&quot;, k = 6</span><br><span class="line">è¾“å‡º: &quot;umghlrlose&quot;</span><br></pre></td></tr></table></figure>



<p><strong>é™åˆ¶ï¼š</strong></p>
<ul>
<li><code>1 &lt;= k &lt; s.length &lt;= 10000</code></li>
</ul>
<p>Related Topics</p>
<p>æ•°å­¦</p>
<p>åŒæŒ‡é’ˆ</p>
<p>å­—ç¬¦ä¸²</p>
<h5 id="å­—ç¬¦ä¸²åˆ‡ç‰‡"><a href="#å­—ç¬¦ä¸²åˆ‡ç‰‡" class="headerlink" title="å­—ç¬¦ä¸²åˆ‡ç‰‡"></a>å­—ç¬¦ä¸²åˆ‡ç‰‡</h5><blockquote>
<p>åº”ç”¨å­—ç¬¦ä¸²åˆ‡ç‰‡å‡½æ•°ï¼Œå¯æ–¹ä¾¿å®ç°å·¦æ—‹è½¬å­—ç¬¦ä¸²ã€‚</p>
</blockquote>
<p>è·å–å­—ç¬¦ä¸² s[n:] åˆ‡ç‰‡å’Œ s[:n] åˆ‡ç‰‡ï¼Œä½¿ç”¨ â€œ+â€ è¿ç®—ç¬¦æ‹¼æ¥å¹¶è¿”å›å³å¯ã€‚</p>
<p><strong>å¤æ‚åº¦åˆ†æï¼š</strong><br>æ—¶é—´å¤æ‚åº¦ O(N)ï¼š å…¶ä¸­ NN ä¸ºå­—ç¬¦ä¸² s çš„é•¿åº¦ï¼Œå­—ç¬¦ä¸²åˆ‡ç‰‡å‡½æ•°ä¸ºçº¿æ€§æ—¶é—´å¤æ‚åº¦ï¼ˆå‚è€ƒèµ„æ–™ï¼‰ã€‚<br>ç©ºé—´å¤æ‚åº¦ O(N)ï¼š ä¸¤ä¸ªå­—ç¬¦ä¸²åˆ‡ç‰‡çš„æ€»é•¿åº¦ä¸º Nã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.leetcode-cn.com/1600793170-eyvDTJ-Picture1.png" alt="Picture1.png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">reverseLeftWords</span><span class="params">(String s, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> s.substring(n, s.length()) + s.substring(<span class="number">0</span>, n);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="åˆ—è¡¨éå†æ‹¼æ¥"><a href="#åˆ—è¡¨éå†æ‹¼æ¥" class="headerlink" title="åˆ—è¡¨éå†æ‹¼æ¥"></a>åˆ—è¡¨éå†æ‹¼æ¥</h5><blockquote>
<p>è‹¥é¢è¯•è§„å®šä¸å…è®¸ä½¿ç”¨ åˆ‡ç‰‡å‡½æ•° ï¼Œåˆ™ä½¿ç”¨æ­¤æ–¹æ³•ã€‚</p>
</blockquote>
<p><strong>ç®—æ³•æµç¨‹ï¼š</strong></p>
<ol>
<li>æ–°å»ºä¸€ä¸ª StringBuilderï¼Œè®°ä¸º res ï¼›</li>
<li>å…ˆå‘ res æ·»åŠ  â€œç¬¬ n+1 ä½è‡³æœ«ä½çš„å­—ç¬¦â€ ï¼›</li>
<li>å†å‘ res æ·»åŠ  â€œé¦–ä½è‡³ç¬¬ n ä½çš„å­—ç¬¦â€ ï¼›</li>
<li>å°† res è½¬åŒ–ä¸ºå­—ç¬¦ä¸²å¹¶è¿”å›ï¼›</li>
</ol>
<p><strong>å¤æ‚åº¦åˆ†æï¼š</strong><br>æ—¶é—´å¤æ‚åº¦ O(N)O(N) ï¼š çº¿æ€§éå† s å¹¶æ·»åŠ ï¼Œä½¿ç”¨çº¿æ€§æ—¶é—´ã€‚<br>ç©ºé—´å¤æ‚åº¦ O(N)O(N) ï¼š æ–°å»ºçš„è¾…åŠ© res ä½¿ç”¨ O(N)O(N) å¤§å°çš„é¢å¤–ç©ºé—´ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.leetcode-cn.com/1600793170-ViWBNV-Picture2.png" alt="Picture2.png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">reverseLeftWords</span><span class="params">(String s, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">res</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> n; i &lt; s.length(); i++)</span><br><span class="line">            res.append(s.charAt(i));</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">            res.append(s.charAt(i));</span><br><span class="line">        <span class="keyword">return</span> res.toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ±‚ä½™è¿ç®—åŠ é€Ÿ</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">reverseLeftWords</span><span class="params">(String s, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">res</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> n; i &lt; n + s.length(); i++)</span><br><span class="line">            res.append(s.charAt(i % s.length()));</span><br><span class="line">        <span class="keyword">return</span> res.toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="å­—ç¬¦ä¸²éå†æ‹¼æ¥"><a href="#å­—ç¬¦ä¸²éå†æ‹¼æ¥" class="headerlink" title="å­—ç¬¦ä¸²éå†æ‹¼æ¥"></a>å­—ç¬¦ä¸²éå†æ‹¼æ¥</h5><blockquote>
<p>è‹¥è§„å®š Java åªèƒ½ç”¨ String ï¼Œåˆ™ä½¿ç”¨æ­¤æ–¹æ³•ã€‚</p>
</blockquote>
<p>æ­¤æ–¹æ³•ä¸ æ–¹æ³•äºŒ æ€è·¯ä¸€è‡´ï¼ŒåŒºåˆ«æ˜¯ä½¿ç”¨å­—ç¬¦ä¸²ä»£æ›¿åˆ—è¡¨ã€‚</p>
<p><strong>å¤æ‚åº¦åˆ†æï¼š</strong><br>æ—¶é—´å¤æ‚åº¦ O(N)ï¼š çº¿æ€§éå† s å¹¶æ·»åŠ ï¼Œä½¿ç”¨çº¿æ€§æ—¶é—´ã€‚<br>ç©ºé—´å¤æ‚åº¦ O(N) ï¼š å‡è®¾å¾ªç¯è¿‡ç¨‹ä¸­å†…å­˜ä¼šè¢«åŠæ—¶å›æ”¶ï¼Œå†…å­˜ä¸­è‡³å°‘åŒæ—¶å­˜åœ¨é•¿åº¦ä¸º N å’Œ Nâˆ’1 çš„ä¸¤ä¸ªå­—ç¬¦ä¸²ï¼ˆæ–°å»ºé•¿åº¦ä¸º N çš„ res éœ€è¦ä½¿ç”¨å‰ä¸€ä¸ªé•¿åº¦ Nâˆ’1 çš„ res ï¼‰ï¼Œå› æ­¤è‡³å°‘ä½¿ç”¨ O(N) çš„é¢å¤–ç©ºé—´ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.leetcode-cn.com/1600793170-uasqXO-Picture3.png" alt="Picture3.png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">reverseLeftWords</span><span class="params">(String s, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">res</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> n; i &lt; s.length(); i++)</span><br><span class="line">            res += s.charAt(i);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">            res += s.charAt(i);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ±‚ä½™è¿ç®—åŠ é€Ÿ</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">reverseLeftWords</span><span class="params">(String s, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">res</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> n; i &lt; n + s.length(); i++)</span><br><span class="line">            res += s.charAt(i % s.length());</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="3ã€å‰‘æŒ‡-Offer-67-æŠŠå­—ç¬¦ä¸²è½¬æ¢æˆæ•´æ•°"><a href="#3ã€å‰‘æŒ‡-Offer-67-æŠŠå­—ç¬¦ä¸²è½¬æ¢æˆæ•´æ•°" class="headerlink" title="3ã€å‰‘æŒ‡ Offer 67. æŠŠå­—ç¬¦ä¸²è½¬æ¢æˆæ•´æ•°"></a>3ã€å‰‘æŒ‡ Offer 67. æŠŠå­—ç¬¦ä¸²è½¬æ¢æˆæ•´æ•°</h4><p>å†™ä¸€ä¸ªå‡½æ•° StrToIntï¼Œå®ç°æŠŠå­—ç¬¦ä¸²è½¬æ¢æˆæ•´æ•°è¿™ä¸ªåŠŸèƒ½ã€‚ä¸èƒ½ä½¿ç”¨ atoi æˆ–è€…å…¶ä»–ç±»ä¼¼çš„åº“å‡½æ•°ã€‚</p>
<p>é¦–å…ˆï¼Œè¯¥å‡½æ•°ä¼šæ ¹æ®éœ€è¦ä¸¢å¼ƒæ— ç”¨çš„å¼€å¤´ç©ºæ ¼å­—ç¬¦ï¼Œç›´åˆ°å¯»æ‰¾åˆ°ç¬¬ä¸€ä¸ªéç©ºæ ¼çš„å­—ç¬¦ä¸ºæ­¢ã€‚</p>
<p>å½“æˆ‘ä»¬å¯»æ‰¾åˆ°çš„ç¬¬ä¸€ä¸ªéç©ºå­—ç¬¦ä¸ºæ­£æˆ–è€…è´Ÿå·æ—¶ï¼Œåˆ™å°†è¯¥ç¬¦å·ä¸ä¹‹åé¢å°½å¯èƒ½å¤šçš„è¿ç»­æ•°å­—ç»„åˆèµ·æ¥ï¼Œä½œä¸ºè¯¥æ•´æ•°çš„æ­£è´Ÿå·ï¼›å‡å¦‚ç¬¬ä¸€ä¸ªéç©ºå­—ç¬¦æ˜¯æ•°å­—ï¼Œåˆ™ç›´æ¥å°†å…¶ä¸ä¹‹åè¿ç»­çš„æ•°å­—å­—ç¬¦ç»„åˆèµ·æ¥ï¼Œå½¢æˆæ•´æ•°ã€‚</p>
<p>è¯¥å­—ç¬¦ä¸²é™¤äº†æœ‰æ•ˆçš„æ•´æ•°éƒ¨åˆ†ä¹‹åä¹Ÿå¯èƒ½ä¼šå­˜åœ¨å¤šä½™çš„å­—ç¬¦ï¼Œè¿™äº›å­—ç¬¦å¯ä»¥è¢«å¿½ç•¥ï¼Œå®ƒä»¬å¯¹äºå‡½æ•°ä¸åº”è¯¥é€ æˆå½±å“ã€‚</p>
<p>æ³¨æ„ï¼šå‡å¦‚è¯¥å­—ç¬¦ä¸²ä¸­çš„ç¬¬ä¸€ä¸ªéç©ºæ ¼å­—ç¬¦ä¸æ˜¯ä¸€ä¸ªæœ‰æ•ˆæ•´æ•°å­—ç¬¦ã€å­—ç¬¦ä¸²ä¸ºç©ºæˆ–å­—ç¬¦ä¸²ä»…åŒ…å«ç©ºç™½å­—ç¬¦æ—¶ï¼Œåˆ™ä½ çš„å‡½æ•°ä¸éœ€è¦è¿›è¡Œè½¬æ¢ã€‚</p>
<p>åœ¨ä»»ä½•æƒ…å†µä¸‹ï¼Œè‹¥å‡½æ•°ä¸èƒ½è¿›è¡Œæœ‰æ•ˆçš„è½¬æ¢æ—¶ï¼Œè¯·è¿”å› 0ã€‚</p>
<p><strong>è¯´æ˜ï¼š</strong></p>
<p>å‡è®¾æˆ‘ä»¬çš„ç¯å¢ƒåªèƒ½å­˜å‚¨ 32 ä½å¤§å°çš„æœ‰ç¬¦å·æ•´æ•°ï¼Œé‚£ä¹ˆå…¶æ•°å€¼èŒƒå›´ä¸º [âˆ’231, 231 âˆ’ 1]ã€‚å¦‚æœæ•°å€¼è¶…è¿‡è¿™ä¸ªèŒƒå›´ï¼Œè¯·è¿”å› INT_MAX (231 âˆ’ 1) æˆ– INT_MIN (âˆ’231) ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: &quot;42&quot;</span><br><span class="line">è¾“å‡º: 42</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: &quot;   -42&quot;</span><br><span class="line">è¾“å‡º: -42</span><br><span class="line">è§£é‡Š: ç¬¬ä¸€ä¸ªéç©ºç™½å­—ç¬¦ä¸º &#x27;-&#x27;, å®ƒæ˜¯ä¸€ä¸ªè´Ÿå·ã€‚</span><br><span class="line">     æˆ‘ä»¬å°½å¯èƒ½å°†è´Ÿå·ä¸åé¢æ‰€æœ‰è¿ç»­å‡ºç°çš„æ•°å­—ç»„åˆèµ·æ¥ï¼Œæœ€åå¾—åˆ° -42 ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: &quot;4193 with words&quot;</span><br><span class="line">è¾“å‡º: 4193</span><br><span class="line">è§£é‡Š: è½¬æ¢æˆªæ­¢äºæ•°å­— &#x27;3&#x27; ï¼Œå› ä¸ºå®ƒçš„ä¸‹ä¸€ä¸ªå­—ç¬¦ä¸ä¸ºæ•°å­—ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 4:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: &quot;words and 987&quot;</span><br><span class="line">è¾“å‡º: 0</span><br><span class="line">è§£é‡Š: ç¬¬ä¸€ä¸ªéç©ºå­—ç¬¦æ˜¯ &#x27;w&#x27;, ä½†å®ƒä¸æ˜¯æ•°å­—æˆ–æ­£ã€è´Ÿå·ã€‚</span><br><span class="line">     å› æ­¤æ— æ³•æ‰§è¡Œæœ‰æ•ˆçš„è½¬æ¢ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 5:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: &quot;-91283472332&quot;</span><br><span class="line">è¾“å‡º: -2147483648</span><br><span class="line">è§£é‡Š: æ•°å­— &quot;-91283472332&quot; è¶…è¿‡ 32 ä½æœ‰ç¬¦å·æ•´æ•°èŒƒå›´ã€‚ </span><br><span class="line">     å› æ­¤è¿”å› INT_MIN (âˆ’231) ã€‚</span><br></pre></td></tr></table></figure>

<p>Related Topics</p>
<p>å­—ç¬¦ä¸²</p>
<hr>
<p><strong>è§£é¢˜æ€è·¯ï¼š</strong><br>æ ¹æ®é¢˜æ„ï¼Œæœ‰ä»¥ä¸‹å››ç§å­—ç¬¦éœ€è¦è€ƒè™‘ï¼š</p>
<ol>
<li><p>é¦–éƒ¨ç©ºæ ¼ï¼š åˆ é™¤ä¹‹å³å¯ï¼›</p>
</li>
<li><p>ç¬¦å·ä½ï¼š ä¸‰ç§æƒ…å†µï¼Œå³ â€˜â€™++â€™â€™ , â€˜â€™-âˆ’â€™â€™ , â€˜â€™æ— ç¬¦å·â€ ï¼›æ–°å»ºä¸€ä¸ªå˜é‡ä¿å­˜ç¬¦å·ä½ï¼Œè¿”å›å‰åˆ¤æ–­æ­£è´Ÿå³å¯ï¼›</p>
</li>
<li><p>éæ•°å­—å­—ç¬¦ï¼š é‡åˆ°é¦–ä¸ªéæ•°å­—çš„å­—ç¬¦æ—¶ï¼Œåº”ç«‹å³è¿”å›ï¼›</p>
</li>
<li><p>æ•°å­—å­—ç¬¦ï¼š</p>
<ol>
<li><p>å­—ç¬¦è½¬æ•°å­—ï¼š â€œæ­¤æ•°å­—çš„ ASCII ç â€ ä¸ â€œ 00 çš„ ASCII ç â€ ç›¸å‡å³å¯ï¼›</p>
</li>
<li><p>æ•°å­—æ‹¼æ¥ï¼š è‹¥ä»å·¦å‘å³éå†æ•°å­—ï¼Œè®¾å½“å‰ä½å­—ç¬¦ä¸º cc ï¼Œå½“å‰ä½æ•°å­—ä¸º xx ï¼Œæ•°å­—ç»“æœä¸º resres ï¼Œåˆ™æ•°å­—æ‹¼æ¥å…¬å¼ä¸ºï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202210291215534.png" alt="image-20221029121552410"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.leetcode-cn.com/1600793383-jCgsGU-Picture1.png" alt="Picture1.png"></p>
</li>
</ol>
</li>
</ol>
<p><strong>æ•°å­—è¶Šç•Œå¤„ç†ï¼š</strong></p>
<blockquote>
<p>é¢˜ç›®è¦æ±‚è¿”å›çš„æ•°å€¼èŒƒå›´åº”åœ¨[âˆ’2^31 ,2^31 âˆ’1] ï¼Œå› æ­¤éœ€è¦è€ƒè™‘æ•°å­—è¶Šç•Œé—®é¢˜ã€‚è€Œç”±äºé¢˜ç›®æŒ‡å‡º ç¯å¢ƒåªèƒ½å­˜å‚¨ 32 ä½å¤§å°çš„æœ‰ç¬¦å·æ•´æ•° ï¼Œå› æ­¤åˆ¤æ–­æ•°å­—è¶Šç•Œæ—¶ï¼Œè¦å§‹ç»ˆä¿æŒ res åœ¨ int ç±»å‹çš„å–å€¼èŒƒå›´å†…ã€‚</p>
</blockquote>
<p>åœ¨æ¯è½®æ•°å­—æ‹¼æ¥å‰ï¼Œåˆ¤æ–­res åœ¨æ­¤è½®æ‹¼æ¥åæ˜¯å¦è¶…è¿‡ 2147483647ï¼Œè‹¥è¶…è¿‡åˆ™åŠ ä¸Šç¬¦å·ä½ç›´æ¥è¿”å›ã€‚<br>è®¾æ•°å­—æ‹¼æ¥è¾¹ç•Œ bndry &#x3D; 2147483647 &#x2F;&#x2F; 10 &#x3D; 214748364ï¼Œåˆ™ä»¥ä¸‹ä¸¤ç§æƒ…å†µè¶Šç•Œï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202210291218048.png" alt="image-20221029121808981"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.leetcode-cn.com/1600793383-JZRYip-Picture2.png" alt="Picture2.png"></p>
<p><strong>å¤æ‚åº¦åˆ†æï¼š</strong><br>æ—¶é—´å¤æ‚åº¦ O(N) ï¼š å…¶ä¸­ N ä¸ºå­—ç¬¦ä¸²é•¿åº¦ï¼Œçº¿æ€§éå†å­—ç¬¦ä¸²å ç”¨ O(N) æ—¶é—´ã€‚<br>ç©ºé—´å¤æ‚åº¦ O(N) ï¼š åˆ é™¤é¦–å°¾ç©ºæ ¼åéœ€å»ºç«‹æ–°å­—ç¬¦ä¸²ï¼Œæœ€å·®æƒ…å†µä¸‹å ç”¨ O(N) é¢å¤–ç©ºé—´ã€‚</p>
<p>è‹¥ä¸ä½¿ç”¨ <code>trim() / strip()</code> åˆ é™¤é¦–éƒ¨ç©ºæ ¼ï¼Œè€Œé‡‡å–éå†è·³è¿‡ç©ºæ ¼çš„æ–¹å¼ï¼Œåˆ™å¯ä»¥å°†ç©ºé—´å¤æ‚åº¦é™ä½è‡³ O(1) ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">strToInt</span><span class="params">(String str)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>, <span class="comment">// è¿”å›å€¼</span></span><br><span class="line">        bndry = Integer.MAX_VALUE / <span class="number">10</span>; <span class="comment">// è¶Šç•Œæ ‡å¿—</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>, <span class="comment">// éå†</span></span><br><span class="line">        sign = <span class="number">1</span>, <span class="comment">// æ­£è´Ÿæ ‡å¿—ä½</span></span><br><span class="line">        length = str.length();</span><br><span class="line">    <span class="keyword">if</span> (length == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (str.charAt(i) == <span class="string">&#x27; &#x27;</span>) &#123; <span class="comment">// è·³è¿‡ç©ºæ ¼</span></span><br><span class="line">        <span class="keyword">if</span> (++i == length) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (str.charAt(i) == <span class="string">&#x27;-&#x27;</span>) sign = -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (str.charAt(i) == <span class="string">&#x27;+&#x27;</span> || str.charAt(i) == <span class="string">&#x27;-&#x27;</span>) i++;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i; j &lt; length; j++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (str.charAt(j) &lt; <span class="string">&#x27;0&#x27;</span> || str.charAt(j) &gt; <span class="string">&#x27;9&#x27;</span>) <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">if</span> (res &gt; bndry || res == bndry &amp;&amp; str.charAt(j) &gt; <span class="string">&#x27;7&#x27;</span>) <span class="comment">// è¶Šç•Œ</span></span><br><span class="line">            <span class="keyword">return</span> sign == <span class="number">1</span> ? Integer.MAX_VALUE : Integer.MIN_VALUE;</span><br><span class="line">        res = res * <span class="number">10</span> + (str.charAt(j) - <span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res * sign;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="4ã€LC2351-ç¬¬ä¸€ä¸ªå‡ºç°ä¸¤æ¬¡çš„å­—æ¯"><a href="#4ã€LC2351-ç¬¬ä¸€ä¸ªå‡ºç°ä¸¤æ¬¡çš„å­—æ¯" class="headerlink" title="4ã€LC2351. ç¬¬ä¸€ä¸ªå‡ºç°ä¸¤æ¬¡çš„å­—æ¯"></a>4ã€LC2351. ç¬¬ä¸€ä¸ªå‡ºç°ä¸¤æ¬¡çš„å­—æ¯</h4><p>ç»™ä½ ä¸€ä¸ªç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸² <code>s</code> ï¼Œè¯·ä½ æ‰¾å‡ºå¹¶è¿”å›ç¬¬ä¸€ä¸ªå‡ºç° <strong>ä¸¤æ¬¡</strong> çš„å­—æ¯ã€‚</p>
<p><strong>æ³¨æ„ï¼š</strong></p>
<ul>
<li>å¦‚æœ <code>a</code> çš„ <strong>ç¬¬äºŒæ¬¡</strong> å‡ºç°æ¯” <code>b</code> çš„ <strong>ç¬¬äºŒæ¬¡</strong> å‡ºç°åœ¨å­—ç¬¦ä¸²ä¸­çš„ä½ç½®æ›´é å‰ï¼Œåˆ™è®¤ä¸ºå­—æ¯ <code>a</code> åœ¨å­—æ¯ <code>b</code> ä¹‹å‰å‡ºç°ä¸¤æ¬¡ã€‚</li>
<li><code>s</code> åŒ…å«è‡³å°‘ä¸€ä¸ªå‡ºç°ä¸¤æ¬¡çš„å­—æ¯ã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;abccbaacz&quot;</span><br><span class="line">è¾“å‡ºï¼š&quot;c&quot;</span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">å­—æ¯ &#x27;a&#x27; åœ¨ä¸‹æ ‡ 0 ã€5 å’Œ 6 å¤„å‡ºç°ã€‚</span><br><span class="line">å­—æ¯ &#x27;b&#x27; åœ¨ä¸‹æ ‡ 1 å’Œ 4 å¤„å‡ºç°ã€‚</span><br><span class="line">å­—æ¯ &#x27;c&#x27; åœ¨ä¸‹æ ‡ 2 ã€3 å’Œ 7 å¤„å‡ºç°ã€‚</span><br><span class="line">å­—æ¯ &#x27;z&#x27; åœ¨ä¸‹æ ‡ 8 å¤„å‡ºç°ã€‚</span><br><span class="line">å­—æ¯ &#x27;c&#x27; æ˜¯ç¬¬ä¸€ä¸ªå‡ºç°ä¸¤æ¬¡çš„å­—æ¯ï¼Œå› ä¸ºåœ¨æ‰€æœ‰å­—æ¯ä¸­ï¼Œ&#x27;c&#x27; ç¬¬äºŒæ¬¡å‡ºç°çš„ä¸‹æ ‡æ˜¯æœ€å°çš„ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;abcdd&quot;</span><br><span class="line">è¾“å‡ºï¼š&quot;d&quot;</span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">åªæœ‰å­—æ¯ &#x27;d&#x27; å‡ºç°ä¸¤æ¬¡ï¼Œæ‰€ä»¥è¿”å› &#x27;d&#x27; ã€‚</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>2 &lt;= s.length &lt;= 100</code></li>
<li><code>s</code> ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆ</li>
<li><code>s</code> åŒ…å«è‡³å°‘ä¸€ä¸ªé‡å¤å­—æ¯</li>
</ul>
<p>Related Topics</p>
<p>å“ˆå¸Œè¡¨</p>
<p>å­—ç¬¦ä¸²</p>
<p>è®¡æ•°</p>
<p>ğŸ‘ 43</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<h5 id="æ–¹æ³•ä¸€ï¼šå“ˆå¸Œè¡¨"><a href="#æ–¹æ³•ä¸€ï¼šå“ˆå¸Œè¡¨" class="headerlink" title="æ–¹æ³•ä¸€ï¼šå“ˆå¸Œè¡¨"></a>æ–¹æ³•ä¸€ï¼šå“ˆå¸Œè¡¨</h5><p>åˆ©ç”¨æ•°ç»„æ¨¡æ‹Ÿå“ˆå¸Œè¡¨è¿›è¡Œè®°å½•ï¼Œè®°å½•å­—ç¬¦å‡ºç°çš„æ¬¡æ•°ï¼Œå¦‚æœé‡åˆ°ç¬¬äºŒæ¬¡ç›´æ¥è¿”å›ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">char</span> <span class="title function_">repeatedCharacter</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        <span class="type">int</span>[] arr = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">26</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class="line">            <span class="type">char</span> <span class="variable">c</span> <span class="operator">=</span> s.charAt(i);</span><br><span class="line">            <span class="keyword">if</span> (arr[c - <span class="string">&#x27;a&#x27;</span>] == <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> c;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                arr[c - <span class="string">&#x27;a&#x27;</span>]++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦O(N)ï¼šéå†ä¸€éå­—ç¬¦ä¸²</li>
<li>ç©ºé—´å¤æ‚åº¦O(1)ï¼š26ä¸ªå­—ç¬¦ï¼Œéœ€è¦å¼€26å­—ç¬¦å¤§å°çš„ç©ºé—´ã€‚ä¹Ÿå¯ä»¥ç”¨byteæ•°ç»„ã€‚</li>
</ul>
<h5 id="æ–¹æ³•äºŒï¼šçŠ¶æ€å‹ç¼©"><a href="#æ–¹æ³•äºŒï¼šçŠ¶æ€å‹ç¼©" class="headerlink" title="æ–¹æ³•äºŒï¼šçŠ¶æ€å‹ç¼©"></a>æ–¹æ³•äºŒï¼šçŠ¶æ€å‹ç¼©</h5><p>æ³¨æ„åˆ°å­—ç¬¦é›†çš„å¤§å°ä¸º 26ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ª 32 ä½çš„äºŒè¿›åˆ¶æ•° seen å®Œç¾åœ°å­˜å‚¨å“ˆå¸Œè¡¨ã€‚å¦‚æœ seen çš„ç¬¬ i (0â‰¤i&lt;26) ä½æ˜¯ 1ï¼Œè¯´æ˜ç¬¬ i ä¸ªå°å†™å­—æ¯å·²ç»å‡ºç°è¿‡ã€‚</p>
<p>å…·ä½“åœ°ï¼Œæˆ‘ä»¬å¯¹å­—ç¬¦ä¸² s è¿›è¡Œä¸€æ¬¡éå†ã€‚å½“éå†åˆ°å­—æ¯ c æ—¶ï¼Œè®°å®ƒæ˜¯ç¬¬ i ä¸ªå­—æ¯ï¼Œseen çš„ç¬¬ i (0â‰¤i&lt;26) ä½æ˜¯ 1ï¼Œæˆ‘ä»¬è¿”å› c ä½œä¸ºç­”æ¡ˆå³å¯ï¼›å¦åˆ™ï¼Œæˆ‘ä»¬å°† seen çš„ç¬¬ i ä½ç½®ä¸º 1ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">char</span> <span class="title function_">repeatedCharacter</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">seen</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class="line">            <span class="type">char</span> <span class="variable">ch</span> <span class="operator">=</span> s.charAt(i);</span><br><span class="line">            <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> ch - <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">            <span class="keyword">if</span> ((seen &amp; (<span class="number">1</span> &lt;&lt; x)) != <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> ch;</span><br><span class="line">            &#125;</span><br><span class="line">            seen |= (<span class="number">1</span> &lt;&lt; x);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// impossible</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦O(N)</li>
<li>ç©ºé—´å¤æ‚åº¦O(1)</li>
</ul>
<h4 id="5ã€LC2042-æ£€æŸ¥å¥å­ä¸­çš„æ•°å­—æ˜¯å¦é€’å¢"><a href="#5ã€LC2042-æ£€æŸ¥å¥å­ä¸­çš„æ•°å­—æ˜¯å¦é€’å¢" class="headerlink" title="5ã€LC2042. æ£€æŸ¥å¥å­ä¸­çš„æ•°å­—æ˜¯å¦é€’å¢"></a>5ã€LC2042. æ£€æŸ¥å¥å­ä¸­çš„æ•°å­—æ˜¯å¦é€’å¢</h4><p>å¥å­æ˜¯ç”±è‹¥å¹² <strong>token</strong> ç»„æˆçš„ä¸€ä¸ªåˆ—è¡¨ï¼Œ<strong>token</strong> é—´ç”¨ <strong>å•ä¸ª</strong> ç©ºæ ¼åˆ†éš”ï¼Œå¥å­æ²¡æœ‰å‰å¯¼æˆ–å°¾éšç©ºæ ¼ã€‚æ¯ä¸ª token è¦ä¹ˆæ˜¯ä¸€ä¸ªç”±æ•°å­— <code>0-9</code> ç»„æˆçš„ä¸å«å‰å¯¼é›¶çš„ <strong>æ­£æ•´æ•°</strong> ï¼Œè¦ä¹ˆæ˜¯ä¸€ä¸ªç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆçš„ <strong>å•è¯</strong> ã€‚</p>
<ul>
<li>ç¤ºä¾‹ï¼Œ<code>&quot;a puppy has 2 eyes 4 legs&quot;</code> æ˜¯ä¸€ä¸ªç”± 7 ä¸ª token ç»„æˆçš„å¥å­ï¼š<code>&quot;2&quot;</code> å’Œ <code>&quot;4&quot;</code> æ˜¯æ•°å­—ï¼Œå…¶ä»–åƒ <code>&quot;puppy&quot;</code> è¿™æ ·çš„ tokens å±äºå•è¯ã€‚</li>
</ul>
<p>ç»™ä½ ä¸€ä¸ªè¡¨ç¤ºå¥å­çš„å­—ç¬¦ä¸² <code>s</code> ï¼Œä½ éœ€è¦æ£€æŸ¥ <code>s</code> ä¸­çš„ <strong>å…¨éƒ¨</strong> æ•°å­—æ˜¯å¦ä»å·¦åˆ°å³ä¸¥æ ¼é€’å¢ï¼ˆå³ï¼Œé™¤äº†æœ€åä¸€ä¸ªæ•°å­—ï¼Œ<code>s</code> ä¸­çš„ <strong>æ¯ä¸ª</strong> æ•°å­—éƒ½ä¸¥æ ¼å°äºå®ƒ <strong>å³ä¾§</strong> çš„æ•°å­—ï¼‰ã€‚</p>
<p>å¦‚æœæ»¡è¶³é¢˜ç›®è¦æ±‚ï¼Œè¿”å› <code>true</code> ï¼Œå¦åˆ™ï¼Œè¿”å› <code>false</code> ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/example1.png" alt="example-1"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;1 box has 3 blue 4 red 6 green and 12 yellow marbles&quot;</span><br><span class="line">è¾“å‡ºï¼štrue</span><br><span class="line">è§£é‡Šï¼šå¥å­ä¸­çš„æ•°å­—æ˜¯ï¼š1, 3, 4, 6, 12 ã€‚</span><br><span class="line">è¿™äº›æ•°å­—æ˜¯æŒ‰ä»å·¦åˆ°å³ä¸¥æ ¼é€’å¢çš„ 1 &lt; 3 &lt; 4 &lt; 6 &lt; 12 ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;hello world 5 x 5&quot;</span><br><span class="line">è¾“å‡ºï¼šfalse</span><br><span class="line">è§£é‡Šï¼šå¥å­ä¸­çš„æ•°å­—æ˜¯ï¼š5, 5 ã€‚è¿™äº›æ•°å­—ä¸æ˜¯ä¸¥æ ¼é€’å¢çš„ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/example3.png" alt="example-3"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;sunset is at 7 51 pm overnight lows will be in the low 50 and 60 s&quot;</span><br><span class="line">è¾“å‡ºï¼šfalse</span><br><span class="line">è§£é‡Šï¼šs ä¸­çš„æ•°å­—æ˜¯ï¼š7, 51, 50, 60 ã€‚è¿™äº›æ•°å­—ä¸æ˜¯ä¸¥æ ¼é€’å¢çš„ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 4ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;4 5 11 26&quot;</span><br><span class="line">è¾“å‡ºï¼štrue</span><br><span class="line">è§£é‡Šï¼šs ä¸­çš„æ•°å­—æ˜¯ï¼š4, 5, 11, 26 ã€‚</span><br><span class="line">è¿™äº›æ•°å­—æ˜¯æŒ‰ä»å·¦åˆ°å³ä¸¥æ ¼é€’å¢çš„ï¼š4 &lt; 5 &lt; 11 &lt; 26 ã€‚</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>3 &lt;= s.length &lt;= 200</code></li>
<li><code>s</code> ç”±å°å†™è‹±æ–‡å­—æ¯ã€ç©ºæ ¼å’Œæ•°å­— <code>0</code> åˆ° <code>9</code> ç»„æˆï¼ˆåŒ…å« <code>0</code> å’Œ <code>9</code>ï¼‰</li>
<li><code>s</code> ä¸­æ•°å­— token çš„æ•°ç›®åœ¨ <code>2</code> å’Œ <code>100</code> ä¹‹é—´ï¼ˆåŒ…å« <code>2</code> å’Œ <code>100</code>ï¼‰</li>
<li><code>s</code> ä¸­çš„ token ä¹‹é—´ç”±å•ä¸ªç©ºæ ¼åˆ†éš”</li>
<li><code>s</code> ä¸­è‡³å°‘æœ‰ <strong>ä¸¤ä¸ª</strong> æ•°å­—</li>
<li><code>s</code> ä¸­çš„æ¯ä¸ªæ•°å­—éƒ½æ˜¯ä¸€ä¸ª <strong>å°äº</strong> <code>100</code> çš„ <strong>æ­£</strong> æ•°ï¼Œä¸”ä¸å«å‰å¯¼é›¶</li>
<li><code>s</code> ä¸å«å‰å¯¼æˆ–å°¾éšç©ºæ ¼</li>
</ul>
<p>Related Topics</p>
<p>å­—ç¬¦ä¸²</p>
<p>ğŸ‘ 17</p>
<p>ğŸ‘ 0</p>
<h5 id="æ–¹æ³•ä¸€ï¼šæ¨¡æ‹Ÿéå†"><a href="#æ–¹æ³•ä¸€ï¼šæ¨¡æ‹Ÿéå†" class="headerlink" title="æ–¹æ³•ä¸€ï¼šæ¨¡æ‹Ÿéå†"></a>æ–¹æ³•ä¸€ï¼šæ¨¡æ‹Ÿéå†</h5><p>æˆ‘ä»¬å¯ä»¥å°†å­—ç¬¦ä¸² s æŒ‰ç©ºæ ¼åˆ†å‰²æˆè‹¥å¹²ä¸ªå•è¯ã€‚ç„¶åéå†æ¯ä¸ªå•è¯ tï¼Œåˆ¤æ–­å…¶æ˜¯å¦ä¸ºæ•°å­—ï¼Œè‹¥æ˜¯æ•°å­—ï¼Œåˆ™å°†å…¶è½¬æ¢ä¸ºæ•´æ•°ï¼Œä¸å‰ä¸€ä¸ªæ•°å­—æ¯”è¾ƒï¼Œè‹¥ä¸ä¸¥æ ¼é€’å¢ï¼Œè¿”å› falseï¼Œå¦åˆ™ï¼Œå°†å½“å‰æ•°å­—èµ‹å€¼ç»™å‰ä¸€ä¸ªæ•°å­—ï¼Œç»§ç»­éå†ã€‚</p>
<p>éå†ç»“æŸï¼Œè¯´æ˜å­—ç¬¦ä¸²ä¸­çš„æ•°å­—ä¸¥æ ¼é€’å¢ï¼Œè¿”å› trueã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">areNumbersAscending</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">pre</span> <span class="operator">=</span> <span class="number">0</span>, pos = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (pos &lt; s.length()) &#123;</span><br><span class="line">            <span class="keyword">if</span> (Character.isDigit(s.charAt(pos))) &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">cur</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">while</span> (pos &lt; s.length() &amp;&amp; Character.isDigit(s.charAt(pos))) &#123;</span><br><span class="line">                    cur = cur * <span class="number">10</span> + s.charAt(pos) - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">                    pos++;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (cur &lt;= pre) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                pre = cur;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                pos++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸è°ƒç”¨API</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">areNumbersAscending</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">last</span> <span class="operator">=</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> s.length();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="type">char</span> <span class="variable">c</span> <span class="operator">=</span> s.charAt(i);</span><br><span class="line">            <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span> (c &lt;= <span class="string">&#x27;9&#x27;</span> &amp;&amp; c &gt;= <span class="string">&#x27;0&#x27;</span>) &#123;</span><br><span class="line">                num *= <span class="number">10</span>;</span><br><span class="line">                num = num + c - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">                i++;</span><br><span class="line">                <span class="keyword">if</span> (i &lt; n) &#123;</span><br><span class="line">                    c = s.charAt(i);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (num == <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (last &gt;= num) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                last = num;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong></p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œå…¶ä¸­ <em>n</em> è¡¨ç¤ºå­—ç¬¦ä¸²çš„é•¿åº¦ã€‚æˆ‘ä»¬åªéœ€éå†ä¸€éå­—ç¬¦ä¸²å³å¯ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚ä»…ç”¨åˆ°è‹¥å¹²é¢å¤–å˜é‡ã€‚</li>
</ul>
<h4 id="6ã€LC2185-ç»Ÿè®¡åŒ…å«ç»™å®šå‰ç¼€çš„å­—ç¬¦ä¸²"><a href="#6ã€LC2185-ç»Ÿè®¡åŒ…å«ç»™å®šå‰ç¼€çš„å­—ç¬¦ä¸²" class="headerlink" title="6ã€LC2185. ç»Ÿè®¡åŒ…å«ç»™å®šå‰ç¼€çš„å­—ç¬¦ä¸²"></a>6ã€LC2185. ç»Ÿè®¡åŒ…å«ç»™å®šå‰ç¼€çš„å­—ç¬¦ä¸²</h4><p>ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ <code>words</code> å’Œä¸€ä¸ªå­—ç¬¦ä¸² <code>pref</code> ã€‚</p>
<p>è¿”å› <code>words</code> ä¸­ä»¥ <code>pref</code> ä½œä¸º <strong>å‰ç¼€</strong> çš„å­—ç¬¦ä¸²çš„æ•°ç›®ã€‚</p>
<p>å­—ç¬¦ä¸² <code>s</code> çš„ <strong>å‰ç¼€</strong> å°±æ˜¯ <code>s</code> çš„ä»»ä¸€å‰å¯¼è¿ç»­å­—ç¬¦ä¸²ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šwords = [&quot;pay&quot;,&quot;attention&quot;,&quot;practice&quot;,&quot;attend&quot;], pref = &quot;at&quot;</span><br><span class="line">è¾“å‡ºï¼š2</span><br><span class="line">è§£é‡Šï¼šä»¥ &quot;at&quot; ä½œä¸ºå‰ç¼€çš„å­—ç¬¦ä¸²æœ‰ä¸¤ä¸ªï¼Œåˆ†åˆ«æ˜¯ï¼š&quot;attention&quot; å’Œ &quot;attend&quot; ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šwords = [&quot;leetcode&quot;,&quot;win&quot;,&quot;loops&quot;,&quot;success&quot;], pref = &quot;code&quot;</span><br><span class="line">è¾“å‡ºï¼š0</span><br><span class="line">è§£é‡Šï¼šä¸å­˜åœ¨ä»¥ &quot;code&quot; ä½œä¸ºå‰ç¼€çš„å­—ç¬¦ä¸²ã€‚</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= words.length &lt;= 100</code></li>
<li><code>1 &lt;= words[i].length, pref.length &lt;= 100</code></li>
<li><code>words[i]</code> å’Œ <code>pref</code> ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆ</li>
</ul>
<p>Related Topics</p>
<p>æ•°ç»„</p>
<p>å­—ç¬¦ä¸²</p>
<p>ğŸ‘ 17</p>
<p>ğŸ‘ 0</p>
<h5 id="æ–¹æ³•ä¸€ï¼šæš´åŠ›ç®—æ³•"><a href="#æ–¹æ³•ä¸€ï¼šæš´åŠ›ç®—æ³•" class="headerlink" title="æ–¹æ³•ä¸€ï¼šæš´åŠ›ç®—æ³•"></a>æ–¹æ³•ä¸€ï¼šæš´åŠ›ç®—æ³•</h5><p>éå†å­—ç¬¦æ•°ç»„çš„æ¯ä¸€ä¸ªå­—ç¬¦ï¼Œé€ä¸€ä¸ç»™å®šçš„å‰ç¼€åŒ¹é…ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">prefixCount</span><span class="params">(String[] words, String pref)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>, n = pref.length(), i;</span><br><span class="line">    <span class="keyword">for</span> (String word : words) &#123;</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i &gt;= word.length() || word.charAt(i) != pref.charAt(i)) &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (i == n) &#123;</span><br><span class="line">            res++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼šO(NM), å…¶ä¸­Nä¸ºwordçš„é•¿åº¦ï¼ŒMä¸ºprefçš„é•¿åº¦ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼šO(1)</li>
</ul>
<h5 id="æ–¹æ³•äºŒï¼šè°ƒç”¨API"><a href="#æ–¹æ³•äºŒï¼šè°ƒç”¨API" class="headerlink" title="æ–¹æ³•äºŒï¼šè°ƒç”¨API"></a>æ–¹æ³•äºŒï¼šè°ƒç”¨API</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">prefixCount</span><span class="params">(String[] words, String pref)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (String word : words) &#123;</span><br><span class="line">            <span class="comment">// åˆ¤æ–­çš„è¿‡ç¨‹å¯ä»¥æ¢æˆ</span></span><br><span class="line">            <span class="keyword">if</span> (word.startsWith(pref)) &#123;</span><br><span class="line">                res++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼šO(NM), å…¶ä¸­Nä¸ºwordçš„é•¿åº¦ï¼ŒMä¸ºprefçš„é•¿åº¦ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼šO(1)</li>
</ul>
<h4 id="7ã€LC1807-æ›¿æ¢å­—ç¬¦ä¸²ä¸­çš„æ‹¬å·å†…å®¹"><a href="#7ã€LC1807-æ›¿æ¢å­—ç¬¦ä¸²ä¸­çš„æ‹¬å·å†…å®¹" class="headerlink" title="7ã€LC1807. æ›¿æ¢å­—ç¬¦ä¸²ä¸­çš„æ‹¬å·å†…å®¹"></a>7ã€LC1807. æ›¿æ¢å­—ç¬¦ä¸²ä¸­çš„æ‹¬å·å†…å®¹</h4><p>ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² <code>s</code> ï¼Œå®ƒåŒ…å«ä¸€äº›æ‹¬å·å¯¹ï¼Œæ¯ä¸ªæ‹¬å·ä¸­åŒ…å«ä¸€ä¸ª <strong>éç©º</strong> çš„é”®ã€‚</p>
<ul>
<li>æ¯”æ–¹è¯´ï¼Œå­—ç¬¦ä¸² <code>&quot;(name)is(age)yearsold&quot;</code> ä¸­ï¼Œæœ‰ <strong>ä¸¤ä¸ª</strong> æ‹¬å·å¯¹ï¼Œåˆ†åˆ«åŒ…å«é”® <code>&quot;name&quot;</code> å’Œ <code>&quot;age&quot;</code> ã€‚</li>
</ul>
<p>ä½ çŸ¥é“è®¸å¤šé”®å¯¹åº”çš„å€¼ï¼Œè¿™äº›å…³ç³»ç”±äºŒç»´å­—ç¬¦ä¸²æ•°ç»„ <code>knowledge</code> è¡¨ç¤ºï¼Œå…¶ä¸­ <code>knowledge[i] = [keyi, valuei]</code> ï¼Œè¡¨ç¤ºé”® <code>keyi</code> å¯¹åº”çš„å€¼ä¸º <code>valuei</code> ã€‚</p>
<p>ä½ éœ€è¦æ›¿æ¢ <strong>æ‰€æœ‰</strong> çš„æ‹¬å·å¯¹ã€‚å½“ä½ æ›¿æ¢ä¸€ä¸ªæ‹¬å·å¯¹ï¼Œä¸”å®ƒåŒ…å«çš„é”®ä¸º <code>keyi</code> æ—¶ï¼Œä½ éœ€è¦ï¼š</p>
<ul>
<li>å°† <code>keyi</code> å’Œæ‹¬å·ç”¨å¯¹åº”çš„å€¼ <code>valuei</code> æ›¿æ¢ã€‚</li>
<li>å¦‚æœä» <code>knowledge</code> ä¸­æ— æ³•å¾—çŸ¥æŸä¸ªé”®å¯¹åº”çš„å€¼ï¼Œä½ éœ€è¦å°† <code>keyi</code> å’Œæ‹¬å·ç”¨é—®å· <code>&quot;?&quot;</code> æ›¿æ¢ï¼ˆä¸éœ€è¦å¼•å·ï¼‰ã€‚</li>
</ul>
<p><code>knowledge</code> ä¸­æ¯ä¸ªé”®æœ€å¤šåªä¼šå‡ºç°ä¸€æ¬¡ã€‚<code>s</code> ä¸­ä¸ä¼šæœ‰åµŒå¥—çš„æ‹¬å·ã€‚</p>
<p>è¯·ä½ è¿”å›æ›¿æ¢ <strong>æ‰€æœ‰</strong> æ‹¬å·å¯¹åçš„ç»“æœå­—ç¬¦ä¸²ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;(name)is(age)yearsold&quot;, knowledge = [[&quot;name&quot;,&quot;bob&quot;],[&quot;age&quot;,&quot;two&quot;]]</span><br><span class="line">è¾“å‡ºï¼š&quot;bobistwoyearsold&quot;</span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">é”® &quot;name&quot; å¯¹åº”çš„å€¼ä¸º &quot;bob&quot; ï¼Œæ‰€ä»¥å°† &quot;(name)&quot; æ›¿æ¢ä¸º &quot;bob&quot; ã€‚</span><br><span class="line">é”® &quot;age&quot; å¯¹åº”çš„å€¼ä¸º &quot;two&quot; ï¼Œæ‰€ä»¥å°† &quot;(age)&quot; æ›¿æ¢ä¸º &quot;two&quot; ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;hi(name)&quot;, knowledge = [[&quot;a&quot;,&quot;b&quot;]]</span><br><span class="line">è¾“å‡ºï¼š&quot;hi?&quot;</span><br><span class="line">è§£é‡Šï¼šç”±äºä¸çŸ¥é“é”® &quot;name&quot; å¯¹åº”çš„å€¼ï¼Œæ‰€ä»¥ç”¨ &quot;?&quot; æ›¿æ¢ &quot;(name)&quot; ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;(a)(a)(a)aaa&quot;, knowledge = [[&quot;a&quot;,&quot;yes&quot;]]</span><br><span class="line">è¾“å‡ºï¼š&quot;yesyesyesaaa&quot;</span><br><span class="line">è§£é‡Šï¼šç›¸åŒçš„é”®åœ¨ s ä¸­å¯èƒ½ä¼šå‡ºç°å¤šæ¬¡ã€‚</span><br><span class="line">é”® &quot;a&quot; å¯¹åº”çš„å€¼ä¸º &quot;yes&quot; ï¼Œæ‰€ä»¥å°†æ‰€æœ‰çš„ &quot;(a)&quot; æ›¿æ¢ä¸º &quot;yes&quot; ã€‚</span><br><span class="line">æ³¨æ„ï¼Œä¸åœ¨æ‹¬å·é‡Œçš„ &quot;a&quot; ä¸éœ€è¦è¢«æ›¿æ¢ã€‚</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= s.length &lt;= 105</code></li>
<li><code>0 &lt;= knowledge.length &lt;= 105</code></li>
<li><code>knowledge[i].length == 2</code></li>
<li><code>1 &lt;= keyi.length, valuei.length &lt;= 10</code></li>
<li><code>s</code> åªåŒ…å«å°å†™è‹±æ–‡å­—æ¯å’Œåœ†æ‹¬å· <code>&#39;(&#39;</code> å’Œ <code>&#39;)&#39;</code> ã€‚</li>
<li><code>s</code> ä¸­æ¯ä¸€ä¸ªå·¦åœ†æ‹¬å· <code>&#39;(&#39;</code> éƒ½æœ‰å¯¹åº”çš„å³åœ†æ‹¬å· <code>&#39;)&#39;</code> ã€‚</li>
<li><code>s</code> ä¸­æ¯å¯¹æ‹¬å·å†…çš„é”®éƒ½ä¸ä¼šä¸ºç©ºã€‚</li>
<li><code>s</code> ä¸­ä¸ä¼šæœ‰åµŒå¥—æ‹¬å·å¯¹ã€‚</li>
<li><code>keyi</code> å’Œ <code>valuei</code> åªåŒ…å«å°å†™è‹±æ–‡å­—æ¯ã€‚</li>
<li><code>knowledge</code> ä¸­çš„ <code>keyi</code> ä¸ä¼šé‡å¤ã€‚</li>
</ul>
<p>Related Topics</p>
<p>æ•°ç»„</p>
<p>å“ˆå¸Œè¡¨</p>
<p>å­—ç¬¦ä¸²</p>
<p>ğŸ‘ 30</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>æˆ‘ä»¬å…ˆç”¨å“ˆå¸Œè¡¨ map è®°å½• knowledge ä¸­çš„é”®å€¼å¯¹ã€‚</p>
<p>ç„¶åéå†å­—ç¬¦ä¸² sï¼Œå¦‚æœå½“å‰å­—ç¬¦æ˜¯å·¦æ‹¬å· â€˜(â€˜ï¼Œåˆ™ä»å½“å‰ä½ç½®å¼€å§‹å‘åéå†ï¼Œç›´åˆ°é‡åˆ°å³æ‹¬å· â€˜)â€™ï¼Œæ­¤æ—¶æ‹¬å·å†…çš„å­—ç¬¦ä¸²å³ä¸ºé”®ï¼Œæˆ‘ä»¬åœ¨å“ˆå¸Œè¡¨ map ä¸­æŸ¥æ‰¾è¯¥é”®å¯¹åº”çš„å€¼ï¼Œå¦‚æœæ‰¾åˆ°äº†ï¼Œåˆ™å°†è¯¥å€¼æ›¿æ¢åˆ°æ‹¬å·å†…ï¼Œå¦åˆ™æ›¿æ¢ä¸º â€˜?â€™ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">evaluate</span><span class="params">(String s, List&lt;List&lt;String&gt;&gt; knowledge)</span> &#123;</span><br><span class="line">        <span class="comment">// å…ˆç”¨å“ˆå¸Œè¡¨è®°å½•é”®å€¼å¯¹</span></span><br><span class="line">        Map&lt;String, String&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (List&lt;String&gt; list : knowledge) &#123;</span><br><span class="line">            map.put(list.get(<span class="number">0</span>), list.get(<span class="number">1</span>));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> s.length();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">            <span class="type">char</span> <span class="variable">c</span> <span class="operator">=</span> s.charAt(i);</span><br><span class="line">            <span class="keyword">if</span> (c == <span class="string">&#x27;(&#x27;</span>) &#123;</span><br><span class="line">                <span class="comment">// æ‰¾ ) çš„ä½ç½® j</span></span><br><span class="line">                j = i + <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">while</span> (j &lt; len &amp;&amp; s.charAt(j) != <span class="string">&#x27;)&#x27;</span>) &#123;</span><br><span class="line">                    ++j;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (j &gt;= len) &#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// æˆªå–()å†…çš„key</span></span><br><span class="line">                <span class="type">String</span> <span class="variable">key</span> <span class="operator">=</span> s.substring(i + <span class="number">1</span>, j);</span><br><span class="line">                <span class="comment">// æŸ¥æ‰¾å“ˆå¸Œè¡¨ï¼Œå¦‚æœæœ‰å¯¹åº”çš„é”®å°±åŠ å…¥ï¼Œåä¹‹åŠ å…¥ï¼Ÿ</span></span><br><span class="line">                sb.append(map.getOrDefault(key, <span class="string">&quot;?&quot;</span>));</span><br><span class="line">                i = j;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                sb.append(c);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sb.toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(n + m)ï¼Œå…¶ä¸­ n å’Œ m åˆ†åˆ«ä¸ºå­—ç¬¦ä¸² s å’Œåˆ—è¡¨ knowledge çš„é•¿åº¦ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(L)ï¼Œ L ä¸º knowledge ä¸­æ‰€æœ‰å­—ç¬¦ä¸²çš„é•¿åº¦ä¹‹å’Œã€‚</li>
</ul>
<h4 id="8ã€LC2287-é‡æ’å­—ç¬¦å½¢æˆç›®æ ‡å­—ç¬¦ä¸²"><a href="#8ã€LC2287-é‡æ’å­—ç¬¦å½¢æˆç›®æ ‡å­—ç¬¦ä¸²" class="headerlink" title="8ã€LC2287. é‡æ’å­—ç¬¦å½¢æˆç›®æ ‡å­—ç¬¦ä¸²"></a>8ã€LC2287. é‡æ’å­—ç¬¦å½¢æˆç›®æ ‡å­—ç¬¦ä¸²</h4><p>ç»™ä½ ä¸¤ä¸ªä¸‹æ ‡ä» <strong>0</strong> å¼€å§‹çš„å­—ç¬¦ä¸² <code>s</code> å’Œ <code>target</code> ã€‚ä½ å¯ä»¥ä» <code>s</code> å–å‡ºä¸€äº›å­—ç¬¦å¹¶å°†å…¶é‡æ’ï¼Œå¾—åˆ°è‹¥å¹²æ–°çš„å­—ç¬¦ä¸²ã€‚</p>
<p>ä» <code>s</code> ä¸­å–å‡ºå­—ç¬¦å¹¶é‡æ–°æ’åˆ—ï¼Œè¿”å›å¯ä»¥å½¢æˆ <code>target</code> çš„ <strong>æœ€å¤§</strong> å‰¯æœ¬æ•°ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;ilovecodingonleetcode&quot;, target = &quot;code&quot;</span><br><span class="line">è¾“å‡ºï¼š2</span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">å¯¹äº &quot;code&quot; çš„ç¬¬ 1 ä¸ªå‰¯æœ¬ï¼Œé€‰å–ä¸‹æ ‡ä¸º 4 ã€5 ã€6 å’Œ 7 çš„å­—ç¬¦ã€‚</span><br><span class="line">å¯¹äº &quot;code&quot; çš„ç¬¬ 2 ä¸ªå‰¯æœ¬ï¼Œé€‰å–ä¸‹æ ‡ä¸º 17 ã€18 ã€19 å’Œ 20 çš„å­—ç¬¦ã€‚</span><br><span class="line">å½¢æˆçš„å­—ç¬¦ä¸²åˆ†åˆ«æ˜¯ &quot;ecod&quot; å’Œ &quot;code&quot; ï¼Œéƒ½å¯ä»¥é‡æ’ä¸º &quot;code&quot; ã€‚</span><br><span class="line">å¯ä»¥å½¢æˆæœ€å¤š 2 ä¸ª &quot;code&quot; çš„å‰¯æœ¬ï¼Œæ‰€ä»¥è¿”å› 2 ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;abcba&quot;, target = &quot;abc&quot;</span><br><span class="line">è¾“å‡ºï¼š1</span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">é€‰å–ä¸‹æ ‡ä¸º 0 ã€1 å’Œ 2 çš„å­—ç¬¦ï¼Œå¯ä»¥å½¢æˆ &quot;abc&quot; çš„ 1 ä¸ªå‰¯æœ¬ã€‚ </span><br><span class="line">å¯ä»¥å½¢æˆæœ€å¤š 1 ä¸ª &quot;abc&quot; çš„å‰¯æœ¬ï¼Œæ‰€ä»¥è¿”å› 1 ã€‚</span><br><span class="line">æ³¨æ„ï¼Œå°½ç®¡ä¸‹æ ‡ 3 å’Œ 4 åˆ†åˆ«æœ‰é¢å¤–çš„ &#x27;a&#x27; å’Œ &#x27;b&#x27; ï¼Œä½†ä¸èƒ½é‡ç”¨ä¸‹æ ‡ 2 å¤„çš„ &#x27;c&#x27; ï¼Œæ‰€ä»¥æ— æ³•å½¢æˆ &quot;abc&quot; çš„ç¬¬ 2 ä¸ªå‰¯æœ¬ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;abbaccaddaeea&quot;, target = &quot;aaaaa&quot;</span><br><span class="line">è¾“å‡ºï¼š1</span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">é€‰å–ä¸‹æ ‡ä¸º 0 ã€3 ã€6 ã€9 å’Œ 12 çš„å­—ç¬¦ï¼Œå¯ä»¥å½¢æˆ &quot;aaaaa&quot; çš„ 1 ä¸ªå‰¯æœ¬ã€‚</span><br><span class="line">å¯ä»¥å½¢æˆæœ€å¤š 1 ä¸ª &quot;aaaaa&quot; çš„å‰¯æœ¬ï¼Œæ‰€ä»¥è¿”å› 1 ã€‚</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= s.length &lt;= 100</code></li>
<li><code>1 &lt;= target.length &lt;= 10</code></li>
<li><code>s</code> å’Œ <code>target</code> ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆ</li>
</ul>
<p>Related Topics</p>
<p>å“ˆå¸Œè¡¨</p>
<p>å­—ç¬¦ä¸²</p>
<p>è®¡æ•°</p>
<p>ğŸ‘ 28</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>é¦–å…ˆéå†æ•´ä¸ªå­—ç¬¦ä¸²ç»Ÿè®¡å­—ç¬¦å‡ºç°çš„æ¬¡æ•°ï¼Œæœ€åæ ¹æ®å‡ºç°çš„æ¬¡æ•°è®¡ç®—èƒ½ç»„æˆå¤šå°‘ä¸ªtargetã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">rearrangeCharacters</span><span class="params">(String s, String target)</span> &#123;</span><br><span class="line">        <span class="type">int</span>[] cnt = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">26</span>];</span><br><span class="line">        <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; s.length(); i++) &#123; <span class="comment">// ç»Ÿè®¡sä¸­æ‰€æœ‰çš„å­—ç¬¦</span></span><br><span class="line">            cnt[s.charAt(i) - <span class="string">&#x27;a&#x27;</span>]++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; target.length(); i++) &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">idx</span> <span class="operator">=</span> target.charAt(i) - <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">                <span class="keyword">if</span> (cnt[idx] &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="keyword">return</span> res;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    cnt[idx]--;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            res++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦O(N)ï¼ŒN ä¸º s çš„é•¿åº¦ï¼Œè®¡ç®—ç”Ÿæˆ target çš„ä¸ªæ•°çš„å¾ªç¯æ¬¡æ•°æ˜¯å°äº N çš„ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦O(1).</li>
</ul>
<h4 id="9ã€LC5-æœ€é•¿å›æ–‡å­ä¸²"><a href="#9ã€LC5-æœ€é•¿å›æ–‡å­ä¸²" class="headerlink" title="9ã€LC5. æœ€é•¿å›æ–‡å­ä¸²"></a>9ã€LC5. æœ€é•¿å›æ–‡å­ä¸²</h4><p>ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² <code>s</code>ï¼Œæ‰¾åˆ° <code>s</code> ä¸­æœ€é•¿çš„å›æ–‡å­ä¸²ã€‚</p>
<p>å¦‚æœå­—ç¬¦ä¸²çš„ååºä¸åŸå§‹å­—ç¬¦ä¸²ç›¸åŒï¼Œåˆ™è¯¥å­—ç¬¦ä¸²ç§°ä¸ºå›æ–‡å­—ç¬¦ä¸²ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;babad&quot;</span><br><span class="line">è¾“å‡ºï¼š&quot;bab&quot;</span><br><span class="line">è§£é‡Šï¼š&quot;aba&quot; åŒæ ·æ˜¯ç¬¦åˆé¢˜æ„çš„ç­”æ¡ˆã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;cbbd&quot;</span><br><span class="line">è¾“å‡ºï¼š&quot;bb&quot;</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= s.length &lt;= 1000</code></li>
<li><code>s</code> ä»…ç”±æ•°å­—å’Œè‹±æ–‡å­—æ¯ç»„æˆ</li>
</ul>
<p>Related Topics</p>
<p>å­—ç¬¦ä¸²</p>
<p>åŠ¨æ€è§„åˆ’</p>
<p>ğŸ‘ 6047</p>
<p>ğŸ‘ 0</p>
<h5 id="æ–¹æ³•ä¸€ï¼šæš´åŠ›è§£æ³•"><a href="#æ–¹æ³•ä¸€ï¼šæš´åŠ›è§£æ³•" class="headerlink" title="æ–¹æ³•ä¸€ï¼šæš´åŠ›è§£æ³•"></a>æ–¹æ³•ä¸€ï¼šæš´åŠ›è§£æ³•</h5><p>æš´åŠ›æ±‚è§£ï¼Œåˆ—ä¸¾æ‰€æœ‰çš„å­ä¸²ï¼Œåˆ¤æ–­æ˜¯å¦ä¸ºå›æ–‡ä¸²ï¼Œä¿å­˜æœ€é•¿çš„å›æ–‡ä¸²ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isPalindromic</span><span class="params">(String s)</span> &#123;</span><br><span class="line">		<span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> s.length();</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; len / <span class="number">2</span>; i++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (s.charAt(i) != s.charAt(len - i - <span class="number">1</span>)) &#123;</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æš´åŠ›è§£æ³•</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">longestPalindrome</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">ans</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">max</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> s.length();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; len; i++)</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i + <span class="number">1</span>; j &lt;= len; j++) &#123;</span><br><span class="line">                <span class="type">String</span> <span class="variable">test</span> <span class="operator">=</span> s.substring(i, j);</span><br><span class="line">                <span class="keyword">if</span> (isPalindromic(test) &amp;&amp; test.length() &gt; max) &#123;</span><br><span class="line">                    ans = s.substring(i, j);</span><br><span class="line">                    max = Math.max(max, ans.length());</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼šO(n^3)ã€‚ä¸¤å±‚ <code>for</code> å¾ªç¯éå†æ‰€æœ‰å­—ç¬¦å‡ºä¸²ï¼Œ<code>for</code> å¾ªç¯é‡Œè¾¹åˆ¤æ–­æ˜¯å¦ä¸ºå›æ–‡ O*(<em>n</em>ï¼‰ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦ä¸º <em>O</em>(<em>n</em>Â³ï¼‰ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O</em>(1ï¼‰ï¼Œå¸¸æ•°ä¸ªå˜é‡ã€‚</li>
</ul>
<h5 id="è§£æ³•äºŒ-æœ€é•¿å…¬å…±å­ä¸²DP"><a href="#è§£æ³•äºŒ-æœ€é•¿å…¬å…±å­ä¸²DP" class="headerlink" title="è§£æ³•äºŒ: æœ€é•¿å…¬å…±å­ä¸²DP"></a>è§£æ³•äºŒ: æœ€é•¿å…¬å…±å­ä¸²DP</h5><p>æ ¹æ®å›æ–‡ä¸²çš„å®šä¹‰ï¼Œæ­£ç€å’Œåç€è¯»ä¸€æ ·ï¼Œé‚£æˆ‘ä»¬æ˜¯ä¸æ˜¯æŠŠåŸæ¥çš„å­—ç¬¦ä¸²å€’ç½®äº†ï¼Œç„¶åæ‰¾æœ€é•¿çš„å…¬å…±å­ä¸²å°±å¯ä»¥äº†ã€‚ä¾‹å¦‚ <code>S = &quot;caba&quot;</code> ï¼Œ<code>S = &quot;abac&quot;</code>ï¼Œæœ€é•¿å…¬å…±å­ä¸²æ˜¯ <code>&quot;aba&quot;</code>ï¼Œæ‰€ä»¥åŸå­—ç¬¦ä¸²çš„æœ€é•¿å›æ–‡ä¸²å°±æ˜¯ <code>&quot;aba&quot;</code>ã€‚</p>
<p>å…³äºæ±‚æœ€é•¿å…¬å…±å­ä¸²ï¼ˆä¸æ˜¯å…¬å…±å­åºåˆ—ï¼‰ï¼Œæœ‰å¾ˆå¤šæ–¹æ³•ï¼Œè¿™é‡Œç”¨åŠ¨æ€è§„åˆ’çš„æ–¹æ³•ï¼Œæ•´ä½“æ€æƒ³å°±æ˜¯ï¼Œç”³è¯·ä¸€ä¸ªäºŒç»´çš„æ•°ç»„åˆå§‹åŒ–ä¸º 0ï¼Œç„¶ååˆ¤æ–­å¯¹åº”çš„å­—ç¬¦æ˜¯å¦ç›¸ç­‰ï¼Œç›¸ç­‰çš„è¯<code>arr [ i ][ j ] = arr [ i - 1 ][ j - 1] + 1 </code>ã€‚</p>
<p>å½“ <code>i = 0</code> æˆ–è€… <code>j = 0</code> çš„æ—¶å€™å•ç‹¬åˆ†æï¼Œå­—ç¬¦ç›¸ç­‰çš„è¯ <code>arr [ i ][ j ]</code> å°±èµ‹ä¸º 1 ã€‚<code>arr [ i ][ j ]</code> ä¿å­˜çš„å°±æ˜¯å…¬å…±å­ä¸²çš„é•¿åº¦ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> String <span class="title function_">longestPalindrome</span><span class="params">(String s)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (s.equals(<span class="string">&quot;&quot;</span>))</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="type">String</span> <span class="variable">origin</span> <span class="operator">=</span> s;</span><br><span class="line">    <span class="type">String</span> <span class="variable">reverse</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuffer</span>(s).reverse().toString(); <span class="comment">//å­—ç¬¦ä¸²å€’ç½®</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">length</span> <span class="operator">=</span> s.length();</span><br><span class="line">    <span class="type">int</span>[][] arr = <span class="keyword">new</span> <span class="title class_">int</span>[length][length];</span><br><span class="line">    <span class="type">int</span> <span class="variable">maxLen</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">maxEnd</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; length; i++)</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; length; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (origin.charAt(i) == reverse.charAt(j)) &#123;</span><br><span class="line">                <span class="keyword">if</span> (i == <span class="number">0</span> || j == <span class="number">0</span>) &#123;</span><br><span class="line">                    arr[i][j] = <span class="number">1</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    arr[i][j] = arr[i - <span class="number">1</span>][j - <span class="number">1</span>] + <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (arr[i][j] &gt; maxLen) &#123; </span><br><span class="line">                maxLen = arr[i][j];</span><br><span class="line">                maxEnd = i; <span class="comment">//ä»¥ i ä½ç½®ç»“å°¾çš„å­—ç¬¦</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> s.substring(maxEnd - maxLen + <span class="number">1</span>, maxEnd + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>å†çœ‹ä¸€ä¸ªä¾‹å­ï¼Œ<code>S=&quot;abc435cba&quot;</code>ï¼Œ<code>S=&quot;abc534cba&quot;</code>ï¼Œæœ€é•¿å…¬å…±å­ä¸²æ˜¯ <code>&quot;abc&quot;</code> å’Œ <code>&quot;cba&quot;</code>ï¼Œä½†å¾ˆæ˜æ˜¾è¿™ä¸¤ä¸ªå­—ç¬¦ä¸²éƒ½ä¸æ˜¯å›æ–‡ä¸²ã€‚</p>
<p>æ‰€ä»¥æˆ‘ä»¬æ±‚å‡ºæœ€é•¿å…¬å…±å­ä¸²åï¼Œå¹¶ä¸ä¸€å®šæ˜¯å›æ–‡ä¸²ï¼Œæˆ‘ä»¬è¿˜éœ€è¦åˆ¤æ–­è¯¥å­—ç¬¦ä¸²å€’ç½®å‰çš„ä¸‹æ ‡å’Œå½“å‰çš„å­—ç¬¦ä¸²ä¸‹æ ‡æ˜¯ä¸æ˜¯åŒ¹é…ã€‚</p>
<p>æ¯”å¦‚ <code>S=&quot;caba&quot;</code>ï¼Œ<code>S&#39;=&quot;abac&quot;</code> ï¼Œ<code>S</code>â€™ ä¸­ <code>aba</code> çš„ä¸‹æ ‡æ˜¯ <code>0 1 2</code> ï¼Œå€’ç½®å‰æ˜¯ <code>3 2 1</code>ï¼Œå’Œ <code>S</code> ä¸­ <code>aba</code> çš„ä¸‹æ ‡ç¬¦åˆï¼Œæ‰€ä»¥ <code>aba</code> å°±æ˜¯æˆ‘ä»¬éœ€è¦æ‰¾çš„ã€‚å½“ç„¶æˆ‘ä»¬ä¸éœ€è¦æ¯ä¸ªå­—ç¬¦éƒ½åˆ¤æ–­ï¼Œæˆ‘ä»¬åªéœ€è¦åˆ¤æ–­æœ«å°¾å­—ç¬¦å°±å¯ä»¥ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/3910e68a438bce27ef2bf53fb89c3566f234582c4b8137327dfdca917ae40dcf-image.png" alt="image.png"></p>
<p>é¦–å…ˆ <code>i</code>ï¼Œ<code>j</code> å§‹ç»ˆæŒ‡å‘å­ä¸²çš„æœ«å°¾å­—ç¬¦ã€‚æ‰€ä»¥ <code>j</code> æŒ‡å‘çš„çº¢è‰²çš„ <code>a</code> å€’ç½®å‰çš„ä¸‹æ ‡æ˜¯ <code>beforeRev</code> &#x3D; <code>length-1-j=4-1-2=1</code>ï¼Œå¯¹åº”çš„æ˜¯å­—ç¬¦ä¸²é¦–ä½çš„ä¸‹æ ‡ï¼Œæˆ‘ä»¬è¿˜éœ€è¦åŠ ä¸Šå­—ç¬¦ä¸²çš„é•¿åº¦æ‰æ˜¯æœ«å°¾å­—ç¬¦çš„ä¸‹æ ‡ï¼Œä¹Ÿå°±æ˜¯ <code>beforeRev+arr[i][j]-1=1+3-1=3</code>ï¼Œå› ä¸º <code>arr[i][j]</code> ä¿å­˜çš„å°±æ˜¯å½“å‰å­ä¸²çš„é•¿åº¦ï¼Œä¹Ÿå°±æ˜¯å›¾ä¸­çš„æ•°å­— <code>3</code>ã€‚æ­¤æ—¶å†å’Œå®ƒä¸ <code>i</code> æ¯”è¾ƒï¼Œå¦‚æœç›¸ç­‰ï¼Œåˆ™è¯´æ˜å®ƒæ˜¯æˆ‘ä»¬è¦æ‰¾çš„å›æ–‡ä¸²ã€‚</p>
<p>ä¹‹å‰çš„ <code>S=&quot;abc435cba&quot;</code>ï¼Œ<code>S&#39;=&quot;abc534cba&quot;</code>ï¼Œå¯ä»¥çœ‹ä¸€ä¸‹å›¾ç¤ºï¼Œä¸ºä»€ä¹ˆä¸ç¬¦åˆã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/366664d86282bc58caac70abed4218e247e448887464938dc329b0fa9fc07792-image.png" alt="image.png"></p>
<p>å½“å‰ <code>j</code> æŒ‡å‘çš„ <code>c</code>ï¼Œå€’ç½®å‰çš„ä¸‹æ ‡æ˜¯ <code>beforeRev=length-1-j=9-1-2=6</code>ï¼Œå¯¹åº”çš„æœ«å°¾ä¸‹æ ‡æ˜¯<code>beforeRev+arr[i][j]-1=6+3-1=8</code>ï¼Œè€Œæ­¤æ—¶ <code>i=2</code>ï¼Œæ‰€ä»¥å½“å‰çš„å­ä¸²ä¸æ˜¯å›æ–‡ä¸²ã€‚</p>
<p>ä»£ç çš„è¯ï¼Œåœ¨ä¸Šè¾¹çš„åŸºç¡€ä¸Šï¼Œä¿å­˜ <code>maxLen</code> å‰åˆ¤æ–­ä¸€ä¸‹ä¸‹æ ‡åŒ¹ä¸åŒ¹é…å°±å¯ä»¥äº†ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> String <span class="title function_">longestPalindrome</span><span class="params">(String s)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (s.equals(<span class="string">&quot;&quot;</span>))</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="type">String</span> <span class="variable">origin</span> <span class="operator">=</span> s;</span><br><span class="line">    <span class="type">String</span> <span class="variable">reverse</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuffer</span>(s).reverse().toString();</span><br><span class="line">    <span class="type">int</span> <span class="variable">length</span> <span class="operator">=</span> s.length();</span><br><span class="line">    <span class="type">int</span>[][] arr = <span class="keyword">new</span> <span class="title class_">int</span>[length][length];</span><br><span class="line">    <span class="type">int</span> <span class="variable">maxLen</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">maxEnd</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; length; i++)</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; length; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (origin.charAt(i) == reverse.charAt(j)) &#123;</span><br><span class="line">                <span class="keyword">if</span> (i == <span class="number">0</span> || j == <span class="number">0</span>) &#123;</span><br><span class="line">                    arr[i][j] = <span class="number">1</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    arr[i][j] = arr[i - <span class="number">1</span>][j - <span class="number">1</span>] + <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">/**********ä¿®æ”¹çš„åœ°æ–¹*******************/</span></span><br><span class="line">            <span class="keyword">if</span> (arr[i][j] &gt; maxLen) &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">beforeRev</span> <span class="operator">=</span> length - <span class="number">1</span> - j;</span><br><span class="line">                <span class="keyword">if</span> (beforeRev + arr[i][j] - <span class="number">1</span> == i) &#123; <span class="comment">//åˆ¤æ–­ä¸‹æ ‡æ˜¯å¦å¯¹åº”</span></span><br><span class="line">                    maxLen = arr[i][j];</span><br><span class="line">                    maxEnd = i;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">/*************************************/</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">return</span> s.substring(maxEnd - maxLen + <span class="number">1</span>, maxEnd + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li><p>æ—¶é—´å¤æ‚åº¦ï¼šä¸¤å±‚å¾ªç¯ O*(*nÂ²)ã€‚</p>
</li>
<li><p>ç©ºé—´å¤æ‚åº¦ï¼šä¸€ä¸ªäºŒç»´æ•°ç»„ O*(*nÂ²)ã€‚</p>
</li>
</ul>
<p>ç©ºé—´å¤æ‚åº¦å…¶å®å¯ä»¥å†ä¼˜åŒ–ä¸€ä¸‹ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/d6f0b0e17ed6e13f5c042d172b1ddca782cb6aba589f5fcfea8944831614502f-image.png" alt="image.png"></p>
<p>æˆ‘ä»¬åˆ†æä¸€ä¸‹å¾ªç¯ï¼Œ<code>i=0</code>ï¼Œ<code>j=0</code>ï¼Œ<code>1ï¼Œ2...8</code> æ›´æ–°ä¸€åˆ—ï¼Œç„¶å <code>i=1</code>ï¼Œå†æ›´æ–°ä¸€åˆ—ï¼Œè€Œæ›´æ–°çš„æ—¶å€™æˆ‘ä»¬å…¶å®åªéœ€è¦ä¸Šä¸€åˆ—çš„ä¿¡æ¯ï¼Œæ›´æ–°ç¬¬ <code>3</code> åˆ—çš„æ—¶å€™ï¼Œç¬¬ <code>1</code> åˆ—çš„ä¿¡æ¯æ˜¯æ²¡æœ‰ç”¨çš„ã€‚æ‰€ä»¥æˆ‘ä»¬åªéœ€è¦ä¸€ä¸ªä¸€ç»´æ•°ç»„å°±å¯ä»¥äº†ã€‚ä½†æ˜¯æ›´æ–° <code>arr [i]</code> çš„æ—¶å€™æˆ‘ä»¬éœ€è¦ <code>arr[i-1]</code> çš„ä¿¡æ¯ï¼Œå‡è®¾ <code>a[3]=a[2]+1</code>ï¼Œæ›´æ–° <code>a[4]</code> çš„æ—¶å€™ï¼Œ æˆ‘ä»¬éœ€è¦ <code>a[3]</code> çš„ä¿¡æ¯ï¼Œä½†æ˜¯ <code>a[3]</code> åœ¨ä¹‹å‰å·²ç»è¢«æ›´æ–°äº†ï¼Œæ‰€ä»¥ <code>j</code> ä¸èƒ½ä»<code>0</code>åˆ° <code>8</code>ï¼Œåº”è¯¥å€’è¿‡æ¥ï¼Œ<code>a[8]=a[7]+1</code>ï¼Œ<code>a[7]=a[6]+1</code>, è¿™æ ·æ›´æ–° <code>a[8]</code> çš„æ—¶å€™ç”¨ <code>a[7]</code>ï¼Œç”¨å®Œåæ‰å»æ›´æ–° <code>a[7]</code>ï¼Œä¿è¯äº†ä¸ä¼šå‡ºé”™ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> String <span class="title function_">longestPalindrome</span><span class="params">(String s)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (s.equals(<span class="string">&quot;&quot;</span>))</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="type">String</span> <span class="variable">origin</span> <span class="operator">=</span> s;</span><br><span class="line">    <span class="type">String</span> <span class="variable">reverse</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuffer</span>(s).reverse().toString();</span><br><span class="line">    <span class="type">int</span> <span class="variable">length</span> <span class="operator">=</span> s.length();</span><br><span class="line">    <span class="type">int</span>[] arr = <span class="keyword">new</span> <span class="title class_">int</span>[length];</span><br><span class="line">    <span class="type">int</span> <span class="variable">maxLen</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">maxEnd</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; length; i++)</span><br><span class="line">        <span class="comment">/**************ä¿®æ”¹çš„åœ°æ–¹***************************/</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> length - <span class="number">1</span>; j &gt;= <span class="number">0</span>; j--) &#123;</span><br><span class="line">        <span class="comment">/**************************************************/</span></span><br><span class="line">            <span class="keyword">if</span> (origin.charAt(i) == reverse.charAt(j)) &#123;</span><br><span class="line">                <span class="keyword">if</span> (i == <span class="number">0</span> || j == <span class="number">0</span>) &#123;</span><br><span class="line">                    arr[j] = <span class="number">1</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    arr[j] = arr[j - <span class="number">1</span>] + <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            <span class="comment">/**************ä¿®æ”¹çš„åœ°æ–¹***************************/</span></span><br><span class="line">            <span class="comment">//ä¹‹å‰äºŒç»´æ•°ç»„ï¼Œæ¯æ¬¡ç”¨çš„æ˜¯ä¸åŒçš„åˆ—ï¼Œæ‰€ä»¥ä¸ç”¨ç½® 0 ã€‚</span></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                arr[j] = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">/**************************************************/</span></span><br><span class="line">            <span class="keyword">if</span> (arr[j] &gt; maxLen) &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">beforeRev</span> <span class="operator">=</span> length - <span class="number">1</span> - j;</span><br><span class="line">                <span class="keyword">if</span> (beforeRev + arr[j] - <span class="number">1</span> == i) &#123;</span><br><span class="line">                    maxLen = arr[j];</span><br><span class="line">                    maxEnd = i;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">return</span> s.substring(maxEnd - maxLen + <span class="number">1</span>, maxEnd + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li><p>æ—¶é—´å¤æ‚åº¦ O*(*nÂ²)ã€‚</p>
</li>
<li><p>ç©ºé—´å¤æ‚åº¦é™ä¸º O*(*n)ã€‚</p>
</li>
</ul>
<h5 id="è§£æ³•-3-æš´åŠ›ç ´è§£ä¼˜åŒ–"><a href="#è§£æ³•-3-æš´åŠ›ç ´è§£ä¼˜åŒ–" class="headerlink" title="è§£æ³• 3: æš´åŠ›ç ´è§£ä¼˜åŒ–"></a>è§£æ³• 3: æš´åŠ›ç ´è§£ä¼˜åŒ–</h5><p>è§£æ³•ä¸€çš„æš´åŠ›è§£æ³•æ—¶é—´å¤æ‚åº¦å¤ªé«˜ï¼Œåœ¨ leetCode ä¸Šå¹¶ä¸èƒ½ ACã€‚æˆ‘ä»¬å¯ä»¥è€ƒè™‘ï¼Œå»æ‰ä¸€äº›æš´åŠ›è§£æ³•ä¸­é‡å¤çš„åˆ¤æ–­ã€‚æˆ‘ä»¬å¯ä»¥åŸºäºä¸‹è¾¹çš„å‘ç°ï¼Œè¿›è¡Œæ”¹è¿›ã€‚</p>
<p>é¦–å…ˆå®šä¹‰<code> P(iï¼Œjï¼‰</code>ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/image-20230114123212260.png" alt="image-20230114123212260"></p>
<p>æ¥ä¸‹æ¥</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/image-20230114123229312.png" alt="image-20230114123229312"></p>
<p>æ‰€ä»¥å¦‚æœæˆ‘ä»¬æƒ³çŸ¥é“ P<em>ï¼ˆ</em>i*,<em>jï¼‰çš„æƒ…å†µï¼Œä¸éœ€è¦è°ƒç”¨åˆ¤æ–­å›æ–‡ä¸²çš„å‡½æ•°äº†ï¼Œåªéœ€è¦çŸ¥é“ <em>P</em>ï¼ˆ</em>i*+1ï¼Œ<em>j</em>âˆ’1ï¼‰çš„æƒ…å†µå°±å¯ä»¥äº†ï¼Œè¿™æ ·æ—¶é—´å¤æ‚åº¦å°±å°‘äº† O*(<em>n</em>)ã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥ç”¨åŠ¨æ€è§„åˆ’çš„æ–¹æ³•ï¼Œç©ºé—´æ¢æ—¶é—´ï¼ŒæŠŠå·²ç»æ±‚å‡ºçš„ <em>P</em>ï¼ˆ<em>i</em>ï¼Œ<em>j</em>ï¼‰å­˜å‚¨èµ·æ¥ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/8705f9c1f6913666f57437cba5a5424a64fa0a7bc94a202e5552f5e1430bc555-image.png" alt="image.png"></p>
<p>å¦‚æœ S*[<em>i</em>+1,<em>j</em>âˆ’1] æ˜¯å›æ–‡ä¸²ï¼Œé‚£ä¹ˆåªè¦ <em>S</em>[<em>i</em>] &#x3D;&#x3D; S[ j ] ï¼Œå°±å¯ä»¥ç¡®å®š S*[<em>i</em>,*j]ä¹Ÿæ˜¯å›æ–‡ä¸²äº†ã€‚</p>
<p>æ±‚ é•¿åº¦ä¸º 1 å’Œé•¿åº¦ä¸º 2 çš„ P*(<em>i</em>,*j) æ—¶ä¸èƒ½ç”¨ä¸Šè¾¹çš„å…¬å¼ï¼Œå› ä¸ºæˆ‘ä»¬ä»£å…¥å…¬å¼åä¼šé‡åˆ° <em>P</em>[<em>i</em>] </p>
<p>[<em>j</em>] ä¸­ i &gt; j çš„æƒ…å†µï¼Œæ¯”å¦‚æ±‚ <em>P</em>[1] [2] çš„è¯ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“ <em>P</em>[1+1] [2âˆ’1] &#x3D; <em>P</em>[2] [1] ï¼Œè€Œ <em>P</em>[2] [1] ä»£è¡¨ç€ S[2,1] æ˜¯ä¸æ˜¯å›æ–‡ä¸²ï¼Œæ˜¾ç„¶æ˜¯ä¸å¯¹çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å•ç‹¬åˆ¤æ–­ã€‚</p>
<p>æ‰€ä»¥æˆ‘ä»¬å…ˆåˆå§‹åŒ–é•¿åº¦æ˜¯ 1 çš„å›æ–‡ä¸²çš„ P*[<em>i</em>,<em>j</em>]ï¼Œè¿™æ ·åˆ©ç”¨ä¸Šè¾¹æå‡ºçš„å…¬å¼ <em>P</em>(<em>i</em>,<em>j</em>)&#x3D;(<em>P</em>(<em>i</em>+1,<em>j</em>âˆ’1)&amp;&amp;<em>S</em>[<em>i</em>]&#x3D;&#x3D;<em>S</em>[<em>j</em>])ï¼Œç„¶åä¸¤è¾¹å‘å¤–å„æ‰©å……ä¸€ä¸ªå­—ç¬¦ï¼Œé•¿åº¦ä¸º 3 çš„ï¼Œä¸º 5 çš„ï¼Œæ‰€æœ‰å¥‡æ•°é•¿åº¦çš„å°±éƒ½æ±‚å‡ºæ¥äº†ã€‚</p>
<p>åŒç†ï¼Œåˆå§‹åŒ–é•¿åº¦æ˜¯ 2 çš„å›æ–‡ä¸² P*[<em>i</em>,*i+1]ï¼Œåˆ©ç”¨å…¬å¼ï¼Œé•¿åº¦ä¸º 4 çš„ï¼Œ6 çš„æ‰€æœ‰å¶æ•°é•¿åº¦çš„å°±éƒ½æ±‚å‡ºæ¥äº†ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> String <span class="title function_">longestPalindrome</span><span class="params">(String s)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">length</span> <span class="operator">=</span> s.length();</span><br><span class="line">    <span class="type">boolean</span>[][] P = <span class="keyword">new</span> <span class="title class_">boolean</span>[length][length];</span><br><span class="line">    <span class="type">int</span> <span class="variable">maxLen</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="type">String</span> <span class="variable">maxPal</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> <span class="number">1</span>; len &lt;= length; len++) <span class="comment">//éå†æ‰€æœ‰çš„é•¿åº¦</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">start</span> <span class="operator">=</span> <span class="number">0</span>; start &lt; length; start++) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">end</span> <span class="operator">=</span> start + len - <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span> (end &gt;= length) <span class="comment">//ä¸‹æ ‡å·²ç»è¶Šç•Œï¼Œç»“æŸæœ¬æ¬¡å¾ªç¯</span></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            P[start][end] = (len == <span class="number">1</span> || len == <span class="number">2</span> || P[start + <span class="number">1</span>][end - <span class="number">1</span>]) &amp;&amp; s.charAt(start) == s.charAt(end); <span class="comment">//é•¿åº¦ä¸º 1 å’Œ 2 çš„å•ç‹¬åˆ¤æ–­ä¸‹</span></span><br><span class="line">            <span class="keyword">if</span> (P[start][end] &amp;&amp; len &gt; maxLen) &#123;</span><br><span class="line">                maxPal = s.substring(start, end + <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">return</span> maxPal;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li><p>æ—¶é—´å¤æ‚åº¦ï¼šä¸¤å±‚å¾ªç¯ O*(*nÂ²ï¼‰ã€‚</p>
</li>
<li><p>ç©ºé—´å¤æ‚åº¦ï¼šç”¨äºŒç»´æ•°ç»„ <em>P</em> ä¿å­˜æ¯ä¸ªå­ä¸²çš„æƒ…å†µ O*(*nÂ²)ã€‚</p>
</li>
</ul>
<p>æˆ‘ä»¬åˆ†æä¸‹æ¯æ¬¡å¾ªç¯ç”¨åˆ°çš„ <em>P</em>(<em>i</em>ï¼Œ<em>j</em>ï¼‰ï¼Œçœ‹ä¸€çœ‹èƒ½ä¸èƒ½å‘è§£æ³•äºŒä¸€æ ·ä¼˜åŒ–ä¸€ä¸‹ç©ºé—´å¤æ‚åº¦ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/e8c42f244ff5cb91096dfbdb70d2ccefdb88d428a111d89f4e3ac42dcd337103-image.png" alt="image.png"></p>
<p>å½“æˆ‘ä»¬æ±‚é•¿åº¦ä¸º 6 å’Œ 5 çš„å­ä¸²çš„æƒ…å†µæ—¶ï¼Œå…¶å®åªç”¨åˆ°äº† 4ï¼Œ3 é•¿åº¦çš„æƒ…å†µï¼Œè€Œé•¿åº¦ä¸º 1 å’Œ 2 çš„å­ä¸²æƒ…å†µå…¶å®å·²ç»ä¸éœ€è¦äº†ã€‚ä½†æ˜¯ç”±äºæˆ‘ä»¬å¹¶ä¸æ˜¯ç”¨ P æ•°ç»„çš„ä¸‹æ ‡è¿›è¡Œçš„å¾ªç¯ï¼Œæš‚æ—¶æ²¡æœ‰æƒ³åˆ°ä¼˜åŒ–çš„æ–¹æ³•ã€‚</p>
<p>å¦ä¸€ç§åŠ¨æ€è§„åˆ’çš„æ€è·¯ï¼Œå…¬å¼è¿˜æ˜¯è¿™ä¸ªä¸å˜</p>
<p>é¦–å…ˆå®šä¹‰ P*(<em>i</em>ï¼Œ*jï¼‰ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/image-20230114132220223.png" alt="image-20230114132220223"></p>
<p>é€’æ¨å…¬å¼ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬é¦–å…ˆçŸ¥é“äº† i+1 æ‰ä¼šçŸ¥é“ i ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦å€’ç€éå†å°±è¡Œäº†ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> String <span class="title function_">longestPalindrome</span><span class="params">(String s)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> s.length();</span><br><span class="line">    <span class="type">String</span> <span class="variable">res</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="type">boolean</span>[][] dp = <span class="keyword">new</span> <span class="title class_">boolean</span>[n][n];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> n - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i; j &lt; n; j++) &#123;</span><br><span class="line">            dp[i][j] = s.charAt(i) == s.charAt(j) &amp;&amp; (j - i &lt; <span class="number">2</span> || dp[i + <span class="number">1</span>][j - <span class="number">1</span>]); <span class="comment">//j - i ä»£è¡¨é•¿åº¦å‡å» 1        </span></span><br><span class="line">            <span class="keyword">if</span> (dp[i][j] &amp;&amp;  j - i + <span class="number">1</span> &gt; res.length()) &#123;</span><br><span class="line">                res = s.substring(i, j + <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ—¶é—´å¤æ‚åº¦å’Œç©ºé—´å¤æ‚å’Œä¹‹å‰éƒ½æ²¡æœ‰å˜åŒ–ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹å¯ä¸å¯ä»¥ä¼˜åŒ–ç©ºé—´å¤æ‚åº¦ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/d6f6d0af1b55319252b81dc409848103da69bb043a9a13e8d6878574ac10e5cf-image.png" alt="image.png"></p>
<p>å½“æ±‚ç¬¬ i è¡Œçš„æ—¶å€™æˆ‘ä»¬åªéœ€è¦ç¬¬ i*+1 è¡Œçš„ä¿¡æ¯ï¼Œå¹¶ä¸” j çš„è¯éœ€è¦ j*âˆ’1 çš„ä¿¡æ¯ï¼Œæ‰€ä»¥å’Œä¹‹å‰ä¸€æ · <em>j</em> ä¹Ÿéœ€è¦å€’å™ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> String <span class="title function_">longestPalindrome7</span><span class="params">(String s)</span> &#123;</span><br><span class="line">		<span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> s.length();</span><br><span class="line">		<span class="type">String</span> <span class="variable">res</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">		<span class="type">boolean</span>[] P = <span class="keyword">new</span> <span class="title class_">boolean</span>[n];</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> n - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> n - <span class="number">1</span>; j &gt;= i; j--) &#123;</span><br><span class="line">				P[j] = s.charAt(i) == s.charAt(j) &amp;&amp; (j - i &lt; <span class="number">3</span> || P[j - <span class="number">1</span>]);</span><br><span class="line">				<span class="keyword">if</span> (P[j] &amp;&amp; j - i + <span class="number">1</span> &gt; res.length()) &#123;</span><br><span class="line">					res = s.substring(i, j + <span class="number">1</span>);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> res;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

<p>æ—¶é—´å¤æ‚åº¦ï¼šä¸å˜ O*(*nÂ²ï¼‰ã€‚</p>
<p>ç©ºé—´å¤æ‚åº¦ï¼šé™ä¸º O*(*n) ã€‚</p>
<h5 id="è§£æ³•-4-æ‰©å±•ä¸­å¿ƒ"><a href="#è§£æ³•-4-æ‰©å±•ä¸­å¿ƒ" class="headerlink" title="è§£æ³• 4: æ‰©å±•ä¸­å¿ƒ"></a>è§£æ³• 4: æ‰©å±•ä¸­å¿ƒ</h5><p>æˆ‘ä»¬çŸ¥é“å›æ–‡ä¸²ä¸€å®šæ˜¯å¯¹ç§°çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥æ¯æ¬¡å¾ªç¯é€‰æ‹©ä¸€ä¸ªä¸­å¿ƒï¼Œè¿›è¡Œå·¦å³æ‰©å±•ï¼Œåˆ¤æ–­å·¦å³å­—ç¬¦æ˜¯å¦ç›¸ç­‰å³å¯ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1b9bfe346a4a9a5718b08149be11236a6db61b3922265d34f22632d4687aa0a8-image.png" alt="image.png"></p>
<p>ç”±äºå­˜åœ¨å¥‡æ•°çš„å­—ç¬¦ä¸²å’Œå¶æ•°çš„å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä»ä¸€ä¸ªå­—ç¬¦å¼€å§‹æ‰©å±•ï¼Œæˆ–è€…ä»ä¸¤ä¸ªå­—ç¬¦ä¹‹é—´å¼€å§‹æ‰©å±•ï¼Œæ‰€ä»¥æ€»å…±æœ‰ <code>n+n-1</code> ä¸ªä¸­å¿ƒã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> String <span class="title function_">longestPalindrome</span><span class="params">(String s)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (s == <span class="literal">null</span> || s.length() &lt; <span class="number">1</span>) <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">start</span> <span class="operator">=</span> <span class="number">0</span>, end = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">len1</span> <span class="operator">=</span> expandAroundCenter(s, i, i);</span><br><span class="line">        <span class="type">int</span> <span class="variable">len2</span> <span class="operator">=</span> expandAroundCenter(s, i, i + <span class="number">1</span>);</span><br><span class="line">        <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> Math.max(len1, len2);</span><br><span class="line">        <span class="keyword">if</span> (len &gt; end - start) &#123;</span><br><span class="line">            start = i - (len - <span class="number">1</span>) / <span class="number">2</span>;</span><br><span class="line">            end = i + len / <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> s.substring(start, end + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="type">int</span> <span class="title function_">expandAroundCenter</span><span class="params">(String s, <span class="type">int</span> left, <span class="type">int</span> right)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">L</span> <span class="operator">=</span> left, R = right;</span><br><span class="line">    <span class="keyword">while</span> (L &gt;= <span class="number">0</span> &amp;&amp; R &lt; s.length() &amp;&amp; s.charAt(L) == s.charAt(R)) &#123;</span><br><span class="line">        L--;</span><br><span class="line">        R++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> R - L - <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li><p>æ—¶é—´å¤æ‚åº¦ï¼šO*(*nÂ²ï¼‰ã€‚</p>
</li>
<li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(1ï¼‰ã€‚</p>
</li>
</ul>
<h5 id="è§£æ³•-5-Manacherâ€™s-Algorithm-é©¬æ‹‰è½¦ç®—æ³•ã€‚"><a href="#è§£æ³•-5-Manacherâ€™s-Algorithm-é©¬æ‹‰è½¦ç®—æ³•ã€‚" class="headerlink" title="è§£æ³• 5: Manacherâ€™s Algorithm é©¬æ‹‰è½¦ç®—æ³•ã€‚"></a>è§£æ³• 5: Manacherâ€™s Algorithm é©¬æ‹‰è½¦ç®—æ³•ã€‚</h5><p>é©¬æ‹‰è½¦ç®—æ³• <code>Manacherâ€˜s Algorithm</code> æ˜¯ç”¨æ¥æŸ¥æ‰¾ä¸€ä¸ªå­—ç¬¦ä¸²çš„æœ€é•¿å›æ–‡å­ä¸²çš„çº¿æ€§æ–¹æ³•ï¼Œç”±ä¸€ä¸ªå« Manacher çš„äººåœ¨ 1975 å¹´å‘æ˜çš„ï¼Œè¿™ä¸ªæ–¹æ³•çš„æœ€å¤§è´¡çŒ®æ˜¯åœ¨äºå°†æ—¶é—´å¤æ‚åº¦æå‡åˆ°äº†çº¿æ€§ã€‚</p>
<p>é¦–å…ˆæˆ‘ä»¬è§£å†³ä¸‹å¥‡æ•°å’Œå¶æ•°çš„é—®é¢˜ï¼Œåœ¨æ¯ä¸ªå­—ç¬¦é—´æ’å…¥ <code>&quot;#&quot;</code>ï¼Œå¹¶ä¸”ä¸ºäº†ä½¿å¾—æ‰©å±•çš„è¿‡ç¨‹ä¸­ï¼Œåˆ°è¾¹ç•Œåè‡ªåŠ¨ç»“æŸï¼Œåœ¨ä¸¤ç«¯åˆ†åˆ«æ’å…¥ <code>&quot;^&quot;</code> å’Œ <code>&quot;$&quot;</code>ï¼Œä¸¤ä¸ªä¸å¯èƒ½åœ¨å­—ç¬¦ä¸²ä¸­å‡ºç°çš„å­—ç¬¦ï¼Œè¿™æ ·ä¸­å¿ƒæ‰©å±•çš„æ—¶å€™ï¼Œåˆ¤æ–­ä¸¤ç«¯å­—ç¬¦æ˜¯å¦ç›¸ç­‰çš„æ—¶å€™ï¼Œå¦‚æœåˆ°äº†è¾¹ç•Œå°±ä¸€å®šä¼šä¸ç›¸ç­‰ï¼Œä»è€Œå‡ºäº†å¾ªç¯ã€‚ç»è¿‡å¤„ç†ï¼Œå­—ç¬¦ä¸²çš„é•¿åº¦æ°¸è¿œéƒ½æ˜¯å¥‡æ•°äº†ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/ad2b5e0da4a3a35b60f60c9a5a2be07a8074f9be0fe1597351eeff7dc460789a-image.png" alt="image.png"></p>
<p>é¦–å…ˆæˆ‘ä»¬ç”¨ä¸€ä¸ªæ•°ç»„ P ä¿å­˜ä»ä¸­å¿ƒæ‰©å±•çš„æœ€å¤§ä¸ªæ•°ï¼Œè€Œå®ƒåˆšå¥½ä¹Ÿæ˜¯å»æ‰ <code>&quot;#&quot;</code> çš„åŸå­—ç¬¦ä¸²çš„æ€»é•¿åº¦ã€‚ä¾‹å¦‚ä¸‹å›¾ä¸­ä¸‹æ ‡æ˜¯ 6 çš„åœ°æ–¹ï¼Œå¯ä»¥çœ‹åˆ° <code>P[ 6 ]</code> ç­‰äº 5ï¼Œæ‰€ä»¥å®ƒæ˜¯ä»å·¦è¾¹æ‰©å±• 5 ä¸ªå­—ç¬¦ï¼Œç›¸åº”çš„å³è¾¹ä¹Ÿæ˜¯æ‰©å±• 5 ä¸ªå­—ç¬¦ï¼Œä¹Ÿå°±æ˜¯ <code>&quot;#c#b#c#b#c#&quot;</code>ã€‚è€Œå»æ‰ # æ¢å¤åˆ°åŸæ¥çš„å­—ç¬¦ä¸²ï¼Œå˜æˆ <code>&quot;cbcbc&quot;</code>ï¼Œå®ƒçš„é•¿åº¦åˆšå¥½ä¹Ÿå°±æ˜¯ 5ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/ae2c30d48d35faa7f3d0d8bc4fe18d0691f3d13dcfc5846ddce1bf7a002681f5-image.png" alt="image.png"></p>
<h6 id="æ±‚åŸå­—ç¬¦ä¸²ä¸‹æ ‡"><a href="#æ±‚åŸå­—ç¬¦ä¸²ä¸‹æ ‡" class="headerlink" title="æ±‚åŸå­—ç¬¦ä¸²ä¸‹æ ‡"></a>æ±‚åŸå­—ç¬¦ä¸²ä¸‹æ ‡</h6><p>ç”¨ P çš„ä¸‹æ ‡ <code>i</code> å‡å» <code>P [ i ]</code>ï¼Œå†é™¤ä»¥ 2ï¼Œå°±æ˜¯åŸå­—ç¬¦ä¸²çš„å¼€å¤´ä¸‹æ ‡äº†ã€‚</p>
<p>ä¾‹å¦‚æˆ‘ä»¬æ‰¾åˆ° <code>P[ i ]</code> çš„æœ€å¤§å€¼ä¸º 5ï¼Œä¹Ÿå°±æ˜¯å›æ–‡ä¸²çš„æœ€å¤§é•¿åº¦æ˜¯ 5ï¼Œå¯¹åº”çš„ä¸‹æ ‡æ˜¯ 6ï¼Œæ‰€ä»¥åŸå­—ç¬¦ä¸²çš„å¼€å¤´ä¸‹æ ‡æ˜¯ï¼ˆ<code>6 - 5 ï¼‰/ 2 = 0</code>ã€‚æ‰€ä»¥æˆ‘ä»¬åªéœ€è¦è¿”å›åŸå­—ç¬¦ä¸²çš„ç¬¬ 0 åˆ° ç¬¬<code>ï¼ˆ5 - 1ï¼‰</code>ä½å°±å¯ä»¥äº†ã€‚</p>
<h6 id="æ±‚æ¯ä¸ª-P-i"><a href="#æ±‚æ¯ä¸ª-P-i" class="headerlink" title="æ±‚æ¯ä¸ª P [ i ]"></a>æ±‚æ¯ä¸ª <code>P [ i ]</code></h6><p>æ¥ä¸‹æ¥æ˜¯ç®—æ³•çš„å…³é”®äº†ï¼Œå®ƒå……åˆ†åˆ©ç”¨äº†å›æ–‡ä¸²çš„å¯¹ç§°æ€§ã€‚</p>
<p>æˆ‘ä»¬ç”¨ C è¡¨ç¤ºå›æ–‡ä¸²çš„ä¸­å¿ƒï¼Œç”¨ R è¡¨ç¤ºå›æ–‡ä¸²çš„å³è¾¹åŠå¾„ã€‚æ‰€ä»¥ <code>R = C + P[ i ]</code>ã€‚C å’Œ R æ‰€å¯¹åº”çš„å›æ–‡ä¸²æ˜¯å½“å‰å¾ªç¯ä¸­ R æœ€é å³çš„å›æ–‡ä¸²ã€‚</p>
<p>è®©æˆ‘ä»¬è€ƒè™‘æ±‚ <code>P [ i ]</code> çš„æ—¶å€™ï¼Œå¦‚ä¸‹å›¾ã€‚</p>
<p>ç”¨ i_mirror è¡¨ç¤ºå½“å‰éœ€è¦æ±‚çš„ç¬¬ i ä¸ªå­—ç¬¦å…³äº C å¯¹åº”çš„ä¸‹æ ‡ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/29eb66280ca149c3bf5d9906e066b4a2b39d1bf8f9dd0533ca00479aca6f4f39-image.png" alt="image.png"></p>
<p>æˆ‘ä»¬ç°åœ¨è¦æ±‚ <code>P [ i ]</code>ï¼Œå¦‚æœæ˜¯ç”¨ä¸­å¿ƒæ‰©å±•æ³•ï¼Œé‚£å°±å‘ä¸¤è¾¹æ‰©å±•æ¯”å¯¹å°±è¡Œäº†ã€‚ä½†æ˜¯æˆ‘ä»¬å…¶å®å¯ä»¥åˆ©ç”¨å›æ–‡ä¸² C çš„å¯¹ç§°æ€§ã€‚i å…³äº C çš„å¯¹ç§°ç‚¹æ˜¯ <code>i_mirrorï¼ŒP [ i_mirror ] = 3</code>ï¼Œæ‰€ä»¥ <code>P [ i ]</code> ä¹Ÿç­‰äº 3ã€‚</p>
<p>ä½†æ˜¯æœ‰ä¸‰ç§æƒ…å†µå°†ä¼šé€ æˆç›´æ¥èµ‹å€¼ä¸º <code>P [ i_mirror ]</code> æ˜¯ä¸æ­£ç¡®çš„ï¼Œä¸‹è¾¹ä¸€ä¸€è®¨è®ºã€‚</p>
<ol>
<li>è¶…å‡ºäº† R</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/b0d52a5f30747e55ef09b3c7b7cfc23026e37040edc41f387263e8f8a0ba8f49-image.png" alt="image.png"></p>
<p>å½“æˆ‘ä»¬è¦æ±‚ <code>P [ i ]</code> çš„æ—¶å€™ï¼Œ<code>P [ mirror ] = 7</code>ï¼Œè€Œæ­¤æ—¶ <code>P [ i ]</code> å¹¶ä¸ç­‰äº 7ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Œå› ä¸ºæˆ‘ä»¬ä» i å¼€å§‹å¾€åæ•° 7 ä¸ªï¼Œç­‰äº 22ï¼Œå·²ç»è¶…è¿‡äº†æœ€å³çš„ Rï¼Œæ­¤æ—¶ä¸èƒ½åˆ©ç”¨å¯¹ç§°æ€§äº†ï¼Œä½†æˆ‘ä»¬ä¸€å®šå¯ä»¥æ‰©å±•åˆ° R çš„ï¼Œæ‰€ä»¥ <code>P [ i ]</code> è‡³å°‘ç­‰äº <code>R - i = 20 - 15 = 5</code>ï¼Œä¼šä¸ä¼šæ›´å¤§å‘¢ï¼Œæˆ‘ä»¬åªéœ€è¦æ¯”è¾ƒ <code>T [ R+1 ] å’Œ T [ R+1 ]</code>å…³äº i çš„å¯¹ç§°ç‚¹å°±è¡Œäº†ï¼Œå°±åƒä¸­å¿ƒæ‰©å±•æ³•ä¸€æ ·ä¸€ä¸ªä¸ªæ‰©å±•ã€‚</p>
<ol start="2">
<li>P [ i_mirror ] é‡åˆ°äº†åŸå­—ç¬¦ä¸²çš„å·¦è¾¹ç•Œ</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/714e6f768e67304fb7162ecac3ae85fcf23ad82a21456e8ca55ac2c8cfd2609e-image.png" alt="image.png"></p>
<p>æ­¤æ—¶ <code>P [ i_mirror ] = 1</code>ï¼Œä½†æ˜¯ <code>P [ i ] </code>èµ‹å€¼æˆ 1 æ˜¯ä¸æ­£ç¡®çš„ï¼Œå‡ºç°è¿™ç§æƒ…å†µçš„åŸå› æ˜¯ <code>P [ i_mirror ]</code> åœ¨æ‰©å±•çš„æ—¶å€™é¦–å…ˆæ˜¯ <code>&quot;#&quot; == &quot;#&quot;</code>ï¼Œä¹‹åé‡åˆ°äº† â€œ^â€ å’Œå¦ä¸€ä¸ªå­—ç¬¦æ¯”è¾ƒï¼Œä¹Ÿå°±æ˜¯åˆ°äº†è¾¹ç•Œï¼Œæ‰ç»ˆæ­¢å¾ªç¯çš„ã€‚è€Œ <code>P [ i ]</code> å¹¶æ²¡æœ‰é‡åˆ°è¾¹ç•Œï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç»§ç»­é€šè¿‡ä¸­å¿ƒæ‰©å±•æ³•ä¸€æ­¥ä¸€æ­¥å‘ä¸¤è¾¹æ‰©å±•å°±è¡Œäº†ã€‚</p>
<ol start="3">
<li>i ç­‰äºäº† R</li>
</ol>
<p>æ­¤æ—¶æˆ‘ä»¬å…ˆæŠŠ <code>P [ i ]</code> èµ‹å€¼ä¸º 0ï¼Œç„¶åé€šè¿‡ä¸­å¿ƒæ‰©å±•æ³•ä¸€æ­¥ä¸€æ­¥æ‰©å±•å°±è¡Œäº†ã€‚</p>
<p>è€ƒè™‘ C å’Œ R çš„æ›´æ–°</p>
<p>å°±è¿™æ ·ä¸€æ­¥ä¸€æ­¥çš„æ±‚å‡ºæ¯ä¸ª <code>P [ i ]</code>ï¼Œå½“æ±‚å‡ºçš„ <code>P [ i ]</code> çš„å³è¾¹ç•Œå¤§äºå½“å‰çš„ R æ—¶ï¼Œæˆ‘ä»¬å°±éœ€è¦æ›´æ–° C å’Œ R ä¸ºå½“å‰çš„å›æ–‡ä¸²äº†ã€‚å› ä¸ºæˆ‘ä»¬å¿…é¡»ä¿è¯ i åœ¨ R é‡Œé¢ï¼Œæ‰€ä»¥ä¸€æ—¦æœ‰æ›´å³è¾¹çš„ R å°±è¦æ›´æ–° Rã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/5fbe52880634a9d5fa60ad5e126e8c5c38c5a6eadd0c901a3495dc1307d46d6b-image.png" alt="image.png"></p>
<p>æ­¤æ—¶çš„ <code>P [ i ]</code> æ±‚å‡ºæ¥å°†ä¼šæ˜¯ 3ï¼Œ<code>P [ i ]</code> å¯¹åº”çš„å³è¾¹ç•Œå°†æ˜¯ <code>10 + 3 = 13</code>ï¼Œæ‰€ä»¥å¤§äºå½“å‰çš„ Rï¼Œæˆ‘ä»¬éœ€è¦æŠŠ C æ›´æ–°æˆ i çš„å€¼ï¼Œä¹Ÿå°±æ˜¯ 10ï¼ŒR æ›´æ–°æˆ 13ã€‚ç»§ç»­ä¸‹è¾¹çš„å¾ªç¯ã€‚</p>
<ul>
<li>Java</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">public String preProcess(String s) &#123;</span><br><span class="line">    int n = s.length();</span><br><span class="line">    if (n == 0) &#123;</span><br><span class="line">        return &quot;^$&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">    String ret = &quot;^&quot;;</span><br><span class="line">    for (int i = 0; i &lt; n; i++)</span><br><span class="line">        ret += &quot;#&quot; + s.charAt(i);</span><br><span class="line">    ret += &quot;#$&quot;;</span><br><span class="line">    return ret;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// é©¬æ‹‰è½¦ç®—æ³•</span><br><span class="line">public String longestPalindrome2(String s) &#123;</span><br><span class="line">    String T = preProcess(s);</span><br><span class="line">    int n = T.length();</span><br><span class="line">    int[] P = new int[n];</span><br><span class="line">    int C = 0, R = 0;</span><br><span class="line">    for (int i = 1; i &lt; n - 1; i++) &#123;</span><br><span class="line">        int i_mirror = 2 * C - i;</span><br><span class="line">        if (R &gt; i) &#123;</span><br><span class="line">            P[i] = Math.min(R - i, P[i_mirror]);// é˜²æ­¢è¶…å‡º R</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            P[i] = 0;// ç­‰äº R çš„æƒ…å†µ</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        // ç¢°åˆ°ä¹‹å‰è®²çš„ä¸‰ç§æƒ…å†µæ—¶å€™ï¼Œéœ€è¦åˆ©ç”¨ä¸­å¿ƒæ‰©å±•æ³•</span><br><span class="line">        while (T.charAt(i + 1 + P[i]) == T.charAt(i - 1 - P[i])) &#123;</span><br><span class="line">            P[i]++;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        // åˆ¤æ–­æ˜¯å¦éœ€è¦æ›´æ–° R</span><br><span class="line">        if (i + P[i] &gt; R) &#123;</span><br><span class="line">            C = i;</span><br><span class="line">            R = i + P[i];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // æ‰¾å‡º P çš„æœ€å¤§å€¼</span><br><span class="line">    int maxLen = 0;</span><br><span class="line">    int centerIndex = 0;</span><br><span class="line">    for (int i = 1; i &lt; n - 1; i++) &#123;</span><br><span class="line">        if (P[i] &gt; maxLen) &#123;</span><br><span class="line">            maxLen = P[i];</span><br><span class="line">            centerIndex = i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    int start = (centerIndex - maxLen) / 2; //æœ€å¼€å§‹è®²çš„æ±‚åŸå­—ç¬¦ä¸²ä¸‹æ ‡</span><br><span class="line">    return s.substring(start, start + maxLen);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ—¶é—´å¤æ‚åº¦ï¼š<code>for</code> å¾ªç¯é‡Œè¾¹å¥—äº†ä¸€å±‚ <code>while</code> å¾ªç¯ï¼Œéš¾é“ä¸æ˜¯ ï¿½(ï¿½Â²)<em>O</em>(<em>n</em>Â²)ï¼Ÿä¸ï¼å…¶å®æ˜¯ ï¿½(ï¿½)<em>O</em>(<em>n</em>)ã€‚ä¸ä¸¥è°¨çš„æƒ³ä¸€ä¸‹ï¼Œå› ä¸º <code>while</code> å¾ªç¯è®¿é—® R å³è¾¹çš„æ•°å­—ç”¨æ¥æ‰©å±•ï¼Œä¹Ÿå°±æ˜¯é‚£äº›è¿˜æœªæ±‚å‡ºçš„èŠ‚ç‚¹ï¼Œç„¶åä¸æ–­æ‰©å±•ï¼Œè€ŒæœŸé—´è®¿é—®çš„èŠ‚ç‚¹ä¸‹æ¬¡å°±ä¸ä¼šå†è¿›å…¥ <code>while</code> äº†ï¼Œå¯ä»¥åˆ©ç”¨å¯¹ç§°å¾—åˆ°è‡ªå·±çš„è§£ï¼Œæ‰€ä»¥æ¯ä¸ªèŠ‚ç‚¹è®¿é—®éƒ½æ˜¯å¸¸æ•°æ¬¡ï¼Œæ‰€ä»¥æ˜¯ ï¿½(ï¿½)<em>O</em>(<em>n</em>)ã€‚</p>
<p>ç©ºé—´å¤æ‚åº¦ï¼šï¿½(ï¿½)<em>O</em>(<em>n</em>)ã€‚</p>
<h5 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h5><p>æ—¶é—´å¤æ‚åº¦ä»ä¸‰æ¬¡æ–¹é™åˆ°äº†ä¸€æ¬¡ï¼Œç¾å¦™ï¼è¿™é‡Œä¸¤æ¬¡ç”¨åˆ°äº†åŠ¨æ€è§„åˆ’å»æ±‚è§£ï¼Œåˆæ­¥è®¤è¯†äº†åŠ¨æ€è§„åˆ’ï¼Œå°±æ˜¯å°†ä¹‹å‰æ±‚çš„å€¼ä¿å­˜èµ·æ¥ï¼Œæ–¹ä¾¿åè¾¹çš„è®¡ç®—ï¼Œä½¿å¾—ä¸€äº›å¤šä½™çš„è®¡ç®—æ¶ˆå¤±äº†ã€‚å¹¶ä¸”åœ¨åŠ¨æ€è§„åˆ’ä¸­ï¼Œé€šè¿‡è§‚å¯Ÿæ•°ç»„çš„åˆ©ç”¨æƒ…å†µï¼Œä»è€Œé™ä½äº†ç©ºé—´å¤æ‚åº¦ã€‚è€Œ Manacher ç®—æ³•å¯¹å›æ–‡ä¸²å¯¹ç§°æ€§çš„å……åˆ†åˆ©ç”¨ï¼Œä¸å¾—ä¸è®©äººå¹æœï¼Œè‡ªå·±åŠ æ²¹å•¦ï¼</p>
<h4 id="10ã€LC2299-å¼ºå¯†ç æ£€éªŒå™¨-II"><a href="#10ã€LC2299-å¼ºå¯†ç æ£€éªŒå™¨-II" class="headerlink" title="10ã€LC2299. å¼ºå¯†ç æ£€éªŒå™¨ II"></a>10ã€LC2299. å¼ºå¯†ç æ£€éªŒå™¨ II</h4><p>å¦‚æœä¸€ä¸ªå¯†ç æ»¡è¶³ä»¥ä¸‹æ‰€æœ‰æ¡ä»¶ï¼Œæˆ‘ä»¬ç§°å®ƒæ˜¯ä¸€ä¸ª <strong>å¼º</strong> å¯†ç ï¼š</p>
<ul>
<li>å®ƒæœ‰è‡³å°‘ <code>8</code> ä¸ªå­—ç¬¦ã€‚</li>
<li>è‡³å°‘åŒ…å« <strong>ä¸€ä¸ªå°å†™è‹±æ–‡</strong> å­—æ¯ã€‚</li>
<li>è‡³å°‘åŒ…å« <strong>ä¸€ä¸ªå¤§å†™è‹±æ–‡</strong> å­—æ¯ã€‚</li>
<li>è‡³å°‘åŒ…å« <strong>ä¸€ä¸ªæ•°å­—</strong> ã€‚</li>
<li>è‡³å°‘åŒ…å« <strong>ä¸€ä¸ªç‰¹æ®Šå­—ç¬¦</strong> ã€‚ç‰¹æ®Šå­—ç¬¦ä¸ºï¼š<code>&quot;!@#$%^&amp;*()-+&quot;</code> ä¸­çš„ä¸€ä¸ªã€‚</li>
<li>å®ƒ <strong>ä¸</strong> åŒ…å« <code>2</code> ä¸ªè¿ç»­ç›¸åŒçš„å­—ç¬¦ï¼ˆæ¯”æ–¹è¯´ <code>&quot;aab&quot;</code> ä¸ç¬¦åˆè¯¥æ¡ä»¶ï¼Œä½†æ˜¯ <code>&quot;aba&quot;</code> ç¬¦åˆè¯¥æ¡ä»¶ï¼‰ã€‚</li>
</ul>
<p>ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² <code>password</code> ï¼Œå¦‚æœå®ƒæ˜¯ä¸€ä¸ª <strong>å¼º</strong> å¯†ç ï¼Œè¿”å› <code>true</code>ï¼Œå¦åˆ™è¿”å› <code>false</code> ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼špassword = &quot;IloveLe3tcode!&quot;</span><br><span class="line">è¾“å‡ºï¼štrue</span><br><span class="line">è§£é‡Šï¼šå¯†ç æ»¡è¶³æ‰€æœ‰çš„è¦æ±‚ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿”å› true ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼špassword = &quot;Me+You--IsMyDream&quot;</span><br><span class="line">è¾“å‡ºï¼šfalse</span><br><span class="line">è§£é‡Šï¼šå¯†ç ä¸åŒ…å«æ•°å­—ï¼Œä¸”åŒ…å« 2 ä¸ªè¿ç»­ç›¸åŒçš„å­—ç¬¦ã€‚æ‰€ä»¥æˆ‘ä»¬è¿”å› false ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼špassword = &quot;1aB!&quot;</span><br><span class="line">è¾“å‡ºï¼šfalse</span><br><span class="line">è§£é‡Šï¼šå¯†ç ä¸ç¬¦åˆé•¿åº¦è¦æ±‚ã€‚æ‰€ä»¥æˆ‘ä»¬è¿”å› false ã€‚</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= password.length &lt;= 100</code></li>
<li><code>password</code> åŒ…å«å­—æ¯ï¼Œæ•°å­—å’Œ <code>&quot;!@#$%^&amp;*()-+&quot;</code> è¿™äº›ç‰¹æ®Šå­—ç¬¦ã€‚</li>
</ul>
<p>Related Topics</p>
<p>å­—ç¬¦ä¸²</p>
<p>ğŸ‘ 41</p>
<p>ğŸ‘ 0</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">strongPasswordCheckerII</span><span class="params">(String password)</span> &#123;</span><br><span class="line">        <span class="type">boolean</span>[] key = <span class="keyword">new</span> <span class="title class_">boolean</span>[<span class="number">6</span>]; <span class="comment">// åˆ†åˆ«è¡¨ç¤º6ä¸ªæ¡ä»¶</span></span><br><span class="line">        <span class="keyword">if</span> (password.length() &lt; <span class="number">8</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        key[<span class="number">0</span>] = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; password.length(); i++) &#123;</span><br><span class="line">            <span class="type">char</span> <span class="variable">c</span> <span class="operator">=</span> password.charAt(i);</span><br><span class="line">            <span class="keyword">if</span> (c &gt;= <span class="string">&#x27;a&#x27;</span> &amp;&amp; c &lt;= <span class="string">&#x27;z&#x27;</span>) &#123;</span><br><span class="line">                key[<span class="number">1</span>] = <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (c &gt;= <span class="string">&#x27;A&#x27;</span> &amp;&amp; c &lt;= <span class="string">&#x27;Z&#x27;</span>) &#123;</span><br><span class="line">                key[<span class="number">2</span>] = <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (c &gt;= <span class="string">&#x27;0&#x27;</span> &amp;&amp; c &lt;= <span class="string">&#x27;9&#x27;</span>) &#123;</span><br><span class="line">                key[<span class="number">3</span>] = <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (c == <span class="string">&#x27;!&#x27;</span> || <span class="comment">// ç‰¹æ®Šç¬¦å·</span></span><br><span class="line">                c == <span class="string">&#x27;@&#x27;</span> ||</span><br><span class="line">                c == <span class="string">&#x27;#&#x27;</span> ||</span><br><span class="line">                c == <span class="string">&#x27;$&#x27;</span> ||</span><br><span class="line">                c == <span class="string">&#x27;%&#x27;</span> ||</span><br><span class="line">                c == <span class="string">&#x27;^&#x27;</span> ||</span><br><span class="line">                c == <span class="string">&#x27;&amp;&#x27;</span> ||</span><br><span class="line">                c == <span class="string">&#x27;*&#x27;</span> ||</span><br><span class="line">                c == <span class="string">&#x27;(&#x27;</span> ||</span><br><span class="line">                c == <span class="string">&#x27;)&#x27;</span> ||</span><br><span class="line">                c == <span class="string">&#x27;+&#x27;</span> ||</span><br><span class="line">                c == <span class="string">&#x27;-&#x27;</span></span><br><span class="line">            ) &#123;</span><br><span class="line">                key[<span class="number">4</span>] = <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (i &gt; <span class="number">0</span> &amp;&amp; password.charAt(i - <span class="number">1</span>) == c) &#123; <span class="comment">// å¦‚æœå‡ºç°è¿ç»­ç›´æ¥è¿”å›</span></span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        key[<span class="number">5</span>] = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">boolean</span> b : key) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!b) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦O(N)</li>
<li>ç©ºé—´å¤æ‚åº¦O(1)</li>
</ul>
<h4 id="11ã€LC415-å­—ç¬¦ä¸²ç›¸åŠ "><a href="#11ã€LC415-å­—ç¬¦ä¸²ç›¸åŠ " class="headerlink" title="11ã€LC415. å­—ç¬¦ä¸²ç›¸åŠ "></a>11ã€LC415. å­—ç¬¦ä¸²ç›¸åŠ </h4><p>ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸²å½¢å¼çš„éè´Ÿæ•´æ•° <code>num1</code> å’Œ<code>num2</code> ï¼Œè®¡ç®—å®ƒä»¬çš„å’Œå¹¶åŒæ ·ä»¥å­—ç¬¦ä¸²å½¢å¼è¿”å›ã€‚</p>
<p>ä½ ä¸èƒ½ä½¿ç”¨ä»»ä½•å…§å»ºçš„ç”¨äºå¤„ç†å¤§æ•´æ•°çš„åº“ï¼ˆæ¯”å¦‚ <code>BigInteger</code>ï¼‰ï¼Œ ä¹Ÿä¸èƒ½ç›´æ¥å°†è¾“å…¥çš„å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•´æ•°å½¢å¼ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnum1 = &quot;11&quot;, num2 = &quot;123&quot;</span><br><span class="line">è¾“å‡ºï¼š&quot;134&quot;</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnum1 = &quot;456&quot;, num2 = &quot;77&quot;</span><br><span class="line">è¾“å‡ºï¼š&quot;533&quot;</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnum1 = &quot;0&quot;, num2 = &quot;0&quot;</span><br><span class="line">è¾“å‡ºï¼š&quot;0&quot;</span><br></pre></td></tr></table></figure>





<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= num1.length, num2.length &lt;= 104</code></li>
<li><code>num1</code> å’Œ<code>num2</code> éƒ½åªåŒ…å«æ•°å­— <code>0-9</code></li>
<li><code>num1</code> å’Œ<code>num2</code> éƒ½ä¸åŒ…å«ä»»ä½•å‰å¯¼é›¶</li>
</ul>
<p>Related Topics</p>
<p>æ•°å­¦</p>
<p>å­—ç¬¦ä¸²</p>
<p>æ¨¡æ‹Ÿ</p>
<p>ğŸ‘ 664</p>
<p>ğŸ‘ 0</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">addStrings</span><span class="params">(String num1, String num2)</span> &#123;</span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> num1.length() - <span class="number">1</span>, j = num2.length() - <span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">cur</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (i &gt;= <span class="number">0</span> || j &gt;= <span class="number">0</span> || cur != <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">                cur += num1.charAt(i) - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">                i--;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (j &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">                cur += num2.charAt(j) - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">                j--;</span><br><span class="line">            &#125;</span><br><span class="line">            sb.append(cur % <span class="number">10</span>);</span><br><span class="line">            cur = cur / <span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sb.reverse().toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong></p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼šO*(max(<em>len</em>1,<em>len</em>2))ï¼Œå…¶ä¸­ <em>len</em>1&#x3D;<em>num</em>1.lengthï¼Œlen*2&#x3D;*num2.lengthã€‚ç«–å¼åŠ æ³•çš„æ¬¡æ•°å–å†³äºè¾ƒå¤§æ•°çš„ä½æ•°ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚é™¤ç­”æ¡ˆå¤–æˆ‘ä»¬åªéœ€è¦å¸¸æ•°ç©ºé—´å­˜æ”¾è‹¥å¹²å˜é‡ã€‚åœ¨ Java è§£æ³•ä¸­ä½¿ç”¨åˆ°äº† <code>StringBuffer</code>ï¼Œæ•… Java è§£æ³•çš„ç©ºé—´å¤æ‚åº¦ä¸º <em>O</em>(<em>n</em>)ã€‚</li>
</ul>
<h4 id="12ã€LC2315-ç»Ÿè®¡æ˜Ÿå·"><a href="#12ã€LC2315-ç»Ÿè®¡æ˜Ÿå·" class="headerlink" title="12ã€LC2315. ç»Ÿè®¡æ˜Ÿå·"></a>12ã€LC2315. ç»Ÿè®¡æ˜Ÿå·</h4><p>ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² <code>s</code> ï¼Œæ¯ <strong>ä¸¤ä¸ª</strong> è¿ç»­ç«–çº¿ <code>&#39;|&#39;</code> ä¸º <strong>ä¸€å¯¹</strong> ã€‚æ¢è¨€ä¹‹ï¼Œç¬¬ä¸€ä¸ªå’Œç¬¬äºŒä¸ª <code>&#39;|&#39;</code> ä¸ºä¸€å¯¹ï¼Œç¬¬ä¸‰ä¸ªå’Œç¬¬å››ä¸ª <code>&#39;|&#39;</code> ä¸ºä¸€å¯¹ï¼Œä»¥æ­¤ç±»æ¨ã€‚</p>
<p>è¯·ä½ è¿”å› <strong>ä¸åœ¨</strong> ç«–çº¿å¯¹ä¹‹é—´ï¼Œ<code>s</code> ä¸­ <code>&#39;*&#39;</code> çš„æ•°ç›®ã€‚</p>
<p><strong>æ³¨æ„</strong>ï¼Œæ¯ä¸ªç«–çº¿ <code>&#39;|&#39;</code> éƒ½ä¼š <strong>æ°å¥½</strong> å±äºä¸€ä¸ªå¯¹ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;l|*e*et|c**o|*de|&quot;</span><br><span class="line">è¾“å‡ºï¼š2</span><br><span class="line">è§£é‡Šï¼šä¸åœ¨ç«–çº¿å¯¹ä¹‹é—´çš„å­—ç¬¦åŠ ç²—åŠ æ–œä½“åï¼Œå¾—åˆ°å­—ç¬¦ä¸²ï¼š&quot;l|*e*et|c**o|*de|&quot; ã€‚</span><br><span class="line">ç¬¬ä¸€å’Œç¬¬äºŒæ¡ç«–çº¿ &#x27;|&#x27; ä¹‹é—´çš„å­—ç¬¦ä¸è®¡å…¥ç­”æ¡ˆã€‚</span><br><span class="line">åŒæ—¶ï¼Œç¬¬ä¸‰æ¡å’Œç¬¬å››æ¡ç«–çº¿ &#x27;|&#x27; ä¹‹é—´çš„å­—ç¬¦ä¹Ÿä¸è®¡å…¥ç­”æ¡ˆã€‚</span><br><span class="line">ä¸åœ¨ç«–çº¿å¯¹ä¹‹é—´æ€»å…±æœ‰ 2 ä¸ªæ˜Ÿå·ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿”å› 2 ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;iamprogrammer&quot;</span><br><span class="line">è¾“å‡ºï¼š0</span><br><span class="line">è§£é‡Šï¼šåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œs ä¸­æ²¡æœ‰æ˜Ÿå·ã€‚æ‰€ä»¥è¿”å› 0 ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;yo|uar|e**|b|e***au|tifu|l&quot;</span><br><span class="line">è¾“å‡ºï¼š5</span><br><span class="line">è§£é‡Šï¼šéœ€è¦è€ƒè™‘çš„å­—ç¬¦åŠ ç²—åŠ æ–œä½“åï¼š&quot;yo|uar|e**|b|e***au|tifu|l&quot; ã€‚ä¸åœ¨ç«–çº¿å¯¹ä¹‹é—´æ€»å…±æœ‰ 5 ä¸ªæ˜Ÿå·ã€‚æ‰€ä»¥æˆ‘ä»¬è¿”å› 5 ã€‚</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= s.length &lt;= 1000</code></li>
<li><code>s</code> åªåŒ…å«å°å†™è‹±æ–‡å­—æ¯ï¼Œç«–çº¿ <code>&#39;|&#39;</code> å’Œæ˜Ÿå· <code>&#39;*&#39;</code> ã€‚</li>
<li><code>s</code> åŒ…å« <strong>å¶æ•°</strong> ä¸ªç«–çº¿ <code>&#39;|&#39;</code> ã€‚</li>
</ul>
<p>Related Topics</p>
<p>å­—ç¬¦ä¸²</p>
<p>ğŸ‘ 19</p>
<p>ğŸ‘ 0</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">countAsterisks</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">isCount</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (isCount &amp;&amp; s.charAt(i) == <span class="string">&#x27;*&#x27;</span>) &#123; <span class="comment">// æ²¡åœ¨||ä¹‹é—´ï¼Œç»Ÿè®¡*</span></span><br><span class="line">                res++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (isCount &amp;&amp; s.charAt(i) == <span class="string">&#x27;|&#x27;</span>) &#123; <span class="comment">// é‡åˆ°ç¬¬ä¸€ä¸ª|</span></span><br><span class="line">                isCount = <span class="literal">false</span>;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (!isCount &amp;&amp; s.charAt(i) == <span class="string">&#x27;|&#x27;</span>) &#123; <span class="comment">// é‡åˆ°ç¬¬äºŒä¸ª|</span></span><br><span class="line">                isCount = <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦O(N)</li>
<li>ç©ºé—´å¤æ‚åº¦O(1)</li>
</ul>
<h4 id="13ã€LC8-å­—ç¬¦ä¸²è½¬æ¢æ•´æ•°-atoi"><a href="#13ã€LC8-å­—ç¬¦ä¸²è½¬æ¢æ•´æ•°-atoi" class="headerlink" title="13ã€LC8. å­—ç¬¦ä¸²è½¬æ¢æ•´æ•° (atoi)"></a>13ã€LC8. å­—ç¬¦ä¸²è½¬æ¢æ•´æ•° (atoi)</h4><p>è¯·ä½ æ¥å®ç°ä¸€ä¸ª <code>myAtoi(string s)</code> å‡½æ•°ï¼Œä½¿å…¶èƒ½å°†å­—ç¬¦ä¸²è½¬æ¢æˆä¸€ä¸ª 32 ä½æœ‰ç¬¦å·æ•´æ•°ï¼ˆç±»ä¼¼ C&#x2F;C++ ä¸­çš„ <code>atoi</code> å‡½æ•°ï¼‰ã€‚</p>
<p>å‡½æ•° <code>myAtoi(string s)</code> çš„ç®—æ³•å¦‚ä¸‹ï¼š</p>
<ol>
<li>è¯»å…¥å­—ç¬¦ä¸²å¹¶ä¸¢å¼ƒæ— ç”¨çš„å‰å¯¼ç©ºæ ¼</li>
<li>æ£€æŸ¥ä¸‹ä¸€ä¸ªå­—ç¬¦ï¼ˆå‡è®¾è¿˜æœªåˆ°å­—ç¬¦æœ«å°¾ï¼‰ä¸ºæ­£è¿˜æ˜¯è´Ÿå·ï¼Œè¯»å–è¯¥å­—ç¬¦ï¼ˆå¦‚æœæœ‰ï¼‰ã€‚ ç¡®å®šæœ€ç»ˆç»“æœæ˜¯è´Ÿæ•°è¿˜æ˜¯æ­£æ•°ã€‚ å¦‚æœä¸¤è€…éƒ½ä¸å­˜åœ¨ï¼Œåˆ™å‡å®šç»“æœä¸ºæ­£ã€‚</li>
<li>è¯»å…¥ä¸‹ä¸€ä¸ªå­—ç¬¦ï¼Œç›´åˆ°åˆ°è¾¾ä¸‹ä¸€ä¸ªéæ•°å­—å­—ç¬¦æˆ–åˆ°è¾¾è¾“å…¥çš„ç»“å°¾ã€‚å­—ç¬¦ä¸²çš„å…¶ä½™éƒ¨åˆ†å°†è¢«å¿½ç•¥ã€‚</li>
<li>å°†å‰é¢æ­¥éª¤è¯»å…¥çš„è¿™äº›æ•°å­—è½¬æ¢ä¸ºæ•´æ•°ï¼ˆå³ï¼Œâ€123â€ -&gt; 123ï¼Œ â€œ0032â€ -&gt; 32ï¼‰ã€‚å¦‚æœæ²¡æœ‰è¯»å…¥æ•°å­—ï¼Œåˆ™æ•´æ•°ä¸º <code>0</code> ã€‚å¿…è¦æ—¶æ›´æ”¹ç¬¦å·ï¼ˆä»æ­¥éª¤ 2 å¼€å§‹ï¼‰ã€‚</li>
<li>å¦‚æœæ•´æ•°æ•°è¶…è¿‡ 32 ä½æœ‰ç¬¦å·æ•´æ•°èŒƒå›´ <code>[âˆ’231,  231 âˆ’ 1]</code> ï¼Œéœ€è¦æˆªæ–­è¿™ä¸ªæ•´æ•°ï¼Œä½¿å…¶ä¿æŒåœ¨è¿™ä¸ªèŒƒå›´å†…ã€‚å…·ä½“æ¥è¯´ï¼Œå°äº <code>âˆ’231</code> çš„æ•´æ•°åº”è¯¥è¢«å›ºå®šä¸º <code>âˆ’231</code> ï¼Œå¤§äº <code>231 âˆ’ 1</code> çš„æ•´æ•°åº”è¯¥è¢«å›ºå®šä¸º <code>231 âˆ’ 1</code> ã€‚</li>
<li>è¿”å›æ•´æ•°ä½œä¸ºæœ€ç»ˆç»“æœã€‚</li>
</ol>
<p><strong>æ³¨æ„ï¼š</strong></p>
<ul>
<li>æœ¬é¢˜ä¸­çš„ç©ºç™½å­—ç¬¦åªåŒ…æ‹¬ç©ºæ ¼å­—ç¬¦ <code>&#39; &#39;</code> ã€‚</li>
<li>é™¤å‰å¯¼ç©ºæ ¼æˆ–æ•°å­—åçš„å…¶ä½™å­—ç¬¦ä¸²å¤–ï¼Œ<strong>è¯·å‹¿å¿½ç•¥</strong> ä»»ä½•å…¶ä»–å­—ç¬¦ã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;42&quot;</span><br><span class="line">è¾“å‡ºï¼š42</span><br><span class="line">è§£é‡Šï¼šåŠ ç²—çš„å­—ç¬¦ä¸²ä¸ºå·²ç»è¯»å…¥çš„å­—ç¬¦ï¼Œæ’å…¥ç¬¦å·æ˜¯å½“å‰è¯»å–çš„å­—ç¬¦ã€‚</span><br><span class="line">ç¬¬ 1 æ­¥ï¼š&quot;42&quot;ï¼ˆå½“å‰æ²¡æœ‰è¯»å…¥å­—ç¬¦ï¼Œå› ä¸ºæ²¡æœ‰å‰å¯¼ç©ºæ ¼ï¼‰</span><br><span class="line">         ^</span><br><span class="line">ç¬¬ 2 æ­¥ï¼š&quot;42&quot;ï¼ˆå½“å‰æ²¡æœ‰è¯»å…¥å­—ç¬¦ï¼Œå› ä¸ºè¿™é‡Œä¸å­˜åœ¨ &#x27;-&#x27; æˆ–è€… &#x27;+&#x27;ï¼‰</span><br><span class="line">         ^</span><br><span class="line">ç¬¬ 3 æ­¥ï¼š&quot;42&quot;ï¼ˆè¯»å…¥ &quot;42&quot;ï¼‰</span><br><span class="line">           ^</span><br><span class="line">è§£æå¾—åˆ°æ•´æ•° 42 ã€‚</span><br><span class="line">ç”±äº &quot;42&quot; åœ¨èŒƒå›´ [-231, 231 - 1] å†…ï¼Œæœ€ç»ˆç»“æœä¸º 42 ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;   -42&quot;</span><br><span class="line">è¾“å‡ºï¼š-42</span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">ç¬¬ 1 æ­¥ï¼š&quot;   -42&quot;ï¼ˆè¯»å…¥å‰å¯¼ç©ºæ ¼ï¼Œä½†å¿½è§†æ‰ï¼‰</span><br><span class="line">            ^</span><br><span class="line">ç¬¬ 2 æ­¥ï¼š&quot;   -42&quot;ï¼ˆè¯»å…¥ &#x27;-&#x27; å­—ç¬¦ï¼Œæ‰€ä»¥ç»“æœåº”è¯¥æ˜¯è´Ÿæ•°ï¼‰</span><br><span class="line">             ^</span><br><span class="line">ç¬¬ 3 æ­¥ï¼š&quot;   -42&quot;ï¼ˆè¯»å…¥ &quot;42&quot;ï¼‰</span><br><span class="line">               ^</span><br><span class="line">è§£æå¾—åˆ°æ•´æ•° -42 ã€‚</span><br><span class="line">ç”±äº &quot;-42&quot; åœ¨èŒƒå›´ [-231, 231 - 1] å†…ï¼Œæœ€ç»ˆç»“æœä¸º -42 ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;4193 with words&quot;</span><br><span class="line">è¾“å‡ºï¼š4193</span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">ç¬¬ 1 æ­¥ï¼š&quot;4193 with words&quot;ï¼ˆå½“å‰æ²¡æœ‰è¯»å…¥å­—ç¬¦ï¼Œå› ä¸ºæ²¡æœ‰å‰å¯¼ç©ºæ ¼ï¼‰</span><br><span class="line">         ^</span><br><span class="line">ç¬¬ 2 æ­¥ï¼š&quot;4193 with words&quot;ï¼ˆå½“å‰æ²¡æœ‰è¯»å…¥å­—ç¬¦ï¼Œå› ä¸ºè¿™é‡Œä¸å­˜åœ¨ &#x27;-&#x27; æˆ–è€… &#x27;+&#x27;ï¼‰</span><br><span class="line">         ^</span><br><span class="line">ç¬¬ 3 æ­¥ï¼š&quot;4193 with words&quot;ï¼ˆè¯»å…¥ &quot;4193&quot;ï¼›ç”±äºä¸‹ä¸€ä¸ªå­—ç¬¦ä¸æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œæ‰€ä»¥è¯»å…¥åœæ­¢ï¼‰</span><br><span class="line">             ^</span><br><span class="line">è§£æå¾—åˆ°æ•´æ•° 4193 ã€‚</span><br><span class="line">ç”±äº &quot;4193&quot; åœ¨èŒƒå›´ [-231, 231 - 1] å†…ï¼Œæœ€ç»ˆç»“æœä¸º 4193 ã€‚</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>0 &lt;= s.length &lt;= 200</code></li>
<li><code>s</code> ç”±è‹±æ–‡å­—æ¯ï¼ˆå¤§å†™å’Œå°å†™ï¼‰ã€æ•°å­—ï¼ˆ<code>0-9</code>ï¼‰ã€<code>&#39; &#39;</code>ã€<code>&#39;+&#39;</code>ã€<code>&#39;-&#39;</code> å’Œ <code>&#39;.&#39;</code> ç»„æˆ</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">myAtoi</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">sign</span> <span class="operator">=</span> <span class="number">0</span>; <span class="comment">// æœ‰æ²¡æœ‰ç¬¦å· 0æ²¡æœ‰ç¬¦å· -1è´Ÿå· 1ï¼‹</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class="line">            <span class="type">char</span> <span class="variable">c</span> <span class="operator">=</span> s.charAt(i);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (c == <span class="string">&#x27; &#x27;</span> &amp;&amp; (i == <span class="number">0</span> || (i &gt; <span class="number">0</span> &amp;&amp; s.charAt(i - <span class="number">1</span>) == <span class="string">&#x27; &#x27;</span>))) &#123; <span class="comment">// åªå¤„ç†å‰å¯¼&#x27; &#x27;</span></span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// åˆ¤æ–­ç¬¦å·</span></span><br><span class="line">            <span class="keyword">if</span> (sign == <span class="number">0</span> &amp;&amp; c == <span class="string">&#x27;-&#x27;</span>) &#123;</span><br><span class="line">                sign = -<span class="number">1</span>;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (sign == <span class="number">0</span> &amp;&amp; c == <span class="string">&#x27;+&#x27;</span>) &#123;</span><br><span class="line">                sign = <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// åˆ¤æ–­æ•°å­—</span></span><br><span class="line">            <span class="keyword">if</span> (c &gt;= <span class="string">&#x27;0&#x27;</span> &amp;&amp; c &lt;= <span class="string">&#x27;9&#x27;</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (sign == <span class="number">0</span>) &#123;</span><br><span class="line">                    sign = <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="type">int</span> <span class="variable">val</span> <span class="operator">=</span> c - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">                <span class="keyword">if</span> (res &gt; Integer.MAX_VALUE / <span class="number">10</span>) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (sign == <span class="number">1</span>) &#123;</span><br><span class="line">                        <span class="keyword">return</span> Integer.MAX_VALUE;</span><br><span class="line">                    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="keyword">return</span> Integer.MIN_VALUE;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> ((res == Integer.MAX_VALUE / <span class="number">10</span> &amp;&amp; val &gt;= <span class="number">8</span> &amp;&amp; sign == -<span class="number">1</span>)) &#123;</span><br><span class="line">                    <span class="keyword">return</span> Integer.MIN_VALUE;</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (res == Integer.MAX_VALUE / <span class="number">10</span> &amp;&amp; val &gt;= <span class="number">7</span> &amp;&amp; sign == <span class="number">1</span>) &#123;</span><br><span class="line">                    <span class="keyword">return</span> Integer.MAX_VALUE;</span><br><span class="line">                &#125;</span><br><span class="line">                res = res * <span class="number">10</span> + val;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span>  sign * res;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sign * res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦O(N)</li>
<li>ç©ºé—´å¤æ‚åº¦O(1)</li>
</ul>
<h3 id="é“¾è¡¨"><a href="#é“¾è¡¨" class="headerlink" title="#é“¾è¡¨"></a>#é“¾è¡¨</h3><h4 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h4><h5 id="1-é“¾è¡¨ç®€ä»‹"><a href="#1-é“¾è¡¨ç®€ä»‹" class="headerlink" title="1. é“¾è¡¨ç®€ä»‹"></a>1. é“¾è¡¨ç®€ä»‹</h5><p><strong>é“¾è¡¨ï¼ˆLinkedListï¼‰</strong> è™½ç„¶æ˜¯ä¸€ç§çº¿æ€§è¡¨ï¼Œä½†æ˜¯å¹¶ä¸ä¼šæŒ‰çº¿æ€§çš„é¡ºåºå­˜å‚¨æ•°æ®ï¼Œä½¿ç”¨çš„ä¸æ˜¯è¿ç»­çš„å†…å­˜ç©ºé—´æ¥å­˜å‚¨æ•°æ®ã€‚</p>
<p>é“¾è¡¨çš„æ’å…¥å’Œåˆ é™¤æ“ä½œçš„å¤æ‚åº¦ä¸º O(1) ï¼Œåªéœ€è¦çŸ¥é“ç›®æ ‡ä½ç½®å…ƒç´ çš„ä¸Šä¸€ä¸ªå…ƒç´ å³å¯ã€‚ä½†æ˜¯ï¼Œåœ¨æŸ¥æ‰¾ä¸€ä¸ªèŠ‚ç‚¹æˆ–è€…è®¿é—®ç‰¹å®šä½ç½®çš„èŠ‚ç‚¹çš„æ—¶å€™å¤æ‚åº¦ä¸º O(n) ã€‚</p>
<p>ä½¿ç”¨é“¾è¡¨ç»“æ„å¯ä»¥å…‹æœæ•°ç»„éœ€è¦é¢„å…ˆçŸ¥é“æ•°æ®å¤§å°çš„ç¼ºç‚¹ï¼Œé“¾è¡¨ç»“æ„å¯ä»¥å……åˆ†åˆ©ç”¨è®¡ç®—æœºå†…å­˜ç©ºé—´,å®ç°çµæ´»çš„å†…å­˜åŠ¨æ€ç®¡ç†ã€‚ä½†é“¾è¡¨ä¸ä¼šèŠ‚çœç©ºé—´ï¼Œç›¸æ¯”äºæ•°ç»„ä¼šå ç”¨æ›´å¤šçš„ç©ºé—´ï¼Œå› ä¸ºé“¾è¡¨ä¸­æ¯ä¸ªèŠ‚ç‚¹å­˜æ”¾çš„è¿˜æœ‰æŒ‡å‘å…¶ä»–èŠ‚ç‚¹çš„æŒ‡é’ˆã€‚é™¤æ­¤ä¹‹å¤–ï¼Œé“¾è¡¨ä¸å…·æœ‰æ•°ç»„éšæœºè¯»å–çš„ä¼˜ç‚¹ã€‚</p>
<h5 id="2-é“¾è¡¨åˆ†ç±»"><a href="#2-é“¾è¡¨åˆ†ç±»" class="headerlink" title="2. é“¾è¡¨åˆ†ç±»"></a>2. é“¾è¡¨åˆ†ç±»</h5><p><strong>å¸¸è§é“¾è¡¨åˆ†ç±»ï¼š</strong></p>
<ol>
<li>å•é“¾è¡¨</li>
<li>åŒå‘é“¾è¡¨</li>
<li>å¾ªç¯é“¾è¡¨</li>
<li>åŒå‘å¾ªç¯é“¾è¡¨</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">å‡å¦‚é“¾è¡¨ä¸­æœ‰nä¸ªå…ƒç´ ã€‚</span><br><span class="line">è®¿é—®ï¼šOï¼ˆnï¼‰<span class="comment">//è®¿é—®ç‰¹å®šä½ç½®çš„å…ƒç´ </span></span><br><span class="line">æ’å…¥åˆ é™¤ï¼šOï¼ˆ<span class="number">1</span>ï¼‰<span class="comment">//å¿…é¡»è¦è¦çŸ¥é“æ’å…¥å…ƒç´ çš„ä½ç½®</span></span><br></pre></td></tr></table></figure>

<h6 id="2-1-å•é“¾è¡¨"><a href="#2-1-å•é“¾è¡¨" class="headerlink" title="2.1. å•é“¾è¡¨"></a>2.1. å•é“¾è¡¨</h6><p><strong>å•é“¾è¡¨</strong> å•å‘é“¾è¡¨åªæœ‰ä¸€ä¸ªæ–¹å‘ï¼Œç»“ç‚¹åªæœ‰ä¸€ä¸ªåç»§æŒ‡é’ˆ next æŒ‡å‘åé¢çš„èŠ‚ç‚¹ã€‚å› æ­¤ï¼Œé“¾è¡¨è¿™ç§æ•°æ®ç»“æ„é€šå¸¸åœ¨ç‰©ç†å†…å­˜ä¸Šæ˜¯ä¸è¿ç»­çš„ã€‚æˆ‘ä»¬ä¹ æƒ¯æ€§åœ°æŠŠç¬¬ä¸€ä¸ªç»“ç‚¹å«ä½œå¤´ç»“ç‚¹ï¼Œé“¾è¡¨é€šå¸¸æœ‰ä¸€ä¸ªä¸ä¿å­˜ä»»ä½•å€¼çš„ head èŠ‚ç‚¹(å¤´ç»“ç‚¹)ï¼Œé€šè¿‡å¤´ç»“ç‚¹æˆ‘ä»¬å¯ä»¥éå†æ•´ä¸ªé“¾è¡¨ã€‚å°¾ç»“ç‚¹é€šå¸¸æŒ‡å‘ nullã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/%E5%8D%95%E9%93%BE%E8%A1%A82.png" alt="å•é“¾è¡¨"></p>
<h6 id="2-2-å¾ªç¯é“¾è¡¨"><a href="#2-2-å¾ªç¯é“¾è¡¨" class="headerlink" title="2.2. å¾ªç¯é“¾è¡¨"></a>2.2. å¾ªç¯é“¾è¡¨</h6><p><strong>å¾ªç¯é“¾è¡¨</strong> å…¶å®æ˜¯ä¸€ç§ç‰¹æ®Šçš„å•é“¾è¡¨ï¼Œå’Œå•é“¾è¡¨ä¸åŒçš„æ˜¯å¾ªç¯é“¾è¡¨çš„å°¾ç»“ç‚¹ä¸æ˜¯æŒ‡å‘ nullï¼Œè€Œæ˜¯æŒ‡å‘é“¾è¡¨çš„å¤´ç»“ç‚¹ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/%E5%BE%AA%E7%8E%AF%E9%93%BE%E8%A1%A82.png" alt="å¾ªç¯é“¾è¡¨"></p>
<h6 id="2-3-åŒå‘é“¾è¡¨"><a href="#2-3-åŒå‘é“¾è¡¨" class="headerlink" title="2.3. åŒå‘é“¾è¡¨"></a>2.3. åŒå‘é“¾è¡¨</h6><p><strong>åŒå‘é“¾è¡¨</strong> åŒ…å«ä¸¤ä¸ªæŒ‡é’ˆï¼Œä¸€ä¸ª prev æŒ‡å‘å‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä¸€ä¸ª next æŒ‡å‘åä¸€ä¸ªèŠ‚ç‚¹ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/%E5%8F%8C%E5%90%91%E9%93%BE%E8%A1%A8.png" alt="åŒå‘é“¾è¡¨"></p>
<h6 id="2-4-åŒå‘å¾ªç¯é“¾è¡¨"><a href="#2-4-åŒå‘å¾ªç¯é“¾è¡¨" class="headerlink" title="2.4. åŒå‘å¾ªç¯é“¾è¡¨"></a>2.4. åŒå‘å¾ªç¯é“¾è¡¨</h6><p><strong>åŒå‘å¾ªç¯é“¾è¡¨</strong> æœ€åä¸€ä¸ªèŠ‚ç‚¹çš„ next æŒ‡å‘ headï¼Œè€Œ head çš„ prev æŒ‡å‘æœ€åä¸€ä¸ªèŠ‚ç‚¹ï¼Œæ„æˆä¸€ä¸ªç¯ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/%E5%8F%8C%E5%90%91%E5%BE%AA%E7%8E%AF%E9%93%BE%E8%A1%A8.png" alt="åŒå‘å¾ªç¯é“¾è¡¨"></p>
<h5 id="3-åº”ç”¨åœºæ™¯"><a href="#3-åº”ç”¨åœºæ™¯" class="headerlink" title="3. åº”ç”¨åœºæ™¯"></a>3. åº”ç”¨åœºæ™¯</h5><ul>
<li>å¦‚æœéœ€è¦æ”¯æŒéšæœºè®¿é—®çš„è¯ï¼Œé“¾è¡¨æ²¡åŠæ³•åšåˆ°ã€‚</li>
<li>å¦‚æœéœ€è¦å­˜å‚¨çš„æ•°æ®å…ƒç´ çš„ä¸ªæ•°ä¸ç¡®å®šï¼Œå¹¶ä¸”éœ€è¦ç»å¸¸æ·»åŠ å’Œåˆ é™¤æ•°æ®çš„è¯ï¼Œä½¿ç”¨é“¾è¡¨æ¯”è¾ƒåˆé€‚ã€‚</li>
<li>å¦‚æœéœ€è¦å­˜å‚¨çš„æ•°æ®å…ƒç´ çš„ä¸ªæ•°ç¡®å®šï¼Œå¹¶ä¸”ä¸éœ€è¦ç»å¸¸æ·»åŠ å’Œåˆ é™¤æ•°æ®çš„è¯ï¼Œä½¿ç”¨æ•°ç»„æ¯”è¾ƒåˆé€‚ã€‚</li>
</ul>
<h5 id="4-æ•°ç»„-vs-é“¾è¡¨"><a href="#4-æ•°ç»„-vs-é“¾è¡¨" class="headerlink" title="4. æ•°ç»„ vs é“¾è¡¨"></a>4. æ•°ç»„ vs é“¾è¡¨</h5><ul>
<li>æ•°ç»„æ”¯æŒéšæœºè®¿é—®ï¼Œè€Œé“¾è¡¨ä¸æ”¯æŒã€‚</li>
<li>æ•°ç»„ä½¿ç”¨çš„æ˜¯è¿ç»­å†…å­˜ç©ºé—´å¯¹ CPU çš„ç¼“å­˜æœºåˆ¶å‹å¥½ï¼Œé“¾è¡¨åˆ™ç›¸åã€‚</li>
<li>æ•°ç»„çš„å¤§å°å›ºå®šï¼Œè€Œé“¾è¡¨åˆ™å¤©ç„¶æ”¯æŒåŠ¨æ€æ‰©å®¹ã€‚å¦‚æœå£°æ˜çš„æ•°ç»„è¿‡å°ï¼Œéœ€è¦å¦å¤–ç”³è¯·ä¸€ä¸ªæ›´å¤§çš„å†…å­˜ç©ºé—´å­˜æ”¾æ•°ç»„å…ƒç´ ï¼Œç„¶åå°†åŸæ•°ç»„æ‹·è´è¿›å»ï¼Œè¿™ä¸ªæ“ä½œæ˜¯æ¯”è¾ƒè€—æ—¶çš„ï¼</li>
</ul>
<h4 id="1ã€å‰‘æŒ‡-Offer-06-ä»å°¾åˆ°å¤´æ‰“å°é“¾è¡¨"><a href="#1ã€å‰‘æŒ‡-Offer-06-ä»å°¾åˆ°å¤´æ‰“å°é“¾è¡¨" class="headerlink" title="1ã€å‰‘æŒ‡ Offer 06. ä»å°¾åˆ°å¤´æ‰“å°é“¾è¡¨"></a>1ã€å‰‘æŒ‡ Offer 06. ä»å°¾åˆ°å¤´æ‰“å°é“¾è¡¨</h4><p>è¾“å…¥ä¸€ä¸ªé“¾è¡¨çš„å¤´èŠ‚ç‚¹ï¼Œä»å°¾åˆ°å¤´åè¿‡æ¥è¿”å›æ¯ä¸ªèŠ‚ç‚¹çš„å€¼ï¼ˆç”¨æ•°ç»„è¿”å›ï¼‰ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šhead = [1,3,2]</span><br><span class="line">è¾“å‡ºï¼š[2,3,1]</span><br></pre></td></tr></table></figure>



<p><strong>é™åˆ¶ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0 &lt;= é“¾è¡¨é•¿åº¦ &lt;= 10000</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span>[] reversePrint(ListNode head) &#123;</span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">cur</span> <span class="operator">=</span> head;</span><br><span class="line">    <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (cur != <span class="literal">null</span>) &#123;</span><br><span class="line">        count++;</span><br><span class="line">        cur = cur.next;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    cur = head;</span><br><span class="line">    <span class="type">int</span>[] res = <span class="keyword">new</span> <span class="title class_">int</span>[count];</span><br><span class="line">    count--;</span><br><span class="line">    <span class="keyword">while</span> (cur != <span class="literal">null</span>) &#123;</span><br><span class="line">        res[count--] = cur.val;</span><br><span class="line">        cur = cur.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span>[] reversePrint2(ListNode head) &#123;</span><br><span class="line">    Stack&lt;ListNode&gt; stack = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">temp</span> <span class="operator">=</span> head;</span><br><span class="line">    <span class="keyword">while</span> (temp != <span class="literal">null</span>) &#123;</span><br><span class="line">        stack.push(temp);</span><br><span class="line">        temp = temp.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> <span class="variable">size</span> <span class="operator">=</span> stack.size();</span><br><span class="line">    <span class="type">int</span>[] res = <span class="keyword">new</span> <span class="title class_">int</span>[size];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">        res[i] = stack.pop().val;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2ã€å‰‘æŒ‡-Offer-24-åè½¬é“¾è¡¨"><a href="#2ã€å‰‘æŒ‡-Offer-24-åè½¬é“¾è¡¨" class="headerlink" title="2ã€å‰‘æŒ‡ Offer 24. åè½¬é“¾è¡¨"></a>2ã€å‰‘æŒ‡ Offer 24. åè½¬é“¾è¡¨</h4><p>ç»™å®šå•é“¾è¡¨çš„å¤´èŠ‚ç‚¹ <code>head</code> ï¼Œè¯·åè½¬é“¾è¡¨ï¼Œå¹¶è¿”å›åè½¬åçš„é“¾è¡¨çš„å¤´èŠ‚ç‚¹ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://assets.leetcode.com/uploads/2021/02/19/rev1ex1.jpg" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šhead = [1,2,3,4,5]</span><br><span class="line">è¾“å‡ºï¼š[5,4,3,2,1]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://assets.leetcode.com/uploads/2021/02/19/rev1ex2.jpg" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šhead = [1,2]</span><br><span class="line">è¾“å‡ºï¼š[2,1]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šhead = []</span><br><span class="line">è¾“å‡ºï¼š[]</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li>é“¾è¡¨ä¸­èŠ‚ç‚¹çš„æ•°ç›®èŒƒå›´æ˜¯ <code>[0, 5000]</code></li>
<li><code>-5000 &lt;= Node.val &lt;= 5000</code></li>
</ul>
<p><strong>è¿›é˜¶ï¼š</strong>é“¾è¡¨å¯ä»¥é€‰ç”¨è¿­ä»£æˆ–é€’å½’æ–¹å¼å®Œæˆåè½¬ã€‚ä½ èƒ½å¦ç”¨ä¸¤ç§æ–¹æ³•è§£å†³è¿™é“é¢˜ï¼Ÿ</p>
<h5 id="è¿­ä»£"><a href="#è¿­ä»£" class="headerlink" title="è¿­ä»£"></a>è¿­ä»£</h5><p>åŒæŒ‡é’ˆ</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.leetcode-cn.com/1604779288-jExDGV-Picture3.png" alt="img"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è¿­ä»£ï¼šåŒæŒ‡é’ˆ</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="keyword">public</span> ListNode <span class="title function_">reverseList</span><span class="params">(ListNode head)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (head == <span class="literal">null</span>) <span class="keyword">return</span> head;</span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">cur</span> <span class="operator">=</span> head, pre = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">while</span> (cur != <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">temp</span> <span class="operator">=</span> cur.next;<span class="comment">// æš‚å­˜åç»§èŠ‚ç‚¹ cur.next</span></span><br><span class="line">        cur.next = pre;<span class="comment">// ä¿®æ”¹ next å¼•ç”¨æŒ‡å‘</span></span><br><span class="line">        pre = cur;<span class="comment">// pre æš‚å­˜ cur</span></span><br><span class="line">        cur = temp; <span class="comment">// cur è®¿é—®ä¸‹ä¸€èŠ‚ç‚¹</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> pre;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ ˆ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è¿­ä»£ï¼šåˆ©ç”¨æ ˆ</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="keyword">public</span> ListNode <span class="title function_">reverseList</span><span class="params">(ListNode head)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (head == <span class="literal">null</span>) <span class="keyword">return</span> head;</span><br><span class="line">    Stack&lt;ListNode&gt; stack = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">newHead</span> <span class="operator">=</span> head;</span><br><span class="line">    <span class="keyword">while</span> (newHead != <span class="literal">null</span>) &#123;</span><br><span class="line">        stack.push(newHead);</span><br><span class="line">        newHead = newHead.next;</span><br><span class="line">    &#125;</span><br><span class="line">    head = stack.pop();</span><br><span class="line">    newHead = head;</span><br><span class="line">    <span class="keyword">while</span> (!stack.isEmpty()) &#123;</span><br><span class="line">        newHead.next = stack.pop();</span><br><span class="line">        newHead = newHead.next;</span><br><span class="line">    &#125;</span><br><span class="line">    newHead.next = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">return</span> head;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="é€’å½’-2"><a href="#é€’å½’-2" class="headerlink" title="é€’å½’"></a>é€’å½’</h5><p>è€ƒè™‘ä½¿ç”¨é€’å½’æ³•éå†é“¾è¡¨ï¼Œå½“è¶Šè¿‡å°¾èŠ‚ç‚¹åç»ˆæ­¢é€’å½’ï¼Œåœ¨å›æº¯æ—¶ä¿®æ”¹å„èŠ‚ç‚¹çš„ next å¼•ç”¨æŒ‡å‘ã€‚</p>
<p><strong>recur(cur, pre) é€’å½’å‡½æ•°ï¼š</strong></p>
<ol>
<li>ç»ˆæ­¢æ¡ä»¶ï¼šå½“ cur ä¸ºç©ºï¼Œåˆ™è¿”å›å°¾èŠ‚ç‚¹ pre ï¼ˆå³åè½¬é“¾è¡¨çš„å¤´èŠ‚ç‚¹ï¼‰ï¼›</li>
<li>é€’å½’åç»§èŠ‚ç‚¹ï¼Œè®°å½•è¿”å›å€¼ï¼ˆå³åè½¬é“¾è¡¨çš„å¤´èŠ‚ç‚¹ï¼‰ä¸º res ï¼›</li>
<li>ä¿®æ”¹å½“å‰èŠ‚ç‚¹ cur å¼•ç”¨æŒ‡å‘å‰é©±èŠ‚ç‚¹ pre ï¼›</li>
<li>è¿”å›åè½¬é“¾è¡¨çš„å¤´èŠ‚ç‚¹ res ï¼›</li>
</ol>
<p><strong>reverseList(head) å‡½æ•°ï¼š</strong><br>è°ƒç”¨å¹¶è¿”å› recur(head, null) ã€‚ä¼ å…¥ null æ˜¯å› ä¸ºåè½¬é“¾è¡¨åï¼Œ head èŠ‚ç‚¹æŒ‡å‘ null ï¼›</p>
<p>å¤æ‚åº¦åˆ†æï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(N) ï¼š éå†é“¾è¡¨ä½¿ç”¨çº¿æ€§å¤§å°æ—¶é—´ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(N)ï¼š éå†é“¾è¡¨çš„é€’å½’æ·±åº¦è¾¾åˆ° NN ï¼Œç³»ç»Ÿä½¿ç”¨ O(N)O(N) å¤§å°é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.leetcode-cn.com/1604779700-APVBqI-Picture24.png" alt="img"></p>
<h4 id="3ã€å‰‘æŒ‡-Offer-35-å¤æ‚é“¾è¡¨çš„å¤åˆ¶"><a href="#3ã€å‰‘æŒ‡-Offer-35-å¤æ‚é“¾è¡¨çš„å¤åˆ¶" class="headerlink" title="3ã€å‰‘æŒ‡ Offer 35. å¤æ‚é“¾è¡¨çš„å¤åˆ¶"></a>3ã€å‰‘æŒ‡ Offer 35. å¤æ‚é“¾è¡¨çš„å¤åˆ¶</h4><p>è¯·å®ç° <code>copyRandomList</code> å‡½æ•°ï¼Œå¤åˆ¶ä¸€ä¸ªå¤æ‚é“¾è¡¨ã€‚åœ¨å¤æ‚é“¾è¡¨ä¸­ï¼Œæ¯ä¸ªèŠ‚ç‚¹é™¤äº†æœ‰ä¸€ä¸ª <code>next</code> æŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œè¿˜æœ‰ä¸€ä¸ª <code>random</code> æŒ‡é’ˆæŒ‡å‘é“¾è¡¨ä¸­çš„ä»»æ„èŠ‚ç‚¹æˆ–è€… <code>null</code>ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/e1.png" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šhead = [[7,null],[13,0],[11,4],[10,2],[1,0]]</span><br><span class="line">è¾“å‡ºï¼š[[7,null],[13,0],[11,4],[10,2],[1,0]]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/e2.png" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šhead = [[1,1],[2,1]]</span><br><span class="line">è¾“å‡ºï¼š[[1,1],[2,1]]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<p><strong><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/e3.png" alt="img"></strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šhead = [[3,null],[3,0],[3,null]]</span><br><span class="line">è¾“å‡ºï¼š[[3,null],[3,0],[3,null]]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 4ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šhead = []</span><br><span class="line">è¾“å‡ºï¼š[]</span><br><span class="line">è§£é‡Šï¼šç»™å®šçš„é“¾è¡¨ä¸ºç©ºï¼ˆç©ºæŒ‡é’ˆï¼‰ï¼Œå› æ­¤è¿”å› nullã€‚</span><br></pre></td></tr></table></figure>

<h5 id="å“ˆå¸Œè¡¨è®°å½•æ³•"><a href="#å“ˆå¸Œè¡¨è®°å½•æ³•" class="headerlink" title="å“ˆå¸Œè¡¨è®°å½•æ³•"></a>å“ˆå¸Œè¡¨è®°å½•æ³•</h5><p>åˆ©ç”¨å“ˆå¸Œè¡¨çš„æŸ¥è¯¢ç‰¹ç‚¹ï¼Œè€ƒè™‘æ„å»º åŸé“¾è¡¨èŠ‚ç‚¹ å’Œ æ–°é“¾è¡¨å¯¹åº”èŠ‚ç‚¹ çš„é”®å€¼å¯¹æ˜ å°„å…³ç³»ï¼Œå†éå†æ„å»ºæ–°é“¾è¡¨å„èŠ‚ç‚¹çš„ next å’Œ random å¼•ç”¨æŒ‡å‘å³å¯ã€‚</p>
<p><strong>ç®—æ³•æµç¨‹ï¼š</strong></p>
<ol>
<li>è‹¥å¤´èŠ‚ç‚¹ head ä¸ºç©ºèŠ‚ç‚¹ï¼Œç›´æ¥è¿”å› null ï¼›</li>
<li>åˆå§‹åŒ–ï¼š å“ˆå¸Œè¡¨ set ï¼Œ èŠ‚ç‚¹ cur æŒ‡å‘å¤´èŠ‚ç‚¹ï¼›</li>
<li>å¤åˆ¶é“¾è¡¨ï¼š<ol>
<li>å»ºç«‹æ–°èŠ‚ç‚¹ï¼Œå¹¶å‘ set æ·»åŠ é”®å€¼å¯¹ (åŸ cur èŠ‚ç‚¹, æ–° cur èŠ‚ç‚¹ï¼‰ ï¼›</li>
<li>cur éå†è‡³åŸé“¾è¡¨ä¸‹ä¸€èŠ‚ç‚¹ï¼›</li>
</ol>
</li>
<li>æ„å»ºæ–°é“¾è¡¨çš„å¼•ç”¨æŒ‡å‘ï¼š<ol>
<li>æ„å»ºæ–°èŠ‚ç‚¹çš„ next å’Œ random å¼•ç”¨æŒ‡å‘ï¼›</li>
<li>cur éå†è‡³åŸé“¾è¡¨ä¸‹ä¸€èŠ‚ç‚¹ï¼›</li>
</ol>
</li>
<li>è¿”å›å€¼ï¼š æ–°é“¾è¡¨çš„å¤´èŠ‚ç‚¹ map.get(head) ï¼›</li>
</ol>
<p><strong>å¤æ‚åº¦åˆ†æï¼š</strong> æ—¶é—´å¤æ‚åº¦ O(N) ï¼š ä¸¤è½®éå†é“¾è¡¨ï¼Œä½¿ç”¨ O(N) æ—¶é—´ã€‚ ç©ºé—´å¤æ‚åº¦ O(N) ï¼š å“ˆå¸Œè¡¨ set ä½¿ç”¨çº¿æ€§å¤§å°çš„é¢å¤–ç©ºé—´ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * å“ˆå¸Œè¡¨</span><br><span class="line"> * */</span><br><span class="line">public Node copyRandomList1(Node head) &#123;</span><br><span class="line">    if (head == null) return null;</span><br><span class="line"></span><br><span class="line">    Map&lt;Node, Node&gt; map = new HashMap&lt;&gt;();</span><br><span class="line">    Node cur = head;</span><br><span class="line">    while (cur != null) &#123; //æ„é€ èŠ‚ç‚¹</span><br><span class="line">        map.put(cur, new Node(cur.val));</span><br><span class="line">        cur = cur.next;</span><br><span class="line">    &#125;</span><br><span class="line">    cur = head;</span><br><span class="line">    while (cur != null) &#123; //å¤åˆ¶å¼•ç”¨ å¤åˆ¶æ–°èŠ‚ç‚¹çš„å¼•ç”¨</span><br><span class="line">        map.get(cur).next = map.get(cur.next);</span><br><span class="line">        map.get(cur).random = map.get(cur.random);</span><br><span class="line">        cur = cur.next;</span><br><span class="line">    &#125;</span><br><span class="line">    return map.get(head);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="æ‹¼æ¥æ‹†åˆ†"><a href="#æ‹¼æ¥æ‹†åˆ†" class="headerlink" title="æ‹¼æ¥æ‹†åˆ†"></a>æ‹¼æ¥æ‹†åˆ†</h5><p>è€ƒè™‘æ„å»º åŸèŠ‚ç‚¹ 1 . æ–°èŠ‚ç‚¹ 1 . åŸèŠ‚ç‚¹ 2 . æ–°èŠ‚ç‚¹ 2 . â€¦â€¦ çš„æ‹¼æ¥é“¾è¡¨ï¼Œå¦‚æ­¤ä¾¿å¯åœ¨è®¿é—®åŸèŠ‚ç‚¹çš„ random æŒ‡å‘èŠ‚ç‚¹çš„åŒæ—¶æ‰¾åˆ°æ–°å¯¹åº”æ–°èŠ‚ç‚¹çš„ random æŒ‡å‘èŠ‚ç‚¹ã€‚</p>
<p><strong>ç®—æ³•æµç¨‹ï¼š</strong></p>
<ol>
<li>å¤åˆ¶å„èŠ‚ç‚¹ï¼Œæ„å»ºæ‹¼æ¥é“¾è¡¨:<ul>
<li>è®¾åŸé“¾è¡¨ä¸º node1.node2.â‹¯ ï¼Œæ„å»ºçš„æ‹¼æ¥é“¾è¡¨å¦‚ä¸‹æ‰€ç¤ºï¼š node1 .node1{new}.node2.node2{new}â€¦..</li>
</ul>
</li>
<li>æ„å»ºæ–°é“¾è¡¨å„èŠ‚ç‚¹çš„ random æŒ‡å‘ï¼š<ul>
<li>å½“è®¿é—®åŸèŠ‚ç‚¹ cur çš„éšæœºæŒ‡å‘èŠ‚ç‚¹ cur.random æ—¶ï¼Œå¯¹åº”æ–°èŠ‚ç‚¹ cur.next çš„éšæœºæŒ‡å‘èŠ‚ç‚¹ä¸ºcur.random.nextã€‚</li>
</ul>
</li>
<li>æ‹†åˆ†åŸ &#x2F; æ–°é“¾è¡¨ï¼š</li>
</ol>
<ul>
<li>è®¾ç½® pre &#x2F; cur åˆ†åˆ«æŒ‡å‘åŸ &#x2F; æ–°é“¾è¡¨å¤´èŠ‚ç‚¹ï¼Œéå†æ‰§è¡Œ pre.next &#x3D; pre.next.next å’Œ cur.next &#x3D; cur.next.next å°†ä¸¤é“¾è¡¨æ‹†åˆ†å¼€ã€‚</li>
</ul>
<ol>
<li>è¿”å›æ–°é“¾è¡¨çš„å¤´èŠ‚ç‚¹ res å³å¯ã€‚</li>
</ol>
<p><strong>å¤æ‚åº¦åˆ†æï¼š</strong> æ—¶é—´å¤æ‚åº¦ O(N)O(N) ï¼š ä¸‰è½®éå†é“¾è¡¨ï¼Œä½¿ç”¨ O(N)O(N) æ—¶é—´ã€‚ ç©ºé—´å¤æ‚åº¦ O(1)O(1) ï¼š èŠ‚ç‚¹å¼•ç”¨å˜é‡ä½¿ç”¨å¸¸æ•°å¤§å°çš„é¢å¤–ç©ºé—´ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1604747285-LidbfG-Picture16.png" alt="img"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ‹¼æ¥ + æ‹†åˆ†</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="keyword">public</span> Node <span class="title function_">copyRandomList2</span><span class="params">(Node head)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (head == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å¤åˆ¶å„èŠ‚ç‚¹ï¼Œæ„å»ºæ‹¼æ¥é“¾è¡¨</span></span><br><span class="line">    <span class="type">Node</span> <span class="variable">cur</span> <span class="operator">=</span> head;</span><br><span class="line">    <span class="keyword">while</span> (cur != <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="type">Node</span> <span class="variable">temp</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Node</span>(cur.val);</span><br><span class="line">        temp.next = cur.next;</span><br><span class="line">        cur.next = temp;</span><br><span class="line">        cur = temp.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// æ„å»ºæ–°é“¾è¡¨å„èŠ‚ç‚¹çš„ random æŒ‡å‘</span></span><br><span class="line">    cur = head;</span><br><span class="line">    <span class="keyword">while</span> (cur != <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (cur.random != <span class="literal">null</span>)</span><br><span class="line">            cur.next.random = cur.random.next;</span><br><span class="line">        cur  = cur.next.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// æ‹†åˆ†ä¸¤é“¾è¡¨</span></span><br><span class="line">    cur = head.next;</span><br><span class="line">    <span class="type">Node</span> <span class="variable">pre</span> <span class="operator">=</span> head, res = head.next;</span><br><span class="line">    <span class="keyword">while</span> (cur.next != <span class="literal">null</span>) &#123;</span><br><span class="line">        pre.next = pre.next.next;</span><br><span class="line">        cur.next = cur.next.next;</span><br><span class="line">        pre = pre.next;</span><br><span class="line">        cur = cur.next;</span><br><span class="line">    &#125;</span><br><span class="line">    pre.next = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="4ã€LC2-ä¸¤æ•°ä¹‹å’Œ"><a href="#4ã€LC2-ä¸¤æ•°ä¹‹å’Œ" class="headerlink" title="4ã€LC2. ä¸¤æ•°ä¹‹å’Œ"></a>4ã€LC2. ä¸¤æ•°ä¹‹å’Œ</h4><p>ç»™ä½ ä¸¤ä¸ª <strong>éç©º</strong> çš„é“¾è¡¨ï¼Œè¡¨ç¤ºä¸¤ä¸ªéè´Ÿçš„æ•´æ•°ã€‚å®ƒä»¬æ¯ä½æ•°å­—éƒ½æ˜¯æŒ‰ç…§ <strong>é€†åº</strong> çš„æ–¹å¼å­˜å‚¨çš„ï¼Œå¹¶ä¸”æ¯ä¸ªèŠ‚ç‚¹åªèƒ½å­˜å‚¨ <strong>ä¸€ä½</strong> æ•°å­—ã€‚</p>
<p>è¯·ä½ å°†ä¸¤ä¸ªæ•°ç›¸åŠ ï¼Œå¹¶ä»¥ç›¸åŒå½¢å¼è¿”å›ä¸€ä¸ªè¡¨ç¤ºå’Œçš„é“¾è¡¨ã€‚</p>
<p>ä½ å¯ä»¥å‡è®¾é™¤äº†æ•°å­— 0 ä¹‹å¤–ï¼Œè¿™ä¸¤ä¸ªæ•°éƒ½ä¸ä¼šä»¥ 0 å¼€å¤´ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2021/01/02/addtwonumber1.jpg" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šl1 = [2,4,3], l2 = [5,6,4]</span><br><span class="line">è¾“å‡ºï¼š[7,0,8]</span><br><span class="line">è§£é‡Šï¼š342 + 465 = 807.</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šl1 = [0], l2 = [0]</span><br><span class="line">è¾“å‡ºï¼š[0]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šl1 = [9,9,9,9,9,9,9], l2 = [9,9,9,9]</span><br><span class="line">è¾“å‡ºï¼š[8,9,9,9,0,0,0,1]</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li>æ¯ä¸ªé“¾è¡¨ä¸­çš„èŠ‚ç‚¹æ•°åœ¨èŒƒå›´ <code>[1, 100]</code> å†…</li>
<li><code>0 &lt;= Node.val &lt;= 9</code></li>
<li>é¢˜ç›®æ•°æ®ä¿è¯åˆ—è¡¨è¡¨ç¤ºçš„æ•°å­—ä¸å«å‰å¯¼é›¶</li>
</ul>
<p>Related Topics</p>
<p>é€’å½’</p>
<p>é“¾è¡¨</p>
<p>æ•°å­¦</p>
<h5 id="æ„é€ æ–°é“¾è¡¨"><a href="#æ„é€ æ–°é“¾è¡¨" class="headerlink" title="æ„é€ æ–°é“¾è¡¨"></a>æ„é€ æ–°é“¾è¡¨</h5><p>é€šè¿‡è®¡ç®—ä¸¤ä¸ªé“¾è¡¨çš„å’Œæ„é€ ä¸€ä¸ªæ–°é“¾è¡¨ã€‚</p>
<p>æ—¶é—´å¤æ‚åº¦O(N)</p>
<p>ç©ºé—´å¤æ‚åº¦O(N)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/***</span></span><br><span class="line"><span class="comment">     * æ„å»ºæ–°é“¾è¡¨</span></span><br><span class="line"><span class="comment">     * æ—¶é—´å¤æ‚åº¦O(n)</span></span><br><span class="line"><span class="comment">     * ç©ºé—´å¤æ‚åº¦O(1)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"><span class="keyword">public</span> ListNode <span class="title function_">addTwoNumbers1</span><span class="params">(ListNode l1, ListNode l2)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">out</span> <span class="operator">=</span> <span class="number">0</span>;<span class="comment">//è®°å½•è¿›ä½</span></span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">cur1</span> <span class="operator">=</span> l1;</span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">cur2</span> <span class="operator">=</span> l2;</span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">head</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ListNode</span>(<span class="number">0</span>);</span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">cur</span> <span class="operator">=</span> head;</span><br><span class="line">    <span class="keyword">while</span> (cur1 != <span class="literal">null</span> || cur2 != <span class="literal">null</span>) &#123;</span><br><span class="line">        cur.next = <span class="keyword">new</span> <span class="title class_">ListNode</span>(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span> (cur1 == <span class="literal">null</span>) &#123;</span><br><span class="line">            cur.next.val = cur2.val + out;</span><br><span class="line">            cur2 = cur2.next;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (cur2 == <span class="literal">null</span>) &#123;</span><br><span class="line">            cur.next.val = cur1.val + out;</span><br><span class="line">            cur1 = cur1.next;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            cur.next.val = cur1.val + cur2.val + out;</span><br><span class="line">            cur1 = cur1.next;</span><br><span class="line">            cur2 = cur2.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (cur.next.val &gt; <span class="number">9</span>) &#123; <span class="comment">// 2 ä½æ•°</span></span><br><span class="line">            cur.next.val = cur.next.val % <span class="number">10</span>;</span><br><span class="line">            out = <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            out = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        cur = cur.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (out == <span class="number">1</span>) &#123; <span class="comment">//å¦‚æœæœ‰è¿›ä½ å¡«ä¸Šè¿›ä½</span></span><br><span class="line">        cur.next = <span class="keyword">new</span> <span class="title class_">ListNode</span>(<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> head.next;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="åœ¨åŸé“¾è¡¨ä¸Šæ“ä½œ"><a href="#åœ¨åŸé“¾è¡¨ä¸Šæ“ä½œ" class="headerlink" title="åœ¨åŸé“¾è¡¨ä¸Šæ“ä½œ"></a>åœ¨åŸé“¾è¡¨ä¸Šæ“ä½œ</h5><p>å¦‚æœé“¾è¡¨1æ²¡æœ‰é“¾è¡¨2é•¿çš„è¯ï¼Œå°±æŠŠé“¾è¡¨2çš„åç»­æ¥åœ¨é“¾è¡¨1ä¸Šã€‚å¤„ç†åç»­æœ‰ç‚¹éº»çƒ¦ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * åœ¨åŸé“¾è¡¨ä¸Šæ”¹å€¼</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> ListNode <span class="title function_">addTwoNumbers</span><span class="params">(ListNode l1, ListNode l2)</span> &#123;</span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">cur1</span> <span class="operator">=</span> l1;</span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">cur2</span> <span class="operator">=</span> l2;</span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">pre</span> <span class="operator">=</span> l1;</span><br><span class="line">    <span class="type">int</span> <span class="variable">out</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (cur1 != <span class="literal">null</span> &amp;&amp; cur2 != <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (cur1.next == <span class="literal">null</span>) &#123; <span class="comment">//cur1 å°æ‹¼æ¥</span></span><br><span class="line">            cur1.next = cur2.next;</span><br><span class="line">            cur2.next = <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        cur1.val = cur1.val + cur2.val + out;</span><br><span class="line">        out = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (cur1.val &gt; <span class="number">9</span>) &#123;</span><br><span class="line">            cur1.val = cur1.val % <span class="number">10</span>;</span><br><span class="line">            out = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        pre = cur1;</span><br><span class="line">        cur1 = cur1.next;</span><br><span class="line">        cur2 = cur2.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (cur1 == <span class="literal">null</span> &amp;&amp; out == <span class="number">1</span>) &#123; <span class="comment">//ä½æ•°ç›¸åŒ æœ‰ä¸€ä¸ªè¿›ä½</span></span><br><span class="line">        pre.next = <span class="keyword">new</span> <span class="title class_">ListNode</span>(<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (cur1 != <span class="literal">null</span>) &#123; <span class="comment">//å¦‚æœå­˜åœ¨æ‹¼æ¥çš„æƒ…å†µï¼Œåˆ™å¯èƒ½å­˜åœ¨è¿›ä½æœªåŠ çš„æƒ…å†µ</span></span><br><span class="line">        cur1.val += out;</span><br><span class="line">        out = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (cur1.val &gt; <span class="number">9</span>) &#123;</span><br><span class="line">            cur1.val = cur1.val % <span class="number">10</span>;</span><br><span class="line">            out = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (cur1.next == <span class="literal">null</span> &amp;&amp; out == <span class="number">1</span>) &#123;</span><br><span class="line">            cur1.next = <span class="keyword">new</span> <span class="title class_">ListNode</span>(<span class="number">1</span>);</span><br><span class="line">            out = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        cur1 = cur1.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> l1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="5ã€LC25-K-ä¸ªä¸€ç»„ç¿»è½¬é“¾è¡¨"><a href="#5ã€LC25-K-ä¸ªä¸€ç»„ç¿»è½¬é“¾è¡¨" class="headerlink" title="5ã€LC25. K ä¸ªä¸€ç»„ç¿»è½¬é“¾è¡¨"></a>5ã€LC25. K ä¸ªä¸€ç»„ç¿»è½¬é“¾è¡¨</h4><p>ç»™ä½ é“¾è¡¨çš„å¤´èŠ‚ç‚¹ <code>head</code> ï¼Œæ¯ <code>k</code> ä¸ªèŠ‚ç‚¹ä¸€ç»„è¿›è¡Œç¿»è½¬ï¼Œè¯·ä½ è¿”å›ä¿®æ”¹åçš„é“¾è¡¨ã€‚</p>
<p><code>k</code> æ˜¯ä¸€ä¸ªæ­£æ•´æ•°ï¼Œå®ƒçš„å€¼å°äºæˆ–ç­‰äºé“¾è¡¨çš„é•¿åº¦ã€‚å¦‚æœèŠ‚ç‚¹æ€»æ•°ä¸æ˜¯ <code>k</code> çš„æ•´æ•°å€ï¼Œé‚£ä¹ˆè¯·å°†æœ€åå‰©ä½™çš„èŠ‚ç‚¹ä¿æŒåŸæœ‰é¡ºåºã€‚</p>
<p>ä½ ä¸èƒ½åªæ˜¯å•çº¯çš„æ”¹å˜èŠ‚ç‚¹å†…éƒ¨çš„å€¼ï¼Œè€Œæ˜¯éœ€è¦å®é™…è¿›è¡ŒèŠ‚ç‚¹äº¤æ¢ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/reverse_ex1.jpg" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šhead = [1,2,3,4,5], k = 2</span><br><span class="line">è¾“å‡ºï¼š[2,1,4,3,5]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/reverse_ex2.jpg" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šhead = [1,2,3,4,5], k = 3</span><br><span class="line">è¾“å‡ºï¼š[3,2,1,4,5]</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li>é“¾è¡¨ä¸­çš„èŠ‚ç‚¹æ•°ç›®ä¸º <code>n</code></li>
<li><code>1 &lt;= k &lt;= n &lt;= 5000</code></li>
<li><code>0 &lt;= Node.val &lt;= 1000</code></li>
</ul>
<p><strong>è¿›é˜¶ï¼š</strong>ä½ å¯ä»¥è®¾è®¡ä¸€ä¸ªåªç”¨ <code>O(1)</code> é¢å¤–å†…å­˜ç©ºé—´çš„ç®—æ³•è§£å†³æ­¤é—®é¢˜å—ï¼Ÿ</p>
<p>Related Topics</p>
<p>é€’å½’</p>
<p>é“¾è¡¨</p>
<p>ğŸ‘ 1876</p>
<p>ğŸ‘ 0</p>
<h5 id="æ–¹æ³•ä¸€ï¼šåˆ©ç”¨æ ˆå®Œæˆé€†åº"><a href="#æ–¹æ³•ä¸€ï¼šåˆ©ç”¨æ ˆå®Œæˆé€†åº" class="headerlink" title="æ–¹æ³•ä¸€ï¼šåˆ©ç”¨æ ˆå®Œæˆé€†åº"></a>æ–¹æ³•ä¸€ï¼šåˆ©ç”¨æ ˆå®Œæˆé€†åº</h5><p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>ç”¨æ ˆå­˜å‚¨å…ƒç´ çš„æ•°å€¼ï¼Œæ ¹æ®æ ˆçš„é€†åºæ¥æ„å»ºä¸€ä¸ªæ–°çš„é“¾è¡¨ï¼Œè¿”å›ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> ListNode <span class="title function_">reverseKGroup</span><span class="params">(ListNode head, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">        Stack&lt;Integer&gt; stack = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">        LinkedList&lt;Integer&gt; list = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">cur</span> <span class="operator">=</span> head;</span><br><span class="line">        <span class="keyword">while</span> (cur != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (stack.size() &lt; k) &#123;</span><br><span class="line">                stack.push(cur.val);</span><br><span class="line">                cur = cur.next;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">while</span> (!stack.isEmpty()) &#123;</span><br><span class="line">                    list.add(stack.pop());</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (stack.size() == k) &#123;</span><br><span class="line">            <span class="keyword">while</span> (!stack.isEmpty()) &#123;</span><br><span class="line">                list.add(stack.pop());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        cur = head;</span><br><span class="line">        <span class="keyword">while</span> (cur != <span class="literal">null</span> &amp;&amp; !list.isEmpty()) &#123;</span><br><span class="line">            cur.val = list.getFirst();</span><br><span class="line">            list.removeFirst();</span><br><span class="line">            cur = cur.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>:</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦O(N):é“¾è¡¨éœ€è¦éå†ä¸¤æ¬¡ï¼Œç¬¬ä¸€æ¬¡æ ¹æ®kæ¥å…¥æ ˆï¼Œæ ¹æ®æ ˆæ¥æ„å»ºæ–°é“¾è¡¨ï¼Œç¬¬äºŒæ¬¡å¤åˆ¶é“¾è¡¨ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦O(N):é“¾è¡¨å’Œæ ˆéƒ½æ˜¯Nçš„ç©ºé—´ã€‚</li>
</ul>
<h5 id="æ–¹æ³•äºŒï¼šå°¾æ’æ³•"><a href="#æ–¹æ³•äºŒï¼šå°¾æ’æ³•" class="headerlink" title="æ–¹æ³•äºŒï¼šå°¾æ’æ³•"></a>æ–¹æ³•äºŒï¼šå°¾æ’æ³•</h5><p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>å…ˆç§»åŠ¨åˆ°è¦åè½¬éƒ¨åˆ†çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼Œä»å¼€å§‹çš„ä½ç½®ä¾æ¬¡å‘å°¾éƒ¨æ’å…¥ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">pre</span><br><span class="line">tail    head</span><br><span class="line">dummy    1     2     3     4     5</span><br><span class="line"># æˆ‘ä»¬ç”¨tail ç§»åˆ°è¦ç¿»è½¬çš„éƒ¨åˆ†æœ€åä¸€ä¸ªå…ƒç´ </span><br><span class="line">pre     head       tail</span><br><span class="line">dummy    1     2     3     4     5</span><br><span class="line">	       cur</span><br><span class="line"># æˆ‘ä»¬å°¾æ’æ³•çš„æ„æ€å°±æ˜¯,ä¾æ¬¡æŠŠcurç§»åˆ°tailåé¢</span><br><span class="line">pre          tail  head</span><br><span class="line">dummy    2     3    1     4     5</span><br><span class="line">	       cur</span><br><span class="line"># ä¾æ¬¡ç±»æ¨</span><br><span class="line">pre     tail      head</span><br><span class="line">dummy    3     2    1     4     5</span><br><span class="line">		cur</span><br><span class="line">....</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> ListNode <span class="title function_">reverseKGroup2</span><span class="params">(ListNode head, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">dummy</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ListNode</span>(<span class="number">0</span>); <span class="comment">// è™šæ‹Ÿå¤´èŠ‚ç‚¹</span></span><br><span class="line">    dummy.next = head;</span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">pre</span> <span class="operator">=</span> dummy;</span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">tail</span> <span class="operator">=</span> dummy;</span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (tail != <span class="literal">null</span> &amp;&amp; count != k) &#123;</span><br><span class="line">            count++;</span><br><span class="line">            tail = tail.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (tail == <span class="literal">null</span>) <span class="keyword">break</span>;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">head1</span> <span class="operator">=</span> pre.next; <span class="comment">// è®°å½•ä¸‹ä¸€ä¸ªå¤´èŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯åè½¬åçš„æœ€åä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">        <span class="keyword">while</span> (pre.next != tail) &#123;</span><br><span class="line">            <span class="type">ListNode</span> <span class="variable">cur</span> <span class="operator">=</span> pre.next; <span class="comment">// è®°å½•åŸæ¥çš„èŠ‚ç‚¹</span></span><br><span class="line">            pre.next = cur.next; <span class="comment">// æ›¿ä»£åŸæ¥çš„èŠ‚ç‚¹</span></span><br><span class="line">            cur.next = tail.next;</span><br><span class="line">            tail.next = cur;</span><br><span class="line">        &#125;</span><br><span class="line">        pre = head1;</span><br><span class="line">        tail = head1;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dummy.next;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦O(N)</li>
<li>ç©ºé—´å¤æ‚åº¦O(1)</li>
</ul>
<h5 id="æ–¹æ³•ä¸‰ï¼šé€’å½’"><a href="#æ–¹æ³•ä¸‰ï¼šé€’å½’" class="headerlink" title="æ–¹æ³•ä¸‰ï¼šé€’å½’"></a>æ–¹æ³•ä¸‰ï¼šé€’å½’</h5><p><strong>è§£é¢˜æ€è·¯</strong></p>
<p>å¤§è‡´è¿‡ç¨‹å¯ä»¥åˆ†è§£ä¸º:</p>
<ol>
<li>æ‰¾åˆ°å¾…ç¿»è½¬çš„kä¸ªèŠ‚ç‚¹ï¼ˆæ³¨æ„ï¼šè‹¥å‰©ä½™æ•°é‡å°äº k çš„è¯ï¼Œåˆ™ä¸éœ€è¦åè½¬ï¼Œå› æ­¤ç›´æ¥è¿”å›å¾…ç¿»è½¬éƒ¨åˆ†çš„å¤´ç»“ç‚¹å³å¯ï¼‰ã€‚</li>
<li>å¯¹å…¶è¿›è¡Œç¿»è½¬ã€‚å¹¶è¿”å›ç¿»è½¬åçš„å¤´ç»“ç‚¹ï¼ˆæ³¨æ„ï¼šç¿»è½¬ä¸ºå·¦é—­åˆå¼€åŒºé—´ï¼Œæ‰€ä»¥æœ¬è½®æ“ä½œçš„å°¾ç»“ç‚¹å…¶å®å°±æ˜¯ä¸‹ä¸€è½®æ“ä½œçš„å¤´ç»“ç‚¹ï¼‰ã€‚</li>
<li>å¯¹ä¸‹ä¸€è½® k ä¸ªèŠ‚ç‚¹ä¹Ÿè¿›è¡Œç¿»è½¬æ“ä½œã€‚</li>
<li>å°†ä¸Šä¸€è½®ç¿»è½¬åçš„å°¾ç»“ç‚¹æŒ‡å‘ä¸‹ä¸€è½®ç¿»è½¬åçš„å¤´èŠ‚ç‚¹ï¼Œå³å°†æ¯ä¸€è½®ç¿»è½¬çš„kçš„èŠ‚ç‚¹è¿æ¥èµ·æ¥ã€‚</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/f63d5ca4d3f055ce8e4591c8bc51c288791f88da9ccec9617bc8bb51c26163a2.png" alt="img"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> ListNode <span class="title function_">reverseKGroup</span><span class="params">(ListNode head, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (head == <span class="literal">null</span> || head.next == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">tail</span> <span class="operator">=</span> head;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; k; i++) &#123;</span><br><span class="line">        <span class="comment">//å‰©ä½™æ•°é‡å°äºkçš„è¯ï¼Œåˆ™ä¸éœ€è¦åè½¬ã€‚</span></span><br><span class="line">        <span class="keyword">if</span> (tail == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> head;</span><br><span class="line">        &#125;</span><br><span class="line">        tail = tail.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// åè½¬å‰ k ä¸ªå…ƒç´ </span></span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">newHead</span> <span class="operator">=</span> reverse(head, tail);</span><br><span class="line">    <span class="comment">//ä¸‹ä¸€è½®çš„å¼€å§‹çš„åœ°æ–¹å°±æ˜¯tail</span></span><br><span class="line">    head.next = reverseKGroup(tail, k);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> newHead;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    å·¦é—­åˆå¼€åŒºé—´</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"><span class="keyword">private</span> ListNode <span class="title function_">reverse</span><span class="params">(ListNode head, ListNode tail)</span> &#123;</span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">pre</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">next</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">while</span> (head != tail) &#123;</span><br><span class="line">        next = head.next;</span><br><span class="line">        head.next = pre;</span><br><span class="line">        pre = head;</span><br><span class="line">        head = next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> pre;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¤æ‚åº¦åˆ†æï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦O(N)</li>
<li>ç©ºé—´å¤æ‚åº¦O(N)</li>
</ul>
<h4 id="6ã€LC21-åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨"><a href="#6ã€LC21-åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨" class="headerlink" title="6ã€LC21. åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨"></a>6ã€LC21. åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨</h4><p>å°†ä¸¤ä¸ªå‡åºé“¾è¡¨åˆå¹¶ä¸ºä¸€ä¸ªæ–°çš„ <strong>å‡åº</strong> é“¾è¡¨å¹¶è¿”å›ã€‚æ–°é“¾è¡¨æ˜¯é€šè¿‡æ‹¼æ¥ç»™å®šçš„ä¸¤ä¸ªé“¾è¡¨çš„æ‰€æœ‰èŠ‚ç‚¹ç»„æˆçš„ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://assets.leetcode.com/uploads/2020/10/03/merge_ex1.jpg" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šl1 = [1,2,4], l2 = [1,3,4]</span><br><span class="line">è¾“å‡ºï¼š[1,1,2,3,4,4]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šl1 = [], l2 = []</span><br><span class="line">è¾“å‡ºï¼š[]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šl1 = [], l2 = [0]</span><br><span class="line">è¾“å‡ºï¼š[0]</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li>ä¸¤ä¸ªé“¾è¡¨çš„èŠ‚ç‚¹æ•°ç›®èŒƒå›´æ˜¯ <code>[0, 50]</code></li>
<li><code>-100 &lt;= Node.val &lt;= 100</code></li>
<li><code>l1</code> å’Œ <code>l2</code> å‡æŒ‰ <strong>éé€’å‡é¡ºåº</strong> æ’åˆ—</li>
</ul>
<p>Related Topics</p>
<p>é€’å½’</p>
<p>é“¾è¡¨</p>
<p>ğŸ‘ 2845</p>
<p>ğŸ‘ 0</p>
<h5 id="æ–¹æ³•ä¸€-åŒæŒ‡é’ˆ-è¿­ä»£"><a href="#æ–¹æ³•ä¸€-åŒæŒ‡é’ˆ-è¿­ä»£" class="headerlink" title="æ–¹æ³•ä¸€:åŒæŒ‡é’ˆ è¿­ä»£"></a>æ–¹æ³•ä¸€:åŒæŒ‡é’ˆ è¿­ä»£</h5><p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>å…ˆæ–°å»ºè™šæ‹Ÿå¤´èŠ‚ç‚¹ï¼Œå¯ä»¥å¯¹å¤´èŠ‚ç‚¹ç»Ÿä¸€å¤„ç†ï¼Œè¿”å›æ—¶ï¼Œè¿”å› head.next èŠ‚ç‚¹ã€‚</p>
<p>ç”¨åŸæ¥çš„ä¸¤ä¸ªå¤´èŠ‚ç‚¹æŒ‡é’ˆï¼Œéå†ï¼Œå€¼å°çš„æ„å»ºæ–°é“¾è¡¨ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> ListNode <span class="title function_">mergeTwoLists</span><span class="params">(ListNode list1, ListNode list2)</span> &#123;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">head</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ListNode</span>(-<span class="number">1</span>);</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">cur</span> <span class="operator">=</span> head;</span><br><span class="line">        <span class="keyword">while</span> (list1 != <span class="literal">null</span> || list2 != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (list1 == <span class="literal">null</span>) &#123;</span><br><span class="line">                cur.next = list2;</span><br><span class="line">                list2 = list2.next;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (list2 == <span class="literal">null</span> || list1.val &lt; list2.val) &#123;</span><br><span class="line">                cur.next = list1;</span><br><span class="line">                list1 = list1.next;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                cur.next = list2;</span><br><span class="line">                list2 = list2.next;</span><br><span class="line">            &#125;</span><br><span class="line">            cur = cur.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> head.next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¤æ‚åº¦åˆ†æï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦O(M+N),Mï¼ŒN ä¸ºé“¾è¡¨é•¿åº¦ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦O(1)</li>
</ul>
<h5 id="æ–¹æ³•äºŒï¼šé€’å½’"><a href="#æ–¹æ³•äºŒï¼šé€’å½’" class="headerlink" title="æ–¹æ³•äºŒï¼šé€’å½’"></a>æ–¹æ³•äºŒï¼šé€’å½’</h5><p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<ol>
<li><code>ç»ˆæ­¢æ¡ä»¶</code>ï¼šå½“ä¸¤ä¸ªé“¾è¡¨éƒ½ä¸ºç©ºæ—¶ï¼Œè¿”å› nullã€‚æˆ–è€…ä¸€ä¸ªé“¾è¡¨ä¸ºç©ºï¼Œè¿”å›å¦ä¸€ä¸ªé“¾è¡¨çš„å¤´èŠ‚ç‚¹ï¼›</li>
<li><code>è¿”å›ç±»å‹ã€é€’å½’å‚æ•°</code>ï¼šè¿”å›è¾ƒå°çš„èŠ‚ç‚¹ï¼Œå‚æ•°ä¸ºä¼ å…¥çš„é“¾è¡¨çš„å¤´èŠ‚ç‚¹ï¼›</li>
<li><code>ç¡®å®šå•å±‚é€’å½’é€»è¾‘</code>ï¼šåˆ¤æ–­ <code>l1</code> å’Œ <code>l2</code> å¤´ç»“ç‚¹å“ªä¸ªæ›´å°ï¼Œç„¶åè¾ƒå°ç»“ç‚¹çš„ <code>next</code> æŒ‡é’ˆæŒ‡å‘<strong>å…¶ä½™ç»“ç‚¹çš„åˆå¹¶ç»“æœã€‚ï¼ˆè°ƒç”¨é€’å½’ï¼‰</strong></li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/a09013b986b6b66252276ddbe5e404ce746040b26ab9bc8c195e3fb3e15a05bb-%E5%B9%BB%E7%81%AF%E7%89%876.JPG" alt="img"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> ListNode <span class="title function_">mergeTwoLists</span><span class="params">(ListNode list1, ListNode list2)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (list1 == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> list2;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (list2 == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> list1;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (list1.val &lt; list2.val) &#123;</span><br><span class="line">        list1.next = mergeTwoLists(list1.next, list2);</span><br><span class="line">        <span class="keyword">return</span> list1;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        list2.next = mergeTwoLists(list1, list2.next);</span><br><span class="line">        <span class="keyword">return</span> list2;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¤æ‚åº¦åˆ†æï¼š</p>
<ul>
<li><p>æ—¶é—´å¤æ‚åº¦O(M+N)</p>
</li>
<li><p>ç©ºé—´å¤æ‚åº¦O(M+N)</p>
<p>å¯¹äºé€’å½’è°ƒç”¨ self.mergeTwoLists()ï¼Œå½“å®ƒé‡åˆ°ç»ˆæ­¢æ¡ä»¶å‡†å¤‡å›æº¯æ—¶ï¼Œå·²ç»é€’å½’è°ƒç”¨äº† m+n æ¬¡ï¼Œä½¿ç”¨äº† m+n ä¸ªæ ˆå¸§ï¼Œæ•…æœ€åçš„ç©ºé—´å¤æ‚åº¦ä¸º O(m+n)ã€‚</p>
</li>
</ul>
<h4 id="7ã€LC23-åˆå¹¶Kä¸ªå‡åºé“¾è¡¨"><a href="#7ã€LC23-åˆå¹¶Kä¸ªå‡åºé“¾è¡¨" class="headerlink" title="7ã€LC23. åˆå¹¶Kä¸ªå‡åºé“¾è¡¨"></a>7ã€LC23. åˆå¹¶Kä¸ªå‡åºé“¾è¡¨</h4><p>ç»™ä½ ä¸€ä¸ªé“¾è¡¨æ•°ç»„ï¼Œæ¯ä¸ªé“¾è¡¨éƒ½å·²ç»æŒ‰å‡åºæ’åˆ—ã€‚</p>
<p>è¯·ä½ å°†æ‰€æœ‰é“¾è¡¨åˆå¹¶åˆ°ä¸€ä¸ªå‡åºé“¾è¡¨ä¸­ï¼Œè¿”å›åˆå¹¶åçš„é“¾è¡¨ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šlists = [[1,4,5],[1,3,4],[2,6]]</span><br><span class="line">è¾“å‡ºï¼š[1,1,2,3,4,4,5,6]</span><br><span class="line">è§£é‡Šï¼šé“¾è¡¨æ•°ç»„å¦‚ä¸‹ï¼š</span><br><span class="line">[</span><br><span class="line">  1-&gt;4-&gt;5,</span><br><span class="line">  1-&gt;3-&gt;4,</span><br><span class="line">  2-&gt;6</span><br><span class="line">]</span><br><span class="line">å°†å®ƒä»¬åˆå¹¶åˆ°ä¸€ä¸ªæœ‰åºé“¾è¡¨ä¸­å¾—åˆ°ã€‚</span><br><span class="line">1-&gt;1-&gt;2-&gt;3-&gt;4-&gt;4-&gt;5-&gt;6</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šlists = []</span><br><span class="line">è¾“å‡ºï¼š[]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šlists = [[]]</span><br><span class="line">è¾“å‡ºï¼š[]</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>k == lists.length</code></li>
<li><code>0 &lt;= k &lt;= 10^4</code></li>
<li><code>0 &lt;= lists[i].length &lt;= 500</code></li>
<li><code>-10^4 &lt;= lists[i][j] &lt;= 10^4</code></li>
<li><code>lists[i]</code> æŒ‰ <strong>å‡åº</strong> æ’åˆ—</li>
<li><code>lists[i].length</code> çš„æ€»å’Œä¸è¶…è¿‡ <code>10^4</code></li>
</ul>
<p>Related Topics</p>
<p>é“¾è¡¨</p>
<p>åˆ†æ²»</p>
<p>å †ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰</p>
<p>å½’å¹¶æ’åº</p>
<p>ğŸ‘ 2303</p>
<p>ğŸ‘ 0</p>
<h5 id="è§£æ³•ä¸€ï¼šä¼˜å…ˆçº§é˜Ÿåˆ—"><a href="#è§£æ³•ä¸€ï¼šä¼˜å…ˆçº§é˜Ÿåˆ—" class="headerlink" title="è§£æ³•ä¸€ï¼šä¼˜å…ˆçº§é˜Ÿåˆ—"></a>è§£æ³•ä¸€ï¼šä¼˜å…ˆçº§é˜Ÿåˆ—</h5><p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>æ„å»ºå°æ ¹å †ï¼Œé˜Ÿåˆ—å­˜å‚¨èŠ‚ç‚¹ï¼Œä»¥èŠ‚ç‚¹çš„valå€¼è¿›è¡Œæ¯”è¾ƒï¼Œæ¯æ¬¡æ‹¿å‡ºæœ€å°çš„æ·»åŠ åˆ°åˆå¹¶çš„é“¾è¡¨ä¸Šï¼Œæœ€åæŠŠè¯¥é“¾è¡¨çš„å¤´èŠ‚ç‚¹åˆ é™¤ï¼Œåè¾¹çš„é“¾è¡¨ç»§ç»­æ”¾å…¥é˜Ÿåˆ—ï¼Œç›´è‡³ä¸ºç©ºã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> ListNode <span class="title function_">mergeKLists</span><span class="params">(ListNode[] lists)</span> &#123;</span><br><span class="line">        PriorityQueue&lt;ListNode&gt; queue = <span class="keyword">new</span> <span class="title class_">PriorityQueue</span>&lt;&gt;((a, b)-&gt;&#123;<span class="keyword">return</span> a.val - b.val;&#125;);</span><br><span class="line"></span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">head</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ListNode</span>(<span class="number">0</span>); <span class="comment">// è™šæ‹Ÿå¤´èŠ‚ç‚¹</span></span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">cur</span> <span class="operator">=</span> head;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (ListNode list : lists) &#123; <span class="comment">// å…ˆæŠŠé“¾è¡¨æ”¾å…¥é˜Ÿåˆ—</span></span><br><span class="line">            <span class="keyword">if</span> (list != <span class="literal">null</span>) &#123;</span><br><span class="line">                queue.add(list);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">            <span class="type">ListNode</span> <span class="variable">peek</span> <span class="operator">=</span> queue.poll();</span><br><span class="line">            cur.next = peek;</span><br><span class="line">            <span class="keyword">if</span> (peek.next != <span class="literal">null</span>) &#123; <span class="comment">// å¦‚æœæœ‰åç»­ï¼ŒåŠ å…¥é˜Ÿåˆ—ï¼Œå¤„ç†èŠ‚ç‚¹ï¼ˆåœ¨åŸä½ç½®ä¸Šæ”¹ï¼‰</span></span><br><span class="line">                queue.add(peek.next);</span><br><span class="line">                peek.next = <span class="literal">null</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            cur = cur.next;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> head.next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼šè€ƒè™‘ä¼˜å…ˆé˜Ÿåˆ—ä¸­çš„å…ƒç´ ä¸è¶…è¿‡ <em>k</em> ä¸ªï¼Œé‚£ä¹ˆæ’å…¥å’Œåˆ é™¤çš„æ—¶é—´ä»£ä»·ä¸ºO*(log<em>k</em>)ï¼Œè¿™é‡Œæœ€å¤šæœ‰ k<em>n ä¸ªç‚¹ï¼Œå¯¹äºæ¯ä¸ªç‚¹éƒ½è¢«æ’å…¥åˆ é™¤å„ä¸€æ¬¡ï¼Œæ•…æ€»çš„æ—¶é—´ä»£ä»·å³æ¸è¿›æ—¶é—´å¤æ‚åº¦ä¸º O</em>(<em>k</em>n<em>Ã—log</em>k*)ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼šè¿™é‡Œç”¨äº†ä¼˜å…ˆé˜Ÿåˆ—ï¼Œä¼˜å…ˆé˜Ÿåˆ—ä¸­çš„å…ƒç´ ä¸è¶…è¿‡ k* ä¸ªï¼Œæ•…æ¸è¿›ç©ºé—´å¤æ‚åº¦ä¸º O*(*k)ã€‚</li>
</ul>
<h4 id="8ã€LC92-åè½¬é“¾è¡¨II"><a href="#8ã€LC92-åè½¬é“¾è¡¨II" class="headerlink" title="8ã€LC92. åè½¬é“¾è¡¨II"></a>8ã€LC92. åè½¬é“¾è¡¨II</h4><p>ç»™ä½ å•é“¾è¡¨çš„å¤´æŒ‡é’ˆ <code>head</code> å’Œä¸¤ä¸ªæ•´æ•° <code>left</code> å’Œ <code>right</code> ï¼Œå…¶ä¸­ <code>left &lt;= right</code> ã€‚è¯·ä½ åè½¬ä»ä½ç½® <code>left</code> åˆ°ä½ç½® <code>right</code> çš„é“¾è¡¨èŠ‚ç‚¹ï¼Œè¿”å› <strong>åè½¬åçš„é“¾è¡¨</strong> ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/rev2ex2.jpg" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šhead = [1,2,3,4,5], left = 2, right = 4</span><br><span class="line">è¾“å‡ºï¼š[1,4,3,2,5]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šhead = [5], left = 1, right = 1</span><br><span class="line">è¾“å‡ºï¼š[5]</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li>é“¾è¡¨ä¸­èŠ‚ç‚¹æ•°ç›®ä¸º <code>n</code></li>
<li><code>1 &lt;= n &lt;= 500</code></li>
<li><code>-500 &lt;= Node.val &lt;= 500</code></li>
<li><code>1 &lt;= left &lt;= right &lt;= n</code></li>
</ul>
<p><strong>è¿›é˜¶ï¼š</strong> ä½ å¯ä»¥ä½¿ç”¨ä¸€è¶Ÿæ‰«æå®Œæˆåè½¬å—ï¼Ÿ</p>
<p>Related Topics</p>
<p>é“¾è¡¨</p>
<p>ğŸ‘ 1476</p>
<p>ğŸ‘ 0</p>
<h5 id="æ–¹æ³•ä¸€ï¼šé€ä¸€åè½¬"><a href="#æ–¹æ³•ä¸€ï¼šé€ä¸€åè½¬" class="headerlink" title="æ–¹æ³•ä¸€ï¼šé€ä¸€åè½¬"></a>æ–¹æ³•ä¸€ï¼šé€ä¸€åè½¬</h5><p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>å…ˆæ‰¾åˆ°å·¦èŠ‚ç‚¹ï¼Œä»å·¦èŠ‚ç‚¹ä¹‹åå¼€å§‹é€ä¸€åè½¬ï¼Œæœ€åå†å¤„ç†å·¦å³ä¸¤ä¸ªèŠ‚ç‚¹ã€‚å› ä¸ºcuråˆ°å³èŠ‚ç‚¹çš„æ—¶å€™è¿˜æ²¡æ¥å¾—åŠå¤„ç†å³è¾¹çš„èŠ‚ç‚¹ï¼Œæ‰€ä»¥éœ€è¦å†éå†ä¸€æ¬¡ï¼Œæ­¤æ—¶curæ¥åˆ°äº†rightNode.nextçš„ä½ç½®ï¼Œä¹Ÿæ–¹ä¾¿åç»­å¤„ç†ã€‚å¦‚æœå¤´èŠ‚ç‚¹æ˜¯å·¦èŠ‚ç‚¹çš„è¯ï¼Œåè½¬åçš„å¤´èŠ‚ç‚¹å°±åº”è¯¥æ˜¯å³èŠ‚ç‚¹ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> ListNode <span class="title function_">reverseBetween</span><span class="params">(ListNode head, <span class="type">int</span> left, <span class="type">int</span> right)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (left == right) &#123;</span><br><span class="line">            <span class="keyword">return</span> head;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">cur</span> <span class="operator">=</span> head;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">leftNode</span> <span class="operator">=</span> <span class="literal">null</span>, rightNode = <span class="literal">null</span>, pre = <span class="literal">null</span>, next, leftCur = <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">while</span> (cur != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (left - <span class="number">1</span> != <span class="number">0</span>) &#123; <span class="comment">// æ‰¾å·¦èŠ‚ç‚¹</span></span><br><span class="line">                --left;</span><br><span class="line">                --right;</span><br><span class="line">                pre = cur;</span><br><span class="line">                cur = cur.next;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (leftNode == <span class="literal">null</span>)&#123;</span><br><span class="line">                leftNode = cur;</span><br><span class="line">                leftCur = leftNode;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// å·¦èŠ‚ç‚¹å­˜åœ¨ï¼Œåè½¬</span></span><br><span class="line">            next = cur.next;</span><br><span class="line">            cur.next = leftCur;</span><br><span class="line">            leftCur = cur;</span><br><span class="line">            cur = next;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (rightNode != <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (right - <span class="number">2</span> != <span class="number">0</span>) &#123; <span class="comment">// æ‰¾å³èŠ‚ç‚¹</span></span><br><span class="line">                --right;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                rightNode = cur; <span class="comment">// è¿˜è¦è®©rightNodeå‘å‰æŒ‡ï¼Œå¤šéå†ä¸€é</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å·¦å³èŠ‚ç‚¹éƒ½æ‰¾åˆ°ï¼Œä¸­é—´å·²ç»åè½¬,curå°±æ˜¯rightNodeçš„ä¸‹ä¸€ä¸ªä½ç½®</span></span><br><span class="line">        leftNode.next = cur;</span><br><span class="line">        <span class="keyword">if</span> (pre != <span class="literal">null</span>) &#123;</span><br><span class="line">            pre.next = rightNode;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (head == leftNode) &#123;</span><br><span class="line">            <span class="keyword">return</span> rightNode;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦O(N)ï¼Œåªéå†ä¸€æ¬¡é“¾è¡¨ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦O(1)</li>
</ul>
<h5 id="æ–¹æ³•äºŒï¼šç©¿é’ˆå¼•çº¿"><a href="#æ–¹æ³•äºŒï¼šç©¿é’ˆå¼•çº¿" class="headerlink" title="æ–¹æ³•äºŒï¼šç©¿é’ˆå¼•çº¿"></a>æ–¹æ³•äºŒï¼šç©¿é’ˆå¼•çº¿</h5><p>æˆ‘ä»¬ä»¥ä¸‹å›¾ä¸­é»„è‰²åŒºåŸŸçš„é“¾è¡¨åè½¬ä¸ºä¾‹ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1615105129-iUPoGi-image.png" alt="image.png"></p>
<p>ä½¿ç”¨ã€Œ<a target="_blank" rel="noopener" href="https://leetcode.cn/problems/reverse-linked-list/">206. åè½¬é“¾è¡¨</a>ã€çš„è§£æ³•ï¼Œåè½¬ <code>left</code> åˆ° <code>right</code> éƒ¨åˆ†ä»¥åï¼Œå†æ‹¼æ¥èµ·æ¥ã€‚æˆ‘ä»¬è¿˜éœ€è¦è®°å½• <code>left</code> çš„å‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå’Œ <code>right</code> çš„åä¸€ä¸ªèŠ‚ç‚¹ã€‚å¦‚å›¾æ‰€ç¤ºï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1615105150-pfWiGq-image.png" alt="image.png"></p>
<p><strong>ç®—æ³•æ­¥éª¤ï¼š</strong></p>
<ul>
<li>ç¬¬ 1 æ­¥ï¼šå…ˆå°†å¾…åè½¬çš„åŒºåŸŸåè½¬ï¼›</li>
<li>ç¬¬ 2 æ­¥ï¼šæŠŠ <code>pre</code> çš„ <code>next</code> æŒ‡é’ˆæŒ‡å‘åè½¬ä»¥åçš„é“¾è¡¨å¤´èŠ‚ç‚¹ï¼ŒæŠŠåè½¬ä»¥åçš„é“¾è¡¨çš„å°¾èŠ‚ç‚¹çš„ <code>next</code> æŒ‡é’ˆæŒ‡å‘ <code>succ</code>ã€‚</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1615105168-ZQRZew-image.png" alt="image.png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> ListNode <span class="title function_">reverseBetween</span><span class="params">(ListNode head, <span class="type">int</span> left, <span class="type">int</span> right)</span> &#123;</span><br><span class="line">        <span class="comment">// å› ä¸ºå¤´èŠ‚ç‚¹æœ‰å¯èƒ½å‘ç”Ÿå˜åŒ–ï¼Œä½¿ç”¨è™šæ‹Ÿå¤´èŠ‚ç‚¹å¯ä»¥é¿å…å¤æ‚çš„åˆ†ç±»è®¨è®º</span></span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">dummyNode</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ListNode</span>(-<span class="number">1</span>);</span><br><span class="line">        dummyNode.next = head;</span><br><span class="line"></span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">pre</span> <span class="operator">=</span> dummyNode;</span><br><span class="line">        <span class="comment">// ç¬¬ 1 æ­¥ï¼šä»è™šæ‹Ÿå¤´èŠ‚ç‚¹èµ° left - 1 æ­¥ï¼Œæ¥åˆ° left èŠ‚ç‚¹çš„å‰ä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">        <span class="comment">// å»ºè®®å†™åœ¨ for å¾ªç¯é‡Œï¼Œè¯­ä¹‰æ¸…æ™°</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; left - <span class="number">1</span>; i++) &#123;</span><br><span class="line">            pre = pre.next;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ç¬¬ 2 æ­¥ï¼šä» pre å†èµ° right - left + 1 æ­¥ï¼Œæ¥åˆ° right èŠ‚ç‚¹</span></span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">rightNode</span> <span class="operator">=</span> pre;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; right - left + <span class="number">1</span>; i++) &#123;</span><br><span class="line">            rightNode = rightNode.next;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ç¬¬ 3 æ­¥ï¼šåˆ‡æ–­å‡ºä¸€ä¸ªå­é“¾è¡¨ï¼ˆæˆªå–é“¾è¡¨ï¼‰</span></span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">leftNode</span> <span class="operator">=</span> pre.next;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">curr</span> <span class="operator">=</span> rightNode.next;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ³¨æ„ï¼šåˆ‡æ–­é“¾æ¥</span></span><br><span class="line">        pre.next = <span class="literal">null</span>;</span><br><span class="line">        rightNode.next = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ç¬¬ 4 æ­¥ï¼šåŒç¬¬ 206 é¢˜ï¼Œåè½¬é“¾è¡¨çš„å­åŒºé—´</span></span><br><span class="line">        reverseLinkedList(leftNode);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ç¬¬ 5 æ­¥ï¼šæ¥å›åˆ°åŸæ¥çš„é“¾è¡¨ä¸­</span></span><br><span class="line">        pre.next = rightNode;</span><br><span class="line">        leftNode.next = curr;</span><br><span class="line">        <span class="keyword">return</span> dummyNode.next;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">reverseLinkedList</span><span class="params">(ListNode head)</span> &#123;</span><br><span class="line">        <span class="comment">// ä¹Ÿå¯ä»¥ä½¿ç”¨é€’å½’åè½¬ä¸€ä¸ªé“¾è¡¨</span></span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">pre</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">cur</span> <span class="operator">=</span> head;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (cur != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="type">ListNode</span> <span class="variable">next</span> <span class="operator">=</span> cur.next;</span><br><span class="line">            cur.next = pre;</span><br><span class="line">            pre = cur;</span><br><span class="line">            cur = next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong></p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼šO*(<em>N</em>)ï¼Œå…¶ä¸­ N* æ˜¯é“¾è¡¨æ€»èŠ‚ç‚¹æ•°ã€‚æœ€åæƒ…å†µä¸‹ï¼Œéœ€è¦éå†æ•´ä¸ªé“¾è¡¨ã€‚ä½†æ˜¯éœ€è¦éå†ä¸¤æ¬¡ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O</em>(1)ã€‚åªä½¿ç”¨åˆ°å¸¸æ•°ä¸ªå˜é‡ã€‚</li>
</ul>
<h5 id="æ–¹æ³•ä¸‰ï¼šä¸€æ¬¡éå†ã€Œç©¿é’ˆå¼•çº¿ã€åè½¬é“¾è¡¨ï¼ˆå¤´æ’æ³•ï¼‰"><a href="#æ–¹æ³•ä¸‰ï¼šä¸€æ¬¡éå†ã€Œç©¿é’ˆå¼•çº¿ã€åè½¬é“¾è¡¨ï¼ˆå¤´æ’æ³•ï¼‰" class="headerlink" title="æ–¹æ³•ä¸‰ï¼šä¸€æ¬¡éå†ã€Œç©¿é’ˆå¼•çº¿ã€åè½¬é“¾è¡¨ï¼ˆå¤´æ’æ³•ï¼‰"></a>æ–¹æ³•ä¸‰ï¼šä¸€æ¬¡éå†ã€Œç©¿é’ˆå¼•çº¿ã€åè½¬é“¾è¡¨ï¼ˆå¤´æ’æ³•ï¼‰</h5><p>æ–¹æ³•ä¸€çš„ç¼ºç‚¹æ˜¯ï¼šå¦‚æœ <code>left</code> å’Œ <code>right</code> çš„åŒºåŸŸå¾ˆå¤§ï¼Œæ°å¥½æ˜¯é“¾è¡¨çš„å¤´èŠ‚ç‚¹å’Œå°¾èŠ‚ç‚¹æ—¶ï¼Œæ‰¾åˆ° <code>left</code> å’Œ <code>right</code> éœ€è¦éå†ä¸€æ¬¡ï¼Œåè½¬å®ƒä»¬ä¹‹é—´çš„é“¾è¡¨è¿˜éœ€è¦éå†ä¸€æ¬¡ï¼Œè™½ç„¶æ€»çš„æ—¶é—´å¤æ‚åº¦ä¸º O*(<em>N</em>)ï¼Œä½†éå†äº†é“¾è¡¨ 2 æ¬¡ï¼Œå¯ä¸å¯ä»¥åªéå†ä¸€æ¬¡å‘¢ï¼Ÿç­”æ¡ˆæ˜¯å¯ä»¥çš„ã€‚æˆ‘ä»¬ä¾ç„¶ç”»å›¾è¿›è¡Œè¯´æ˜ã€‚</p>
<p>æˆ‘ä»¬ä¾ç„¶ä»¥æ–¹æ³•ä¸€çš„ç¤ºä¾‹ä¸ºä¾‹è¿›è¡Œè¯´æ˜ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1615105232-cvTINs-image.png" alt="image.png"></p>
<p>æ•´ä½“æ€æƒ³æ˜¯ï¼šåœ¨éœ€è¦åè½¬çš„åŒºé—´é‡Œï¼Œæ¯éå†åˆ°ä¸€ä¸ªèŠ‚ç‚¹ï¼Œè®©è¿™ä¸ªæ–°èŠ‚ç‚¹æ¥åˆ°åè½¬éƒ¨åˆ†çš„èµ·å§‹ä½ç½®ã€‚ä¸‹é¢çš„å›¾å±•ç¤ºäº†æ•´ä¸ªæµç¨‹ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1615105242-ZHlvOn-image.png" alt="image.png"></p>
<p>ä¸‹é¢æˆ‘ä»¬å…·ä½“è§£é‡Šå¦‚ä½•å®ç°ã€‚ä½¿ç”¨ä¸‰ä¸ªæŒ‡é’ˆå˜é‡ <code>pre</code>ã€<code>curr</code>ã€<code>next</code> æ¥è®°å½•åè½¬çš„è¿‡ç¨‹ä¸­éœ€è¦çš„å˜é‡ï¼Œå®ƒä»¬çš„æ„ä¹‰å¦‚ä¸‹ï¼š</p>
<ul>
<li><code>curr</code>ï¼šæŒ‡å‘å¾…åè½¬åŒºåŸŸçš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ <code>left</code>ï¼›</li>
<li><code>next</code>ï¼šæ°¸è¿œæŒ‡å‘ <code>curr</code> çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¾ªç¯è¿‡ç¨‹ä¸­ï¼Œ<code>curr</code> å˜åŒ–ä»¥å <code>next</code> ä¼šå˜åŒ–ï¼›</li>
<li><code>pre</code>ï¼šæ°¸è¿œæŒ‡å‘å¾…åè½¬åŒºåŸŸçš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ <code>left</code> çš„å‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œåœ¨å¾ªç¯è¿‡ç¨‹ä¸­ä¸å˜ã€‚</li>
</ul>
<p>ç¬¬ 1 æ­¥ï¼Œæˆ‘ä»¬ä½¿ç”¨ â‘ ã€â‘¡ã€â‘¢ æ ‡æ³¨ã€Œç©¿é’ˆå¼•çº¿ã€çš„æ­¥éª¤ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1615105296-bmiPxl-image.png" alt="image.png"></p>
<p><strong>æ“ä½œæ­¥éª¤</strong>ï¼š</p>
<ul>
<li>å…ˆå°† <code>curr</code> çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹è®°å½•ä¸º <code>next</code>ï¼›</li>
<li>æ‰§è¡Œæ“ä½œ â‘ ï¼šæŠŠ <code>curr</code> çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æŒ‡å‘ <code>next</code> çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼›</li>
<li>æ‰§è¡Œæ“ä½œ â‘¡ï¼šæŠŠ <code>next</code> çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æŒ‡å‘ <code>pre</code> çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼›</li>
<li>æ‰§è¡Œæ“ä½œ â‘¢ï¼šæŠŠ <code>pre</code> çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æŒ‡å‘ <code>next</code>ã€‚</li>
</ul>
<p>ç¬¬ 1 æ­¥å®Œæˆä»¥åã€Œæ‹‰ç›´ã€çš„æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1615105340-UBnTBZ-image.png" alt="image.png"></p>
<p>ç¬¬ 2 æ­¥ï¼ŒåŒç†ã€‚åŒæ ·éœ€è¦æ³¨æ„ <strong>ã€Œç©¿é’ˆå¼•çº¿ã€æ“ä½œçš„å…ˆåé¡ºåº</strong>ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1615105353-PsCmzb-image.png" alt="image.png"></p>
<p>ç¬¬ 2 æ­¥å®Œæˆä»¥åã€Œæ‹‰ç›´ã€çš„æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1615105364-aDIFqy-image.png" alt="image.png"></p>
<p>ç¬¬ 3 æ­¥ï¼ŒåŒç†ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1615105376-jIyGwv-image.png" alt="image.png"></p>
<p>ç¬¬ 3 æ­¥å®Œæˆä»¥åã€Œæ‹‰ç›´ã€çš„æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1615105395-EJQnMe-image.png" alt="image.png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> ListNode <span class="title function_">reverseBetween</span><span class="params">(ListNode head, <span class="type">int</span> left, <span class="type">int</span> right)</span> &#123;</span><br><span class="line">        <span class="comment">// è®¾ç½® dummyNode æ˜¯è¿™ä¸€ç±»é—®é¢˜çš„ä¸€èˆ¬åšæ³•</span></span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">dummyNode</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ListNode</span>(-<span class="number">1</span>);</span><br><span class="line">        dummyNode.next = head;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">pre</span> <span class="operator">=</span> dummyNode;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; left - <span class="number">1</span>; i++) &#123;</span><br><span class="line">            pre = pre.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">cur</span> <span class="operator">=</span> pre.next;</span><br><span class="line">        ListNode next;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; right - left; i++) &#123;</span><br><span class="line">            next = cur.next;</span><br><span class="line">            cur.next = next.next;</span><br><span class="line">            next.next = pre.next;</span><br><span class="line">            pre.next = next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dummyNode.next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼šO*(*N)ï¼Œå…¶ä¸­ N æ˜¯é“¾è¡¨æ€»èŠ‚ç‚¹æ•°ã€‚æœ€å¤šåªéå†äº†é“¾è¡¨ä¸€æ¬¡ï¼Œå°±å®Œæˆäº†åè½¬ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚åªä½¿ç”¨åˆ°å¸¸æ•°ä¸ªå˜é‡ã€‚</li>
</ul>
<h4 id="9ã€LC143-é‡æ’é“¾è¡¨"><a href="#9ã€LC143-é‡æ’é“¾è¡¨" class="headerlink" title="9ã€LC143. é‡æ’é“¾è¡¨"></a>9ã€LC143. é‡æ’é“¾è¡¨</h4><p>ç»™å®šä¸€ä¸ªå•é“¾è¡¨ <code>L</code> çš„å¤´èŠ‚ç‚¹ <code>head</code> ï¼Œå•é“¾è¡¨ <code>L</code> è¡¨ç¤ºä¸ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">L0 â†’ L1 â†’ â€¦ â†’ Ln - 1 â†’ Ln</span><br></pre></td></tr></table></figure>

<p>è¯·å°†å…¶é‡æ–°æ’åˆ—åå˜ä¸ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">L0 â†’ Ln â†’ L1 â†’ Ln - 1 â†’ L2 â†’ Ln - 2 â†’ â€¦</span><br></pre></td></tr></table></figure>

<p>ä¸èƒ½åªæ˜¯å•çº¯çš„æ”¹å˜èŠ‚ç‚¹å†…éƒ¨çš„å€¼ï¼Œè€Œæ˜¯éœ€è¦å®é™…çš„è¿›è¡ŒèŠ‚ç‚¹äº¤æ¢ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1626420311-PkUiGI-image.png" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šhead = [1,2,3,4]</span><br><span class="line">è¾“å‡ºï¼š[1,4,2,3]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1626420320-YUiulT-image.png" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šhead = [1,2,3,4,5]</span><br><span class="line">è¾“å‡ºï¼š[1,5,2,4,3]</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li>é“¾è¡¨çš„é•¿åº¦èŒƒå›´ä¸º <code>[1, 5 * 104]</code></li>
<li><code>1 &lt;= node.val &lt;= 1000</code></li>
</ul>
<p>Related Topics</p>
<p>æ ˆ</p>
<p>é€’å½’</p>
<p>é“¾è¡¨</p>
<p>åŒæŒ‡é’ˆ</p>
<p>ğŸ‘ 1123</p>
<p>ğŸ‘ 0</p>
<h5 id="æ–¹æ³•ä¸€ï¼šçº¿æ€§è¡¨"><a href="#æ–¹æ³•ä¸€ï¼šçº¿æ€§è¡¨" class="headerlink" title="æ–¹æ³•ä¸€ï¼šçº¿æ€§è¡¨"></a>æ–¹æ³•ä¸€ï¼šçº¿æ€§è¡¨</h5><p>å› ä¸ºé“¾è¡¨ä¸æ”¯æŒä¸‹æ ‡è®¿é—®ï¼Œæ‰€ä»¥æˆ‘ä»¬æ— æ³•éšæœºè®¿é—®é“¾è¡¨ä¸­ä»»æ„ä½ç½®çš„å…ƒç´ ã€‚</p>
<p>å› æ­¤æ¯”è¾ƒå®¹æ˜“æƒ³åˆ°çš„ä¸€ä¸ªæ–¹æ³•æ˜¯ï¼Œæˆ‘ä»¬åˆ©ç”¨çº¿æ€§è¡¨å­˜å‚¨è¯¥é“¾è¡¨ï¼Œç„¶ååˆ©ç”¨çº¿æ€§è¡¨å¯ä»¥ä¸‹æ ‡è®¿é—®çš„ç‰¹ç‚¹ï¼Œç›´æ¥æŒ‰é¡ºåºè®¿é—®æŒ‡å®šå…ƒç´ ï¼Œé‡å»ºè¯¥é“¾è¡¨å³å¯ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ä½¿ç”¨çº¿æ€§è¡¨</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">reorderList</span><span class="params">(ListNode head)</span> &#123;</span><br><span class="line">        List&lt;ListNode&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">while</span> (head != <span class="literal">null</span>) &#123; <span class="comment">// æŠŠèŠ‚ç‚¹æ”¾å…¥çº¿æ€§è¡¨ä¸­</span></span><br><span class="line">            list.add(head);</span><br><span class="line">            head = head.next;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åŒæŒ‡é’ˆè¿›è¡Œäº¤æ¢èŠ‚ç‚¹</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>, right = list.size() - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (left &lt; right) &#123;</span><br><span class="line">            list.get(left).next = list.get(right);</span><br><span class="line">            left++;</span><br><span class="line">            <span class="comment">//å¶æ•°ä¸ªèŠ‚ç‚¹çš„æƒ…å†µï¼Œä¼šæå‰ç›¸é‡</span></span><br><span class="line">            <span class="keyword">if</span> (left == right) &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            list.get(right).next = list.get(left);</span><br><span class="line">            right--;</span><br><span class="line">        &#125;</span><br><span class="line">        list.get(left).next = <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong></p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼šO*(<em>N</em>)ï¼Œå…¶ä¸­ N* æ˜¯é“¾è¡¨ä¸­çš„èŠ‚ç‚¹æ•°ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼šO*(<em>N</em>)ï¼Œå…¶ä¸­ N* æ˜¯é“¾è¡¨ä¸­çš„èŠ‚ç‚¹æ•°ã€‚ä¸»è¦ä¸ºçº¿æ€§è¡¨çš„å¼€é”€ã€‚</li>
</ul>
<h5 id="æ–¹æ³•äºŒï¼šå¯»æ‰¾é“¾è¡¨ä¸­ç‚¹-é“¾è¡¨é€†åº-åˆå¹¶é“¾è¡¨"><a href="#æ–¹æ³•äºŒï¼šå¯»æ‰¾é“¾è¡¨ä¸­ç‚¹-é“¾è¡¨é€†åº-åˆå¹¶é“¾è¡¨" class="headerlink" title="æ–¹æ³•äºŒï¼šå¯»æ‰¾é“¾è¡¨ä¸­ç‚¹ + é“¾è¡¨é€†åº + åˆå¹¶é“¾è¡¨"></a>æ–¹æ³•äºŒï¼šå¯»æ‰¾é“¾è¡¨ä¸­ç‚¹ + é“¾è¡¨é€†åº + åˆå¹¶é“¾è¡¨</h5><p>æ³¨æ„åˆ°ç›®æ ‡é“¾è¡¨å³ä¸ºå°†åŸé“¾è¡¨çš„å·¦åŠç«¯å’Œåè½¬åçš„å³åŠç«¯åˆå¹¶åçš„ç»“æœã€‚</p>
<p>è¿™æ ·æˆ‘ä»¬çš„ä»»åŠ¡å³å¯åˆ’åˆ†ä¸ºä¸‰æ­¥ï¼š</p>
<ol>
<li>æ‰¾åˆ°åŸé“¾è¡¨çš„ä¸­ç‚¹ï¼ˆå‚è€ƒã€Œ<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/middle-of-the-linked-list/">876. é“¾è¡¨çš„ä¸­é—´ç»“ç‚¹</a>ã€ï¼‰ã€‚<ul>
<li>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¿«æ…¢æŒ‡é’ˆæ¥ O*(*N) åœ°æ‰¾åˆ°é“¾è¡¨çš„ä¸­é—´èŠ‚ç‚¹ã€‚</li>
</ul>
</li>
<li>å°†åŸé“¾è¡¨çš„å³åŠç«¯åè½¬ï¼ˆå‚è€ƒã€Œ<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/reverse-linked-list/">206. åè½¬é“¾è¡¨</a>ã€ï¼‰ã€‚<ul>
<li>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿­ä»£æ³•å®ç°é“¾è¡¨çš„åè½¬ã€‚</li>
</ul>
</li>
<li>å°†åŸé“¾è¡¨çš„ä¸¤ç«¯åˆå¹¶ã€‚<ul>
<li>å› ä¸ºä¸¤é“¾è¡¨é•¿åº¦ç›¸å·®ä¸è¶…è¿‡ 1ï¼Œå› æ­¤ç›´æ¥åˆå¹¶å³å¯</li>
</ul>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="comment">// æ–¹æ³•äºŒï¼šå¯»æ‰¾é“¾è¡¨ä¸­ç‚¹ + é“¾è¡¨é€†åº + åˆå¹¶é“¾è¡¨</span></span><br><span class="line">    <span class="comment">// ç›®æ ‡é“¾è¡¨å³ä¸ºå°†åŸé“¾è¡¨çš„å·¦åŠç«¯å’Œåè½¬åçš„å³åŠç«¯åˆå¹¶åçš„ç»“æœ</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">reorderList</span><span class="params">(ListNode head)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (head == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">mid</span> <span class="operator">=</span> getMidNode(head);</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">left</span> <span class="operator">=</span> head;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">right</span> <span class="operator">=</span> mid.next;</span><br><span class="line">        mid.next = <span class="literal">null</span>;</span><br><span class="line">        right = reverseList(right);</span><br><span class="line">        mergeList(left, right);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆå¹¶é“¾è¡¨</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">mergeList</span><span class="params">(ListNode left, ListNode right)</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (left != <span class="literal">null</span> &amp;&amp; right != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="type">ListNode</span> <span class="variable">tmpLeft</span> <span class="operator">=</span> left.next;</span><br><span class="line">            <span class="type">ListNode</span> <span class="variable">tmpRight</span> <span class="operator">=</span> right.next;</span><br><span class="line"></span><br><span class="line">            left.next = right;</span><br><span class="line">            left = tmpLeft;</span><br><span class="line"></span><br><span class="line">            right.next = left;</span><br><span class="line">            right = tmpRight;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åè½¬é“¾è¡¨</span></span><br><span class="line">    <span class="keyword">private</span> ListNode <span class="title function_">reverseList</span><span class="params">(ListNode head)</span> &#123;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">pre</span> <span class="operator">=</span> <span class="literal">null</span>, cur = head;</span><br><span class="line">        <span class="keyword">while</span> (cur != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="type">ListNode</span> <span class="variable">tmp</span> <span class="operator">=</span> cur.next;</span><br><span class="line">            cur.next = pre;</span><br><span class="line">            pre = cur;</span><br><span class="line">            cur = tmp;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> pre;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¯»æ‰¾é“¾è¡¨ä¸­é—´èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">private</span> ListNode <span class="title function_">getMidNode</span><span class="params">(ListNode head)</span> &#123;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">slow</span> <span class="operator">=</span> head, fast = head;</span><br><span class="line">        <span class="keyword">while</span> (fast.next != <span class="literal">null</span> &amp;&amp; fast.next.next != <span class="literal">null</span>) &#123;</span><br><span class="line">            fast = fast.next.next;</span><br><span class="line">            slow = slow.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> slow;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong></p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼šO*(<em>N</em>)ï¼Œå…¶ä¸­ N* æ˜¯é“¾è¡¨ä¸­çš„èŠ‚ç‚¹æ•°ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚</li>
</ul>
<h5 id="è§£æ³•ä¸‰-é€’å½’"><a href="#è§£æ³•ä¸‰-é€’å½’" class="headerlink" title="è§£æ³•ä¸‰ é€’å½’"></a>è§£æ³•ä¸‰ é€’å½’</h5><p>è§£æ³•ä¸€ä¸­ä¹Ÿè¯´åˆ°äº†ï¼Œæˆ‘ä»¬çš„é—®é¢˜å°±æ˜¯å–å°¾å…ƒç´ çš„æ—¶å€™ï¼Œéœ€è¦éå†ä¸€éé“¾è¡¨ã€‚</p>
<p>å¦‚æœæˆ‘ä»¬çš„é€’å½’å‡½æ•°èƒ½å¤Ÿè¿”å›å½“å‰å¤´å…ƒç´ å¯¹åº”çš„å°¾å…ƒç´ ï¼Œå¹¶ä¸”å°†å¤´å…ƒç´ å’Œå°¾å…ƒç´ ä¹‹é—´çš„é“¾è¡¨æŒ‰è¦æ±‚å®Œæˆï¼Œé‚£å°±å˜å¾—ç®€å•äº†ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/cc05523815b2eb5baf80741809193cc5b17f29b6a6efe2c235007a036aff5625.jpg" alt="img"></p>
<p>å¦‚ä¸Šå›¾ï¼Œæˆ‘ä»¬åªéœ€è¦å°† <code>head</code> æŒ‡å‘ <code>tail</code>ï¼Œ<code>tail</code> æŒ‡å‘å¤„ç†å®Œçš„é“¾è¡¨å¤´å³å¯ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/0a9173afb9b7f62587f5132689ad5bceb98cd24f8f7a3d5f938ca2886d308892.jpg" alt="img"></p>
<p>ç„¶åæˆ‘ä»¬æŠŠä¹‹å‰çš„ <code>tail.next</code> è¿”å›å°±æ˜¯å¤–å±‚ <code>head</code> å¯¹åº”çš„ <code>tail</code> äº†ã€‚</p>
<p>é€’å½’å‡ºå£çš„è¯ï¼Œå¦‚æœåªæœ‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œé‚£ä¹ˆæˆ‘ä»¬åªéœ€è¦å°† <code>head.next</code> è¿”å›ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (len == <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">outTail</span> <span class="operator">=</span> head.next;</span><br><span class="line">    head.next = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">return</span> outTail;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæ˜¯ä¸¤ä¸ªèŠ‚ç‚¹ï¼Œæˆ‘ä»¬éœ€è¦å°† <code>head.next.next</code> è¿”å›ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (len == <span class="number">2</span>) &#123;</span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">outTail</span> <span class="operator">=</span> head.next.next;</span><br><span class="line">    head.next.next = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">return</span> outTail;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç„¶åæ€»ä½“çš„ä»£ç å°±æ˜¯ä¸‹è¾¹çš„æ ·å­</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">reorderList</span><span class="params">(ListNode head)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (head == <span class="literal">null</span> || head.next == <span class="literal">null</span> || head.next.next == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">h</span> <span class="operator">=</span> head;</span><br><span class="line">    <span class="comment">//æ±‚å‡ºèŠ‚ç‚¹æ•°</span></span><br><span class="line">    <span class="keyword">while</span> (h != <span class="literal">null</span>) &#123;</span><br><span class="line">        len++;</span><br><span class="line">        h = h.next;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    reorderListHelper(head, len);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> ListNode <span class="title function_">reorderListHelper</span><span class="params">(ListNode head, <span class="type">int</span> len)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (len == <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">outTail</span> <span class="operator">=</span> head.next;</span><br><span class="line">        head.next = <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">return</span> outTail;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (len == <span class="number">2</span>) &#123;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">outTail</span> <span class="operator">=</span> head.next.next;</span><br><span class="line">        head.next.next = <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">return</span> outTail;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å¾—åˆ°å¯¹åº”çš„å°¾èŠ‚ç‚¹ï¼Œå¹¶ä¸”å°†å¤´ç»“ç‚¹å’Œå°¾èŠ‚ç‚¹ä¹‹é—´çš„é“¾è¡¨é€šè¿‡é€’å½’å¤„ç†</span></span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">tail</span> <span class="operator">=</span> reorderListHelper(head.next, len - <span class="number">2</span>);</span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">subHead</span> <span class="operator">=</span> head.next;<span class="comment">//ä¸­é—´é“¾è¡¨çš„å¤´ç»“ç‚¹</span></span><br><span class="line">    head.next = tail;</span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">outTail</span> <span class="operator">=</span> tail.next;  <span class="comment">//ä¸Šä¸€å±‚ head å¯¹åº”çš„ tail</span></span><br><span class="line">    tail.next = subHead;</span><br><span class="line">    <span class="keyword">return</span> outTail;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong></p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼šO*(<em>N</em>)ï¼Œå…¶ä¸­ N* æ˜¯é“¾è¡¨ä¸­çš„èŠ‚ç‚¹æ•°ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼šO*(<em>N</em>)ï¼Œå…¶ä¸­ N* æ˜¯é“¾è¡¨ä¸­çš„èŠ‚ç‚¹æ•°ã€‚é€’å½’æ ˆçš„ç©ºé—´å¼€é”€ã€‚</li>
</ul>
<h4 id="10ã€LC1669-åˆå¹¶ä¸¤ä¸ªé“¾è¡¨"><a href="#10ã€LC1669-åˆå¹¶ä¸¤ä¸ªé“¾è¡¨" class="headerlink" title="10ã€LC1669. åˆå¹¶ä¸¤ä¸ªé“¾è¡¨"></a>10ã€LC1669. åˆå¹¶ä¸¤ä¸ªé“¾è¡¨</h4><p>ç»™ä½ ä¸¤ä¸ªé“¾è¡¨ <code>list1</code> å’Œ <code>list2</code> ï¼Œå®ƒä»¬åŒ…å«çš„å…ƒç´ åˆ†åˆ«ä¸º <code>n</code> ä¸ªå’Œ <code>m</code> ä¸ªã€‚</p>
<p>è¯·ä½ å°† <code>list1</code> ä¸­ä¸‹æ ‡ä» <code>a</code> åˆ° <code>b</code> çš„å…¨éƒ¨èŠ‚ç‚¹éƒ½åˆ é™¤ï¼Œå¹¶å°†<code>list2</code> æ¥åœ¨è¢«åˆ é™¤èŠ‚ç‚¹çš„ä½ç½®ã€‚</p>
<p>ä¸‹å›¾ä¸­è“è‰²è¾¹å’ŒèŠ‚ç‚¹å±•ç¤ºäº†æ“ä½œåçš„ç»“æœï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/fig1.png" alt="img"></p>
<p>è¯·ä½ è¿”å›ç»“æœé“¾è¡¨çš„å¤´æŒ‡é’ˆã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/merge_linked_list_ex1.png" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šlist1 = [0,1,2,3,4,5], a = 3, b = 4, list2 = [1000000,1000001,1000002]</span><br><span class="line">è¾“å‡ºï¼š[0,1,2,1000000,1000001,1000002,5]</span><br><span class="line">è§£é‡Šï¼šæˆ‘ä»¬åˆ é™¤ list1 ä¸­ä¸‹æ ‡ä¸º 3 å’Œ 4 çš„ä¸¤ä¸ªèŠ‚ç‚¹ï¼Œå¹¶å°† list2 æ¥åœ¨è¯¥ä½ç½®ã€‚ä¸Šå›¾ä¸­è“è‰²çš„è¾¹å’ŒèŠ‚ç‚¹ä¸ºç­”æ¡ˆé“¾è¡¨ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/merge_linked_list_ex2.png" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šlist1 = [0,1,2,3,4,5,6], a = 2, b = 5, list2 = [1000000,1000001,1000002,1000003,1000004]</span><br><span class="line">è¾“å‡ºï¼š[0,1,1000000,1000001,1000002,1000003,1000004,6]</span><br><span class="line">è§£é‡Šï¼šä¸Šå›¾ä¸­è“è‰²çš„è¾¹å’ŒèŠ‚ç‚¹ä¸ºç­”æ¡ˆé“¾è¡¨ã€‚</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>3 &lt;= list1.length &lt;= 104</code></li>
<li><code>1 &lt;= a &lt;= b &lt; list1.length - 1</code></li>
<li><code>1 &lt;= list2.length &lt;= 104</code></li>
</ul>
<p>Related Topics</p>
<p>é“¾è¡¨</p>
<p>ğŸ‘ 68</p>
<p>ğŸ‘ 0</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> ListNode <span class="title function_">mergeInBetween</span><span class="params">(ListNode list1, <span class="type">int</span> a, <span class="type">int</span> b, ListNode list2)</span> &#123;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">aPre</span> <span class="operator">=</span> list1, bNext = list1;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= b + <span class="number">1</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i &lt; a) &#123;</span><br><span class="line">                aPre = aPre.next;</span><br><span class="line">            &#125;</span><br><span class="line">            bNext = bNext.next;</span><br><span class="line">        &#125;</span><br><span class="line">        aPre.next = list2; <span class="comment">// açš„å‰ä¸€ä¸ªèŠ‚ç‚¹æŒ‡å‘list2</span></span><br><span class="line">        <span class="keyword">while</span> (list2.next != <span class="literal">null</span>) &#123;</span><br><span class="line">            list2 = list2.next;</span><br><span class="line">        &#125;</span><br><span class="line">        list2.next = bNext; <span class="comment">// list2çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹æŒ‡åœ¨bçš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">        <span class="keyword">return</span> list1;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼šO(N)</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼šO(1)</li>
</ul>
<h4 id="11ã€LC19-åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬-N-ä¸ªç»“ç‚¹"><a href="#11ã€LC19-åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬-N-ä¸ªç»“ç‚¹" class="headerlink" title="11ã€LC19. åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬ N ä¸ªç»“ç‚¹"></a>11ã€LC19. åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬ N ä¸ªç»“ç‚¹</h4><p>ç»™ä½ ä¸€ä¸ªé“¾è¡¨ï¼Œåˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬ <code>n</code> ä¸ªç»“ç‚¹ï¼Œå¹¶ä¸”è¿”å›é“¾è¡¨çš„å¤´ç»“ç‚¹ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/remove_ex1.jpg" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šhead = [1,2,3,4,5], n = 2</span><br><span class="line">è¾“å‡ºï¼š[1,2,3,5]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šhead = [1], n = 1</span><br><span class="line">è¾“å‡ºï¼š[]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šhead = [1,2], n = 1</span><br><span class="line">è¾“å‡ºï¼š[1]</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li>é“¾è¡¨ä¸­ç»“ç‚¹çš„æ•°ç›®ä¸º <code>sz</code></li>
<li><code>1 &lt;= sz &lt;= 30</code></li>
<li><code>0 &lt;= Node.val &lt;= 100</code></li>
<li><code>1 &lt;= n &lt;= sz</code></li>
</ul>
<p><strong>è¿›é˜¶ï¼š</strong>ä½ èƒ½å°è¯•ä½¿ç”¨ä¸€è¶Ÿæ‰«æå®ç°å—ï¼Ÿ</p>
<p>Related Topics</p>
<p>é“¾è¡¨</p>
<p>åŒæŒ‡é’ˆ</p>
<p>ğŸ‘ 2380</p>
<p>ğŸ‘ 0</p>
<h5 id="è§£æ³•ä¸€ï¼šåŒæŒ‡é’ˆ-1"><a href="#è§£æ³•ä¸€ï¼šåŒæŒ‡é’ˆ-1" class="headerlink" title="è§£æ³•ä¸€ï¼šåŒæŒ‡é’ˆ"></a>è§£æ³•ä¸€ï¼šåŒæŒ‡é’ˆ</h5><p>å¿«æŒ‡é’ˆå…ˆèµ° n æ­¥ï¼Œ ä¹‹åå¿«æ…¢æŒ‡é’ˆä¸€èµ·èµ°ï¼Œ è¿™æ ·ç»“æŸçš„æ—¶å€™ï¼Œæ…¢æŒ‡é’ˆå°±ä¼šèµ°åˆ°å€’æ•°ç¬¬ n ä¸ªèŠ‚ç‚¹å¤„ã€‚</p>
<p>ç”¨äº†è™šæ‹Ÿå¤´èŠ‚ç‚¹ï¼Œæ‰€ä»¥èµ° n æ­¥çš„è¯ï¼Œæ­£å¥½å°±æ˜¯å€’æ•°ç¬¬ n ä¸ªèŠ‚ç‚¹çš„å‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œæ–¹ä¾¿åˆ é™¤ã€‚è™šæ‹Ÿå¤´èŠ‚ç‚¹æ˜¯ä¸ºäº†é˜²æ­¢åˆ é™¤å¤´èŠ‚ç‚¹çš„ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> ListNode <span class="title function_">removeNthFromEnd</span><span class="params">(ListNode head, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">newHead</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ListNode</span>(<span class="number">0</span>, head);</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">fastPtr</span> <span class="operator">=</span> newHead;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">slowPtr</span> <span class="operator">=</span> newHead;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n + <span class="number">1</span>; i++) &#123;</span><br><span class="line">            fastPtr = fastPtr.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (fastPtr != <span class="literal">null</span>) &#123;</span><br><span class="line">            slowPtr = slowPtr.next;</span><br><span class="line">            fastPtr = fastPtr.next;</span><br><span class="line">        &#125;</span><br><span class="line">        slowPtr.next = slowPtr.next.next;</span><br><span class="line">        <span class="keyword">return</span> newHead.next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦: O(N)</li>
<li>ç©ºé—´å¤æ‚åº¦: O(1)</li>
</ul>
<h5 id="æ–¹æ³•äºŒï¼šé€’å½’-1"><a href="#æ–¹æ³•äºŒï¼šé€’å½’-1" class="headerlink" title="æ–¹æ³•äºŒï¼šé€’å½’"></a>æ–¹æ³•äºŒï¼šé€’å½’</h5><p>å…ˆé€’å½’åˆ°é“¾è¡¨å°¾éƒ¨ï¼Œä»åå¾€å‰å›æº¯ï¼Œé‡åˆ°å€’æ•°ç¬¬ n ä¸ªèŠ‚ç‚¹ï¼Œè¿”å›ä»–çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œè¿™æ ·å°±å¿½ç•¥äº†èŠ‚ç‚¹æœ¬èº«ï¼Œå®Œæˆåˆ é™¤ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">cur</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">public</span> ListNode <span class="title function_">removeNthFromEnd</span><span class="params">(ListNode head, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (head == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        head.next = removeNthFromEnd(head.next, n);</span><br><span class="line">        cur++; <span class="comment">// å›æº¯çš„è¿‡ç¨‹ä¸­++ï¼Œå°±æ˜¯å€’æ•°ç¬¬nä¸ªèŠ‚ç‚¹</span></span><br><span class="line">        <span class="keyword">if</span> (cur == n) &#123;</span><br><span class="line">            <span class="keyword">return</span> head.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦: O(N)</li>
<li>ç©ºé—´å¤æ‚åº¦: O(N)</li>
</ul>
<h4 id="12ã€LC148-æ’åºé“¾è¡¨"><a href="#12ã€LC148-æ’åºé“¾è¡¨" class="headerlink" title="12ã€LC148. æ’åºé“¾è¡¨"></a>12ã€LC148. æ’åºé“¾è¡¨</h4><p>ç»™ä½ é“¾è¡¨çš„å¤´ç»“ç‚¹ <code>head</code> ï¼Œè¯·å°†å…¶æŒ‰ <strong>å‡åº</strong> æ’åˆ—å¹¶è¿”å› <strong>æ’åºåçš„é“¾è¡¨</strong> ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/sort_list_1.jpg" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šhead = [4,2,1,3]</span><br><span class="line">è¾“å‡ºï¼š[1,2,3,4]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/sort_list_2.jpg" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šhead = [-1,5,3,4,0]</span><br><span class="line">è¾“å‡ºï¼š[-1,0,3,4,5]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šhead = []</span><br><span class="line">è¾“å‡ºï¼š[]</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li>é“¾è¡¨ä¸­èŠ‚ç‚¹çš„æ•°ç›®åœ¨èŒƒå›´ <code>[0, 5 * 104]</code> å†…</li>
<li><code>-105 &lt;= Node.val &lt;= 105</code></li>
</ul>
<p><strong>è¿›é˜¶ï¼š</strong>ä½ å¯ä»¥åœ¨ <code>O(n log n)</code> æ—¶é—´å¤æ‚åº¦å’Œå¸¸æ•°çº§ç©ºé—´å¤æ‚åº¦ä¸‹ï¼Œå¯¹é“¾è¡¨è¿›è¡Œæ’åºå—ï¼Ÿ</p>
<p>Related Topics</p>
<p>é“¾è¡¨</p>
<p>åŒæŒ‡é’ˆ</p>
<p>åˆ†æ²»</p>
<p>æ’åº</p>
<p>å½’å¹¶æ’åº</p>
<p>ğŸ‘ 1891</p>
<p>ğŸ‘ 0</p>
<h5 id="è§£æ³•ä¸€ï¼šå½’å¹¶æ’åºï¼ˆé€’å½’æ³•ï¼‰"><a href="#è§£æ³•ä¸€ï¼šå½’å¹¶æ’åºï¼ˆé€’å½’æ³•ï¼‰" class="headerlink" title="è§£æ³•ä¸€ï¼šå½’å¹¶æ’åºï¼ˆé€’å½’æ³•ï¼‰"></a>è§£æ³•ä¸€ï¼šå½’å¹¶æ’åºï¼ˆé€’å½’æ³•ï¼‰</h5><ul>
<li><p>é¢˜ç›®è¦æ±‚æ—¶é—´ç©ºé—´å¤æ‚åº¦åˆ†åˆ«ä¸º O*(*n<strong>l</strong>o<strong>g</strong>n) å’Œ <em>O</em>(1)ï¼Œæ ¹æ®æ—¶é—´å¤æ‚åº¦æˆ‘ä»¬è‡ªç„¶æƒ³åˆ°äºŒåˆ†æ³•ï¼Œä»è€Œè”æƒ³åˆ°å½’å¹¶æ’åºï¼›</p>
</li>
<li><p>å¯¹æ•°ç»„åšå½’å¹¶æ’åºçš„ç©ºé—´å¤æ‚åº¦ä¸º O*(<em>n</em>)ï¼Œåˆ†åˆ«ç”±æ–°å¼€è¾Ÿæ•°ç»„ <em>O</em>(<em>n</em>) å’Œé€’å½’å‡½æ•°è°ƒç”¨ O*(<em>l<strong>o</strong>g</em>n*) ç»„æˆï¼Œè€Œæ ¹æ®é“¾è¡¨ç‰¹æ€§ï¼š</p>
<ul>
<li>æ•°ç»„é¢å¤–ç©ºé—´ï¼šé“¾è¡¨å¯ä»¥é€šè¿‡ä¿®æ”¹å¼•ç”¨æ¥æ›´æ”¹èŠ‚ç‚¹é¡ºåºï¼Œæ— éœ€åƒæ•°ç»„ä¸€æ ·å¼€è¾Ÿé¢å¤–ç©ºé—´ï¼›</li>
<li>é€’å½’é¢å¤–ç©ºé—´ï¼šé€’å½’è°ƒç”¨å‡½æ•°å°†å¸¦æ¥ O*(<em>l<strong>o</strong>g</em>n*) çš„ç©ºé—´å¤æ‚åº¦ï¼Œå› æ­¤è‹¥å¸Œæœ›è¾¾åˆ° O(1) ç©ºé—´å¤æ‚åº¦ï¼Œåˆ™ä¸èƒ½ä½¿ç”¨é€’å½’ã€‚</li>
</ul>
</li>
<li><p>é€šè¿‡é€’å½’å®ç°é“¾è¡¨å½’å¹¶æ’åºï¼Œæœ‰ä»¥ä¸‹ä¸¤ä¸ªç¯èŠ‚ï¼š</p>
<ul>
<li><p>åˆ†å‰² cut ç¯èŠ‚ï¼šæ‰¾åˆ°å½“å‰é“¾è¡¨ ä¸­ç‚¹ ï¼Œå¹¶ä» ä¸­ç‚¹å°†é“¾è¡¨æ–­å¼€ï¼ˆä»¥ä¾¿åœ¨ä¸‹æ¬¡é€’å½’ cut æ—¶ï¼Œé“¾è¡¨ç‰‡æ®µæ‹¥æœ‰æ­£ç¡®è¾¹ç•Œï¼‰ï¼›</p>
<ul>
<li>æˆ‘ä»¬ä½¿ç”¨ <code>fast,slow</code> å¿«æ…¢åŒæŒ‡é’ˆæ³•ï¼Œå¥‡æ•°ä¸ªèŠ‚ç‚¹æ‰¾åˆ°ä¸­ç‚¹ï¼Œå¶æ•°ä¸ªèŠ‚ç‚¹æ‰¾åˆ°ä¸­å¿ƒå·¦è¾¹çš„èŠ‚ç‚¹ã€‚</li>
<li>æ‰¾åˆ°ä¸­ç‚¹ <code>slow</code> åï¼Œæ‰§è¡Œ <code>slow.next = None</code> å°†é“¾è¡¨åˆ‡æ–­ã€‚</li>
<li>é€’å½’åˆ†å‰²æ—¶ï¼Œè¾“å…¥å½“å‰é“¾è¡¨å·¦ç«¯ç‚¹ <code>head</code> å’Œä¸­å¿ƒèŠ‚ç‚¹ <code>slow</code> çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ <code>tmp</code>(å› ä¸ºé“¾è¡¨æ˜¯ä» <code>slow</code> åˆ‡æ–­çš„)ã€‚</li>
<li><strong>cut é€’å½’ç»ˆæ­¢æ¡ä»¶ï¼š</strong> å½“ <code>head.next == None</code> æ—¶ï¼Œè¯´æ˜åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹äº†ï¼Œç›´æ¥è¿”å›æ­¤èŠ‚ç‚¹ã€‚</li>
</ul>
</li>
<li><p>åˆå¹¶ merge ç¯èŠ‚ï¼š</p>
<p> å°†ä¸¤ä¸ªæ’åºé“¾è¡¨åˆå¹¶ï¼Œè½¬åŒ–ä¸ºä¸€ä¸ªæ’åºé“¾è¡¨ã€‚</p>
<ul>
<li>åŒæŒ‡é’ˆæ³•åˆå¹¶ï¼Œå»ºç«‹è¾…åŠ© ListNode <code>h</code> ä½œä¸ºå¤´éƒ¨ã€‚</li>
<li>è®¾ç½®ä¸¤æŒ‡é’ˆ <code>left</code>, <code>right</code> åˆ†åˆ«æŒ‡å‘ä¸¤é“¾è¡¨å¤´éƒ¨ï¼Œæ¯”è¾ƒä¸¤æŒ‡é’ˆå¤„èŠ‚ç‚¹å€¼å¤§å°ï¼Œç”±å°åˆ°å¤§åŠ å…¥åˆå¹¶é“¾è¡¨å¤´éƒ¨ï¼ŒæŒ‡é’ˆäº¤æ›¿å‰è¿›ï¼Œç›´è‡³æ·»åŠ å®Œä¸¤ä¸ªé“¾è¡¨ã€‚</li>
<li>è¿”å›è¾…åŠ©ListNode <code>h</code> ä½œä¸ºå¤´éƒ¨çš„ä¸‹ä¸ªèŠ‚ç‚¹ <code>h.next</code>ã€‚</li>
<li>æ—¶é—´å¤æ‚åº¦ <code>O(l + r)</code>ï¼Œ<code>l, r</code> åˆ†åˆ«ä»£è¡¨ä¸¤ä¸ªé“¾è¡¨é•¿åº¦ã€‚</li>
</ul>
</li>
<li><p>å½“é¢˜ç›®è¾“å…¥çš„ <code>head == None</code> æ—¶ï¼Œç›´æ¥è¿”å› Noneã€‚</p>
</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> ListNode <span class="title function_">sortList</span><span class="params">(ListNode head)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (head == <span class="literal">null</span> || head.next == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> head;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ‰¾ä¸­ç‚¹</span></span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">fast</span> <span class="operator">=</span> head.next, slow = head;</span><br><span class="line">        <span class="keyword">while</span> (fast != <span class="literal">null</span> &amp;&amp; fast.next != <span class="literal">null</span>) &#123;</span><br><span class="line">            slow = slow.next;</span><br><span class="line">            fast = fast.next.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">tmp</span> <span class="operator">=</span> slow.next;</span><br><span class="line">        slow.next = <span class="literal">null</span>; <span class="comment">// åˆ‡æ–­é“¾è¡¨</span></span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">left</span> <span class="operator">=</span> sortList(head);</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">right</span> <span class="operator">=</span> sortList(tmp);</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">h</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ListNode</span>(<span class="number">0</span>);</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">res</span> <span class="operator">=</span> h;</span><br><span class="line">        <span class="comment">// åŒæŒ‡é’ˆï¼Œåˆå¹¶æœ‰åºé“¾è¡¨</span></span><br><span class="line">        <span class="keyword">while</span> (left != <span class="literal">null</span> &amp;&amp; right != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (left.val &lt; right.val) &#123;</span><br><span class="line">                h.next = left;</span><br><span class="line">                left = left.next;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                h.next = right;</span><br><span class="line">                right = right.next;</span><br><span class="line">            &#125;</span><br><span class="line">            h = h.next;</span><br><span class="line">        &#125;</span><br><span class="line">        h.next = left != <span class="literal">null</span> ? left : right; <span class="comment">// æ‹¼æ¥ååºé“¾è¡¨</span></span><br><span class="line">        <span class="keyword">return</span> res.next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong></p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼šO*(<em>n</em>log<em>n</em>)ï¼Œå…¶ä¸­ n* æ˜¯é“¾è¡¨çš„é•¿åº¦ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼šO*(log*n)ï¼Œå…¶ä¸­ n æ˜¯é“¾è¡¨çš„é•¿åº¦ã€‚ç©ºé—´å¤æ‚åº¦ä¸»è¦å–å†³äºé€’å½’è°ƒç”¨çš„æ ˆç©ºé—´ã€‚</li>
</ul>
<h5 id="æ–¹æ³•äºŒï¼šè‡ªåº•å‘ä¸Šå½’å¹¶æ’åº"><a href="#æ–¹æ³•äºŒï¼šè‡ªåº•å‘ä¸Šå½’å¹¶æ’åº" class="headerlink" title="æ–¹æ³•äºŒï¼šè‡ªåº•å‘ä¸Šå½’å¹¶æ’åº"></a>æ–¹æ³•äºŒï¼šè‡ªåº•å‘ä¸Šå½’å¹¶æ’åº</h5><p>ä½¿ç”¨è‡ªåº•å‘ä¸Šçš„æ–¹æ³•å®ç°å½’å¹¶æ’åºï¼Œåˆ™å¯ä»¥è¾¾åˆ° O(1) çš„ç©ºé—´å¤æ‚åº¦ã€‚</p>
<p>é¦–å…ˆæ±‚å¾—é“¾è¡¨çš„é•¿åº¦ lengthï¼Œç„¶åå°†é“¾è¡¨æ‹†åˆ†æˆå­é“¾è¡¨è¿›è¡Œåˆå¹¶ã€‚</p>
<p>å…·ä½“åšæ³•å¦‚ä¸‹ã€‚</p>
<ol>
<li>ç”¨ subLength è¡¨ç¤ºæ¯æ¬¡éœ€è¦æ’åºçš„å­é“¾è¡¨çš„é•¿åº¦ï¼Œåˆå§‹æ—¶ subLength &#x3D; 1ã€‚</li>
<li>æ¯æ¬¡å°†é“¾è¡¨æ‹†åˆ†æˆè‹¥å¹²ä¸ªé•¿åº¦ä¸º subLength çš„å­é“¾è¡¨ï¼ˆæœ€åä¸€ä¸ªå­é“¾è¡¨çš„é•¿åº¦å¯ä»¥å°äº subLengthï¼‰ï¼ŒæŒ‰ç…§æ¯ä¸¤ä¸ªå­é“¾è¡¨ä¸€ç»„è¿›è¡Œåˆå¹¶ï¼Œåˆå¹¶åå³å¯å¾—åˆ°è‹¥å¹²ä¸ªé•¿åº¦ä¸º subLengthÃ—2 çš„æœ‰åºå­é“¾è¡¨ï¼ˆæœ€åä¸€ä¸ªå­é“¾è¡¨çš„é•¿åº¦å¯ä»¥å°äº subLengthÃ—2ï¼‰ã€‚åˆå¹¶ä¸¤ä¸ªå­é“¾è¡¨ä»ç„¶ä½¿ç”¨ã€Œ<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/merge-two-sorted-lists/">21. åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨</a>ã€çš„åšæ³•ã€‚</li>
<li>å°† subLength çš„å€¼åŠ å€ï¼Œé‡å¤ç¬¬ 2 æ­¥ï¼Œå¯¹æ›´é•¿çš„æœ‰åºå­é“¾è¡¨è¿›è¡Œåˆå¹¶æ“ä½œï¼Œç›´åˆ°æœ‰åºå­é“¾è¡¨çš„é•¿åº¦å¤§äºæˆ–ç­‰äº lengthï¼Œæ•´ä¸ªé“¾è¡¨æ’åºå®Œæ¯•ã€‚</li>
</ol>
<p>å¦‚ä½•ä¿è¯æ¯æ¬¡åˆå¹¶ä¹‹åå¾—åˆ°çš„å­é“¾è¡¨éƒ½æ˜¯æœ‰åºçš„å‘¢ï¼Ÿå¯ä»¥é€šè¿‡æ•°å­¦å½’çº³æ³•è¯æ˜ã€‚</p>
<ol>
<li>åˆå§‹æ—¶ subLength&#x3D;1ï¼Œæ¯ä¸ªé•¿åº¦ä¸º 1 çš„å­é“¾è¡¨éƒ½æ˜¯æœ‰åºçš„ã€‚</li>
<li>å¦‚æœæ¯ä¸ªé•¿åº¦ä¸º subLength çš„å­é“¾è¡¨å·²ç»æœ‰åºï¼Œåˆå¹¶ä¸¤ä¸ªé•¿åº¦ä¸º subLength çš„æœ‰åºå­é“¾è¡¨ï¼Œå¾—åˆ°é•¿åº¦ä¸º subLengthÃ—2 çš„å­é“¾è¡¨ï¼Œä¸€å®šä¹Ÿæ˜¯æœ‰åºçš„ã€‚</li>
<li>å½“æœ€åä¸€ä¸ªå­é“¾è¡¨çš„é•¿åº¦å°äº subLength æ—¶ï¼Œè¯¥å­é“¾è¡¨ä¹Ÿæ˜¯æœ‰åºçš„ï¼Œåˆå¹¶ä¸¤ä¸ªæœ‰åºå­é“¾è¡¨ä¹‹åå¾—åˆ°çš„å­é“¾è¡¨ä¸€å®šä¹Ÿæ˜¯æœ‰åºçš„ã€‚</li>
</ol>
<p>å› æ­¤å¯ä»¥ä¿è¯æœ€åå¾—åˆ°çš„é“¾è¡¨æ˜¯æœ‰åºçš„ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> ListNode <span class="title function_">sortList</span><span class="params">(ListNode head)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (head == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> head;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">length</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">node</span> <span class="operator">=</span> head;</span><br><span class="line">        <span class="keyword">while</span> (node != <span class="literal">null</span>) &#123;</span><br><span class="line">            length++;</span><br><span class="line">            node = node.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">dummyHead</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ListNode</span>(<span class="number">0</span>, head);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">subLength</span> <span class="operator">=</span> <span class="number">1</span>; subLength &lt; length; subLength &lt;&lt; = <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="type">ListNode</span> <span class="variable">prev</span> <span class="operator">=</span> dummyHead, curr = dummyHead.next;</span><br><span class="line">            <span class="keyword">while</span> (curr != <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="type">ListNode</span> <span class="variable">head1</span> <span class="operator">=</span> curr;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; subLength &amp;&amp; curr.next != <span class="literal">null</span>; i++) &#123;</span><br><span class="line">                    curr = curr.next;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="type">ListNode</span> <span class="variable">head2</span> <span class="operator">=</span> curr.next;</span><br><span class="line">                curr.next = <span class="literal">null</span>;</span><br><span class="line">                curr = head2;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; subLength &amp;&amp; curr != <span class="literal">null</span> &amp;&amp; curr.next != <span class="literal">null</span>; i++) &#123;</span><br><span class="line">                    curr = curr.next;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="type">ListNode</span> <span class="variable">next</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">                <span class="keyword">if</span> (curr != <span class="literal">null</span>) &#123;</span><br><span class="line">                    next = curr.next;</span><br><span class="line">                    curr.next = <span class="literal">null</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="type">ListNode</span> <span class="variable">merged</span> <span class="operator">=</span> merge(head1, head2);</span><br><span class="line">                prev.next = merged;</span><br><span class="line">                <span class="keyword">while</span> (prev.next != <span class="literal">null</span>) &#123;</span><br><span class="line">                    prev = prev.next;</span><br><span class="line">                &#125;</span><br><span class="line">                curr = next;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dummyHead.next;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> ListNode <span class="title function_">merge</span><span class="params">(ListNode head1, ListNode head2)</span> &#123;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">dummyHead</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ListNode</span>(<span class="number">0</span>);</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">temp</span> <span class="operator">=</span> dummyHead, temp1 = head1, temp2 = head2;</span><br><span class="line">        <span class="keyword">while</span> (temp1 != <span class="literal">null</span> &amp;&amp; temp2 != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (temp1.val &lt;= temp2.val) &#123;</span><br><span class="line">                temp.next = temp1;</span><br><span class="line">                temp1 = temp1.next;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                temp.next = temp2;</span><br><span class="line">                temp2 = temp2.next;</span><br><span class="line">            &#125;</span><br><span class="line">            temp = temp.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (temp1 != <span class="literal">null</span>) &#123;</span><br><span class="line">            temp.next = temp1;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (temp2 != <span class="literal">null</span>) &#123;</span><br><span class="line">            temp.next = temp2;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dummyHead.next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h5 id="æ–¹æ³•ä¸‰ï¼šå¿«æ’"><a href="#æ–¹æ³•ä¸‰ï¼šå¿«æ’" class="headerlink" title="æ–¹æ³•ä¸‰ï¼šå¿«æ’"></a>æ–¹æ³•ä¸‰ï¼šå¿«æ’</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> ListNode <span class="title function_">sortList</span><span class="params">(ListNode head)</span> &#123;</span><br><span class="line">        <span class="comment">//è¾¹ç•Œ</span></span><br><span class="line">        <span class="keyword">if</span>(head==<span class="literal">null</span>||head.next==<span class="literal">null</span>) <span class="keyword">return</span> head;</span><br><span class="line">        <span class="comment">//ä¼ªå¤´ç»“ç‚¹</span></span><br><span class="line">        ListNode pre=<span class="keyword">new</span> <span class="title class_">ListNode</span>(<span class="number">0</span>,head);</span><br><span class="line">        <span class="comment">//å¿«æ’</span></span><br><span class="line">        quickSort(pre,<span class="literal">null</span>);</span><br><span class="line">        <span class="comment">//è¿”å›å¤´ç»“ç‚¹</span></span><br><span class="line">        <span class="keyword">return</span> pre.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//è¾“å…¥æ—¶ä¼ªå¤´ç»“ç‚¹å’Œå°¾èŠ‚ç‚¹null</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">quickSort</span><span class="params">(ListNode pre,ListNode end)</span>&#123;</span><br><span class="line">        <span class="comment">//å¦‚æœèŠ‚ç‚¹æ•°å°äº1å°±è¿”å›</span></span><br><span class="line">        <span class="keyword">if</span>(pre==end||pre.next==end||pre.next.next==end) <span class="keyword">return</span>;</span><br><span class="line">        <span class="comment">//é€‰ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ä¸ºåŸºå‡†</span></span><br><span class="line">        ListNode b=pre.next;</span><br><span class="line">        <span class="comment">//å»ºç«‹ä¸´æ—¶é“¾è¡¨</span></span><br><span class="line">        ListNode cur=<span class="keyword">new</span> <span class="title class_">ListNode</span>(<span class="number">0</span>);</span><br><span class="line">        <span class="comment">//ä¸´æ—¶å·¦å³ä¸¤æŒ‡é’ˆ</span></span><br><span class="line">        ListNode r=b,l=cur;</span><br><span class="line">        <span class="comment">//éå†ï¼Œå³æŒ‡é’ˆä¸‹ä¸€èŠ‚ç‚¹ä¸ºendï¼Œè¯´æ˜å½“å‰æ˜¯æœ€åä¸€ä¸ªå…ƒç´ ï¼Œç»“æŸ</span></span><br><span class="line">        <span class="keyword">while</span>(r.next!=end)&#123;</span><br><span class="line">            <span class="comment">//å¦‚æœå½“å‰å…ƒç´ å°äºåŸºå‡†ï¼Œå°±åŠ å…¥ä¸´æ—¶é“¾è¡¨ï¼Œå¹¶åœ¨åŸé“¾è¡¨ä¸­åˆ é™¤</span></span><br><span class="line">            <span class="keyword">if</span>(r.next.val&lt;b.val)&#123;</span><br><span class="line">                l.next=r.next;</span><br><span class="line">                l=l.next;</span><br><span class="line">                r.next=r.next.next;</span><br><span class="line">            &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="comment">//ä¸å°äºåŸºå‡†ï¼Œå³æŒ‡é’ˆåç§»</span></span><br><span class="line">                r=r.next;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//ä¸´æ—¶é“¾è¡¨æ¥åœ¨åŸé“¾è¡¨å‰é¢ï¼Œå¹¶æŠŠä¼ªå¤´ç»“ç‚¹æŒ‡å‘ä¸´æ—¶èŠ‚ç‚¹å¤´ç»“ç‚¹</span></span><br><span class="line">        l.next=pre.next;</span><br><span class="line">        pre.next=cur.next;</span><br><span class="line">        <span class="comment">//å¯¹åŸºå‡†çš„å·¦å³ä¸¤è¾¹é€’å½’ï¼Œæ³¨æ„è¾“å…¥éƒ½æ˜¯ä¼ªå¤´ç»“ç‚¹å’Œä¸¤é“¾è¡¨çš„å°¾èŠ‚ç‚¹çš„ä¸‹ä¸€èŠ‚ç‚¹</span></span><br><span class="line">        quickSort(pre,b);</span><br><span class="line">        quickSort(b,end);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="13ã€LC82-åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´ -II"><a href="#13ã€LC82-åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´ -II" class="headerlink" title="13ã€LC82. åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´  II"></a>13ã€LC82. åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´  II</h4><p>ç»™å®šä¸€ä¸ªå·²æ’åºçš„é“¾è¡¨çš„å¤´ <code>head</code> ï¼Œ <em>åˆ é™¤åŸå§‹é“¾è¡¨ä¸­æ‰€æœ‰é‡å¤æ•°å­—çš„èŠ‚ç‚¹ï¼Œåªç•™ä¸‹ä¸åŒçš„æ•°å­—</em> ã€‚è¿”å› <em>å·²æ’åºçš„é“¾è¡¨</em> ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/linkedlist1.jpg" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šhead = [1,2,3,3,4,4,5]</span><br><span class="line">è¾“å‡ºï¼š[1,2,5]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/linkedlist2.jpg" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šhead = [1,1,1,2,3]</span><br><span class="line">è¾“å‡ºï¼š[2,3]</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li>é“¾è¡¨ä¸­èŠ‚ç‚¹æ•°ç›®åœ¨èŒƒå›´ <code>[0, 300]</code> å†…</li>
<li><code>-100 &lt;= Node.val &lt;= 100</code></li>
<li>é¢˜ç›®æ•°æ®ä¿è¯é“¾è¡¨å·²ç»æŒ‰å‡åº <strong>æ’åˆ—</strong></li>
</ul>
<p>Related Topics</p>
<p>é“¾è¡¨</p>
<p>åŒæŒ‡é’ˆ</p>
<p>ğŸ‘ 1057</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong></p>
<p>é¢˜æ„ï¼šåœ¨ä¸€ä¸ª<strong>æœ‰åº</strong>é“¾è¡¨ä¸­ï¼Œå¦‚æœä¸€ä¸ªèŠ‚ç‚¹çš„å€¼å‡ºç°ä¸æ­¢ä¸€æ¬¡ï¼Œé‚£ä¹ˆæŠŠæ‰€æœ‰ç­‰äºæ­¤å€¼çš„èŠ‚ç‚¹åˆ é™¤æ‰ã€‚</p>
<p>é‡ç‚¹ï¼š<strong>æœ‰åºé“¾è¡¨</strong>ï¼Œæ‰€ä»¥ï¼Œä¸€ä¸ªèŠ‚ç‚¹çš„å€¼å‡ºç°ä¸æ­¢ä¸€æ¬¡ï¼Œé‚£ä¹ˆå®ƒä»¬å¿…ç›¸é‚»ã€‚</p>
<p>ä¸‹é¢ä½¿ç”¨ä¸¤ç§æ–¹æ³• ï¼šé€’å½’ï¼Œè¿­ä»£ã€‚å…¶ä¸­è¿­ä»£åˆåˆ†ä¸ºä¸¤ç§æ–¹æ³•ã€‚</p>
<h5 id="æ–¹æ³•ä¸€ï¼šé€’å½’"><a href="#æ–¹æ³•ä¸€ï¼šé€’å½’" class="headerlink" title="æ–¹æ³•ä¸€ï¼šé€’å½’"></a>æ–¹æ³•ä¸€ï¼šé€’å½’</h5><p>é“¾è¡¨å’Œæ ‘çš„é—®é¢˜ï¼Œä¸€èˆ¬éƒ½å¯ä»¥æœ‰é€’å½’å’Œè¿­ä»£ä¸¤ç§å†™æ³•ã€‚å¯¹äºæœ¬é¢˜ä¸€å®šè®°ä½æ˜¯æœ‰åºé“¾è¡¨ï¼Œå€¼ç›¸åŒçš„èŠ‚ç‚¹ä¼šåœ¨ä¸€èµ·ã€‚</p>
<p>1.1 <strong>é€’å½’å‡½æ•°å®šä¹‰</strong></p>
<p><strong>é€’å½’æœ€åŸºæœ¬çš„æ˜¯è¦æ˜ç™½é€’å½’å‡½æ•°çš„å®šä¹‰ï¼</strong> æˆ‘åå¤å¼ºè°ƒè¿‡è¿™ä¸€ç‚¹ã€‚</p>
<p>é€’å½’å‡½æ•°ç›´æ¥ä½¿ç”¨é¢˜ç›®ç»™å‡ºçš„å‡½æ•° <code>deleteDuplicates(head)</code> ï¼Œå®ƒçš„å«ä¹‰æ˜¯ åˆ é™¤ä»¥ <code>head</code> ä½œä¸ºå¼€å¤´çš„æœ‰åºé“¾è¡¨ä¸­ï¼Œå€¼å‡ºç°é‡å¤çš„èŠ‚ç‚¹ã€‚</p>
<p>1.2 <strong>é€’å½’ç»ˆæ­¢æ¡ä»¶</strong></p>
<p>ç»ˆæ­¢æ¡ä»¶å°±æ˜¯èƒ½æƒ³åˆ°çš„åŸºæœ¬çš„ã€ä¸ç”¨ç»§ç»­é€’å½’å¤„ç†çš„caseã€‚</p>
<ul>
<li>å¦‚æœ <code>head</code> ä¸ºç©ºï¼Œé‚£ä¹ˆè‚¯å®šæ²¡æœ‰å€¼å‡ºç°é‡å¤çš„èŠ‚ç‚¹ï¼Œç›´æ¥è¿”å› headï¼›</li>
<li>å¦‚æœ <code>head.next</code> ä¸ºç©ºï¼Œé‚£ä¹ˆè¯´æ˜é“¾è¡¨ä¸­åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä¹Ÿæ²¡æœ‰å€¼å‡ºç°é‡å¤çš„èŠ‚ç‚¹ï¼Œä¹Ÿç›´æ¥è¿”å› headã€‚</li>
</ul>
<p>1.3 <strong>é€’å½’è°ƒç”¨</strong></p>
<p>ä»€ä¹ˆæ—¶å€™éœ€è¦é€’å½’å‘¢ï¼Ÿæˆ‘ä»¬æƒ³ä¸€ä¸‹è¿™ä¸¤ç§æƒ…å†µï¼š</p>
<ul>
<li>å¦‚æœ <code>head.val != head.next.val</code> ï¼Œè¯´æ˜å¤´èŠ‚ç‚¹çš„å€¼<strong>ä¸ç­‰äº</strong>ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„å€¼ï¼Œæ‰€ä»¥å½“å‰çš„ <code>head</code> èŠ‚ç‚¹å¿…é¡»ä¿ç•™ï¼›ä½†æ˜¯ head.next èŠ‚ç‚¹è¦ä¸è¦ä¿ç•™å‘¢ï¼Ÿæˆ‘ä»¬è¿˜ä¸çŸ¥é“ï¼Œéœ€è¦å¯¹ <code>head.next</code> è¿›è¡Œé€’å½’ï¼Œå³å¯¹ <code>head.next</code> ä½œä¸ºå¤´èŠ‚ç‚¹çš„é“¾è¡¨ï¼Œå»é™¤å€¼é‡å¤çš„èŠ‚ç‚¹ã€‚æ‰€ä»¥ <code>head.next = self.deleteDuplicates(head.next)</code>.</li>
<li>å¦‚æœ <code>head.val == head.next.val</code> ï¼Œè¯´æ˜å¤´èŠ‚ç‚¹çš„å€¼<strong>ç­‰äº</strong>ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„å€¼ï¼Œæ‰€ä»¥å½“å‰çš„ <code>head</code> èŠ‚ç‚¹å¿…é¡»åˆ é™¤ï¼Œå¹¶ä¸” <code>head</code> ä¹‹åæ‰€æœ‰ä¸ <code>head.val</code> ç›¸ç­‰çš„èŠ‚ç‚¹ä¹Ÿéƒ½éœ€è¦åˆ é™¤ï¼›åˆ é™¤åˆ°å“ªä¸ªèŠ‚ç‚¹ä¸ºæ­¢å‘¢ï¼Ÿéœ€è¦ç”¨ <code>move</code> æŒ‡é’ˆä¸€ç›´å‘åéå†å¯»æ‰¾åˆ°ä¸ <code>head.val</code> ä¸ç­‰çš„èŠ‚ç‚¹ã€‚æ­¤æ—¶ <code>move</code> ä¹‹å‰çš„èŠ‚ç‚¹éƒ½ä¸ä¿ç•™äº†ï¼Œå› æ­¤è¿”å› <code>deleteDuplicates(move);</code></li>
</ul>
<p>1.4 <strong>è¿”å›ç»“æœ</strong></p>
<p>é¢˜ç›®è®©æˆ‘ä»¬è¿”å›åˆ é™¤äº†å€¼é‡å¤çš„èŠ‚ç‚¹åå‰©ä½™çš„é“¾è¡¨ï¼Œç»“åˆä¸Šé¢ä¸¤ç§é€’å½’è°ƒç”¨çš„æƒ…å†µã€‚</p>
<ul>
<li>å¦‚æœ <code>head.val != head.next.val</code> ï¼Œå¤´ç»“ç‚¹éœ€è¦ä¿ç•™ï¼Œå› æ­¤è¿”å›çš„æ˜¯ <code>head</code>ï¼›</li>
<li>å¦‚æœ <code>head.val == head.next.val</code> ï¼Œå¤´ç»“ç‚¹éœ€è¦åˆ é™¤ï¼Œéœ€è¦è¿”å›çš„æ˜¯<code>deleteDuplicates(move);</code>ã€‚</li>
</ul>
<p>å¯¹é“¾è¡¨ <code>1 -&gt; 2 -&gt; 2 -&gt; 3</code> é€’å½’çš„è¿‡ç¨‹å¦‚ä¸‹ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1616650335-dUWxLB-82.001.jpeg" alt="82.001.jpeg"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é€’å½’</span></span><br><span class="line"><span class="keyword">public</span> ListNode <span class="title function_">deleteDuplicates</span><span class="params">(ListNode head)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (head == <span class="literal">null</span> || head.next == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (head.val != head.next.val) &#123;</span><br><span class="line">        head.next = deleteDuplicates(head.next);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">cur</span> <span class="operator">=</span> head.next;</span><br><span class="line">        <span class="keyword">while</span> (cur != <span class="literal">null</span> &amp;&amp; cur.val == head.val) &#123;</span><br><span class="line">            cur = cur.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> deleteDuplicates(cur);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> head;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼šO*(*N)ï¼Œæ¯ä¸ªèŠ‚ç‚¹è®¿é—®äº†ä¸€æ¬¡ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼šO*(<em>N</em>)ï¼Œé€’å½’è°ƒç”¨çš„æ—¶å€™ä¼šç”¨åˆ°äº†ç³»ç»Ÿçš„æ ˆã€‚</li>
</ul>
<p><strong>è¿­ä»£</strong></p>
<p>è¿­ä»£æ³•ï¼Œæˆ‘å†™äº†ä¸¤ç§ã€‚ä¸€ä¸ªæ˜¯åˆ©ç”¨æœ‰åºé“¾è¡¨è¿™ä¸ªæ€§è´¨çš„ï¼ŒäºŒæ˜¯ç›´æ¥è®¡æ•°ç»Ÿè®¡å‡ºç°æ¬¡æ•°çš„ã€‚</p>
<h5 id="æ–¹æ³•äºŒï¼šä¸€æ¬¡éå†"><a href="#æ–¹æ³•äºŒï¼šä¸€æ¬¡éå†" class="headerlink" title="æ–¹æ³•äºŒï¼šä¸€æ¬¡éå†"></a>æ–¹æ³•äºŒï¼šä¸€æ¬¡éå†</h5><p>è¿™é‡Œè¯´çš„ä¸€æ¬¡éå†ï¼Œæ˜¯è¯´<strong>ä¸€è¾¹éå†ã€ä¸€è¾¹ç»Ÿè®¡ç›¸é‚»èŠ‚ç‚¹çš„å€¼æ˜¯å¦ç›¸ç­‰ï¼Œå¦‚æœå€¼ç›¸ç­‰å°±ç»§ç»­åç§»æ‰¾åˆ°å€¼ä¸ç­‰çš„ä½ç½®ï¼Œç„¶ååˆ é™¤å€¼ç›¸ç­‰çš„è¿™ä¸ªåŒºé—´</strong>ã€‚</p>
<p>å…¶å®æ€è·¯å¾ˆç®€å•ï¼Œè·Ÿé€’å½’æ–¹æ³•ä¸­çš„ <code>while</code> è¯­å¥è·³è¿‡æ‰€æœ‰å€¼ç›¸ç­‰çš„èŠ‚ç‚¹çš„æ€è·¯æ˜¯ä¸€æ ·çš„ï¼šå¦‚æœ <code>cur.val == cur.next.val</code> è¯´æ˜ä¸¤ä¸ªç›¸é‚»çš„èŠ‚ç‚¹å€¼ç›¸ç­‰ï¼Œæ‰€ä»¥ç»§ç»­åç§»ï¼Œä¸€ç›´æ‰¾åˆ° <code>cur.val != cur.next.val</code> ï¼Œæ­¤æ—¶çš„ <code>cur.next</code> å°±æ˜¯å€¼ä¸ç­‰çš„èŠ‚ç‚¹ã€‚</p>
<ul>
<li>æ¯”å¦‚ï¼š <code>1 -&gt; 2 -&gt; 2 -&gt; 2 -&gt; 3</code>ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ª pre æŒ‡å‘ 1ï¼›å½“ cur æŒ‡å‘ç¬¬ä¸€ä¸ª 2 çš„æ—¶å€™ï¼Œå‘ç° <code>cur.val == cur.next.val</code> ï¼Œæ‰€ä»¥å‡ºç°äº†å€¼é‡å¤çš„èŠ‚ç‚¹å•Šï¼Œæ‰€ä»¥ cur ä¸€ç›´åç§»åˆ°æœ€åä¸€ä¸ª 2 çš„æ—¶å€™ï¼Œå‘ç° <code>cur.val != cur.next.val</code> ï¼Œæ­¤æ—¶ <code>cur.next = 3</code> ï¼Œæ‰€ä»¥ <code>pre.next = cur.next</code> ï¼Œå³è®©1 çš„ next èŠ‚ç‚¹æ˜¯ 3ï¼Œå°±æŠŠä¸­é—´çš„æ‰€æœ‰ 2 éƒ½åˆ é™¤äº†ã€‚</li>
</ul>
<p>ä»£ç ä¸­ç”¨åˆ°äº†ä¸€ä¸ªå¸¸ç”¨çš„æŠ€å·§ï¼š<strong>dummy èŠ‚ç‚¹ï¼Œä¹Ÿå«åš å“‘èŠ‚ç‚¹</strong>ã€‚å®ƒåœ¨é“¾è¡¨çš„è¿­ä»£å†™æ³•ä¸­éå¸¸å¸¸è§ï¼Œå› ä¸ºå¯¹äºæœ¬é¢˜è€Œè¨€ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šåˆ é™¤å¤´ç»“ç‚¹ <code>head</code>ï¼Œä¸ºäº†ç»´æŠ¤ä¸€ä¸ªä¸å˜çš„å¤´èŠ‚ç‚¹ï¼Œæ‰€ä»¥æˆ‘ä»¬æ·»åŠ äº† dummyï¼Œè®©<code>dummy.next = head</code>ï¼Œè¿™æ ·å³ä½¿ head è¢«åˆ äº†ï¼Œé‚£ä¹ˆä¼šæ“ä½œ <code>dummy.next</code> æŒ‡å‘æ–°çš„é“¾è¡¨å¤´éƒ¨ï¼Œæ‰€ä»¥æœ€ç»ˆè¿”å›çš„ä¹Ÿæ˜¯ <code>dummy.next</code>ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¸€æ¬¡éå†</span></span><br><span class="line"><span class="keyword">public</span> ListNode <span class="title function_">deleteDuplicates2</span><span class="params">(ListNode head)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (head == <span class="literal">null</span> || head.next == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">dummy</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ListNode</span>(<span class="number">101</span>);</span><br><span class="line">    dummy.next = head;</span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">pre</span> <span class="operator">=</span> dummy, cur = head;</span><br><span class="line">    <span class="keyword">while</span> (cur != <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">while</span> (cur.next != <span class="literal">null</span> &amp;&amp; cur.val == cur.next.val) &#123;</span><br><span class="line">            cur = cur.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (pre.next == cur) &#123;</span><br><span class="line">            <span class="comment">// preå’Œcurä¹‹é—´æ²¡æœ‰é‡å¤èŠ‚ç‚¹ï¼Œpreåç§»</span></span><br><span class="line">            pre = pre.next;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// pre.nextæŒ‡å‘curçš„ä¸‹ä¸€ä¸ªä½ç½®ï¼ˆç›¸å½“äºè·³è¿‡äº†å½“å‰çš„é‡å¤å…ƒç´ ï¼‰</span></span><br><span class="line">            <span class="comment">// ä½†æ˜¯preä¸ç§»åŠ¨ï¼Œä»ç„¶æŒ‡å‘å·²ç»éå†çš„é“¾è¡¨ç»“å°¾</span></span><br><span class="line">            pre.next = cur.next;</span><br><span class="line">        &#125;</span><br><span class="line">        cur = cur.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dummy.next;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼šO*(*N)ï¼Œå¯¹é“¾è¡¨æ¯ä¸ªèŠ‚ç‚¹éå†äº†ä¸€æ¬¡ï¼›</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼šO(1)ï¼Œåªä½¿ç”¨äº†å¸¸é‡çš„ç©ºé—´ã€‚</li>
</ul>
<h5 id="æ–¹æ³•ä¸‰ï¼šåˆ©ç”¨è®¡æ•°ï¼Œä¸¤æ¬¡éå†"><a href="#æ–¹æ³•ä¸‰ï¼šåˆ©ç”¨è®¡æ•°ï¼Œä¸¤æ¬¡éå†" class="headerlink" title="æ–¹æ³•ä¸‰ï¼šåˆ©ç”¨è®¡æ•°ï¼Œä¸¤æ¬¡éå†"></a>æ–¹æ³•ä¸‰ï¼šåˆ©ç”¨è®¡æ•°ï¼Œä¸¤æ¬¡éå†</h5><p>è¿™ä¸ªåšæ³•å¿½ç•¥äº†é“¾è¡¨æœ‰åºè¿™ä¸ªæ€§è´¨ï¼Œä½¿ç”¨äº†ä¸¤æ¬¡éå†ï¼Œç¬¬ä¸€æ¬¡éå†ç»Ÿè®¡æ¯ä¸ªèŠ‚ç‚¹çš„å€¼å‡ºç°çš„æ¬¡æ•°ï¼Œç¬¬äºŒæ¬¡éå†çš„æ—¶å€™ï¼Œå¦‚æœå‘ç° <code>head.next</code> çš„ val å‡ºç°æ¬¡æ•°ä¸æ˜¯ 1 æ¬¡ï¼Œåˆ™éœ€è¦åˆ é™¤ head.nextã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¿½ç•¥æœ‰åºæ€§ï¼ŒäºŒæ¬¡éå†</span></span><br><span class="line"><span class="keyword">public</span> ListNode <span class="title function_">deleteDuplicates3</span><span class="params">(ListNode head)</span> &#123;</span><br><span class="line">    Map&lt;Integer, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">dummy</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ListNode</span>(<span class="number">101</span>);</span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">cur</span> <span class="operator">=</span> head;</span><br><span class="line">    <span class="keyword">while</span> (cur != <span class="literal">null</span>) &#123; <span class="comment">// ç»Ÿè®¡èŠ‚ç‚¹å‡ºç°çš„æ¬¡æ•°</span></span><br><span class="line">        map.put(cur.val, map.getOrDefault(cur.val, <span class="number">0</span>) + <span class="number">1</span>);</span><br><span class="line">        cur = cur.next;</span><br><span class="line">    &#125;</span><br><span class="line">    cur = head;</span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">pre</span> <span class="operator">=</span> dummy;</span><br><span class="line">    <span class="keyword">while</span> (cur != <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (map.get(cur.val) == <span class="number">1</span>) &#123; <span class="comment">// èŠ‚ç‚¹æ²¡æœ‰é‡å¤</span></span><br><span class="line">            pre.next = cur;</span><br><span class="line">            pre = pre.next;</span><br><span class="line">        &#125;</span><br><span class="line">        cur = cur.next;</span><br><span class="line">    &#125;</span><br><span class="line">    pre.next = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">return</span> dummy.next;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼šO*(*N)ï¼Œå¯¹é“¾è¡¨éå†äº†ä¸¤æ¬¡ï¼›</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼šO*(<em>N</em>)ï¼Œéœ€è¦ä¸€ä¸ªå­—å…¸ä¿å­˜æ¯ä¸ªèŠ‚ç‚¹å€¼å‡ºç°çš„æ¬¡æ•°ã€‚</li>
</ul>
<h4 id="14ã€LC83-åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´ "><a href="#14ã€LC83-åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´ " class="headerlink" title="14ã€LC83. åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´ "></a>14ã€LC83. åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´ </h4><p>ç»™å®šä¸€ä¸ªå·²æ’åºçš„é“¾è¡¨çš„å¤´ <code>head</code> ï¼Œ <em>åˆ é™¤æ‰€æœ‰é‡å¤çš„å…ƒç´ ï¼Œä½¿æ¯ä¸ªå…ƒç´ åªå‡ºç°ä¸€æ¬¡</em> ã€‚è¿”å› <em>å·²æ’åºçš„é“¾è¡¨</em> ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/list1.jpg" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šhead = [1,1,2]</span><br><span class="line">è¾“å‡ºï¼š[1,2]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/list2.jpg" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šhead = [1,1,2,3,3]</span><br><span class="line">è¾“å‡ºï¼š[1,2,3]</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li>é“¾è¡¨ä¸­èŠ‚ç‚¹æ•°ç›®åœ¨èŒƒå›´ <code>[0, 300]</code> å†…</li>
<li><code>-100 &lt;= Node.val &lt;= 100</code></li>
<li>é¢˜ç›®æ•°æ®ä¿è¯é“¾è¡¨å·²ç»æŒ‰å‡åº <strong>æ’åˆ—</strong></li>
</ul>
<h5 id="æ–¹æ³•ä¸€ï¼šé€’å½’-1"><a href="#æ–¹æ³•ä¸€ï¼šé€’å½’-1" class="headerlink" title="æ–¹æ³•ä¸€ï¼šé€’å½’"></a>æ–¹æ³•ä¸€ï¼šé€’å½’</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="comment">// é€’å½’</span></span><br><span class="line">    <span class="keyword">public</span> ListNode <span class="title function_">deleteDuplicates</span><span class="params">(ListNode head)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (head == <span class="literal">null</span> || head.next == <span class="literal">null</span>) &#123; <span class="comment">// base case</span></span><br><span class="line">            <span class="keyword">return</span> head;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (head.next.val == head.val) &#123; <span class="comment">// è·³è¿‡ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">            head.next = deleteDuplicates(head.next.next);</span><br><span class="line">            <span class="comment">// äº†é˜²æ­¢åˆ é™¤äº†ä¸‹ä¸ªèŠ‚ç‚¹ï¼Œä¸ä¸‹ä¸‹ä¸ªèŠ‚ç‚¹è¿˜æ˜¯ä¸€æ ·ï¼Œç»§ç»­é€’å½’ï¼Œå¦‚[1,1,1]è¿™ç§æƒ…å†µï¼Œè·³è¿‡äº†ç¬¬äºŒä¸ªèŠ‚ç‚¹ï¼Œè¿˜å‰©ä¸‹[1,1]</span></span><br><span class="line">            <span class="keyword">return</span> deleteDuplicates(head);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            deleteDuplicates(head.next);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼šO(N)</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼šO(N)</li>
</ul>
<h5 id="æ–¹æ³•äºŒï¼šä¸€æ¬¡éå†-1"><a href="#æ–¹æ³•äºŒï¼šä¸€æ¬¡éå†-1" class="headerlink" title="æ–¹æ³•äºŒï¼šä¸€æ¬¡éå†"></a>æ–¹æ³•äºŒï¼šä¸€æ¬¡éå†</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="comment">// ä¸€æ¬¡éå†</span></span><br><span class="line">    <span class="keyword">public</span> ListNode <span class="title function_">deleteDuplicates</span><span class="params">(ListNode head)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (head == <span class="literal">null</span> || head.next == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> head;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">dummy</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ListNode</span>(<span class="number">0</span>);</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">pre</span> <span class="operator">=</span> dummy, cur = head;</span><br><span class="line">        <span class="keyword">while</span> (cur != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">while</span> (cur.next != <span class="literal">null</span> &amp;&amp; cur.next.val == cur.val) &#123; <span class="comment">// èŠ‚ç‚¹å€¼ç›¸åŒï¼Œå‘åéå†</span></span><br><span class="line">                cur = cur.next;</span><br><span class="line">            &#125;</span><br><span class="line">            pre.next = cur;</span><br><span class="line">            cur = cur.next;</span><br><span class="line">            pre = pre.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dummy.next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦O(N)</li>
<li>ç©ºé—´å¤æ‚åº¦O(1)</li>
</ul>
<h3 id="æ ˆ"><a href="#æ ˆ" class="headerlink" title="#æ ˆ"></a>#æ ˆ</h3><h4 id="åŸºç¡€çŸ¥è¯†-1"><a href="#åŸºç¡€çŸ¥è¯†-1" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h4><h5 id="1-æ ˆç®€ä»‹"><a href="#1-æ ˆç®€ä»‹" class="headerlink" title="1. æ ˆç®€ä»‹"></a>1. æ ˆç®€ä»‹</h5><p><strong>æ ˆ</strong> (stack)åªå…è®¸åœ¨æœ‰åºçš„çº¿æ€§æ•°æ®é›†åˆçš„ä¸€ç«¯ï¼ˆç§°ä¸ºæ ˆé¡¶ topï¼‰è¿›è¡ŒåŠ å…¥æ•°æ®ï¼ˆpushï¼‰å’Œç§»é™¤æ•°æ®ï¼ˆpopï¼‰ã€‚å› è€ŒæŒ‰ç…§ <strong>åè¿›å…ˆå‡ºï¼ˆLIFO, Last In First Outï¼‰</strong> çš„åŸç†è¿ä½œã€‚<strong>åœ¨æ ˆä¸­ï¼Œpush å’Œ pop çš„æ“ä½œéƒ½å‘ç”Ÿåœ¨æ ˆé¡¶ã€‚</strong></p>
<p>æ ˆå¸¸ç”¨ä¸€ç»´æ•°ç»„æˆ–é“¾è¡¨æ¥å®ç°ï¼Œç”¨æ•°ç»„å®ç°çš„æ ˆå«ä½œ <strong>é¡ºåºæ ˆ</strong> ï¼Œç”¨é“¾è¡¨å®ç°çš„æ ˆå«ä½œ <strong>é“¾å¼æ ˆ</strong> ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">å‡è®¾å †æ ˆä¸­æœ‰nä¸ªå…ƒç´ ã€‚</span><br><span class="line">è®¿é—®ï¼šOï¼ˆnï¼‰<span class="comment">//æœ€åæƒ…å†µ</span></span><br><span class="line">æ’å…¥åˆ é™¤ï¼šOï¼ˆ<span class="number">1</span>ï¼‰<span class="comment">//é¡¶ç«¯æ’å…¥å’Œåˆ é™¤å…ƒç´ </span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/%E6%A0%88.png" alt="æ ˆ"></p>
<h5 id="2-æ ˆçš„å¸¸è§åº”ç”¨å¸¸è§åº”ç”¨åœºæ™¯"><a href="#2-æ ˆçš„å¸¸è§åº”ç”¨å¸¸è§åº”ç”¨åœºæ™¯" class="headerlink" title="2. æ ˆçš„å¸¸è§åº”ç”¨å¸¸è§åº”ç”¨åœºæ™¯"></a>2. æ ˆçš„å¸¸è§åº”ç”¨å¸¸è§åº”ç”¨åœºæ™¯</h5><p>å½“æˆ‘ä»¬æˆ‘ä»¬è¦å¤„ç†çš„æ•°æ®åªæ¶‰åŠåœ¨ä¸€ç«¯æ’å…¥å’Œåˆ é™¤æ•°æ®ï¼Œå¹¶ä¸”æ»¡è¶³ <strong>åè¿›å…ˆå‡ºï¼ˆLIFO, Last In First Outï¼‰</strong> çš„ç‰¹æ€§æ—¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨æ ˆè¿™ä¸ªæ•°æ®ç»“æ„ã€‚</p>
<h6 id="2-1-å®ç°æµè§ˆå™¨çš„å›é€€å’Œå‰è¿›åŠŸèƒ½"><a href="#2-1-å®ç°æµè§ˆå™¨çš„å›é€€å’Œå‰è¿›åŠŸèƒ½" class="headerlink" title="2.1. å®ç°æµè§ˆå™¨çš„å›é€€å’Œå‰è¿›åŠŸèƒ½"></a>2.1. å®ç°æµè§ˆå™¨çš„å›é€€å’Œå‰è¿›åŠŸèƒ½</h6><p>æˆ‘ä»¬åªéœ€è¦ä½¿ç”¨ä¸¤ä¸ªæ ˆ(Stack1 å’Œ Stack2)å’Œå°±èƒ½å®ç°è¿™ä¸ªåŠŸèƒ½ã€‚æ¯”å¦‚ä½ æŒ‰é¡ºåºæŸ¥çœ‹äº† 1,2,3,4 è¿™å››ä¸ªé¡µé¢ï¼Œæˆ‘ä»¬ä¾æ¬¡æŠŠ 1,2,3,4 è¿™å››ä¸ªé¡µé¢å‹å…¥ Stack1 ä¸­ã€‚å½“ä½ æƒ³å›å¤´çœ‹ 2 è¿™ä¸ªé¡µé¢çš„æ—¶å€™ï¼Œä½ ç‚¹å‡»å›é€€æŒ‰é’®ï¼Œæˆ‘ä»¬ä¾æ¬¡æŠŠ 4,3 è¿™ä¸¤ä¸ªé¡µé¢ä» Stack1 å¼¹å‡ºï¼Œç„¶åå‹å…¥ Stack2 ä¸­ã€‚å‡å¦‚ä½ åˆæƒ³å›åˆ°é¡µé¢ 3ï¼Œä½ ç‚¹å‡»å‰è¿›æŒ‰é’®ï¼Œæˆ‘ä»¬å°† 3 é¡µé¢ä» Stack2 å¼¹å‡ºï¼Œç„¶åå‹å…¥åˆ° Stack1 ä¸­ã€‚ç¤ºä¾‹å›¾å¦‚ä¸‹:</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/%E6%A0%88%E5%AE%9E%E7%8E%B0%E6%B5%8F%E8%A7%88%E5%99%A8%E5%80%92%E9%80%80%E5%92%8C%E5%89%8D%E8%BF%9B.png" alt="æ ˆå®ç°æµè§ˆå™¨å€’é€€å’Œå‰è¿›"></p>
<h6 id="2-2-æ£€æŸ¥ç¬¦å·æ˜¯å¦æˆå¯¹å‡ºç°"><a href="#2-2-æ£€æŸ¥ç¬¦å·æ˜¯å¦æˆå¯¹å‡ºç°" class="headerlink" title="2.2. æ£€æŸ¥ç¬¦å·æ˜¯å¦æˆå¯¹å‡ºç°"></a>2.2. æ£€æŸ¥ç¬¦å·æ˜¯å¦æˆå¯¹å‡ºç°</h6><blockquote>
<p>ç»™å®šä¸€ä¸ªåªåŒ…æ‹¬ <code>&#39;(&#39;</code>ï¼Œ<code>&#39;)&#39;</code>ï¼Œ<code>&#39;&#123;&#39;</code>ï¼Œ<code>&#39;&#125;&#39;</code>ï¼Œ<code>&#39;[&#39;</code>ï¼Œ<code>&#39;]&#39;</code> çš„å­—ç¬¦ä¸²ï¼Œåˆ¤æ–­è¯¥å­—ç¬¦ä¸²æ˜¯å¦æœ‰æ•ˆã€‚</p>
<p>æœ‰æ•ˆå­—ç¬¦ä¸²éœ€æ»¡è¶³ï¼š</p>
<ol>
<li>å·¦æ‹¬å·å¿…é¡»ç”¨ç›¸åŒç±»å‹çš„å³æ‹¬å·é—­åˆã€‚</li>
<li>å·¦æ‹¬å·å¿…é¡»ä»¥æ­£ç¡®çš„é¡ºåºé—­åˆã€‚</li>
</ol>
<p>æ¯”å¦‚ â€œ()â€ã€â€()[]{}â€ã€â€{[]}â€ éƒ½æ˜¯æœ‰æ•ˆå­—ç¬¦ä¸²ï¼Œè€Œ â€œ(]â€ ã€â€([)]â€ åˆ™ä¸æ˜¯ã€‚</p>
</blockquote>
<p>è¿™ä¸ªé—®é¢˜å®é™…æ˜¯ Leetcode çš„ä¸€é“é¢˜ç›®ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨æ ˆ <code>Stack</code> æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p>
<ol>
<li>é¦–å…ˆæˆ‘ä»¬å°†æ‹¬å·é—´çš„å¯¹åº”è§„åˆ™å­˜æ”¾åœ¨ <code>Map</code> ä¸­ï¼Œè¿™ä¸€ç‚¹åº”è¯¥æ¯‹å®¹ç½®ç–‘ï¼›</li>
<li>åˆ›å»ºä¸€ä¸ªæ ˆã€‚éå†å­—ç¬¦ä¸²ï¼Œå¦‚æœå­—ç¬¦æ˜¯å·¦æ‹¬å·å°±ç›´æ¥åŠ å…¥<code>stack</code>ä¸­ï¼Œå¦åˆ™å°†<code>stack</code> çš„æ ˆé¡¶å…ƒç´ ä¸è¿™ä¸ªæ‹¬å·åšæ¯”è¾ƒï¼Œå¦‚æœä¸ç›¸ç­‰å°±ç›´æ¥è¿”å› falseã€‚éå†ç»“æŸï¼Œå¦‚æœ<code>stack</code>ä¸ºç©ºï¼Œè¿”å› <code>true</code>ã€‚</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isValid</span><span class="params">(String s)</span>&#123;</span><br><span class="line">    <span class="comment">// æ‹¬å·ä¹‹é—´çš„å¯¹åº”è§„åˆ™</span></span><br><span class="line">    HashMap&lt;Character, Character&gt; mappings = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;Character, Character&gt;();</span><br><span class="line">    mappings.put(<span class="string">&#x27;)&#x27;</span>, <span class="string">&#x27;(&#x27;</span>);</span><br><span class="line">    mappings.put(<span class="string">&#x27;&#125;&#x27;</span>, <span class="string">&#x27;&#123;&#x27;</span>);</span><br><span class="line">    mappings.put(<span class="string">&#x27;]&#x27;</span>, <span class="string">&#x27;[&#x27;</span>);</span><br><span class="line">    Stack&lt;Character&gt; stack = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;Character&gt;();</span><br><span class="line">    <span class="type">char</span>[] chars = s.toCharArray();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; chars.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (mappings.containsKey(chars[i])) &#123;</span><br><span class="line">            <span class="type">char</span> <span class="variable">topElement</span> <span class="operator">=</span> stack.empty() ? <span class="string">&#x27;#&#x27;</span> : stack.pop();</span><br><span class="line">            <span class="keyword">if</span> (topElement != mappings.get(chars[i])) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            stack.push(chars[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> stack.isEmpty();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="2-3-åè½¬å­—ç¬¦ä¸²"><a href="#2-3-åè½¬å­—ç¬¦ä¸²" class="headerlink" title="2.3. åè½¬å­—ç¬¦ä¸²"></a>2.3. åè½¬å­—ç¬¦ä¸²</h6><p>å°†å­—ç¬¦ä¸²ä¸­çš„æ¯ä¸ªå­—ç¬¦å…ˆå…¥æ ˆå†å‡ºæ ˆå°±å¯ä»¥äº†ã€‚</p>
<h6 id="2-4-ç»´æŠ¤å‡½æ•°è°ƒç”¨"><a href="#2-4-ç»´æŠ¤å‡½æ•°è°ƒç”¨" class="headerlink" title="2.4. ç»´æŠ¤å‡½æ•°è°ƒç”¨"></a>2.4. ç»´æŠ¤å‡½æ•°è°ƒç”¨</h6><p>æœ€åä¸€ä¸ªè¢«è°ƒç”¨çš„å‡½æ•°å¿…é¡»å…ˆå®Œæˆæ‰§è¡Œï¼Œç¬¦åˆæ ˆçš„ <strong>åè¿›å…ˆå‡ºï¼ˆLIFO, Last In First Outï¼‰</strong> ç‰¹æ€§ã€‚</p>
<h5 id="3-æ ˆçš„å®ç°"><a href="#3-æ ˆçš„å®ç°" class="headerlink" title="3. æ ˆçš„å®ç°"></a>3. æ ˆçš„å®ç°</h5><p>æ ˆæ—¢å¯ä»¥é€šè¿‡æ•°ç»„å®ç°ï¼Œä¹Ÿå¯ä»¥é€šè¿‡é“¾è¡¨æ¥å®ç°ã€‚ä¸ç®¡åŸºäºæ•°ç»„è¿˜æ˜¯é“¾è¡¨ï¼Œå…¥æ ˆã€å‡ºæ ˆçš„æ—¶é—´å¤æ‚åº¦éƒ½ä¸º O(1)ã€‚</p>
<p>ä¸‹é¢æˆ‘ä»¬ä½¿ç”¨æ•°ç»„æ¥å®ç°ä¸€ä¸ªæ ˆï¼Œå¹¶ä¸”è¿™ä¸ªæ ˆå…·æœ‰<code>push()</code>ã€<code>pop()</code>ï¼ˆè¿”å›æ ˆé¡¶å…ƒç´ å¹¶å‡ºæ ˆï¼‰ã€<code>peek()</code> ï¼ˆè¿”å›æ ˆé¡¶å…ƒç´ ä¸å‡ºæ ˆï¼‰ã€<code>isEmpty()</code>ã€<code>size()</code>è¿™äº›åŸºæœ¬çš„æ–¹æ³•ã€‚</p>
<blockquote>
<p>æç¤ºï¼šæ¯æ¬¡å…¥æ ˆä¹‹å‰å…ˆåˆ¤æ–­æ ˆçš„å®¹é‡æ˜¯å¦å¤Ÿç”¨ï¼Œå¦‚æœä¸å¤Ÿç”¨å°±ç”¨<code>Arrays.copyOf()</code>è¿›è¡Œæ‰©å®¹ï¼›</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyStack</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span>[] storage;<span class="comment">//å­˜æ”¾æ ˆä¸­å…ƒç´ çš„æ•°ç»„</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> capacity;<span class="comment">//æ ˆçš„å®¹é‡</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> count;<span class="comment">//æ ˆä¸­å…ƒç´ æ•°é‡</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">GROW_FACTOR</span> <span class="operator">=</span> <span class="number">2</span>;<span class="comment">//æ‰©å®¹ç³»æ•°</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//ä¸å¸¦åˆå§‹å®¹é‡çš„æ„é€ æ–¹æ³•ã€‚é»˜è®¤å®¹é‡ä¸º8</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MyStack</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.capacity = <span class="number">8</span>;</span><br><span class="line">        <span class="built_in">this</span>.storage=<span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">8</span>];</span><br><span class="line">        <span class="built_in">this</span>.count = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å¸¦åˆå§‹å®¹é‡çš„æ„é€ æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MyStack</span><span class="params">(<span class="type">int</span> initialCapacity)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (initialCapacity &lt; <span class="number">1</span>)</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">IllegalArgumentException</span>(<span class="string">&quot;Capacity too small.&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">this</span>.capacity = initialCapacity;</span><br><span class="line">        <span class="built_in">this</span>.storage = <span class="keyword">new</span> <span class="title class_">int</span>[initialCapacity];</span><br><span class="line">        <span class="built_in">this</span>.count = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å…¥æ ˆ</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">push</span><span class="params">(<span class="type">int</span> value)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (count == capacity) &#123;</span><br><span class="line">            ensureCapacity();</span><br><span class="line">        &#125;</span><br><span class="line">        storage[count++] = value;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ç¡®ä¿å®¹é‡å¤§å°</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">ensureCapacity</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">newCapacity</span> <span class="operator">=</span> capacity * GROW_FACTOR;</span><br><span class="line">        storage = Arrays.copyOf(storage, newCapacity);</span><br><span class="line">        capacity = newCapacity;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è¿”å›æ ˆé¡¶å…ƒç´ å¹¶å‡ºæ ˆ</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">pop</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (count == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">IllegalArgumentException</span>(<span class="string">&quot;Stack is empty.&quot;</span>);</span><br><span class="line">        count--;</span><br><span class="line">        <span class="keyword">return</span> storage[count];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è¿”å›æ ˆé¡¶å…ƒç´ ä¸å‡ºæ ˆ</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">peek</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (count == <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">IllegalArgumentException</span>(<span class="string">&quot;Stack is empty.&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> storage[count-<span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//åˆ¤æ–­æ ˆæ˜¯å¦ä¸ºç©º</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">isEmpty</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> count == <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è¿”å›æ ˆä¸­å…ƒç´ çš„ä¸ªæ•°</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">size</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> count;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>éªŒè¯</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">MyStack</span> <span class="variable">myStack</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyStack</span>(<span class="number">3</span>);</span><br><span class="line">myStack.push(<span class="number">1</span>);</span><br><span class="line">myStack.push(<span class="number">2</span>);</span><br><span class="line">myStack.push(<span class="number">3</span>);</span><br><span class="line">myStack.push(<span class="number">4</span>);</span><br><span class="line">myStack.push(<span class="number">5</span>);</span><br><span class="line">myStack.push(<span class="number">6</span>);</span><br><span class="line">myStack.push(<span class="number">7</span>);</span><br><span class="line">myStack.push(<span class="number">8</span>);</span><br><span class="line">System.out.println(myStack.peek());<span class="comment">//8</span></span><br><span class="line">System.out.println(myStack.size());<span class="comment">//8</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">8</span>; i++) &#123;</span><br><span class="line">    System.out.println(myStack.pop());</span><br><span class="line">&#125;</span><br><span class="line">System.out.println(myStack.isEmpty());<span class="comment">//true</span></span><br><span class="line">myStack.pop();<span class="comment">//æŠ¥é”™ï¼šjava.lang.IllegalArgumentException: Stack is empty.</span></span><br></pre></td></tr></table></figure>

<h4 id="1ã€å‰‘æŒ‡-Offer-09-ç”¨ä¸¤ä¸ªæ ˆå®ç°é˜Ÿåˆ—"><a href="#1ã€å‰‘æŒ‡-Offer-09-ç”¨ä¸¤ä¸ªæ ˆå®ç°é˜Ÿåˆ—" class="headerlink" title="1ã€å‰‘æŒ‡ Offer 09. ç”¨ä¸¤ä¸ªæ ˆå®ç°é˜Ÿåˆ—"></a>1ã€å‰‘æŒ‡ Offer 09. ç”¨ä¸¤ä¸ªæ ˆå®ç°é˜Ÿåˆ—</h4><p>ç”¨ä¸¤ä¸ªæ ˆå®ç°ä¸€ä¸ªé˜Ÿåˆ—ã€‚é˜Ÿåˆ—çš„å£°æ˜å¦‚ä¸‹ï¼Œè¯·å®ç°å®ƒçš„ä¸¤ä¸ªå‡½æ•° <code>appendTail</code> å’Œ <code>deleteHead</code> ï¼Œåˆ†åˆ«å®Œæˆåœ¨é˜Ÿåˆ—å°¾éƒ¨æ’å…¥æ•´æ•°å’Œåœ¨é˜Ÿåˆ—å¤´éƒ¨åˆ é™¤æ•´æ•°çš„åŠŸèƒ½ã€‚(è‹¥é˜Ÿåˆ—ä¸­æ²¡æœ‰å…ƒç´ ï¼Œ<code>deleteHead</code> æ“ä½œè¿”å› -1 )</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š</span><br><span class="line">[&quot;CQueue&quot;,&quot;appendTail&quot;,&quot;deleteHead&quot;,&quot;deleteHead&quot;,&quot;deleteHead&quot;]</span><br><span class="line">[[],[3],[],[],[]]</span><br><span class="line">è¾“å‡ºï¼š[null,null,3,-1,-1]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š</span><br><span class="line">[&quot;CQueue&quot;,&quot;deleteHead&quot;,&quot;appendTail&quot;,&quot;appendTail&quot;,&quot;deleteHead&quot;,&quot;deleteHead&quot;]</span><br><span class="line">[[],[],[5],[2],[],[]]</span><br><span class="line">è¾“å‡ºï¼š[null,-1,null,null,5,2]</span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= values &lt;= 10000</code></li>
<li>æœ€å¤šä¼šå¯¹<code>appendTailã€deleteHead</code>è¿›è¡Œ<code> 10000</code> æ¬¡è°ƒç”¨</li>
</ul>
<p>Related Topics</p>
<p>æ ˆ</p>
<p>è®¾è®¡</p>
<p>é˜Ÿåˆ—</p>
<h5 id="æ€è·¯ä¸€"><a href="#æ€è·¯ä¸€" class="headerlink" title="æ€è·¯ä¸€"></a>æ€è·¯ä¸€</h5><p>Aæ ˆç”¨æ¥ä¿æŒåŸæœ‰æ•°æ®ï¼ŒBæ ˆç”¨æ¥è¾“å‡ºæ•°æ®æ—¶å¯¹æ ˆé€†åºï¼Œåœ¨Bä¸­è¾“å‡ºé˜Ÿå¤´ä¹‹åå†æ”¾å…¥Aæ ˆã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">CQueue</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Stack&lt;Integer&gt; stack1;</span><br><span class="line">    <span class="keyword">public</span> Stack&lt;Integer&gt; stack2;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">CQueue</span><span class="params">()</span> &#123;</span><br><span class="line">        stack1 = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">        stack2 = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">appendTail</span><span class="params">(<span class="type">int</span> value)</span> &#123;</span><br><span class="line">        stack1.push(value);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">deleteHead</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (stack1.isEmpty()) &#123;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">while</span> (!stack1.isEmpty()) &#123;</span><br><span class="line">                <span class="type">Integer</span> <span class="variable">i</span> <span class="operator">=</span> stack1.pop();</span><br><span class="line">                stack2.push(i);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">int</span> <span class="variable">head</span> <span class="operator">=</span> stack2.pop();</span><br><span class="line">            <span class="keyword">while</span> (!stack2.isEmpty()) &#123;</span><br><span class="line">                <span class="type">Integer</span> <span class="variable">i</span> <span class="operator">=</span> stack2.pop();</span><br><span class="line">                stack1.push(i);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> head;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="æ€è·¯äºŒ"><a href="#æ€è·¯äºŒ" class="headerlink" title="æ€è·¯äºŒ"></a>æ€è·¯äºŒ</h5><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.leetcode-cn.com/1599286207-HnnMhX-Picture1.png" alt="Picture1.png"></p>
<p>å¯¹æ€è·¯ä¸€è¿›è¡Œä¼˜åŒ–ï¼Œå½“Bæ ˆè¾“å‡ºå®Œå¯¹å¤´æ—¶ä¸å†é‡æ–°æ”¾å…¥Aæ ˆï¼Œè€Œæ˜¯ä¿ç•™ï¼Œå› ä¸ºæ˜¯é¡ºåºåŠ å…¥çš„ï¼Œä»–ä¼šä¿ç•™åŸæœ‰çš„é¡ºåºã€‚</p>
<p>é¢˜ç›®è¦æ±‚å®ç° åŠ å…¥é˜Ÿå°¾appendTail() å’Œ åˆ é™¤é˜Ÿé¦–deleteHead() ä¸¤ä¸ªå‡½æ•°çš„æ­£å¸¸å·¥ä½œã€‚å› æ­¤ï¼Œå¯ä»¥è®¾è®¡æ ˆ A ç”¨äºåŠ å…¥é˜Ÿå°¾æ“ä½œï¼Œæ ˆ B ç”¨äºå°†å…ƒç´ å€’åºï¼Œä»è€Œå®ç°åˆ é™¤é˜Ÿé¦–å…ƒç´ ã€‚</p>
<p>å‡½æ•°è®¾è®¡ï¼š</p>
<ol>
<li>åŠ å…¥é˜Ÿå°¾ appendTail() ï¼š å°†æ•°å­— val åŠ å…¥æ ˆ A å³å¯ã€‚</li>
<li>åˆ é™¤é˜Ÿé¦–deleteHead() ï¼š æœ‰ä»¥ä¸‹ä¸‰ç§æƒ…å†µã€‚<ul>
<li>å½“æ ˆ B ä¸ä¸ºç©ºï¼š Bä¸­ä»æœ‰å·²å®Œæˆå€’åºçš„å…ƒç´ ï¼Œå› æ­¤ç›´æ¥è¿”å› B çš„æ ˆé¡¶å…ƒç´ ã€‚</li>
<li>å¦åˆ™ï¼Œå½“ A ä¸ºç©ºï¼š å³ä¸¤ä¸ªæ ˆéƒ½ä¸ºç©ºï¼Œæ— å…ƒç´ ï¼Œå› æ­¤è¿”å› -1 ã€‚</li>
<li>å¦åˆ™ï¼š å°†æ ˆ A å…ƒç´ å…¨éƒ¨è½¬ç§»è‡³æ ˆ B ä¸­ï¼Œå®ç°å…ƒç´ å€’åºï¼Œå¹¶è¿”å›æ ˆ B çš„æ ˆé¡¶å…ƒç´ ã€‚</li>
</ul>
</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.leetcode-cn.com/1599286207-iyRyBk-Picture2.png" alt="img"></p>
<p>å¤æ‚åº¦åˆ†æï¼š</p>
<blockquote>
<p>ä»¥ä¸‹åˆ†æä»…æ»¡è¶³æ·»åŠ  N ä¸ªå…ƒç´ å¹¶åˆ é™¤ N ä¸ªå…ƒç´ ï¼Œå³æ ˆåˆå§‹å’Œç»“æŸçŠ¶æ€ä¸‹éƒ½ä¸ºç©ºçš„æƒ…å†µã€‚</p>
</blockquote>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š appendTail()å‡½æ•°ä¸ºO(1) ï¼›deleteHead() å‡½æ•°åœ¨ N æ¬¡é˜Ÿé¦–å…ƒç´ åˆ é™¤æ“ä½œä¸­æ€»å…±éœ€å®Œæˆ N ä¸ªå…ƒç´ çš„å€’åºã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(N)O(N) ï¼š æœ€å·®æƒ…å†µä¸‹ï¼Œæ ˆ A å’Œ B å…±ä¿å­˜ NN ä¸ªå…ƒç´ ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">CQueue</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Stack&lt;Integer&gt; stack1;</span><br><span class="line">    <span class="keyword">public</span> Stack&lt;Integer&gt; stack2;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">CQueue</span><span class="params">()</span> &#123;</span><br><span class="line">        stack1 = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">        stack2 = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">appendTail</span><span class="params">(<span class="type">int</span> value)</span> &#123;</span><br><span class="line">        stack1.push(value);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">deleteHead</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (!stack2.isEmpty()) &#123; <span class="comment">// æƒ…å†µä¸€Bæ ˆä¸ç©º</span></span><br><span class="line">            <span class="keyword">return</span> stack2.pop();</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (stack1.isEmpty()) &#123; <span class="comment">// æƒ…å†µäºŒABéƒ½ä¸ºç©º</span></span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123; <span class="comment">// æƒ…å†µä¸‰Aä¸ä¸ºç©º Bä¸ºç©º</span></span><br><span class="line">            <span class="keyword">while</span> (!stack1.isEmpty()) &#123;</span><br><span class="line">                stack2.push(stack1.pop());</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> stack2.pop();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2ã€å‰‘æŒ‡-Offer-30-åŒ…å«-min-å‡½æ•°çš„æ ˆ"><a href="#2ã€å‰‘æŒ‡-Offer-30-åŒ…å«-min-å‡½æ•°çš„æ ˆ" class="headerlink" title="2ã€å‰‘æŒ‡ Offer 30. åŒ…å« min å‡½æ•°çš„æ ˆ"></a>2ã€å‰‘æŒ‡ Offer 30. åŒ…å« min å‡½æ•°çš„æ ˆ</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è¿­ä»£</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="keyword">public</span> ListNode <span class="title function_">reverseList</span><span class="params">(ListNode head)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> recur(head,<span class="literal">null</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> ListNode <span class="title function_">recur</span><span class="params">(ListNode cur, ListNode pre)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (cur == <span class="literal">null</span>) &#123; <span class="comment">// ç»ˆæ­¢æ¡ä»¶</span></span><br><span class="line">        <span class="keyword">return</span> pre;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">res</span> <span class="operator">=</span> recur(cur.next, cur);<span class="comment">//é€’å½’åç»­èŠ‚ç‚¹</span></span><br><span class="line"></span><br><span class="line">    cur.next = pre;              <span class="comment">// ä¿®æ”¹èŠ‚ç‚¹å¼•ç”¨æŒ‡å‘</span></span><br><span class="line">    <span class="keyword">return</span> res;                  <span class="comment">// è¿”å›åè½¬é“¾è¡¨çš„å¤´èŠ‚ç‚¹</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å®šä¹‰æ ˆçš„æ•°æ®ç»“æ„ï¼Œè¯·åœ¨è¯¥ç±»å‹ä¸­å®ç°ä¸€ä¸ªèƒ½å¤Ÿå¾—åˆ°æ ˆçš„æœ€å°å…ƒç´ çš„ min å‡½æ•°åœ¨è¯¥æ ˆä¸­ï¼Œè°ƒç”¨ minã€push åŠ pop çš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯ O(1)ã€‚</p>
<p><strong>ç¤ºä¾‹:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">MinStack minStack = new MinStack();</span><br><span class="line">minStack.push(-2);</span><br><span class="line">minStack.push(0);</span><br><span class="line">minStack.push(-3);</span><br><span class="line">minStack.min();   -. è¿”å› -3.</span><br><span class="line">minStack.pop();</span><br><span class="line">minStack.top();      -. è¿”å› 0.</span><br><span class="line">minStack.min();   -. è¿”å› -2.</span><br></pre></td></tr></table></figure>



<p><strong>è§£é¢˜æ€è·¯:</strong><br>æ™®é€šæ ˆçš„ push() å’Œ pop() å‡½æ•°çš„å¤æ‚åº¦ O(1) ï¼›è€Œè·å–æ ˆæœ€å°å€¼ min() å‡½æ•°éœ€è¦éå†æ•´ä¸ªæ ˆï¼Œå¤æ‚åº¦ä¸º O(N) ã€‚</p>
<p><strong>æœ¬é¢˜éš¾ç‚¹ï¼š</strong> å°† min() å‡½æ•°å¤æ‚åº¦é™ä¸º&#x3D;O(1) ã€‚å¯å€ŸåŠ©è¾…åŠ©æ ˆå®ç°ï¼š</p>
<ul>
<li>æ•°æ®æ ˆ A ï¼š æ ˆ A ç”¨äºå­˜å‚¨æ‰€æœ‰å…ƒç´ ï¼Œä¿è¯å…¥æ ˆ push() å‡½æ•°ã€å‡ºæ ˆ pop() å‡½æ•°ã€è·å–æ ˆé¡¶ top() å‡½æ•°çš„æ­£å¸¸è¾‘ã€‚</li>
<li>è¾…åŠ©æ ˆ B ï¼š æ ˆ B ä¸­å­˜å‚¨æ ˆ A ä¸­æ‰€æœ‰ éä¸¥æ ¼é™åº å…ƒç´ çš„å­åºåˆ—ï¼Œåˆ™æ ˆ A ä¸­çš„æœ€å°å…ƒç´ å§‹ç»ˆå¯¹åº”æ ˆ B çš„æ ˆé¡¶å…ƒç´ .æ­¤æ—¶ï¼Œ min() å‡½æ•°åªéœ€è¿”å›æ ˆ B çš„æ ˆé¡¶å…ƒç´ å³å¯ã€‚</li>
</ul>
<p>å› æ­¤ï¼Œåªéœ€è®¾æ³•ç»´æŠ¤å¥½ æ ˆ B çš„å…ƒç´ ï¼Œä½¿å…¶ä¿æŒæ˜¯æ ˆ A çš„éä¸¥æ ¼é™åºå…ƒç´ çš„å­åºåˆ—ï¼Œå³å¯å®ç° min() å‡½æ•°çš„ O(1) å¤æ‚åº¦ã€‚</p>
<p><strong>å‡½æ•°è®¾è®¡ï¼š</strong><br>push(x) å‡½æ•°ï¼š é‡ç‚¹ä¸ºä¿æŒæ ˆ B çš„å…ƒç´ æ˜¯ <strong>éä¸¥æ ¼é™åº</strong> çš„ï¼›</p>
<ol>
<li>æ‰§è¡Œã€Œå…ƒç´  x å‹å…¥æ ˆ Aã€ ï¼›</li>
<li>è‹¥ã€Œæ ˆ B ä¸ºç©ºã€æˆ–ã€Œx \leqâ‰¤ æ ˆ B çš„æ ˆé¡¶å…ƒç´ ã€ï¼Œåˆ™æ‰§è¡Œã€Œå…ƒç´  x å‹å…¥æ ˆ Bã€ ï¼›</li>
</ol>
<p>pop() å‡½æ•°ï¼š é‡ç‚¹ä¸ºä¿æŒæ ˆ A , B çš„ å…ƒç´ ä¸€è‡´æ€§ ï¼›</p>
<ol>
<li>æ‰§è¡Œã€Œæ ˆ A å…ƒç´ å‡ºæ ˆã€ï¼Œå°†å‡ºæ ˆå…ƒç´ è®°ä¸º y ï¼›</li>
<li>è‹¥ ã€Œy ç­‰äºæ ˆ B çš„æ ˆé¡¶å…ƒç´ ã€ï¼Œåˆ™æ‰§è¡Œã€Œæ ˆ B å…ƒç´ å‡ºæ ˆã€ï¼›</li>
</ol>
<p>top() å‡½æ•°ï¼š ç›´æ¥è¿”å›æ ˆ A çš„æ ˆé¡¶å…ƒç´ ï¼Œå³è¿”å› A.peek() ï¼›</p>
<p>min() å‡½æ•°ï¼š ç›´æ¥è¿”å›æ ˆ B çš„æ ˆé¡¶å…ƒç´ ï¼Œå³è¿”å› B.peek() ï¼›</p>
<p><strong>é‡‡ç”¨ â€œéä¸¥æ ¼â€ é™åºåŸå› </strong>ï¼š<br>åœ¨æ ˆ A å…·æœ‰ é‡å¤ æœ€å°å€¼å…ƒç´ æ—¶ï¼Œéä¸¥æ ¼é™åºå¯é˜²æ­¢æ ˆ B æå‰å¼¹å‡ºæœ€å°å€¼å…ƒç´ ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.leetcode-cn.com/1600086305-BSfBJu-Picture2.png" alt="Picture2.png"></p>
<p><strong>å¤æ‚åº¦åˆ†æï¼š</strong><br>æ—¶é—´å¤æ‚åº¦ O(1) ï¼š push(), pop(), top(), min() å››ä¸ªå‡½æ•°çš„æ—¶é—´å¤æ‚åº¦å‡ä¸ºå¸¸æ•°çº§åˆ«ã€‚<br>ç©ºé—´å¤æ‚åº¦ O(N) ï¼š å½“å…±æœ‰ N ä¸ªå¾…å…¥æ ˆå…ƒç´ æ—¶ï¼Œè¾…åŠ©æ ˆ B æœ€å·®æƒ…å†µä¸‹å­˜å‚¨ N ä¸ªå…ƒç´ ï¼Œä½¿ç”¨ O(N) é¢å¤–ç©ºé—´ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MinStack</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** initialize your data structure here. */</span></span><br><span class="line">    Stack&lt;Integer&gt; stack1;<span class="comment">//æ­£å¸¸çš„æ ˆåºåˆ—</span></span><br><span class="line">    Stack&lt;Integer&gt; stack2;<span class="comment">//å¯¹äºAæ ˆçš„å…ƒç´ ï¼ŒBæ ˆä¿è¯æ•°æ®ä»å°åˆ°å¤§</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MinStack</span><span class="params">()</span> &#123;</span><br><span class="line">        stack1 = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">        stack2 = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">push</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line">        stack1.push(x);</span><br><span class="line">        <span class="keyword">if</span> (stack2.isEmpty() || stack2.peek() &gt;= x) &#123; <span class="comment">// å°äºæ ˆé¡¶æ‰å…¥æ ˆ</span></span><br><span class="line">            stack2.push(x);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">pop</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">Integer</span> <span class="variable">i</span> <span class="operator">=</span> stack1.pop();</span><br><span class="line">        <span class="keyword">if</span> (i.equals(stack2.peek())) &#123;</span><br><span class="line">            stack2.pop();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">top</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> stack1.peek();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">min</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> stack2.peek();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="3ã€LC20-æœ‰æ•ˆçš„æ‹¬å·"><a href="#3ã€LC20-æœ‰æ•ˆçš„æ‹¬å·" class="headerlink" title="3ã€LC20. æœ‰æ•ˆçš„æ‹¬å·"></a>3ã€LC20. æœ‰æ•ˆçš„æ‹¬å·</h4><p>ç»™å®šä¸€ä¸ªåªåŒ…æ‹¬ <code>&#39;(&#39;</code>ï¼Œ<code>&#39;)&#39;</code>ï¼Œ<code>&#39;&#123;&#39;</code>ï¼Œ<code>&#39;&#125;&#39;</code>ï¼Œ<code>&#39;[&#39;</code>ï¼Œ<code>&#39;]&#39;</code> çš„å­—ç¬¦ä¸² <code>s</code> ï¼Œåˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦æœ‰æ•ˆã€‚</p>
<p>æœ‰æ•ˆå­—ç¬¦ä¸²éœ€æ»¡è¶³ï¼š</p>
<ol>
<li>å·¦æ‹¬å·å¿…é¡»ç”¨ç›¸åŒç±»å‹çš„å³æ‹¬å·é—­åˆã€‚</li>
<li>å·¦æ‹¬å·å¿…é¡»ä»¥æ­£ç¡®çš„é¡ºåºé—­åˆã€‚</li>
<li>æ¯ä¸ªå³æ‹¬å·éƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„ç›¸åŒç±»å‹çš„å·¦æ‹¬å·ã€‚</li>
</ol>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;()&quot;</span><br><span class="line">è¾“å‡ºï¼štrue</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;()[]&#123;&#125;&quot;</span><br><span class="line">è¾“å‡ºï¼štrue</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;(]&quot;</span><br><span class="line">è¾“å‡ºï¼šfalse</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= s.length &lt;= 104</code></li>
<li><code>s</code> ä»…ç”±æ‹¬å· <code>&#39;()[]&#123;&#125;&#39;</code> ç»„æˆ</li>
</ul>
<p>Related Topics</p>
<p>æ ˆ</p>
<p>å­—ç¬¦ä¸²</p>
<p>ğŸ‘ 3664</p>
<p>ğŸ‘ 0</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isValid</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        <span class="comment">// map å»ºç«‹æ‹¬å·çš„å¯¹åº”è§„åˆ™</span></span><br><span class="line">        Map&lt;Character, Character&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        map.put(<span class="string">&#x27;)&#x27;</span>, <span class="string">&#x27;(&#x27;</span>);</span><br><span class="line">        map.put(<span class="string">&#x27;&#125;&#x27;</span>, <span class="string">&#x27;&#123;&#x27;</span>);</span><br><span class="line">        map.put(<span class="string">&#x27;]&#x27;</span>, <span class="string">&#x27;[&#x27;</span>);</span><br><span class="line">        Stack&lt;Character&gt; stack = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="type">char</span>[] chars = s.toCharArray();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; chars.length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (map.containsKey(chars[i])) &#123;</span><br><span class="line">                <span class="type">char</span> <span class="variable">topElement</span> <span class="operator">=</span> stack.isEmpty() ? <span class="string">&#x27;#&#x27;</span> : stack.pop();</span><br><span class="line">                <span class="keyword">if</span> (topElement != map.get(chars[i])) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                stack.push(chars[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> stack.isEmpty();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="æ•°ç»„"><a href="#æ•°ç»„" class="headerlink" title="#æ•°ç»„"></a>#æ•°ç»„</h3><h4 id="åŸºç¡€çŸ¥è¯†-2"><a href="#åŸºç¡€çŸ¥è¯†-2" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h4><p><strong>æ•°ç»„ï¼ˆArrayï¼‰</strong> æ˜¯ä¸€ç§å¾ˆå¸¸è§çš„æ•°æ®ç»“æ„ã€‚å®ƒç”±ç›¸åŒç±»å‹çš„å…ƒç´ ï¼ˆelementï¼‰ç»„æˆï¼Œå¹¶ä¸”æ˜¯ä½¿ç”¨ä¸€å—è¿ç»­çš„å†…å­˜æ¥å­˜å‚¨ã€‚</p>
<p>æˆ‘ä»¬ç›´æ¥å¯ä»¥åˆ©ç”¨å…ƒç´ çš„ç´¢å¼•ï¼ˆindexï¼‰å¯ä»¥è®¡ç®—å‡ºè¯¥å…ƒç´ å¯¹åº”çš„å­˜å‚¨åœ°å€ã€‚</p>
<p>æ•°ç»„çš„ç‰¹ç‚¹æ˜¯ï¼š<strong>æä¾›éšæœºè®¿é—®</strong> å¹¶ä¸”å®¹é‡æœ‰é™ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">å‡å¦‚æ•°ç»„çš„é•¿åº¦ä¸º nã€‚</span><br><span class="line">è®¿é—®ï¼šOï¼ˆ<span class="number">1</span>ï¼‰<span class="comment">//è®¿é—®ç‰¹å®šä½ç½®çš„å…ƒç´ </span></span><br><span class="line">æ’å…¥ï¼šOï¼ˆn ï¼‰<span class="comment">//æœ€åçš„æƒ…å†µå‘ç”Ÿåœ¨æ’å…¥å‘ç”Ÿåœ¨æ•°ç»„çš„é¦–éƒ¨å¹¶éœ€è¦ç§»åŠ¨æ‰€æœ‰å…ƒç´ æ—¶</span></span><br><span class="line">åˆ é™¤ï¼šOï¼ˆnï¼‰<span class="comment">//æœ€åçš„æƒ…å†µå‘ç”Ÿåœ¨åˆ é™¤æ•°ç»„çš„å¼€å¤´å‘ç”Ÿå¹¶éœ€è¦ç§»åŠ¨ç¬¬ä¸€å…ƒç´ åé¢æ‰€æœ‰çš„å…ƒç´ æ—¶</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/%E6%95%B0%E7%BB%84.png" alt="æ•°ç»„"></p>
<h4 id="1ã€LC2319-åˆ¤æ–­çŸ©é˜µæ˜¯å¦æ˜¯ä¸€ä¸ª-X-çŸ©é˜µ"><a href="#1ã€LC2319-åˆ¤æ–­çŸ©é˜µæ˜¯å¦æ˜¯ä¸€ä¸ª-X-çŸ©é˜µ" class="headerlink" title="1ã€LC2319. åˆ¤æ–­çŸ©é˜µæ˜¯å¦æ˜¯ä¸€ä¸ª X çŸ©é˜µ"></a>1ã€LC2319. åˆ¤æ–­çŸ©é˜µæ˜¯å¦æ˜¯ä¸€ä¸ª X çŸ©é˜µ</h4><p>å¦‚æœä¸€ä¸ªæ­£æ–¹å½¢çŸ©é˜µæ»¡è¶³ä¸‹è¿° <strong>å…¨éƒ¨</strong> æ¡ä»¶ï¼Œåˆ™ç§°ä¹‹ä¸ºä¸€ä¸ª <strong>X çŸ©é˜µ</strong> ï¼š</p>
<ol>
<li>çŸ©é˜µå¯¹è§’çº¿ä¸Šçš„æ‰€æœ‰å…ƒç´ éƒ½ <strong>ä¸æ˜¯ 0</strong></li>
<li>çŸ©é˜µä¸­æ‰€æœ‰å…¶ä»–å…ƒç´ éƒ½æ˜¯ <strong>0</strong></li>
</ol>
<p>ç»™ä½ ä¸€ä¸ªå¤§å°ä¸º <code>n x n</code> çš„äºŒç»´æ•´æ•°æ•°ç»„ <code>grid</code> ï¼Œè¡¨ç¤ºä¸€ä¸ªæ­£æ–¹å½¢çŸ©é˜µã€‚å¦‚æœ <code>grid</code> æ˜¯ä¸€ä¸ª <strong>X çŸ©é˜µ</strong> ï¼Œè¿”å› <code>true</code> ï¼›å¦åˆ™ï¼Œè¿”å› <code>false</code> ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/ex1.jpg" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šgrid = [[2,0,0,1],[0,3,1,0],[0,5,2,0],[4,0,0,2]]</span><br><span class="line">è¾“å‡ºï¼štrue</span><br><span class="line">è§£é‡Šï¼šçŸ©é˜µå¦‚ä¸Šå›¾æ‰€ç¤ºã€‚</span><br><span class="line">X çŸ©é˜µåº”è¯¥æ»¡è¶³ï¼šç»¿è‰²å…ƒç´ ï¼ˆå¯¹è§’çº¿ä¸Šï¼‰éƒ½ä¸æ˜¯ 0 ï¼Œçº¢è‰²å…ƒç´ éƒ½æ˜¯ 0 ã€‚</span><br><span class="line">å› æ­¤ï¼Œgrid æ˜¯ä¸€ä¸ª X çŸ©é˜µã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/ex2.jpg" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šgrid = [[5,7,0],[0,3,1],[0,5,0]]</span><br><span class="line">è¾“å‡ºï¼šfalse</span><br><span class="line">è§£é‡Šï¼šçŸ©é˜µå¦‚ä¸Šå›¾æ‰€ç¤ºã€‚</span><br><span class="line">X çŸ©é˜µåº”è¯¥æ»¡è¶³ï¼šç»¿è‰²å…ƒç´ ï¼ˆå¯¹è§’çº¿ä¸Šï¼‰éƒ½ä¸æ˜¯ 0 ï¼Œçº¢è‰²å…ƒç´ éƒ½æ˜¯ 0 ã€‚</span><br><span class="line">å› æ­¤ï¼Œgrid ä¸æ˜¯ä¸€ä¸ª X çŸ©é˜µã€‚</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>n == grid.length == grid[i].length</code></li>
<li><code>3 &lt;= n &lt;= 100</code></li>
<li><code>0 &lt;= grid[i][j] &lt;= 105</code></li>
</ul>
<p>Related Topics</p>
<p>æ•°ç»„</p>
<p>çŸ©é˜µ</p>
<p>ğŸ‘ 23</p>
<p>ğŸ‘ 0</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">checkXMatrix</span><span class="params">(<span class="type">int</span>[][] grid)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> grid.length;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (i == j || n - i - <span class="number">1</span> == j) &#123; <span class="comment">// æ˜¯å¯¹è§’çº¿ä½ç½®</span></span><br><span class="line">                    <span class="keyword">if</span> (grid[i][j] == <span class="number">0</span>) &#123;</span><br><span class="line">                        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="keyword">continue</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (grid[i][j] != <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼šO(N^2)</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼šO(1)</li>
</ul>
<h3 id="é˜Ÿåˆ—"><a href="#é˜Ÿåˆ—" class="headerlink" title="#é˜Ÿåˆ—"></a>#é˜Ÿåˆ—</h3><h4 id="åŸºç¡€çŸ¥è¯†-3"><a href="#åŸºç¡€çŸ¥è¯†-3" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h4><h5 id="1-é˜Ÿåˆ—ç®€ä»‹"><a href="#1-é˜Ÿåˆ—ç®€ä»‹" class="headerlink" title="1. é˜Ÿåˆ—ç®€ä»‹"></a>1. é˜Ÿåˆ—ç®€ä»‹</h5><p><strong>é˜Ÿåˆ—</strong> æ˜¯ <strong>å…ˆè¿›å…ˆå‡º( FIFOï¼ŒFirst In, First Out)</strong> çš„çº¿æ€§è¡¨ã€‚åœ¨å…·ä½“åº”ç”¨ä¸­é€šå¸¸ç”¨é“¾è¡¨æˆ–è€…æ•°ç»„æ¥å®ç°ï¼Œç”¨æ•°ç»„å®ç°çš„é˜Ÿåˆ—å«ä½œ <strong>é¡ºåºé˜Ÿåˆ—</strong> ï¼Œç”¨é“¾è¡¨å®ç°çš„é˜Ÿåˆ—å«ä½œ <strong>é“¾å¼é˜Ÿåˆ—</strong> ã€‚<strong>é˜Ÿåˆ—åªå…è®¸åœ¨åç«¯ï¼ˆrearï¼‰è¿›è¡Œæ’å…¥æ“ä½œä¹Ÿå°±æ˜¯ å…¥é˜Ÿ enqueueï¼Œåœ¨å‰ç«¯ï¼ˆfrontï¼‰è¿›è¡Œåˆ é™¤æ“ä½œä¹Ÿå°±æ˜¯å‡ºé˜Ÿ dequeue</strong></p>
<p>é˜Ÿåˆ—çš„æ“ä½œæ–¹å¼å’Œå †æ ˆç±»ä¼¼ï¼Œå”¯ä¸€çš„åŒºåˆ«åœ¨äºé˜Ÿåˆ—åªå…è®¸æ–°æ•°æ®åœ¨åç«¯è¿›è¡Œæ·»åŠ ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">å‡è®¾é˜Ÿåˆ—ä¸­æœ‰nä¸ªå…ƒç´ ã€‚</span><br><span class="line">è®¿é—®ï¼šOï¼ˆnï¼‰<span class="comment">//æœ€åæƒ…å†µ</span></span><br><span class="line">æ’å…¥åˆ é™¤ï¼šOï¼ˆ<span class="number">1</span>ï¼‰<span class="comment">//åç«¯æ’å…¥å‰ç«¯åˆ é™¤å…ƒç´ </span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/%E9%98%9F%E5%88%97.png" alt="é˜Ÿåˆ—"></p>
<h5 id="2-é˜Ÿåˆ—åˆ†ç±»"><a href="#2-é˜Ÿåˆ—åˆ†ç±»" class="headerlink" title="2. é˜Ÿåˆ—åˆ†ç±»"></a>2. é˜Ÿåˆ—åˆ†ç±»</h5><h6 id="2-1-å•é˜Ÿåˆ—"><a href="#2-1-å•é˜Ÿåˆ—" class="headerlink" title="2.1. å•é˜Ÿåˆ—"></a>2.1. å•é˜Ÿåˆ—</h6><p>å•é˜Ÿåˆ—å°±æ˜¯å¸¸è§çš„é˜Ÿåˆ—, æ¯æ¬¡æ·»åŠ å…ƒç´ æ—¶ï¼Œéƒ½æ˜¯æ·»åŠ åˆ°é˜Ÿå°¾ã€‚å•é˜Ÿåˆ—åˆåˆ†ä¸º <strong>é¡ºåºé˜Ÿåˆ—ï¼ˆæ•°ç»„å®ç°ï¼‰</strong> å’Œ <strong>é“¾å¼é˜Ÿåˆ—ï¼ˆé“¾è¡¨å®ç°ï¼‰</strong>ã€‚</p>
<p><strong>é¡ºåºé˜Ÿåˆ—å­˜åœ¨â€œå‡æº¢å‡ºâ€çš„é—®é¢˜ä¹Ÿå°±æ˜¯æ˜æ˜æœ‰ä½ç½®å´ä¸èƒ½æ·»åŠ çš„æƒ…å†µã€‚</strong></p>
<p>å‡è®¾ä¸‹å›¾æ˜¯ä¸€ä¸ªé¡ºåºé˜Ÿåˆ—ï¼Œæˆ‘ä»¬å°†å‰ä¸¤ä¸ªå…ƒç´  1,2 å‡ºé˜Ÿï¼Œå¹¶å…¥é˜Ÿä¸¤ä¸ªå…ƒç´  7,8ã€‚å½“è¿›è¡Œå…¥é˜Ÿã€å‡ºé˜Ÿæ“ä½œçš„æ—¶å€™ï¼Œfront å’Œ rear éƒ½ä¼šæŒç»­å¾€åç§»åŠ¨ï¼Œå½“ rear ç§»åŠ¨åˆ°æœ€åçš„æ—¶å€™,æˆ‘ä»¬æ— æ³•å†å¾€é˜Ÿåˆ—ä¸­æ·»åŠ æ•°æ®ï¼Œå³ä½¿æ•°ç»„ä¸­è¿˜æœ‰ç©ºä½™ç©ºé—´ï¼Œè¿™ç§ç°è±¡å°±æ˜¯ <strong>â€å‡æº¢å‡ºâ€œ</strong> ã€‚é™¤äº†å‡æº¢å‡ºé—®é¢˜ä¹‹å¤–ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå½“æ·»åŠ å…ƒç´  8 çš„æ—¶å€™ï¼Œrear æŒ‡é’ˆç§»åŠ¨åˆ°æ•°ç»„ä¹‹å¤–ï¼ˆè¶Šç•Œï¼‰ã€‚</p>
<blockquote>
<p>ä¸ºäº†é¿å…å½“åªæœ‰ä¸€ä¸ªå…ƒç´ çš„æ—¶å€™ï¼Œé˜Ÿå¤´å’Œé˜Ÿå°¾é‡åˆä½¿å¤„ç†å˜å¾—éº»çƒ¦ï¼Œæ‰€ä»¥å¼•å…¥ä¸¤ä¸ªæŒ‡é’ˆï¼Œfront æŒ‡é’ˆæŒ‡å‘å¯¹å¤´å…ƒç´ ï¼Œrear æŒ‡é’ˆæŒ‡å‘é˜Ÿåˆ—æœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ªä½ç½®ï¼Œè¿™æ ·å½“ front ç­‰äº rear æ—¶ï¼Œæ­¤é˜Ÿåˆ—ä¸æ˜¯è¿˜å‰©ä¸€ä¸ªå…ƒç´ ï¼Œè€Œæ˜¯ç©ºé˜Ÿåˆ—ã€‚â€”â€”From ã€Šå¤§è¯æ•°æ®ç»“æ„ã€‹</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/%E9%A1%BA%E5%BA%8F%E9%98%9F%E5%88%97%E5%81%87%E6%BA%A2%E5%87%BA1.png" alt="é¡ºåºé˜Ÿåˆ—å‡æº¢å‡º"></p>
<p>2.2. å¾ªç¯é˜Ÿåˆ—</p>
<p>å¾ªç¯é˜Ÿåˆ—å¯ä»¥è§£å†³é¡ºåºé˜Ÿåˆ—çš„å‡æº¢å‡ºå’Œè¶Šç•Œé—®é¢˜ã€‚è§£å†³åŠæ³•å°±æ˜¯ï¼šä»å¤´å¼€å§‹ï¼Œè¿™æ ·ä¹Ÿå°±ä¼šå½¢æˆå¤´å°¾ç›¸æ¥çš„å¾ªç¯ï¼Œè¿™ä¹Ÿå°±æ˜¯å¾ªç¯é˜Ÿåˆ—åå­—çš„ç”±æ¥ã€‚</p>
<p>è¿˜æ˜¯ç”¨ä¸Šé¢çš„å›¾ï¼Œæˆ‘ä»¬å°† rear æŒ‡é’ˆæŒ‡å‘æ•°ç»„ä¸‹æ ‡ä¸º 0 çš„ä½ç½®å°±ä¸ä¼šæœ‰è¶Šç•Œé—®é¢˜äº†ã€‚å½“æˆ‘ä»¬å†å‘é˜Ÿåˆ—ä¸­æ·»åŠ å…ƒç´ çš„æ—¶å€™ï¼Œ rear å‘åç§»åŠ¨ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/%E5%BE%AA%E7%8E%AF%E9%98%9F%E5%88%97.png" alt="å¾ªç¯é˜Ÿåˆ—"></p>
<p>é¡ºåºé˜Ÿåˆ—ä¸­ï¼Œæˆ‘ä»¬è¯´ <code>front==rear</code> çš„æ—¶å€™é˜Ÿåˆ—ä¸ºç©ºï¼Œå¾ªç¯é˜Ÿåˆ—ä¸­åˆ™ä¸ä¸€æ ·ï¼Œä¹Ÿå¯èƒ½ä¸ºæ»¡ï¼Œå¦‚ä¸Šå›¾æ‰€ç¤ºã€‚è§£å†³åŠæ³•æœ‰ä¸¤ç§ï¼š</p>
<ol>
<li>å¯ä»¥è®¾ç½®ä¸€ä¸ªæ ‡å¿—å˜é‡ <code>flag</code>,å½“ <code>front==rear</code> å¹¶ä¸” <code>flag=0</code> çš„æ—¶å€™é˜Ÿåˆ—ä¸ºç©ºï¼Œå½“<code>front==rear</code> å¹¶ä¸” <code>flag=1</code> çš„æ—¶å€™é˜Ÿåˆ—ä¸ºæ»¡ã€‚</li>
<li>é˜Ÿåˆ—ä¸ºç©ºçš„æ—¶å€™å°±æ˜¯ <code>front==rear</code> ï¼Œé˜Ÿåˆ—æ»¡çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¿è¯æ•°ç»„è¿˜æœ‰ä¸€ä¸ªç©ºé—²çš„ä½ç½®ï¼Œrear å°±æŒ‡å‘è¿™ä¸ªç©ºé—²ä½ç½®ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œé‚£ä¹ˆç°åœ¨åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ä¸ºæ»¡çš„æ¡ä»¶å°±æ˜¯ï¼š <code>(rear+1) % QueueSize= front</code> ã€‚</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/%E5%BE%AA%E7%8E%AF%E9%98%9F%E5%88%97-%E5%A0%86%E6%BB%A1.png" alt="å¾ªç¯é˜Ÿåˆ—-é˜Ÿæ»¡"></p>
<h5 id="3-å¸¸è§åº”ç”¨åœºæ™¯"><a href="#3-å¸¸è§åº”ç”¨åœºæ™¯" class="headerlink" title="3. å¸¸è§åº”ç”¨åœºæ™¯"></a>3. å¸¸è§åº”ç”¨åœºæ™¯</h5><p>å½“æˆ‘ä»¬éœ€è¦æŒ‰ç…§ä¸€å®šé¡ºåºæ¥å¤„ç†æ•°æ®çš„æ—¶å€™å¯ä»¥è€ƒè™‘ä½¿ç”¨é˜Ÿåˆ—è¿™ä¸ªæ•°æ®ç»“æ„ã€‚</p>
<ul>
<li><strong>é˜»å¡é˜Ÿåˆ—ï¼š</strong> é˜»å¡é˜Ÿåˆ—å¯ä»¥çœ‹æˆåœ¨é˜Ÿåˆ—åŸºç¡€ä¸ŠåŠ äº†é˜»å¡æ“ä½œçš„é˜Ÿåˆ—ã€‚å½“é˜Ÿåˆ—ä¸ºç©ºçš„æ—¶å€™ï¼Œå‡ºé˜Ÿæ“ä½œé˜»å¡ï¼Œå½“é˜Ÿåˆ—æ»¡çš„æ—¶å€™ï¼Œå…¥é˜Ÿæ“ä½œé˜»å¡ã€‚ä½¿ç”¨é˜»å¡é˜Ÿåˆ—æˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“å®ç°â€œç”Ÿäº§è€… - æ¶ˆè´¹è€…â€œæ¨¡å‹ã€‚</li>
<li><strong>çº¿ç¨‹æ± ä¸­çš„è¯·æ±‚&#x2F;ä»»åŠ¡é˜Ÿåˆ—ï¼š</strong> çº¿ç¨‹æ± ä¸­æ²¡æœ‰ç©ºé—²çº¿ç¨‹æ—¶ï¼Œæ–°çš„ä»»åŠ¡è¯·æ±‚çº¿ç¨‹èµ„æºæ—¶ï¼Œçº¿ç¨‹æ± è¯¥å¦‚ä½•å¤„ç†å‘¢ï¼Ÿç­”æ¡ˆæ˜¯å°†è¿™äº›è¯·æ±‚æ”¾åœ¨é˜Ÿåˆ—ä¸­ï¼Œå½“æœ‰ç©ºé—²çº¿ç¨‹çš„æ—¶å€™ï¼Œä¼šå¾ªç¯ä¸­åå¤ä»é˜Ÿåˆ—ä¸­è·å–ä»»åŠ¡æ¥æ‰§è¡Œã€‚é˜Ÿåˆ—åˆ†ä¸ºæ— ç•Œé˜Ÿåˆ—(åŸºäºé“¾è¡¨)å’Œæœ‰ç•Œé˜Ÿåˆ—(åŸºäºæ•°ç»„)ã€‚æ— ç•Œé˜Ÿåˆ—çš„ç‰¹ç‚¹å°±æ˜¯å¯ä»¥ä¸€ç›´å…¥åˆ—ï¼Œé™¤éç³»ç»Ÿèµ„æºè€—å°½ï¼Œæ¯”å¦‚ ï¼š<code>FixedThreadPool</code> ä½¿ç”¨æ— ç•Œé˜Ÿåˆ— <code>LinkedBlockingQueue</code>ã€‚ä½†æ˜¯æœ‰ç•Œé˜Ÿåˆ—å°±ä¸ä¸€æ ·äº†ï¼Œå½“é˜Ÿåˆ—æ»¡çš„è¯åé¢å†æœ‰ä»»åŠ¡&#x2F;è¯·æ±‚å°±ä¼šæ‹’ç»ï¼Œåœ¨ Java ä¸­çš„ä½“ç°å°±æ˜¯ä¼šæŠ›å‡º<code>java.util.concurrent.RejectedExecutionException</code> å¼‚å¸¸ã€‚</li>
<li>Linux å†…æ ¸è¿›ç¨‹é˜Ÿåˆ—ï¼ˆæŒ‰ä¼˜å…ˆçº§æ’é˜Ÿï¼‰</li>
<li>ç°å®ç”Ÿæ´»ä¸­çš„æ´¾å¯¹ï¼Œæ’­æ”¾å™¨ä¸Šçš„æ’­æ”¾åˆ—è¡¨;</li>
<li>æ¶ˆæ¯é˜Ÿåˆ—</li>
<li>ç­‰ç­‰â€¦â€¦</li>
</ul>
<h4 id="1ã€å‰‘æŒ‡-Offer-59-I-æ»‘åŠ¨çª—å£çš„æœ€å¤§å€¼"><a href="#1ã€å‰‘æŒ‡-Offer-59-I-æ»‘åŠ¨çª—å£çš„æœ€å¤§å€¼" class="headerlink" title="1ã€å‰‘æŒ‡ Offer 59 - I. æ»‘åŠ¨çª—å£çš„æœ€å¤§å€¼"></a>1ã€å‰‘æŒ‡ Offer 59 - I. æ»‘åŠ¨çª—å£çš„æœ€å¤§å€¼</h4><p>ç»™å®šä¸€ä¸ªæ•°ç»„ <code>nums</code> å’Œæ»‘åŠ¨çª—å£çš„å¤§å° <code>k</code>ï¼Œè¯·æ‰¾å‡ºæ‰€æœ‰æ»‘åŠ¨çª—å£é‡Œçš„æœ€å¤§å€¼ã€‚</p>
<p><strong>ç¤ºä¾‹:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: nums = [1,3,-1,-3,5,3,6,7], å’Œ k = 3</span><br><span class="line">è¾“å‡º: [3,3,5,5,6,7] </span><br><span class="line">è§£é‡Š: </span><br><span class="line"></span><br><span class="line">  æ»‘åŠ¨çª—å£çš„ä½ç½®                æœ€å¤§å€¼</span><br><span class="line">---------------               -----</span><br><span class="line">[1  3  -1] -3  5  3  6  7       3</span><br><span class="line"> 1 [3  -1  -3] 5  3  6  7       3</span><br><span class="line"> 1  3 [-1  -3  5] 3  6  7       5</span><br><span class="line"> 1  3  -1 [-3  5  3] 6  7       5</span><br><span class="line"> 1  3  -1  -3 [5  3  6] 7       6</span><br><span class="line"> 1  3  -1  -3  5 [3  6  7]      7</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<p>ä½ å¯ä»¥å‡è®¾ <em>k</em> æ€»æ˜¯æœ‰æ•ˆçš„ï¼Œåœ¨è¾“å…¥æ•°ç»„ <strong>ä¸ä¸ºç©º</strong> çš„æƒ…å†µä¸‹ï¼Œ<code>1 â‰¤ k â‰¤ nums.length</code>ã€‚</p>
<p>é˜Ÿåˆ—</p>
<p>æ»‘åŠ¨çª—å£</p>
<p>å•è°ƒé˜Ÿåˆ—</p>
<p>å †ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰</p>
<hr>
<p><strong>è§£é¢˜æ€è·¯ï¼š</strong><br>è®¾çª—å£åŒºé—´ä¸º [i, j] ï¼Œæœ€å¤§å€¼ä¸º x j ã€‚å½“çª—å£å‘å‰ç§»åŠ¨ä¸€æ ¼ï¼Œåˆ™åŒºé—´å˜ä¸º [i+1,j+1]ï¼Œå³æ·»åŠ äº† nums[j + 1] ï¼Œåˆ é™¤äº†nums[i] ã€‚</p>
<p>è‹¥åªå‘çª—å£ [i, j]å³è¾¹æ·»åŠ æ•°å­— nums[j + 1]ï¼Œåˆ™æ–°çª—å£æœ€å¤§å€¼å¯ä»¥ é€šè¿‡ä¸€æ¬¡å¯¹æ¯” ä½¿ç”¨O(1) æ—¶é—´å¾—åˆ°ï¼Œå³ï¼š<code>x&#123;j+1&#125; = max(x&#123;j&#125;, nums[j + 1])</code>è€Œç”±äºåˆ é™¤çš„ nums[i]å¯èƒ½æ°å¥½æ˜¯çª—å£å†…å”¯ä¸€çš„æœ€å¤§å€¼ x jï¼Œå› æ­¤ä¸èƒ½é€šè¿‡ä»¥ä¸Šæ–¹æ³•è®¡ç®— x j+1ï¼Œè€Œå¿…é¡»ä½¿ç”¨O(jâˆ’i) æ—¶é—´ï¼Œ éå†æ•´ä¸ªçª—å£åŒºé—´ è·å–æœ€å¤§å€¼ï¼Œå³ï¼šx{j+1} &#x3D; max(nums(i+1),â€¦â€¦. , num(j+1))</p>
<p>æ ¹æ®ä»¥ä¸Šåˆ†æï¼Œå¯å¾— æš´åŠ›æ³• çš„æ—¶é—´å¤æ‚åº¦ä¸º O((n-k+1)k)â‰ˆO(nk) ã€‚</p>
<ul>
<li>è®¾æ•°ç»„ numsçš„é•¿åº¦ä¸º nn ï¼Œåˆ™å…±æœ‰ (n-k+1)ä¸ªçª—å£ï¼›</li>
<li>è·å–æ¯ä¸ªçª—å£æœ€å¤§å€¼éœ€çº¿æ€§éå†ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(k)ã€‚</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.leetcode-cn.com/1600878237-pBiBdf-Picture1.png" alt="Picture1.png"></p>
<blockquote>
<p><strong>æœ¬é¢˜éš¾ç‚¹ï¼š</strong> å¦‚ä½•åœ¨æ¯æ¬¡çª—å£æ»‘åŠ¨åï¼Œå°† â€œè·å–çª—å£å†…æœ€å¤§å€¼â€ çš„æ—¶é—´å¤æ‚åº¦ä» O(k) é™ä½è‡³ O(1)ã€‚</p>
</blockquote>
<p>å›å¿† å‰‘æŒ‡Offer 30. åŒ…å« min å‡½æ•°çš„æ ˆ ï¼Œå…¶ä½¿ç”¨ <strong>å•è°ƒæ ˆ</strong> å®ç°äº†éšæ„å…¥æ ˆã€å‡ºæ ˆæƒ…å†µä¸‹çš„ O(1)æ—¶é—´è·å– â€œæ ˆå†…æœ€å°å€¼â€ ã€‚æœ¬é¢˜åŒç†ï¼Œä¸åŒç‚¹åœ¨äº â€œå‡ºæ ˆæ“ä½œâ€ åˆ é™¤çš„æ˜¯ â€œåˆ—è¡¨å°¾éƒ¨å…ƒç´ â€ ï¼Œè€Œ â€œçª—å£æ»‘åŠ¨â€ åˆ é™¤çš„æ˜¯ â€œåˆ—è¡¨é¦–éƒ¨å…ƒç´ â€ã€‚</p>
<p>çª—å£å¯¹åº”çš„æ•°æ®ç»“æ„ä¸º <strong>åŒç«¯é˜Ÿåˆ—</strong> ï¼Œæœ¬é¢˜ä½¿ç”¨ <strong>å•è°ƒé˜Ÿåˆ—</strong> å³å¯è§£å†³ä»¥ä¸Šé—®é¢˜ã€‚éå†æ•°ç»„æ—¶ï¼Œæ¯è½®ä¿è¯å•è°ƒé˜Ÿåˆ— dequeï¼š</p>
<ol>
<li>deque å†… <strong>ä»…åŒ…å«çª—å£å†…çš„å…ƒç´ </strong> â‡’ æ¯è½®çª—å£æ»‘åŠ¨ç§»é™¤äº†å…ƒç´ nums[iâˆ’1] ï¼Œéœ€å°† dequeå†…çš„å¯¹åº”å…ƒç´ ä¸€èµ·åˆ é™¤ã€‚</li>
<li>deque å†…çš„å…ƒç´  <strong>éä¸¥æ ¼é€’å‡</strong> â‡’ æ¯è½®çª—å£æ»‘åŠ¨æ·»åŠ äº†å…ƒç´  nums[j + 1]ï¼Œéœ€å°† dequeå†…æ‰€æœ‰ &lt; nums[j + 1]çš„å…ƒç´ åˆ é™¤ã€‚</li>
</ol>
<p><strong>ç®—æ³•æµç¨‹ï¼š</strong></p>
<ol>
<li>åˆå§‹åŒ–ï¼š åŒç«¯é˜Ÿåˆ— deque ï¼Œç»“æœåˆ—è¡¨ res ï¼Œæ•°ç»„é•¿åº¦ n ï¼›</li>
<li>æ»‘åŠ¨çª—å£ï¼š å·¦è¾¹ç•ŒèŒƒå›´iâˆˆ[1âˆ’k,nâˆ’k] ï¼Œå³è¾¹ç•ŒèŒƒå›´ jâˆˆ[0,nâˆ’1] ï¼›<ol>
<li>è‹¥ i &gt; 0 ä¸” é˜Ÿé¦–å…ƒç´  deque[0] &#x3D;&#x3D; è¢«åˆ é™¤å…ƒç´  nums[iâˆ’1] ï¼šåˆ™é˜Ÿé¦–å…ƒç´ å‡ºé˜Ÿï¼›</li>
<li>åˆ é™¤ deque å†…æ‰€æœ‰ &lt;nums[j] çš„å…ƒç´ ï¼Œä»¥ä¿æŒ deque é€’å‡ï¼›</li>
<li>å°† nums[j]æ·»åŠ è‡³deque å°¾éƒ¨ï¼›</li>
<li>è‹¥å·²å½¢æˆçª—å£ï¼ˆå³ iâ‰¥0 ï¼‰ï¼šå°†çª—å£æœ€å¤§å€¼ï¼ˆå³é˜Ÿé¦–å…ƒç´  deque[0] ï¼‰æ·»åŠ è‡³åˆ—è¡¨ res ï¼›</li>
</ol>
</li>
<li>è¿”å›å€¼ï¼š è¿”å›ç»“æœåˆ—è¡¨ resres ï¼›</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.leetcode-cn.com/1600878237-YoQeRX-Picture4.png" alt="img"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.leetcode-cn.com/1600878237-cFWnrv-Picture5.png" alt="img"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.leetcode-cn.com/1600878237-jrguEx-Picture6.png" alt="img"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.leetcode-cn.com/1600878237-KPnHbt-Picture8.png" alt="img"></p>
<p><strong>å¤æ‚åº¦åˆ†æï¼š</strong><br>æ—¶é—´å¤æ‚åº¦ O(n) ï¼š å…¶ä¸­ nn ä¸ºæ•°ç»„ nums é•¿åº¦ï¼›çº¿æ€§éå†nums å ç”¨O(n) ï¼›æ¯ä¸ªå…ƒç´ æœ€å¤šä»…å…¥é˜Ÿå’Œå‡ºé˜Ÿä¸€æ¬¡ï¼Œå› æ­¤å•è°ƒé˜Ÿåˆ— dequeå ç”¨ O(2n) ã€‚<br>ç©ºé—´å¤æ‚åº¦ O(k)ï¼š åŒç«¯é˜Ÿåˆ—deque ä¸­æœ€å¤šåŒæ—¶å­˜å‚¨ kä¸ªå…ƒç´ ï¼ˆå³çª—å£å¤§å°ï¼‰ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span>[] maxSlidingWindow2(<span class="type">int</span>[] nums, <span class="type">int</span> k) &#123;</span><br><span class="line">    <span class="keyword">if</span>(nums.length == <span class="number">0</span> || k == <span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">0</span>];</span><br><span class="line">    Deque&lt;Integer&gt; deque = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    <span class="type">int</span>[] res = <span class="keyword">new</span> <span class="title class_">int</span>[nums.length - k + <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>, i = <span class="number">1</span> - k; j &lt; nums.length; i++, j++) &#123;</span><br><span class="line">        <span class="comment">// åˆ é™¤ deque ä¸­å¯¹åº”çš„ nums[i-1]</span></span><br><span class="line">        <span class="keyword">if</span>(i &gt; <span class="number">0</span> &amp;&amp; deque.peekFirst() == nums[i - <span class="number">1</span>])</span><br><span class="line">            deque.removeFirst();</span><br><span class="line">        <span class="comment">// ä¿æŒ deque é€’å‡</span></span><br><span class="line">        <span class="keyword">while</span>(!deque.isEmpty() &amp;&amp; deque.peekLast() &lt; nums[j])</span><br><span class="line">            deque.removeLast();</span><br><span class="line">        deque.addLast(nums[j]);</span><br><span class="line">        <span class="comment">// è®°å½•çª—å£æœ€å¤§å€¼</span></span><br><span class="line">        <span class="keyword">if</span>(i &gt;= <span class="number">0</span>)</span><br><span class="line">            res[i] = deque.peekFirst();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2ã€å‰‘æŒ‡-Offer-59-II-é˜Ÿåˆ—çš„æœ€å¤§å€¼"><a href="#2ã€å‰‘æŒ‡-Offer-59-II-é˜Ÿåˆ—çš„æœ€å¤§å€¼" class="headerlink" title="2ã€å‰‘æŒ‡ Offer 59 - II. é˜Ÿåˆ—çš„æœ€å¤§å€¼"></a>2ã€å‰‘æŒ‡ Offer 59 - II. é˜Ÿåˆ—çš„æœ€å¤§å€¼</h4><p>è¯·å®šä¹‰ä¸€ä¸ªé˜Ÿåˆ—å¹¶å®ç°å‡½æ•° <code>max_value</code> å¾—åˆ°é˜Ÿåˆ—é‡Œçš„æœ€å¤§å€¼ï¼Œè¦æ±‚å‡½æ•°<code>max_value</code>ã€<code>push_back</code> å’Œ <code>pop_front</code> çš„<strong>å‡æ‘Š</strong>æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯O(1)ã€‚</p>
<p>è‹¥é˜Ÿåˆ—ä¸ºç©ºï¼Œ<code>pop_front</code> å’Œ <code>max_value</code> éœ€è¦è¿”å› -1</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: </span><br><span class="line">[&quot;MaxQueue&quot;,&quot;push_back&quot;,&quot;push_back&quot;,&quot;max_value&quot;,&quot;pop_front&quot;,&quot;max_value&quot;]</span><br><span class="line">[[],[1],[2],[],[],[]]</span><br><span class="line">è¾“å‡º: [null,null,null,2,1,2]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: </span><br><span class="line">[&quot;MaxQueue&quot;,&quot;pop_front&quot;,&quot;max_value&quot;]</span><br><span class="line">[[],[],[]]</span><br><span class="line">è¾“å‡º: [null,-1,-1]</span><br></pre></td></tr></table></figure>



<p><strong>é™åˆ¶ï¼š</strong></p>
<ul>
<li><code>1 &lt;= push_back,pop_front,max_valueçš„æ€»æ“ä½œæ•° &lt;= 10000</code></li>
<li><code>1 &lt;= value &lt;= 10^5</code></li>
</ul>
<p>Related Topics</p>
<p>è®¾è®¡</p>
<p>é˜Ÿåˆ—</p>
<p>å•è°ƒé˜Ÿåˆ—</p>
<hr>
<p><strong>è§£é¢˜æ€è·¯ï¼š</strong></p>
<p>è€ƒè™‘åˆ©ç”¨ æ•°æ®ç»“æ„ æ¥å®ç°ï¼Œå³ç»å¸¸ä½¿ç”¨çš„ â€œç©ºé—´æ¢æ—¶é—´â€ ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œè€ƒè™‘æ„å»ºä¸€ä¸ªé€’å‡åˆ—è¡¨æ¥ä¿å­˜é˜Ÿåˆ— æ‰€æœ‰é€’å‡çš„å…ƒç´  ï¼Œé€’å‡é“¾è¡¨éšç€å…¥é˜Ÿå’Œå‡ºé˜Ÿæ“ä½œå®æ—¶æ›´æ–°ï¼Œè¿™æ ·é˜Ÿåˆ—æœ€å¤§å…ƒç´ å°±å§‹ç»ˆå¯¹åº”é€’å‡åˆ—è¡¨çš„é¦–å…ƒç´ ï¼Œå®ç°äº†è·å–æœ€å¤§å€¼O(1) æ—¶é—´å¤æ‚åº¦ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.leetcode-cn.com/1609261470-gMTEAf-Picture2.png" alt="Picture2.png"></p>
<p>ä¸ºäº†å®ç°æ­¤é€’å‡åˆ—è¡¨ï¼Œéœ€è¦ä½¿ç”¨ <strong>åŒå‘é˜Ÿåˆ—</strong> ï¼Œå‡è®¾é˜Ÿåˆ—å·²ç»æœ‰è‹¥å¹²å…ƒç´ ï¼š</p>
<ol>
<li>å½“æ‰§è¡Œå…¥é˜Ÿ push_back() æ—¶ï¼š è‹¥å…¥é˜Ÿä¸€ä¸ªæ¯”é˜Ÿåˆ—æŸäº›å…ƒç´ æ›´å¤§çš„æ•°å­— x ï¼Œåˆ™ä¸ºäº†ä¿æŒæ­¤åˆ—è¡¨é€’å‡ï¼Œéœ€è¦å°†åŒå‘é˜Ÿåˆ— å°¾éƒ¨æ‰€æœ‰å°äº x çš„å…ƒç´  å¼¹å‡ºã€‚</li>
<li>å½“æ‰§è¡Œå‡ºé˜Ÿ pop_front() æ—¶ï¼š è‹¥å‡ºé˜Ÿçš„å…ƒç´ æ˜¯æœ€å¤§å…ƒç´ ï¼Œåˆ™ åŒå‘é˜Ÿåˆ— éœ€è¦åŒæ—¶ <strong>å°†é¦–å…ƒç´ å‡ºé˜Ÿ</strong> ï¼Œä»¥ä¿æŒé˜Ÿåˆ—å’ŒåŒå‘é˜Ÿåˆ—çš„å…ƒç´ ä¸€è‡´æ€§ã€‚</li>
</ol>
<blockquote>
<p>ä½¿ç”¨åŒå‘é˜Ÿåˆ—åŸå› ï¼šç»´æŠ¤é€’å‡åˆ—è¡¨éœ€è¦å…ƒç´ é˜Ÿé¦–å¼¹å‡ºã€é˜Ÿå°¾æ’å…¥ã€é˜Ÿå°¾å¼¹å‡ºæ“ä½œçš†ä¸ºO(1) æ—¶é—´å¤æ‚åº¦ã€‚</p>
</blockquote>
<p><strong>å‡½æ•°è®¾è®¡ï¼š</strong></p>
<p>åˆå§‹åŒ–é˜Ÿåˆ— queue ï¼ŒåŒå‘é˜Ÿåˆ— deque ï¼›</p>
<p><strong>æœ€å¤§å€¼ max_value() ï¼š</strong></p>
<ul>
<li>å½“åŒå‘é˜Ÿåˆ— deque ä¸ºç©ºï¼Œåˆ™è¿”å›âˆ’1 ï¼›</li>
<li>å¦åˆ™ï¼Œè¿”å› deque é¦–å…ƒç´ ï¼›</li>
</ul>
<p><strong>å…¥é˜Ÿ push_back() ï¼š</strong></p>
<ul>
<li>å°†å…ƒç´  value å…¥é˜Ÿ queue ï¼›</li>
<li>å°†åŒå‘é˜Ÿåˆ—ä¸­é˜Ÿå°¾ æ‰€æœ‰ å°äº value çš„å…ƒç´ å¼¹å‡ºï¼ˆä»¥ä¿æŒ deque éå•è°ƒé€’å‡ï¼‰ï¼Œå¹¶å°†å…ƒç´  value å…¥é˜Ÿ deque ï¼›</li>
</ul>
<p><strong>å‡ºé˜Ÿ pop_front() ï¼š</strong></p>
<ul>
<li>è‹¥é˜Ÿåˆ— queue ä¸ºç©ºï¼Œåˆ™ç›´æ¥è¿”å› -1âˆ’1 ï¼›</li>
<li>å¦åˆ™ï¼Œå°† queue é¦–å…ƒç´ å‡ºé˜Ÿï¼›</li>
<li>è‹¥ deque é¦–å…ƒç´ å’Œ queue é¦–å…ƒç´  ç›¸ç­‰ ï¼Œåˆ™å°† deque é¦–å…ƒç´ å‡ºé˜Ÿï¼ˆä»¥ä¿æŒä¸¤é˜Ÿåˆ— å…ƒç´ ä¸€è‡´ ï¼‰ ï¼›</li>
</ul>
<blockquote>
<p>è®¾è®¡åŒå‘é˜Ÿåˆ—ä¸º éå•è°ƒé€’å‡ çš„åŸå› ï¼šè‹¥é˜Ÿåˆ— queue ä¸­å­˜åœ¨ä¸¤ä¸ª å€¼ç›¸åŒçš„æœ€å¤§å…ƒç´  ï¼Œæ­¤æ—¶ queue å’Œ deque åŒæ—¶å¼¹å‡ºä¸€ä¸ªæœ€å¤§å…ƒç´ ï¼Œè€Œ queue ä¸­è¿˜æœ‰ä¸€ä¸ªæ­¤æœ€å¤§å…ƒç´ ï¼›å³é‡‡ç”¨å•è°ƒé€’å‡å°†å¯¼è‡´ä¸¤é˜Ÿåˆ—ä¸­çš„å…ƒç´ ä¸ä¸€è‡´ã€‚</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MaxQueue</span> &#123;</span><br><span class="line">    Queue&lt;Integer&gt; queue;</span><br><span class="line">    Deque&lt;Integer&gt; deque;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MaxQueue</span><span class="params">()</span> &#123;</span><br><span class="line">        queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        deque = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">max_value</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (deque.isEmpty()) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="keyword">return</span> deque.peekFirst();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">push_back</span><span class="params">(<span class="type">int</span> value)</span> &#123;</span><br><span class="line">        queue.add(value);</span><br><span class="line">        <span class="keyword">while</span>(!deque.isEmpty() &amp;&amp; deque.peekLast() &lt; value)</span><br><span class="line">            deque.pollLast();</span><br><span class="line">        deque.offerLast(value);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">pop_front</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (queue.isEmpty())</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (Objects.equals(queue.peek(), deque.peekFirst()))</span><br><span class="line">                deque.removeFirst();</span><br><span class="line">            <span class="keyword">return</span> queue.poll();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="3ã€LC232-ç”¨æ ˆå®ç°é˜Ÿåˆ—"><a href="#3ã€LC232-ç”¨æ ˆå®ç°é˜Ÿåˆ—" class="headerlink" title="3ã€LC232. ç”¨æ ˆå®ç°é˜Ÿåˆ—"></a>3ã€LC232. ç”¨æ ˆå®ç°é˜Ÿåˆ—</h4><p>è¯·ä½ ä»…ä½¿ç”¨ä¸¤ä¸ªæ ˆå®ç°å…ˆå…¥å…ˆå‡ºé˜Ÿåˆ—ã€‚é˜Ÿåˆ—åº”å½“æ”¯æŒä¸€èˆ¬é˜Ÿåˆ—æ”¯æŒçš„æ‰€æœ‰æ“ä½œï¼ˆ<code>push</code>ã€<code>pop</code>ã€<code>peek</code>ã€<code>empty</code>ï¼‰ï¼š</p>
<p>å®ç° <code>MyQueue</code> ç±»ï¼š</p>
<ul>
<li><code>void push(int x)</code> å°†å…ƒç´  x æ¨åˆ°é˜Ÿåˆ—çš„æœ«å°¾</li>
<li><code>int pop()</code> ä»é˜Ÿåˆ—çš„å¼€å¤´ç§»é™¤å¹¶è¿”å›å…ƒç´ </li>
<li><code>int peek()</code> è¿”å›é˜Ÿåˆ—å¼€å¤´çš„å…ƒç´ </li>
<li><code>boolean empty()</code> å¦‚æœé˜Ÿåˆ—ä¸ºç©ºï¼Œè¿”å› <code>true</code> ï¼›å¦åˆ™ï¼Œè¿”å› <code>false</code></li>
</ul>
<p><strong>è¯´æ˜ï¼š</strong></p>
<ul>
<li>ä½  <strong>åªèƒ½</strong> ä½¿ç”¨æ ‡å‡†çš„æ ˆæ“ä½œ â€”â€” ä¹Ÿå°±æ˜¯åªæœ‰ <code>push to top</code>, <code>peek/pop from top</code>, <code>size</code>, å’Œ <code>is empty</code> æ“ä½œæ˜¯åˆæ³•çš„ã€‚</li>
<li>ä½ æ‰€ä½¿ç”¨çš„è¯­è¨€ä¹Ÿè®¸ä¸æ”¯æŒæ ˆã€‚ä½ å¯ä»¥ä½¿ç”¨ list æˆ–è€… dequeï¼ˆåŒç«¯é˜Ÿåˆ—ï¼‰æ¥æ¨¡æ‹Ÿä¸€ä¸ªæ ˆï¼Œåªè¦æ˜¯æ ‡å‡†çš„æ ˆæ“ä½œå³å¯ã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š</span><br><span class="line">[&quot;MyQueue&quot;, &quot;push&quot;, &quot;push&quot;, &quot;peek&quot;, &quot;pop&quot;, &quot;empty&quot;]</span><br><span class="line">[[], [1], [2], [], [], []]</span><br><span class="line">è¾“å‡ºï¼š</span><br><span class="line">[null, null, null, 1, 1, false]</span><br><span class="line"></span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">MyQueue myQueue = new MyQueue();</span><br><span class="line">myQueue.push(1); // queue is: [1]</span><br><span class="line">myQueue.push(2); // queue is: [1, 2] (leftmost is front of the queue)</span><br><span class="line">myQueue.peek(); // return 1</span><br><span class="line">myQueue.pop(); // return 1, queue is [2]</span><br><span class="line">myQueue.empty(); // return false</span><br></pre></td></tr></table></figure>





<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= x &lt;= 9</code></li>
<li>æœ€å¤šè°ƒç”¨ <code>100</code> æ¬¡ <code>push</code>ã€<code>pop</code>ã€<code>peek</code> å’Œ <code>empty</code></li>
<li>å‡è®¾æ‰€æœ‰æ“ä½œéƒ½æ˜¯æœ‰æ•ˆçš„ ï¼ˆä¾‹å¦‚ï¼Œä¸€ä¸ªç©ºçš„é˜Ÿåˆ—ä¸ä¼šè°ƒç”¨ <code>pop</code> æˆ–è€… <code>peek</code> æ“ä½œï¼‰</li>
</ul>
<p><strong>è¿›é˜¶ï¼š</strong></p>
<ul>
<li>ä½ èƒ½å¦å®ç°æ¯ä¸ªæ“ä½œå‡æ‘Šæ—¶é—´å¤æ‚åº¦ä¸º <code>O(1)</code> çš„é˜Ÿåˆ—ï¼Ÿæ¢å¥è¯è¯´ï¼Œæ‰§è¡Œ <code>n</code> ä¸ªæ“ä½œçš„æ€»æ—¶é—´å¤æ‚åº¦ä¸º <code>O(n)</code> ï¼Œå³ä½¿å…¶ä¸­ä¸€ä¸ªæ“ä½œå¯èƒ½èŠ±è´¹è¾ƒé•¿æ—¶é—´ã€‚</li>
</ul>
<p>Related Topics</p>
<p>æ ˆ</p>
<p>è®¾è®¡</p>
<p>é˜Ÿåˆ—</p>
<p>ğŸ‘ 828</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>:</p>
<p>ç”¨ä¸¤ä¸ªæ ˆæ¥æ¨¡æ‹Ÿé˜Ÿåˆ—ï¼Œä¸€ä¸ªæ ˆ s1 ç”¨æ¥å­˜å‚¨æ•°æ®ï¼Œå¦ä¸€ä¸ªæ ˆ s2 ç”¨æ¥åœ¨è¯»å–é˜Ÿå°¾å…ƒç´ è¿›è¡Œç¿»è½¬å­˜å‚¨ã€‚æ’å…¥å…ƒç´ æ—¶ç›´æ¥æ’å…¥ s1ï¼Œåœ¨ å‡ºé˜Ÿ æˆ–è€… è¯»å–é˜Ÿå¤´ æ—¶å€Ÿç”¨ s2 å®Œæˆåè½¬ã€‚</p>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦: æ’å…¥å…ƒç´ O(1),å‡ºé˜Ÿã€è®¿é—®é˜Ÿå¤´O(N)</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼šO(N)</li>
</ul>
<h3 id="å“ˆå¸Œè¡¨"><a href="#å“ˆå¸Œè¡¨" class="headerlink" title="#å“ˆå¸Œè¡¨"></a>#å“ˆå¸Œè¡¨</h3><h4 id="1ã€LC1-ä¸¤æ•°ä¹‹å’Œ"><a href="#1ã€LC1-ä¸¤æ•°ä¹‹å’Œ" class="headerlink" title="1ã€LC1. ä¸¤æ•°ä¹‹å’Œ"></a>1ã€LC1. ä¸¤æ•°ä¹‹å’Œ</h4><p>ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>nums</code> å’Œä¸€ä¸ªæ•´æ•°ç›®æ ‡å€¼ <code>target</code>ï¼Œè¯·ä½ åœ¨è¯¥æ•°ç»„ä¸­æ‰¾å‡º <strong>å’Œä¸ºç›®æ ‡å€¼</strong> <em><code>target</code></em> çš„é‚£ <strong>ä¸¤ä¸ª</strong> æ•´æ•°ï¼Œå¹¶è¿”å›å®ƒä»¬çš„æ•°ç»„ä¸‹æ ‡ã€‚</p>
<p>ä½ å¯ä»¥å‡è®¾æ¯ç§è¾“å…¥åªä¼šå¯¹åº”ä¸€ä¸ªç­”æ¡ˆã€‚ä½†æ˜¯ï¼Œæ•°ç»„ä¸­åŒä¸€ä¸ªå…ƒç´ åœ¨ç­”æ¡ˆé‡Œä¸èƒ½é‡å¤å‡ºç°ã€‚</p>
<p>ä½ å¯ä»¥æŒ‰ä»»æ„é¡ºåºè¿”å›ç­”æ¡ˆã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [2,7,11,15], target = 9</span><br><span class="line">è¾“å‡ºï¼š[0,1]</span><br><span class="line">è§£é‡Šï¼šå› ä¸º nums[0] + nums[1] == 9 ï¼Œè¿”å› [0, 1] ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [3,2,4], target = 6</span><br><span class="line">è¾“å‡ºï¼š[1,2]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [3,3], target = 6</span><br><span class="line">è¾“å‡ºï¼š[0,1]</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>2 &lt;= nums.length &lt;= 104</code></li>
<li><code>-109 &lt;= nums[i] &lt;= 109</code></li>
<li><code>-109 &lt;= target &lt;= 109</code></li>
<li><strong>åªä¼šå­˜åœ¨ä¸€ä¸ªæœ‰æ•ˆç­”æ¡ˆ</strong></li>
</ul>
<p><strong>è¿›é˜¶ï¼š</strong>ä½ å¯ä»¥æƒ³å‡ºä¸€ä¸ªæ—¶é—´å¤æ‚åº¦å°äº <code>O(n2)</code> çš„ç®—æ³•å—ï¼Ÿ</p>
<p>Related Topics</p>
<p>æ•°ç»„</p>
<p>å“ˆå¸Œè¡¨</p>
<p>ğŸ‘ 16042</p>
<p>ğŸ‘ 0</p>
<h5 id="å“ˆå¸Œæ³•"><a href="#å“ˆå¸Œæ³•" class="headerlink" title="å“ˆå¸Œæ³•"></a>å“ˆå¸Œæ³•</h5><p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>éå†æ•°ç»„ï¼Œç”¨å“ˆå¸Œè¡¨è®°å½•éå†çš„æ•°ç»„å€¼å’Œä¸‹è¡¨ã€‚éå†è¿‡ç¨‹ä¸­åœ¨å“ˆå¸Œè¡¨å¯»æ‰¾ target - nums[i]ï¼Œå¦‚æœå­˜åœ¨åˆ™è¿”å›å½“å‰ä¸‹æ ‡ i å’Œ target - nums[i] å¯¹åº”çš„ä¸‹æ ‡ map.get(target - nums[i])ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[] twoSum(<span class="type">int</span>[] nums, <span class="type">int</span> target) &#123;</span><br><span class="line">        Map&lt;Integer, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">val</span> <span class="operator">=</span> target - nums[i];</span><br><span class="line">            <span class="keyword">if</span> (map.containsKey(val)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">int</span>[] &#123;map.get(val), i&#125;;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                map.put(nums[i], i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">int</span>[]&#123;&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦O(N)</li>
<li>ç©ºé—´å¤æ‚åº¦O(N)</li>
</ul>
<h4 id="2ã€LC41-ç¼ºå¤±çš„ç¬¬ä¸€ä¸ªæ­£æ•°"><a href="#2ã€LC41-ç¼ºå¤±çš„ç¬¬ä¸€ä¸ªæ­£æ•°" class="headerlink" title="2ã€LC41. ç¼ºå¤±çš„ç¬¬ä¸€ä¸ªæ­£æ•°"></a>2ã€LC41. ç¼ºå¤±çš„ç¬¬ä¸€ä¸ªæ­£æ•°</h4><p>ç»™ä½ ä¸€ä¸ªæœªæ’åºçš„æ•´æ•°æ•°ç»„ <code>nums</code> ï¼Œè¯·ä½ æ‰¾å‡ºå…¶ä¸­æ²¡æœ‰å‡ºç°çš„æœ€å°çš„æ­£æ•´æ•°ã€‚</p>
<p>è¯·ä½ å®ç°æ—¶é—´å¤æ‚åº¦ä¸º <code>O(n)</code> å¹¶ä¸”åªä½¿ç”¨å¸¸æ•°çº§åˆ«é¢å¤–ç©ºé—´çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [1,2,0]</span><br><span class="line">è¾“å‡ºï¼š3</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [3,4,-1,1]</span><br><span class="line">è¾“å‡ºï¼š2</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [7,8,9,11,12]</span><br><span class="line">è¾“å‡ºï¼š1</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= nums.length &lt;= 5 * 105</code></li>
<li><code>-231 &lt;= nums[i] &lt;= 231 - 1</code></li>
</ul>
<p>Related Topics</p>
<p>æ•°ç»„</p>
<p>å“ˆå¸Œè¡¨</p>
<h5 id="æ–¹æ³•ä¸€ï¼šåŸåœ°hash"><a href="#æ–¹æ³•ä¸€ï¼šåŸåœ°hash" class="headerlink" title="æ–¹æ³•ä¸€ï¼šåŸåœ°hash"></a>æ–¹æ³•ä¸€ï¼šåŸåœ°hash</h5><ul>
<li>ç”±äºé¢˜ç›®è¦æ±‚æˆ‘ä»¬ã€Œ<strong>åªèƒ½ä½¿ç”¨å¸¸æ•°çº§åˆ«çš„ç©ºé—´</strong>ã€ï¼Œè€Œè¦æ‰¾çš„æ•°ä¸€å®šåœ¨ <code>[1, N + 1]</code> å·¦é—­å³é—­ï¼ˆè¿™é‡Œ <code>N</code> æ˜¯æ•°ç»„çš„é•¿åº¦ï¼‰è¿™ä¸ªåŒºé—´é‡Œã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å°±æŠŠåŸå§‹çš„æ•°ç»„å½“åšå“ˆå¸Œè¡¨æ¥ä½¿ç”¨ã€‚äº‹å®ä¸Šï¼Œ<strong>å“ˆå¸Œè¡¨å…¶å®æœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªæ•°ç»„</strong>ï¼›</li>
<li>æˆ‘ä»¬è¦æ‰¾çš„æ•°å°±åœ¨ <code>[1, N + 1]</code> é‡Œï¼Œæœ€å <code>N + 1</code> è¿™ä¸ªå…ƒç´ æˆ‘ä»¬ä¸ç”¨æ‰¾ã€‚å› ä¸ºåœ¨å‰é¢çš„ <code>N</code> ä¸ªå…ƒç´ éƒ½æ‰¾ä¸åˆ°çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æ‰è¿”å› <code>N + 1</code>ï¼›</li>
<li>é‚£ä¹ˆï¼Œæˆ‘ä»¬å¯ä»¥é‡‡å–è¿™æ ·çš„æ€è·¯ï¼šå°±æŠŠ 1 è¿™ä¸ªæ•°æ”¾åˆ°ä¸‹æ ‡ä¸º 0 çš„ä½ç½®ï¼Œ 2 è¿™ä¸ªæ•°æ”¾åˆ°ä¸‹æ ‡ä¸º 1 çš„ä½ç½®ï¼ŒæŒ‰ç…§è¿™ç§æ€è·¯æ•´ç†ä¸€éæ•°ç»„ã€‚ç„¶åæˆ‘ä»¬å†éå†ä¸€æ¬¡æ•°ç»„ï¼Œç¬¬ 1 ä¸ªé‡åˆ°çš„å®ƒçš„å€¼ä¸ç­‰äºä¸‹æ ‡çš„é‚£ä¸ªæ•°ï¼Œå°±æ˜¯æˆ‘ä»¬è¦æ‰¾çš„ç¼ºå¤±çš„ç¬¬ä¸€ä¸ªæ­£æ•°ã€‚</li>
<li>è¿™ä¸ªæ€æƒ³å°±ç›¸å½“äº<strong>æˆ‘ä»¬è‡ªå·±ç¼–å†™å“ˆå¸Œå‡½æ•°</strong>ï¼Œè¿™ä¸ªå“ˆå¸Œå‡½æ•°çš„è§„åˆ™ç‰¹åˆ«ç®€å•ï¼Œé‚£å°±æ˜¯æ•°å€¼ä¸º <code>i</code> çš„æ•°æ˜ å°„åˆ°ä¸‹æ ‡ä¸º <code>i - 1</code> çš„ä½ç½®ã€‚</li>
</ul>
<p>æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹è¿™ä¸ªç®—æ³•æ˜¯å¦‚ä½•åº”ç”¨åœ¨ç¤ºä¾‹ 2 ä¸Šçš„ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1e4f3f1c9a6fb37c2aa515069508f5f3ef9d72cc55b586790f9bec9705052d17-0041-14.png" alt="0041-14.png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="comment">// åŸåœ°å“ˆå¸Œ</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">firstMissingPositive</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> nums.length;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">            <span class="keyword">while</span> (nums[i] &gt; <span class="number">0</span> <span class="comment">// è´Ÿæ•°ä¸ç”¨ç®¡</span></span><br><span class="line">                    &amp;&amp; nums[i] &lt;= len <span class="comment">// å¤§äºæ•°ç»„é•¿åº¦çš„æ•°ä¸ç”¨ç®¡</span></span><br><span class="line">                    &amp;&amp; nums[nums[i] - <span class="number">1</span>] != nums[i] <span class="comment">// æ•°ç»„ i - 1 çš„ä½ç½®å·²ç» == i äº†ä¸ç”¨äº¤æ¢</span></span><br><span class="line">            ) &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> nums[nums[i] - <span class="number">1</span>];</span><br><span class="line">                nums[nums[i] - <span class="number">1</span>] = nums[i];</span><br><span class="line">                nums[i] = temp;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">            <span class="comment">// æ‰¾ç¬¬ä¸€ä¸ªä¸åŒ¹é…çš„ä½ç½®</span></span><br><span class="line">            <span class="keyword">if</span> (nums[i] != i + <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> i + <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// éƒ½æ­£ç¡®åˆ™è¿”å›æ•°ç»„é•¿åº¦ + 1</span></span><br><span class="line">        <span class="keyword">return</span> len + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦O(N)</li>
<li>ç©ºé—´å¤æ‚åº¦O(1)</li>
</ul>
<h3 id="å¸ƒéš†è¿‡æ»¤å™¨"><a href="#å¸ƒéš†è¿‡æ»¤å™¨" class="headerlink" title="#å¸ƒéš†è¿‡æ»¤å™¨"></a>#å¸ƒéš†è¿‡æ»¤å™¨</h3><p>æµ·é‡æ•°æ®å¤„ç†ä»¥åŠç¼“å­˜ç©¿é€è¿™ä¸¤ä¸ªåœºæ™¯è®©æˆ‘è®¤è¯†äº† <strong>å¸ƒéš†è¿‡æ»¤å™¨</strong> ï¼Œæˆ‘æŸ¥é˜…äº†ä¸€äº›èµ„æ–™æ¥äº†è§£å®ƒï¼Œä½†æ˜¯å¾ˆå¤šç°æˆèµ„æ–™å¹¶ä¸æ»¡è¶³æˆ‘çš„éœ€æ±‚ï¼Œæ‰€ä»¥å°±å†³å®šè‡ªå·±æ€»ç»“ä¸€ç¯‡å…³äºå¸ƒéš†è¿‡æ»¤å™¨çš„æ–‡ç« ã€‚å¸Œæœ›é€šè¿‡è¿™ç¯‡æ–‡ç« è®©æ›´å¤šäººäº†è§£å¸ƒéš†è¿‡æ»¤å™¨ï¼Œå¹¶ä¸”ä¼šå®é™…å»ä½¿ç”¨å®ƒï¼</p>
<p>ä¸‹é¢æˆ‘ä»¬å°†åˆ†ä¸ºå‡ ä¸ªæ–¹é¢æ¥ä»‹ç»å¸ƒéš†è¿‡æ»¤å™¨ï¼š</p>
<ol>
<li>ä»€ä¹ˆæ˜¯å¸ƒéš†è¿‡æ»¤å™¨ï¼Ÿ</li>
<li>å¸ƒéš†è¿‡æ»¤å™¨çš„åŸç†ä»‹ç»ã€‚</li>
<li>å¸ƒéš†è¿‡æ»¤å™¨ä½¿ç”¨åœºæ™¯ã€‚</li>
<li>é€šè¿‡ Java ç¼–ç¨‹æ‰‹åŠ¨å®ç°å¸ƒéš†è¿‡æ»¤å™¨ã€‚</li>
<li>åˆ©ç”¨ Google å¼€æºçš„ Guava ä¸­è‡ªå¸¦çš„å¸ƒéš†è¿‡æ»¤å™¨ã€‚</li>
<li>Redis ä¸­çš„å¸ƒéš†è¿‡æ»¤å™¨ã€‚</li>
</ol>
<h4 id="ä»€ä¹ˆæ˜¯å¸ƒéš†è¿‡æ»¤å™¨ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯å¸ƒéš†è¿‡æ»¤å™¨ï¼Ÿ" class="headerlink" title="# ä»€ä¹ˆæ˜¯å¸ƒéš†è¿‡æ»¤å™¨ï¼Ÿ"></a><a href="#%E4%BB%80%E4%B9%88%E6%98%AF%E5%B8%83%E9%9A%86%E8%BF%87%E6%BB%A4%E5%99%A8">#</a> ä»€ä¹ˆæ˜¯å¸ƒéš†è¿‡æ»¤å™¨ï¼Ÿ</h4><p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦äº†è§£å¸ƒéš†è¿‡æ»¤å™¨çš„æ¦‚å¿µã€‚</p>
<p><strong>å¸ƒéš†è¿‡æ»¤å™¨</strong>ï¼ˆBloom Filterï¼‰æ˜¯ä¸€ä¸ªå«åš Bloom çš„è€å“¥äº 1970 å¹´æå‡ºçš„ã€‚æˆ‘ä»¬å¯ä»¥æŠŠå®ƒçœ‹ä½œç”±äºŒè¿›åˆ¶å‘é‡ï¼ˆæˆ–è€…è¯´ä½æ•°ç»„ï¼‰å’Œä¸€ç³»åˆ—éšæœºæ˜ å°„å‡½æ•°ï¼ˆå“ˆå¸Œå‡½æ•°ï¼‰ä¸¤éƒ¨åˆ†ç»„æˆçš„æ•°æ®ç»“æ„ã€‚ç›¸æ¯”äºæˆ‘ä»¬å¹³æ—¶å¸¸ç”¨çš„çš„ Listã€Map ã€Set ç­‰æ•°æ®ç»“æ„ï¼Œå®ƒå ç”¨ç©ºé—´æ›´å°‘å¹¶ä¸”æ•ˆç‡æ›´é«˜ï¼Œä½†æ˜¯ç¼ºç‚¹æ˜¯å…¶è¿”å›çš„ç»“æœæ˜¯æ¦‚ç‡æ€§çš„ï¼Œè€Œä¸æ˜¯éå¸¸å‡†ç¡®çš„ã€‚ç†è®ºæƒ…å†µä¸‹æ·»åŠ åˆ°é›†åˆä¸­çš„å…ƒç´ è¶Šå¤šï¼Œè¯¯æŠ¥çš„å¯èƒ½æ€§å°±è¶Šå¤§ã€‚å¹¶ä¸”ï¼Œå­˜æ”¾åœ¨å¸ƒéš†è¿‡æ»¤å™¨çš„æ•°æ®ä¸å®¹æ˜“åˆ é™¤ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/%E5%B8%83%E9%9A%86%E8%BF%87%E6%BB%A4%E5%99%A8-bit%E6%95%B0%E7%BB%84.png" alt="å¸ƒéš†è¿‡æ»¤å™¨ç¤ºæ„å›¾"></p>
<p>ä½æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½åªå ç”¨ 1 bit ï¼Œå¹¶ä¸”æ¯ä¸ªå…ƒç´ åªèƒ½æ˜¯ 0 æˆ–è€… 1ã€‚è¿™æ ·ç”³è¯·ä¸€ä¸ª 100w ä¸ªå…ƒç´ çš„ä½æ•°ç»„åªå ç”¨ 1000000Bit &#x2F; 8 &#x3D; 125000 Byte &#x3D; 125000&#x2F;1024 kb â‰ˆ 122kb çš„ç©ºé—´ã€‚</p>
<p>æ€»ç»“ï¼š<strong>ä¸€ä¸ªåå« Bloom çš„äººæå‡ºäº†ä¸€ç§æ¥æ£€ç´¢å…ƒç´ æ˜¯å¦åœ¨ç»™å®šå¤§é›†åˆä¸­çš„æ•°æ®ç»“æ„ï¼Œè¿™ç§æ•°æ®ç»“æ„æ˜¯é«˜æ•ˆä¸”æ€§èƒ½å¾ˆå¥½çš„ï¼Œä½†ç¼ºç‚¹æ˜¯å…·æœ‰ä¸€å®šçš„é”™è¯¯è¯†åˆ«ç‡å’Œåˆ é™¤éš¾åº¦ã€‚å¹¶ä¸”ï¼Œç†è®ºæƒ…å†µä¸‹ï¼Œæ·»åŠ åˆ°é›†åˆä¸­çš„å…ƒç´ è¶Šå¤šï¼Œè¯¯æŠ¥çš„å¯èƒ½æ€§å°±è¶Šå¤§ã€‚</strong></p>
<h4 id="å¸ƒéš†è¿‡æ»¤å™¨çš„åŸç†ä»‹ç»"><a href="#å¸ƒéš†è¿‡æ»¤å™¨çš„åŸç†ä»‹ç»" class="headerlink" title="# å¸ƒéš†è¿‡æ»¤å™¨çš„åŸç†ä»‹ç»"></a><a href="#%E5%B8%83%E9%9A%86%E8%BF%87%E6%BB%A4%E5%99%A8%E7%9A%84%E5%8E%9F%E7%90%86%E4%BB%8B%E7%BB%8D">#</a> å¸ƒéš†è¿‡æ»¤å™¨çš„åŸç†ä»‹ç»</h4><p><strong>å½“ä¸€ä¸ªå…ƒç´ åŠ å…¥å¸ƒéš†è¿‡æ»¤å™¨ä¸­çš„æ—¶å€™ï¼Œä¼šè¿›è¡Œå¦‚ä¸‹æ“ä½œï¼š</strong></p>
<ol>
<li>ä½¿ç”¨å¸ƒéš†è¿‡æ»¤å™¨ä¸­çš„å“ˆå¸Œå‡½æ•°å¯¹å…ƒç´ å€¼è¿›è¡Œè®¡ç®—ï¼Œå¾—åˆ°å“ˆå¸Œå€¼ï¼ˆæœ‰å‡ ä¸ªå“ˆå¸Œå‡½æ•°å¾—åˆ°å‡ ä¸ªå“ˆå¸Œå€¼ï¼‰ã€‚</li>
<li>æ ¹æ®å¾—åˆ°çš„å“ˆå¸Œå€¼ï¼Œåœ¨ä½æ•°ç»„ä¸­æŠŠå¯¹åº”ä¸‹æ ‡çš„å€¼ç½®ä¸º 1ã€‚</li>
</ol>
<p><strong>å½“æˆ‘ä»¬éœ€è¦åˆ¤æ–­ä¸€ä¸ªå…ƒç´ æ˜¯å¦å­˜åœ¨äºå¸ƒéš†è¿‡æ»¤å™¨çš„æ—¶å€™ï¼Œä¼šè¿›è¡Œå¦‚ä¸‹æ“ä½œï¼š</strong></p>
<ol>
<li>å¯¹ç»™å®šå…ƒç´ å†æ¬¡è¿›è¡Œç›¸åŒçš„å“ˆå¸Œè®¡ç®—ï¼›</li>
<li>å¾—åˆ°å€¼ä¹‹ååˆ¤æ–­ä½æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ æ˜¯å¦éƒ½ä¸º 1ï¼Œå¦‚æœå€¼éƒ½ä¸º 1ï¼Œé‚£ä¹ˆè¯´æ˜è¿™ä¸ªå€¼åœ¨å¸ƒéš†è¿‡æ»¤å™¨ä¸­ï¼Œå¦‚æœå­˜åœ¨ä¸€ä¸ªå€¼ä¸ä¸º 1ï¼Œè¯´æ˜è¯¥å…ƒç´ ä¸åœ¨å¸ƒéš†è¿‡æ»¤å™¨ä¸­ã€‚</li>
</ol>
<p>ä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/%E5%B8%83%E9%9A%86%E8%BF%87%E6%BB%A4%E5%99%A8-hash%E8%BF%90%E7%AE%97.png" alt="å¸ƒéš†è¿‡æ»¤å™¨hashè®¡ç®—"></p>
<p>å¦‚å›¾æ‰€ç¤ºï¼Œå½“å­—ç¬¦ä¸²å­˜å‚¨è¦åŠ å…¥åˆ°å¸ƒéš†è¿‡æ»¤å™¨ä¸­æ—¶ï¼Œè¯¥å­—ç¬¦ä¸²é¦–å…ˆç”±å¤šä¸ªå“ˆå¸Œå‡½æ•°ç”Ÿæˆä¸åŒçš„å“ˆå¸Œå€¼ï¼Œç„¶åå°†å¯¹åº”çš„ä½æ•°ç»„çš„ä¸‹æ ‡è®¾ç½®ä¸º 1ï¼ˆå½“ä½æ•°ç»„åˆå§‹åŒ–æ—¶ï¼Œæ‰€æœ‰ä½ç½®å‡ä¸º 0ï¼‰ã€‚å½“ç¬¬äºŒæ¬¡å­˜å‚¨ç›¸åŒå­—ç¬¦ä¸²æ—¶ï¼Œå› ä¸ºå…ˆå‰çš„å¯¹åº”ä½ç½®å·²è®¾ç½®ä¸º 1ï¼Œæ‰€ä»¥å¾ˆå®¹æ˜“çŸ¥é“æ­¤å€¼å·²ç»å­˜åœ¨ï¼ˆå»é‡éå¸¸æ–¹ä¾¿ï¼‰ã€‚</p>
<p>å¦‚æœæˆ‘ä»¬éœ€è¦åˆ¤æ–­æŸä¸ªå­—ç¬¦ä¸²æ˜¯å¦åœ¨å¸ƒéš†è¿‡æ»¤å™¨ä¸­æ—¶ï¼Œåªéœ€è¦å¯¹ç»™å®šå­—ç¬¦ä¸²å†æ¬¡è¿›è¡Œç›¸åŒçš„å“ˆå¸Œè®¡ç®—ï¼Œå¾—åˆ°å€¼ä¹‹ååˆ¤æ–­ä½æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ æ˜¯å¦éƒ½ä¸º 1ï¼Œå¦‚æœå€¼éƒ½ä¸º 1ï¼Œé‚£ä¹ˆè¯´æ˜è¿™ä¸ªå€¼åœ¨å¸ƒéš†è¿‡æ»¤å™¨ä¸­ï¼Œå¦‚æœå­˜åœ¨ä¸€ä¸ªå€¼ä¸ä¸º 1ï¼Œè¯´æ˜è¯¥å…ƒç´ ä¸åœ¨å¸ƒéš†è¿‡æ»¤å™¨ä¸­ã€‚</p>
<p><strong>ä¸åŒçš„å­—ç¬¦ä¸²å¯èƒ½å“ˆå¸Œå‡ºæ¥çš„ä½ç½®ç›¸åŒï¼Œè¿™ç§æƒ…å†µæˆ‘ä»¬å¯ä»¥é€‚å½“å¢åŠ ä½æ•°ç»„å¤§å°æˆ–è€…è°ƒæ•´æˆ‘ä»¬çš„å“ˆå¸Œå‡½æ•°ã€‚</strong></p>
<p>ç»¼ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºï¼š<strong>å¸ƒéš†è¿‡æ»¤å™¨è¯´æŸä¸ªå…ƒç´ å­˜åœ¨ï¼Œå°æ¦‚ç‡ä¼šè¯¯åˆ¤ã€‚å¸ƒéš†è¿‡æ»¤å™¨è¯´æŸä¸ªå…ƒç´ ä¸åœ¨ï¼Œé‚£ä¹ˆè¿™ä¸ªå…ƒç´ ä¸€å®šä¸åœ¨ã€‚</strong></p>
<h4 id="å¸ƒéš†è¿‡æ»¤å™¨ä½¿ç”¨åœºæ™¯"><a href="#å¸ƒéš†è¿‡æ»¤å™¨ä½¿ç”¨åœºæ™¯" class="headerlink" title="# å¸ƒéš†è¿‡æ»¤å™¨ä½¿ç”¨åœºæ™¯"></a><a href="#%E5%B8%83%E9%9A%86%E8%BF%87%E6%BB%A4%E5%99%A8%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF">#</a> å¸ƒéš†è¿‡æ»¤å™¨ä½¿ç”¨åœºæ™¯</h4><ol>
<li>åˆ¤æ–­ç»™å®šæ•°æ®æ˜¯å¦å­˜åœ¨ï¼šæ¯”å¦‚åˆ¤æ–­ä¸€ä¸ªæ•°å­—æ˜¯å¦å­˜åœ¨äºåŒ…å«å¤§é‡æ•°å­—çš„æ•°å­—é›†ä¸­ï¼ˆæ•°å­—é›†å¾ˆå¤§ï¼Œ5 äº¿ä»¥ä¸Šï¼ï¼‰ã€ é˜²æ­¢ç¼“å­˜ç©¿é€ï¼ˆåˆ¤æ–­è¯·æ±‚çš„æ•°æ®æ˜¯å¦æœ‰æ•ˆé¿å…ç›´æ¥ç»•è¿‡ç¼“å­˜è¯·æ±‚æ•°æ®åº“ï¼‰ç­‰ç­‰ã€é‚®ç®±çš„åƒåœ¾é‚®ä»¶è¿‡æ»¤ã€é»‘åå•åŠŸèƒ½ç­‰ç­‰ã€‚</li>
<li>å»é‡ï¼šæ¯”å¦‚çˆ¬ç»™å®šç½‘å€çš„æ—¶å€™å¯¹å·²ç»çˆ¬å–è¿‡çš„ URL å»é‡ã€‚</li>
</ol>
<h4 id="ç¼–ç å®æˆ˜"><a href="#ç¼–ç å®æˆ˜" class="headerlink" title="# ç¼–ç å®æˆ˜"></a><a href="#%E7%BC%96%E7%A0%81%E5%AE%9E%E6%88%98">#</a> ç¼–ç å®æˆ˜</h4><h5 id="é€šè¿‡-Java-ç¼–ç¨‹æ‰‹åŠ¨å®ç°å¸ƒéš†è¿‡æ»¤å™¨"><a href="#é€šè¿‡-Java-ç¼–ç¨‹æ‰‹åŠ¨å®ç°å¸ƒéš†è¿‡æ»¤å™¨" class="headerlink" title="# é€šè¿‡ Java ç¼–ç¨‹æ‰‹åŠ¨å®ç°å¸ƒéš†è¿‡æ»¤å™¨"></a><a href="#%E9%80%9A%E8%BF%87-java-%E7%BC%96%E7%A8%8B%E6%89%8B%E5%8A%A8%E5%AE%9E%E7%8E%B0%E5%B8%83%E9%9A%86%E8%BF%87%E6%BB%A4%E5%99%A8">#</a> é€šè¿‡ Java ç¼–ç¨‹æ‰‹åŠ¨å®ç°å¸ƒéš†è¿‡æ»¤å™¨</h5><p>æˆ‘ä»¬ä¸Šé¢å·²ç»è¯´äº†å¸ƒéš†è¿‡æ»¤å™¨çš„åŸç†ï¼ŒçŸ¥é“äº†å¸ƒéš†è¿‡æ»¤å™¨çš„åŸç†ä¹‹åå°±å¯ä»¥è‡ªå·±æ‰‹åŠ¨å®ç°ä¸€ä¸ªäº†ã€‚</p>
<p>å¦‚æœä½ æƒ³è¦æ‰‹åŠ¨å®ç°ä¸€ä¸ªçš„è¯ï¼Œä½ éœ€è¦ï¼š</p>
<ol>
<li>ä¸€ä¸ªåˆé€‚å¤§å°çš„ä½æ•°ç»„ä¿å­˜æ•°æ®</li>
<li>å‡ ä¸ªä¸åŒçš„å“ˆå¸Œå‡½æ•°</li>
<li>æ·»åŠ å…ƒç´ åˆ°ä½æ•°ç»„ï¼ˆå¸ƒéš†è¿‡æ»¤å™¨ï¼‰çš„æ–¹æ³•å®ç°</li>
<li>åˆ¤æ–­ç»™å®šå…ƒç´ æ˜¯å¦å­˜åœ¨äºä½æ•°ç»„ï¼ˆå¸ƒéš†è¿‡æ»¤å™¨ï¼‰çš„æ–¹æ³•å®ç°ã€‚</li>
</ol>
<p>ä¸‹é¢ç»™å‡ºä¸€ä¸ªæˆ‘è§‰å¾—å†™çš„è¿˜ç®—ä¸é”™çš„ä»£ç ï¼ˆå‚è€ƒç½‘ä¸Šå·²æœ‰ä»£ç æ”¹è¿›å¾—åˆ°ï¼Œå¯¹äºæ‰€æœ‰ç±»å‹å¯¹è±¡çš†é€‚ç”¨ï¼‰ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.BitSet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyBloomFilter</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ä½æ•°ç»„çš„å¤§å°</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">DEFAULT_SIZE</span> <span class="operator">=</span> <span class="number">2</span> &lt;&lt; <span class="number">24</span>;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * é€šè¿‡è¿™ä¸ªæ•°ç»„å¯ä»¥åˆ›å»º 6 ä¸ªä¸åŒçš„å“ˆå¸Œå‡½æ•°</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span>[] SEEDS = <span class="keyword">new</span> <span class="title class_">int</span>[]&#123;<span class="number">3</span>, <span class="number">13</span>, <span class="number">46</span>, <span class="number">71</span>, <span class="number">91</span>, <span class="number">134</span>&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ä½æ•°ç»„ã€‚æ•°ç»„ä¸­çš„å…ƒç´ åªèƒ½æ˜¯ 0 æˆ–è€… 1</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">BitSet</span> <span class="variable">bits</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BitSet</span>(DEFAULT_SIZE);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å­˜æ”¾åŒ…å« hash å‡½æ•°çš„ç±»çš„æ•°ç»„</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> SimpleHash[] func = <span class="keyword">new</span> <span class="title class_">SimpleHash</span>[SEEDS.length];</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆå§‹åŒ–å¤šä¸ªåŒ…å« hash å‡½æ•°çš„ç±»çš„æ•°ç»„ï¼Œæ¯ä¸ªç±»ä¸­çš„ hash å‡½æ•°éƒ½ä¸ä¸€æ ·</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MyBloomFilter</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// åˆå§‹åŒ–å¤šä¸ªä¸åŒçš„ Hash å‡½æ•°</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; SEEDS.length; i++) &#123;</span><br><span class="line">            func[i] = <span class="keyword">new</span> <span class="title class_">SimpleHash</span>(DEFAULT_SIZE, SEEDS[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ·»åŠ å…ƒç´ åˆ°ä½æ•°ç»„</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(Object value)</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (SimpleHash f : func) &#123;</span><br><span class="line">            bits.set(f.hash(value), <span class="literal">true</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆ¤æ–­æŒ‡å®šå…ƒç´ æ˜¯å¦å­˜åœ¨äºä½æ•°ç»„</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">contains</span><span class="params">(Object value)</span> &#123;</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">ret</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">for</span> (SimpleHash f : func) &#123;</span><br><span class="line">            ret = ret &amp;&amp; bits.get(f.hash(value));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * é™æ€å†…éƒ¨ç±»ã€‚ç”¨äº hash æ“ä½œï¼</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">SimpleHash</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">private</span> <span class="type">int</span> cap;</span><br><span class="line">        <span class="keyword">private</span> <span class="type">int</span> seed;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">SimpleHash</span><span class="params">(<span class="type">int</span> cap, <span class="type">int</span> seed)</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.cap = cap;</span><br><span class="line">            <span class="built_in">this</span>.seed = seed;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * è®¡ç®— hash å€¼</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">hash</span><span class="params">(Object value)</span> &#123;</span><br><span class="line">            <span class="type">int</span> h;</span><br><span class="line">            <span class="keyword">return</span> (value == <span class="literal">null</span>) ? <span class="number">0</span> : Math.abs(seed * (cap - <span class="number">1</span>) &amp; ((h = value.hashCode()) ^ (h &gt;&gt;&gt; <span class="number">16</span>)));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æµ‹è¯•ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">value1</span> <span class="operator">=</span> <span class="string">&quot;https://javaguide.cn/&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">value2</span> <span class="operator">=</span> <span class="string">&quot;https://github.com/Snailclimb&quot;</span>;</span><br><span class="line"><span class="type">MyBloomFilter</span> <span class="variable">filter</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyBloomFilter</span>();</span><br><span class="line">System.out.println(filter.contains(value1));</span><br><span class="line">System.out.println(filter.contains(value2));</span><br><span class="line">filter.add(value1);</span><br><span class="line">filter.add(value2);</span><br><span class="line">System.out.println(filter.contains(value1));</span><br><span class="line">System.out.println(filter.contains(value2));</span><br></pre></td></tr></table></figure>

<p>Output:</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">false</span><br><span class="line">false</span><br><span class="line">true</span><br><span class="line">true</span><br></pre></td></tr></table></figure>

<p>æµ‹è¯•ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Integer</span> <span class="variable">value1</span> <span class="operator">=</span> <span class="number">13423</span>;</span><br><span class="line"><span class="type">Integer</span> <span class="variable">value2</span> <span class="operator">=</span> <span class="number">22131</span>;</span><br><span class="line"><span class="type">MyBloomFilter</span> <span class="variable">filter</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyBloomFilter</span>();</span><br><span class="line">System.out.println(filter.contains(value1));</span><br><span class="line">System.out.println(filter.contains(value2));</span><br><span class="line">filter.add(value1);</span><br><span class="line">filter.add(value2);</span><br><span class="line">System.out.println(filter.contains(value1));</span><br><span class="line">System.out.println(filter.contains(value2));</span><br></pre></td></tr></table></figure>

<p>Output:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">false</span></span><br><span class="line"><span class="literal">false</span></span><br><span class="line"><span class="literal">true</span></span><br><span class="line"><span class="literal">true</span></span><br></pre></td></tr></table></figure>

<h5 id="åˆ©ç”¨-Google-å¼€æºçš„-Guava-ä¸­è‡ªå¸¦çš„å¸ƒéš†è¿‡æ»¤å™¨"><a href="#åˆ©ç”¨-Google-å¼€æºçš„-Guava-ä¸­è‡ªå¸¦çš„å¸ƒéš†è¿‡æ»¤å™¨" class="headerlink" title="# åˆ©ç”¨ Google å¼€æºçš„ Guava ä¸­è‡ªå¸¦çš„å¸ƒéš†è¿‡æ»¤å™¨"></a><a href="#%E5%88%A9%E7%94%A8-google-%E5%BC%80%E6%BA%90%E7%9A%84-guava-%E4%B8%AD%E8%87%AA%E5%B8%A6%E7%9A%84%E5%B8%83%E9%9A%86%E8%BF%87%E6%BB%A4%E5%99%A8">#</a> åˆ©ç”¨ Google å¼€æºçš„ Guava ä¸­è‡ªå¸¦çš„å¸ƒéš†è¿‡æ»¤å™¨</h5><p>è‡ªå·±å®ç°çš„ç›®çš„ä¸»è¦æ˜¯ä¸ºäº†è®©è‡ªå·±ææ‡‚å¸ƒéš†è¿‡æ»¤å™¨çš„åŸç†ï¼ŒGuava ä¸­å¸ƒéš†è¿‡æ»¤å™¨çš„å®ç°ç®—æ˜¯æ¯”è¾ƒæƒå¨çš„ï¼Œæ‰€ä»¥å®é™…é¡¹ç›®ä¸­æˆ‘ä»¬ä¸éœ€è¦æ‰‹åŠ¨å®ç°ä¸€ä¸ªå¸ƒéš†è¿‡æ»¤å™¨ã€‚</p>
<p>é¦–å…ˆæˆ‘ä»¬éœ€è¦åœ¨é¡¹ç›®ä¸­å¼•å…¥ Guava çš„ä¾èµ–ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.google.guava<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>guava<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>28.0-jre<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>å®é™…ä½¿ç”¨å¦‚ä¸‹ï¼š</p>
<p>æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªæœ€å¤šå­˜æ”¾ æœ€å¤š 1500 ä¸ªæ•´æ•°çš„å¸ƒéš†è¿‡æ»¤å™¨ï¼Œå¹¶ä¸”æˆ‘ä»¬å¯ä»¥å®¹å¿è¯¯åˆ¤çš„æ¦‚ç‡ä¸ºç™¾åˆ†ä¹‹ï¼ˆ0.01ï¼‰</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºå¸ƒéš†è¿‡æ»¤å™¨å¯¹è±¡</span></span><br><span class="line">BloomFilter&lt;Integer&gt; filter = BloomFilter.create(</span><br><span class="line">    Funnels.integerFunnel(),</span><br><span class="line">    <span class="number">1500</span>,</span><br><span class="line">    <span class="number">0.01</span>);</span><br><span class="line"><span class="comment">// åˆ¤æ–­æŒ‡å®šå…ƒç´ æ˜¯å¦å­˜åœ¨</span></span><br><span class="line">System.out.println(filter.mightContain(<span class="number">1</span>));</span><br><span class="line">System.out.println(filter.mightContain(<span class="number">2</span>));</span><br><span class="line"><span class="comment">// å°†å…ƒç´ æ·»åŠ è¿›å¸ƒéš†è¿‡æ»¤å™¨</span></span><br><span class="line">filter.put(<span class="number">1</span>);</span><br><span class="line">filter.put(<span class="number">2</span>);</span><br><span class="line">System.out.println(filter.mightContain(<span class="number">1</span>));</span><br><span class="line">System.out.println(filter.mightContain(<span class="number">2</span>));</span><br></pre></td></tr></table></figure>

<p>åœ¨æˆ‘ä»¬çš„ç¤ºä¾‹ä¸­ï¼Œå½“ <code>mightContain()</code> æ–¹æ³•è¿”å› <em>true</em> æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ 99ï¼…ç¡®å®šè¯¥å…ƒç´ åœ¨è¿‡æ»¤å™¨ä¸­ï¼Œå½“è¿‡æ»¤å™¨è¿”å› <em>false</em> æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ 100ï¼…ç¡®å®šè¯¥å…ƒç´ ä¸å­˜åœ¨äºè¿‡æ»¤å™¨ä¸­ã€‚</p>
<p><strong>Guava æä¾›çš„å¸ƒéš†è¿‡æ»¤å™¨çš„å®ç°è¿˜æ˜¯å¾ˆä¸é”™çš„ï¼ˆæƒ³è¦è¯¦ç»†äº†è§£çš„å¯ä»¥çœ‹ä¸€ä¸‹å®ƒçš„æºç å®ç°ï¼‰ï¼Œä½†æ˜¯å®ƒæœ‰ä¸€ä¸ªé‡å¤§çš„ç¼ºé™·å°±æ˜¯åªèƒ½å•æœºä½¿ç”¨ï¼ˆå¦å¤–ï¼Œå®¹é‡æ‰©å±•ä¹Ÿä¸å®¹æ˜“ï¼‰ï¼Œè€Œç°åœ¨äº’è”ç½‘ä¸€èˆ¬éƒ½æ˜¯åˆ†å¸ƒå¼çš„åœºæ™¯ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å°±éœ€è¦ç”¨åˆ° Redis ä¸­çš„å¸ƒéš†è¿‡æ»¤å™¨äº†ã€‚</strong></p>
<h4 id="Redis-ä¸­çš„å¸ƒéš†è¿‡æ»¤å™¨"><a href="#Redis-ä¸­çš„å¸ƒéš†è¿‡æ»¤å™¨" class="headerlink" title="# Redis ä¸­çš„å¸ƒéš†è¿‡æ»¤å™¨"></a><a href="#redis-%E4%B8%AD%E7%9A%84%E5%B8%83%E9%9A%86%E8%BF%87%E6%BB%A4%E5%99%A8">#</a> Redis ä¸­çš„å¸ƒéš†è¿‡æ»¤å™¨</h4><h5 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="# ä»‹ç»"></a><a href="#%E4%BB%8B%E7%BB%8D">#</a> ä»‹ç»</h5><p>Redis v4.0 ä¹‹åæœ‰äº† Moduleï¼ˆæ¨¡å—&#x2F;æ’ä»¶ï¼‰ åŠŸèƒ½ï¼ŒRedis Modules è®© Redis å¯ä»¥ä½¿ç”¨å¤–éƒ¨æ¨¡å—æ‰©å±•å…¶åŠŸèƒ½ ã€‚å¸ƒéš†è¿‡æ»¤å™¨å°±æ˜¯å…¶ä¸­çš„ Moduleã€‚è¯¦æƒ…å¯ä»¥æŸ¥çœ‹ Redis å®˜æ–¹å¯¹ Redis Modules çš„ä»‹ç» ï¼š<a target="_blank" rel="noopener" href="https://redis.io/modules">https://redis.io/modules</a></p>
<p>å¦å¤–ï¼Œå®˜ç½‘æ¨èäº†ä¸€ä¸ª RedisBloom ä½œä¸º Redis å¸ƒéš†è¿‡æ»¤å™¨çš„ Moduleï¼Œåœ°å€ï¼š<a target="_blank" rel="noopener" href="https://github.com/RedisBloom/RedisBloom">https://github.com/RedisBloom/RedisBloom</a> å…¶ä»–è¿˜æœ‰ï¼š</p>
<ul>
<li>redis-lua-scaling-bloom-filterï¼ˆlua è„šæœ¬å®ç°ï¼‰ï¼š<a target="_blank" rel="noopener" href="https://github.com/erikdubbelboer/redis-lua-scaling-bloom-filter">https://github.com/erikdubbelboer/redis-lua-scaling-bloom-filter</a></li>
<li>pyreBloomï¼ˆPython ä¸­çš„å¿«é€Ÿ Redis å¸ƒéš†è¿‡æ»¤å™¨ï¼‰ ï¼š<a target="_blank" rel="noopener" href="https://github.com/seomoz/pyreBloom">https://github.com/seomoz/pyreBloom</a></li>
<li>â€¦â€¦</li>
</ul>
<p>RedisBloom æä¾›äº†å¤šç§è¯­è¨€çš„å®¢æˆ·ç«¯æ”¯æŒï¼ŒåŒ…æ‹¬ï¼šPythonã€Javaã€JavaScript å’Œ PHPã€‚</p>
<h5 id="ä½¿ç”¨-Docker-å®‰è£…"><a href="#ä½¿ç”¨-Docker-å®‰è£…" class="headerlink" title="# ä½¿ç”¨ Docker å®‰è£…"></a><a href="#%E4%BD%BF%E7%94%A8-docker-%E5%AE%89%E8%A3%85">#</a> ä½¿ç”¨ Docker å®‰è£…</h5><p>å¦‚æœæˆ‘ä»¬éœ€è¦ä½“éªŒ Redis ä¸­çš„å¸ƒéš†è¿‡æ»¤å™¨éå¸¸ç®€å•ï¼Œé€šè¿‡ Docker å°±å¯ä»¥äº†ï¼æˆ‘ä»¬ç›´æ¥åœ¨ Google æœç´¢ <strong>docker redis bloomfilter</strong> ç„¶ååœ¨æ’é™¤å¹¿å‘Šçš„ç¬¬ä¸€æ¡æœç´ ç»“æœå°±æ‰¾åˆ°äº†æˆ‘ä»¬æƒ³è¦çš„ç­”æ¡ˆï¼ˆè¿™æ˜¯æˆ‘å¹³å¸¸è§£å†³é—®é¢˜çš„ä¸€ç§æ–¹å¼ï¼Œåˆ†äº«ä¸€ä¸‹ï¼‰ï¼Œå…·ä½“åœ°å€ï¼š<a target="_blank" rel="noopener" href="https://hub.docker.com/r/redislabs/rebloom/">https://hub.docker.com/r/redislabs/rebloom/</a> ï¼ˆä»‹ç»çš„å¾ˆè¯¦ç»† ï¼‰ã€‚</p>
<p><strong>å…·ä½“æ“ä½œå¦‚ä¸‹ï¼š</strong></p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">âœ  ~ docker run -p 6379:6379 --name redis-redisbloom redislabs/rebloom:latest</span><br><span class="line">âœ  ~ docker exec -it redis-redisbloom bash</span><br><span class="line">root@21396d02c252:/data# redis-cli</span><br><span class="line">127.0.0.1:6379&gt;</span><br></pre></td></tr></table></figure>

<h5 id="å¸¸ç”¨å‘½ä»¤ä¸€è§ˆ"><a href="#å¸¸ç”¨å‘½ä»¤ä¸€è§ˆ" class="headerlink" title="# å¸¸ç”¨å‘½ä»¤ä¸€è§ˆ"></a><a href="#%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E4%B8%80%E8%A7%88">#</a> å¸¸ç”¨å‘½ä»¤ä¸€è§ˆ</h5><blockquote>
<p>æ³¨æ„ï¼š key : å¸ƒéš†è¿‡æ»¤å™¨çš„åç§°ï¼Œitem : æ·»åŠ çš„å…ƒç´ ã€‚</p>
</blockquote>
<ol>
<li>**<code>BF.ADD</code>**ï¼šå°†å…ƒç´ æ·»åŠ åˆ°å¸ƒéš†è¿‡æ»¤å™¨ä¸­ï¼Œå¦‚æœè¯¥è¿‡æ»¤å™¨å°šä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºè¯¥è¿‡æ»¤å™¨ã€‚æ ¼å¼ï¼š<code>BF.ADD &#123;key&#125; &#123;item&#125;</code>ã€‚</li>
<li><strong><code>BF.MADD</code></strong> : å°†ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ æ·»åŠ åˆ°â€œå¸ƒéš†è¿‡æ»¤å™¨â€ä¸­ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªå°šä¸å­˜åœ¨çš„è¿‡æ»¤å™¨ã€‚è¯¥å‘½ä»¤çš„æ“ä½œæ–¹å¼<code>BF.ADD</code>ä¸ä¹‹ç›¸åŒï¼Œåªä¸è¿‡å®ƒå…è®¸å¤šä¸ªè¾“å…¥å¹¶è¿”å›å¤šä¸ªå€¼ã€‚æ ¼å¼ï¼š<code>BF.MADD &#123;key&#125; &#123;item&#125; [item ...]</code> ã€‚</li>
<li><strong><code>BF.EXISTS</code></strong> : ç¡®å®šå…ƒç´ æ˜¯å¦åœ¨å¸ƒéš†è¿‡æ»¤å™¨ä¸­å­˜åœ¨ã€‚æ ¼å¼ï¼š<code>BF.EXISTS &#123;key&#125; &#123;item&#125;</code>ã€‚</li>
<li><strong><code>BF.MEXISTS</code></strong> ï¼š ç¡®å®šä¸€ä¸ªæˆ–è€…å¤šä¸ªå…ƒç´ æ˜¯å¦åœ¨å¸ƒéš†è¿‡æ»¤å™¨ä¸­å­˜åœ¨æ ¼å¼ï¼š<code>BF.MEXISTS &#123;key&#125; &#123;item&#125; [item ...]</code>ã€‚</li>
</ol>
<p>å¦å¤–ï¼Œ <code>BF. RESERVE</code> å‘½ä»¤éœ€è¦å•ç‹¬ä»‹ç»ä¸€ä¸‹ï¼š</p>
<p>è¿™ä¸ªå‘½ä»¤çš„æ ¼å¼å¦‚ä¸‹ï¼š</p>
<p><code>BF. RESERVE &#123;key&#125; &#123;error_rate&#125; &#123;capacity&#125; [EXPANSION expansion]</code> ã€‚</p>
<p>ä¸‹é¢ç®€å•ä»‹ç»ä¸€ä¸‹æ¯ä¸ªå‚æ•°çš„å…·ä½“å«ä¹‰ï¼š</p>
<ol>
<li>keyï¼šå¸ƒéš†è¿‡æ»¤å™¨çš„åç§°</li>
<li>error_rate : æœŸæœ›çš„è¯¯æŠ¥ç‡ã€‚è¯¥å€¼å¿…é¡»ä»‹äº 0 åˆ° 1 ä¹‹é—´ã€‚ä¾‹å¦‚ï¼Œå¯¹äºæœŸæœ›çš„è¯¯æŠ¥ç‡ 0.1ï¼…ï¼ˆ1000 ä¸­ä¸º 1ï¼‰ï¼Œerror_rate åº”è¯¥è®¾ç½®ä¸º 0.001ã€‚è¯¥æ•°å­—è¶Šæ¥è¿‘é›¶ï¼Œåˆ™æ¯ä¸ªé¡¹ç›®çš„å†…å­˜æ¶ˆè€—è¶Šå¤§ï¼Œå¹¶ä¸”æ¯ä¸ªæ“ä½œçš„ CPU ä½¿ç”¨ç‡è¶Šé«˜ã€‚</li>
<li>capacity: è¿‡æ»¤å™¨çš„å®¹é‡ã€‚å½“å®é™…å­˜å‚¨çš„å…ƒç´ ä¸ªæ•°è¶…è¿‡è¿™ä¸ªå€¼ä¹‹åï¼Œæ€§èƒ½å°†å¼€å§‹ä¸‹é™ã€‚å®é™…çš„é™çº§å°†å–å†³äºè¶…å‡ºé™åˆ¶çš„ç¨‹åº¦ã€‚éšç€è¿‡æ»¤å™¨å…ƒç´ æ•°é‡å‘ˆæŒ‡æ•°å¢é•¿ï¼Œæ€§èƒ½å°†çº¿æ€§ä¸‹é™ã€‚</li>
</ol>
<p>å¯é€‰å‚æ•°ï¼š</p>
<ul>
<li>expansionï¼šå¦‚æœåˆ›å»ºäº†ä¸€ä¸ªæ–°çš„å­è¿‡æ»¤å™¨ï¼Œåˆ™å…¶å¤§å°å°†æ˜¯å½“å‰è¿‡æ»¤å™¨çš„å¤§å°ä¹˜ä»¥<code>expansion</code>ã€‚é»˜è®¤æ‰©å±•å€¼ä¸º 2ã€‚è¿™æ„å‘³ç€æ¯ä¸ªåç»­å­è¿‡æ»¤å™¨å°†æ˜¯å‰ä¸€ä¸ªå­è¿‡æ»¤å™¨çš„ä¸¤å€ã€‚</li>
</ul>
<h5 id="å®é™…ä½¿ç”¨"><a href="#å®é™…ä½¿ç”¨" class="headerlink" title="# å®é™…ä½¿ç”¨"></a><a href="#%E5%AE%9E%E9%99%85%E4%BD%BF%E7%94%A8">#</a> å®é™…ä½¿ç”¨</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; BF.ADD myFilter java</span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6379&gt; BF.ADD myFilter javaguide</span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6379&gt; BF.EXISTS myFilter java</span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6379&gt; BF.EXISTS myFilter javaguide</span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6379&gt; BF.EXISTS myFilter github</span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br></pre></td></tr></table></figure>

<h3 id="å›¾"><a href="#å›¾" class="headerlink" title="#å›¾"></a>#å›¾</h3><h4 id="åŸºç¡€çŸ¥è¯†-4"><a href="#åŸºç¡€çŸ¥è¯†-4" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h4><p>å›¾æ˜¯ä¸€ç§è¾ƒä¸ºå¤æ‚çš„éçº¿æ€§ç»“æ„ã€‚ <strong>ä¸ºå•¥è¯´å…¶è¾ƒä¸ºå¤æ‚å‘¢ï¼Ÿ</strong></p>
<p>æ ¹æ®å‰é¢çš„å†…å®¹ï¼Œæˆ‘ä»¬çŸ¥é“ï¼š</p>
<ul>
<li>çº¿æ€§æ•°æ®ç»“æ„çš„å…ƒç´ æ»¡è¶³å”¯ä¸€çš„çº¿æ€§å…³ç³»ï¼Œæ¯ä¸ªå…ƒç´ (é™¤ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªå¤–)åªæœ‰ä¸€ä¸ªç›´æ¥å‰è¶‹å’Œä¸€ä¸ªç›´æ¥åç»§ã€‚</li>
<li>æ ‘å½¢æ•°æ®ç»“æ„çš„å…ƒç´ ä¹‹é—´æœ‰ç€æ˜æ˜¾çš„å±‚æ¬¡å…³ç³»ã€‚</li>
</ul>
<p>ä½†æ˜¯ï¼Œå›¾å½¢ç»“æ„çš„å…ƒç´ ä¹‹é—´çš„å…³ç³»æ˜¯ä»»æ„çš„ã€‚</p>
<p><strong>ä½•ä¸ºå›¾å‘¢ï¼Ÿ</strong> ç®€å•æ¥è¯´ï¼Œå›¾å°±æ˜¯ç”±é¡¶ç‚¹çš„æœ‰ç©·éç©ºé›†åˆå’Œé¡¶ç‚¹ä¹‹é—´çš„è¾¹ç»„æˆçš„é›†åˆã€‚é€šå¸¸è¡¨ç¤ºä¸ºï¼š**G(V,E)**ï¼Œå…¶ä¸­ï¼ŒGè¡¨ç¤ºä¸€ä¸ªå›¾ï¼ŒVè¡¨ç¤ºé¡¶ç‚¹çš„é›†åˆï¼ŒEè¡¨ç¤ºè¾¹çš„é›†åˆã€‚</p>
<p>ä¸‹å›¾æ‰€å±•ç¤ºçš„å°±æ˜¯å›¾è¿™ç§æ•°æ®ç»“æ„ï¼Œå¹¶ä¸”è¿˜æ˜¯ä¸€å¼ æœ‰å‘å›¾ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/7f232c9660c54ee1ac182b7c0bf267a3.png" alt="img"></p>
<p>å›¾åœ¨æˆ‘ä»¬æ—¥å¸¸ç”Ÿæ´»ä¸­çš„ä¾‹å­å¾ˆå¤šï¼æ¯”å¦‚æˆ‘ä»¬åœ¨ç¤¾äº¤è½¯ä»¶ä¸Šå¥½å‹å…³ç³»å°±å¯ä»¥ç”¨å›¾æ¥è¡¨ç¤ºã€‚</p>
<h5 id="å›¾çš„åŸºæœ¬æ¦‚å¿µ"><a href="#å›¾çš„åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="# å›¾çš„åŸºæœ¬æ¦‚å¿µ"></a><a href="#%E5%9B%BE%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5">#</a> å›¾çš„åŸºæœ¬æ¦‚å¿µ</h5><h6 id="é¡¶ç‚¹"><a href="#é¡¶ç‚¹" class="headerlink" title="# é¡¶ç‚¹"></a><a href="#%E9%A1%B6%E7%82%B9">#</a> é¡¶ç‚¹</h6><p>å›¾ä¸­çš„æ•°æ®å…ƒç´ ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºé¡¶ç‚¹ï¼Œå›¾è‡³å°‘æœ‰ä¸€ä¸ªé¡¶ç‚¹ï¼ˆéç©ºæœ‰ç©·é›†åˆï¼‰</p>
<p>å¯¹åº”åˆ°å¥½å‹å…³ç³»å›¾ï¼Œæ¯ä¸€ä¸ªç”¨æˆ·å°±ä»£è¡¨ä¸€ä¸ªé¡¶ç‚¹ã€‚</p>
<h6 id="è¾¹"><a href="#è¾¹" class="headerlink" title="# è¾¹"></a><a href="#%E8%BE%B9">#</a> è¾¹</h6><p>é¡¶ç‚¹ä¹‹é—´çš„å…³ç³»ç”¨è¾¹è¡¨ç¤ºã€‚</p>
<p>å¯¹åº”åˆ°å¥½å‹å…³ç³»å›¾ï¼Œä¸¤ä¸ªç”¨æˆ·æ˜¯å¥½å‹çš„è¯ï¼Œé‚£ä¸¤è€…ä¹‹é—´å°±å­˜åœ¨ä¸€æ¡è¾¹ã€‚</p>
<h6 id="åº¦"><a href="#åº¦" class="headerlink" title="# åº¦"></a><a href="#%E5%BA%A6">#</a> åº¦</h6><p>åº¦è¡¨ç¤ºä¸€ä¸ªé¡¶ç‚¹åŒ…å«å¤šå°‘æ¡è¾¹ï¼Œåœ¨æœ‰å‘å›¾ä¸­ï¼Œè¿˜åˆ†ä¸ºå‡ºåº¦å’Œå…¥åº¦ï¼Œå‡ºåº¦è¡¨ç¤ºä»è¯¥é¡¶ç‚¹å‡ºå»çš„è¾¹çš„æ¡æ•°ï¼Œå…¥åº¦è¡¨ç¤ºè¿›å…¥è¯¥é¡¶ç‚¹çš„è¾¹çš„æ¡æ•°ã€‚</p>
<p>å¯¹åº”åˆ°å¥½å‹å…³ç³»å›¾ï¼Œåº¦å°±ä»£è¡¨äº†æŸä¸ªäººçš„å¥½å‹æ•°é‡ã€‚</p>
<h6 id="æ— å‘å›¾å’Œæœ‰å‘å›¾"><a href="#æ— å‘å›¾å’Œæœ‰å‘å›¾" class="headerlink" title="# æ— å‘å›¾å’Œæœ‰å‘å›¾"></a><a href="#%E6%97%A0%E5%90%91%E5%9B%BE%E5%92%8C%E6%9C%89%E5%90%91%E5%9B%BE">#</a> æ— å‘å›¾å’Œæœ‰å‘å›¾</h6><p>è¾¹è¡¨ç¤ºçš„æ˜¯é¡¶ç‚¹ä¹‹é—´çš„å…³ç³»ï¼Œæœ‰çš„å…³ç³»æ˜¯åŒå‘çš„ï¼Œæ¯”å¦‚åŒå­¦å…³ç³»ï¼ŒAæ˜¯Bçš„åŒå­¦ï¼Œé‚£ä¹ˆBä¹Ÿè‚¯å®šæ˜¯Açš„åŒå­¦ï¼Œé‚£ä¹ˆåœ¨è¡¨ç¤ºAå’ŒBçš„å…³ç³»æ—¶ï¼Œå°±ä¸ç”¨å…³æ³¨æ–¹å‘ï¼Œç”¨ä¸å¸¦ç®­å¤´çš„è¾¹è¡¨ç¤ºï¼Œè¿™æ ·çš„å›¾å°±æ˜¯æ— å‘å›¾ã€‚</p>
<p>æœ‰çš„å…³ç³»æ˜¯æœ‰æ–¹å‘çš„ï¼Œæ¯”å¦‚çˆ¶å­å…³ç³»ï¼Œå¸ˆç”Ÿå…³ç³»ï¼Œå¾®åšçš„å…³æ³¨å…³ç³»ï¼ŒAæ˜¯Bçš„çˆ¸çˆ¸ï¼Œä½†Bè‚¯å®šä¸æ˜¯Açš„çˆ¸çˆ¸ï¼ŒAå…³æ³¨Bï¼ŒBä¸ä¸€å®šå…³æ³¨Aã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å°±ç”¨å¸¦ç®­å¤´çš„è¾¹è¡¨ç¤ºäºŒè€…çš„å…³ç³»ï¼Œè¿™æ ·çš„å›¾å°±æ˜¯æœ‰å‘å›¾ã€‚</p>
<h6 id="æ— æƒå›¾å’Œå¸¦æƒå›¾"><a href="#æ— æƒå›¾å’Œå¸¦æƒå›¾" class="headerlink" title="# æ— æƒå›¾å’Œå¸¦æƒå›¾"></a><a href="#%E6%97%A0%E6%9D%83%E5%9B%BE%E5%92%8C%E5%B8%A6%E6%9D%83%E5%9B%BE">#</a> æ— æƒå›¾å’Œå¸¦æƒå›¾</h6><p>å¯¹äºä¸€ä¸ªå…³ç³»ï¼Œå¦‚æœæˆ‘ä»¬åªå…³å¿ƒå…³ç³»çš„æœ‰æ— ï¼Œè€Œä¸å…³å¿ƒå…³ç³»æœ‰å¤šå¼ºï¼Œé‚£ä¹ˆå°±å¯ä»¥ç”¨æ— æƒå›¾è¡¨ç¤ºäºŒè€…çš„å…³ç³»ã€‚</p>
<p>å¯¹äºä¸€ä¸ªå…³ç³»ï¼Œå¦‚æœæˆ‘ä»¬æ—¢å…³å¿ƒå…³ç³»çš„æœ‰æ— ï¼Œä¹Ÿå…³å¿ƒå…³ç³»çš„å¼ºåº¦ï¼Œæ¯”å¦‚æè¿°åœ°å›¾ä¸Šä¸¤ä¸ªåŸå¸‚çš„å…³ç³»ï¼Œéœ€è¦ç”¨åˆ°è·ç¦»ï¼Œé‚£ä¹ˆå°±ç”¨å¸¦æƒå›¾æ¥è¡¨ç¤ºï¼Œå¸¦æƒå›¾ä¸­çš„æ¯ä¸€æ¡è¾¹ä¸€ä¸ªæ•°å€¼è¡¨ç¤ºæƒå€¼ï¼Œä»£è¡¨å…³ç³»çš„å¼ºåº¦ã€‚</p>
<p>ä¸‹å›¾å°±æ˜¯ä¸€ä¸ªå¸¦æƒæœ‰å‘å›¾ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/%E5%B8%A6%E6%9D%83%E6%9C%89%E5%90%91%E5%9B%BE.e7933d65-16730626252272.png" alt="å¸¦æƒæœ‰å‘å›¾"></p>
<h5 id="å›¾çš„å­˜å‚¨"><a href="#å›¾çš„å­˜å‚¨" class="headerlink" title="# å›¾çš„å­˜å‚¨"></a><a href="#%E5%9B%BE%E7%9A%84%E5%AD%98%E5%82%A8">#</a> å›¾çš„å­˜å‚¨</h5><h6 id="é‚»æ¥çŸ©é˜µå­˜å‚¨"><a href="#é‚»æ¥çŸ©é˜µå­˜å‚¨" class="headerlink" title="# é‚»æ¥çŸ©é˜µå­˜å‚¨"></a><a href="#%E9%82%BB%E6%8E%A5%E7%9F%A9%E9%98%B5%E5%AD%98%E5%82%A8">#</a> é‚»æ¥çŸ©é˜µå­˜å‚¨</h6><p>é‚»æ¥çŸ©é˜µå°†å›¾ç”¨äºŒç»´çŸ©é˜µå­˜å‚¨ï¼Œæ˜¯ä¸€ç§è¾ƒä¸ºç›´è§‚çš„è¡¨ç¤ºæ–¹å¼ã€‚</p>
<p>å¦‚æœç¬¬iä¸ªé¡¶ç‚¹å’Œç¬¬jä¸ªé¡¶ç‚¹ä¹‹é—´æœ‰å…³ç³»ï¼Œä¸”å…³ç³»æƒå€¼ä¸ºnï¼Œåˆ™ <code>A[i][j]=n</code> ã€‚</p>
<p>åœ¨æ— å‘å›¾ä¸­ï¼Œæˆ‘ä»¬åªå…³å¿ƒå…³ç³»çš„æœ‰æ— ï¼Œæ‰€ä»¥å½“é¡¶ç‚¹iå’Œé¡¶ç‚¹jæœ‰å…³ç³»æ—¶ï¼Œ<code>A[i][j]</code>&#x3D;1ï¼Œå½“é¡¶ç‚¹iå’Œé¡¶ç‚¹jæ²¡æœ‰å…³ç³»æ—¶ï¼Œ<code>A[i][j]</code>&#x3D;0ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/%E6%97%A0%E5%90%91%E5%9B%BE%E7%9A%84%E9%82%BB%E6%8E%A5%E7%9F%A9%E9%98%B5%E5%AD%98%E5%82%A8.3ba1bccc-16730626947206.png" alt="æ— å‘å›¾çš„é‚»æ¥çŸ©é˜µå­˜å‚¨"></p>
<p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼š<strong>æ— å‘å›¾çš„é‚»æ¥çŸ©é˜µæ˜¯ä¸€ä¸ªå¯¹ç§°çŸ©é˜µï¼Œå› ä¸ºåœ¨æ— å‘å›¾ä¸­ï¼Œé¡¶ç‚¹iå’Œé¡¶ç‚¹jæœ‰å…³ç³»ï¼Œåˆ™é¡¶ç‚¹jå’Œé¡¶ç‚¹iå¿…æœ‰å…³ç³»ã€‚</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/%E6%9C%89%E5%90%91%E5%9B%BE%E7%9A%84%E9%82%BB%E6%8E%A5%E7%9F%A9%E9%98%B5%E5%AD%98%E5%82%A8.46663a1b-16730627027308.png" alt="æœ‰å‘å›¾çš„é‚»æ¥çŸ©é˜µå­˜å‚¨"></p>
<p>é‚»æ¥çŸ©é˜µå­˜å‚¨çš„æ–¹å¼ä¼˜ç‚¹æ˜¯ç®€å•ç›´æ¥ï¼ˆç›´æ¥ä½¿ç”¨ä¸€ä¸ªäºŒç»´æ•°ç»„å³å¯ï¼‰ï¼Œå¹¶ä¸”ï¼Œåœ¨è·å–ä¸¤ä¸ªå®šç‚¹ä¹‹é—´çš„å…³ç³»çš„æ—¶å€™ä¹Ÿéå¸¸é«˜æ•ˆï¼ˆç›´æ¥è·å–æŒ‡å®šä½ç½®çš„æ•°ç»„å…ƒç´ çš„å€¼å³å¯ï¼‰ã€‚ä½†æ˜¯ï¼Œè¿™ç§å­˜å‚¨æ–¹å¼çš„ç¼ºç‚¹ä¹Ÿæ¯”è¾ƒæ˜æ˜¾ï¼Œé‚£å°±æ˜¯æ¯”è¾ƒæµªè´¹ç©ºé—´ï¼Œ</p>
<h6 id="é‚»æ¥è¡¨å­˜å‚¨"><a href="#é‚»æ¥è¡¨å­˜å‚¨" class="headerlink" title="# é‚»æ¥è¡¨å­˜å‚¨"></a><a href="#%E9%82%BB%E6%8E%A5%E8%A1%A8%E5%AD%98%E5%82%A8">#</a> é‚»æ¥è¡¨å­˜å‚¨</h6><p>é’ˆå¯¹ä¸Šé¢é‚»æ¥çŸ©é˜µæ¯”è¾ƒæµªè´¹å†…å­˜ç©ºé—´çš„é—®é¢˜ï¼Œè¯ç”Ÿäº†å›¾çš„å¦å¤–ä¸€ç§å­˜å‚¨æ–¹æ³•â€”<strong>é‚»æ¥è¡¨</strong> ã€‚</p>
<p>é‚»æ¥é“¾è¡¨ä½¿ç”¨ä¸€ä¸ªé“¾è¡¨æ¥å­˜å‚¨æŸä¸ªé¡¶ç‚¹çš„æ‰€æœ‰åç»§ç›¸é‚»é¡¶ç‚¹ã€‚å¯¹äºå›¾ä¸­æ¯ä¸ªé¡¶ç‚¹Viï¼ŒæŠŠæ‰€æœ‰é‚»æ¥äºViçš„é¡¶ç‚¹Vjé“¾æˆä¸€ä¸ªå•é“¾è¡¨ï¼Œè¿™ä¸ªå•é“¾è¡¨ç§°ä¸ºé¡¶ç‚¹Viçš„ <strong>é‚»æ¥è¡¨</strong>ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/%E6%97%A0%E5%90%91%E5%9B%BE%E7%9A%84%E9%82%BB%E6%8E%A5%E8%A1%A8%E5%AD%98%E5%82%A8.2869ec57-167306276182710.png" alt="æ— å‘å›¾çš„é‚»æ¥è¡¨å­˜å‚¨">![æ— å‘<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/%E6%9C%89%E5%90%91%E5%9B%BE%E7%9A%84%E9%82%BB%E6%8E%A5%E8%A1%A8%E5%AD%98%E5%82%A8.362b00d5-167306278342712.png" alt="æœ‰å‘å›¾çš„é‚»æ¥è¡¨å­˜å‚¨"></p>
<p>å¤§å®¶å¯ä»¥æ•°ä¸€æ•°é‚»æ¥è¡¨ä¸­æ‰€å­˜å‚¨çš„å…ƒç´ çš„ä¸ªæ•°ä»¥åŠå›¾ä¸­è¾¹çš„æ¡æ•°ï¼Œä½ ä¼šå‘ç°ï¼š</p>
<ul>
<li>åœ¨æ— å‘å›¾ä¸­ï¼Œé‚»æ¥è¡¨å…ƒç´ ä¸ªæ•°ç­‰äºè¾¹çš„æ¡æ•°çš„ä¸¤å€ï¼Œå¦‚å·¦å›¾æ‰€ç¤ºçš„æ— å‘å›¾ä¸­ï¼Œè¾¹çš„æ¡æ•°ä¸º7ï¼Œé‚»æ¥è¡¨å­˜å‚¨çš„å…ƒç´ ä¸ªæ•°ä¸º14ã€‚</li>
<li>åœ¨æœ‰å‘å›¾ä¸­ï¼Œé‚»æ¥è¡¨å…ƒç´ ä¸ªæ•°ç­‰äºè¾¹çš„æ¡æ•°ï¼Œå¦‚å³å›¾æ‰€ç¤ºçš„æœ‰å‘å›¾ä¸­ï¼Œè¾¹çš„æ¡æ•°ä¸º8ï¼Œé‚»æ¥è¡¨å­˜å‚¨çš„å…ƒç´ ä¸ªæ•°ä¸º8ã€‚</li>
</ul>
<h5 id="å›¾çš„æœç´¢"><a href="#å›¾çš„æœç´¢" class="headerlink" title="# å›¾çš„æœç´¢"></a><a href="#%E5%9B%BE%E7%9A%84%E6%90%9C%E7%B4%A2">#</a> å›¾çš„æœç´¢</h5><h6 id="å¹¿åº¦ä¼˜å…ˆæœç´¢"><a href="#å¹¿åº¦ä¼˜å…ˆæœç´¢" class="headerlink" title="# å¹¿åº¦ä¼˜å…ˆæœç´¢"></a><a href="#%E5%B9%BF%E5%BA%A6%E4%BC%98%E5%85%88%E6%90%9C%E7%B4%A2">#</a> å¹¿åº¦ä¼˜å…ˆæœç´¢</h6><p>å¹¿åº¦ä¼˜å…ˆæœç´¢å°±åƒæ°´é¢ä¸Šçš„æ³¢çº¹ä¸€æ ·ä¸€å±‚ä¸€å±‚å‘å¤–æ‰©å±•ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/%E5%B9%BF%E5%BA%A6%E4%BC%98%E5%85%88%E6%90%9C%E7%B4%A2%E5%9B%BE%E7%A4%BA.4f9122d2-167306299203828.png" alt="å¹¿åº¦ä¼˜å…ˆæœç´¢å›¾ç¤º"></p>
<p><strong>å¹¿åº¦ä¼˜å…ˆæœç´¢çš„å…·ä½“å®ç°æ–¹å¼ç”¨åˆ°äº†ä¹‹å‰æ‰€å­¦è¿‡çš„çº¿æ€§æ•°æ®ç»“æ„â€”â€”é˜Ÿåˆ—</strong> ã€‚å…·ä½“è¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><strong>ç¬¬1æ­¥ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/%E5%B9%BF%E5%BA%A6%E4%BC%98%E5%85%88%E6%90%9C%E7%B4%A21.c43db853-167306284824314.png" alt="å¹¿åº¦ä¼˜å…ˆæœç´¢1"></p>
<p><strong>ç¬¬2æ­¥ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/%E5%B9%BF%E5%BA%A6%E4%BC%98%E5%85%88%E6%90%9C%E7%B4%A22.d42ff990-167306285886616.png" alt="å¹¿åº¦ä¼˜å…ˆæœç´¢2"></p>
<p><strong>ç¬¬3æ­¥ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/%E5%B9%BF%E5%BA%A6%E4%BC%98%E5%85%88%E6%90%9C%E7%B4%A23.e46fdfec-167306286992818.png" alt="å¹¿åº¦ä¼˜å…ˆæœç´¢3"></p>
<p><strong>ç¬¬4æ­¥ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/%E5%B9%BF%E5%BA%A6%E4%BC%98%E5%85%88%E6%90%9C%E7%B4%A24.d7bbf332-167306288114220.png" alt="å¹¿åº¦ä¼˜å…ˆæœç´¢4"></p>
<p><strong>ç¬¬5æ­¥ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/%E5%B9%BF%E5%BA%A6%E4%BC%98%E5%85%88%E6%90%9C%E7%B4%A25.2f52a074-167306289187822.png" alt="å¹¿åº¦ä¼˜å…ˆæœç´¢5"></p>
<p><strong>ç¬¬6æ­¥ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/%E5%B9%BF%E5%BA%A6%E4%BC%98%E5%85%88%E6%90%9C%E7%B4%A26.98a33175-167306289834824.png" alt="å¹¿åº¦ä¼˜å…ˆæœç´¢6"></p>
<h6 id="æ·±åº¦ä¼˜å…ˆæœç´¢-3"><a href="#æ·±åº¦ä¼˜å…ˆæœç´¢-3" class="headerlink" title="# æ·±åº¦ä¼˜å…ˆæœç´¢"></a><a href="#%E6%B7%B1%E5%BA%A6%E4%BC%98%E5%85%88%E6%90%9C%E7%B4%A2">#</a> æ·±åº¦ä¼˜å…ˆæœç´¢</h6><p>æ·±åº¦ä¼˜å…ˆæœç´¢å°±æ˜¯â€œä¸€æ¡è·¯èµ°åˆ°é»‘â€ï¼Œä»æºé¡¶ç‚¹å¼€å§‹ï¼Œä¸€ç›´èµ°åˆ°æ²¡æœ‰åç»§èŠ‚ç‚¹ï¼Œæ‰å›æº¯åˆ°ä¸Šä¸€é¡¶ç‚¹ï¼Œç„¶åç»§ç»­â€œä¸€æ¡è·¯èµ°åˆ°é»‘â€ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/%E6%B7%B1%E5%BA%A6%E4%BC%98%E5%85%88%E6%90%9C%E7%B4%A2%E5%9B%BE%E7%A4%BA.a5e0d06f-167306292471626.png" alt="æ·±åº¦ä¼˜å…ˆæœç´¢å›¾ç¤º"></p>
<p><strong>å’Œå¹¿åº¦ä¼˜å…ˆæœç´¢ç±»ä¼¼ï¼Œæ·±åº¦ä¼˜å…ˆæœç´¢çš„å…·ä½“å®ç°ç”¨åˆ°äº†å¦ä¸€ç§çº¿æ€§æ•°æ®ç»“æ„â€”â€”æ ˆ</strong> ã€‚å…·ä½“è¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><strong>ç¬¬1æ­¥ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/%E6%B7%B1%E5%BA%A6%E4%BC%98%E5%85%88%E6%90%9C%E7%B4%A21.3c4595de-167306313777238.png" alt="æ·±åº¦ä¼˜å…ˆæœç´¢1"></p>
<p><strong>ç¬¬2æ­¥ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/%E6%B7%B1%E5%BA%A6%E4%BC%98%E5%85%88%E6%90%9C%E7%B4%A22.c79a5d25-167306314711940.png" alt="æ·±åº¦ä¼˜å…ˆæœç´¢1"></p>
<p><strong>ç¬¬3æ­¥ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/%E6%B7%B1%E5%BA%A6%E4%BC%98%E5%85%88%E6%90%9C%E7%B4%A23.6d7c7ecb-167306316631242.png" alt="æ·±åº¦ä¼˜å…ˆæœç´¢1"></p>
<p><strong>ç¬¬4æ­¥ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/%E6%B7%B1%E5%BA%A6%E4%BC%98%E5%85%88%E6%90%9C%E7%B4%A24.89719079-167306317956244.png" alt="æ·±åº¦ä¼˜å…ˆæœç´¢1"></p>
<p><strong>ç¬¬5æ­¥ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/%E6%B7%B1%E5%BA%A6%E4%BC%98%E5%85%88%E6%90%9C%E7%B4%A25.d36925bc-167306319246346.png" alt="æ·±åº¦ä¼˜å…ˆæœç´¢1"></p>
<p><strong>ç¬¬6æ­¥ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/%E6%B7%B1%E5%BA%A6%E4%BC%98%E5%85%88%E6%90%9C%E7%B4%A26.ef5280c9-167306320416648.png" alt="æ·±åº¦ä¼˜å…ˆæœç´¢1"></p>
<h5 id="dfs-ä¸-bfs-åŒºåˆ«"><a href="#dfs-ä¸-bfs-åŒºåˆ«" class="headerlink" title="dfs ä¸ bfs åŒºåˆ«"></a>dfs ä¸ bfs åŒºåˆ«</h5><p>å…ˆæ¥äº†è§£dfsçš„è¿‡ç¨‹ï¼Œå¾ˆå¤šå½•å‹å¯èƒ½å¯¹dfsï¼ˆæ·±åº¦ä¼˜å…ˆæœç´¢ï¼‰ï¼Œbfsï¼ˆå¹¿åº¦ä¼˜å…ˆæœç´¢ï¼‰åˆ†ä¸æ¸…ã€‚</p>
<p>å…ˆç»™å¤§å®¶è¯´ä¸€ä¸‹ä¸¤è€…å¤§æ¦‚çš„åŒºåˆ«ï¼š</p>
<ul>
<li>dfsæ˜¯å¯ä¸€ä¸ªæ–¹å‘å»æœï¼Œä¸åˆ°é»„æ²³ä¸å›å¤´ï¼Œç›´åˆ°é‡åˆ°ç»å¢ƒäº†ï¼Œæœä¸ä¸‹å»äº†ï¼Œåœ¨æ¢æ–¹å‘ï¼ˆæ¢æ–¹å‘çš„è¿‡ç¨‹å°±æ¶‰åŠåˆ°äº†å›æº¯ï¼‰ã€‚</li>
<li>bfsæ˜¯å…ˆæŠŠæœ¬èŠ‚ç‚¹æ‰€è¿æ¥çš„æ‰€æœ‰èŠ‚ç‚¹éå†ä¸€éï¼Œèµ°åˆ°ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„æ—¶å€™ï¼Œå†æŠŠè¿æ¥èŠ‚ç‚¹çš„æ‰€æœ‰èŠ‚ç‚¹éå†ä¸€éï¼Œæœç´¢æ–¹å‘æ›´åƒæ˜¯å¹¿åº¦ï¼Œå››é¢å…«æ–¹çš„æœç´¢è¿‡ç¨‹ã€‚<br>å½“ç„¶ä»¥ä¸Šè®²çš„æ˜¯ï¼Œå¤§ä½“å¯ä»¥è¿™ä¹ˆç†è§£ï¼Œæ¥ä¸‹æ¥ æˆ‘ä»¬è¯¦ç»†è®²è§£dfsï¼Œï¼ˆbfsåœ¨ç”¨å•ç‹¬ä¸€ç¯‡æ–‡ç« è¯¦ç»†è®²è§£ï¼‰</li>
</ul>
<h5 id="dfs-æœç´¢è¿‡ç¨‹"><a href="#dfs-æœç´¢è¿‡ç¨‹" class="headerlink" title="dfs æœç´¢è¿‡ç¨‹"></a>dfs æœç´¢è¿‡ç¨‹</h5><p>ä¸Šé¢è¯´é“dfsæ˜¯å¯ä¸€ä¸ªæ–¹å‘æœï¼Œä¸åˆ°é»„æ²³ä¸å›å¤´ã€‚ é‚£ä¹ˆæˆ‘ä»¬æ¥ä¸¾ä¸€ä¸ªä¾‹å­ã€‚</p>
<p>å¦‚å›¾ä¸€ï¼Œæ˜¯ä¸€ä¸ªæ— å‘å›¾ï¼Œæˆ‘ä»¬è¦æœç´¢ä»èŠ‚ç‚¹1åˆ°èŠ‚ç‚¹6çš„æ‰€æœ‰è·¯å¾„ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1657680941-QpTmIQ-image.png" alt="image.png"></p>
<p>é‚£ä¹ˆdfsæœç´¢çš„ç¬¬ä¸€æ¡è·¯å¾„æ˜¯è¿™æ ·çš„ï¼š ï¼ˆå‡è®¾ç¬¬ä¸€æ¬¡å»¶é»˜è®¤æ–¹å‘ï¼Œå°±æ‰¾åˆ°äº†èŠ‚ç‚¹6ï¼‰ï¼Œå›¾äºŒ</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1657680957-MZfeSJ-image.png" alt="image.png"></p>
<p>æ­¤æ—¶æˆ‘ä»¬æ‰¾åˆ°äº†èŠ‚ç‚¹6ï¼Œï¼ˆé‡åˆ°é»„æ²³äº†ï¼Œæ˜¯ä¸æ˜¯åº”è¯¥å›å¤´äº†ï¼‰ï¼Œé‚£ä¹ˆåº”è¯¥å†å»æœç´¢å…¶ä»–æ–¹å‘äº†ã€‚ å¦‚å›¾ä¸‰ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1657680974-wdybPn-image.png" alt="image.png"></p>
<p>è·¯å¾„2æ’¤é”€äº†ï¼Œæ”¹å˜äº†æ–¹å‘ï¼Œèµ°è·¯å¾„3ï¼ˆçº¢è‰²çº¿ï¼‰ï¼Œ æ¥ç€ä¹Ÿæ‰¾åˆ°ç»ˆç‚¹6ã€‚ é‚£ä¹ˆæ’¤é”€è·¯å¾„2ï¼Œæ”¹ä¸ºè·¯å¾„3ï¼Œåœ¨dfsä¸­å…¶å®å°±æ˜¯å›æº¯çš„è¿‡ç¨‹ï¼ˆè¿™ä¸€ç‚¹å¾ˆé‡è¦ï¼Œå¾ˆå¤šå½•å‹ï¼Œéƒ½ä¸ç†è§£dfsä»£ç ä¸­å›æº¯æ˜¯ç”¨æ¥å¹²ä»€ä¹ˆçš„ï¼‰</p>
<p>åˆæ‰¾åˆ°äº†ä¸€æ¡ä»èŠ‚ç‚¹1åˆ°èŠ‚ç‚¹6çš„è·¯å¾„ï¼Œåˆåˆ°é»„æ²³äº†ï¼Œæ­¤æ—¶å†å›å¤´ï¼Œä¸‹å›¾å›¾å››ä¸­ï¼Œè·¯å¾„4æ’¤é”€ï¼ˆå›æº¯çš„è¿‡ç¨‹ï¼‰ï¼Œæ”¹ä¸ºè·¯å¾„5ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1657680995-EIjJwV-image.png" alt="image.png"></p>
<p>åˆæ‰¾åˆ°äº†ä¸€æ¡ä»èŠ‚ç‚¹1åˆ°èŠ‚ç‚¹6çš„è·¯å¾„ï¼Œåˆåˆ°é»„æ²³äº†ï¼Œæ­¤æ—¶å†å›å¤´ï¼Œä¸‹å›¾å›¾äº”ï¼Œè·¯å¾„6æ’¤é”€ï¼ˆå›æº¯çš„è¿‡ç¨‹ï¼‰ï¼Œæ”¹ä¸ºè·¯å¾„7ï¼Œè·¯å¾„8 å’Œ è·¯å¾„7ï¼Œè·¯å¾„9ï¼Œ ç»“æœå‘ç°æ­»è·¯ä¸€æ¡ï¼Œéƒ½èµ°åˆ°äº†è‡ªå·±èµ°è¿‡çš„èŠ‚ç‚¹ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1657681014-zPmHod-image.png" alt="image.png"></p>
<p>é‚£ä¹ˆèŠ‚ç‚¹2æ‰€è¿æ¥è·¯å¾„å’ŒèŠ‚ç‚¹3æ‰€é“¾æ¥çš„è·¯å¾„ éƒ½èµ°è¿‡äº†ï¼Œæ’¤é”€è·¯å¾„åªèƒ½å‘ä¸Šå›é€€ï¼Œå»é€‰æ‹©æ’¤é”€å½“åˆèŠ‚ç‚¹4çš„é€‰æ‹©ï¼Œä¹Ÿå°±æ˜¯æ’¤é”€è·¯å¾„5ï¼Œæ”¹ä¸ºè·¯å¾„10 ã€‚ å¦‚å›¾å›¾å…­ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1657681038-PkbQee-image.png" alt="image.png"></p>
<p>ä¸Šå›¾æ¼”ç¤ºä¸­ï¼Œå…¶å®æˆ‘å¹¶æ²¡æœ‰æŠŠ æ‰€æœ‰çš„ ä»èŠ‚ç‚¹1 åˆ°èŠ‚ç‚¹6çš„dfsï¼ˆæ·±åº¦ä¼˜å…ˆæœç´¢ï¼‰çš„è¿‡ç¨‹éƒ½ç”»å‡ºæ¥ï¼Œé‚£æ ·å¤ªå†—ä½™äº†ï¼Œä½† å·²ç»æŠŠdfs å…³é”®çš„åœ°æ–¹éƒ½æ¶‰åŠåˆ°äº†ï¼Œå…³é”®å°±ä¸¤ç‚¹ï¼š</p>
<ul>
<li>æœç´¢æ–¹å‘ï¼Œæ˜¯è®¤å‡†ä¸€ä¸ªæ–¹å‘æœï¼Œç›´åˆ°ç¢°å£ä¹‹ååœ¨æ¢æ–¹å‘</li>
<li>æ¢æ–¹å‘æ˜¯æ’¤é”€åŸè·¯å¾„ï¼Œæ”¹ä¸ºèŠ‚ç‚¹é“¾æ¥çš„ä¸‹ä¸€ä¸ªè·¯å¾„ï¼Œå›æº¯çš„è¿‡ç¨‹ã€‚</li>
</ul>
<h5 id="ä»£ç æ¡†æ¶"><a href="#ä»£ç æ¡†æ¶" class="headerlink" title="ä»£ç æ¡†æ¶"></a>ä»£ç æ¡†æ¶</h5><p>æ­£å¼å› ä¸ºdfsæœç´¢å¯ä¸€ä¸ªæ–¹å‘ï¼Œå¹¶éœ€è¦å›æº¯ï¼Œæ‰€ä»¥ç”¨é€’å½’çš„æ–¹å¼æ¥å®ç°æ˜¯æœ€æ–¹ä¾¿çš„ã€‚</p>
<p>å¾ˆå¤šå½•å‹å¯¹å›æº¯å¾ˆé™Œç”Ÿï¼Œå»ºè®®å…ˆçœ‹çœ‹ç éšæƒ³å½•ï¼Œå›æº¯ç®—æ³•ç« èŠ‚ã€‚</p>
<p>æœ‰é€’å½’çš„åœ°æ–¹å°±æœ‰å›æº¯ï¼Œé‚£ä¹ˆå›æº¯åœ¨å“ªé‡Œå‘¢ï¼Ÿ</p>
<p>å°±åœ°é€’å½’å‡½æ•°çš„ä¸‹é¢ï¼Œä¾‹å¦‚å¦‚ä¸‹ä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(å‚æ•°)</span> &#123;</span><br><span class="line">    å¤„ç†èŠ‚ç‚¹</span><br><span class="line">    dfs(å›¾ï¼Œé€‰æ‹©çš„èŠ‚ç‚¹); <span class="comment">// é€’å½’</span></span><br><span class="line">    å›æº¯ï¼Œæ’¤é”€å¤„ç†ç»“æœ</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°å›æº¯æ“ä½œå°±åœ¨é€’å½’å‡½æ•°çš„ä¸‹é¢ï¼Œé€’å½’å’Œå›æº¯æ˜¯ç›¸è¾…ç›¸æˆçš„ã€‚</p>
<p>åœ¨è®²è§£äºŒå‰æ ‘ç« èŠ‚çš„æ—¶å€™ï¼ŒäºŒå‰æ ‘çš„é€’å½’æ³•å…¶å®å°±æ˜¯dfsï¼Œè€ŒäºŒå‰æ ‘çš„è¿­ä»£æ³•ï¼Œå°±æ˜¯bfsï¼ˆå¹¿åº¦ä¼˜å…ˆæœç´¢ï¼‰</p>
<p>æ‰€ä»¥<strong>dfsï¼Œbfså…¶å®æ˜¯åŸºç¡€æœç´¢ç®—æ³•ï¼Œä¹Ÿå¹¿æ³›åº”ç”¨ä¸å…¶ä»–æ•°æ®ç»“æ„ä¸ç®—æ³•ä¸­</strong>ã€‚</p>
<p>æˆ‘ä»¬åœ¨å›é¡¾ä¸€ä¸‹å›æº¯æ³•çš„ä»£ç æ¡†æ¶ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">backtracking</span><span class="params">(å‚æ•°)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (ç»ˆæ­¢æ¡ä»¶) &#123;</span><br><span class="line">        å­˜æ”¾ç»“æœ;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (é€‰æ‹©ï¼šæœ¬å±‚é›†åˆä¸­å…ƒç´ ï¼ˆæ ‘ä¸­èŠ‚ç‚¹***çš„æ•°é‡å°±æ˜¯é›†åˆçš„å¤§å°ï¼‰) &#123;</span><br><span class="line">        å¤„ç†èŠ‚ç‚¹;</span><br><span class="line">        backtracking(è·¯å¾„ï¼Œé€‰æ‹©åˆ—è¡¨); <span class="comment">// é€’å½’</span></span><br><span class="line">        å›æº¯ï¼Œæ’¤é”€å¤„ç†ç»“æœ</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>å›æº¯ç®—æ³•ï¼Œå…¶å®å°±æ˜¯dfsçš„è¿‡ç¨‹ï¼Œè¿™é‡Œç»™å‡ºdfsçš„ä»£ç æ¡†æ¶ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(å‚æ•°)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (ç»ˆæ­¢æ¡ä»¶) &#123;</span><br><span class="line">        å­˜æ”¾ç»“æœ;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (é€‰æ‹©ï¼šæœ¬èŠ‚ç‚¹æ‰€è¿æ¥çš„å…¶ä»–èŠ‚ç‚¹) &#123;</span><br><span class="line">        å¤„ç†èŠ‚ç‚¹;</span><br><span class="line">        dfs(å›¾ï¼Œé€‰æ‹©çš„èŠ‚ç‚¹); <span class="comment">// é€’å½’</span></span><br><span class="line">        å›æº¯ï¼Œæ’¤é”€å¤„ç†ç»“æœ</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥å‘ç°dfsçš„ä»£ç æ¡†æ¶å’Œå›æº¯ç®—æ³•çš„ä»£ç æ¡†æ¶æ˜¯å·®ä¸å¤šçš„ã€‚</p>
<p>ä¸‹é¢æˆ‘åœ¨ç”¨ æ·±æœä¸‰éƒ¨æ›²ï¼Œæ¥è§£è¯» dfsçš„ä»£ç æ¡†æ¶ã€‚</p>
<h5 id="æ·±æœä¸‰éƒ¨æ›²"><a href="#æ·±æœä¸‰éƒ¨æ›²" class="headerlink" title="æ·±æœä¸‰éƒ¨æ›²"></a>æ·±æœä¸‰éƒ¨æ›²</h5><p>åœ¨ äºŒå‰æ ‘é€’å½’è®²è§£ä¸­ï¼Œç»™å‡ºäº†é€’å½’ä¸‰éƒ¨æ›²ã€‚</p>
<p>å›æº¯ç®—æ³•è®²è§£ä¸­ï¼Œç»™å‡ºäº† å›æº¯ä¸‰éƒ¨æ›²ã€‚</p>
<p>å…¶å®æ·±æœä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œæ·±æœä¸‰éƒ¨æ›²å¦‚ä¸‹ï¼š</p>
<ol>
<li>ç¡®è®¤é€’å½’å‡½æ•°ï¼Œå‚æ•°</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(å‚æ•°)</span></span><br></pre></td></tr></table></figure>

<p>é€šå¸¸æˆ‘ä»¬é€’å½’çš„æ—¶å€™ï¼Œæˆ‘ä»¬é€’å½’æœç´¢éœ€è¦äº†è§£å“ªäº›å‚æ•°ï¼Œå…¶å®ä¹Ÿå¯ä»¥åœ¨å†™é€’å½’å‡½æ•°çš„æ—¶å€™ï¼Œå‘ç°éœ€è¦ä»€ä¹ˆå‚æ•°ï¼Œå†å»è¡¥å……å°±å¯ä»¥ã€‚</p>
<p>ä¸€èˆ¬æƒ…å†µï¼Œæ·±æœéœ€è¦ äºŒç»´æ•°ç»„æ•°ç»„ç»“æ„ä¿å­˜æ‰€æœ‰è·¯å¾„ï¼Œéœ€è¦ä¸€ç»´æ•°ç»„ä¿å­˜å•ä¸€è·¯å¾„ï¼Œè¿™ç§ä¿å­˜ç»“æœçš„æ•°ç»„ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸€ä¸ªå…¨å±€éå†ï¼Œé¿å…è®©æˆ‘ä»¬çš„å‡½æ•°å‚æ•°è¿‡å¤šã€‚</p>
<p>ä¾‹å¦‚è¿™æ ·ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">List&lt;List&lt;<span class="type">int</span>&gt;&gt; result; <span class="comment">// ä¿å­˜ç¬¦åˆæ¡ä»¶çš„æ‰€æœ‰è·¯å¾„</span></span><br><span class="line">List&lt;<span class="type">int</span>&gt; path; <span class="comment">// èµ·ç‚¹åˆ°ç»ˆç‚¹çš„è·¯å¾„</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">dfs</span> <span class="params">(å›¾ï¼Œç›®å‰æœç´¢çš„èŠ‚ç‚¹)</span>  </span><br></pre></td></tr></table></figure>

<p>ä½†è¿™ç§å†™æ³•çœ‹ä¸ªäººä¹ æƒ¯ï¼Œä¸å¼ºæ±‚ã€‚</p>
<ol start="2">
<li>ç¡®è®¤ç»ˆæ­¢æ¡ä»¶</li>
</ol>
<p>ç»ˆæ­¢æ¡ä»¶å¾ˆé‡è¦ï¼Œå¾ˆå¤šåŒå­¦å†™dfsçš„æ—¶å€™ï¼Œä¹‹æ‰€ä»¥å®¹æ˜“æ­»å¾ªç¯ï¼Œæ ˆæº¢å‡ºç­‰ç­‰è¿™äº›é—®é¢˜ï¼Œéƒ½æ˜¯å› ä¸ºç»ˆæ­¢æ¡ä»¶æ²¡æœ‰æƒ³æ¸…æ¥šã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (ç»ˆæ­¢æ¡ä»¶) &#123;</span><br><span class="line">    å­˜æ”¾ç»“æœ;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç»ˆæ­¢æ·»åŠ ä¸ä»…æ˜¯ç»“æŸæœ¬å±‚é€’å½’ï¼ŒåŒæ—¶ä¹Ÿæ˜¯æˆ‘ä»¬æ”¶è·ç»“æœçš„æ—¶å€™ã€‚</p>
<ol start="3">
<li>å¤„ç†ç›®å‰æœç´¢èŠ‚ç‚¹å‡ºå‘çš„è·¯å¾„</li>
</ol>
<p>ä¸€èˆ¬è¿™é‡Œå°±æ˜¯ä¸€ä¸ªforå¾ªç¯çš„æ“ä½œï¼Œå»éå† ç›®å‰æœç´¢èŠ‚ç‚¹ æ‰€èƒ½åˆ°çš„æ‰€æœ‰èŠ‚ç‚¹ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (é€‰æ‹©ï¼šæœ¬èŠ‚ç‚¹æ‰€è¿æ¥çš„å…¶ä»–èŠ‚ç‚¹) &#123;</span><br><span class="line">    å¤„ç†èŠ‚ç‚¹;</span><br><span class="line">    dfs(å›¾ï¼Œé€‰æ‹©çš„èŠ‚ç‚¹); <span class="comment">// é€’å½’</span></span><br><span class="line">    å›æº¯ï¼Œæ’¤é”€å¤„ç†ç»“æœ</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸å°‘å½•å‹ç–‘æƒ‘çš„åœ°æ–¹ï¼Œéƒ½æ˜¯ dfsä»£ç æ¡†æ¶ä¸­forå¾ªç¯é‡Œåˆ†æ˜å·²ç»å¤„ç†èŠ‚ç‚¹äº†ï¼Œé‚£ä¹ˆ dfså‡½æ•°ä¸‹é¢ ä¸ºä»€ä¹ˆè¿˜è¦æ’¤é”€çš„å‘¢ã€‚</p>
<p>å¦‚å›¾ä¸ƒæ‰€ç¤ºï¼Œ è·¯å¾„2 å·²ç»èµ°åˆ°äº† ç›®çš„åœ°èŠ‚ç‚¹6ï¼Œé‚£ä¹ˆ è·¯å¾„2 æ˜¯å¦‚ä½•æ’¤é”€ï¼Œç„¶åæ”¹ä¸º è·¯å¾„3å‘¢ï¼Ÿ å…¶å®è¿™å°±æ˜¯ å›æº¯çš„è¿‡ç¨‹ï¼Œæ’¤é”€è·¯å¾„2ï¼Œèµ°æ¢ä¸‹ä¸€ä¸ªæ–¹å‘ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1657681144-MdQRuT-image.png" alt="image.png"></p>
<h5 id="æ€»ç»“-1"><a href="#æ€»ç»“-1" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h5><p>æˆ‘ä»¬è®²è§£äº†ï¼Œdfs å’Œ bfsçš„å¤§ä½“åŒºåˆ«ï¼ˆbfsè¯¦ç»†è¿‡ç¨‹ä¸‹ç¯‡æ¥è®²ï¼‰ï¼Œdfsçš„æœç´¢è¿‡ç¨‹ä»¥åŠä»£ç æ¡†æ¶ã€‚</p>
<p>æœ€åè¿˜æœ‰ æ·±æœä¸‰éƒ¨æ›²æ¥è§£è¯»è¿™ä»½ä»£ç æ¡†æ¶ã€‚</p>
<p>ä»¥ä¸Šå¦‚æœå¤§å®¶éƒ½èƒ½ç†è§£äº†ï¼Œå…¶å®æœç´¢çš„ä»£ç å°±å¾ˆå¥½å†™ï¼Œå…·ä½“é¢˜ç›®å¥—ç”¨å…·ä½“åœºæ™¯å°±å¯ä»¥äº†ã€‚</p>
<h4 id="1ã€LC797-æ‰€æœ‰å¯èƒ½çš„è·¯å¾„"><a href="#1ã€LC797-æ‰€æœ‰å¯èƒ½çš„è·¯å¾„" class="headerlink" title="1ã€LC797. æ‰€æœ‰å¯èƒ½çš„è·¯å¾„"></a>1ã€LC797. æ‰€æœ‰å¯èƒ½çš„è·¯å¾„</h4><p>ç»™ä½ ä¸€ä¸ªæœ‰ <code>n</code> ä¸ªèŠ‚ç‚¹çš„ <strong>æœ‰å‘æ— ç¯å›¾ï¼ˆDAGï¼‰</strong>ï¼Œè¯·ä½ æ‰¾å‡ºæ‰€æœ‰ä»èŠ‚ç‚¹ <code>0</code> åˆ°èŠ‚ç‚¹ <code>n-1</code> çš„è·¯å¾„å¹¶è¾“å‡ºï¼ˆ<strong>ä¸è¦æ±‚æŒ‰ç‰¹å®šé¡ºåº</strong>ï¼‰</p>
<p><code>graph[i]</code> æ˜¯ä¸€ä¸ªä»èŠ‚ç‚¹ <code>i</code> å¯ä»¥è®¿é—®çš„æ‰€æœ‰èŠ‚ç‚¹çš„åˆ—è¡¨ï¼ˆå³ä»èŠ‚ç‚¹ <code>i</code> åˆ°èŠ‚ç‚¹ <code>graph[i][j]</code>å­˜åœ¨ä¸€æ¡æœ‰å‘è¾¹ï¼‰ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/all_1.jpg" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šgraph = [[1,2],[3],[3],[]]</span><br><span class="line">è¾“å‡ºï¼š[[0,1,3],[0,2,3]]</span><br><span class="line">è§£é‡Šï¼šæœ‰ä¸¤æ¡è·¯å¾„ 0 -&gt; 1 -&gt; 3 å’Œ 0 -&gt; 2 -&gt; 3</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/all_2.jpg" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šgraph = [[4,3,1],[3,2,4],[3],[4],[]]</span><br><span class="line">è¾“å‡ºï¼š[[0,4],[0,3,4],[0,1,3,4],[0,1,2,3,4],[0,1,4]]</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>n == graph.length</code></li>
<li><code>2 &lt;= n &lt;= 15</code></li>
<li><code>0 &lt;= graph[i][j] &lt; n</code></li>
<li><code>graph[i][j] != i</code>ï¼ˆå³ä¸å­˜åœ¨è‡ªç¯ï¼‰</li>
<li><code>graph[i]</code> ä¸­çš„æ‰€æœ‰å…ƒç´  <strong>äº’ä¸ç›¸åŒ</strong></li>
<li>ä¿è¯è¾“å…¥ä¸º <strong>æœ‰å‘æ— ç¯å›¾ï¼ˆDAGï¼‰</strong></li>
</ul>
<p>Related Topics</p>
<p>æ·±åº¦ä¼˜å…ˆæœç´¢</p>
<p>å¹¿åº¦ä¼˜å…ˆæœç´¢</p>
<p>å›¾</p>
<p>å›æº¯</p>
<p>ğŸ‘ 363</p>
<p>ğŸ‘ 0</p>
<h5 id="æ–¹æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢"><a href="#æ–¹æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢" class="headerlink" title="æ–¹æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢"></a>æ–¹æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢</h5><p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<ol>
<li>ç¡®è®¤é€’å½’å‡½æ•°ï¼Œå‚æ•°</li>
</ol>
<p>é¦–å…ˆæˆ‘ä»¬dfså‡½æ•°ä¸€å®šè¦å­˜ä¸€ä¸ªå›¾ï¼Œç”¨æ¥éå†çš„ï¼Œè¿˜è¦å­˜ä¸€ä¸ªç›®å‰æˆ‘ä»¬éå†çš„èŠ‚ç‚¹ï¼Œå®šä¹‰ä¸ºx</p>
<p>è‡³äº å•ä¸€è·¯å¾„ï¼Œå’Œè·¯å¾„é›†åˆå¯ä»¥æ”¾åœ¨å…¨å±€å˜é‡ï¼Œé‚£ä¹ˆä»£ç æ˜¯è¿™æ ·çš„ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">List&lt;List&lt;<span class="type">int</span>&gt;&gt; result; <span class="comment">// æ”¶é›†ç¬¦åˆæ¡ä»¶çš„è·¯å¾„</span></span><br><span class="line">List&lt;<span class="type">int</span>&gt; path; <span class="comment">// 0èŠ‚ç‚¹åˆ°ç»ˆç‚¹çš„è·¯å¾„</span></span><br><span class="line"><span class="comment">// xï¼šç›®å‰éå†çš„èŠ‚ç‚¹</span></span><br><span class="line"><span class="comment">// graphï¼šå­˜å½“å‰çš„å›¾</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">dfs</span> <span class="params">(List&lt;List&lt;<span class="type">int</span>&gt;&gt; graph, <span class="type">int</span> x)</span> </span><br></pre></td></tr></table></figure>

<ol start="2">
<li>ç¡®è®¤ç»ˆæ­¢æ¡ä»¶</li>
</ol>
<p>ä»€ä¹ˆæ—¶å€™æˆ‘ä»¬å°±æ‰¾åˆ°ä¸€æ¡è·¯å¾„äº†ï¼Ÿ</p>
<p>å½“ç›®å‰éå†çš„èŠ‚ç‚¹ ä¸º <strong>æœ€åä¸€ä¸ªèŠ‚ç‚¹</strong> çš„æ—¶å€™ï¼Œå°±æ‰¾åˆ°äº†ä¸€æ¡ï¼Œä» å‡ºå‘ç‚¹åˆ°ç»ˆæ­¢ç‚¹çš„è·¯å¾„ã€‚</p>
<p>å½“å‰éå†çš„èŠ‚ç‚¹ï¼Œæˆ‘ä»¬å®šä¹‰ä¸ºxï¼Œæœ€åä¸€ç‚¹èŠ‚ç‚¹ï¼Œå°±æ˜¯ graph.size() - 1ã€‚</p>
<p>æ‰€ä»¥ ä½† x ç­‰äº graph.size() - 1 çš„æ—¶å€™å°±æ‰¾åˆ°ä¸€æ¡æœ‰æ•ˆè·¯å¾„ã€‚ ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¦æ±‚ä»èŠ‚ç‚¹ 0 åˆ°èŠ‚ç‚¹ n-1 çš„è·¯å¾„å¹¶è¾“å‡ºï¼Œæ‰€ä»¥æ˜¯ graph.size() - 1</span></span><br><span class="line"><span class="keyword">if</span> (x == graph.size() - <span class="number">1</span>) &#123; <span class="comment">// æ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„ä¸€æ¡è·¯å¾„</span></span><br><span class="line">    result.push_back(path); <span class="comment">// æ”¶é›†æœ‰æ•ˆè·¯å¾„</span></span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>å¤„ç†ç›®å‰æœç´¢èŠ‚ç‚¹å‡ºå‘çš„è·¯å¾„</li>
</ol>
<p>æ¥ä¸‹æ¥æ˜¯èµ° å½“å‰éå†èŠ‚ç‚¹xçš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ã€‚</p>
<p>é¦–å…ˆæ˜¯è¦æ‰¾åˆ° xèŠ‚ç‚¹é“¾æ¥äº†å“ªäº›èŠ‚ç‚¹å‘¢ï¼Ÿ éå†æ–¹å¼æ˜¯è¿™æ ·çš„ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; graph[x].size(); i++) &#123; <span class="comment">// éå†èŠ‚ç‚¹né“¾æ¥çš„æ‰€æœ‰èŠ‚ç‚¹</span></span><br></pre></td></tr></table></figure>


<p>æ¥ä¸‹æ¥å°±æ˜¯å°† é€‰ä¸­çš„xæ‰€è¿æ¥çš„èŠ‚ç‚¹ï¼ŒåŠ å…¥åˆ° å•ä¸€è·¯å¾„æ¥ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">path.push_back(graph[x][i]); <span class="comment">// éå†åˆ°çš„èŠ‚ç‚¹åŠ å…¥åˆ°è·¯å¾„ä¸­æ¥</span></span><br></pre></td></tr></table></figure>

<p>å½“å‰éå†çš„èŠ‚ç‚¹å°±æ˜¯ graph[x] [i] äº†ï¼Œæ‰€ä»¥è¿›å…¥ä¸‹ä¸€å±‚é€’å½’</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dfs(graph, graph[x][i]); <span class="comment">// è¿›å…¥ä¸‹ä¸€å±‚é€’å½’</span></span><br></pre></td></tr></table></figure>

<p>æœ€åå°±æ˜¯å›æº¯çš„è¿‡ç¨‹ï¼Œæ’¤é”€æœ¬æ¬¡æ·»åŠ èŠ‚ç‚¹çš„æ“ä½œã€‚ è¯¥è¿‡ç¨‹æ•´ä½“ä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; graph[x].size(); i++) &#123; <span class="comment">// éå†èŠ‚ç‚¹né“¾æ¥çš„æ‰€æœ‰èŠ‚ç‚¹</span></span><br><span class="line">    path.push_back(graph[x][i]); <span class="comment">// éå†åˆ°çš„èŠ‚ç‚¹åŠ å…¥åˆ°è·¯å¾„ä¸­æ¥</span></span><br><span class="line">    dfs(graph, graph[x][i]); <span class="comment">// è¿›å…¥ä¸‹ä¸€å±‚é€’å½’</span></span><br><span class="line">    path.pop_back(); <span class="comment">// å›æº¯ï¼Œæ’¤é”€æœ¬èŠ‚ç‚¹</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; res;</span><br><span class="line">    LinkedList&lt;Integer&gt; path;</span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; <span class="title function_">allPathsSourceTarget</span><span class="params">(<span class="type">int</span>[][] graph)</span> &#123;</span><br><span class="line">        <span class="comment">//å§‹ç»ˆä»0å¼€å§‹ï¼Œæ‰€ä»¥æ€»æ˜¯éœ€è¦æŠŠèŠ‚ç‚¹0åŠ å…¥</span></span><br><span class="line">        path.add(<span class="number">0</span>);</span><br><span class="line">        dfs(graph,<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">return</span> results;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//æ·±åº¦æœç´¢ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¦éå†çš„å›¾ï¼Œç¬¬äºŒå‚æ•°æ˜¯å½“å‰èŠ‚ç‚¹ç¼–å·</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span>[][] graph, <span class="type">int</span> n)</span>&#123;</span><br><span class="line">        <span class="comment">//å¦‚æœéå†åˆ°æœ€åä¸€ä¸ªèŠ‚ç‚¹ï¼Œåˆ™åœæ­¢éå†</span></span><br><span class="line">        <span class="keyword">if</span>(n == graph.length - <span class="number">1</span>)&#123;</span><br><span class="line">            <span class="comment">//è¾¾åˆ°ç›®æ ‡èŠ‚ç‚¹ï¼Œä¿å­˜æ­¤æ¡è·¯å¾„å¹¶ç»“æŸæœç´¢</span></span><br><span class="line">            results.add(<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(path));</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//éå†å½“å‰èŠ‚ç‚¹æ‰€æœ‰å…³è”çš„èŠ‚ç‚¹</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>; i&lt;graph[n].length; i++)&#123;</span><br><span class="line">            <span class="comment">//å°†å½“å‰èŠ‚ç‚¹ä¿å­˜åœ¨æœ¬æ¬¡æœç´¢è·¯å¾„ä¸­</span></span><br><span class="line">            path.add(graph[n][i]);</span><br><span class="line">            <span class="comment">//ç»§ç»­éå†ä¸å½“å‰èŠ‚ç‚¹å…³è”çš„èŠ‚ç‚¹</span></span><br><span class="line">            dfs(graph,graph[n][i]);</span><br><span class="line">            <span class="comment">//å›æº¯(ArrayListçš„remove()æ–¹æ³•ä¼ å…¥æ•´æ•°ä¼šè¢«ä½œä¸ºä¸‹æ ‡ï¼Œä½¿ç”¨path.size()-1å¯ä»¥ä¸¥æ ¼æ§åˆ¶åˆ é™¤æœ€åä¸€ä¸ªå…ƒç´ )</span></span><br><span class="line">            path.removeLast();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2ã€LC841-é’¥åŒ™å’Œæˆ¿é—´"><a href="#2ã€LC841-é’¥åŒ™å’Œæˆ¿é—´" class="headerlink" title="2ã€LC841. é’¥åŒ™å’Œæˆ¿é—´"></a>2ã€LC841. é’¥åŒ™å’Œæˆ¿é—´</h4><p>æœ‰ <code>n</code> ä¸ªæˆ¿é—´ï¼Œæˆ¿é—´æŒ‰ä» <code>0</code> åˆ° <code>n - 1</code> ç¼–å·ã€‚æœ€åˆï¼Œé™¤ <code>0</code> å·æˆ¿é—´å¤–çš„å…¶ä½™æ‰€æœ‰æˆ¿é—´éƒ½è¢«é”ä½ã€‚ä½ çš„ç›®æ ‡æ˜¯è¿›å…¥æ‰€æœ‰çš„æˆ¿é—´ã€‚ç„¶è€Œï¼Œä½ ä¸èƒ½åœ¨æ²¡æœ‰è·å¾—é’¥åŒ™çš„æ—¶å€™è¿›å…¥é”ä½çš„æˆ¿é—´ã€‚</p>
<p>å½“ä½ è¿›å…¥ä¸€ä¸ªæˆ¿é—´ï¼Œä½ å¯èƒ½ä¼šåœ¨é‡Œé¢æ‰¾åˆ°ä¸€å¥—ä¸åŒçš„é’¥åŒ™ï¼Œæ¯æŠŠé’¥åŒ™ä¸Šéƒ½æœ‰å¯¹åº”çš„æˆ¿é—´å·ï¼Œå³è¡¨ç¤ºé’¥åŒ™å¯ä»¥æ‰“å¼€çš„æˆ¿é—´ã€‚ä½ å¯ä»¥æ‹¿ä¸Šæ‰€æœ‰é’¥åŒ™å»è§£é”å…¶ä»–æˆ¿é—´ã€‚</p>
<p>ç»™ä½ ä¸€ä¸ªæ•°ç»„ <code>rooms</code> å…¶ä¸­ <code>rooms[i]</code> æ˜¯ä½ è¿›å…¥ <code>i</code> å·æˆ¿é—´å¯ä»¥è·å¾—çš„é’¥åŒ™é›†åˆã€‚å¦‚æœèƒ½è¿›å…¥ <strong>æ‰€æœ‰</strong> æˆ¿é—´è¿”å› <code>true</code>ï¼Œå¦åˆ™è¿”å› <code>false</code>ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šrooms = [[1],[2],[3],[]]</span><br><span class="line">è¾“å‡ºï¼štrue</span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">æˆ‘ä»¬ä» 0 å·æˆ¿é—´å¼€å§‹ï¼Œæ‹¿åˆ°é’¥åŒ™ 1ã€‚</span><br><span class="line">ä¹‹åæˆ‘ä»¬å» 1 å·æˆ¿é—´ï¼Œæ‹¿åˆ°é’¥åŒ™ 2ã€‚</span><br><span class="line">ç„¶åæˆ‘ä»¬å» 2 å·æˆ¿é—´ï¼Œæ‹¿åˆ°é’¥åŒ™ 3ã€‚</span><br><span class="line">æœ€åæˆ‘ä»¬å»äº† 3 å·æˆ¿é—´ã€‚</span><br><span class="line">ç”±äºæˆ‘ä»¬èƒ½å¤Ÿè¿›å…¥æ¯ä¸ªæˆ¿é—´ï¼Œæˆ‘ä»¬è¿”å› trueã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šrooms = [[1,3],[3,0,1],[2],[0]]</span><br><span class="line">è¾“å‡ºï¼šfalse</span><br><span class="line">è§£é‡Šï¼šæˆ‘ä»¬ä¸èƒ½è¿›å…¥ 2 å·æˆ¿é—´ã€‚</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>n == rooms.length</code></li>
<li><code>2 &lt;= n &lt;= 1000</code></li>
<li><code>0 &lt;= rooms[i].length &lt;= 1000</code></li>
<li><code>1 &lt;= sum(rooms[i].length) &lt;= 3000</code></li>
<li><code>0 &lt;= rooms[i][j] &lt; n</code></li>
<li>æ‰€æœ‰ <code>rooms[i]</code> çš„å€¼ <strong>äº’ä¸ç›¸åŒ</strong></li>
</ul>
<p>Related Topics</p>
<p>æ·±åº¦ä¼˜å…ˆæœç´¢</p>
<p>å¹¿åº¦ä¼˜å…ˆæœç´¢</p>
<p>å›¾</p>
<p>ğŸ‘ 284</p>
<p>ğŸ‘ 0	</p>
<h5 id="æ–¹æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢-1"><a href="#æ–¹æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢-1" class="headerlink" title="æ–¹æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢"></a>æ–¹æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢</h5><p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>æœ¬é¢˜å…¶å®ç»™æˆ‘ä»¬æ˜¯ä¸€ä¸ªæœ‰å‘å›¾ï¼Œ æ„è¯†åˆ°è¿™æ˜¯æœ‰å‘å›¾å¾ˆé‡è¦ï¼</p>
<p>å›¾ä¸­ç»™æˆ‘çš„ä¸¤ä¸ªç¤ºä¾‹ï¼š <code>[[1],[2],[3],[]]</code> <code>[[1,3],[3,0,1],[2],[0]]</code>ï¼Œç”»æˆå¯¹åº”çš„å›¾å¦‚ä¸‹ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/20220714101414.png" alt="img"></p>
<p>æˆ‘ä»¬å¯ä»¥çœ‹å‡ºå›¾1çš„æ‰€æœ‰èŠ‚ç‚¹éƒ½æ˜¯é“¾æ¥çš„ï¼Œè€Œå›¾äºŒä¸­ï¼ŒèŠ‚ç‚¹2 æ˜¯å­¤ç«‹çš„ã€‚</p>
<p>è¿™å°±å¾ˆå®¹æ˜“è®©æˆ‘ä»¬æƒ³èµ·å²›å±¿é—®é¢˜ï¼Œåªè¦å‘ç°ç‹¬ç«‹çš„å²›ï¼Œå°±æ˜¯ä¸èƒ½è¿›å…¥æ‰€æœ‰æˆ¿é—´ã€‚</p>
<p>æ­¤æ—¶ä¹Ÿå®¹æ˜“æƒ³åˆ°ç”¨å¹¶æŸ¥é›†çš„æ–¹å¼å»è§£å†³ã€‚</p>
<p><strong>ä½†æœ¬é¢˜æ˜¯æœ‰å‘å›¾</strong>ï¼Œåœ¨æœ‰å‘å›¾ä¸­ï¼Œå³ä½¿æ‰€æœ‰èŠ‚ç‚¹éƒ½æ˜¯é“¾æ¥çš„ï¼Œä½†ä¾ç„¶ä¸å¯èƒ½ä»0å‡ºå‘éå†æ‰€æœ‰è¾¹ã€‚ ç»™å¤§å®¶ä¸¾ä¸€ä¸ªä¾‹å­ï¼š</p>
<p>å›¾3ï¼š[[5], [], [1, 3], [5]] ï¼Œå¦‚å›¾ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/20220714102201.png" alt="img"></p>
<p>åœ¨å›¾3ä¸­ï¼Œå¤§å®¶å¯ä»¥å‘ç°ï¼ŒèŠ‚ç‚¹0åªèƒ½åˆ°èŠ‚ç‚¹5ï¼Œç„¶åå°±å“ªä¹Ÿå»ä¸äº†äº†ã€‚</p>
<p>æ‰€ä»¥æœ¬é¢˜æ˜¯ä¸€ä¸ªæœ‰å‘å›¾æœç´¢å…¨è·¯å¾„çš„é—®é¢˜ã€‚ åªèƒ½ç”¨æ·±æœï¼ˆDFSï¼‰æˆ–è€…å¹¿æœï¼ˆBFSï¼‰æ¥æœã€‚</p>
<p><strong>æ·±æœä¸‰éƒ¨æ›²</strong>ï¼š</p>
<ol>
<li>ç¡®è®¤é€’å½’å‡½æ•°ï¼Œå‚æ•°</li>
</ol>
<p>éœ€è¦ä¼ å…¥äºŒç»´æ•°ç»„roomsæ¥éå†åœ°å›¾ï¼Œéœ€è¦çŸ¥é“å½“å‰æˆ‘ä»¬æ‹¿åˆ°çš„keyï¼Œä»¥è‡³äºå»ä¸‹ä¸€ä¸ªæˆ¿é—´ã€‚</p>
<p>åŒæ—¶è¿˜éœ€è¦ä¸€ä¸ªæ•°ç»„ï¼Œç”¨æ¥è®°å½•æˆ‘ä»¬éƒ½èµ°è¿‡äº†å“ªäº›æˆ¿é—´ï¼Œè¿™æ ·å¥½çŸ¥é“æœ€åæœ‰æ²¡æœ‰æŠŠæ‰€æœ‰æˆ¿é—´éƒ½éå†çš„ï¼Œå¯ä»¥å®šä¹‰ä¸€ä¸ªä¸€ç»´æ•°ç»„ã€‚</p>
<p>æ‰€ä»¥ é€’å½’å‡½æ•°å‚æ•°å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// key å½“å‰å¾—åˆ°çš„å¯ä»¥ </span></span><br><span class="line"><span class="comment">// visited è®°å½•è®¿é—®è¿‡çš„æˆ¿é—´ </span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">const</span> vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; rooms, <span class="type">int</span> key, vector&lt;<span class="type">bool</span>&gt;&amp; visited)</span> </span>&#123;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>ç¡®è®¤ç»ˆæ­¢æ¡ä»¶</li>
</ol>
<p>éå†çš„æ—¶å€™ï¼Œä»€ä¹ˆæ—¶å€™ç»ˆæ­¢å‘¢ï¼Ÿ</p>
<p>è¿™é‡Œæœ‰ä¸€ä¸ªå¾ˆé‡è¦çš„é€»è¾‘ï¼Œå°±æ˜¯åœ¨é€’å½’ä¸­ï¼Œ<strong>æˆ‘ä»¬æ˜¯å¤„ç†å½“å‰è®¿é—®çš„èŠ‚ç‚¹ï¼Œè¿˜æ˜¯å¤„ç†ä¸‹ä¸€ä¸ªè¦è®¿é—®çš„èŠ‚ç‚¹</strong>ã€‚</p>
<p>è¿™å†³å®š ç»ˆæ­¢æ¡ä»¶æ€ä¹ˆå†™ã€‚</p>
<p>é¦–å…ˆæ˜ç¡®ï¼Œæœ¬é¢˜ä¸­ä»€ä¹ˆå«åšå¤„ç†ï¼Œå°±æ˜¯ visitedæ•°ç»„æ¥è®°å½•è®¿é—®è¿‡çš„èŠ‚ç‚¹ï¼Œé‚£ä¹ˆæŠŠè¯¥èŠ‚ç‚¹é»˜è®¤ æ•°ç»„é‡Œå…ƒç´ éƒ½æ˜¯falseï¼ŒæŠŠå…ƒç´ æ ‡è®°ä¸ºtrueå°±æ˜¯å¤„ç† æœ¬èŠ‚ç‚¹äº†ã€‚</p>
<p>å¦‚æœæˆ‘ä»¬æ˜¯å¤„ç†å½“å‰è®¿é—®çš„èŠ‚ç‚¹ï¼Œå½“å‰è®¿é—®çš„èŠ‚ç‚¹å¦‚æœæ˜¯ true ï¼Œè¯´æ˜æ˜¯è®¿é—®è¿‡çš„èŠ‚ç‚¹ï¼Œé‚£å°±ç»ˆæ­¢æœ¬å±‚é€’å½’ï¼Œå¦‚æœä¸æ˜¯trueï¼Œæˆ‘ä»¬å°±æŠŠå®ƒèµ‹å€¼ä¸ºtrueï¼Œå› ä¸ºæˆ‘ä»¬å¤„ç†æœ¬å±‚é€’å½’çš„èŠ‚ç‚¹ã€‚</p>
<p>ä»£ç å°±æ˜¯è¿™æ ·ï¼š</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å†™æ³•ä¸€ï¼šå¤„ç†å½“å‰è®¿é—®çš„èŠ‚ç‚¹</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">const</span> vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; rooms, <span class="type">int</span> key, vector&lt;<span class="type">bool</span>&gt;&amp; visited)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (visited[key]) &#123; <span class="comment">// æœ¬å±‚é€’å½’æ˜¯trueï¼Œè¯´æ˜è®¿é—®è¿‡ï¼Œç«‹åˆ»è¿”å›</span></span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    visited[key] = <span class="literal">true</span>; <span class="comment">// ç»™å½“å‰éå†çš„èŠ‚ç‚¹èµ‹å€¼true </span></span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; keys = rooms[key];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> key : keys) &#123;</span><br><span class="line">        <span class="comment">// æ·±åº¦ä¼˜å…ˆæœç´¢éå†</span></span><br><span class="line">        <span class="built_in">dfs</span>(rooms, key, visited);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæˆ‘ä»¬æ˜¯å¤„ç†ä¸‹ä¸€å±‚è®¿é—®çš„èŠ‚ç‚¹ï¼Œè€Œä¸æ˜¯å½“å‰å±‚ã€‚é‚£ä¹ˆå°±è¦åœ¨ æ·±æœä¸‰éƒ¨æ›²ä¸­ç¬¬ä¸‰æ­¥ï¼šå¤„ç†ç›®å‰æœç´¢èŠ‚ç‚¹å‡ºå‘çš„è·¯å¾„ çš„æ—¶å€™å¯¹ èŠ‚ç‚¹è¿›è¡Œå¤„ç†ã€‚</p>
<p>è¿™æ ·çš„è¯ï¼Œå°±ä¸éœ€è¦ç»ˆæ­¢æ¡ä»¶ï¼Œè€Œæ˜¯åœ¨ æœç´¢ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„æ—¶å€™ï¼Œç›´æ¥åˆ¤æ–­ ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æ˜¯å¦æ˜¯æˆ‘ä»¬è¦æœçš„èŠ‚ç‚¹ã€‚</p>
<p>ä»£ç å°±æ˜¯è¿™æ ·çš„ï¼š</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å†™æ³•äºŒï¼šå¤„ç†ä¸‹ä¸€ä¸ªè¦è®¿é—®çš„èŠ‚ç‚¹</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">const</span> vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; rooms, <span class="type">int</span> key, vector&lt;<span class="type">bool</span>&gt;&amp; visited)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// è¿™é‡Œ æ²¡æœ‰ç»ˆæ­¢æ¡ä»¶ï¼Œè€Œæ˜¯åœ¨ å¤„ç†ä¸‹ä¸€å±‚èŠ‚ç‚¹çš„æ—¶å€™æ¥åˆ¤æ–­</span></span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; keys = rooms[key];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> key : keys) &#123; </span><br><span class="line">        <span class="keyword">if</span> (visited[key] == <span class="literal">false</span>) &#123; <span class="comment">// å¤„ç†ä¸‹ä¸€å±‚èŠ‚ç‚¹ï¼Œåˆ¤æ–­æ˜¯å¦è¦è¿›è¡Œé€’å½’</span></span><br><span class="line">            visited[key] = <span class="literal">true</span>;</span><br><span class="line">            <span class="built_in">dfs</span>(rooms, key, visited);</span><br><span class="line">        &#125;       </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹å‡ºï¼Œå¦‚æœçœ‹å¾… æˆ‘ä»¬è¦è®¿é—®çš„èŠ‚ç‚¹ï¼Œç›´æ¥å†³å®šäº†ä¸¤ç§ä¸ä¸€æ ·çš„å†™æ³•ï¼Œå¾ˆå¤šåŒå­¦å¯¹è¿™ä¸€å—å¾ˆæ¨¡ç³Šï¼Œå…¶å®åšè¿‡è¿™é“é¢˜ï¼Œä¹Ÿæ²¡æœ‰æ€è€ƒåˆ°è¿™ä¸ªç»´åº¦ä¸Šã€‚</p>
<ol start="3">
<li>å¤„ç†ç›®å‰æœç´¢èŠ‚ç‚¹å‡ºå‘çš„è·¯å¾„</li>
</ol>
<p>å…¶å®åœ¨ä¸Šé¢ï¼Œæ·±æœä¸‰éƒ¨æ›² ç¬¬äºŒéƒ¨ï¼Œå°±å·²ç»è®²äº†ï¼Œå› ä¸ºç»ˆæ­¢æ¡ä»¶çš„ä¸¤ç§å†™æ³•ï¼Œ ç›´æ¥å†³å®šäº†ä¸¤ç§ä¸ä¸€æ ·çš„é€’å½’å†™æ³•ã€‚</p>
<p>è¿™é‡Œè¿˜æœ‰ç»†èŠ‚ï¼š</p>
<p>çœ‹ä¸Šé¢ä¸¤ä¸ªç‰ˆæœ¬çš„å†™æ³•ä¸­ï¼Œ å¥½åƒæ²¡æœ‰å‘ç°å›æº¯çš„é€»è¾‘ã€‚</p>
<p>æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œæœ‰é€’å½’å°±æœ‰å›æº¯ï¼Œå›æº¯å°±åœ¨é€’å½’å‡½æ•°çš„ä¸‹é¢ï¼Œ é‚£ä¹ˆä¹‹å‰æˆ‘ä»¬åšçš„dfsé¢˜ç›®ï¼Œéƒ½éœ€è¦å›æº¯æ“ä½œï¼Œä¾‹å¦‚ï¼š<a target="_blank" rel="noopener" href="https://leetcode.cn/problems/all-paths-from-source-to-target/solution/by-carlsun-2-66pf/">797.æ‰€æœ‰å¯èƒ½çš„è·¯å¾„ (opens new window)</a>ï¼Œ <strong>ä¸ºä»€ä¹ˆæœ¬é¢˜å°±æ²¡æœ‰å›æº¯å‘¢ï¼Ÿ</strong></p>
<p>ä»£ç ä¸­å¯ä»¥çœ‹åˆ°dfså‡½æ•°ä¸‹é¢å¹¶æ²¡æœ‰å›æº¯çš„æ“ä½œã€‚</p>
<p>æ­¤æ—¶å°±è¦åœ¨æ€è€ƒæœ¬é¢˜çš„è¦æ±‚äº†ï¼Œæœ¬é¢˜æ˜¯éœ€è¦åˆ¤æ–­ 0èŠ‚ç‚¹æ˜¯å¦èƒ½åˆ°æ‰€æœ‰èŠ‚ç‚¹ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±æ²¡æœ‰å¿…è¦å›æº¯å»æ’¤é”€æ“ä½œäº†ï¼Œåªè¦éå†è¿‡çš„èŠ‚ç‚¹ä¸€å¾‹éƒ½æ ‡è®°ä¸Šã€‚</p>
<p><strong>é‚£ä»€ä¹ˆæ—¶å€™éœ€è¦å›æº¯æ“ä½œå‘¢ï¼Ÿ</strong></p>
<p>å½“æˆ‘ä»¬éœ€è¦æœç´¢ä¸€æ¡å¯è¡Œè·¯å¾„çš„æ—¶å€™ï¼Œå°±éœ€è¦å›æº¯æ“ä½œäº†ï¼Œå› ä¸ºæ²¡æœ‰å›æº¯ï¼Œå°±æ²¡æ³•â€œè°ƒå¤´â€ï¼Œ å¦‚æœä¸ç†è§£çš„è¯ï¼Œå»çœ‹æˆ‘å†™çš„ <a target="_blank" rel="noopener" href="https://leetcode.cn/problems/all-paths-from-source-to-target/solution/by-carlsun-2-66pf/">797.æ‰€æœ‰å¯èƒ½çš„è·¯å¾„ (opens new window)</a>çš„é¢˜è§£ã€‚</p>
<h6 id="å†™æ³•ä¸€ï¼šåˆ¤æ–­å½“å‰èŠ‚ç‚¹"><a href="#å†™æ³•ä¸€ï¼šåˆ¤æ–­å½“å‰èŠ‚ç‚¹" class="headerlink" title="å†™æ³•ä¸€ï¼šåˆ¤æ–­å½“å‰èŠ‚ç‚¹"></a>å†™æ³•ä¸€ï¼šåˆ¤æ–­å½“å‰èŠ‚ç‚¹</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">canVisitAllRooms</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; rooms)</span> &#123;</span><br><span class="line">        <span class="type">boolean</span>[] visited = <span class="keyword">new</span> <span class="title class_">boolean</span>[rooms.size()]; <span class="comment">// è®°å½•æœ‰æ²¡æœ‰è®¿é—®è¿‡è¯¥æˆ¿é—´</span></span><br><span class="line">        dfs(rooms, <span class="number">0</span>, visited);</span><br><span class="line">        <span class="comment">// æ£€æŸ¥æ˜¯å¦éƒ½è®¿é—®è¿‡äº†</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">boolean</span> v : visited) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!v) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å†™æ³•ä¸€ï¼šå¤„ç†å½“å‰è®¿é—®çš„èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; rooms, <span class="type">int</span> key, <span class="type">boolean</span>[] visited)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (visited[key]) &#123;</span><br><span class="line">            <span class="comment">// ä¹‹å‰è®¿é—®è¿‡ï¼Œç›´æ¥è¿”å›</span></span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        visited[key] = <span class="literal">true</span>; <span class="comment">// è®¾ç½®å€¼ï¼Œè¡¨ç¤ºè¯¥æˆ¿é—´è®¿é—®è¿‡</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> x : rooms.get(key)) &#123;</span><br><span class="line">            dfs(rooms, x, visited);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="å†™æ³•äºŒï¼šåˆ¤æ–­ä¸‹ä¸€ä¸ªèŠ‚ç‚¹"><a href="#å†™æ³•äºŒï¼šåˆ¤æ–­ä¸‹ä¸€ä¸ªèŠ‚ç‚¹" class="headerlink" title="å†™æ³•äºŒï¼šåˆ¤æ–­ä¸‹ä¸€ä¸ªèŠ‚ç‚¹"></a>å†™æ³•äºŒï¼šåˆ¤æ–­ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">canVisitAllRooms</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; rooms)</span> &#123;</span><br><span class="line">        <span class="type">boolean</span>[] visited = <span class="keyword">new</span> <span class="title class_">boolean</span>[rooms.size()]; <span class="comment">// è®°å½•æœ‰æ²¡æœ‰è®¿é—®è¿‡è¯¥æˆ¿é—´</span></span><br><span class="line">        dfs2(rooms, <span class="number">0</span>, visited);</span><br><span class="line">        <span class="comment">// æ£€æŸ¥æ˜¯å¦éƒ½è®¿é—®è¿‡äº†</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">boolean</span> v : visited) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!v) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å†™æ³•äºŒï¼šå¤„ç†ä¸‹ä¸€ä¸ªè®¿é—®çš„èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">dfs2</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; rooms, <span class="type">int</span> key, <span class="type">boolean</span>[] visited)</span> &#123;</span><br><span class="line">        visited[key] = <span class="literal">true</span>; <span class="comment">// è®¾ç½®å€¼ï¼Œè¡¨ç¤ºè¯¥æˆ¿é—´è®¿é—®è¿‡</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> x : rooms.get(key)) &#123;</span><br><span class="line">            <span class="keyword">if</span> (visited[x]) &#123; <span class="comment">// ä¸‹ä¸€ä¸ªæˆ¿é—´è®¿é—®è¿‡ï¼Œè·³è¿‡</span></span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125; </span><br><span class="line">            dfs2(rooms, x, visited); <span class="comment">// é€’å½’</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="æ–¹æ³•äºŒï¼šå¹¿åº¦ä¼˜å…ˆéå†"><a href="#æ–¹æ³•äºŒï¼šå¹¿åº¦ä¼˜å…ˆéå†" class="headerlink" title="æ–¹æ³•äºŒï¼šå¹¿åº¦ä¼˜å…ˆéå†"></a>æ–¹æ³•äºŒï¼šå¹¿åº¦ä¼˜å…ˆéå†</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">canVisitAllRooms</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; rooms)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> bfs(rooms);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">bfs</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; rooms)</span> &#123;</span><br><span class="line">        <span class="type">boolean</span>[] visited = <span class="keyword">new</span> <span class="title class_">boolean</span>[rooms.size()];  <span class="comment">// æ ‡è®°æˆ¿é—´æ˜¯å¦è¢«è®¿é—®è¿‡</span></span><br><span class="line">        visited[<span class="number">0</span>] = <span class="literal">true</span>; <span class="comment">//  0 å·æˆ¿é—´å¼€å§‹</span></span><br><span class="line">        Queue&lt;Integer&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        queue.offer(<span class="number">0</span>); <span class="comment">//  0 å·æˆ¿é—´å¼€å§‹</span></span><br><span class="line">        <span class="comment">// å¹¿åº¦ä¼˜å…ˆæœç´¢çš„è¿‡ç¨‹</span></span><br><span class="line">        <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">key</span> <span class="operator">=</span> queue.poll();</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> x : rooms.get(key)) &#123;</span><br><span class="line">                <span class="keyword">if</span> (!visited[x]) &#123;</span><br><span class="line">                    queue.add(x);</span><br><span class="line">                    visited[x] = <span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// æ£€æŸ¥æˆ¿é—´æ˜¯ä¸æ˜¯éƒ½éå†è¿‡äº†</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">boolean</span> v : visited) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!v) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="3ã€LC127-å•è¯æ¥é¾™"><a href="#3ã€LC127-å•è¯æ¥é¾™" class="headerlink" title="3ã€LC127. å•è¯æ¥é¾™"></a>3ã€LC127. å•è¯æ¥é¾™</h4><p>å­—å…¸ <code>wordList</code> ä¸­ä»å•è¯ <code>beginWord</code> å’Œ <code>endWord</code> çš„ <strong>è½¬æ¢åºåˆ—</strong> æ˜¯ä¸€ä¸ªæŒ‰ä¸‹è¿°è§„æ ¼å½¢æˆçš„åºåˆ— <code>beginWord -&gt; s1 -&gt; s2 -&gt; ... -&gt; sk</code>ï¼š</p>
<ul>
<li>æ¯ä¸€å¯¹ç›¸é‚»çš„å•è¯åªå·®ä¸€ä¸ªå­—æ¯ã€‚</li>
<li>å¯¹äº <code>1 &lt;= i &lt;= k</code> æ—¶ï¼Œæ¯ä¸ª <code>si</code> éƒ½åœ¨ <code>wordList</code> ä¸­ã€‚æ³¨æ„ï¼Œ <code>beginWord</code> ä¸éœ€è¦åœ¨ <code>wordList</code> ä¸­ã€‚</li>
<li><code>sk == endWord</code></li>
</ul>
<p>ç»™ä½ ä¸¤ä¸ªå•è¯ <code>beginWord</code> å’Œ <code>endWord</code> å’Œä¸€ä¸ªå­—å…¸ <code>wordList</code> ï¼Œè¿”å› <em>ä» <code>beginWord</code> åˆ° <code>endWord</code> çš„ <strong>æœ€çŸ­è½¬æ¢åºåˆ—</strong> ä¸­çš„ <strong>å•è¯æ•°ç›®</strong></em> ã€‚å¦‚æœä¸å­˜åœ¨è¿™æ ·çš„è½¬æ¢åºåˆ—ï¼Œè¿”å› <code>0</code> ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šbeginWord = &quot;hit&quot;, endWord = &quot;cog&quot;, wordList = [&quot;hot&quot;,&quot;dot&quot;,&quot;dog&quot;,&quot;lot&quot;,&quot;log&quot;,&quot;cog&quot;]</span><br><span class="line">è¾“å‡ºï¼š5</span><br><span class="line">è§£é‡Šï¼šä¸€ä¸ªæœ€çŸ­è½¬æ¢åºåˆ—æ˜¯ &quot;hit&quot; -&gt; &quot;hot&quot; -&gt; &quot;dot&quot; -&gt; &quot;dog&quot; -&gt; &quot;cog&quot;, è¿”å›å®ƒçš„é•¿åº¦ 5ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šbeginWord = &quot;hit&quot;, endWord = &quot;cog&quot;, wordList = [&quot;hot&quot;,&quot;dot&quot;,&quot;dog&quot;,&quot;lot&quot;,&quot;log&quot;]</span><br><span class="line">è¾“å‡ºï¼š0</span><br><span class="line">è§£é‡Šï¼šendWord &quot;cog&quot; ä¸åœ¨å­—å…¸ä¸­ï¼Œæ‰€ä»¥æ— æ³•è¿›è¡Œè½¬æ¢ã€‚</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= beginWord.length &lt;= 10</code></li>
<li><code>endWord.length == beginWord.length</code></li>
<li><code>1 &lt;= wordList.length &lt;= 5000</code></li>
<li><code>wordList[i].length == beginWord.length</code></li>
<li><code>beginWord</code>ã€<code>endWord</code> å’Œ <code>wordList[i]</code> ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆ</li>
<li><code>beginWord != endWord</code></li>
<li><code>wordList</code> ä¸­çš„æ‰€æœ‰å­—ç¬¦ä¸² <strong>äº’ä¸ç›¸åŒ</strong></li>
</ul>
<p>Related Topics</p>
<p>å¹¿åº¦ä¼˜å…ˆæœç´¢</p>
<p>å“ˆå¸Œè¡¨</p>
<p>å­—ç¬¦ä¸²</p>
<p>ğŸ‘ 1183</p>
<p>ğŸ‘ 0</p>
<p>è§£æ³•ä¸€ï¼šå¹¿åº¦ä¼˜å…ˆéå†</p>
<p><strong>è§£é¢˜æ€è·¯</strong></p>
<p>ä»¥ç¤ºä¾‹1ä¸ºä¾‹ï¼Œä»è¿™ä¸ªå›¾ä¸­å¯ä»¥çœ‹å‡º hit åˆ° cogçš„è·¯çº¿ï¼Œä¸æ­¢ä¸€æ¡ï¼Œæœ‰ä¸‰æ¡ï¼Œä¸€æ¡æ˜¯æœ€çŸ­çš„é•¿åº¦ä¸º5ï¼Œä¸¤æ¡é•¿åº¦ä¸º6ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/ec8f7e4f40134b932a9ff2e306d885e427bd8ee912801361849d92ddae6226f3-image.png" alt="image.png"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/20210827175432.png" alt="img"></p>
<p>æœ¬é¢˜åªéœ€è¦æ±‚å‡ºæœ€çŸ­é•¿åº¦å°±å¯ä»¥äº†ï¼Œä¸ç”¨æ‰¾å‡ºè·¯å¾„ã€‚</p>
<p>æ‰€ä»¥è¿™é“é¢˜è¦è§£å†³ä¸¤ä¸ªé—®é¢˜ï¼š</p>
<ul>
<li>å›¾ä¸­çš„çº¿æ˜¯å¦‚ä½•è¿åœ¨ä¸€èµ·çš„</li>
<li>èµ·ç‚¹å’Œç»ˆç‚¹çš„æœ€çŸ­è·¯å¾„é•¿åº¦</li>
</ul>
<p>é¦–å…ˆé¢˜ç›®ä¸­å¹¶æ²¡æœ‰ç»™å‡ºç‚¹ä¸ç‚¹ä¹‹é—´çš„è¿çº¿ï¼Œè€Œæ˜¯è¦æˆ‘ä»¬è‡ªå·±å»è¿ï¼Œæ¡ä»¶æ˜¯å­—ç¬¦åªèƒ½å·®ä¸€ä¸ªï¼Œæ‰€ä»¥åˆ¤æ–­ç‚¹ä¸ç‚¹ä¹‹é—´çš„å…³ç³»ï¼Œè¦è‡ªå·±åˆ¤æ–­æ˜¯ä¸æ˜¯å·®ä¸€ä¸ªå­—ç¬¦ï¼Œå¦‚æœå·®ä¸€ä¸ªå­—ç¬¦ï¼Œé‚£å°±æ˜¯æœ‰é“¾æ¥ã€‚</p>
<p>ç„¶åå°±æ˜¯æ±‚èµ·ç‚¹å’Œç»ˆç‚¹çš„æœ€çŸ­è·¯å¾„é•¿åº¦ï¼Œ<strong>è¿™é‡Œæ— å‘å›¾æ±‚æœ€çŸ­è·¯ï¼Œå¹¿æœæœ€ä¸ºåˆé€‚ï¼Œå¹¿æœåªè¦æœåˆ°äº†ç»ˆç‚¹ï¼Œé‚£ä¹ˆä¸€å®šæ˜¯æœ€çŸ­çš„è·¯å¾„</strong>ã€‚å› ä¸ºå¹¿æœå°±æ˜¯ä»¥èµ·ç‚¹ä¸­å¿ƒå‘å››å‘¨æ‰©æ•£çš„æœç´¢ã€‚</p>
<p>æœ¬é¢˜å¦‚æœç”¨æ·±æœï¼Œä¼šæ¯”è¾ƒéº»çƒ¦ï¼Œè¦åœ¨åˆ°è¾¾ç»ˆç‚¹çš„ä¸åŒè·¯å¾„ä¸­é€‰åˆ™ä¸€æ¡æœ€çŸ­è·¯ã€‚ è€Œå¹¿æœåªè¦è¾¾åˆ°ç»ˆç‚¹ï¼Œä¸€å®šæ˜¯æœ€çŸ­è·¯ã€‚</p>
<p>å¦å¤–éœ€è¦æœ‰ä¸€ä¸ªæ³¨æ„ç‚¹ï¼š</p>
<ul>
<li>æœ¬é¢˜æ˜¯ä¸€ä¸ªæ— å‘å›¾ï¼Œéœ€è¦ç”¨æ ‡è®°ä½ï¼Œæ ‡è®°ç€èŠ‚ç‚¹æ˜¯å¦èµ°è¿‡ï¼Œå¦åˆ™å°±ä¼šæ­»å¾ªç¯ï¼</li>
<li>æœ¬é¢˜ç»™å‡ºé›†åˆæ˜¯æ•°ç»„å‹çš„ï¼Œå¯ä»¥è½¬æˆsetç»“æ„ï¼ŒæŸ¥æ‰¾æ›´å¿«ä¸€äº›</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">ladderLength</span><span class="params">(String beginWord, String endWord, List&lt;String&gt; wordList)</span> &#123;</span><br><span class="line">        HashSet&lt;String&gt; wordSet = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;(wordList); <span class="comment">// è½¬æ¢ä¸ºhashset åŠ å¿«é€Ÿåº¦</span></span><br><span class="line">        <span class="keyword">if</span> (wordSet.size() == <span class="number">0</span> || !wordSet.contains(endWord)) &#123; <span class="comment">// ç‰¹æ®Šæƒ…å†µåˆ¤æ–­</span></span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        Queue&lt;String&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;(); <span class="comment">// bfs é˜Ÿåˆ—</span></span><br><span class="line">        queue.offer(beginWord);</span><br><span class="line">        Map&lt;String, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;(); <span class="comment">// è®°å½•å•è¯å¯¹åº”è·¯å¾„é•¿åº¦</span></span><br><span class="line">        map.put(beginWord, <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">word</span> <span class="operator">=</span> queue.poll(); <span class="comment">//å–å‡ºé˜Ÿå¤´å•è¯</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">path</span>  <span class="operator">=</span> map.get(word); <span class="comment">//è·å–åˆ°è¯¥å•è¯çš„è·¯å¾„é•¿åº¦</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; word.length(); i++) &#123; <span class="comment">//éå†å•è¯çš„æ¯ä¸ªå­—ç¬¦</span></span><br><span class="line">                <span class="type">char</span>[] chars = word.toCharArray(); <span class="comment">//å°†å•è¯è½¬æ¢ä¸ºchar arrayï¼Œæ–¹ä¾¿æ›¿æ¢</span></span><br><span class="line">                <span class="keyword">for</span> (<span class="type">char</span> <span class="variable">k</span> <span class="operator">=</span> <span class="string">&#x27;a&#x27;</span>; k &lt;= <span class="string">&#x27;z&#x27;</span>; k++) &#123; <span class="comment">//ä»&#x27;a&#x27; åˆ° &#x27;z&#x27; éå†æ›¿æ¢</span></span><br><span class="line">                    chars[i] = k; <span class="comment">//æ›¿æ¢ç¬¬iä¸ªå­—ç¬¦</span></span><br><span class="line">                    <span class="type">String</span> <span class="variable">newWord</span> <span class="operator">=</span> String.valueOf(chars); <span class="comment">//å¾—åˆ°æ–°çš„å­—ç¬¦ä¸²</span></span><br><span class="line">                    <span class="keyword">if</span> (newWord.equals(endWord)) &#123;  <span class="comment">//å¦‚æœæ–°çš„å­—ç¬¦ä¸²å€¼ä¸endWordä¸€è‡´ï¼Œè¿”å›å½“å‰é•¿åº¦+1</span></span><br><span class="line">                        <span class="keyword">return</span> path + <span class="number">1</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span> (wordSet.contains(newWord) &amp;&amp; !map.containsKey(newWord)) &#123; <span class="comment">//å¦‚æœæ–°å•è¯åœ¨setä¸­ï¼Œä½†æ˜¯æ²¡æœ‰è®¿é—®è¿‡</span></span><br><span class="line">                        map.put(newWord, path + <span class="number">1</span>); <span class="comment">//è®°å½•å•è¯å¯¹åº”çš„è·¯å¾„é•¿åº¦</span></span><br><span class="line">                        queue.offer(newWord);<span class="comment">//åŠ å…¥é˜Ÿå°¾</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>; <span class="comment">// æœªæ‰¾åˆ°</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å®Œæ•´çš„å¹¿åº¦ä¼˜å…ˆéå†ä»£ç </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">ladderLength</span><span class="params">(String beginWord, String endWord, List&lt;String&gt; wordList)</span> &#123;</span><br><span class="line">        <span class="comment">// ç¬¬ 1 æ­¥ï¼šå…ˆå°† wordList æ”¾åˆ°å“ˆå¸Œè¡¨é‡Œï¼Œä¾¿äºåˆ¤æ–­æŸä¸ªå•è¯æ˜¯å¦åœ¨ wordList é‡Œ</span></span><br><span class="line">        Set&lt;String&gt; wordSet = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;(wordList);</span><br><span class="line">        <span class="keyword">if</span> (wordSet.size() == <span class="number">0</span> || !wordSet.contains(endWord)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        wordSet.remove(beginWord);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// ç¬¬ 2 æ­¥ï¼šå›¾çš„å¹¿åº¦ä¼˜å…ˆéå†ï¼Œå¿…é¡»ä½¿ç”¨é˜Ÿåˆ—å’Œè¡¨ç¤ºæ˜¯å¦è®¿é—®è¿‡çš„ visited å“ˆå¸Œè¡¨</span></span><br><span class="line">        Queue&lt;String&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        queue.offer(beginWord);</span><br><span class="line">        Set&lt;String&gt; visited = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">        visited.add(beginWord);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// ç¬¬ 3 æ­¥ï¼šå¼€å§‹å¹¿åº¦ä¼˜å…ˆéå†ï¼ŒåŒ…å«èµ·ç‚¹ï¼Œå› æ­¤åˆå§‹åŒ–çš„æ—¶å€™æ­¥æ•°ä¸º 1</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">step</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">currentSize</span> <span class="operator">=</span> queue.size();</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; currentSize; i++) &#123;</span><br><span class="line">                <span class="comment">// ä¾æ¬¡éå†å½“å‰é˜Ÿåˆ—ä¸­çš„å•è¯</span></span><br><span class="line">                <span class="type">String</span> <span class="variable">currentWord</span> <span class="operator">=</span> queue.poll();</span><br><span class="line">                <span class="comment">// å¦‚æœ currentWord èƒ½å¤Ÿä¿®æ”¹ 1 ä¸ªå­—ç¬¦ä¸ endWord ç›¸åŒï¼Œåˆ™è¿”å› step + 1</span></span><br><span class="line">                <span class="keyword">if</span> (changeWordEveryOneLetter(currentWord, endWord, queue, visited, wordSet)) &#123;</span><br><span class="line">                    <span class="keyword">return</span> step + <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            step++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å°è¯•å¯¹ currentWord ä¿®æ”¹æ¯ä¸€ä¸ªå­—ç¬¦ï¼Œçœ‹çœ‹æ˜¯ä¸æ˜¯èƒ½ä¸ endWord åŒ¹é…</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">changeWordEveryOneLetter</span><span class="params">(String currentWord, String endWord,</span></span><br><span class="line"><span class="params">                                             Queue&lt;String&gt; queue, Set&lt;String&gt; visited, Set&lt;String&gt; wordSet)</span> &#123;</span><br><span class="line">        <span class="type">char</span>[] charArray = currentWord.toCharArray();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; endWord.length(); i++) &#123;</span><br><span class="line">            <span class="comment">// å…ˆä¿å­˜ï¼Œç„¶åæ¢å¤</span></span><br><span class="line">            <span class="type">char</span> <span class="variable">originChar</span> <span class="operator">=</span> charArray[i];</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">char</span> <span class="variable">k</span> <span class="operator">=</span> <span class="string">&#x27;a&#x27;</span>; k &lt;= <span class="string">&#x27;z&#x27;</span>; k++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (k == originChar) &#123;</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                charArray[i] = k;</span><br><span class="line">                <span class="type">String</span> <span class="variable">nextWord</span> <span class="operator">=</span> String.valueOf(charArray);</span><br><span class="line">                <span class="keyword">if</span> (wordSet.contains(nextWord)) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (nextWord.equals(endWord)) &#123;</span><br><span class="line">                        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span> (!visited.contains(nextWord)) &#123;</span><br><span class="line">                        queue.add(nextWord);</span><br><span class="line">                        <span class="comment">// æ³¨æ„ï¼šæ·»åŠ åˆ°é˜Ÿåˆ—ä»¥åï¼Œå¿…é¡»é©¬ä¸Šæ ‡è®°ä¸ºå·²ç»è®¿é—®</span></span><br><span class="line">                        visited.add(nextWord);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// æ¢å¤</span></span><br><span class="line">            charArray[i] = originChar;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong></p>
<ul>
<li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(NÃ—C^2)ã€‚å…¶ä¸­ N ä¸º wordList çš„é•¿åº¦ï¼ŒC ä¸ºåˆ—è¡¨ä¸­å•è¯çš„é•¿åº¦ã€‚</p>
<ul>
<li>å»ºå›¾è¿‡ç¨‹ä¸­ï¼Œå¯¹äºæ¯ä¸€ä¸ªå•è¯ï¼Œæˆ‘ä»¬éœ€è¦æšä¸¾å®ƒè¿æ¥åˆ°çš„æ‰€æœ‰è™šæ‹ŸèŠ‚ç‚¹ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(C)ï¼Œå°†è¿™äº›å•è¯åŠ å…¥åˆ°å“ˆå¸Œè¡¨ä¸­ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(NÃ—C)ï¼Œå› æ­¤æ€»æ—¶é—´å¤æ‚åº¦ä¸º O(NÃ—C)ã€‚</li>
<li>å¹¿åº¦ä¼˜å…ˆæœç´¢çš„æ—¶é—´å¤æ‚åº¦æœ€åæƒ…å†µä¸‹æ˜¯ O(NÃ—C)ã€‚æ¯ä¸€ä¸ªå•è¯éœ€è¦æ‹“å±•å‡º O(C) ä¸ªè™šæ‹ŸèŠ‚ç‚¹ï¼Œå› æ­¤èŠ‚ç‚¹æ•° O(NÃ—C)ã€‚</li>
</ul>
</li>
<li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(NÃ—C^2)ã€‚å…¶ä¸­ N ä¸º wordList çš„é•¿åº¦ï¼ŒC ä¸ºåˆ—è¡¨ä¸­å•è¯çš„é•¿åº¦ã€‚å“ˆå¸Œè¡¨ä¸­åŒ…å« O(NÃ—C) ä¸ªèŠ‚ç‚¹ï¼Œæ¯ä¸ªèŠ‚ç‚¹å ç”¨ç©ºé—´ O(C)ï¼Œå› æ­¤æ€»çš„ç©ºé—´å¤æ‚åº¦ä¸º O(NÃ—C^2)ã€‚</p>
</li>
</ul>
<p>è§£æ³•äºŒï¼šåŒå‘å¹¿åº¦ä¼˜å…ˆéå†</p>
<ul>
<li>å·²çŸ¥ç›®æ ‡é¡¶ç‚¹çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥åˆ†åˆ«ä»èµ·ç‚¹å’Œç›®æ ‡é¡¶ç‚¹ï¼ˆç»ˆç‚¹ï¼‰æ‰§è¡Œå¹¿åº¦ä¼˜å…ˆéå†ï¼Œç›´åˆ°éå†çš„éƒ¨åˆ†æœ‰äº¤é›†ã€‚è¿™ç§æ–¹å¼æœç´¢çš„å•è¯æ•°é‡ä¼šæ›´å°ä¸€äº›ï¼›</li>
<li>æ›´åˆç†çš„åšæ³•æ˜¯ï¼Œæ¯æ¬¡ä»å•è¯æ•°é‡å°çš„é›†åˆå¼€å§‹æ‰©æ•£ï¼›</li>
<li>è¿™é‡Œ beginVisited å’Œ endVisited äº¤æ›¿ä½¿ç”¨ï¼Œç­‰ä»·äºå•å‘ BFS é‡Œä½¿ç”¨é˜Ÿåˆ—ï¼Œæ¯æ¬¡æ‰©æ•£éƒ½è¦åŠ åˆ°æ€»çš„ visited é‡Œã€‚</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/38dc5897de2b554ea606a92c5eada14b0e0030195334e9fd65943ed6d0f77c1d-image.png" alt="image.png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">ladderLength</span><span class="params">(String beginWord, String endWord, List&lt;String&gt; wordList)</span> &#123;</span><br><span class="line">        <span class="comment">// ç¬¬ 1 æ­¥ï¼šå…ˆå°† wordList æ”¾åˆ°å“ˆå¸Œè¡¨é‡Œï¼Œä¾¿äºåˆ¤æ–­æŸä¸ªå•è¯æ˜¯å¦åœ¨ wordList é‡Œ</span></span><br><span class="line">        Set&lt;String&gt; wordSet = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;(wordList);</span><br><span class="line">        <span class="keyword">if</span> (wordSet.size() == <span class="number">0</span> || !wordSet.contains(endWord)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ç¬¬ 2 æ­¥ï¼šå·²ç»è®¿é—®è¿‡çš„ word æ·»åŠ åˆ° visited å“ˆå¸Œè¡¨é‡Œ</span></span><br><span class="line">        Set&lt;String&gt; visited = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">// åˆ†åˆ«ç”¨å·¦è¾¹å’Œå³è¾¹æ‰©æ•£çš„å“ˆå¸Œè¡¨ä»£æ›¿å•å‘ BFS é‡Œçš„é˜Ÿåˆ—ï¼Œå®ƒä»¬åœ¨åŒå‘ BFS çš„è¿‡ç¨‹ä¸­äº¤æ›¿ä½¿ç”¨</span></span><br><span class="line">        Set&lt;String&gt; beginVisited = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">        beginVisited.add(beginWord);</span><br><span class="line">        Set&lt;String&gt; endVisited = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">        endVisited.add(endWord);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ç¬¬ 3 æ­¥ï¼šæ‰§è¡ŒåŒå‘ BFSï¼Œå·¦å³äº¤æ›¿æ‰©æ•£çš„æ­¥æ•°ä¹‹å’Œä¸ºæ‰€æ±‚</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">step</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (!beginVisited.isEmpty() &amp;&amp; !endVisited.isEmpty()) &#123;</span><br><span class="line">            <span class="comment">// ä¼˜å…ˆé€‰æ‹©å°çš„å“ˆå¸Œè¡¨è¿›è¡Œæ‰©æ•£ï¼Œè€ƒè™‘åˆ°çš„æƒ…å†µæ›´å°‘</span></span><br><span class="line">            <span class="keyword">if</span> (beginVisited.size() &gt; endVisited.size()) &#123;</span><br><span class="line">                Set&lt;String&gt; temp = beginVisited;</span><br><span class="line">                beginVisited = endVisited;</span><br><span class="line">                endVisited = temp;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// é€»è¾‘åˆ°è¿™é‡Œï¼Œä¿è¯ beginVisited æ˜¯ç›¸å¯¹è¾ƒå°çš„é›†åˆï¼ŒnextLevelVisited åœ¨æ‰©æ•£å®Œæˆä»¥åï¼Œä¼šæˆä¸ºæ–°çš„ beginVisited</span></span><br><span class="line">            Set&lt;String&gt; nextLevelVisited = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">            <span class="keyword">for</span> (String word : beginVisited) &#123;</span><br><span class="line">                <span class="keyword">if</span> (changeWordEveryOneLetter(word, endVisited, visited, wordSet, nextLevelVisited)) &#123;</span><br><span class="line">                    <span class="keyword">return</span> step + <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// åŸæ¥çš„ beginVisited åºŸå¼ƒï¼Œä» nextLevelVisited å¼€å§‹æ–°çš„åŒå‘ BFS</span></span><br><span class="line">            beginVisited = nextLevelVisited;</span><br><span class="line">            step++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å°è¯•å¯¹ word ä¿®æ”¹æ¯ä¸€ä¸ªå­—ç¬¦ï¼Œçœ‹çœ‹æ˜¯ä¸æ˜¯èƒ½è½åœ¨ endVisited ä¸­ï¼Œæ‰©å±•å¾—åˆ°çš„æ–°çš„ word æ·»åŠ åˆ° nextLevelVisited é‡Œ</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">changeWordEveryOneLetter</span><span class="params">(String word, Set&lt;String&gt; endVisited,</span></span><br><span class="line"><span class="params">                                             Set&lt;String&gt; visited,</span></span><br><span class="line"><span class="params">                                             Set&lt;String&gt; wordSet,</span></span><br><span class="line"><span class="params">                                             Set&lt;String&gt; nextLevelVisited)</span> &#123;</span><br><span class="line">        <span class="type">char</span>[] charArray = word.toCharArray();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; word.length(); i++) &#123;</span><br><span class="line">            <span class="type">char</span> <span class="variable">originChar</span> <span class="operator">=</span> charArray[i];</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">char</span> <span class="variable">c</span> <span class="operator">=</span> <span class="string">&#x27;a&#x27;</span>; c &lt;= <span class="string">&#x27;z&#x27;</span>; c++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (originChar == c) &#123;</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                charArray[i] = c;</span><br><span class="line">                <span class="type">String</span> <span class="variable">nextWord</span> <span class="operator">=</span> String.valueOf(charArray);</span><br><span class="line">                <span class="keyword">if</span> (wordSet.contains(nextWord)) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (endVisited.contains(nextWord)) &#123;</span><br><span class="line">                        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span> (!visited.contains(nextWord)) &#123;</span><br><span class="line">                        nextLevelVisited.add(nextWord);</span><br><span class="line">                        visited.add(nextWord);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// æ¢å¤ï¼Œä¸‹æ¬¡å†ç”¨</span></span><br><span class="line">            charArray[i] = originChar;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong></p>
<ul>
<li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(NÃ—C^2)ã€‚å…¶ä¸­ N ä¸º wordList çš„é•¿åº¦ï¼ŒC ä¸ºåˆ—è¡¨ä¸­å•è¯çš„é•¿åº¦ã€‚</p>
<ul>
<li>å»ºå›¾è¿‡ç¨‹ä¸­ï¼Œå¯¹äºæ¯ä¸€ä¸ªå•è¯ï¼Œæˆ‘ä»¬éœ€è¦æšä¸¾å®ƒè¿æ¥åˆ°çš„æ‰€æœ‰è™šæ‹ŸèŠ‚ç‚¹ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(C)ï¼Œå°†è¿™äº›å•è¯åŠ å…¥åˆ°å“ˆå¸Œè¡¨ä¸­ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(NÃ—C)ï¼Œå› æ­¤æ€»æ—¶é—´å¤æ‚åº¦ä¸º O(NÃ—C)ã€‚</li>
<li>åŒå‘å¹¿åº¦ä¼˜å…ˆæœç´¢çš„æ—¶é—´å¤æ‚åº¦æœ€åæƒ…å†µä¸‹æ˜¯ O(NÃ—C)ã€‚æ¯ä¸€ä¸ªå•è¯éœ€è¦æ‹“å±•å‡º O(C) ä¸ªè™šæ‹ŸèŠ‚ç‚¹ï¼Œå› æ­¤èŠ‚ç‚¹æ•° O(NÃ—C)ã€‚</li>
</ul>
</li>
<li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(NÃ—C^2)ã€‚å…¶ä¸­ N ä¸º wordList çš„é•¿åº¦ï¼ŒC ä¸ºåˆ—è¡¨ä¸­å•è¯çš„é•¿åº¦ã€‚å“ˆå¸Œè¡¨ä¸­åŒ…å« O(NÃ—C) ä¸ªèŠ‚ç‚¹ï¼Œæ¯ä¸ªèŠ‚ç‚¹å ç”¨ç©ºé—´ O(C)ï¼Œå› æ­¤æ€»çš„ç©ºé—´å¤æ‚åº¦ä¸º O(NÃ—C^2)ã€‚</p>
</li>
</ul>
<h4 id="4ã€LC753-ç ´è§£ä¿é™©ç®±"><a href="#4ã€LC753-ç ´è§£ä¿é™©ç®±" class="headerlink" title="4ã€LC753. ç ´è§£ä¿é™©ç®±"></a>4ã€LC753. ç ´è§£ä¿é™©ç®±</h4><p>æœ‰ä¸€ä¸ªéœ€è¦å¯†ç æ‰èƒ½æ‰“å¼€çš„ä¿é™©ç®±ã€‚å¯†ç æ˜¯ <code>n</code> ä½æ•°, å¯†ç çš„æ¯ä¸€ä½æ˜¯ <code>k</code> ä½åºåˆ— <code>0, 1, ..., k-1</code> ä¸­çš„ä¸€ä¸ª ã€‚</p>
<p>ä½ å¯ä»¥éšæ„è¾“å…¥å¯†ç ï¼Œä¿é™©ç®±ä¼šè‡ªåŠ¨è®°ä½æœ€å <code>n</code> ä½è¾“å…¥ï¼Œå¦‚æœåŒ¹é…ï¼Œåˆ™èƒ½å¤Ÿæ‰“å¼€ä¿é™©ç®±ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œå‡è®¾å¯†ç æ˜¯ <code>&quot;345&quot;</code>ï¼Œä½ å¯ä»¥è¾“å…¥ <code>&quot;012345&quot;</code> æ¥æ‰“å¼€å®ƒï¼Œåªæ˜¯ä½ è¾“å…¥äº† 6 ä¸ªå­—ç¬¦.</p>
<p>è¯·è¿”å›ä¸€ä¸ªèƒ½æ‰“å¼€ä¿é™©ç®±çš„æœ€çŸ­å­—ç¬¦ä¸²ã€‚</p>
<p><strong>ç¤ºä¾‹1:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: n = 1, k = 2</span><br><span class="line">è¾“å‡º: &quot;01&quot;</span><br><span class="line">è¯´æ˜: &quot;10&quot;ä¹Ÿå¯ä»¥æ‰“å¼€ä¿é™©ç®±ã€‚</span><br></pre></td></tr></table></figure>



<p><strong>ç¤ºä¾‹2:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: n = 2, k = 2</span><br><span class="line">è¾“å‡º: &quot;00110&quot;</span><br><span class="line">è¯´æ˜: &quot;01100&quot;, &quot;10011&quot;, &quot;11001&quot; ä¹Ÿèƒ½æ‰“å¼€ä¿é™©ç®±ã€‚</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ol>
<li><code>n</code> çš„èŒƒå›´æ˜¯ <code>[1, 4]</code>ã€‚</li>
<li><code>k</code> çš„èŒƒå›´æ˜¯ <code>[1, 10]</code>ã€‚</li>
<li><code>k^n</code> æœ€å¤§å¯èƒ½ä¸º <code>4096</code>ã€‚</li>
</ol>
<p>Related Topics</p>
<p>æ·±åº¦ä¼˜å…ˆæœç´¢</p>
<p>å›¾</p>
<p>æ¬§æ‹‰å›è·¯</p>
<p>ğŸ‘ 152</p>
<p>ğŸ‘ 0</p>
<p><strong>é¢˜æ„æè¿°</strong><br>æ±‚å‡ºä¸€ä¸ªæœ€çŸ­çš„å­—ç¬¦ä¸²ï¼Œä½¿å…¶åŒ…å«ä» 0 âˆ¼ k ^ nï¼ˆk è¿›åˆ¶ï¼‰ä¸­çš„æ‰€æœ‰æ•°å­—ã€‚</p>
<p><strong>é¢˜æ„è½¬åŒ–</strong></p>
<p>é¦–å…ˆå¯¹é¢˜æ„è¿›è¡Œè½¬åŒ–å’ŒæŠ½è±¡ï¼Œå…·ä½“æ–¹å¼ç±»ä¼¼å®˜æ–¹é¢˜è§£ï¼Œå³å°†æ‰€æœ‰çš„ n-1 ä½æ•°ä½œä¸ºèŠ‚ç‚¹ã€‚æ¯ä¸ªèŠ‚ç‚¹æœ‰ k æ¡è¾¹ï¼ŒèŠ‚ç‚¹ä¸Šæ·»åŠ æ•°å­— 0 âˆ¼ k âˆ’ 1 è§†ä¸ºä¸€æ¡è¾¹ã€‚</p>
<p>ä¸¾ä¾‹è¯´æ˜ï¼Œå¦‚ n&#x3D;3, k&#x3D;2ï¼ˆä¸‰ä½äºŒè¿›åˆ¶æ•°ï¼‰ï¼Œå…¶èŠ‚ç‚¹ï¼ˆäºŒä½äºŒè¿›åˆ¶æ•°ï¼‰ä¸º â€œ00â€ï¼Œâ€œ01â€ï¼Œâ€œ10â€ï¼Œâ€œ11â€ï¼Œæ¯ä¸ªèŠ‚ç‚¹æœ‰ 22 æ¡è¾¹ï¼ŒèŠ‚ç‚¹ä¸Šæ·»åŠ æ•°å­— 0âˆ¼1 å¯è½¬åŒ–åˆ°è‡ªèº«æˆ–å¦ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/ded26d0675ecbf5e6921523abd976f61e7bef51d9636bd6519f9c8e6f2d12efc-image.png" alt="image.png"></p>
<p>å¦‚æœæˆ‘ä»¬ä»ä»»ä¸€èŠ‚ç‚¹å‡ºå‘ï¼Œèƒ½å¤Ÿæ‰¾å‡ºä¸€æ¡è·¯å¾„ï¼Œç»è¿‡å›¾ä¸­çš„æ‰€æœ‰è¾¹ä¸”åªç»è¿‡ä¸€æ¬¡ï¼Œç„¶åæŠŠè¾¹ä¸Šçš„æ•°å­—å†™å…¥å­—ç¬¦ä¸²ï¼ˆè¿˜éœ€åŠ å…¥èµ·å§‹èŠ‚ç‚¹çš„æ•°å­—ï¼‰ï¼Œé‚£ä¹ˆè¿™ä¸ªå­—ç¬¦ä¸²æ˜¾ç„¶ç¬¦åˆè¦æ±‚ï¼Œè€Œä¸”æ‰¾ä¸å‡ºæ¯”å®ƒæ›´çŸ­çš„å­—ç¬¦ä¸²äº†ã€‚</p>
<p><strong>ç›´è§‚è§£æ³•</strong><br>ç›´è§‰ä¸Šï¼Œæœ‰ä¸€ç§æ€è·¯ï¼Œå°±æ˜¯ä»ä»»ä¸€èŠ‚ç‚¹å¼€å§‹ï¼Œä» 0âˆ¼kâˆ’1 éå†ï¼Œåªè¦æœ‰å¯ç”¨çš„è·¯å°±èµ°ï¼Œç›´åˆ°æ— æ³•ç»§ç»­ä¸ºæ­¢ã€‚<br>ä»ä»¥ n&#x3D;3,k&#x3D;2 ä¸ºä¾‹ï¼š</p>
<p>æˆ‘ä»¬èµ°åˆ°äº†èµ·å§‹ç‚¹ â€œ00â€â€œ00â€ï¼Œå‘ç°æ²¡æœ‰è·¯å¯ä»¥èµ°äº†ï¼Œä½†æ˜¯ï¼Œä»æœ‰ä¸€äº›è¾¹æ²¡æœ‰éå†åˆ°ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/b46f27d13e4b14712f7ad52eb23b62f0b86152c5ddf9d8982501e0e5a3adba73-image.png" alt="image.png"></p>
<p>è¿™æ—¶è¯¥æ€ä¹ˆåŠï¼Ÿ</p>
<p>ä¸€ç§æ–¹æ³•æ˜¯å®˜æ–¹é¢˜è§£ä¸­ç»™å‡ºçš„ï¼Œæˆ‘ä»¬å¦é€‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä»è¯¥èŠ‚ç‚¹å‡ºå‘ï¼Œå†æ‰¾ä¸€æ¡è·¯å¾„ï¼ˆ01â†’11â†’11â†’10â†’01ï¼‰ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/7043c308bf55760c782020002747cc464f9fd5e3e9ef422b37c0cd749151a28c-image.png" alt="image.png"></p>
<p>ç„¶åæŠŠå®ƒå’Œä¸€å¼€å§‹çš„è·¯å¾„ï¼ˆ00â†’00â†’ [01] â†’10â†’00ï¼‰ç»“åˆèµ·æ¥ï¼ˆ00â†’00â†’ [01â†’11â†’11â†’10â†’01] â†’10â†’00ï¼‰å³å¯ã€‚è¿™æ˜¯å®˜æ–¹çš„ dfs æ€è·¯ã€‚</p>
<p><strong>è´ªå¿ƒæ„é€ ç®—æ³•</strong></p>
<p>ä½†æ˜¯æˆ‘ä»¬è¿˜æœ‰ä¸€ç§æ›´ç®€å•çš„è´ªå¿ƒæ€è·¯ã€‚</p>
<p>æ³¨æ„åˆ°ï¼Œ<strong>å½“æˆ‘ä»¬æ— è·¯å¯èµ°æ—¶ï¼Œä¸€å®šæ˜¯åœ¨èµ·å§‹ç‚¹ï¼Œå¹¶ä¸”èµ·å§‹ç‚¹çš„æ‰€æœ‰è¾¹éƒ½å·²ç»è¿‡</strong>ã€‚ è¿™æ˜¯å› ä¸ºæ‰€æœ‰èŠ‚ç‚¹çš„å…¥åº¦å’Œå‡ºåº¦å‡ä¸º kã€‚å¦‚æœæˆ‘ä»¬ä¸åœ¨èµ·å§‹ç‚¹ï¼Œé‚£ â€œåªè¦æœ‰è¿›å»çš„è·¯ï¼Œå°±ä¸€å®šè¿˜æœ‰è‡³å°‘ä¸€æ¡å‡ºå»çš„è·¯â€ã€‚</p>
<p>å†çœ‹ä¹‹å‰å‡ºç°çš„æ— è·¯å¯èµ°çš„æƒ…å†µï¼ˆä¸‹å›¾ï¼‰ï¼Œæˆ‘ä»¬å‘ç°ï¼Œèµ·å§‹ç‚¹å›çš„å¤ªæ—©äº†ã€‚ä»è´ªå¿ƒçš„è§’åº¦æ¥æƒ³ï¼Œå¦‚æœå¯ä»¥ <strong>å°½å¯èƒ½æ™šè¿”å›èµ·å§‹ç‚¹</strong>ï¼Œå°±èƒ½éå†æ›´å¤šçš„è¾¹ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/b46f27d13e4b14712f7ad52eb23b62f0b86152c5ddf9d8982501e0e5a3adba73-image-16733214205174.png" alt="image.png"></p>
<p>å¦‚æœå®ç°è¿™ä¸ªç®—æ³•å‘¢ï¼Ÿå¾ˆç®€å•ï¼Œç¨å¾®æ”¹åŠ¨ä¹‹å‰çš„ç®—æ³•å³å¯ã€‚æˆ‘ä»¬é€‰æ‹© â€œ00â€â€œ00â€ ä½œä¸ºèµ·å§‹ç‚¹ã€‚ä½†æ˜¯æ¯æ¬¡è¦é€‰æ‹©æ·»åŠ çš„æ•°å­—æ—¶ï¼Œä»å¤§æ•°å­—å¼€å§‹ï¼ˆå³ä» k-1 éå†åˆ° 0ï¼‰ã€‚è¿™æ ·å¯ä»¥å°½å¯èƒ½æ™šåœ°å›åˆ°èµ·å§‹ç‚¹ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">crackSafe</span><span class="params">(<span class="type">int</span> n,<span class="type">int</span> k)</span>&#123;</span><br><span class="line">    Map&lt;String,Integer&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    <span class="type">int</span> <span class="variable">kn</span> <span class="operator">=</span> (<span class="type">int</span>) Math.pow(k,n);<span class="comment">//è·¯å¾„æ•°é‡</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">kn_1</span> <span class="operator">=</span> (<span class="type">int</span>) Math.pow(k,n-<span class="number">1</span>);<span class="comment">//ç»“ç‚¹æ•°é‡</span></span><br><span class="line">    <span class="type">StringBuffer</span> <span class="variable">ans</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuffer</span>();</span><br><span class="line">    <span class="comment">//åˆå§‹ç»“ç‚¹ä¸º000...</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>;i &lt; n;i++)&#123;</span><br><span class="line">        ans.append(<span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(ans.length() == <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i &lt; k; i++)&#123;</span><br><span class="line">            ans.append(i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans.toString();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//éå†æ‰€æœ‰çš„è·¯</span></span><br><span class="line">    <span class="keyword">while</span> (kn != <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">substring</span> <span class="operator">=</span> ans.substring(ans.length() - n + <span class="number">1</span>, ans.length());</span><br><span class="line">        <span class="keyword">if</span>(!map.containsKey(substring))</span><br><span class="line">            map.put(substring,k-<span class="number">1</span>);</span><br><span class="line">        ans.append(map.get(substring));</span><br><span class="line">        map.put(substring,map.get(substring) - <span class="number">1</span>);</span><br><span class="line">        kn--;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans.toString();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong></p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š O(k^n)ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼š O(k^n)ã€‚å¦‚æœä¸è€ƒè™‘è¾“å‡ºå­—ç¬¦ä¸²ï¼Œä¸º O(k^nâˆ’1)ã€‚</li>
</ul>
<h4 id="åŸºç¡€çŸ¥è¯†-5"><a href="#åŸºç¡€çŸ¥è¯†-5" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h4><p>å¹¶æŸ¥é›†å¯ä»¥è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿ</p>
<p>ä¸»è¦å°±æ˜¯<strong>é›†åˆé—®é¢˜</strong>ï¼Œ<strong>ä¸¤ä¸ªèŠ‚ç‚¹åœ¨ä¸åœ¨ä¸€ä¸ªé›†åˆ</strong>ï¼Œä¹Ÿå¯ä»¥<strong>å°†ä¸¤ä¸ªèŠ‚ç‚¹æ·»åŠ åˆ°ä¸€ä¸ªé›†åˆä¸­</strong>ã€‚</p>
<p>å¹¶æŸ¥é›†æ¨¡æ¿ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">DisjointSet</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> n; <span class="comment">// èŠ‚ç‚¹æ•°é‡</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span>[] father; <span class="comment">// è®°å½•</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">DisjointSet</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.n = <span class="number">1005</span>;</span><br><span class="line">        <span class="built_in">this</span>.father = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¹¶æŸ¥é›†åˆå§‹åŒ–</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            father[i] = i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¹¶æŸ¥é›†é‡Œå¯»æ ¹çš„è¿‡ç¨‹</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">find</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (x == father[x]) &#123;</span><br><span class="line">            <span class="keyword">return</span> x;</span><br><span class="line">        &#125;</span><br><span class="line">        father[x] = find(father[x]);</span><br><span class="line">        <span class="keyword">return</span> father[x];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å°†v-&gt;u è¿™æ¡è¾¹åŠ å…¥å¹¶æŸ¥é›† åˆå¹¶é›†åˆ</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">join</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> v)</span> &#123;</span><br><span class="line">        u = find(u);</span><br><span class="line">        v = find(v);</span><br><span class="line">        <span class="keyword">if</span> (u == v) <span class="keyword">return</span>;</span><br><span class="line">        father[v] = u;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ¤æ–­ u å’Œ væ˜¯å¦æ‰¾åˆ°åŒä¸€ä¸ªæ ¹</span></span><br><span class="line">    <span class="keyword">public</span> Boolean <span class="title function_">same</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> v)</span> &#123;</span><br><span class="line">        u = find(u);</span><br><span class="line">        v = find(v);</span><br><span class="line">        <span class="keyword">return</span> u == v;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// åˆå§‹åŒ–å¹¶æŸ¥é›†</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            father[i] = i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸Šæ¨¡æ¿æ±‡æ€»ï¼Œåªè¦ä¿®æ”¹ n å’Œfatheræ•°ç»„çš„å¤§å°å°±å¯ä»¥äº†ã€‚</p>
<p>å¹¶æŸ¥é›†ä¸»è¦æœ‰ä¸‰ä¸ªåŠŸèƒ½ã€‚</p>
<ol>
<li>å¯»æ‰¾æ ¹èŠ‚ç‚¹ï¼Œå‡½æ•°ï¼šfind(int u)ï¼Œä¹Ÿå°±æ˜¯åˆ¤æ–­è¿™ä¸ªèŠ‚ç‚¹çš„ç¥–å…ˆèŠ‚ç‚¹æ˜¯å“ªä¸ª</li>
<li>å°†ä¸¤ä¸ªèŠ‚ç‚¹æ¥å…¥åˆ°åŒä¸€ä¸ªé›†åˆï¼Œå‡½æ•°ï¼šjoin(int u, int v)ï¼Œå°†ä¸¤ä¸ªèŠ‚ç‚¹è¿åœ¨åŒä¸€ä¸ªæ ¹èŠ‚ç‚¹ä¸Š</li>
<li>åˆ¤æ–­ä¸¤ä¸ªèŠ‚ç‚¹æ˜¯å¦åœ¨åŒä¸€ä¸ªé›†åˆï¼Œå‡½æ•°ï¼šsame(int u, int v)ï¼Œå°±æ˜¯åˆ¤æ–­ä¸¤ä¸ªèŠ‚ç‚¹æ˜¯ä¸æ˜¯åŒä¸€ä¸ªæ ¹èŠ‚ç‚¹</li>
</ol>
<h4 id="1ã€LC684-å†—ä½™è¿æ¥"><a href="#1ã€LC684-å†—ä½™è¿æ¥" class="headerlink" title="1ã€LC684. å†—ä½™è¿æ¥"></a>1ã€LC684. å†—ä½™è¿æ¥</h4><p>æ ‘å¯ä»¥çœ‹æˆæ˜¯ä¸€ä¸ªè¿é€šä¸” <strong>æ— ç¯</strong> çš„ <strong>æ— å‘</strong> å›¾ã€‚</p>
<p>ç»™å®šå¾€ä¸€æ£µ <code>n</code> ä¸ªèŠ‚ç‚¹ (èŠ‚ç‚¹å€¼ <code>1ï½n</code>) çš„æ ‘ä¸­æ·»åŠ ä¸€æ¡è¾¹åçš„å›¾ã€‚æ·»åŠ çš„è¾¹çš„ä¸¤ä¸ªé¡¶ç‚¹åŒ…å«åœ¨ <code>1</code> åˆ° <code>n</code> ä¸­é—´ï¼Œä¸”è¿™æ¡é™„åŠ çš„è¾¹ä¸å±äºæ ‘ä¸­å·²å­˜åœ¨çš„è¾¹ã€‚å›¾çš„ä¿¡æ¯è®°å½•äºé•¿åº¦ä¸º <code>n</code> çš„äºŒç»´æ•°ç»„ <code>edges</code> ï¼Œ<code>edges[i] = [ai, bi]</code> è¡¨ç¤ºå›¾ä¸­åœ¨ <code>ai</code> å’Œ <code>bi</code> ä¹‹é—´å­˜åœ¨ä¸€æ¡è¾¹ã€‚</p>
<p>è¯·æ‰¾å‡ºä¸€æ¡å¯ä»¥åˆ å»çš„è¾¹ï¼Œåˆ é™¤åå¯ä½¿å¾—å‰©ä½™éƒ¨åˆ†æ˜¯ä¸€ä¸ªæœ‰ç€ <code>n</code> ä¸ªèŠ‚ç‚¹çš„æ ‘ã€‚å¦‚æœæœ‰å¤šä¸ªç­”æ¡ˆï¼Œåˆ™è¿”å›æ•°ç»„ <code>edges</code> ä¸­æœ€åå‡ºç°çš„è¾¹ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1626676174-hOEVUL-image.png" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: edges = [[1,2], [1,3], [2,3]]</span><br><span class="line">è¾“å‡º: [2,3]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1626676179-kGxcmu-image.png" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: edges = [[1,2], [2,3], [3,4], [1,4], [1,5]]</span><br><span class="line">è¾“å‡º: [1,4]</span><br></pre></td></tr></table></figure>



<p><strong>æç¤º:</strong></p>
<ul>
<li><code>n == edges.length</code></li>
<li><code>3 &lt;= n &lt;= 1000</code></li>
<li><code>edges[i].length == 2</code></li>
<li><code>1 &lt;= ai &lt; bi &lt;= edges.length</code></li>
<li><code>ai != bi</code></li>
<li><code>edges</code> ä¸­æ— é‡å¤å…ƒç´ </li>
<li>ç»™å®šçš„å›¾æ˜¯è¿é€šçš„</li>
</ul>
<p>Related Topics</p>
<p>æ·±åº¦ä¼˜å…ˆæœç´¢</p>
<p>å¹¿åº¦ä¼˜å…ˆæœç´¢</p>
<p>å¹¶æŸ¥é›†</p>
<p>å›¾</p>
<p>ğŸ‘ 526</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>è¿™é“é¢˜ç›®ä¹Ÿæ˜¯å¹¶æŸ¥é›†åŸºç¡€é¢˜ç›®ã€‚</p>
<p>é¢˜ç›®è¯´æ˜¯æ— å‘å›¾ï¼Œè¿”å›ä¸€æ¡å¯ä»¥åˆ å»çš„è¾¹ï¼Œä½¿å¾—ç»“æœå›¾æ˜¯ä¸€ä¸ªæœ‰ç€Nä¸ªèŠ‚ç‚¹çš„æ ‘ã€‚</p>
<p>å¦‚æœæœ‰å¤šä¸ªç­”æ¡ˆï¼Œåˆ™è¿”å›äºŒç»´æ•°ç»„ä¸­æœ€åå‡ºç°çš„è¾¹ã€‚</p>
<p>é‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥ä»å‰å‘åéå†æ¯ä¸€æ¡è¾¹ï¼Œè¾¹çš„ä¸¤ä¸ªèŠ‚ç‚¹å¦‚æœä¸åœ¨åŒä¸€ä¸ªé›†åˆï¼Œå°±åŠ å…¥é›†åˆï¼ˆå³ï¼šåŒä¸€ä¸ªæ ¹èŠ‚ç‚¹ï¼‰ã€‚</p>
<p>å¦‚æœè¾¹çš„ä¸¤ä¸ªèŠ‚ç‚¹å·²ç»å‡ºç°åœ¨åŒä¸€ä¸ªé›†åˆé‡Œï¼Œè¯´æ˜ç€è¾¹çš„ä¸¤ä¸ªèŠ‚ç‚¹å·²ç»è¿åœ¨ä¸€èµ·äº†ï¼Œå¦‚æœå†åŠ å…¥è¿™æ¡è¾¹ä¸€å®šå°±å‡ºç°ç¯äº†ã€‚</p>
<p>è¿™ä¸ªæ€è·¯æ¸…æ™°ä¹‹åï¼Œä»£ç å°±å¾ˆå¥½å†™äº†ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[] findRedundantConnection(<span class="type">int</span>[][] edges) &#123;</span><br><span class="line">        <span class="type">DisjointSet</span> <span class="variable">set</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DisjointSet</span>();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; edges.length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (set.same(edges[i][<span class="number">0</span>], edges[i][<span class="number">1</span>])) &#123;</span><br><span class="line">                <span class="comment">// å¹¶æŸ¥é›†æœ‰è¿™ä¸¤ä¸ªèŠ‚ç‚¹ï¼Œè¯´æ˜è¾¹å†—ä½™äº†</span></span><br><span class="line">                <span class="keyword">return</span> edges[i];</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// å¹¶æŸ¥é›†æ²¡æœ‰ä¸¤ä¸ªèŠ‚ç‚¹ï¼ŒåŠ å…¥å¹¶æŸ¥é›†</span></span><br><span class="line">                set.join(edges[i][<span class="number">0</span>], edges[i][<span class="number">1</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">DisjointSet</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> n; <span class="comment">// èŠ‚ç‚¹æ•°é‡</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span>[] father; <span class="comment">// è®°å½•</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">DisjointSet</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.n = <span class="number">1005</span>;</span><br><span class="line">        <span class="built_in">this</span>.father = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¹¶æŸ¥é›†åˆå§‹åŒ–</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            father[i] = i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¹¶æŸ¥é›†é‡Œå¯»æ ¹çš„è¿‡ç¨‹</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">find</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (x == father[x]) &#123;</span><br><span class="line">            <span class="keyword">return</span> x;</span><br><span class="line">        &#125;</span><br><span class="line">        father[x] = find(father[x]);</span><br><span class="line">        <span class="keyword">return</span> father[x];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å°†v-&gt;u è¿™æ¡è¾¹åŠ å…¥å¹¶æŸ¥é›† åˆå¹¶é›†åˆ</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">join</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> v)</span> &#123;</span><br><span class="line">        u = find(u);</span><br><span class="line">        v = find(v);</span><br><span class="line">        <span class="keyword">if</span> (u == v) <span class="keyword">return</span>;</span><br><span class="line">        father[v] = u;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ¤æ–­ u å’Œ væ˜¯å¦æ‰¾åˆ°åŒä¸€ä¸ªæ ¹</span></span><br><span class="line">    <span class="keyword">public</span> Boolean <span class="title function_">same</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> v)</span> &#123;</span><br><span class="line">        u = find(u);</span><br><span class="line">        v = find(v);</span><br><span class="line">        <span class="keyword">return</span> u == v;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="2ã€LC685-å†—ä½™è¿æ¥II"><a href="#2ã€LC685-å†—ä½™è¿æ¥II" class="headerlink" title="2ã€LC685. å†—ä½™è¿æ¥II"></a>2ã€LC685. å†—ä½™è¿æ¥II</h4><p>æ ‘å¯ä»¥çœ‹æˆæ˜¯ä¸€ä¸ªè¿é€šä¸” <strong>æ— ç¯</strong> çš„ <strong>æ— å‘</strong> å›¾ã€‚</p>
<p>ç»™å®šå¾€ä¸€æ£µ <code>n</code> ä¸ªèŠ‚ç‚¹ (èŠ‚ç‚¹å€¼ <code>1ï½n</code>) çš„æ ‘ä¸­æ·»åŠ ä¸€æ¡è¾¹åçš„å›¾ã€‚æ·»åŠ çš„è¾¹çš„ä¸¤ä¸ªé¡¶ç‚¹åŒ…å«åœ¨ <code>1</code> åˆ° <code>n</code> ä¸­é—´ï¼Œä¸”è¿™æ¡é™„åŠ çš„è¾¹ä¸å±äºæ ‘ä¸­å·²å­˜åœ¨çš„è¾¹ã€‚å›¾çš„ä¿¡æ¯è®°å½•äºé•¿åº¦ä¸º <code>n</code> çš„äºŒç»´æ•°ç»„ <code>edges</code> ï¼Œ<code>edges[i] = [ai, bi]</code> è¡¨ç¤ºå›¾ä¸­åœ¨ <code>ai</code> å’Œ <code>bi</code> ä¹‹é—´å­˜åœ¨ä¸€æ¡è¾¹ã€‚</p>
<p>è¯·æ‰¾å‡ºä¸€æ¡å¯ä»¥åˆ å»çš„è¾¹ï¼Œåˆ é™¤åå¯ä½¿å¾—å‰©ä½™éƒ¨åˆ†æ˜¯ä¸€ä¸ªæœ‰ç€ <code>n</code> ä¸ªèŠ‚ç‚¹çš„æ ‘ã€‚å¦‚æœæœ‰å¤šä¸ªç­”æ¡ˆï¼Œåˆ™è¿”å›æ•°ç»„ <code>edges</code> ä¸­æœ€åå‡ºç°çš„è¾¹ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.leetcode-cn.com/1626676174-hOEVUL-image.png" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: edges = [[1,2], [1,3], [2,3]]</span><br><span class="line">è¾“å‡º: [2,3]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1626676179-kGxcmu-image-16728901571355.png" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: edges = [[1,2], [2,3], [3,4], [1,4], [1,5]]</span><br><span class="line">è¾“å‡º: [1,4]</span><br></pre></td></tr></table></figure>



<p><strong>æç¤º:</strong></p>
<ul>
<li><code>n == edges.length</code></li>
<li><code>3 &lt;= n &lt;= 1000</code></li>
<li><code>edges[i].length == 2</code></li>
<li><code>1 &lt;= ai &lt; bi &lt;= edges.length</code></li>
<li><code>ai != bi</code></li>
<li><code>edges</code> ä¸­æ— é‡å¤å…ƒç´ </li>
<li>ç»™å®šçš„å›¾æ˜¯è¿é€šçš„</li>
</ul>
<p>Related Topics</p>
<p>æ·±åº¦ä¼˜å…ˆæœç´¢</p>
<p>å¹¿åº¦ä¼˜å…ˆæœç´¢</p>
<p>å¹¶æŸ¥é›†</p>
<p>å›¾</p>
<p>ğŸ‘ 526</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong></p>
<p>å…ˆé‡ç‚¹è¯»æ‡‚é¢˜ç›®ä¸­çš„è¿™å¥è¯¥å›¾ç”±ä¸€ä¸ªæœ‰ç€Nä¸ªèŠ‚ç‚¹ (èŠ‚ç‚¹å€¼ä¸é‡å¤1, 2, â€¦, N) çš„æ ‘åŠä¸€æ¡é™„åŠ çš„è¾¹æ„æˆã€‚é™„åŠ çš„è¾¹çš„ä¸¤ä¸ªé¡¶ç‚¹åŒ…å«åœ¨1åˆ°Nä¸­é—´ï¼Œè¿™æ¡é™„åŠ çš„è¾¹ä¸å±äºæ ‘ä¸­å·²å­˜åœ¨çš„è¾¹ã€‚</p>
<p><strong>è¿™è¯´æ˜é¢˜ç›®ä¸­çš„å›¾åŸæœ¬æ˜¯æ˜¯ä¸€æ£µæ ‘ï¼Œåªä¸è¿‡åœ¨ä¸å¢åŠ èŠ‚ç‚¹çš„æƒ…å†µä¸‹å¤šåŠ äº†ä¸€æ¡è¾¹ï¼</strong></p>
<p>è¿˜æœ‰<strong>è‹¥æœ‰å¤šä¸ªç­”æ¡ˆï¼Œè¿”å›æœ€åå‡ºç°åœ¨ç»™å®šäºŒç»´æ•°ç»„çš„ç­”æ¡ˆã€‚</strong>è¿™è¯´æ˜åœ¨ä¸¤æ¡è¾¹éƒ½å¯ä»¥åˆ é™¤çš„æƒ…å†µä¸‹ï¼Œè¦åˆ é¡ºåºé åçš„ï¼</p>
<p>é‚£ä¹ˆæœ‰å¦‚ä¸‹ä¸‰ç§æƒ…å†µï¼Œå‰ä¸¤ç§æƒ…å†µæ˜¯å‡ºç°å…¥åº¦ä¸º2çš„ç‚¹ï¼Œå¦‚å›¾ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/685.%E5%86%97%E4%BD%99%E8%BF%9E%E6%8E%A5II1.png" alt="img"></p>
<p>ä¸”åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹å…¥åº¦ä¸º2ï¼Œä¸ºä»€ä¹ˆä¸çœ‹å‡ºåº¦å‘¢ï¼Œå‡ºåº¦æ²¡æœ‰æ„ä¹‰ï¼Œä¸€æ£µæ ‘ä¸­éšä¾¿ä¸€ä¸ªçˆ¶èŠ‚ç‚¹å°±æœ‰å¤šä¸ªå‡ºåº¦ã€‚</p>
<p>ç¬¬ä¸‰ç§æƒ…å†µæ˜¯æ²¡æœ‰å…¥åº¦ä¸º2çš„ç‚¹ï¼Œé‚£ä¹ˆå›¾ä¸­ä¸€å®šå‡ºç°äº†æœ‰å‘ç¯ï¼ˆ<strong>æ³¨æ„è¿™é‡Œå¼ºè°ƒæ˜¯æœ‰å‘ç¯ï¼</strong>ï¼‰</p>
<p>å¦‚å›¾ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/685.%E5%86%97%E4%BD%99%E8%BF%9E%E6%8E%A5II2.png" alt="img"></p>
<p>é¦–å…ˆå…ˆè®¡ç®—èŠ‚ç‚¹çš„å…¥åº¦ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span>[] inDegree = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">1005</span>];</span><br><span class="line"><span class="comment">// è®¡ç®—å…¥åº¦</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; edges.length; i++) &#123;</span><br><span class="line">    inDegree[edges[i][<span class="number">1</span>]]++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å‰ä¸¤ç§å…¥åº¦ä¸º2çš„æƒ…å†µï¼Œä¸€å®šæ˜¯åˆ é™¤æŒ‡å‘å…¥åº¦ä¸º2çš„èŠ‚ç‚¹çš„ä¸¤æ¡è¾¹å…¶ä¸­çš„ä¸€æ¡ï¼Œå¦‚æœåˆ äº†ä¸€æ¡ï¼Œåˆ¤æ–­è¿™ä¸ªå›¾æ˜¯ä¸€ä¸ªæ ‘ï¼Œé‚£ä¹ˆè¿™æ¡è¾¹å°±æ˜¯ç­”æ¡ˆï¼ŒåŒæ—¶æ³¨æ„è¦ä»åå‘å‰éå†ï¼Œå› ä¸ºå¦‚æœä¸¤å¤©è¾¹åˆ å“ªä¸€æ¡éƒ½å¯ä»¥æˆä¸ºæ ‘ï¼Œå°±åˆ æœ€åé‚£ä¸€æ¡ã€‚</p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ‰¾å…¥åº¦ä¸º2çš„èŠ‚ç‚¹æ‰€å¯¹åº”çš„è¾¹ï¼Œå€’åºæ¥å–ï¼Œå› ä¸ºä¼˜å…ˆåˆ é™¤æœ€åçš„è¾¹</span></span><br><span class="line">List&lt;Integer&gt; twoDegree = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> edges.length - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">    <span class="keyword">if</span> (inDegree[edges[i][<span class="number">1</span>]] == <span class="number">2</span>) &#123;</span><br><span class="line">        twoDegree.add(i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¤„ç†å›¾ä¸­æƒ…å†µ1 å’Œ æƒ…å†µ2</span></span><br><span class="line"><span class="comment">// å¦‚æœæœ‰å…¥åº¦ä¸º2çš„èŠ‚ç‚¹ï¼Œé‚£ä¹ˆä¸€å®šæ˜¯ä¸¤æ¡è¾¹é‡Œåˆ ä¸€ä¸ªï¼Œçœ‹åˆ å“ªä¸ªå¯ä»¥æ„æˆæ ‘</span></span><br><span class="line"><span class="keyword">if</span> (!twoDegree.isEmpty()) &#123;</span><br><span class="line">    <span class="keyword">if</span> (isTreeAfterRemoveEdge(edges, twoDegree.get(<span class="number">0</span>))) &#123;</span><br><span class="line">        <span class="keyword">return</span> edges[twoDegree.get(<span class="number">0</span>)];</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> edges[twoDegree.get(<span class="number">1</span>)];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨æ¥çœ‹æƒ…å†µä¸‰ï¼Œæ˜ç¡®æ²¡æœ‰å…¥åº¦ä¸º2çš„æƒ…å†µï¼Œé‚£ä¹ˆä¸€å®šæœ‰æœ‰å‘ç¯ï¼Œæ‰¾åˆ°æ„æˆç¯çš„è¾¹å°±æ˜¯è¦åˆ é™¤çš„è¾¹ã€‚</p>
<p>å¯ä»¥å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åœ¨æœ‰å‘å›¾é‡Œæ‰¾åˆ°åˆ é™¤çš„é‚£æ¡è¾¹ï¼Œä½¿å…¶å˜æˆæ ‘</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> edges</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> è¦åˆ é™¤çš„è¾¹</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"><span class="keyword">private</span> <span class="type">int</span>[] getRemoveEdge(<span class="type">int</span>[][] edges) &#123;</span><br><span class="line">    set.init();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; edges.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (set.same(edges[i][<span class="number">0</span>], edges[i][<span class="number">1</span>])) &#123;</span><br><span class="line">            <span class="comment">// æ„æˆæœ‰å‘ç¯äº†ï¼Œå°±æ˜¯è¦åˆ é™¤çš„è¾¹</span></span><br><span class="line">            <span class="keyword">return</span> edges[i];</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            set.join(edges[i][<span class="number">0</span>], edges[i][<span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶ å¤§å®¶åº”è¯¥çŸ¥é“äº†ï¼Œæˆ‘ä»¬è¦å®ç°ä¸¤ä¸ªæœ€ä¸ºå…³é”®çš„å‡½æ•°ï¼š</p>
<ul>
<li><code>isTreeAfterRemoveEdge()</code> åˆ¤æ–­åˆ ä¸€ä¸ªè¾¹ä¹‹åæ˜¯ä¸æ˜¯æ ‘äº†</li>
<li><code>getRemoveEdge</code> ç¡®å®šå›¾ä¸­ä¸€å®šæœ‰äº†æœ‰å‘ç¯ï¼Œé‚£ä¹ˆè¦æ‰¾åˆ°éœ€è¦åˆ é™¤çš„é‚£æ¡è¾¹</li>
</ul>
<p>æ­¤æ—¶åº”è¯¥æ˜¯ç”¨åˆ°<strong>å¹¶æŸ¥é›†</strong>äº†ï¼Œå¹¶æŸ¥é›†ä¸ºä»€ä¹ˆå¯ä»¥åˆ¤æ–­ ä¸€ä¸ªå›¾æ˜¯ä¸æ˜¯æ ‘å‘¢ï¼Ÿ</p>
<p><strong>å› ä¸ºå¦‚æœä¸¤ä¸ªç‚¹æ‰€åœ¨çš„è¾¹åœ¨æ·»åŠ å›¾ä¹‹å‰å¦‚æœå°±å¯ä»¥åœ¨å¹¶æŸ¥é›†é‡Œæ‰¾åˆ°äº†ç›¸åŒçš„æ ¹ï¼Œé‚£ä¹ˆè¿™æ¡è¾¹æ·»åŠ ä¸Šä¹‹å è¿™ä¸ªå›¾ä¸€å®šä¸æ˜¯æ ‘äº†</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * åˆ ä¸€æ¡è¾¹ä¹‹ååˆ¤æ–­æ˜¯ä¸æ˜¯æ ‘</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> edges</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> deleteEdge è¦åˆ é™¤çš„è¾¹</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span>  true: æ˜¯æ ‘ï¼Œ falseï¼š ä¸æ˜¯æ ‘</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">private</span> Boolean <span class="title function_">isTreeAfterRemoveEdge</span><span class="params">(<span class="type">int</span>[][] edges, <span class="type">int</span> deleteEdge)</span> &#123;</span><br><span class="line">    set.init();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; edges.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (i == deleteEdge) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">if</span> (set.same(edges[i][<span class="number">0</span>], edges[i][<span class="number">1</span>])) &#123; <span class="comment">// æ„æˆæœ‰å‘ç¯äº†ï¼Œä¸€å®šä¸æ˜¯æ ‘</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        set.join(edges[i][<span class="number">0</span>], edges[i][<span class="number">1</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å®Œæ•´ä»£ç </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">DisjointSet</span> <span class="variable">set</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DisjointSet</span>(); <span class="comment">// å¹¶æŸ¥é›†</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[] findRedundantDirectedConnection(<span class="type">int</span>[][] edges) &#123;</span><br><span class="line">        <span class="type">int</span>[] inDegree = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">1005</span>];</span><br><span class="line">        <span class="comment">// è®¡ç®—å…¥åº¦</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; edges.length; i++) &#123;</span><br><span class="line">            inDegree[edges[i][<span class="number">1</span>]]++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// æ‰¾å…¥åº¦ä¸º2çš„èŠ‚ç‚¹æ‰€å¯¹åº”çš„è¾¹ï¼Œå€’åºæ¥å–ï¼Œå› ä¸ºä¼˜å…ˆåˆ é™¤æœ€åçš„è¾¹</span></span><br><span class="line">        List&lt;Integer&gt; twoDegree = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> edges.length - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            <span class="keyword">if</span> (inDegree[edges[i][<span class="number">1</span>]] == <span class="number">2</span>) &#123;</span><br><span class="line">                twoDegree.add(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¤„ç†å›¾ä¸­æƒ…å†µ1 å’Œ æƒ…å†µ2</span></span><br><span class="line">        <span class="comment">// å¦‚æœæœ‰å…¥åº¦ä¸º2çš„èŠ‚ç‚¹ï¼Œé‚£ä¹ˆä¸€å®šæ˜¯ä¸¤æ¡è¾¹é‡Œåˆ ä¸€ä¸ªï¼Œçœ‹åˆ å“ªä¸ªå¯ä»¥æ„æˆæ ‘</span></span><br><span class="line">        <span class="keyword">if</span> (!twoDegree.isEmpty()) &#123;</span><br><span class="line">            <span class="keyword">if</span> (isTreeAfterRemoveEdge(edges, twoDegree.get(<span class="number">0</span>))) &#123;</span><br><span class="line">                <span class="keyword">return</span> edges[twoDegree.get(<span class="number">0</span>)];</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> edges[twoDegree.get(<span class="number">1</span>)];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ˜ç¡®æ²¡æœ‰å…¥åº¦ä¸º2çš„æƒ…å†µï¼Œé‚£ä¹ˆä¸€å®šæœ‰æœ‰å‘ç¯ï¼Œæ‰¾åˆ°æ„æˆç¯çš„è¾¹è¿”å›å°±å¯ä»¥äº†</span></span><br><span class="line">        <span class="keyword">return</span> getRemoveEdge(edges);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åœ¨æœ‰å‘å›¾é‡Œæ‰¾åˆ°åˆ é™¤çš„é‚£æ¡è¾¹ï¼Œä½¿å…¶å˜æˆæ ‘</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> edges</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> è¦åˆ é™¤çš„è¾¹</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span>[] getRemoveEdge(<span class="type">int</span>[][] edges) &#123;</span><br><span class="line">        set.init();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; edges.length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (set.same(edges[i][<span class="number">0</span>], edges[i][<span class="number">1</span>])) &#123;</span><br><span class="line">                <span class="comment">// æ„æˆæœ‰å‘ç¯äº†ï¼Œå°±æ˜¯è¦åˆ é™¤çš„è¾¹</span></span><br><span class="line">                <span class="keyword">return</span> edges[i];</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                set.join(edges[i][<span class="number">0</span>], edges[i][<span class="number">1</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆ ä¸€æ¡è¾¹ä¹‹ååˆ¤æ–­æ˜¯ä¸æ˜¯æ ‘</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> edges</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> deleteEdge è¦åˆ é™¤çš„è¾¹</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span>  true: æ˜¯æ ‘ï¼Œ falseï¼š ä¸æ˜¯æ ‘</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> Boolean <span class="title function_">isTreeAfterRemoveEdge</span><span class="params">(<span class="type">int</span>[][] edges, <span class="type">int</span> deleteEdge)</span> &#123;</span><br><span class="line">        set.init();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; edges.length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i == deleteEdge) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">if</span> (set.same(edges[i][<span class="number">0</span>], edges[i][<span class="number">1</span>])) &#123; <span class="comment">// æ„æˆæœ‰å‘ç¯äº†ï¼Œä¸€å®šä¸æ˜¯æ ‘</span></span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            set.join(edges[i][<span class="number">0</span>], edges[i][<span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">DisjointSet</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> n; <span class="comment">// èŠ‚ç‚¹æ•°é‡</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span>[] father; <span class="comment">// è®°å½•</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">DisjointSet</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.n = <span class="number">1005</span>;</span><br><span class="line">        <span class="built_in">this</span>.father = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¹¶æŸ¥é›†åˆå§‹åŒ–</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            father[i] = i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¹¶æŸ¥é›†é‡Œå¯»æ ¹çš„è¿‡ç¨‹</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">find</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (x == father[x]) &#123;</span><br><span class="line">            <span class="keyword">return</span> x;</span><br><span class="line">        &#125;</span><br><span class="line">        father[x] = find(father[x]);</span><br><span class="line">        <span class="keyword">return</span> father[x];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å°†v-&gt;u è¿™æ¡è¾¹åŠ å…¥å¹¶æŸ¥é›† åˆå¹¶é›†åˆ</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">join</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> v)</span> &#123;</span><br><span class="line">        u = find(u);</span><br><span class="line">        v = find(v);</span><br><span class="line">        <span class="keyword">if</span> (u == v) <span class="keyword">return</span>;</span><br><span class="line">        father[v] = u;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ¤æ–­ u å’Œ væ˜¯å¦æ‰¾åˆ°åŒä¸€ä¸ªæ ¹</span></span><br><span class="line">    <span class="keyword">public</span> Boolean <span class="title function_">same</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> v)</span> &#123;</span><br><span class="line">        u = find(u);</span><br><span class="line">        v = find(v);</span><br><span class="line">        <span class="keyword">return</span> u == v;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆå§‹åŒ–å¹¶æŸ¥é›†</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            father[i] = i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="å †"><a href="#å †" class="headerlink" title="#å †"></a>#å †</h3><h4 id="ä»€ä¹ˆæ˜¯å †"><a href="#ä»€ä¹ˆæ˜¯å †" class="headerlink" title="ä»€ä¹ˆæ˜¯å †"></a>ä»€ä¹ˆæ˜¯å †</h4><p>å †æ˜¯ä¸€ç§æ»¡è¶³ä»¥ä¸‹æ¡ä»¶çš„æ ‘ï¼š</p>
<p>å †ä¸­çš„æ¯ä¸€ä¸ªèŠ‚ç‚¹å€¼éƒ½å¤§äºç­‰äºï¼ˆæˆ–å°äºç­‰äºï¼‰å­æ ‘ä¸­æ‰€æœ‰èŠ‚ç‚¹çš„å€¼ã€‚æˆ–è€…è¯´ï¼Œä»»æ„ä¸€ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½å¤§äºç­‰äºï¼ˆæˆ–å°äºç­‰äºï¼‰æ‰€æœ‰å­èŠ‚ç‚¹çš„å€¼ã€‚</p>
<blockquote>
<p>å¤§å®¶å¯ä»¥æŠŠå †(æœ€å¤§å †)ç†è§£ä¸ºä¸€ä¸ªå…¬å¸,è¿™ä¸ªå…¬å¸å¾ˆå…¬å¹³,è°èƒ½åŠ›å¼ºè°å°±å½“è€å¤§,ä¸å­˜åœ¨å¼±çš„äººå½“è€å¤§,è€å¤§æ‰‹åº•ä¸‹çš„äººä¸€å®šä¸ä¼šæ¯”ä»–å¼ºã€‚è¿™æ ·æœ‰åŠ©äºç†è§£åç»­å †çš„æ“ä½œã€‚</p>
</blockquote>
<p><strong>!!!ç‰¹åˆ«æç¤ºï¼š</strong></p>
<ul>
<li>å¾ˆå¤šåšå®¢è¯´å †æ˜¯å®Œå…¨äºŒå‰æ ‘ï¼Œå…¶å®å¹¶éå¦‚æ­¤ï¼Œ<strong>å †ä¸ä¸€å®šæ˜¯å®Œå…¨äºŒå‰æ ‘</strong>ï¼Œåªæ˜¯ä¸ºäº†æ–¹ä¾¿å­˜å‚¨å’Œç´¢å¼•ï¼Œæˆ‘ä»¬é€šå¸¸ç”¨å®Œå…¨äºŒå‰æ ‘çš„å½¢å¼æ¥è¡¨ç¤ºå †ï¼Œäº‹å®ä¸Šï¼Œå¹¿ä¸ºäººçŸ¥çš„æ–æ³¢é‚£å¥‘å †å’ŒäºŒé¡¹å †å°±ä¸æ˜¯å®Œå…¨äºŒå‰æ ‘,å®ƒä»¬ç”šè‡³éƒ½ä¸æ˜¯äºŒå‰æ ‘ã€‚</li>
<li>ï¼ˆ<strong>äºŒå‰</strong>ï¼‰å †æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå®ƒå¯ä»¥è¢«çœ‹æˆæ˜¯ä¸€ä¸ª <strong>è¿‘ä¼¼çš„å®Œå…¨äºŒå‰æ ‘</strong>ã€‚â€”â€”ã€Šç®—æ³•å¯¼è®ºã€‹ç¬¬ä¸‰ç‰ˆ</li>
</ul>
<p>å¤§å®¶å¯ä»¥å°è¯•åˆ¤æ–­ä¸‹é¢ç»™å‡ºçš„å›¾æ˜¯å¦æ˜¯å †ï¼Ÿ</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/%E5%A0%861.1da7c32c-16731599201101.png" alt="img"></p>
<p>ç¬¬1ä¸ªå’Œç¬¬2ä¸ªæ˜¯å †ã€‚ç¬¬1ä¸ªæ˜¯æœ€å¤§å †ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½æ¯”å­æ ‘ä¸­æ‰€æœ‰èŠ‚ç‚¹å¤§ã€‚ç¬¬2ä¸ªæ˜¯æœ€å°å †ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½æ¯”å­æ ‘ä¸­æ‰€æœ‰èŠ‚ç‚¹å°ã€‚</p>
<p>ç¬¬3ä¸ªä¸æ˜¯ï¼Œç¬¬ä¸‰ä¸ªä¸­ï¼Œæ ¹ç»“ç‚¹1æ¯”2å’Œ15å°ï¼Œè€Œ15å´æ¯”3å¤§ï¼Œ19æ¯”5å¤§ï¼Œä¸æ»¡è¶³å †çš„æ€§è´¨ã€‚</p>
<h4 id="å †çš„ç”¨é€”"><a href="#å †çš„ç”¨é€”" class="headerlink" title="å †çš„ç”¨é€”"></a>å †çš„ç”¨é€”</h4><p>å½“æˆ‘ä»¬åªå…³å¿ƒæ‰€æœ‰æ•°æ®ä¸­çš„æœ€å¤§å€¼æˆ–è€…æœ€å°å€¼ï¼Œå­˜åœ¨å¤šæ¬¡è·å–æœ€å¤§å€¼æˆ–è€…æœ€å°å€¼ï¼Œå¤šæ¬¡æ’å…¥æˆ–åˆ é™¤æ•°æ®æ—¶ï¼Œå°±å¯ä»¥ä½¿ç”¨å †ã€‚</p>
<p>æœ‰å°ä¼™ä¼´å¯èƒ½ä¼šæƒ³åˆ°ç”¨æœ‰åºæ•°ç»„ï¼Œåˆå§‹åŒ–ä¸€ä¸ªæœ‰åºæ•°ç»„æ—¶é—´å¤æ‚åº¦æ˜¯ <code>O(nlog(n))</code>ï¼ŒæŸ¥æ‰¾æœ€å¤§å€¼æˆ–è€…æœ€å°å€¼æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯ <code>O(1)</code>ï¼Œä½†æ˜¯ï¼Œæ¶‰åŠåˆ°æ›´æ–°ï¼ˆæ’å…¥æˆ–åˆ é™¤ï¼‰æ•°æ®æ—¶ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º <code>O(n)</code>ï¼Œå³ä½¿æ˜¯ä½¿ç”¨å¤æ‚åº¦ä¸º <code>O(log(n))</code> çš„äºŒåˆ†æ³•æ‰¾åˆ°è¦æ’å…¥æˆ–è€…åˆ é™¤çš„æ•°æ®ï¼Œåœ¨ç§»åŠ¨æ•°æ®æ—¶ä¹Ÿéœ€è¦ <code>O(n)</code> çš„æ—¶é—´å¤æ‚åº¦ã€‚</p>
<p><strong>ç›¸å¯¹äºæœ‰åºæ•°ç»„è€Œè¨€ï¼Œå †çš„ä¸»è¦ä¼˜åŠ¿åœ¨äºæ›´æ–°æ•°æ®æ•ˆç‡è¾ƒé«˜ã€‚</strong> å †çš„åˆå§‹åŒ–æ—¶é—´å¤æ‚åº¦ä¸º <code>O(nlog(n))</code>ï¼Œå †å¯ä»¥åšåˆ°<code>O(1)</code>æ—¶é—´å¤æ‚åº¦å–å‡ºæœ€å¤§å€¼æˆ–è€…æœ€å°å€¼ï¼Œ<code>O(log(n))</code>æ—¶é—´å¤æ‚åº¦æ’å…¥æˆ–è€…åˆ é™¤æ•°æ®ï¼Œå…·ä½“æ“ä½œåœ¨åç»­ç« èŠ‚è¯¦ç»†ä»‹ç»ã€‚</p>
<h4 id="å †çš„åˆ†ç±»"><a href="#å †çš„åˆ†ç±»" class="headerlink" title="å †çš„åˆ†ç±»"></a>å †çš„åˆ†ç±»</h4><p>å †åˆ†ä¸º <strong>æœ€å¤§å †</strong> å’Œ <strong>æœ€å°å †</strong>ã€‚äºŒè€…çš„åŒºåˆ«åœ¨äºèŠ‚ç‚¹çš„æ’åºæ–¹å¼ã€‚</p>
<ul>
<li><strong>æœ€å¤§å †</strong> ï¼šå †ä¸­çš„æ¯ä¸€ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½å¤§äºç­‰äºå­æ ‘ä¸­æ‰€æœ‰èŠ‚ç‚¹çš„å€¼</li>
<li><strong>æœ€å°å †</strong> ï¼šå †ä¸­çš„æ¯ä¸€ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½å°äºç­‰äºå­æ ‘ä¸­æ‰€æœ‰èŠ‚ç‚¹çš„å€¼</li>
</ul>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå›¾1æ˜¯æœ€å¤§å †ï¼Œå›¾2æ˜¯æœ€å°å †</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/%E5%A0%862.66dd01d8-16731601371433.png" alt="img"></p>
<h4 id="å †çš„å­˜å‚¨"><a href="#å †çš„å­˜å‚¨" class="headerlink" title="å †çš„å­˜å‚¨"></a>å †çš„å­˜å‚¨</h4><p>ä¹‹å‰ä»‹ç»æ ‘çš„æ—¶å€™è¯´è¿‡ï¼Œç”±äºå®Œå…¨äºŒå‰æ ‘çš„ä¼˜ç§€æ€§è´¨ï¼Œåˆ©ç”¨æ•°ç»„å­˜å‚¨äºŒå‰æ ‘å³èŠ‚çœç©ºé—´ï¼Œåˆæ–¹ä¾¿ç´¢å¼•ï¼ˆè‹¥æ ¹ç»“ç‚¹çš„åºå·ä¸º1ï¼Œé‚£ä¹ˆå¯¹äºæ ‘ä¸­ä»»æ„èŠ‚ç‚¹iï¼Œå…¶å·¦å­èŠ‚ç‚¹åºå·ä¸º <code>2 * i</code>ï¼Œå³å­èŠ‚ç‚¹åºå·ä¸º <code>2 * i + 1</code>ï¼‰ã€‚</p>
<p>ä¸ºäº†æ–¹ä¾¿å­˜å‚¨å’Œç´¢å¼•ï¼Œï¼ˆäºŒå‰ï¼‰å †å¯ä»¥ç”¨å®Œå…¨äºŒå‰æ ‘çš„å½¢å¼è¿›è¡Œå­˜å‚¨ã€‚å­˜å‚¨çš„æ–¹å¼å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/%E5%A0%86%E7%9A%84%E5%AD%98%E5%82%A8.03237dbe-16731601984865.png" alt="å †çš„å­˜å‚¨"></p>
<h4 id="å †çš„æ“ä½œ"><a href="#å †çš„æ“ä½œ" class="headerlink" title="å †çš„æ“ä½œ"></a>å †çš„æ“ä½œ</h4><p>å †çš„æ›´æ–°æ“ä½œä¸»è¦åŒ…æ‹¬ä¸¤ç§ : <strong>æ’å…¥å…ƒç´ </strong> å’Œ <strong>åˆ é™¤å †é¡¶å…ƒç´ </strong>ã€‚æ“ä½œè¿‡ç¨‹éœ€è¦ç€é‡æŒæ¡å’Œç†è§£ã€‚</p>
<blockquote>
<p>åœ¨è¿›å…¥æ­£é¢˜ä¹‹å‰ï¼Œå†é‡ç”³ä¸€éï¼Œå †æ˜¯ä¸€ä¸ªå…¬å¹³çš„å…¬å¸ï¼Œæœ‰èƒ½åŠ›çš„äººè‡ªç„¶ä¼šèµ°åˆ°ä¸ä»–èƒ½åŠ›æ‰€åŒ¹é…çš„ä½ç½®</p>
</blockquote>
<h5 id="æ’å…¥å…ƒç´ "><a href="#æ’å…¥å…ƒç´ " class="headerlink" title="æ’å…¥å…ƒç´ "></a>æ’å…¥å…ƒç´ </h5><blockquote>
<p>æ’å…¥å…ƒç´ ï¼Œä½œä¸ºä¸€ä¸ªæ–°å…¥èŒçš„å‘˜å·¥ï¼Œåˆæ¥ä¹åˆ°ï¼Œè¿™ä¸ªå‘˜å·¥éœ€è¦ä»åŸºå±‚åšèµ·</p>
</blockquote>
<p><strong>1.å°†è¦æ’å…¥çš„å…ƒç´ æ”¾åˆ°æœ€å</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/%E5%A0%86-%E6%8F%92%E5%85%A5%E5%85%83%E7%B4%A01.9a9e88c3-16731602547867.png" alt="å †-æ’å…¥å…ƒç´ -1"></p>
<blockquote>
<p>æœ‰èƒ½åŠ›çš„äººä¼šé€æ¸å‡èŒåŠ è–ªï¼Œæ˜¯é‡‘å­æ€»ä¼šå‘å…‰çš„ï¼ï¼ï¼</p>
</blockquote>
<p><strong>2.ä»åº•å‘ä¸Šï¼Œå¦‚æœçˆ¶ç»“ç‚¹æ¯”è¯¥å…ƒç´ å°ï¼Œåˆ™è¯¥èŠ‚ç‚¹å’Œçˆ¶ç»“ç‚¹äº¤æ¢ï¼Œç›´åˆ°æ— æ³•äº¤æ¢</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/%E5%A0%86-%E6%8F%92%E5%85%A5%E5%85%83%E7%B4%A02.7e937b5e-16731602837199.png" alt="å †-æ’å…¥å…ƒç´ 2"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/%E5%A0%86-%E6%8F%92%E5%85%A5%E5%85%83%E7%B4%A03.8e0739cc-167316029805211.png" alt="å †-æ’å…¥å…ƒç´ 3"></p>
<h5 id="åˆ é™¤å †é¡¶å…ƒç´ "><a href="#åˆ é™¤å †é¡¶å…ƒç´ " class="headerlink" title="åˆ é™¤å †é¡¶å…ƒç´ "></a>åˆ é™¤å †é¡¶å…ƒç´ </h5><p>æ ¹æ®å †çš„æ€§è´¨å¯çŸ¥ï¼Œæœ€å¤§å †çš„å †é¡¶å…ƒç´ ä¸ºæ‰€æœ‰å…ƒç´ ä¸­æœ€å¤§çš„ï¼Œæœ€å°å †çš„å †é¡¶å…ƒç´ æ˜¯æ‰€æœ‰å…ƒç´ ä¸­æœ€å°çš„ã€‚å½“æˆ‘ä»¬éœ€è¦å¤šæ¬¡æŸ¥æ‰¾æœ€å¤§å…ƒç´ æˆ–è€…æœ€å°å…ƒç´ çš„æ—¶å€™ï¼Œå¯ä»¥åˆ©ç”¨å †æ¥å®ç°ã€‚</p>
<p>åˆ é™¤å †é¡¶å…ƒç´ åï¼Œä¸ºäº†ä¿æŒå †çš„æ€§è´¨ï¼Œéœ€è¦å¯¹å †çš„ç»“æ„è¿›è¡Œè°ƒæ•´ï¼Œæˆ‘ä»¬å°†è¿™ä¸ªè¿‡ç¨‹ç§°ä¹‹ä¸ºâ€<strong>å †åŒ–</strong>â€œï¼Œå †åŒ–çš„æ–¹æ³•åˆ†ä¸ºä¸¤ç§ï¼š</p>
<ul>
<li>ä¸€ç§æ˜¯è‡ªåº•å‘ä¸Šçš„å †åŒ–ï¼Œä¸Šè¿°çš„æ’å…¥å…ƒç´ æ‰€ä½¿ç”¨çš„å°±æ˜¯è‡ªåº•å‘ä¸Šçš„å †åŒ–ï¼Œå…ƒç´ ä»æœ€åº•éƒ¨å‘ä¸Šç§»åŠ¨ã€‚</li>
<li>å¦ä¸€ç§æ˜¯è‡ªé¡¶å‘ä¸‹å †åŒ–ï¼Œå…ƒç´ ç”±æœ€é¡¶éƒ¨å‘ä¸‹ç§»åŠ¨ã€‚åœ¨è®²è§£åˆ é™¤å †é¡¶å…ƒç´ çš„æ–¹æ³•æ—¶ï¼Œæˆ‘å°†é˜è¿°è¿™ä¸¤ç§æ“ä½œçš„è¿‡ç¨‹ï¼Œå¤§å®¶å¯ä»¥ä½“ä¼šä¸€ä¸‹äºŒè€…çš„ä¸åŒã€‚</li>
</ul>
<h6 id="è‡ªåº•å‘ä¸Šå †åŒ–"><a href="#è‡ªåº•å‘ä¸Šå †åŒ–" class="headerlink" title="è‡ªåº•å‘ä¸Šå †åŒ–"></a>è‡ªåº•å‘ä¸Šå †åŒ–</h6><blockquote>
<p>åœ¨å †è¿™ä¸ªå…¬å¸ä¸­ï¼Œä¼šå‡ºç°è€å¤§ç¦»èŒçš„ç°è±¡ï¼Œè€å¤§ç¦»èŒä¹‹åï¼Œä»–çš„ä½ç½®å°±ç©ºå‡ºæ¥äº†</p>
</blockquote>
<p>é¦–å…ˆåˆ é™¤å †é¡¶å…ƒç´ ï¼Œä½¿å¾—æ•°ç»„ä¸­ä¸‹æ ‡ä¸º1çš„ä½ç½®ç©ºå‡ºã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/%E5%88%A0%E9%99%A4%E5%A0%86%E9%A1%B6%E5%85%83%E7%B4%A01.cd68b7ff-167316048071213.png" alt="åˆ é™¤å †é¡¶å…ƒç´ 1"></p>
<blockquote>
<p>é‚£ä¹ˆä»–çš„ä½ç½®ç”±è°æ¥æ¥æ›¿å‘¢ï¼Œå½“ç„¶æ˜¯ä»–çš„ç›´æ¥ä¸‹å±äº†ï¼Œè°èƒ½åŠ›å¼ºå°±è®©è°ä¸Šå‘—</p>
</blockquote>
<p>æ¯”è¾ƒæ ¹ç»“ç‚¹çš„å·¦å­èŠ‚ç‚¹å’Œå³å­èŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯ä¸‹æ ‡ä¸º2,3çš„æ•°ç»„å…ƒç´ ï¼Œå°†è¾ƒå¤§çš„å…ƒç´ å¡«å……åˆ°æ ¹ç»“ç‚¹(ä¸‹æ ‡ä¸º1)çš„ä½ç½®ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/%E5%88%A0%E9%99%A4%E5%A0%86%E9%A1%B6%E5%85%83%E7%B4%A02.59fc6629-167316050973115.png" alt="åˆ é™¤å †é¡¶å…ƒç´ 2"></p>
<blockquote>
<p>è¿™ä¸ªæ—¶å€™åˆç©ºå‡ºä¸€ä¸ªä½ç½®äº†ï¼Œè€è§„çŸ©ï¼Œè°æœ‰èƒ½åŠ›è°ä¸Š</p>
</blockquote>
<p>ä¸€ç›´å¾ªç¯æ¯”è¾ƒç©ºå‡ºä½ç½®çš„å·¦å³å­èŠ‚ç‚¹ï¼Œå¹¶å°†è¾ƒå¤§è€…ç§»è‡³ç©ºä½ï¼Œç›´åˆ°å †çš„æœ€åº•éƒ¨</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/%E5%88%A0%E9%99%A4%E5%A0%86%E9%A1%B6%E5%85%83%E7%B4%A03.b5c78c7d-167316052567417.png" alt="åˆ é™¤å †é¡¶å…ƒç´ 3"></p>
<p>è¿™ä¸ªæ—¶å€™å·²ç»å®Œæˆäº†è‡ªåº•å‘ä¸Šçš„å †åŒ–ï¼Œæ²¡æœ‰å…ƒç´ å¯ä»¥å¡«è¡¥ç©ºç¼ºäº†ï¼Œä½†æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æ•°ç»„ä¸­å‡ºç°äº†â€œæ°”æ³¡â€ï¼Œè¿™ä¼šå¯¼è‡´å­˜å‚¨ç©ºé—´çš„æµªè´¹ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬è¯•è¯•è‡ªé¡¶å‘ä¸‹å †åŒ–ã€‚</p>
<h6 id="è‡ªé¡¶å‘ä¸‹å †åŒ–"><a href="#è‡ªé¡¶å‘ä¸‹å †åŒ–" class="headerlink" title="è‡ªé¡¶å‘ä¸‹å †åŒ–"></a>è‡ªé¡¶å‘ä¸‹å †åŒ–</h6><p>è‡ªé¡¶å‘ä¸‹çš„å †åŒ–ç”¨ä¸€ä¸ªè¯å½¢å®¹å°±æ˜¯â€œçŸ³æ²‰å¤§æµ·â€ï¼Œé‚£ä¹ˆç¬¬ä¸€ä»¶äº‹æƒ…ï¼Œå°±æ˜¯æŠŠçŸ³å¤´æŠ¬èµ·æ¥ï¼Œä»æµ·é¢æ‰”ä¸‹å»ã€‚è¿™ä¸ªçŸ³å¤´å°±æ˜¯å †çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼Œæˆ‘ä»¬å°†æœ€åä¸€ä¸ªå…ƒç´ ç§»åŠ¨åˆ°å †é¡¶ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/%E5%88%A0%E9%99%A4%E5%A0%86%E9%A1%B6%E5%85%83%E7%B4%A04.90633757-167316057014219.png" alt="åˆ é™¤å †é¡¶å…ƒç´ 4"></p>
<p>ç„¶åå¼€å§‹å°†è¿™ä¸ªçŸ³å¤´æ²‰å…¥æµ·åº•ï¼Œä¸åœä¸å·¦å³å­èŠ‚ç‚¹çš„å€¼è¿›è¡Œæ¯”è¾ƒï¼Œå’Œè¾ƒå¤§çš„å­èŠ‚ç‚¹äº¤æ¢ä½ç½®ï¼Œç›´åˆ°æ— æ³•äº¤æ¢ä½ç½®ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/%E5%88%A0%E9%99%A4%E5%A0%86%E9%A1%B6%E5%85%83%E7%B4%A05.ca1fc0c4-167316058679021.png" alt="åˆ é™¤å †é¡¶å…ƒç´ 5"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/%E5%88%A0%E9%99%A4%E5%A0%86%E9%A1%B6%E5%85%83%E7%B4%A06.9549fe90-167316060000323.png" alt="åˆ é™¤å †é¡¶å…ƒç´ 6"></p>
<h5 id="å †çš„æ“ä½œæ€»ç»“"><a href="#å †çš„æ“ä½œæ€»ç»“" class="headerlink" title="å †çš„æ“ä½œæ€»ç»“"></a>å †çš„æ“ä½œæ€»ç»“</h5><ul>
<li><strong>æ’å…¥å…ƒç´ </strong> ï¼šå…ˆå°†å…ƒç´ æ”¾è‡³æ•°ç»„æœ«å°¾ï¼Œå†è‡ªåº•å‘ä¸Šå †åŒ–ï¼Œå°†æœ«å°¾å…ƒç´ ä¸Šæµ®</li>
<li><strong>åˆ é™¤å †é¡¶å…ƒç´ </strong> ï¼šåˆ é™¤å †é¡¶å…ƒç´ ï¼Œå°†æœ«å°¾å…ƒç´ æ”¾è‡³å †é¡¶ï¼Œå†è‡ªé¡¶å‘ä¸‹å †åŒ–ï¼Œå°†å †é¡¶å…ƒç´ ä¸‹æ²‰ã€‚ä¹Ÿå¯ä»¥è‡ªåº•å‘ä¸Šå †åŒ–ï¼Œåªæ˜¯ä¼šäº§ç”Ÿâ€œæ°”æ³¡â€ï¼Œæµªè´¹å­˜å‚¨ç©ºé—´ã€‚æœ€å¥½é‡‡ç”¨è‡ªé¡¶å‘ä¸‹å †åŒ–çš„æ–¹å¼ã€‚</li>
</ul>
<h4 id="å †æ’åº"><a href="#å †æ’åº" class="headerlink" title="å †æ’åº"></a>å †æ’åº</h4><p>å †æ’åºçš„è¿‡ç¨‹åˆ†ä¸ºä¸¤æ­¥ï¼š</p>
<ul>
<li>ç¬¬ä¸€æ­¥æ˜¯å»ºå †ï¼Œå°†ä¸€ä¸ªæ— åºçš„æ•°ç»„å»ºç«‹ä¸ºä¸€ä¸ªå †</li>
<li>ç¬¬äºŒæ­¥æ˜¯æ’åºï¼Œå°†å †é¡¶å…ƒç´ å–å‡ºï¼Œç„¶åå¯¹å‰©ä¸‹çš„å…ƒç´ è¿›è¡Œå †åŒ–ï¼Œåå¤è¿­ä»£ï¼Œç›´åˆ°æ‰€æœ‰å…ƒç´ è¢«å–å‡ºä¸ºæ­¢ã€‚</li>
</ul>
<h5 id="å»ºå †"><a href="#å»ºå †" class="headerlink" title="å»ºå †"></a>å»ºå †</h5><p>å¦‚æœä½ å·²ç»è¶³å¤Ÿäº†è§£å †åŒ–çš„è¿‡ç¨‹ï¼Œé‚£ä¹ˆå»ºå †çš„è¿‡ç¨‹æŒæ¡èµ·æ¥å°±æ¯”è¾ƒå®¹æ˜“äº†ã€‚å»ºå †çš„è¿‡ç¨‹å°±æ˜¯ä¸€ä¸ªå¯¹æ‰€æœ‰éå¶èŠ‚ç‚¹çš„è‡ªé¡¶å‘ä¸‹å †åŒ–è¿‡ç¨‹ã€‚</p>
<p>é¦–å…ˆè¦äº†è§£å“ªäº›æ˜¯éå¶èŠ‚ç‚¹ï¼Œæœ€åä¸€ä¸ªèŠ‚ç‚¹çš„çˆ¶ç»“ç‚¹åŠå®ƒä¹‹å‰çš„å…ƒç´ ï¼Œéƒ½æ˜¯éå¶èŠ‚ç‚¹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœèŠ‚ç‚¹ä¸ªæ•°ä¸ºnï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦å¯¹n&#x2F;2åˆ°1çš„èŠ‚ç‚¹è¿›è¡Œè‡ªé¡¶å‘ä¸‹ï¼ˆæ²‰åº•ï¼‰å †åŒ–ã€‚</p>
<p>å…·ä½“è¿‡ç¨‹å¦‚ä¸‹å›¾ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/%E5%BB%BA%E5%A0%861.87738933-167316067235525.png" alt="å»ºå †1"></p>
<p>å°†åˆå§‹çš„æ— åºæ•°ç»„æŠ½è±¡ä¸ºä¸€æ£µæ ‘ï¼Œå›¾ä¸­çš„èŠ‚ç‚¹ä¸ªæ•°ä¸º6ï¼Œæ‰€ä»¥4,5,6èŠ‚ç‚¹ä¸ºå¶èŠ‚ç‚¹ï¼Œ1,2,3èŠ‚ç‚¹ä¸ºéå¶èŠ‚ç‚¹ï¼Œæ‰€ä»¥è¦å¯¹1-3å·èŠ‚ç‚¹è¿›è¡Œè‡ªé¡¶å‘ä¸‹ï¼ˆæ²‰åº•ï¼‰å †åŒ–ï¼Œæ³¨æ„ï¼Œé¡ºåºæ˜¯ä»åå¾€å‰å †åŒ–ï¼Œä»3å·èŠ‚ç‚¹å¼€å§‹ï¼Œä¸€ç›´åˆ°1å·èŠ‚ç‚¹ã€‚ 3å·èŠ‚ç‚¹å †åŒ–ç»“æœï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/%E5%BB%BA%E5%A0%862.f6cd7436-167316088409927.png" alt="å»ºå †1"></p>
<p>2å·èŠ‚ç‚¹å †åŒ–ç»“æœï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/%E5%BB%BA%E5%A0%863.476a908d-167316089787829.png" alt="å»ºå †1"></p>
<p>1å·èŠ‚ç‚¹å †åŒ–ç»“æœï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/%E5%BB%BA%E5%A0%864.c306ac75-167316092976631.png" alt="å»ºå †1"></p>
<p>è‡³æ­¤ï¼Œæ•°ç»„æ‰€å¯¹åº”çš„æ ‘å·²ç»æˆä¸ºäº†ä¸€ä¸ªæœ€å¤§å †ï¼Œå»ºå †å®Œæˆï¼</p>
<h5 id="æ’åº"><a href="#æ’åº" class="headerlink" title="æ’åº"></a>æ’åº</h5><p>ç”±äºå †é¡¶å…ƒç´ æ˜¯æ‰€æœ‰å…ƒç´ ä¸­æœ€å¤§çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬é‡å¤å–å‡ºå †é¡¶å…ƒç´ ï¼Œå°†è¿™ä¸ªæœ€å¤§çš„å †é¡¶å…ƒç´ æ”¾è‡³æ•°ç»„æœ«å°¾ï¼Œå¹¶å¯¹å‰©ä¸‹çš„å…ƒç´ è¿›è¡Œå †åŒ–å³å¯ã€‚</p>
<p>ç°åœ¨æ€è€ƒä¸¤ä¸ªé—®é¢˜ï¼š</p>
<ul>
<li>åˆ é™¤å †é¡¶å…ƒç´ åéœ€è¦æ‰§è¡Œè‡ªé¡¶å‘ä¸‹ï¼ˆæ²‰åº•ï¼‰å †åŒ–è¿˜æ˜¯è‡ªåº•å‘ä¸Šï¼ˆä¸Šæµ®ï¼‰å †åŒ–ï¼Ÿ</li>
<li>å–å‡ºçš„å †é¡¶å…ƒç´ å­˜åœ¨å“ªï¼Œæ–°å»ºä¸€ä¸ªæ•°ç»„å­˜ï¼Ÿ</li>
</ul>
<p>å…ˆå›ç­”ç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦æ‰§è¡Œè‡ªé¡¶å‘ä¸‹ï¼ˆæ²‰åº•ï¼‰å †åŒ–ï¼Œè¿™ä¸ªå †åŒ–ä¸€å¼€å§‹è¦å°†æœ«å°¾å…ƒç´ ç§»åŠ¨è‡³å †é¡¶ï¼Œè¿™ä¸ªæ—¶å€™æœ«å°¾çš„ä½ç½®å°±ç©ºå‡ºæ¥äº†ï¼Œç”±äºå †ä¸­å…ƒç´ å·²ç»å‡å°ï¼Œè¿™ä¸ªä½ç½®ä¸ä¼šå†è¢«ä½¿ç”¨ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å°†å–å‡ºçš„å…ƒç´ æ”¾åœ¨æœ«å°¾ã€‚</p>
<p>æœºæ™ºçš„å°ä¼™ä¼´å·²ç»å‘ç°äº†ï¼Œè¿™å…¶å®æ˜¯åšäº†ä¸€æ¬¡äº¤æ¢æ“ä½œï¼Œå°†å †é¡¶å’Œæœ«å°¾å…ƒç´ è°ƒæ¢ä½ç½®ï¼Œä»è€Œå°†å–å‡ºå †é¡¶å…ƒç´ å’Œå †åŒ–çš„ç¬¬ä¸€æ­¥(å°†æœ«å°¾å…ƒç´ æ”¾è‡³æ ¹ç»“ç‚¹ä½ç½®)è¿›è¡Œåˆå¹¶ã€‚</p>
<p>è¯¦ç»†è¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p>å–å‡ºç¬¬ä¸€ä¸ªå…ƒç´ å¹¶å †åŒ–ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/%E5%A0%86%E6%8E%92%E5%BA%8F1.4a22573f-167316096847233.png" alt="å †æ’åº1"></p>
<p>å–å‡ºç¬¬äºŒä¸ªå…ƒç´ å¹¶å †åŒ–ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/%E5%A0%86%E6%8E%92%E5%BA%8F2.26994f33-167316098293635.png" alt="å †æ’åº2"></p>
<p>å–å‡ºç¬¬ä¸‰ä¸ªå…ƒç´ å¹¶å †åŒ–ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/%E5%A0%86%E6%8E%92%E5%BA%8F3.e411601b-167316100922039.png" alt="å †æ’åº3"></p>
<p>å–å‡ºç¬¬å››ä¸ªå…ƒç´ å¹¶å †åŒ–ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/%E5%A0%86%E6%8E%92%E5%BA%8F4.2b2472be-167316101348141.png" alt="å †æ’åº4"></p>
<p>å–å‡ºç¬¬äº”ä¸ªå…ƒç´ å¹¶å †åŒ–ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeEAAAEjCAMAAAAytEmDAAABMlBMVEX////a6Pz/5sxsjr8AAAD/MzMTFBbfqyfY5fkLDAy2wtPZnQPgy9zoqLS0v9DjuUwgIyajrr5/iJM0ODzovVlESU8dHyHM2eyvuspxeILzcXjE0eOptMT94sJ5gYz47M6Zo7L316GLlKHisz+gqrn8Q0TY5vrix9iPmKbe2OqDi5ctMDTc4PO7x9niwdHluMZVWmLI1ee/y93qnalmbHb1ZmxtYlfR3/KTnKpsc31ZX2f7S00YGRz63bXv2Jvtjpjzz47vzYTrzX7vyHrpyHJhaHHtxW9LT1bmuE89QUfgrzMkJyrcpx3aoA7P3O/3Wl/f0OLvhY/9PD3jvMzmsL7Hs59cYmtQVVzwfofydn758Nr36sr+5cn047fz4rTslJ/ltkg7NS+xn46fj3/dx7FaUUh/PS8lAAALSElEQVR42uzdTYrcMBCGYVE0EUELbUR2wgjfITsb/2GMsZfZTPcMM/m5/xWS9cBMq7u9kJT3ucKHLUsuVan/xbmd7Lrtxph9W+3UnhXKUfW10cvchcZf5OKb0M2LNnVfKRTgadCb67y85zu36eFJIW/PdndBPhLcbp8V8vVS61E+N+r6RSFPldW9XNdry4KcpcHMEmc2g0JuqvW1kVjN68pjnJnWjHKL0bQKGZl0kNsEPSlkw9VebuVrp5AJu8g9FquQBevkPo6Is+AWudfCizoDUy33q/ncSl6rvdzPazZNiatMkEcEw9FH2tZRHjOuCgkbXuVRr5xRJ6wyjTyq4T2dMDvL42Z2xcl60XIETUlAqupejtDXCkl61nIMTe1WmuwoxxhZiZP0tMtRdopsUzQ4OYpjT5wiHeQoQSskp9rkOBunHunpnRzH9QqpqTs5TseWOD3GS4Q/p9N3uc4bhcSctUT4fYpLWDT3i1PTLnKV//UlNuGFWo/UTLNc8fPr6Z/IhGcKtlJjO7ni1+mGhDsOLlOzhqvP8Nvb27fYhAPFPKnZGonwIzbhZlNIy+4PTdjvCmkxl0MTvrAhTo2RQxMWEk4Nz3DpWIdLx7d06dYQlTD74WzZLiphzrSyNc1RCXMuna12iUqYf0vZOuuohPk/nC/jJRI1HnmiTqt01FqWjnrp4nHnoXTcWyoddw+Lx/3h0tEDoHj08SgdvXiKRz+t0tETr3j0tSwevWlLR3/p4tEjvnjMeSges1qKx7yl4jEzrXjMPSwes0uLx/zh4jFDvHyDmSXObDiLzlJldS/X9dryAOfqpdajfG7UNT/8c/ZsdxfkI8Htlpqs3D0NenOdl/d85zY9UDZbhKqvjV7mLjT+IhffhG5etKl7lt+SnNvJrttujNm31U4t94MBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH/ZgwMBAAAAACD/10ZQVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVhj46JAACBAIbBvX/PeGCjJHunAgAAAAAAAAAA/GNoW7PvaR9oHa63Dtdbh+utw/XW4XrrcL11uN46XG8drrcO19vDzrm0KA5EYZSCQ0hcSB7kRUITgjTBIGhoiJFsRURwaf//fzJacR4Mg3bdhTNk8i16VcdbqUOVdTtND4a7MJypPyS7XFJZZXtelnNbOutVWZ5l7PusrBJh3dZbVvm7eKUXi0UjYZv5kFhUNyvftvFzwwF46g+Zgyt64uwEcMqEq7WGmahu0+u6uYT1LIB6JpxzBbxJ2CNDKgFrHwCc7csN2y46ri1ZrU2H0PCmR8fJzNnMQSc6iwyfLanhCLnhNUNmzwyfN5vvLuIfUtr2p+E2M6rsgZUkFizMZ50AUsMVuF4VwcWc7SBMtkAhMrxHaNiGsLylMWcbcLx5AN0zw59RlKvcddNlDUGiF+sEQTEYrlywDlfJvuu6K3WuryMfVt6Bfx0N69ca3ms/JdTmbAiJUgfwJYbncJQZzqCU3rR8PdumLL0vndIL+HnG+ehowx/o9Fe3PYSqAyt+WDmAXKlctNJtkiSO0PCurht9gkTmbF4UtnoPYG7O3rjDm8xwDlWZbjdKwAYwy0tPy/ii4ajbAaWKgWjda8NzIOy0Wz1mCRSPK0ewUmoFvezWYgkNDzlAKGJX6RFqSd0SGqHhCh2nErA91AY3rQXQ6NOqU77epnYArrrAWusi0+cv8Pmk8jA2A15v2N4DCxG7BZCsdOyQKqHhlHsSc9b5jX1u+DTcOD7UfrCov4ePEOx2u2HnxhZa/pPKf89wFgCpjPV6AM+cvdC3UsOd5ezboodPcxao8+IE4RcN64HpzXAI/vduKYJf7vNvQPqssvv9lI5ebTixgKX4hD8f4WjMxnD0/RBC3xbV1ct6Mp+zpXdvBZax4U/Y37sPVcPe11nd97CTPak89NceBC827AF9rgSs/fHRDaeWZcxu+JHYvFuy7evPhaSuqqHRPRPvpoZTOA0NtavWw34utttY3dQD4fOuJdWfdHmt4Y0FYSzrPCLY6DnXxmzs3ALgnE1ZG33edZKzQ130ebXVsgwNJ8C66ABXVcAyv4DVqgJYAtXTDoDt1oH8tYZ9IDxcsxN0WnD0lhbsZXOWfg8HcFykDixFnZblVxF8GBtW61/64ZAhS71HLuoTnOzxEwfoBO+vNXzgHke0WgMav9ZwzpCTLf+tpbP5quHD3fC953AKvf/bjnvTtdYflgGHx5XbEOB4Ft54eqFhC7lhlfcAQaPkhn0JW0QAh1jC2juA00r0fjjOf779OyfFyjZ74tjz4n/yfemjTmvhZX+hrj0v8o20bpsXzfQXAP81OxkeOzsZHjs7GR47OxkeOzsZHjs7GR47OxkeOzsZHjs7GR47OxkeOzsZHjs7/T+tsWfaw2NnJ8NjZ7+1c0Y7jQJRGM4kZwxuoNldI7XVNMZYWVoEW2xaWxOujGlMhBai7VXf/y32MENLTJQwXAg7O/8Fc4z5MrbfMCDVowzLzirDsrPKsOysMiw7qwzLzirDsrPKsOysMiw7qwzLzhYans/n9fzU1ftpObFhuJXmtQ7RRNnIMJy8EmMTI+aFbviu0LyO53s2L21Wihu+AYBaDFfvp+X1KSbUxVmHHhKJsltK9bwSYiNKuwSjrShmbZRnA5pmpWHps9L/dwxX76dlr7mjhSPM2pUN2wEyel6JsPEiM7yiPFZZdpcBK0KMrDTKG25PCwy32yKGv7HbEl/XEzfBF5sIs07AMmHLQ4C1KIueV+XZLgNSwxGOvrXBycuyuDQCFwFqkxA9R7hEwq8Nn5mmeY7jiWlektH7EcDwqbU3fG+a6X8LL03zlhDtAb9pPmkNNYx+LPbG+cIsj92n60iIdQ9eXWHDk4PhBJcmDn3Ey7E2Lgbu2Ytwd8cSt6/oS8PaMcAf3m6nPT0CluNxZvgOYMBbc7SINgSW5auA4W/spxUnSea5omFEDbF5Hdd11ygmr8qzkesG3LBP6YZfxo1yrBWGAQ4hAh5fHROU/aXhrPXOAOCZNbLo9I5Q6yeGfwPA/O0YoCdg+Ht78UQ7fKlhxXkNhgqy/NTLKyHWQMN8WHBhfnmWXxgsZLcFq4MbPgM41sgpwCXpDYfXJC3vPzGMhyvWHuylsYYTijGqsHzTs2owzFWtvBUeA4F5LZwu3J//G1wdBXdaJsDZlGkmNxed9xf41LAGAO/z+TsOo6Ya9hYUE1ddHVtSi2HSpVl2QixdRCUNdwA616x1zusQMJ8bHsMh46YaJsTBbXpSiQ1xadRk2NlQzFpkl06J0D6sy27RLs1usk6eAC5Ys5PHzq/OB8O/eZu71hSw5nltomFttQpw8CjtV5k3ZjeltRjG2J6rsbulkuxk/7wj5jcPYdGdFmYIGJObRM9vueEn1n/oB6Bh8pgeyOtsdtnM6zDu0DZ7GBBWmTfA7a4mw/Zu5xPi4DnsCDzxSPa/OCHl4NEuMjwAzANhVmftK8gN9/A4GJjM8Bzg5+xyCXDaTMMb3J9jv4+LW5zl+1w9hpmfndvFL8qyuBj63TReejZv4y27NBUYHgHmFoslZLnLDN/CPi3SPtqXzTQcU561I8zyHcCtx3D+1FIvyep0H594WeUVGianWbu/8QsAnMzwcM4Nk+tUa2/J3vTxM2BeWkTA8Df20yIuu5OeRFXY/T4nzi4OZhZVDXPFi7gki1xumCRrHNdJ2U8etLNfI/Ix5z+mh3p0cX1e+2ee5OvYXmw38nNadiz8wQ238rx6oqu/APhfWWVYdlYZlp1VhmVnlWHZWWVYdlYZlp1VhmVnlWHZWWVYdlYZlp1VhmVnVT8t2fMXdEkHpCpN8mQAAAAASUVORK5CYII=" alt="å †æ’åº5"></p>
<p>å–å‡ºç¬¬å…­ä¸ªå…ƒç´ å¹¶å †åŒ–ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeEAAABRCAMAAADSKe79AAAA3lBMVEXa6Pxsjr8AAAD/MzPgy9yAiJQTFBYLDA20v9AzNzumscEgIybX5fn8Q0RudX/Y5vrL2esdHyLE0OJbYGlESE7op7R5gIziwtJmbHa7x9jhx9e2wtPltsWTnKpVWmLR3/Kst8fuiZPydXyPmKVOU1uYorH1aG7O2+6gqrmIkZ37SUwkJyoYGRy/y9zwf4jzcXj9PD3f0OLskJssLzPb5fnc4fXjvMyirbydp7Y+Qkfd3/Hd2euMlaJze4VhZ3DH1Oavusvmr734WFznqrfqn6rrmaVKTlXe1uj2XmM6PkPPHJPiAAAIcklEQVR42uyc24raUBSGd3/IeZPJiaJIDhCDDSZXuVDB05Xg+79Qk2Wc9qJV9yrYWvd/ozB+rDX7S3ZW4jDii87/HfFFsKPZl2Bfs2vNasOa1YbfhX3NrjWrDWtWG34X9jW71qw2rFlt+F3Y1+xas4qG/SSZiV8kiuMdr7K069qW3K6n2+2Cx37MtuWRWTdf1WXxwV7pb+t1y2Fb+5KAVTfafk2D+4YdwBW/iA14rN84WqLPMmKuVgbMWHWnDdUtOOzKHNhuxuy5BPCVw25wSclg5XwgrfTphqUHiic5q3XwwTR8aECxInU2skAJFyzDC5NrOATfcDays3uGF0Egr53mn5tW/sNwHilVXgFmcTSBtXrXNgCu4RTw3DIEYnXWB5JjCqBiGZ6AaVgCyXZIq862gOXaDuDfMzwPw0IUnucbHeAUtFhL4FxdDJceYJ56yYbneVOx6Dxvd7NyDBj9p4FMvesj+Ib35KcGOnU2AY5CnACDY9gGNjzDEVBzJy2Dum3r2n1ol/6GMVY0sBQyPAGl6d02QCJ8wAxuVnaAQggXcNS7zouisJiG465raQcJ1Vm3qqT4cABbnR24+VeeYRco6116EAz2DMyK7YpkPGg49DMAWxEM77OGDNsAEr8BNoI+UwOoblcOgakQU6DhTS0mz/CYE5Cw2OnuDHScujXQMg2XoFglg22Ajiatxw23tFv5wqDTVDqD4RjISBci2n/7zO9Uvnw2AvB8w3IC4BuLTdGHs9KBBV8wDe8w5qjOWp/so4aXl4ljIvYXi3QdPgNOHA9qKxoZSf6dyn/PcNS3C5/HrmgUX6mzMZqca9g3rX1eNcBcnQXQueslsHnUcHI1nADG9W4pBH6a578C8O9V9q67dPhsw8ceRc3e4RcbYKPMLoCzYSRAYkhWXVrWpXrPJlDQPm8qG54D+/HuY/jh3qD01gJzHMXuTVormnicpxqmkmgKwWDlZOL3L2vAVGYDfCZQ7llKya0rOrqutgA+VA37l0MqGwxnl/O5StNA9OqHJPfvWnZ0hYmfa/jQg0nfJYcNgQP13KkbtobQvLRQZSVov/M5e8d4V5qSLEXDRwBZ5QPwaNgz3Bgwc1EN7wGUtysXANLUAtznGjYAJPM+GWu1NivDBCa8nrnXYQc4r3cW6z68AEyjDIGJsmGRYYxH0zWlpj06FnPap4n+fdsU5+O5hk8YY6mz7hUN/sQwv+5S8p9aWsGjhk/D9E6G5X4A13T+5/718XbWvxxoRj7drpzTUbHJmRNPQzsXZ/LgGxZFQwflVPANGxy2olH2FHBYSYqXU9b3w4Fry09hx2oqFZ/Eu27wb35f+vtE39zoL9SVduUeuHVzd93qvwB4b/Y1u9asNqxZbfhd2NfsWrPasGa14XdhX7NrzWrDmtWG34V9za41qw1rdmT1/9P63t75NicNBHH4ZhdLUQoETGMxiMFKbWopwRBr0NbwR/D7fyGXTSDOWDB3DhOQ+71IdoY+k22fu2uA9vjfc6DjUrN6ldasNnws7GF2rVltWLPa8LGwh9m1ZrVhzWrDx8IeZtea1YY1m8Vwo9HIp2vPNEM1dhiYE6uqwFab6/iSLLebVnJsZAZxUZjMLF+GDe2pPY/LEZUjBcNVAMjHcAexoMTaZ0gZF+TZENfxJFluN62kWA/xjkdmDyn9SXbW4V6dIZVTLmeHY3jkoKLheR85bijNjpQMp+2mlQTrB+PEMJGcZlZ2lgCOEJOkNLMbrrW3GK7Vdmu4iRRFww5i14qItqXZ4YCzoBVgKMGm7XIlZ7iDFDbs0XnapHnsZmVdxIFFAM7Fgjx7DjW+2fB3wzDqdC4Zxr14vDwB+PRwujL8yjDe0WNfDONCiHKFHjRelXdo2PoHw12eBHeIU8V1Z36GfU+KTdu1pA1314YjGpp0OiM8C8tLjht7tue0uvvCp+XL22i4XAR4F2+3U2ufAKd4mxhOtgB4AXDKm/PE/za6O8NDy7L6ioaDKKqK6oJoWTb9mU/krpu2y5WUYc+yHDIcr7m9eFKb2djmeOzQaUH92vHo6JLsjYaTrXeeAfwQ7wFOKuek+foJw/QV0GgUAc53eqfFY1mR9Qb0rY4Vr2siLuSvy+2mlRRrxobNeEqOEWeyv9GaE8TOttHB9FuAYlm8BHgvzkule7EsXz1hmA7XvD3Yzd4ajpAyUWN9F7GZh2FW1bN7dHQkrlugyy1W85/g2WbDwgB422bNovq8cnkDTxouA8Blo3FJp8d9NWy7SAlUR0dH5GCYZ2CSgRSLriemmQxXAL7d89Y5V5+A8rThOqxzu6+GhQhpme4qsLxIBjkZDuPnw4jTrKy/JMYjIaL1Kj3ZYvgCoPQA8Jw3O/lY+fztD8NFMtwGquNc7aNh33EcOtmIZyrXDfimNAfDnLlt+Xy3lI31u6vXO4L45mGxiU1ovkk2YpNvhWikhh9487TXQIbFx+VBXLVarf38Pewi0qAe0NiWZ5nriXwMjwYDWmJDmsNhJpabxWj9Ws1QDOk432b4GVAqgq22rr5Cavh8OXGvDTZM4l+07n8CvNxPwz1an4Mp0Y48y883zHwMs5+ZdUftZ2SrfVqoOsvYy747QWcjm9CPQLngTx1I8iYxfAEcNlw7WZX7aTjAOP1QnuUVwMrHcPqqZSEjW8BVpsJOKnurYfEy2e7v9gYASi061GPD4gN/ggGZf02P/gDKzanYrWFX0bCw+E564SmwPI9CpZ7Tdl0Fw531fRO6QVbW/M2wiPp07kdZ33kon/6x53j9dXtdPz7/UM//Pc/NGdnBfD/fp/1L5vbE8hXZasEuVPVfABwre5hda1Yb1qw2fCzsYXatWW1Ys9rwsbCH2bVmtWHNasPHwh5m15rVhjWr99M6kvwC1z+0SNUVhy0AAAAASUVORK5CYII=" alt="å †æ’åº6"></p>
<p>å †æ’åºå®Œæˆï¼</p>
<h3 id="äºŒå‰æ ‘"><a href="#äºŒå‰æ ‘" class="headerlink" title="#äºŒå‰æ ‘"></a>#äºŒå‰æ ‘</h3><p>æ ‘å°±æ˜¯ä¸€ç§ç±»ä¼¼ç°å®ç”Ÿæ´»ä¸­çš„æ ‘çš„æ•°æ®ç»“æ„ï¼ˆå€’ç½®çš„æ ‘ï¼‰ã€‚ä»»ä½•ä¸€é¢—éç©ºæ ‘åªæœ‰ä¸€ä¸ªæ ¹èŠ‚ç‚¹ã€‚</p>
<p>ä¸€æ£µæ ‘å…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p>
<ol>
<li>ä¸€æ£µæ ‘ä¸­çš„ä»»æ„ä¸¤ä¸ªç»“ç‚¹æœ‰ä¸”ä»…æœ‰å”¯ä¸€çš„ä¸€æ¡è·¯å¾„è¿é€šã€‚</li>
<li>ä¸€æ£µæ ‘å¦‚æœæœ‰ n ä¸ªç»“ç‚¹ï¼Œé‚£ä¹ˆå®ƒä¸€å®šæ°å¥½æœ‰ n-1 æ¡è¾¹ã€‚</li>
<li>ä¸€æ£µæ ‘ä¸åŒ…å«å›è·¯ã€‚</li>
</ol>
<p>ä¸‹å›¾å°±æ˜¯ä¸€é¢—æ ‘ï¼Œå¹¶ä¸”æ˜¯ä¸€é¢—äºŒå‰æ ‘ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/%E4%BA%8C%E5%8F%89%E6%A0%91-2.png" alt="äºŒå‰æ ‘"></p>
<p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œé€šè¿‡ä¸Šé¢è¿™å¼ å›¾è¯´æ˜ä¸€ä¸‹æ ‘ä¸­çš„å¸¸ç”¨æ¦‚å¿µï¼š</p>
<ul>
<li><strong>èŠ‚ç‚¹</strong> ï¼šæ ‘ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½å¯ä»¥ç»Ÿç§°ä¸ºèŠ‚ç‚¹ã€‚</li>
<li><strong>æ ¹èŠ‚ç‚¹</strong> ï¼šé¡¶å±‚èŠ‚ç‚¹æˆ–è€…è¯´æ²¡æœ‰çˆ¶èŠ‚ç‚¹çš„èŠ‚ç‚¹ã€‚ä¸Šå›¾ä¸­ A èŠ‚ç‚¹å°±æ˜¯æ ¹èŠ‚ç‚¹ã€‚</li>
<li><strong>çˆ¶èŠ‚ç‚¹</strong> ï¼šè‹¥ä¸€ä¸ªèŠ‚ç‚¹å«æœ‰å­èŠ‚ç‚¹ï¼Œåˆ™è¿™ä¸ªèŠ‚ç‚¹ç§°ä¸ºå…¶å­èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ã€‚ä¸Šå›¾ä¸­çš„ B èŠ‚ç‚¹æ˜¯ D èŠ‚ç‚¹ã€E èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ã€‚</li>
<li><strong>å­èŠ‚ç‚¹</strong> ï¼šä¸€ä¸ªèŠ‚ç‚¹å«æœ‰çš„å­æ ‘çš„æ ¹èŠ‚ç‚¹ç§°ä¸ºè¯¥èŠ‚ç‚¹çš„å­èŠ‚ç‚¹ã€‚ä¸Šå›¾ä¸­ D èŠ‚ç‚¹ã€E èŠ‚ç‚¹æ˜¯ B èŠ‚ç‚¹çš„å­èŠ‚ç‚¹ã€‚</li>
<li><strong>å…„å¼ŸèŠ‚ç‚¹</strong> ï¼šå…·æœ‰ç›¸åŒçˆ¶èŠ‚ç‚¹çš„èŠ‚ç‚¹äº’ç§°ä¸ºå…„å¼ŸèŠ‚ç‚¹ã€‚ä¸Šå›¾ä¸­ D èŠ‚ç‚¹ã€E èŠ‚ç‚¹çš„å…±åŒçˆ¶èŠ‚ç‚¹æ˜¯ B èŠ‚ç‚¹ï¼Œæ•… D å’Œ E ä¸ºå…„å¼ŸèŠ‚ç‚¹ã€‚</li>
<li><strong>å¶å­èŠ‚ç‚¹</strong> ï¼šæ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ã€‚ä¸Šå›¾ä¸­çš„ Dã€Fã€Hã€I éƒ½æ˜¯å¶å­èŠ‚ç‚¹ã€‚</li>
<li><strong>èŠ‚ç‚¹çš„é«˜åº¦</strong> ï¼šè¯¥èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„æœ€é•¿è·¯å¾„æ‰€åŒ…å«çš„è¾¹æ•°ã€‚</li>
<li><strong>èŠ‚ç‚¹çš„æ·±åº¦</strong> ï¼šæ ¹èŠ‚ç‚¹åˆ°è¯¥èŠ‚ç‚¹çš„è·¯å¾„æ‰€åŒ…å«çš„è¾¹æ•°ã€‚</li>
<li><strong>èŠ‚ç‚¹çš„å±‚æ•°</strong> ï¼šèŠ‚ç‚¹çš„æ·±åº¦+1ã€‚</li>
<li><strong>æ ‘çš„é«˜åº¦</strong> ï¼šæ ¹èŠ‚ç‚¹çš„é«˜åº¦ã€‚</li>
</ul>
<blockquote>
<p>å…³äºæ ‘çš„æ·±åº¦å’Œé«˜åº¦çš„å®šä¹‰å¯ä»¥çœ‹ stackoverflow ä¸Šçš„è¿™ä¸ªé—®é¢˜ï¼š<a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/2603692/what-is-the-difference-between-tree-depth-and-height">What is the difference between tree depth and height?open in new window</a> ã€‚</p>
</blockquote>
<h4 id="äºŒå‰æ ‘çš„åˆ†ç±»"><a href="#äºŒå‰æ ‘çš„åˆ†ç±»" class="headerlink" title="äºŒå‰æ ‘çš„åˆ†ç±»"></a>äºŒå‰æ ‘çš„åˆ†ç±»</h4><p><strong>äºŒå‰æ ‘</strong>ï¼ˆBinary treeï¼‰æ˜¯æ¯ä¸ªèŠ‚ç‚¹æœ€å¤šåªæœ‰ä¸¤ä¸ªåˆ†æ”¯ï¼ˆå³ä¸å­˜åœ¨åˆ†æ”¯åº¦å¤§äº 2 çš„èŠ‚ç‚¹ï¼‰çš„æ ‘ç»“æ„ã€‚</p>
<p><strong>äºŒå‰æ ‘</strong> çš„åˆ†æ”¯é€šå¸¸è¢«ç§°ä½œâ€œ<strong>å·¦å­æ ‘</strong>â€æˆ–â€œ<strong>å³å­æ ‘</strong>â€ã€‚å¹¶ä¸”ï¼Œ<strong>äºŒå‰æ ‘</strong> çš„åˆ†æ”¯å…·æœ‰å·¦å³æ¬¡åºï¼Œä¸èƒ½éšæ„é¢ å€’ã€‚</p>
<p><strong>äºŒå‰æ ‘</strong> çš„ç¬¬ i å±‚è‡³å¤šæ‹¥æœ‰ <code>2^(i-1)</code> ä¸ªèŠ‚ç‚¹ï¼Œæ·±åº¦ä¸º k çš„äºŒå‰æ ‘è‡³å¤šæ€»å…±æœ‰ <code>2^(k+1)-1</code> ä¸ªèŠ‚ç‚¹ï¼ˆæ»¡äºŒå‰æ ‘çš„æƒ…å†µï¼‰ï¼Œè‡³å°‘æœ‰ 2^(k) ä¸ªèŠ‚ç‚¹ï¼ˆå…³äºèŠ‚ç‚¹çš„æ·±åº¦çš„å®šä¹‰å›½å†…äº‰è®®æ¯”è¾ƒå¤šï¼Œæˆ‘ä¸ªäººæ¯”è¾ƒè®¤å¯ç»´åŸºç™¾ç§‘å¯¹<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E6%A0%91_(%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84)#/%E6%9C%AF%E8%AF%AD">èŠ‚ç‚¹æ·±åº¦çš„å®šä¹‰open in new window</a>ï¼‰ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/image-20220119112736158.png" alt="img"></p>
<h5 id="æ»¡äºŒå‰æ ‘"><a href="#æ»¡äºŒå‰æ ‘" class="headerlink" title="æ»¡äºŒå‰æ ‘"></a>æ»¡äºŒå‰æ ‘</h5><p>ä¸€ä¸ªäºŒå‰æ ‘ï¼Œå¦‚æœæ¯ä¸€ä¸ªå±‚çš„ç»“ç‚¹æ•°éƒ½è¾¾åˆ°æœ€å¤§å€¼ï¼Œåˆ™è¿™ä¸ªäºŒå‰æ ‘å°±æ˜¯ <strong>æ»¡äºŒå‰æ ‘</strong>ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœä¸€ä¸ªäºŒå‰æ ‘çš„å±‚æ•°ä¸º Kï¼Œä¸”ç»“ç‚¹æ€»æ•°æ˜¯(2^k) -1 ï¼Œåˆ™å®ƒå°±æ˜¯ <strong>æ»¡äºŒå‰æ ‘</strong>ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/%E6%BB%A1%E4%BA%8C%E5%8F%89%E6%A0%91.9025b079-167316128346745.png" alt="img"></p>
<h5 id="å®Œå…¨äºŒå‰æ ‘"><a href="#å®Œå…¨äºŒå‰æ ‘" class="headerlink" title="å®Œå…¨äºŒå‰æ ‘"></a>å®Œå…¨äºŒå‰æ ‘</h5><p>é™¤æœ€åä¸€å±‚å¤–ï¼Œè‹¥å…¶ä½™å±‚éƒ½æ˜¯æ»¡çš„ï¼Œå¹¶ä¸”æœ€åä¸€å±‚æˆ–è€…æ˜¯æ»¡çš„ï¼Œæˆ–è€…æ˜¯åœ¨å³è¾¹ç¼ºå°‘è¿ç»­è‹¥å¹²èŠ‚ç‚¹ï¼Œåˆ™è¿™ä¸ªäºŒå‰æ ‘å°±æ˜¯ <strong>å®Œå…¨äºŒå‰æ ‘</strong> ã€‚</p>
<p>å¤§å®¶å¯ä»¥æƒ³è±¡ä¸ºä¸€æ£µæ ‘ä»æ ¹ç»“ç‚¹å¼€å§‹æ‰©å±•ï¼Œæ‰©å±•å®Œå·¦å­èŠ‚ç‚¹æ‰èƒ½å¼€å§‹æ‰©å±•å³å­èŠ‚ç‚¹ï¼Œæ¯æ‰©å±•å®Œä¸€å±‚ï¼Œæ‰èƒ½ç»§ç»­æ‰©å±•ä¸‹ä¸€å±‚ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/%E5%AE%8C%E5%85%A8%E4%BA%8C%E5%8F%89%E6%A0%91.c4f02f51-167316129171547.png" alt="img"></p>
<p>å®Œå…¨äºŒå‰æ ‘æœ‰ä¸€ä¸ªå¾ˆå¥½çš„æ€§è´¨ï¼š<strong>çˆ¶ç»“ç‚¹å’Œå­èŠ‚ç‚¹çš„åºå·æœ‰ç€å¯¹åº”å…³ç³»ã€‚</strong></p>
<p>ç»†å¿ƒçš„å°ä¼™ä¼´å¯èƒ½å‘ç°äº†ï¼Œå½“æ ¹èŠ‚ç‚¹çš„å€¼ä¸º 1 çš„æƒ…å†µä¸‹ï¼Œè‹¥çˆ¶ç»“ç‚¹çš„åºå·æ˜¯ iï¼Œé‚£ä¹ˆå·¦å­èŠ‚ç‚¹çš„åºå·å°±æ˜¯ 2iï¼Œå³å­èŠ‚ç‚¹çš„åºå·æ˜¯ 2i+1ã€‚è¿™ä¸ªæ€§è´¨ä½¿å¾—å®Œå…¨äºŒå‰æ ‘åˆ©ç”¨æ•°ç»„å­˜å‚¨æ—¶å¯ä»¥æå¤§åœ°èŠ‚çœç©ºé—´ï¼Œä»¥åŠåˆ©ç”¨åºå·æ‰¾åˆ°æŸä¸ªèŠ‚ç‚¹çš„çˆ¶ç»“ç‚¹å’Œå­èŠ‚ç‚¹ï¼Œåç»­äºŒå‰æ ‘çš„å­˜å‚¨ä¼šè¯¦ç»†ä»‹ç»ã€‚</p>
<h5 id="å¹³è¡¡äºŒå‰æ ‘"><a href="#å¹³è¡¡äºŒå‰æ ‘" class="headerlink" title="å¹³è¡¡äºŒå‰æ ‘"></a>å¹³è¡¡äºŒå‰æ ‘</h5><p><strong>å¹³è¡¡äºŒå‰æ ‘</strong> æ˜¯ä¸€æ£µäºŒå‰æ’åºæ ‘ï¼Œä¸”å…·æœ‰ä»¥ä¸‹æ€§è´¨ï¼š</p>
<ol>
<li>å¯ä»¥æ˜¯ä¸€æ£µç©ºæ ‘</li>
<li>å¦‚æœä¸æ˜¯ç©ºæ ‘ï¼Œå®ƒçš„å·¦å³ä¸¤ä¸ªå­æ ‘çš„é«˜åº¦å·®çš„ç»å¯¹å€¼ä¸è¶…è¿‡ 1ï¼Œå¹¶ä¸”å·¦å³ä¸¤ä¸ªå­æ ‘éƒ½æ˜¯ä¸€æ£µå¹³è¡¡äºŒå‰æ ‘ã€‚</li>
</ol>
<p>å¹³è¡¡äºŒå‰æ ‘çš„å¸¸ç”¨å®ç°æ–¹æ³•æœ‰ <strong>çº¢é»‘æ ‘</strong>ã€<strong>AVL æ ‘</strong>ã€<strong>æ›¿ç½ªç¾Šæ ‘</strong>ã€<strong>åŠ æƒå¹³è¡¡æ ‘</strong>ã€<strong>ä¼¸å±•æ ‘</strong> ç­‰ã€‚</p>
<p>åœ¨ç»™å¤§å®¶å±•ç¤ºå¹³è¡¡äºŒå‰æ ‘ä¹‹å‰ï¼Œå…ˆç»™å¤§å®¶çœ‹ä¸€æ£µæ ‘ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZEAAAGRCAMAAACT/35lAAAAtFBMVEX/////5swAAADYnAHz4rXfqifkuUz37M394sL316LnuVD73bXv2JvrzX/txW/pvVvitD/ZnwnvyHrgsDbhszz58dr047jz0JDyzovsz4Xxy4PqyXTpyHHlvlnltkffrTDcpRnaohFuY1f47dHHs5/Pu6YzLSiRg3TdqCLdqCHXwqxaUUj03MTu177vyXwXFRMNDAr64ci9q5erm4mHemwmIh61o5Gej39LRDzlzrd4bF88NjBilSCTAAAJ1klEQVR42uzd61LaQBjG8X0JGxLOIFVUPFXHqmgVtWjr/d9X10I7badlA9ms7zj/3wdyAc8MOezu+xifRnuSHh0PkiQZHB+lk3bD4O00dvuJbXbHeSsTkayVj7tNm/R3SeVNfOjYy95OJn/LdnqXtvPBIK7t9KSXy//kvZN02yCe+sgOZbWhHdUN4jhN7Z747dn01CCCzqArxXQHHYOqNbYOW1JU63CL566KtZOhrGOYtA0qtG9zWU9u9w0qc9DPZF1Z/8CgImlTNtFMDV5pCYRIqnLQlE01+eOqwH5fNtfn9h5c22ayuczyEBxYI8mljDzhVTGsraGUM9wyCKhzKGUd8o0roNNBS8pqDfgSHE7alfK6vJUEU7cSgmUJK5TRnoSwNzIIYttKGJa19zDSoYQx5E4SxIcTCeWETUMhdHoSSo93khBsLqHk1qC0xoWEc8nXrfJ2exJOb9egrP6OFHIjBez0DcpKMvF7mN7W7p4fZ+KRJQYlNaz4faotTL2RWG4kZbWb4jWv/fRNPJqsJZY16YrX9DWLqwf3ezeT1boTg3LSsfjcuCjO3fWbu85ltTEfUso6ysXnfvl3NV9cV8qPDMo5bonPk0viwV2/uutUVmsdG5QzyAo9ac2X/17Pslo2MCgnEY/F/ePMXWc/7icevJBESOSjS+J+mcgXEvGIkcjjMpFrd30hkaoNsvXu7NxHqnbcKvTK/uiuZ+76kWctjxjvI1fLZ6xP7vrE+0jV0rF4nf942Lq5dZcb3tmrNukW/PR7XnOehe9aHlG+/V4/1xZur/j26xFpfWQ2rb06/yqsj1QvyaSA67On+xsR1hA9Yq6zC+vsK7EX5f1iv5Y67GnUhn2/2rA3Xp30M+dHdOGMlTqcQ9SGs7rqcJ5dmwYzH7RhLoo6zA7Shvla6jCDTh3mNKrDLFN10k0jSbmrL2iJpLmV8LbuEXtufJ1IPGJ3KxCJR+z+ESL5hzfv6CESj4g9VkTiEbnrjUiiqI+sb+3986IPkUh84naGEklMrlf34j+9uheLXl0iicnfPU0kEQToZ3eR0Peui4uEvnddXCT0veviIqHvXRcXCX3vurhI6HvXxUVC37suLhL63nVxkdD3rouLhL53XVwk9L3rUk9G9L3rMqLvXRf2SCrDPmJl2GuvDOdRtOHMljKca1SGvndtOB+vDDMktGHOijLMItKGvndlmGmnDXMftWE2qjLMD9aGGdvaMIdem2JdDdPXSiy6GmJoWCngallSRp+JR6TOn9nT7c9E6Pzxqr4X6+Gu5iwToRercunYX3j5eyJ0x3lE6Fecv7y8fPmVCP2KHjE6SP+oH6WDtGqDbL1E6OmtWiLrJUKX9V9I5N0jEW24j2jDs5Y2R3mhRHgfiSYdF0qEd/ZoJt1CifBdK5p2s1AifPuNpmELJcL6SDxJJgWxhrgC6+zvGHtRtGG/ljrsadSGfb/asDdeHfreteGMlTqcQ9SGs7rqcJ5dG/re1WEuijrMDtKG+VrqMINOHeY0qsMsU3Xoe1eHvnd16HtXh7737+zdS27bQBAAUbAdJAfwDQR9AIkCKVp/3f9eoSILSVbNjRplo96G3g8ImeRMF469dxx77zz23nF+TW69/bLRm7L3/l3Ze+ex9w5k753I3vtXZ+8dx947jr13HHvvOPbecey949h7x7H3jmPvHcfeO86Pt3d77yzvP+29o7hHEsZ9xDDutYfxPAqNZ7ZgPNcIY++dxvPxMM6QoHHOCoyziGjsvcM4047GuY80zkaFcX4wjTO2aabNoW+dQ19gcqthmC0jlrOtrYZEVc/kGA/90Z5JpqT5M4+n/mLzJ1XQxdpExGZY/clZ28VKlLTjIuKwe9wqS9txL5f3FbfPe6Mf/7Cv+HJ5g7Td7/fD/RoRnQ3SCUo6vaNrRJzt9L7eWzPNKkZHW9aJshVpNzHaWBdPlK3I+hCjzc4VSVT9jgx9jPb23gtM6r0fY3SYN/beS+S998v9Dtm0TWPvPVH1zD6LiP7jwWf2RMl7rWX81fpeK1Hw7ncb/2h995so+D4y/Lcifh+ZwN77N2Pvnca9KDTu18JxTyON+35p3BuPY++dxjNWOJ5DpPGsLo7n2WnsveM4FwXH2UE0ztfCcQYdjnMacZxlimPvHcfeO469dxx77zj23nHsvfPYe8ex985j753H3juPvXcge+9E9t6/OnvvOPbecey949h7x7H3jmPvHcfeO469dxx77zj23nHsvePYe4dxjySM+4hh3GsP43kUGs9swXiuEcbeO43n42GcIUHjnBUYZxHR2HuHcaYdjXMfaZyNCuP8YBpnbNPYe6eZ0nu/9RHLq733RFnv/RoP/dree6ak9z7E03Jn7z1V0MW6RcR1serHy9zee6Kq937+TMitbMe9Xt5777ruvhKniDjZV3y1Z4M0194iYmGDdIKS3vtq00XEzE5vgbfmKa9eXmxZJ6pXpNu6IomyFVkM+xjNXJFE1e/I80Hx4O9IouJ/reP5fF40oxjt/F8rUfA88vH5ZLgYr53PI4mKZ/Z1RBwuzXYzXs8+s6eqeu+3uBt8r5Uoefe77uLTrPHdb6Lm+8jlcYP0p8bvI5MU9N7b+em43tl7n8be+3fjXhQa92vhuKeRxn2/NO6Nx7H3TuMZKxzPIdJ4VhfH8+w09t5xnIuC87u9O9hJGIgCKBqfURI/w9A2KRIglhj+/8eUwYVueGXRlwu5Z8EPzKK0M/Ous4NonK+F4ww6HOc04jjLFMfeO469dxx77zj23nHsvePYe+ex945zQ+vNRm/K3vujsvfOY+8dyN47kb33e2fvHcfeO469dxx77zj23nHsvePYe8ex945j7x3H3juOvXcce+8wnpGE8RwxjGftYbyPQuOdLRjvNcLYe6fxfjyMMyRonLMC4ywiGnvvMM60o3HuI42zUWGcH0zjjG0a59DTtFZDqjv+GG01FFi9zA8sdvZMCrTmT+orzjqbPwVaFyuz3f+uiF2sREnv/dJ637UVsR23tNZXTK0j+qmtiH3FVEXv/dBHrIe2IvbeZ1i+0ztEbM4/0dl7L5C3rE/7iNNlRey9J2pWZBMxPbkiZZ5nPNZ3H65IovI5MkVE3/e7iDj2o8+RRMF/rSn+6PyvlSh4H/m/Ir6PJAre2bdj8x4Rn+PBd/ZEyXetZvC7VqLw228z+O03Ubg/0gzuj2RK9xAbe+/XuM/+uDyLQuN5LRzPNNJ47pfGs/E49t5pvGOF4z1EGu/q4nifncbeO45zUXCcHUTjfC0cZ9DhOKcRx1mmOK9vzvuFeXUmNo1z43FsK+DYH8Gx0cNjxwpnZesNZ07v3R7ikmyG3oNrvXe7usuyPX1Xbu6zfwPJXiXMflN7UQAAAABJRU5ErkJggg==" alt="img"></p>
<p><strong>ä½ ç®¡è¿™ç©æ„å„¿å«æ ‘ï¼Ÿï¼Ÿï¼Ÿ</strong></p>
<p>æ²¡é”™ï¼Œè¿™ç©æ„å„¿è¿˜çœŸå«æ ‘ï¼Œåªä¸è¿‡è¿™æ£µæ ‘å·²ç»é€€åŒ–ä¸ºä¸€ä¸ªé“¾è¡¨äº†ï¼Œæˆ‘ä»¬ç®¡å®ƒå« <strong>æ–œæ ‘</strong>ã€‚</p>
<p><strong>å¦‚æœè¿™æ ·ï¼Œé‚£æˆ‘ä¸ºå•¥ä¸ç›´æ¥ç”¨é“¾è¡¨å‘¢?</strong></p>
<p>è°è¯´ä¸æ˜¯å‘¢ï¼Ÿ</p>
<p>äºŒå‰æ ‘ç›¸æ¯”äºé“¾è¡¨ï¼Œç”±äºçˆ¶å­èŠ‚ç‚¹ä»¥åŠå…„å¼ŸèŠ‚ç‚¹ä¹‹é—´å¾€å¾€å…·æœ‰æŸç§ç‰¹æ®Šçš„å…³ç³»ï¼Œè¿™ç§å…³ç³»ä½¿å¾—æˆ‘ä»¬åœ¨æ ‘ä¸­å¯¹æ•°æ®è¿›è¡Œ<strong>æœç´¢</strong>å’Œ<strong>ä¿®æ”¹</strong>æ—¶ï¼Œç›¸å¯¹äºé“¾è¡¨æ›´åŠ å¿«æ·ä¾¿åˆ©ã€‚</p>
<p>ä½†æ˜¯ï¼Œå¦‚æœäºŒå‰æ ‘é€€åŒ–ä¸ºä¸€ä¸ªé“¾è¡¨äº†ï¼Œé‚£ä¹ˆé‚£ä¹ˆæ ‘æ‰€å…·æœ‰çš„ä¼˜ç§€æ€§è´¨å°±éš¾ä»¥è¡¨ç°å‡ºæ¥ï¼Œæ•ˆç‡ä¹Ÿä¼šå¤§æ‰“æŠ˜ï¼Œä¸ºäº†é¿å…è¿™æ ·çš„æƒ…å†µï¼Œæˆ‘ä»¬å¸Œæœ›æ¯ä¸ªåš â€œå®¶é•¿â€ï¼ˆçˆ¶ç»“ç‚¹ï¼‰ çš„ï¼Œéƒ½ <strong>ä¸€ç¢—æ°´ç«¯å¹³</strong>ï¼Œåˆ†ç»™å·¦å„¿å­å’Œåˆ†ç»™å³å„¿å­çš„å°½å¯èƒ½ä¸€æ ·å¤šï¼Œç›¸å·®æœ€å¤šä¸è¶…è¿‡ä¸€å±‚ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZEAAAFBCAMAAACBwWJKAAAAw1BMVEX/////5swAAADYnAHz4rTeqiTjuUz37M394sL316L63bTv2JvrzX/vyXrmuU/jtD/fqynZnwnz4rXpvVvgsDbltkjtxG7hsjz58dr47dH047jz0JDyzovsz4Xxy4PqyXTpx3HlvlnfrTDcpRraohHtxXFuY1jXwqzpvFutnIoyLSj33sXGs5+4ppNFPjfPu6YNDAoYFRMkIRzv2L/nulTArZmfj3+Vh3dfVkxTSkKEd2mLfW93a1/jzbY7NS/p0rqOgHIiWA9iAAALtklEQVR42uzdeVMaMRgG8LyE7AV7yQIqh8jhAepo8ShWa7//p2oc6XSmMyXLJlnTzvP7g/cDPMPmTti/zm9NvOks55zns6k3afkMPo8/SnmW9IZhFBBREIXDXpLxdIRUPsVhW4jOIKA/BYOOEO1DBvU69uYXIf1NeDH3jhnU56CfxbRbnPUPGNTjyBNjUhsL74hBDdr5gspZ5G0GtvlFN6Kyom6BfpdlLR7TPmLeYmDRiQhpP6E4YWDNaRrQvoL0lIElXkJVJB4DK7x7quYekVhxmlBVCT5cFpykVF2K5t24lgioukCgE2yYz0PSEXIMFc0qYtITFwwMandJVxdzXAYd5RHpinLMBJvjLUjfAqMSY5qCTBBNBmb0x2TCuM/AiOOMzMiw9m6GF5MZMVoSIw7nZMocm4ZMaHfIlAuMSUwQIZkSCgbafEHmCMxu6Rt1yJzOiIGudEClrKmEQcpAFw9I7XJz17i9eSaVgDPQ5Gek9tT4sFmRQoaGRFcrIaXrxi8vpJBgLVHXpEdKm/cszi/l7y0p9CYM9HhDUlnLKJayvsh6TbsNMZGiaxqW+mi9/K47hVMGemYRqTzKJC5lfZX1K+0WzRjoyQNS+bH9Wq1lvaHdgpyBHk4KH+3Hg6wrWZekgAFJDYmcbRMhWb8gESX7iTxvv1orWb8jEdvyoHTL/ibrBu2Ikv2+1vvQ8JusD7Keoa+lZH88cr79bzzJ+ojxiG3ekJSWMoorWt/J8oYxu22TXsmp32VD2mBeS6Geud/VTePD3TnmfhVqWh9ZbRrvlq+E9RH7eEAlrK4er9eENcQ6pAMqB+vsO2Evyv8L+7Wcgz2NrsG+X9dgb7xzcH7ENThj5RycQ3QNzuo6B+fZXYM7H5yDe1Gcg7uDXIP7tZyDO+icg3sanYO7TJ1TdKmaLlp1K5q8SKiKpOB4HMaCJm9Wvje+iUiYjUCqv62ASCTzgVR/fwSRSOYDqf5GDyKRzAdS/R0rRCKZD6TyW2+I5Cd757baNhBFUUYxImlKwA04L34IKTikkkGRm9aYxv3/v6oc2ZwZNZeDyAxbZ896ykvMhm1say5ndcQqRJipfIiH/8qVCJEKEWfo9TvO0OveGZorEeIVovfq5kqEeIXo3dO5kgg+dSnkE1/vW/a9K97T+kLGI5Vk37vqcz9+IVJJ9r3rfOrRC5FKsu99NsanLoVEr2RG5nsf8YwdqRCphNr3rl+HWsy/Ri5EKhmVz4TvfcRabcxCpBJW3/uI/Yy4hUglnL73UXt+cQuRShh97yP3xeMWIpXw+d7LsWdHohYildyw+d7Ln9jnq27YfO/oZxDR8w2wf04XPV8Aw1l29HwhBPc90POFMNyJQs8XwHBvED2fD8XdWvR8Awjun6PnCwGa0XBcn6XLF0AxxwQ93xDzs37Q8w0gmIeFns+HYmYcer4QhrmK6PkGEMweRc83wP58XvR8/2N9hjV6vhCGOe+6fJWhOfQ6F8JWlFMKF0LifE+rH506Y/XXhqtB5Qtx9yIBS+QLkXxquXizdhZ8Jiqnzq9HbSNXl8nz1cWJ5tkZcP587J16aIoOZSOL2+T5tgcf1vp3+xLRgBerXCqEkvpGlmXafOKCrXtL7/TdcR/7C9f7/b7VNnJxlzrf5hSt6f5wbvp+xc7xqaDWNvLle+p8m91udzJZPzo3fQfp/PxTGzmfp80n/Olt79P39J45fSMazhLnEw1/b7SevsvaRiPVtjeQ5kZAGrlvXwqpTDRi4Xtk3RRHwbiF75HJ/9Y6rqK0teuw8Fvr7kLVCO7ziHtuunDbyh2w8DxSLlWNAD+zr7pszUOPhWf224WqEeB1rbYQKgPrWpdXqkZw1343hUdlYO1Xtz9S4+6PPAWNGNgf6ffoVMDuIZ6wsYdoZJ/dku8d/awHej4PkvNQ6Pl8SM4MoufzIDlXi54vgOLsOXq+AI77Gej5AijuMKHnG8Bwzw89nwfYXdjjlC26fAEc98XR8wVQzFRAz+dDMncEPd8Qgtk86Pl8OOZXoecL4Jjxhp4vgGMOIno+H5JZoej5hhD41NHnEQdw+NRL8HxvYtenjp7vdUz71P+xdy69TkJRFA7LxIEDB0Ydm5iUQFsexRZKX/f//ypPCxif6baIWXTtbyAz892Se8vjnP2x+/2GZ++ps/v9jEBPnd3vB0R66ux+39DpqbP7dWj11Nn9AnI9dXY/xZ46u59kT53dT7Onzu3nPXUqP++pc/l5T53Lz3h9Tt5T/5PN/Py8p07m9xfPech76r3fr8zKz3vqZH7eUyfz8546mZ/31Mn82Hvq76l76iP85rp+6f0H7p76CL95rvGT82NfByvnx75WXM6PfT+Fnh/7niM5P/Z9eXJ+7HtX9fzY93fL+bHPQFDxezebOSFyfuyzdPT82OdNyfmxz2TT82OfW6jnxz7bU86Pff6tnh/7jGg9P/ZeOfuc93/sZ2sNrLMCSNuKuIWQbwIxp98xG1gZ/Cy9kCM6ipixF9KRIpBz+m0wkBj8DE2dLQY2S8Kmznc965yx+RNF+EZi8DN0nc4AjnldhMOKsTsVuBS4klN2sS4A2sON2OBn65VnfQKtZmyzdZH7EkBO2Y5bAUVkJPjd7wNeyrKs+z8MO8Z+4e1nTg8Acsq+YgKcIyvBLzQ0TSzPAHLKxmeUAtuXqx5lg/QAZItzmbVVZPEzdnBfmhJAw9nBra9mtzNC6bdAT7E2+b2yX1ziRNmKvhTBrDsjlH4ZBoqLwe+vzkhZMf7EDdBGxGdkA2CxrRFo/t0ZydctAgvCn3gLlEvmM7JOdkl/ZZRa/Ia/g6ZG9obw7/QBQJqm5VUvjfn8Bk4IGD6/+9cK6/1+nw+3noTXMgd8R87n12H//O5fTyf9nWEejiXh9f6PZ4TPbweg7R9GpYbP7/49Zwxgc4qqJhz3hPfEVXxjASCJl3x+MYDiFEV70/dw8Pv00XSddcaVLeNzo44X2udaGwTS278Xg5/h2WVcomfB+Wz1xgvts98YAzuLn+X5/umMK8WOsqfeU/O+H8kzXCm3ps/P9o5uudol8dJ76o/6xes6iW1+ku+x2f301nqw++mth6L3k1szSO+nt66W3U9v7Tm9n9z+DHo/vT1M9H5y+/zo/VT2ws7IT26/OL2f3kwFej+5uSP8fnKzeej99OZX0fvJzXjj95Obg8jvJzcrlN+Pfd7v6y/c835H+M21V/6aeib2CL/59sqZ58aP8Jtzr5y3rTDCb969ctb+yAi/uffKORs9I/yeoFdO2LF63O85euV0rbfH/Z6mV87VQ3zY76l65SY/O7PwY++Vs3R1H/R7zl45Q3v6Ib8n7pX/+v+xnA0eP/aeuiDsPXVB2HvqgrD31AVh76kLwt5TF4S9py4Ie09dEPaeuiDsPXVB2HvqgrD31OVgX4MoB/s6XTnY17LLwb7fQw/2PVFysO8blIN9b60e7PvP5WCf0aAH+xwTOdhn/ejBPg9LDvaZcXqwz1XUg332qBzs83n1YJ9hrYdtjnp1ss5RdwJTtwaq9gwgW5laA870PY4qRUdtuEn0L5L/0NQ5YyCO7vHW3yVO3HUaomerSxMOraXr5EzdKz92vxxVlmXt/faZP0gJTNwrL4H93/TKnYkbmjGAdr3ImtrYK3cm7syuMFBuTb1yZxyvLMXkgDX47jckk5+RBIHN4aUIh8bPiInpf0fKqjsWfkYMTP09kgM4huOyAFD598jkfH5jKMcfh1v3i19rWZj+fmQTDksAhd+P2Jj+nj3p0sSZ37NPz6ePpjp2miKw9edaBqZ/9pugp4n82a+F6XvqSdm/HvH3I0am76nHyS5fRv4O0QBjr9zxtSjPha/XosPXNLLh637Z8LXxdPj+ETZ8jxUdvg+RDd+rS4fvZ2fDZz7Q4XNR6Pja3h3QAADAMAjz7/oy3mRUCNQO0tTX4tSg49Rp5NQy5eg/9UH6T31Q3XhObwVO/xFOjx5PHytOrzdPP0SP/lNf1FcX1Hta9P8rxx2h6rnL1t26KgAAAABJRU5ErkJggg==" alt="img"></p>
<h5 id="çº¢é»‘æ ‘"><a href="#çº¢é»‘æ ‘" class="headerlink" title="çº¢é»‘æ ‘"></a>çº¢é»‘æ ‘</h5><p><strong>çº¢é»‘æ ‘ç‰¹ç‚¹</strong> :</p>
<ol>
<li>æ¯ä¸ªèŠ‚ç‚¹éçº¢å³é»‘ï¼›</li>
<li>æ ¹èŠ‚ç‚¹æ€»æ˜¯é»‘è‰²çš„ï¼›</li>
<li>æ¯ä¸ªå¶å­èŠ‚ç‚¹éƒ½æ˜¯é»‘è‰²çš„ç©ºèŠ‚ç‚¹ï¼ˆNILèŠ‚ç‚¹ï¼‰ï¼›</li>
<li>å¦‚æœèŠ‚ç‚¹æ˜¯çº¢è‰²çš„ï¼Œåˆ™å®ƒçš„å­èŠ‚ç‚¹å¿…é¡»æ˜¯é»‘è‰²çš„ï¼ˆåä¹‹ä¸ä¸€å®šï¼‰ï¼›</li>
<li>ä»æ ¹èŠ‚ç‚¹åˆ°å¶èŠ‚ç‚¹æˆ–ç©ºå­èŠ‚ç‚¹çš„æ¯æ¡è·¯å¾„ï¼Œå¿…é¡»åŒ…å«ç›¸åŒæ•°ç›®çš„é»‘è‰²èŠ‚ç‚¹ï¼ˆå³ç›¸åŒçš„é»‘è‰²é«˜åº¦ï¼‰ã€‚</li>
</ol>
<p><strong>çº¢é»‘æ ‘çš„åº”ç”¨</strong> ï¼šTreeMapã€TreeSetä»¥åŠJDK1.8çš„HashMapåº•å±‚éƒ½ç”¨åˆ°äº†çº¢é»‘æ ‘ã€‚</p>
<h4 id="äºŒå‰æ ‘çš„å­˜å‚¨"><a href="#äºŒå‰æ ‘çš„å­˜å‚¨" class="headerlink" title="äºŒå‰æ ‘çš„å­˜å‚¨"></a>äºŒå‰æ ‘çš„å­˜å‚¨</h4><p>äºŒå‰æ ‘çš„å­˜å‚¨ä¸»è¦åˆ†ä¸º <strong>é“¾å¼å­˜å‚¨</strong> å’Œ <strong>é¡ºåºå­˜å‚¨</strong> ä¸¤ç§ï¼š</p>
<h5 id="é“¾å¼å­˜å‚¨"><a href="#é“¾å¼å­˜å‚¨" class="headerlink" title="é“¾å¼å­˜å‚¨"></a>é“¾å¼å­˜å‚¨</h5><p>å’Œé“¾è¡¨ç±»ä¼¼ï¼ŒäºŒå‰æ ‘çš„é“¾å¼å­˜å‚¨ä¾é æŒ‡é’ˆå°†å„ä¸ªèŠ‚ç‚¹ä¸²è”èµ·æ¥ï¼Œä¸éœ€è¦è¿ç»­çš„å­˜å‚¨ç©ºé—´ã€‚</p>
<p>æ¯ä¸ªèŠ‚ç‚¹åŒ…æ‹¬ä¸‰ä¸ªå±æ€§ï¼š</p>
<ul>
<li>æ•°æ® dataã€‚data ä¸ä¸€å®šæ˜¯å•ä¸€çš„æ•°æ®ï¼Œæ ¹æ®ä¸åŒæƒ…å†µï¼Œå¯ä»¥æ˜¯å¤šä¸ªå…·æœ‰ä¸åŒç±»å‹çš„æ•°æ®ã€‚</li>
<li>å·¦èŠ‚ç‚¹æŒ‡é’ˆ left</li>
<li>å³èŠ‚ç‚¹æŒ‡é’ˆ rightã€‚</li>
</ul>
<p>å¯æ˜¯ JAVA æ²¡æœ‰æŒ‡é’ˆå•Šï¼</p>
<p>é‚£å°±ç›´æ¥å¼•ç”¨å¯¹è±¡å‘—ï¼ˆåˆ«é—®æˆ‘å¯¹è±¡å“ªé‡Œæ‰¾ï¼‰</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/%E9%93%BE%E5%BC%8F%E5%AD%98%E5%82%A8%E4%BA%8C%E5%8F%89%E6%A0%91.8dfe7691-167316200832249.png" alt="img"></p>
<h5 id="é¡ºåºå­˜å‚¨"><a href="#é¡ºåºå­˜å‚¨" class="headerlink" title="é¡ºåºå­˜å‚¨"></a>é¡ºåºå­˜å‚¨</h5><p>é¡ºåºå­˜å‚¨å°±æ˜¯åˆ©ç”¨æ•°ç»„è¿›è¡Œå­˜å‚¨ï¼Œæ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªä½ç½®ä»…å­˜å‚¨èŠ‚ç‚¹çš„ dataï¼Œä¸å­˜å‚¨å·¦å³å­èŠ‚ç‚¹çš„æŒ‡é’ˆï¼Œå­èŠ‚ç‚¹çš„ç´¢å¼•é€šè¿‡æ•°ç»„ä¸‹æ ‡å®Œæˆã€‚æ ¹ç»“ç‚¹çš„åºå·ä¸º 1ï¼Œå¯¹äºæ¯ä¸ªèŠ‚ç‚¹ Nodeï¼Œå‡è®¾å®ƒå­˜å‚¨åœ¨æ•°ç»„ä¸­ä¸‹æ ‡ä¸º i çš„ä½ç½®ï¼Œé‚£ä¹ˆå®ƒçš„å·¦å­èŠ‚ç‚¹å°±å­˜å‚¨åœ¨ 2i çš„ä½ç½®ï¼Œå®ƒçš„å³å­èŠ‚ç‚¹å­˜å‚¨åœ¨ä¸‹æ ‡ä¸º 2i+1 çš„ä½ç½®ã€‚</p>
<p>ä¸€æ£µå®Œå…¨äºŒå‰æ ‘çš„æ•°ç»„é¡ºåºå­˜å‚¨å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/%E9%A1%BA%E5%BA%8F%E5%AD%98%E5%82%A8.ec1113ca-167316205444751.png" alt="img"></p>
<p>å¤§å®¶å¯ä»¥è¯•ç€å¡«å†™ä¸€ä¸‹å­˜å‚¨å¦‚ä¸‹äºŒå‰æ ‘çš„æ•°ç»„ï¼Œæ¯”è¾ƒä¸€ä¸‹å’Œå®Œå…¨äºŒå‰æ ‘çš„é¡ºåºå­˜å‚¨æœ‰ä½•åŒºåˆ«ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/%E9%A1%BA%E5%BA%8F%E5%AD%98%E5%82%A82.941d44fb-167316207616953.png" alt="img"></p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œå¦‚æœæˆ‘ä»¬è¦å­˜å‚¨çš„äºŒå‰æ ‘ä¸æ˜¯å®Œå…¨äºŒå‰æ ‘ï¼Œåœ¨æ•°ç»„ä¸­å°±ä¼šå‡ºç°ç©ºéš™ï¼Œå¯¼è‡´å†…å­˜åˆ©ç”¨ç‡é™ä½</p>
<h4 id="äºŒå‰æ ‘çš„éå†"><a href="#äºŒå‰æ ‘çš„éå†" class="headerlink" title="äºŒå‰æ ‘çš„éå†"></a>äºŒå‰æ ‘çš„éå†</h4><h5 id="å…ˆåºéå†"><a href="#å…ˆåºéå†" class="headerlink" title="å…ˆåºéå†"></a>å…ˆåºéå†</h5><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/%E5%85%88%E5%BA%8F%E9%81%8D%E5%8E%86.05f522c6-167316229473255.png" alt="img"></p>
<p>äºŒå‰æ ‘çš„å…ˆåºéå†ï¼Œå°±æ˜¯å…ˆè¾“å‡ºæ ¹ç»“ç‚¹ï¼Œå†éå†å·¦å­æ ‘ï¼Œæœ€åéå†å³å­æ ‘ï¼Œéå†å·¦å­æ ‘å’Œå³å­æ ‘çš„æ—¶å€™ï¼ŒåŒæ ·éµå¾ªå…ˆåºéå†çš„è§„åˆ™ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å¯ä»¥é€’å½’å®ç°å…ˆåºéå†ã€‚</p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">preOrder</span><span class="params">(TreeNode root)</span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(root == <span class="literal">null</span>)&#123;</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	system.out.println(root.data);</span><br><span class="line">	preOrder(root.left);</span><br><span class="line">	preOrder(root.right);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="ä¸­åºéå†"><a href="#ä¸­åºéå†" class="headerlink" title="ä¸­åºéå†"></a>ä¸­åºéå†</h5><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/%E4%B8%AD%E5%BA%8F%E9%81%8D%E5%8E%86.bf6eff45-167316232208857.png" alt="img"></p>
<p>äºŒå‰æ ‘çš„ä¸­åºéå†ï¼Œå°±æ˜¯å…ˆé€’å½’ä¸­åºéå†å·¦å­æ ‘ï¼Œå†è¾“å‡ºæ ¹ç»“ç‚¹çš„å€¼ï¼Œå†é€’å½’ä¸­åºéå†å³å­æ ‘ï¼Œå¤§å®¶å¯ä»¥æƒ³è±¡æˆä¸€å·´æŒæŠŠæ ‘å‹æ‰ï¼Œçˆ¶ç»“ç‚¹è¢«æ‹åˆ°äº†å·¦å­èŠ‚ç‚¹å’Œå³å­èŠ‚ç‚¹çš„ä¸­é—´ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAmwAAAB3CAMAAACJxexmAAAAvVBMVEX/////5swAAADfqifkuUz94sLjsz7ZngfnuVDYnAH47dD368v73rX316Pv2JvrzX/qyXLpvVv04rW9qpfVwKr58dr21qDz0JDyzovsz4Xxy4PtxXHtxG/lvlnltkfgsDbfrjDcpRnaohHvyHv047jvx3kPDgyEd2nJtaFUTEPfybHdqCLdqCGol4bmz7ifj3+xn4364cjEsJzt1r6ShHQhHho5NC7vyXx0aFzz28JoXlNgV0333sVHQDksKCOI7NlCAAAHdElEQVR42uzYyW6DUAyF4Vi+Q7jMSM0AAZIAu7z/81VtHKmqlGbAmxr/W3y+FRISq0fFWWGOJx9FkT8dTZHFqydTWbrMC4e987g+7NLEAoBN0t1hjd7tw9dDlZcsM8MfOV7KrYXf2W15wfzj+0blRcrc8GjO5QbutSnPZrweqrw0mRuuHA7wdwO66nqs8pJkbjgYrOFxNRr6Qqu8FJkdzn0Dz9X4nDYqL0LmhkPfJfBsSdfTG6yyfJkdzqIJXmmKMlqqLFxmhwtM4bVSLGirsmiZHW6dhVezrqW1yoJldtis4Z3WhvYqi5V5YQLnkSoLldnhlsB3yJYMlUXK7HDh4P1cQYrKAmV2OEM7Q7SYkaOyOJkdjqMU5pRG4d6vQJV/FP8/ObDD/QTzmvobpbIsmR3OO5hbl5OlsiiZHQ4+mS0mPpCmsiCZHzYNzK8xN05lOTI7XCFwhBV5KouR+WFXs4i1u4EqS5HZ4RGBJxxJVFmIzA+bgUkczIpSWYb8yc699LgJQ1EA1qVv9TmCvqQu2i7Mo40NIaAQSP7/z2pNwly66blSTxcZ5SyqrL5azmFsAzN0+P13YeX78mtcN/lByHz47R1NvLu/oXKTH4LMhx99oIkfHi3DvMkPQabDL38ILz+Xu3c3+QHIfPjzHVG8+7wM9CZfv8yHn36Uv2VILym84HzUGzVQntIlWcOVxafrNDxZB16JhiMX21U4sqaq830oJuOY7bBPd2O5D5kRfvbk71OQ3KcLsBRPnulQkZwlmj5jyrJJ1vE8WfVSNBw5WWdgyuKPF7ZUF8g2OE8uGSsL/PKRoLJpjhMiH+kf6UJylqxTM2RcNizjlLPaCgiQQdmYcu3u3VMlUDbDvtcBu8wAv3mOy6YZkfhcX8tU2VI2NxFkXDYsw7RndScgQAZlI8rerWDnoWyGz13rj7PftRh+9wWX7eh9VYRTJCsgftE3zpGcnWVfpXmUC4qsZRuzJcKQNbvLyi8aihzR4n+MeYxy7qWd5/kAZSscIjdOy6ccw48/4bKVEjPEIu+B+EmfdyA5i7JOR82TZQNGCmR8PcdUZDmajfDHvI1w0C3WhGQjPLg4y9q7k0D462tD2fQrdEB8/XUZqsq4bPGH5pYg47JhGaWK87oHVzKQUdmocmxYJ3Pa2I8MyUa4Xu1cp8PvNBD+9spctsGwmXj1bRlqlPEymv1OfYgtHoQha9nK9JJWSLJ+d3kBrmQgo7JR5VE3mDbZCOe6JlvhZ08sZdPpyKwnZ5UtBwSXihBkLZumZsiabp4EN/9LlRNNx5F12U9FA2WFOSVW+IXYy9YZVrsXy1BVtpStH0QIMi4blvF8dCIHXahZcqJxFBn8iIDyC1ziTfywd+dUELaXTRodNr1sSeevo2yX3VoaK3Er2zy3h+QcVtm0HQO1bMf2d7JNXJR25LKN1SWNEOUmDjVtWx/nYksv2+6cIET5FEdML5suo/ay2fZsevxwwtyzreUjQQanUYKcJqscCDI4IBDkcnUlb0IILWfPpgeErK7rPpYNwvbTaBPBUain0VL/E0eQQdkI8pis4pprOI3GUnQNXJtUNsJ1ogWbXPwMYft9tjziKfk+m26ETtdwn21K/kh9DffZCr29X+qUIxnDrdOn5Ye5eAg2PUE4hRD2nZ7JeU8QohzyY6T35CcIfb4kZcgKd+mc+Yu7hicIMkZ53PrtUS8QIJsnI+lq357hpEKw6dmoJhPus1GN8+Rno5qcJ5fK1WBJAjIsG0/2pn2myma4j6CmQjB+6wPceWW99VH8g4zKRpPb80h1RQ0EGZSNIBed/SUxlTHclvfurotlA7D9fTbX71rRMN9n6/rcE2RQNoIcdCcBNkBIxmUjyjIckjkumGQ7HNzsdps4GxWC9YBri/1EfpN/sXcvKw0DUQCGR2ZyM21zofc2veqqCFWEbnz/5xIXSdEipnUGeib//wAfIZtscs65J/l1eHw/Dj9ayme4zX/hL2+tHzmcPNjr/Ac7snzZMixz6gdZ6nSV3eHA5oMvSBY+3SlpblTipDay0Il4iTsokKXu+hC4XQdZ6hYjZU72t3sheyFbhOVuRBQpl/Jkiy9D8K5XZKE7dSVusUaWui1c4n5+ZKF3ECReHkGWeuFF4k0lZKG3q5Ra7+2dXkP2SrYAW79WmdaUINmjq6A2ZGewBxd+kYVeUhZ5uxxZ6I14par4ZjCuGgXZQ9kBbOJbQdMYyF7KDmAT/xdE9lR2AFdhcLUXhJWqQ/ZWdgDnun8l2Ne5qkP2WHYAD5L9VeBzMlB1yF7LDuB0veq19nqrdarqkD2XXcBZtGgJLqJMNSH7LzuAH42et/Dm2jyqOuROyC7gMtSnP7yTDkvVJEPeI/+Q7wMuza4Y/8qNi515Uk3IXZJdwKNMH4pJcKEFk+Kgs5FqQu6a7AROZ2Gk4+W03wu+qF5/uox1FM5SdQ65k7IbOB3kZrONkiSJthuTD75pyF2WL2EiIiIiIiIiIiIiIiIiIiIiIiIiIqLP9uCQAAAAAEDQ/9feMAAAAAAAAAAAAAAAAABMBfY0qSsCu1c0AAAAAElFTkSuQmCC" alt="img"></p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">inOrder</span><span class="params">(TreeNode root)</span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(root == <span class="literal">null</span>)&#123;</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	inOrder(root.left);</span><br><span class="line">	system.out.println(root.data);</span><br><span class="line">	inOrder(root.right);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="ååºéå†"><a href="#ååºéå†" class="headerlink" title="ååºéå†"></a>ååºéå†</h5><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/%E5%90%8E%E5%BA%8F%E9%81%8D%E5%8E%86.7b5edc1b-167316235599759.png" alt="img"></p>
<p>äºŒå‰æ ‘çš„ååºéå†ï¼Œå°±æ˜¯å…ˆé€’å½’ååºéå†å·¦å­æ ‘ï¼Œå†é€’å½’ååºéå†å³å­æ ‘ï¼Œæœ€åè¾“å‡ºæ ¹ç»“ç‚¹çš„å€¼</p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">postOrder</span><span class="params">(TreeNode root)</span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(root == <span class="literal">null</span>)&#123;</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	postOrder(root.left);</span><br><span class="line">	postOrder(root.right);</span><br><span class="line">	system.out.println(root.data);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="1ã€LC102-äºŒå‰æ ‘çš„å±‚åºéå†"><a href="#1ã€LC102-äºŒå‰æ ‘çš„å±‚åºéå†" class="headerlink" title="1ã€LC102. äºŒå‰æ ‘çš„å±‚åºéå†"></a>1ã€LC102. äºŒå‰æ ‘çš„å±‚åºéå†</h4><p>ç»™ä½ äºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ <code>root</code> ï¼Œè¿”å›å…¶èŠ‚ç‚¹å€¼çš„ <strong>å±‚åºéå†</strong> ã€‚ ï¼ˆå³é€å±‚åœ°ï¼Œä»å·¦åˆ°å³è®¿é—®æ‰€æœ‰èŠ‚ç‚¹ï¼‰ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/tree1.jpg" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šroot = [3,9,20,null,null,15,7]</span><br><span class="line">è¾“å‡ºï¼š[[3],[9,20],[15,7]]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šroot = [1]</span><br><span class="line">è¾“å‡ºï¼š[[1]]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šroot = []</span><br><span class="line">è¾“å‡ºï¼š[]</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li>æ ‘ä¸­èŠ‚ç‚¹æ•°ç›®åœ¨èŒƒå›´ <code>[0, 2000]</code> å†…</li>
<li><code>-1000 &lt;= Node.val &lt;= 1000</code></li>
</ul>
<p>Related Topics</p>
<p>æ ‘</p>
<p>å¹¿åº¦ä¼˜å…ˆæœç´¢</p>
<p>äºŒå‰æ ‘</p>
<p>ğŸ‘ 1545</p>
<p>ğŸ‘ 0</p>
<p><strong>æ ‡å‡†çš„äºŒå‰æ ‘BFSä»£ç </strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; <span class="title function_">levelOrder</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        List&lt;List&lt;Integer&gt;&gt; res = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> res;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        Queue&lt;TreeNode&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        queue.offer(root);</span><br><span class="line">        <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">            LinkedList&lt;Integer&gt; list = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">            <span class="type">int</span> <span class="variable">size</span> <span class="operator">=</span> queue.size();</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">                <span class="type">TreeNode</span> <span class="variable">poll</span> <span class="operator">=</span> queue.poll();</span><br><span class="line">                list.add(poll.val);</span><br><span class="line">                <span class="keyword">if</span> (poll.left != <span class="literal">null</span>) &#123;</span><br><span class="line">                    queue.offer(poll.left);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (poll.right != <span class="literal">null</span>) &#123;</span><br><span class="line">                    queue.offer(poll.right);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            res.add(list);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼šæ¯ä¸ªç‚¹è¿›é˜Ÿå‡ºé˜Ÿå„ä¸€æ¬¡ï¼Œæ•…æ¸è¿›æ—¶é—´å¤æ‚åº¦ä¸º O(n)ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼šé˜Ÿåˆ—ä¸­å…ƒç´ çš„ä¸ªæ•°ä¸è¶…è¿‡ n<em>n</em> ä¸ªï¼Œæ•…æ¸è¿›ç©ºé—´å¤æ‚åº¦ä¸º O(n)ã€‚</li>
</ul>
<h4 id="2ã€LC103-äºŒå‰æ ‘çš„é”¯é½¿å½¢å±‚åºéå†"><a href="#2ã€LC103-äºŒå‰æ ‘çš„é”¯é½¿å½¢å±‚åºéå†" class="headerlink" title="2ã€LC103. äºŒå‰æ ‘çš„é”¯é½¿å½¢å±‚åºéå†"></a>2ã€LC103. äºŒå‰æ ‘çš„é”¯é½¿å½¢å±‚åºéå†</h4><p>ç»™ä½ äºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ <code>root</code> ï¼Œè¿”å›å…¶èŠ‚ç‚¹å€¼çš„ <strong>é”¯é½¿å½¢å±‚åºéå†</strong> ã€‚ï¼ˆå³å…ˆä»å·¦å¾€å³ï¼Œå†ä»å³å¾€å·¦è¿›è¡Œä¸‹ä¸€å±‚éå†ï¼Œä»¥æ­¤ç±»æ¨ï¼Œå±‚ä¸å±‚ä¹‹é—´äº¤æ›¿è¿›è¡Œï¼‰ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/tree1-16738636562974.jpg" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šroot = [3,9,20,null,null,15,7]</span><br><span class="line">è¾“å‡ºï¼š[[3],[20,9],[15,7]]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šroot = [1]</span><br><span class="line">è¾“å‡ºï¼š[[1]]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šroot = []</span><br><span class="line">è¾“å‡ºï¼š[]</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li>æ ‘ä¸­èŠ‚ç‚¹æ•°ç›®åœ¨èŒƒå›´ <code>[0, 2000]</code> å†…</li>
<li><code>-100 &lt;= Node.val &lt;= 100</code></li>
</ul>
<p>Related Topics</p>
<p>æ ‘</p>
<p>å¹¿åº¦ä¼˜å…ˆæœç´¢</p>
<p>äºŒå‰æ ‘</p>
<p>ğŸ‘ 728</p>
<p>ğŸ‘ 0</p>
<h5 id="æ–¹æ³•ä¸€ï¼šBFSæ”¹å†™"><a href="#æ–¹æ³•ä¸€ï¼šBFSæ”¹å†™" class="headerlink" title="æ–¹æ³•ä¸€ï¼šBFSæ”¹å†™"></a>æ–¹æ³•ä¸€ï¼šBFSæ”¹å†™</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; <span class="title function_">zigzagLevelOrder</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        List&lt;List&lt;Integer&gt;&gt; res = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> res;</span><br><span class="line">        &#125;</span><br><span class="line">        Queue&lt;TreeNode&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">order</span> <span class="operator">=</span> <span class="literal">true</span>; <span class="comment">// é¡ºåºï¼Œ true ä»å·¦åˆ°å³ï¼Œ false ä»å³åˆ°å·¦</span></span><br><span class="line">        queue.add(root);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// BFSçš„æ”¹å†™</span></span><br><span class="line">        <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> queue.size();</span><br><span class="line">            List&lt;Integer&gt; list = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">                <span class="type">TreeNode</span> <span class="variable">tmp</span> <span class="operator">=</span> queue.poll();</span><br><span class="line">                list.add(tmp.val);</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (tmp.left != <span class="literal">null</span>) &#123;</span><br><span class="line">                    queue.add(tmp.left);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (tmp.right != <span class="literal">null</span>) &#123;</span><br><span class="line">                    queue.add(tmp.right);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (order) &#123;</span><br><span class="line">                res.add(list);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                Collections.reverse(list);</span><br><span class="line">                res.add(list);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            order = !order; <span class="comment">// ä¸‹ä¸€å±‚åè½¬</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong></p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼šO*(*N)ï¼Œå…¶ä¸­ <em>N</em> ä¸ºäºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°ã€‚æ¯ä¸ªèŠ‚ç‚¹ä¼šä¸”ä»…ä¼šè¢«éå†ä¸€æ¬¡ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼šO*(*N)ã€‚æˆ‘ä»¬éœ€è¦ç»´æŠ¤å­˜å‚¨èŠ‚ç‚¹çš„é˜Ÿåˆ—ï¼Œç©ºé—´å¤æ‚åº¦ä¸º <em>O</em>(<em>N</em>)ã€‚</li>
</ul>
<h4 id="3ã€LC236-äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ"><a href="#3ã€LC236-äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ" class="headerlink" title="3ã€LC236. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ"></a>3ã€LC236. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ</h4><p>ç»™å®šä¸€ä¸ªäºŒå‰æ ‘, æ‰¾åˆ°è¯¥æ ‘ä¸­ä¸¤ä¸ªæŒ‡å®šèŠ‚ç‚¹çš„æœ€è¿‘å…¬å…±ç¥–å…ˆã€‚</p>
<p><a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E6%9C%80%E8%BF%91%E5%85%AC%E5%85%B1%E7%A5%96%E5%85%88/8918834?fr=aladdin">ç™¾åº¦ç™¾ç§‘</a>ä¸­æœ€è¿‘å…¬å…±ç¥–å…ˆçš„å®šä¹‰ä¸ºï¼šâ€œå¯¹äºæœ‰æ ¹æ ‘ T çš„ä¸¤ä¸ªèŠ‚ç‚¹ pã€qï¼Œæœ€è¿‘å…¬å…±ç¥–å…ˆè¡¨ç¤ºä¸ºä¸€ä¸ªèŠ‚ç‚¹ xï¼Œæ»¡è¶³ x æ˜¯ pã€q çš„ç¥–å…ˆä¸” x çš„æ·±åº¦å°½å¯èƒ½å¤§ï¼ˆ<strong>ä¸€ä¸ªèŠ‚ç‚¹ä¹Ÿå¯ä»¥æ˜¯å®ƒè‡ªå·±çš„ç¥–å…ˆ</strong>ï¼‰ã€‚â€</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/binarytree-16739521829921.png" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šroot = [3,5,1,6,2,0,8,null,null,7,4], p = 5, q = 1</span><br><span class="line">è¾“å‡ºï¼š3</span><br><span class="line">è§£é‡Šï¼šèŠ‚ç‚¹ 5 å’ŒèŠ‚ç‚¹ 1 çš„æœ€è¿‘å…¬å…±ç¥–å…ˆæ˜¯èŠ‚ç‚¹ 3 ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/binarytree-16739521829921.png" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šroot = [3,5,1,6,2,0,8,null,null,7,4], p = 5, q = 4</span><br><span class="line">è¾“å‡ºï¼š5</span><br><span class="line">è§£é‡Šï¼šèŠ‚ç‚¹ 5 å’ŒèŠ‚ç‚¹ 4 çš„æœ€è¿‘å…¬å…±ç¥–å…ˆæ˜¯èŠ‚ç‚¹ 5 ã€‚å› ä¸ºæ ¹æ®å®šä¹‰æœ€è¿‘å…¬å…±ç¥–å…ˆèŠ‚ç‚¹å¯ä»¥ä¸ºèŠ‚ç‚¹æœ¬èº«ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šroot = [1,2], p = 1, q = 2</span><br><span class="line">è¾“å‡ºï¼š1</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li>æ ‘ä¸­èŠ‚ç‚¹æ•°ç›®åœ¨èŒƒå›´ <code>[2, 105]</code> å†…ã€‚</li>
<li><code>-109 &lt;= Node.val &lt;= 109</code></li>
<li>æ‰€æœ‰ <code>Node.val</code> <code>äº’ä¸ç›¸åŒ</code> ã€‚</li>
<li><code>p != q</code></li>
<li><code>p</code> å’Œ <code>q</code> å‡å­˜åœ¨äºç»™å®šçš„äºŒå‰æ ‘ä¸­ã€‚</li>
</ul>
<p>Related Topics</p>
<p>æ ‘</p>
<p>æ·±åº¦ä¼˜å…ˆæœç´¢</p>
<p>äºŒå‰æ ‘</p>
<p>ğŸ‘ 2100</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p><strong>ç¥–å…ˆçš„å®šä¹‰ï¼š</strong> è‹¥èŠ‚ç‚¹ <em>p</em> åœ¨èŠ‚ç‚¹ root çš„å·¦ï¼ˆå³ï¼‰å­æ ‘ä¸­ï¼Œæˆ– p*&#x3D;*root ï¼Œåˆ™ç§° root æ˜¯ <em>p</em> çš„ç¥–å…ˆã€‚</p>
<p><strong>æœ€è¿‘å…¬å…±ç¥–å…ˆçš„å®šä¹‰ï¼š</strong> è®¾èŠ‚ç‚¹ root ä¸ºèŠ‚ç‚¹ p*,<em>q çš„æŸå…¬å…±ç¥–å…ˆï¼Œè‹¥å…¶å·¦å­èŠ‚ç‚¹ root.left å’Œå³å­èŠ‚ç‚¹ root.right éƒ½ä¸æ˜¯ p</em>,*q çš„å…¬å…±ç¥–å…ˆï¼Œåˆ™ç§° root æ˜¯ â€œæœ€è¿‘çš„å…¬å…±ç¥–å…ˆâ€ ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1599885247-rxcHcZ-Picture1.png" alt="Picture1.png"></p>
<p>æ ¹æ®ä»¥ä¸Šå®šä¹‰ï¼Œè‹¥ root æ˜¯ p*,<em>q</em> çš„ <strong>æœ€è¿‘å…¬å…±ç¥–å…ˆ</strong> ï¼Œåˆ™åªå¯èƒ½ä¸ºä»¥ä¸‹æƒ…å†µä¹‹ä¸€ï¼š</p>
<ol>
<li><em>p</em> å’Œ <em>q</em> åœ¨ root çš„å­æ ‘ä¸­ï¼Œä¸”åˆ†åˆ— root çš„ <strong>å¼‚ä¾§</strong>ï¼ˆå³åˆ†åˆ«åœ¨å·¦ã€å³å­æ ‘ä¸­ï¼‰ï¼›</li>
<li>p&#x3D;root ï¼Œä¸” <em>q</em> åœ¨ root çš„å·¦æˆ–å³å­æ ‘ä¸­ï¼›</li>
<li>q&#x3D;root ï¼Œä¸” <em>p</em> åœ¨ root çš„å·¦æˆ–å³å­æ ‘ä¸­ï¼›</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1599885247-mgYjRv-Picture2.png" alt="Picture2.png"></p>
<p>è€ƒè™‘é€šè¿‡é€’å½’å¯¹äºŒå‰æ ‘è¿›è¡Œå…ˆåºéå†ï¼Œå½“é‡åˆ°èŠ‚ç‚¹ <em>p</em> æˆ– q æ—¶è¿”å›ã€‚ä»åº•è‡³é¡¶å›æº¯ï¼Œå½“èŠ‚ç‚¹ p*,*q åœ¨èŠ‚ç‚¹ root çš„å¼‚ä¾§æ—¶ï¼ŒèŠ‚ç‚¹ root å³ä¸ºæœ€è¿‘å…¬å…±ç¥–å…ˆï¼Œåˆ™å‘ä¸Šè¿”å› root ã€‚</p>
<p><strong>é€’å½’è§£æ</strong>ï¼š</p>
<ol>
<li><p>ç»ˆæ­¢æ¡ä»¶ï¼š</p>
<ol>
<li>å½“è¶Šè¿‡å¶èŠ‚ç‚¹ï¼Œåˆ™ç›´æ¥è¿”å› null ï¼›</li>
<li>å½“ root ç­‰äº p*,<em>q</em> ï¼Œåˆ™ç›´æ¥è¿”å› root ï¼›</li>
</ol>
</li>
<li><p>é€’æ¨å·¥ä½œï¼š</p>
<ol>
<li>å¼€å¯é€’å½’å·¦å­èŠ‚ç‚¹ï¼Œè¿”å›å€¼è®°ä¸º left ï¼›</li>
<li>å¼€å¯é€’å½’å³å­èŠ‚ç‚¹ï¼Œè¿”å›å€¼è®°ä¸º right ï¼›</li>
</ol>
</li>
<li><p>è¿”å›å€¼ï¼šæ ¹æ® left å’Œ right ï¼Œå¯å±•å¼€ä¸ºå››ç§æƒ…å†µï¼›</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/image-20230117184910897.png" alt="image-20230117184910897"></p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> TreeNode <span class="title function_">lowestCommonAncestor</span><span class="params">(TreeNode root, TreeNode p, TreeNode q)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(root == <span class="literal">null</span> || root == q || root == p) &#123; <span class="comment">// ç»ˆæ­¢æ¡ä»¶</span></span><br><span class="line">            <span class="keyword">return</span> root;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">left</span> <span class="operator">=</span> lowestCommonAncestor(root.left, p, q);</span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">right</span> <span class="operator">=</span> lowestCommonAncestor(root.right, p, q);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (left != <span class="literal">null</span> &amp;&amp; right != <span class="literal">null</span>) &#123; <span class="comment">// æƒ…å†µ1ï¼Œp qåˆ†åˆ«ä½äºä¸¤ä¾§</span></span><br><span class="line">            <span class="keyword">return</span> root;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (left == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> right; <span class="comment">// æƒ…å†µ2ï¼Œp q ä½äºå³ä¾§ï¼Œ æˆ–è€…ä¸€ä¸ªä½äºå³ä¾§</span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (right == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> left; <span class="comment">// æƒ…å†µ3ï¼Œp q ä½äºå·¦ä¾§ï¼Œæˆ–è€…ä¸€ä¸ªä½äºå·¦ä¾§ </span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>; <span class="comment">// æƒ…å†µ4ï¼Œè¯¥èŠ‚ç‚¹çš„å­èŠ‚ç‚¹ä¸å«p q è¿”å› null</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>å¤æ‚åº¦åˆ†æ</strong></p>
<ul>
<li><strong>æ—¶é—´å¤æ‚åº¦ O(N) ï¼š</strong> å…¶ä¸­ <em>N</em> ä¸ºäºŒå‰æ ‘èŠ‚ç‚¹æ•°ï¼›æœ€å·®æƒ…å†µä¸‹ï¼Œéœ€è¦é€’å½’éå†æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹ã€‚</li>
<li><strong>ç©ºé—´å¤æ‚åº¦ O(N) ï¼š</strong> æœ€å·®æƒ…å†µä¸‹ï¼Œé€’å½’æ·±åº¦è¾¾åˆ° N ï¼Œç³»ç»Ÿä½¿ç”¨ O*(*N) å¤§å°çš„é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<h4 id="4ã€LC124-äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ"><a href="#4ã€LC124-äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ" class="headerlink" title="4ã€LC124. äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ"></a>4ã€LC124. äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ</h4><p><strong>è·¯å¾„</strong> è¢«å®šä¹‰ä¸ºä¸€æ¡ä»æ ‘ä¸­ä»»æ„èŠ‚ç‚¹å‡ºå‘ï¼Œæ²¿çˆ¶èŠ‚ç‚¹-å­èŠ‚ç‚¹è¿æ¥ï¼Œè¾¾åˆ°ä»»æ„èŠ‚ç‚¹çš„åºåˆ—ã€‚åŒä¸€ä¸ªèŠ‚ç‚¹åœ¨ä¸€æ¡è·¯å¾„åºåˆ—ä¸­ <strong>è‡³å¤šå‡ºç°ä¸€æ¬¡</strong> ã€‚è¯¥è·¯å¾„ <strong>è‡³å°‘åŒ…å«ä¸€ä¸ª</strong> èŠ‚ç‚¹ï¼Œä¸”ä¸ä¸€å®šç»è¿‡æ ¹èŠ‚ç‚¹ã€‚</p>
<p><strong>è·¯å¾„å’Œ</strong> æ˜¯è·¯å¾„ä¸­å„èŠ‚ç‚¹å€¼çš„æ€»å’Œã€‚</p>
<p>ç»™ä½ ä¸€ä¸ªäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ <code>root</code> ï¼Œè¿”å›å…¶ <strong>æœ€å¤§è·¯å¾„å’Œ</strong> ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/exx1.jpg" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šroot = [1,2,3]</span><br><span class="line">è¾“å‡ºï¼š6</span><br><span class="line">è§£é‡Šï¼šæœ€ä¼˜è·¯å¾„æ˜¯ 2 -&gt; 1 -&gt; 3 ï¼Œè·¯å¾„å’Œä¸º 2 + 1 + 3 = 6</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/exx2.jpg" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šroot = [-10,9,20,null,null,15,7]</span><br><span class="line">è¾“å‡ºï¼š42</span><br><span class="line">è§£é‡Šï¼šæœ€ä¼˜è·¯å¾„æ˜¯ 15 -&gt; 20 -&gt; 7 ï¼Œè·¯å¾„å’Œä¸º 15 + 20 + 7 = 42</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li>æ ‘ä¸­èŠ‚ç‚¹æ•°ç›®èŒƒå›´æ˜¯ <code>[1, 3 * 104]</code></li>
<li><code>-1000 &lt;= Node.val &lt;= 1000</code></li>
</ul>
<p>Related Topics</p>
<p>æ ‘</p>
<p>æ·±åº¦ä¼˜å…ˆæœç´¢</p>
<p>åŠ¨æ€è§„åˆ’</p>
<p>äºŒå‰æ ‘</p>
<p>ğŸ‘ 1834</p>
<p>ğŸ‘ 0</p>
<p><strong>æ€è·¯</strong></p>
<ul>
<li>è·¯å¾„æ¯åˆ°ä¸€ä¸ªèŠ‚ç‚¹ï¼Œæœ‰ 3 ç§é€‰æ‹©ï¼š1. åœåœ¨å½“å‰èŠ‚ç‚¹ã€‚2. èµ°åˆ°å·¦å­èŠ‚ç‚¹ã€‚3. èµ°åˆ°å³å­èŠ‚ç‚¹ã€‚</li>
<li>èµ°åˆ°å­èŠ‚ç‚¹ï¼Œåˆé¢ä¸´è¿™ 3 ç§é€‰æ‹©ï¼Œ<strong>é€’å½’é€‚åˆå¤„ç†è¿™ç§è§„æ¨¡ä¸åŒçš„åŒä¸€é—®é¢˜</strong>ã€‚</li>
<li><strong>æ³¨æ„</strong>ï¼Œä¸èƒ½èµ°è¿›ä¸€ä¸ªåˆ†æ”¯åˆæ‰å¤´å›æ¥èµ°å¦ä¸€ä¸ªåˆ†æ”¯ï¼Œè·¯å¾„ä¼šé‡å ï¼Œä¸ç¬¦åˆé¢˜ç›®è¦æ±‚ã€‚</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/9e5f5aee5b5138fdc54eb050860c99462bdf6ee4ed422854370ddc475a5e333e-image.png" alt="image.png"></p>
<p><strong>å®šä¹‰é€’å½’å‡½æ•°</strong></p>
<ul>
<li>å¯¹äºä¸€ä¸ªçˆ¶èŠ‚ç‚¹ï¼Œå®ƒå…³å¿ƒè‡ªå·±èµ°å…¥ä¸€ä¸ªå­æ ‘ï¼Œä»ä¸­æå–çš„æœ€å¤§æ”¶ç›Šï¼Œä¸å…³å¿ƒå…·ä½“æ€ä¹ˆèµ°ã€‚</li>
<li>å®šä¹‰dfså‡½æ•°ï¼šè¿”å›å½“å‰å­æ ‘èƒ½å‘çˆ¶èŠ‚ç‚¹â€œ<strong>æä¾›</strong>â€çš„æœ€å¤§è·¯å¾„å’Œã€‚å³ï¼Œä¸€æ¡<strong>ä»çˆ¶èŠ‚ç‚¹å»¶ä¼¸ä¸‹æ¥çš„è·¯å¾„</strong>ï¼Œèƒ½åœ¨å½“å‰å­æ ‘ä¸­æå–çš„æœ€å¤§æ”¶ç›Šã€‚åˆ†ä¸‰ç§æƒ…å†µï¼š<ol>
<li>è·¯å¾„åœåœ¨å½“å‰å­æ ‘çš„æ ¹èŠ‚ç‚¹ï¼Œåœ¨å½“å‰å­æ ‘çš„æœ€å¤§æ”¶ç›Šï¼š<code>root.val</code></li>
<li>èµ°å…¥å·¦å­æ ‘ï¼Œåœ¨å½“å‰å­æ ‘çš„æœ€å¤§æ”¶ç›Šï¼š<code>root.val + dfs(root.left)</code></li>
<li>èµ°å…¥å³å­æ ‘ï¼Œåœ¨å½“å‰å­æ ‘çš„æœ€å¤§æ”¶ç›Šï¼š<code>root.val + dfs(root.right)</code></li>
</ol>
</li>
<li>è¿™å¯¹åº”äº†å‰é¢æ‰€è¯´çš„ä¸‰ç§é€‰æ‹©ï¼Œæœ€å¤§æ”¶ç›Šå–ä¸‰è€…æœ€å¤§ï¼š<code>root.val+max(0, dfs(root.left), dfs(root.right))</code></li>
<li><strong>å†æ¬¡æé†’</strong>: ä¸€æ¡ä»çˆ¶èŠ‚ç‚¹å»¶ä¼¸ä¸‹æ¥çš„è·¯å¾„ï¼Œä¸èƒ½èµ°å…¥å·¦å­æ ‘åˆæ‰å¤´èµ°å³å­æ ‘ï¼Œ<strong>ä¸èƒ½ä¸¤å¤´æ”¶ç›Š</strong>ã€‚</li>
<li>å½“éå†åˆ°<code>null</code>èŠ‚ç‚¹æ—¶ï¼Œnull å­æ ‘æä¾›ä¸äº†æ”¶ç›Šï¼Œè¿”å› 0ã€‚</li>
<li><strong>å¦‚æœæŸä¸ªå­æ ‘ dfs ç»“æœä¸ºè´Ÿ</strong>ï¼Œèµ°å…¥å®ƒï¼Œæ”¶ç›Šä¸å¢åå‡ï¼Œè¯¥å­æ ‘å°±æ²¡ç”¨ï¼Œéœ€æœç»èµ°å…¥ï¼Œåƒå¯¹å¾… null ä¸€æ ·è®©å®ƒè¿”å› 0ï¼ˆå£®å£«æ–­è…•ï¼‰ã€‚</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/514872d02158bbf8b5c60afd3afc3c5b2be597af31d9ab2ffd3add8e2db91c36-image.png" alt="image.png"></p>
<p><strong>å­æ ‘ä¸­çš„å†…éƒ¨è·¯å¾„è¦åŒ…å«æ ¹èŠ‚ç‚¹</strong></p>
<ul>
<li>é¢˜æ„å¯çŸ¥ï¼Œæœ€å¤§è·¯å¾„å’Œï¼Œæ˜¯å¯èƒ½äº§ç”Ÿäºå…¶ä¸­ä¸€ä¸ªå­æ ‘ä¸­çš„ï¼Œå°±å¥½æ¯”ä¸‹å›¾å·¦ä¸€ã€‚</li>
<li>æ‰€ä»¥æ¯é€’å½’ä¸€ä¸ªå­æ ‘ï¼Œéƒ½æ±‚ä¸€ä¸‹å½“å‰å­æ ‘å†…éƒ¨çš„æœ€å¤§è·¯å¾„å’Œï¼Œè§ä¸‹å›¾å³ä¸€çš„ç»¿å­—ï¼Œä»ä¸­æ¯”è¾ƒå‡ºæœ€å¤§çš„ã€‚</li>
<li><strong>æ³¨æ„</strong>: ä¸€ä¸ªå­æ ‘å†…éƒ¨çš„è·¯å¾„ï¼Œè¦åŒ…å«å½“å‰å­æ ‘çš„æ ¹èŠ‚ç‚¹ã€‚å¦‚æœä¸åŒ…å«ï¼Œé‚£è¿˜ç®—ä»€ä¹ˆå±äºå½“å‰å­æ ‘çš„è·¯å¾„ï¼Œé‚£å°±æ˜¯å½“å‰å­æ ‘çš„å­æ ‘çš„å†…éƒ¨è·¯å¾„äº†ã€‚</li>
<li>æ‰€ä»¥ï¼Œ<strong>ä¸€ä¸ªå­æ ‘å†…éƒ¨çš„æœ€å¤§è·¯å¾„å’Œ</strong> &#x3D; å·¦å­æ ‘<strong>æä¾›</strong>çš„æœ€å¤§è·¯å¾„å’Œ + æ ¹èŠ‚ç‚¹å€¼ + å³å­æ ‘<strong>æä¾›</strong>çš„æœ€å¤§è·¯å¾„å’Œã€‚å³<code>dfs(root.left)+root.val+dfs(root.right)</code></li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/11183fd31f145655dc6d730e5355e60117c1248881b674af6e5108caf0bee312-image.png" alt="image.png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> Integer.MIN_VALUE;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxPathSum</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        dfs(root);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å‡½æ•°åŠŸèƒ½ï¼šè¿”å›å½“å‰èŠ‚ç‚¹èƒ½ä¸ºçˆ¶äº²æä¾›çš„è´¡çŒ®</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">dfs</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        <span class="comment">// å¦‚æœå½“å‰èŠ‚ç‚¹ä¸ºå¶å­èŠ‚ç‚¹ï¼Œé‚£ä¹ˆå¯¹çˆ¶äº²è´¡çŒ®ä¸º 0</span></span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å¦‚æœä¸æ˜¯å¶å­èŠ‚ç‚¹ï¼Œè®¡ç®—å½“å‰èŠ‚ç‚¹çš„å·¦å³å­©å­å¯¹è‡ªèº«çš„è´¡çŒ®leftå’Œright</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> dfs(root.left);</span><br><span class="line">        <span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> dfs(root.right);</span><br><span class="line">        <span class="comment">// æ›´æ–°æœ€å¤§å€¼ï¼Œå°±æ˜¯å½“å‰èŠ‚ç‚¹çš„val åŠ ä¸Šå·¦å³èŠ‚ç‚¹çš„è´¡çŒ®</span></span><br><span class="line">        res = Math.max(res, root.val + left + right);</span><br><span class="line">        <span class="comment">// è®¡ç®—å½“å‰èŠ‚ç‚¹èƒ½ä¸ºçˆ¶äº²æä¾›çš„æœ€å¤§è´¡çŒ®ï¼Œå¿…é¡»æ˜¯æŠŠ val åŠ ä¸Š</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">max</span> <span class="operator">=</span> Math.max(root.val + left, root.val + right);</span><br><span class="line">        <span class="comment">// å¦‚æœè´¡çŒ®å°äº0çš„è¯ï¼Œç›´æ¥è¿”å›0å³å¯</span></span><br><span class="line">        <span class="keyword">return</span> max &lt; <span class="number">0</span> ? <span class="number">0</span> : max;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ <em>O</em>(<em>N</em>)ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½è¦éå†ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦æ˜¯ O*(*H)ï¼Œé€’å½’æ ‘çš„æ·±åº¦ã€‚</li>
</ul>
<h4 id="5ã€LC94-äºŒå‰æ ‘çš„ä¸­åºéå†"><a href="#5ã€LC94-äºŒå‰æ ‘çš„ä¸­åºéå†" class="headerlink" title="5ã€LC94. äºŒå‰æ ‘çš„ä¸­åºéå†"></a>5ã€LC94. äºŒå‰æ ‘çš„ä¸­åºéå†</h4><p>ç»™å®šä¸€ä¸ªäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ <code>root</code> ï¼Œè¿”å› <em>å®ƒçš„ <strong>ä¸­åº</strong> éå†</em> ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/inorder_1.jpg" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šroot = [1,null,2,3]</span><br><span class="line">è¾“å‡ºï¼š[1,3,2]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šroot = []</span><br><span class="line">è¾“å‡ºï¼š[]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šroot = [1]</span><br><span class="line">è¾“å‡ºï¼š[1]</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li>æ ‘ä¸­èŠ‚ç‚¹æ•°ç›®åœ¨èŒƒå›´ <code>[0, 100]</code> å†…</li>
<li><code>-100 &lt;= Node.val &lt;= 100</code></li>
</ul>
<p><strong>è¿›é˜¶:</strong> é€’å½’ç®—æ³•å¾ˆç®€å•ï¼Œä½ å¯ä»¥é€šè¿‡è¿­ä»£ç®—æ³•å®Œæˆå—ï¼Ÿ</p>
<p>Related Topics</p>
<p>æ ˆ</p>
<p>æ ‘</p>
<p>æ·±åº¦ä¼˜å…ˆæœç´¢</p>
<p>äºŒå‰æ ‘</p>
<p>ğŸ‘ 1672</p>
<p>ğŸ‘ 0</p>
<h5 id="è§£æ³•ä¸€ï¼šé€’å½’"><a href="#è§£æ³•ä¸€ï¼šé€’å½’" class="headerlink" title="è§£æ³•ä¸€ï¼šé€’å½’"></a>è§£æ³•ä¸€ï¼šé€’å½’</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    List&lt;Integer&gt; res;</span><br><span class="line">    <span class="keyword">public</span> List&lt;Integer&gt; <span class="title function_">inorderTraversal</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        res = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        inorder(root);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">inorder</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        inorder(root.left); <span class="comment">// å·¦</span></span><br><span class="line">        res.add(root.val); <span class="comment">// ä¸­</span></span><br><span class="line">        inorder(root.right); <span class="comment">// å³</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼šO*(*n)</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼šO*(*h)ï¼Œâ„æ˜¯æ ‘çš„é«˜åº¦</li>
</ul>
<h5 id="æ–¹æ³•äºŒï¼šè¿­ä»£"><a href="#æ–¹æ³•äºŒï¼šè¿­ä»£" class="headerlink" title="æ–¹æ³•äºŒï¼šè¿­ä»£"></a>æ–¹æ³•äºŒï¼šè¿­ä»£</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;Integer&gt; <span class="title function_">inorderTraversal</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        List&lt;Integer&gt; res = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        Stack&lt;TreeNode&gt; stack = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">while</span> (stack.size() &gt; <span class="number">0</span> || root != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="comment">// ä¸æ–­å¾€å·¦å­æ ‘æ–¹å‘èµ°ï¼Œæ¯èµ°ä¸€æ¬¡å°±å°†å½“å‰èŠ‚ç‚¹ä¿å­˜åˆ°æ ˆä¸­</span></span><br><span class="line">            <span class="keyword">if</span> (root != <span class="literal">null</span>) &#123; <span class="comment">// å·¦</span></span><br><span class="line">                stack.push(root);</span><br><span class="line">                root = root.left;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// å½“å‰èŠ‚ç‚¹ä¸ºç©ºï¼Œè¯´æ˜å·¦è¾¹èµ°åˆ°å¤´äº†ï¼Œä»æ ˆä¸­å¼¹å‡ºèŠ‚ç‚¹å¹¶ä¿å­˜</span></span><br><span class="line">            <span class="comment">// ç„¶åè½¬å‘å³è¾¹èŠ‚ç‚¹ï¼Œç»§ç»­ä¸Šé¢æ•´ä¸ªè¿‡ç¨‹</span></span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="type">TreeNode</span> <span class="variable">tmp</span> <span class="operator">=</span> stack.pop();</span><br><span class="line">                res.add(tmp.val); <span class="comment">// ä¸­</span></span><br><span class="line">                root = tmp.right; <span class="comment">// å³</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼šO*(*n)</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼šO*(*h)ï¼Œâ„æ˜¯æ ‘çš„é«˜åº¦</li>
</ul>
<h4 id="6ã€LC199-äºŒå‰æ ‘çš„å³è§†å›¾"><a href="#6ã€LC199-äºŒå‰æ ‘çš„å³è§†å›¾" class="headerlink" title="6ã€LC199. äºŒå‰æ ‘çš„å³è§†å›¾"></a>6ã€LC199. äºŒå‰æ ‘çš„å³è§†å›¾</h4><p>ç»™å®šä¸€ä¸ªäºŒå‰æ ‘çš„ <strong>æ ¹èŠ‚ç‚¹</strong> <code>root</code>ï¼Œæƒ³è±¡è‡ªå·±ç«™åœ¨å®ƒçš„å³ä¾§ï¼ŒæŒ‰ç…§ä»é¡¶éƒ¨åˆ°åº•éƒ¨çš„é¡ºåºï¼Œè¿”å›ä»å³ä¾§æ‰€èƒ½çœ‹åˆ°çš„èŠ‚ç‚¹å€¼ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/tree-16754748205881.jpg" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: [1,2,3,null,5,null,4]</span><br><span class="line">è¾“å‡º: [1,3,4]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: [1,null,3]</span><br><span class="line">è¾“å‡º: [1,3]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: []</span><br><span class="line">è¾“å‡º: []</span><br></pre></td></tr></table></figure>



<p><strong>æç¤º:</strong></p>
<ul>
<li>äºŒå‰æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°çš„èŒƒå›´æ˜¯ <code>[0,100]</code></li>
<li><code>-100 &lt;= Node.val &lt;= 100</code></li>
</ul>
<p>Related Topics</p>
<p>æ ‘</p>
<p>æ·±åº¦ä¼˜å…ˆæœç´¢</p>
<p>å¹¿åº¦ä¼˜å…ˆæœç´¢</p>
<p>äºŒå‰æ ‘</p>
<p>ğŸ‘ 806</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>åˆ©ç”¨ BFSï¼Œ åªéœ€è¦åœ¨é‡åˆ°æ¯ä¸€å±‚çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹æ—¶åŠ å…¥ç»“æœé›†ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;Integer&gt; <span class="title function_">rightSideView</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        List&lt;Integer&gt; res = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        Queue&lt;TreeNode&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> res;</span><br><span class="line">        &#125;</span><br><span class="line">        queue.add(root);</span><br><span class="line">        <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> queue.size();</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">                <span class="type">TreeNode</span> <span class="variable">tmp</span> <span class="operator">=</span> queue.poll();</span><br><span class="line">                <span class="keyword">if</span> (tmp.left != <span class="literal">null</span>) &#123;</span><br><span class="line">                    queue.add(tmp.left);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (tmp.right != <span class="literal">null</span>) &#123;</span><br><span class="line">                    queue.add(tmp.right);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (i == len - <span class="number">1</span>) &#123;</span><br><span class="line">                    res.add(tmp.val);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦O(N)</li>
<li>ç©ºé—´å¤æ‚åº¦O(N)</li>
</ul>
<h3 id="å“ˆå¸Œè¡¨-1"><a href="#å“ˆå¸Œè¡¨-1" class="headerlink" title="#å“ˆå¸Œè¡¨"></a>#å“ˆå¸Œè¡¨</h3><h4 id="1ã€LC2283-åˆ¤æ–­ä¸€ä¸ªæ•°çš„æ•°å­—è®¡æ•°æ˜¯å¦ç­‰äºæ•°ä½çš„å€¼"><a href="#1ã€LC2283-åˆ¤æ–­ä¸€ä¸ªæ•°çš„æ•°å­—è®¡æ•°æ˜¯å¦ç­‰äºæ•°ä½çš„å€¼" class="headerlink" title="1ã€LC2283. åˆ¤æ–­ä¸€ä¸ªæ•°çš„æ•°å­—è®¡æ•°æ˜¯å¦ç­‰äºæ•°ä½çš„å€¼"></a>1ã€LC2283. åˆ¤æ–­ä¸€ä¸ªæ•°çš„æ•°å­—è®¡æ•°æ˜¯å¦ç­‰äºæ•°ä½çš„å€¼</h4><p>ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» <strong>0</strong> å¼€å§‹é•¿åº¦ä¸º <code>n</code> çš„å­—ç¬¦ä¸² <code>num</code> ï¼Œå®ƒåªåŒ…å«æ•°å­—ã€‚</p>
<p>å¦‚æœå¯¹äº <strong>æ¯ä¸ª</strong> <code>0 &lt;= i &lt; n</code> çš„ä¸‹æ ‡ <code>i</code> ï¼Œéƒ½æ»¡è¶³æ•°ä½ <code>i</code> åœ¨ <code>num</code> ä¸­å‡ºç°äº† <code>num[i]</code>æ¬¡ï¼Œé‚£ä¹ˆè¯·ä½ è¿”å› <code>true</code> ï¼Œå¦åˆ™è¿”å› <code>false</code> ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnum = &quot;1210&quot;</span><br><span class="line">è¾“å‡ºï¼štrue</span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">num[0] = &#x27;1&#x27; ã€‚æ•°å­— 0 åœ¨ num ä¸­å‡ºç°äº†ä¸€æ¬¡ã€‚</span><br><span class="line">num[1] = &#x27;2&#x27; ã€‚æ•°å­— 1 åœ¨ num ä¸­å‡ºç°äº†ä¸¤æ¬¡ã€‚</span><br><span class="line">num[2] = &#x27;1&#x27; ã€‚æ•°å­— 2 åœ¨ num ä¸­å‡ºç°äº†ä¸€æ¬¡ã€‚</span><br><span class="line">num[3] = &#x27;0&#x27; ã€‚æ•°å­— 3 åœ¨ num ä¸­å‡ºç°äº†é›¶æ¬¡ã€‚</span><br><span class="line">&quot;1210&quot; æ»¡è¶³é¢˜ç›®è¦æ±‚æ¡ä»¶ï¼Œæ‰€ä»¥è¿”å› true ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnum = &quot;030&quot;</span><br><span class="line">è¾“å‡ºï¼šfalse</span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">num[0] = &#x27;0&#x27; ã€‚æ•°å­— 0 åº”è¯¥å‡ºç° 0 æ¬¡ï¼Œä½†æ˜¯åœ¨ num ä¸­å‡ºç°äº†ä¸€æ¬¡ã€‚</span><br><span class="line">num[1] = &#x27;3&#x27; ã€‚æ•°å­— 1 åº”è¯¥å‡ºç° 3 æ¬¡ï¼Œä½†æ˜¯åœ¨ num ä¸­å‡ºç°äº†é›¶æ¬¡ã€‚</span><br><span class="line">num[2] = &#x27;0&#x27; ã€‚æ•°å­— 2 åœ¨ num ä¸­å‡ºç°äº† 0 æ¬¡ã€‚</span><br><span class="line">ä¸‹æ ‡ 0 å’Œ 1 éƒ½è¿åäº†é¢˜ç›®è¦æ±‚ï¼Œæ‰€ä»¥è¿”å› false ã€‚</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>n == num.length</code></li>
<li><code>1 &lt;= n &lt;= 10</code></li>
<li><code>num</code> åªåŒ…å«æ•°å­—ã€‚</li>
</ul>
<p>Related Topics</p>
<p>å“ˆå¸Œè¡¨</p>
<p>å­—ç¬¦ä¸²</p>
<p>è®¡æ•°</p>
<p>ğŸ‘ 30</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>ç”¨æ•°ç»„æ¨¡æ‹Ÿå“ˆå¸Œè¡¨è®°å½• <strong>æ•°å­—åœ¨ nums å‡ºç°çš„æ¬¡æ•°</strong>ï¼Œæœ€åä¸€ä¸€æ¯”è¾ƒã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">digitCount</span><span class="params">(String num)</span> &#123;</span><br><span class="line">        <span class="type">int</span>[] map = <span class="keyword">new</span> <span class="title class_">int</span>[num.length()];</span><br><span class="line">        <span class="type">char</span>[] chars = num.toCharArray();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">char</span> c : chars) &#123; <span class="comment">// ç»Ÿè®¡æ•°å­—åœ¨numå‡ºç°çš„æ¬¡æ•°</span></span><br><span class="line">            <span class="keyword">if</span> (c - <span class="string">&#x27;0&#x27;</span> &lt; map.length) &#123;</span><br><span class="line">                map[c - <span class="string">&#x27;0&#x27;</span>]++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; map.length; i++) &#123; <span class="comment">// é€ä¸€åˆ¤æ–­</span></span><br><span class="line">            <span class="keyword">if</span> (map[i] + <span class="string">&#x27;0&#x27;</span> != chars[i]) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦O(n)</li>
<li>ç©ºé—´å¤æ‚åº¦O(n)</li>
</ul>
<h4 id="2ã€LC1814-ç»Ÿè®¡ä¸€ä¸ªæ•°ç»„ä¸­å¥½å¯¹å­çš„æ•°ç›®"><a href="#2ã€LC1814-ç»Ÿè®¡ä¸€ä¸ªæ•°ç»„ä¸­å¥½å¯¹å­çš„æ•°ç›®" class="headerlink" title="2ã€LC1814. ç»Ÿè®¡ä¸€ä¸ªæ•°ç»„ä¸­å¥½å¯¹å­çš„æ•°ç›®"></a>2ã€LC1814. ç»Ÿè®¡ä¸€ä¸ªæ•°ç»„ä¸­å¥½å¯¹å­çš„æ•°ç›®</h4><p>ç»™ä½ ä¸€ä¸ªæ•°ç»„ <code>nums</code> ï¼Œæ•°ç»„ä¸­åªåŒ…å«éè´Ÿæ•´æ•°ã€‚å®šä¹‰ <code>rev(x)</code> çš„å€¼ä¸ºå°†æ•´æ•° <code>x</code> å„ä¸ªæ•°å­—ä½åè½¬å¾—åˆ°çš„ç»“æœã€‚æ¯”æ–¹è¯´ <code>rev(123) = 321</code> ï¼Œ <code>rev(120) = 21</code> ã€‚æˆ‘ä»¬ç§°æ»¡è¶³ä¸‹é¢æ¡ä»¶çš„ä¸‹æ ‡å¯¹ <code>(i, j)</code> æ˜¯ <strong>å¥½çš„</strong> ï¼š</p>
<ul>
<li><code>0 &lt;= i &lt; j &lt; nums.length</code></li>
<li><code>nums[i] + rev(nums[j]) == nums[j] + rev(nums[i])</code></li>
</ul>
<p>è¯·ä½ è¿”å›å¥½ä¸‹æ ‡å¯¹çš„æ•°ç›®ã€‚ç”±äºç»“æœå¯èƒ½ä¼šå¾ˆå¤§ï¼Œè¯·å°†ç»“æœå¯¹ <code>109 + 7</code> <strong>å–ä½™</strong> åè¿”å›ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [42,11,1,97]</span><br><span class="line">è¾“å‡ºï¼š2</span><br><span class="line">è§£é‡Šï¼šä¸¤ä¸ªåæ ‡å¯¹ä¸ºï¼š</span><br><span class="line"> - (0,3)ï¼š42 + rev(97) = 42 + 79 = 121, 97 + rev(42) = 97 + 24 = 121 ã€‚</span><br><span class="line"> - (1,2)ï¼š11 + rev(1) = 11 + 1 = 12, 1 + rev(11) = 1 + 11 = 12 ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [13,10,35,24,76]</span><br><span class="line">è¾“å‡ºï¼š4</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= nums.length &lt;= 105</code></li>
<li><code>0 &lt;= nums[i] &lt;= 109</code></li>
</ul>
<p>Related Topics</p>
<p>æ•°ç»„</p>
<p>å“ˆå¸Œè¡¨</p>
<p>æ•°å­¦</p>
<p>è®¡æ•°</p>
<p>ğŸ‘ 63</p>
<p>ğŸ‘ 0</p>
<h5 id="è§£æ³•ä¸€ï¼šå“ˆå¸Œè¡¨-åŒ–ç®€"><a href="#è§£æ³•ä¸€ï¼šå“ˆå¸Œè¡¨-åŒ–ç®€" class="headerlink" title="è§£æ³•ä¸€ï¼šå“ˆå¸Œè¡¨+åŒ–ç®€"></a>è§£æ³•ä¸€ï¼šå“ˆå¸Œè¡¨+åŒ–ç®€</h5><p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>å¯¹äºä¸‹æ ‡å¯¹ (<em>i</em>,<em>j</em>)ï¼Œå¦‚æœæ»¡è¶³æ¡ä»¶ï¼Œé‚£ä¹ˆæœ‰ nums*[<em>i</em>]+<em>rev</em>(<em>nums</em>[<em>j</em>])&#x3D;<em>nums</em>[<em>j</em>]+<em>rev</em>(<em>nums</em>[<em>i</em>])ï¼Œå³ nums*[<em>i</em>]âˆ’<em>rev</em>(<em>nums</em>[<em>i</em>])&#x3D;<em>nums</em>[<em>j</em>]âˆ’<em>rev</em>(<em>nums</em>[<em>j</em>])ã€‚</p>
<p>å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å°† nums*[<em>i</em>]âˆ’<em>rev</em>(<em>nums</em>[*i]) ä½œä¸ºå“ˆå¸Œè¡¨çš„é”®ï¼Œç»Ÿè®¡æ¯ä¸ªé”®å‡ºç°çš„æ¬¡æ•°ã€‚æœ€åè®¡ç®—æ¯ä¸ªé”®å¯¹åº”çš„å€¼çš„ç»„åˆæ•°ï¼Œç›¸åŠ å¾—åˆ°æœ€ç»ˆçš„ç­”æ¡ˆã€‚</p>
<p>æ³¨æ„ç­”æ¡ˆçš„å–æ¨¡æ“ä½œã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">MOD</span> <span class="operator">=</span> (<span class="type">int</span>) <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">countNicePairs</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        Map&lt;Integer, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> num : nums) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">revNum</span> <span class="operator">=</span> rev(num); <span class="comment">// é€†åºæ•°å­—</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">key</span> <span class="operator">=</span> num - revNum; <span class="comment">// nums[i] - rev(nums[i])</span></span><br><span class="line">            map.put(key, map.getOrDefault(key, <span class="number">0</span>) + <span class="number">1</span>); <span class="comment">// æ”¾å…¥å“ˆå¸Œè¡¨</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ç»Ÿè®¡</span></span><br><span class="line">        <span class="type">long</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (Integer value : map.values()) &#123;</span><br><span class="line">            <span class="keyword">if</span> (value == <span class="number">0</span> || value == <span class="number">1</span>) &#123; <span class="comment">// æ²¡æœ‰ç›¸åŒçš„ç»„åˆ</span></span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            res = (res + (<span class="type">long</span>) value * (value - <span class="number">1</span>) / <span class="number">2</span>) % MOD;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> (<span class="type">int</span>) res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åè½¬æ•°å­—</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">rev</span><span class="params">(<span class="type">int</span> num)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (num &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            res = res * <span class="number">10</span> + num % <span class="number">10</span>;</span><br><span class="line">            num /= <span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ <em>O</em>(<em>n</em>Ã—log<em>M</em>)ï¼Œå…¶ä¸­ n å’Œ M åˆ†åˆ«æ˜¯æ•°ç»„ <code>nums</code> çš„é•¿åº¦å’Œæ•°ç»„ <code>nums</code> ä¸­çš„æœ€å¤§å€¼ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O*(*n)ã€‚</li>
</ul>
<h4 id="3ã€LC1817-æŸ¥æ‰¾ç”¨æˆ·æ´»è·ƒåˆ†é’Ÿæ•°"><a href="#3ã€LC1817-æŸ¥æ‰¾ç”¨æˆ·æ´»è·ƒåˆ†é’Ÿæ•°" class="headerlink" title="3ã€LC1817. æŸ¥æ‰¾ç”¨æˆ·æ´»è·ƒåˆ†é’Ÿæ•°"></a>3ã€LC1817. æŸ¥æ‰¾ç”¨æˆ·æ´»è·ƒåˆ†é’Ÿæ•°</h4><p>ç»™ä½ ç”¨æˆ·åœ¨ LeetCode çš„æ“ä½œæ—¥å¿—ï¼Œå’Œä¸€ä¸ªæ•´æ•° <code>k</code> ã€‚æ—¥å¿—ç”¨ä¸€ä¸ªäºŒç»´æ•´æ•°æ•°ç»„ <code>logs</code> è¡¨ç¤ºï¼Œå…¶ä¸­æ¯ä¸ª <code>logs[i] = [IDi, timei]</code> è¡¨ç¤º ID ä¸º <code>IDi</code> çš„ç”¨æˆ·åœ¨ <code>timei</code> åˆ†é’Ÿæ—¶æ‰§è¡Œäº†æŸä¸ªæ“ä½œã€‚</p>
<p><strong>å¤šä¸ªç”¨æˆ·</strong> å¯ä»¥åŒæ—¶æ‰§è¡Œæ“ä½œï¼Œå•ä¸ªç”¨æˆ·å¯ä»¥åœ¨åŒä¸€åˆ†é’Ÿå†…æ‰§è¡Œ <strong>å¤šä¸ªæ“ä½œ</strong> ã€‚</p>
<p>æŒ‡å®šç”¨æˆ·çš„ <strong>ç”¨æˆ·æ´»è·ƒåˆ†é’Ÿæ•°ï¼ˆuser active minutesï¼ŒUAMï¼‰</strong> å®šä¹‰ä¸ºç”¨æˆ·å¯¹ LeetCode æ‰§è¡Œæ“ä½œçš„ <strong>å”¯ä¸€åˆ†é’Ÿæ•°</strong> ã€‚ å³ä½¿ä¸€åˆ†é’Ÿå†…æ‰§è¡Œå¤šä¸ªæ“ä½œï¼Œä¹Ÿåªèƒ½æŒ‰ä¸€åˆ†é’Ÿè®¡æ•°ã€‚</p>
<p>è¯·ä½ ç»Ÿè®¡ç”¨æˆ·æ´»è·ƒåˆ†é’Ÿæ•°çš„åˆ†å¸ƒæƒ…å†µï¼Œç»Ÿè®¡ç»“æœæ˜¯ä¸€ä¸ªé•¿åº¦ä¸º <code>k</code> ä¸” <strong>ä¸‹æ ‡ä» 1 å¼€å§‹è®¡æ•°</strong> çš„æ•°ç»„ <code>answer</code> ï¼Œå¯¹äºæ¯ä¸ª <code>j</code>ï¼ˆ<code>1 &lt;= j &lt;= k</code>ï¼‰ï¼Œ<code>answer[j]</code> è¡¨ç¤º <strong>ç”¨æˆ·æ´»è·ƒåˆ†é’Ÿæ•°</strong> ç­‰äº <code>j</code> çš„ç”¨æˆ·æ•°ã€‚</p>
<p>è¿”å›ä¸Šé¢æè¿°çš„ç­”æ¡ˆæ•°ç»„ <code>answer</code> ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šlogs = [[0,5],[1,2],[0,2],[0,5],[1,3]], k = 5</span><br><span class="line">è¾“å‡ºï¼š[0,2,0,0,0]</span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">ID=0 çš„ç”¨æˆ·æ‰§è¡Œæ“ä½œçš„åˆ†é’Ÿåˆ†åˆ«æ˜¯ï¼š5 ã€2 å’Œ 5 ã€‚å› æ­¤ï¼Œè¯¥ç”¨æˆ·çš„ç”¨æˆ·æ´»è·ƒåˆ†é’Ÿæ•°ä¸º 2ï¼ˆåˆ†é’Ÿ 5 åªè®¡æ•°ä¸€æ¬¡ï¼‰</span><br><span class="line">ID=1 çš„ç”¨æˆ·æ‰§è¡Œæ“ä½œçš„åˆ†é’Ÿåˆ†åˆ«æ˜¯ï¼š2 å’Œ 3 ã€‚å› æ­¤ï¼Œè¯¥ç”¨æˆ·çš„ç”¨æˆ·æ´»è·ƒåˆ†é’Ÿæ•°ä¸º 2</span><br><span class="line">2 ä¸ªç”¨æˆ·çš„ç”¨æˆ·æ´»è·ƒåˆ†é’Ÿæ•°éƒ½æ˜¯ 2 ï¼Œanswer[2] ä¸º 2 ï¼Œå…¶ä½™ answer[j] çš„å€¼éƒ½æ˜¯ 0</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šlogs = [[1,1],[2,2],[2,3]], k = 4</span><br><span class="line">è¾“å‡ºï¼š[1,1,0,0]</span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">ID=1 çš„ç”¨æˆ·ä»…åœ¨åˆ†é’Ÿ 1 æ‰§è¡Œå•ä¸ªæ“ä½œã€‚å› æ­¤ï¼Œè¯¥ç”¨æˆ·çš„ç”¨æˆ·æ´»è·ƒåˆ†é’Ÿæ•°ä¸º 1</span><br><span class="line">ID=2 çš„ç”¨æˆ·æ‰§è¡Œæ“ä½œçš„åˆ†é’Ÿåˆ†åˆ«æ˜¯ï¼š2 å’Œ 3 ã€‚å› æ­¤ï¼Œè¯¥ç”¨æˆ·çš„ç”¨æˆ·æ´»è·ƒåˆ†é’Ÿæ•°ä¸º 2</span><br><span class="line">1 ä¸ªç”¨æˆ·çš„ç”¨æˆ·æ´»è·ƒåˆ†é’Ÿæ•°æ˜¯ 1 ï¼Œ1 ä¸ªç”¨æˆ·çš„ç”¨æˆ·æ´»è·ƒåˆ†é’Ÿæ•°æ˜¯ 2 </span><br><span class="line">å› æ­¤ï¼Œanswer[1] = 1 ï¼Œanswer[2] = 1 ï¼Œå…¶ä½™çš„å€¼éƒ½æ˜¯ 0</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= logs.length &lt;= 104</code></li>
<li><code>0 &lt;= IDi &lt;= 109</code></li>
<li><code>1 &lt;= timei &lt;= 105</code></li>
<li><code>k</code> çš„å–å€¼èŒƒå›´æ˜¯ <code>[ç”¨æˆ·çš„æœ€å¤§ç”¨æˆ·æ´»è·ƒåˆ†é’Ÿæ•°, 105]</code></li>
</ul>
<p>Related Topics</p>
<p>æ•°ç»„</p>
<p>å“ˆå¸Œè¡¨</p>
<p>ğŸ‘ 41</p>
<p>ğŸ‘ 0</p>
<p><strong>æ–¹æ³•ä¸€ï¼šå“ˆå¸Œè¡¨</strong></p>
<p>æˆ‘ä»¬ç”¨å“ˆå¸Œè¡¨ MAP è®°å½•æ¯ä¸ªç”¨æˆ·çš„æ‰€æœ‰å»é‡æ“ä½œæ—¶é—´ï¼Œç„¶åéå†å“ˆå¸Œè¡¨ï¼Œç»Ÿè®¡æ¯ä¸ªç”¨æˆ·çš„ç”¨æˆ·æ´»è·ƒåˆ†é’Ÿæ•°ï¼Œæœ€åç»Ÿè®¡æ¯ä¸ªç”¨æˆ·æ´»è·ƒåˆ†é’Ÿæ•°çš„åˆ†å¸ƒæƒ…å†µã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[] findingUsersActiveMinutes(<span class="type">int</span>[][] logs, <span class="type">int</span> k) &#123;</span><br><span class="line">        Map&lt;Integer, Set&lt;Integer&gt;&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;(); <span class="comment">// å»ºç«‹ id å¯¹åº”çš„ time é›†åˆ</span></span><br><span class="line">        <span class="type">int</span>[] res = <span class="keyword">new</span> <span class="title class_">int</span>[k]; <span class="comment">// è¿”å›å€¼ 1~k</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span>[] log : logs) &#123;</span><br><span class="line">            Set&lt;Integer&gt; set = map.getOrDefault(log[<span class="number">0</span>], <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;());</span><br><span class="line">            set.add(log[<span class="number">1</span>]);</span><br><span class="line">            map.put(log[<span class="number">0</span>], set);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (Set&lt;Integer&gt; set : map.values()) &#123; <span class="comment">// ç»Ÿè®¡æ—¶é—´</span></span><br><span class="line">            ++res[set.size() - <span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O*(<em>n</em>+*k)</li>
<li>ç©ºé—´å¤æ‚åº¦ <em>O</em>(<em>n</em>)ã€‚å…¶ä¸­ <em>n</em> ä¸ºæ•°ç»„ <code>logs</code> çš„é•¿åº¦ï¼Œ<em>k</em> æ˜¯é¢˜ç›®ç»™å®šçš„æ•´æ•°ã€‚</li>
</ul>
<h2 id="å…­ã€æœ‰é™çŠ¶æ€è‡ªåŠ¨æœºï¼ˆFSMï¼‰"><a href="#å…­ã€æœ‰é™çŠ¶æ€è‡ªåŠ¨æœºï¼ˆFSMï¼‰" class="headerlink" title="å…­ã€æœ‰é™çŠ¶æ€è‡ªåŠ¨æœºï¼ˆFSMï¼‰"></a>å…­ã€æœ‰é™çŠ¶æ€è‡ªåŠ¨æœºï¼ˆFSMï¼‰</h2><p>â€ƒæœ‰é™çŠ¶æ€æœºï¼ˆFinite State Machine, FSMï¼‰ï¼Œåˆç§°æœ‰é™çŠ¶æ€è‡ªåŠ¨æœºï¼Œç®€ç§°çŠ¶æ€æœºï¼Œæ˜¯æŒ‡åœ¨æœ‰é™ä¸ªçŠ¶æ€ä¹‹é—´æŒ‰ç…§ä¸€å®šè§„å¾‹è½¬æ¢çš„æ—¶åºç”µè·¯ã€‚</p>
<p>ä»€ä¹ˆæ˜¯æœ‰é™çŠ¶æ€è‡ªåŠ¨æœº<br>æ˜¯ä¸€ç§å…·æœ‰ç¦»æ•£è¾“å…¥&#x2F;è¾“å‡ºç³»ç»Ÿçš„æ•°å­¦æ¨¡å‹ï¼Œç®€ç§° æœ‰é™è‡ªåŠ¨æœºã€‚è¿™ä¸€ç³»ç»Ÿå…·æœ‰ä»»æ„æœ‰é™æ•°é‡çš„å†…éƒ¨â€œçŠ¶æ€â€ã€‚</p>
<p>çŠ¶æ€:ä¸€ä¸ªæ ‡è¯†ï¼Œèƒ½åŒºåˆ†è‡ªåŠ¨æœºåœ¨ä¸åŒæ—¶åˆ»çš„çŠ¶å†µã€‚æœ‰é™çŠ¶æ€ç³»ç»Ÿå…·æœ‰ä»»æ„æœ‰é™æ•°ç›®çš„å†…éƒ¨â€œçŠ¶æ€â€</p>
<p>è‡ªåŠ¨æœºæ¥å—ä¸€å®šçš„è¾“å…¥ï¼Œæ‰§è¡Œä¸€å®šçš„åŠ¨ä½œï¼Œäº§ç”Ÿä¸€å®šçš„ç»“æœã€‚</p>
<p>è‡ªåŠ¨æœºçš„æœ¬è´¨:æ ¹æ®çŠ¶æ€ã€è¾“å…¥å’Œè§„åˆ™å†³å®šä¸‹ä¸€ä¸ªçŠ¶æ€</p>
<p>çŠ¶æ€ +è¾“å…¥(æ¿€åŠ±)+è§„åˆ™ . çŠ¶æ€è¿ç§»</p>
<p>å¯èƒ½çš„çŠ¶æ€ã€è¿è¡Œçš„è§„åˆ™éƒ½æ˜¯äº‹å…ˆç¡®å®šçš„ã€‚ä¸€æ—¦å¼€å§‹è¿è¡Œï¼Œå°±æŒ‰ç…§å®ç°ç¡®å®šçš„è§„åˆ™å·¥ä½œï¼Œå› æ­¤å«â€è‡ªåŠ¨æœºâ€ã€‚ä½¿ç”¨çŠ¶æ€è¿ç§»æè¿°æ•´ä¸ªå·¥ä½œè¿‡ç¨‹</p>
<p>æœ‰é™è‡ªåŠ¨æœºç¤ºæ„å›¾:</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/10b29ca6d5e0a9923a58c59041235ab0.png" alt="image-20220409152351649"></p>
<h3 id="6-1ã€åº”ç”¨æœ‰é™è‡ªåŠ¨æœºè§£é¢˜æ­¥éª¤"><a href="#6-1ã€åº”ç”¨æœ‰é™è‡ªåŠ¨æœºè§£é¢˜æ­¥éª¤" class="headerlink" title="6.1ã€åº”ç”¨æœ‰é™è‡ªåŠ¨æœºè§£é¢˜æ­¥éª¤"></a>6.1ã€åº”ç”¨æœ‰é™è‡ªåŠ¨æœºè§£é¢˜æ­¥éª¤</h3><p><strong>1ã€ç¡®å®šè¾“å…¥é›†</strong></p>
<p><strong>2ã€ç»˜åˆ¶çŠ¶æ€è¿ç§»å›¾ï¼ˆç¡®å®šçŠ¶æ€ï¼Œåœ¨æ¯ä¸€ä¸ªçŠ¶æ€ä¸‹å¯¹è¾“å…¥è¿›è¡Œåˆ†ç±»ï¼Œé’ˆå¯¹æ¯ä¸€ç±»è¾“å…¥ï¼Œç¡®å®šä¸‹ä¸€ä¸ªçŠ¶æ€ï¼‰</strong></p>
<p><strong>3ã€ç¡®å®šçŠ¶æ€è½¬ç§»å‡½æ•°ï¼ˆåœ¨æŸçŠ¶æ€ä¸‹ï¼Œæ¥æ”¶åˆ°æŸä¸€å­—ç¬¦åï¼Œè‡ªåŠ¨æœºè¦æ‰§è¡Œçš„æ“ä½œï¼Œä»¥åŠè¿ç§»åˆ°çš„ä¸‹ä¸€çŠ¶æ€ï¼‰</strong></p>
<h3 id="6-2ã€å‰‘æŒ‡-Offer-20-è¡¨ç¤ºæ•°å€¼çš„å­—ç¬¦ä¸²"><a href="#6-2ã€å‰‘æŒ‡-Offer-20-è¡¨ç¤ºæ•°å€¼çš„å­—ç¬¦ä¸²" class="headerlink" title="6.2ã€å‰‘æŒ‡ Offer 20. è¡¨ç¤ºæ•°å€¼çš„å­—ç¬¦ä¸²"></a>6.2ã€å‰‘æŒ‡ Offer 20. è¡¨ç¤ºæ•°å€¼çš„å­—ç¬¦ä¸²</h3><p>è¯·å®ç°ä¸€ä¸ªå‡½æ•°ç”¨æ¥åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦è¡¨ç¤º<strong>æ•°å€¼</strong>ï¼ˆåŒ…æ‹¬æ•´æ•°å’Œå°æ•°ï¼‰ã€‚</p>
<p><strong>æ•°å€¼</strong>ï¼ˆæŒ‰é¡ºåºï¼‰å¯ä»¥åˆ†æˆä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š</p>
<ol>
<li>è‹¥å¹²ç©ºæ ¼</li>
<li>ä¸€ä¸ª <strong>å°æ•°</strong> æˆ–è€… <strong>æ•´æ•°</strong></li>
<li>ï¼ˆå¯é€‰ï¼‰ä¸€ä¸ª <code>&#39;e&#39;</code> æˆ– <code>&#39;E&#39;</code> ï¼Œåé¢è·Ÿç€ä¸€ä¸ª <strong>æ•´æ•°</strong></li>
<li>è‹¥å¹²ç©ºæ ¼</li>
</ol>
<p><strong>å°æ•°</strong>ï¼ˆæŒ‰é¡ºåºï¼‰å¯ä»¥åˆ†æˆä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š</p>
<ol>
<li>ï¼ˆå¯é€‰ï¼‰ä¸€ä¸ªç¬¦å·å­—ç¬¦ï¼ˆ<code>&#39;+&#39;</code> æˆ– <code>&#39;-&#39;</code>ï¼‰</li>
<li>ä¸‹è¿°æ ¼å¼ä¹‹ä¸€ï¼š<ol>
<li>è‡³å°‘ä¸€ä½æ•°å­—ï¼Œåé¢è·Ÿç€ä¸€ä¸ªç‚¹ <code>&#39;.&#39;</code></li>
<li>è‡³å°‘ä¸€ä½æ•°å­—ï¼Œåé¢è·Ÿç€ä¸€ä¸ªç‚¹ <code>&#39;.&#39;</code> ï¼Œåé¢å†è·Ÿç€è‡³å°‘ä¸€ä½æ•°å­—</li>
<li>ä¸€ä¸ªç‚¹ <code>&#39;.&#39;</code> ï¼Œåé¢è·Ÿç€è‡³å°‘ä¸€ä½æ•°å­—</li>
</ol>
</li>
</ol>
<p><strong>æ•´æ•°</strong>ï¼ˆæŒ‰é¡ºåºï¼‰å¯ä»¥åˆ†æˆä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š</p>
<ol>
<li>ï¼ˆå¯é€‰ï¼‰ä¸€ä¸ªç¬¦å·å­—ç¬¦ï¼ˆ<code>&#39;+&#39;</code> æˆ– <code>&#39;-&#39;</code>ï¼‰</li>
<li>è‡³å°‘ä¸€ä½æ•°å­—</li>
</ol>
<p>éƒ¨åˆ†<strong>æ•°å€¼</strong>åˆ—ä¸¾å¦‚ä¸‹ï¼š</p>
<ul>
<li><code>[&quot;+100&quot;, &quot;5e2&quot;, &quot;-123&quot;, &quot;3.1416&quot;, &quot;-1E-16&quot;, &quot;0123&quot;]</code></li>
</ul>
<p>éƒ¨åˆ†<strong>éæ•°å€¼</strong>åˆ—ä¸¾å¦‚ä¸‹ï¼š</p>
<ul>
<li><code>[&quot;12e&quot;, &quot;1a3.14&quot;, &quot;1.2.3&quot;, &quot;+-5&quot;, &quot;12e+5.4&quot;]</code></li>
</ul>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;0&quot;</span><br><span class="line">è¾“å‡ºï¼štrue</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;e&quot;</span><br><span class="line">è¾“å‡ºï¼šfalse</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;.&quot;</span><br><span class="line">è¾“å‡ºï¼šfalse</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 4ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;    .1  &quot;</span><br><span class="line">è¾“å‡ºï¼štrue</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= s.length &lt;= 20</code></li>
<li><code>s</code> ä»…å«è‹±æ–‡å­—æ¯ï¼ˆå¤§å†™å’Œå°å†™ï¼‰ï¼Œæ•°å­—ï¼ˆ<code>0-9</code>ï¼‰ï¼ŒåŠ å· <code>&#39;+&#39;</code> ï¼Œå‡å· <code>&#39;-&#39;</code> ï¼Œç©ºæ ¼ <code>&#39; &#39;</code> æˆ–è€…ç‚¹ <code>&#39;.&#39;</code> ã€‚</li>
</ul>
<p>Related Topics</p>
<p>å­—ç¬¦ä¸²</p>
<hr>
<p>è§£é¢˜æ€è·¯ï¼š<br>æœ¬é¢˜ä½¿ç”¨æœ‰é™çŠ¶æ€è‡ªåŠ¨æœºã€‚æ ¹æ®å­—ç¬¦ç±»å‹å’Œåˆæ³•æ•°å€¼çš„ç‰¹ç‚¹ï¼Œå…ˆå®šä¹‰çŠ¶æ€ï¼Œå†ç”»å‡ºçŠ¶æ€è½¬ç§»å›¾ï¼Œæœ€åç¼–å†™ä»£ç å³å¯ã€‚</p>
<p><strong>å­—ç¬¦ç±»å‹</strong>ï¼š</p>
<p>ç©ºæ ¼ ã€Œ ã€ã€æ•°å­—ã€Œ 0â€”9ã€ ã€æ­£è´Ÿå· ã€Œ +, -ã€ ã€å°æ•°ç‚¹ ã€Œ . ã€ ã€å¹‚ç¬¦å· ã€Œ e, E ã€ ã€‚</p>
<p><strong>çŠ¶æ€å®šä¹‰</strong>ï¼š</p>
<p>æŒ‰ç…§å­—ç¬¦ä¸²ä»å·¦åˆ°å³çš„é¡ºåºï¼Œå®šä¹‰ä»¥ä¸‹ 9 ç§çŠ¶æ€ã€‚</p>
<ol start="0">
<li>å¼€å§‹çš„ç©ºæ ¼</li>
<li>å¹‚ç¬¦å·å‰çš„æ­£è´Ÿå·</li>
<li>å°æ•°ç‚¹å‰çš„æ•°å­—</li>
<li>å°æ•°ç‚¹ã€å°æ•°ç‚¹åçš„æ•°å­—</li>
<li>å½“å°æ•°ç‚¹å‰ä¸ºç©ºæ ¼æ—¶ï¼Œå°æ•°ç‚¹ã€å°æ•°ç‚¹åçš„æ•°å­—</li>
<li>å¹‚ç¬¦å·</li>
<li>å¹‚ç¬¦å·åçš„æ­£è´Ÿå·</li>
<li>å¹‚ç¬¦å·åçš„æ•°å­—</li>
<li>ç»“å°¾çš„ç©ºæ ¼</li>
</ol>
<p><strong>ç»“æŸçŠ¶æ€ï¼š</strong></p>
<p>åˆæ³•çš„ç»“æŸçŠ¶æ€æœ‰ 2, 3, 7, 8 ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.leetcode-cn.com/1599283151-YmPMis-Picture1.png" alt="Picture1.png"></p>
<p><strong>ç®—æ³•æµç¨‹ï¼š</strong></p>
<ol>
<li><strong>åˆå§‹åŒ–ï¼š</strong><ol>
<li>çŠ¶æ€è½¬ç§»è¡¨ states ï¼š è®¾ states[i] ï¼Œå…¶ä¸­ i ä¸ºæ‰€å¤„çŠ¶æ€ï¼Œ states[i] ä½¿ç”¨å“ˆå¸Œè¡¨å­˜å‚¨å¯è½¬ç§»è‡³çš„çŠ¶æ€ã€‚é”®å€¼å¯¹ (key, value) å«ä¹‰ï¼šè¾“å…¥å­—ç¬¦ key ï¼Œåˆ™ä»çŠ¶æ€ i è½¬ç§»è‡³çŠ¶æ€ value ã€‚</li>
<li>å½“å‰çŠ¶æ€ p ï¼š èµ·å§‹çŠ¶æ€åˆå§‹åŒ–ä¸º p &#x3D; 0 ã€‚</li>
</ol>
</li>
<li>çŠ¶æ€è½¬ç§»å¾ªç¯ï¼š éå†å­—ç¬¦ä¸² s çš„æ¯ä¸ªå­—ç¬¦ c ã€‚<ol>
<li>è®°å½•å­—ç¬¦ç±»å‹ t ï¼š åˆ†ä¸ºå››ç§æƒ…å†µã€‚<ul>
<li>å½“ c ä¸ºæ­£è´Ÿå·æ—¶ï¼Œæ‰§è¡Œ t &#x3D; â€˜sâ€™ ;</li>
<li>å½“ c ä¸ºæ•°å­—æ—¶ï¼Œæ‰§è¡Œ t &#x3D; â€˜dâ€™ ;</li>
<li>å½“ c ä¸º e æˆ– E æ—¶ï¼Œæ‰§è¡Œ t &#x3D; â€˜eâ€™ ;</li>
<li>å½“ c ä¸º . æˆ– ç©ºæ ¼ æ—¶ï¼Œæ‰§è¡Œ t &#x3D; c ï¼ˆå³ç”¨å­—ç¬¦æœ¬èº«è¡¨ç¤ºå­—ç¬¦ç±»å‹ï¼‰;</li>
<li>å¦åˆ™ï¼Œæ‰§è¡Œ t &#x3D; â€˜?â€™ ï¼Œä»£è¡¨ä¸ºä¸å±äºåˆ¤æ–­èŒƒå›´çš„éæ³•å­—ç¬¦ï¼Œåç»­ç›´æ¥è¿”å› falsefalse ã€‚</li>
</ul>
</li>
<li>ç»ˆæ­¢æ¡ä»¶ï¼š è‹¥å­—ç¬¦ç±»å‹ t ä¸åœ¨å“ˆå¸Œè¡¨ states[p] ä¸­ï¼Œè¯´æ˜æ— æ³•è½¬ç§»è‡³ä¸‹ä¸€çŠ¶æ€ï¼Œå› æ­¤ç›´æ¥è¿”å› false ã€‚</li>
<li>çŠ¶æ€è½¬ç§»ï¼š çŠ¶æ€ p è½¬ç§»è‡³ states[p] [t] ã€‚</li>
</ol>
</li>
<li>è¿”å›å€¼ï¼š è·³å‡ºå¾ªç¯åï¼Œè‹¥çŠ¶æ€ p \in {2, 3, 7, 8}âˆˆ2,3,7,8 ï¼Œè¯´æ˜ç»“å°¾åˆæ³•ï¼Œè¿”å› truetrue ï¼Œå¦åˆ™è¿”å› false ã€‚</li>
</ol>
<p><strong>å¤æ‚åº¦åˆ†æï¼š</strong><br>æ—¶é—´å¤æ‚åº¦ O(N) ï¼š å…¶ä¸­ N ä¸ºå­—ç¬¦ä¸² s çš„é•¿åº¦ï¼Œåˆ¤æ–­éœ€éå†å­—ç¬¦ä¸²ï¼Œæ¯è½®çŠ¶æ€è½¬ç§»çš„ä½¿ç”¨O(1) æ—¶é—´ã€‚<br>ç©ºé—´å¤æ‚åº¦ O(1) ï¼š states å’Œ p ä½¿ç”¨å¸¸æ•°å¤§å°çš„é¢å¤–ç©ºé—´ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.leetcode-cn.com/1599283163-NYRJuG-Picture2.png" alt="img"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isNumber</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        Map[] states = &#123;</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;() &#123;&#123; put(<span class="string">&#x27; &#x27;</span>, <span class="number">0</span>); put(<span class="string">&#x27;s&#x27;</span>, <span class="number">1</span>); put(<span class="string">&#x27;d&#x27;</span>, <span class="number">2</span>); put(<span class="string">&#x27;.&#x27;</span>, <span class="number">4</span>); &#125;&#125;, <span class="comment">// 0.</span></span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;() &#123;&#123; put(<span class="string">&#x27;d&#x27;</span>, <span class="number">2</span>); put(<span class="string">&#x27;.&#x27;</span>, <span class="number">4</span>); &#125;&#125;,                           <span class="comment">// 1.</span></span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;() &#123;&#123; put(<span class="string">&#x27;d&#x27;</span>, <span class="number">2</span>); put(<span class="string">&#x27;.&#x27;</span>, <span class="number">3</span>); put(<span class="string">&#x27;e&#x27;</span>, <span class="number">5</span>); put(<span class="string">&#x27; &#x27;</span>, <span class="number">8</span>); &#125;&#125;, <span class="comment">// 2.</span></span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;() &#123;&#123; put(<span class="string">&#x27;d&#x27;</span>, <span class="number">3</span>); put(<span class="string">&#x27;e&#x27;</span>, <span class="number">5</span>); put(<span class="string">&#x27; &#x27;</span>, <span class="number">8</span>); &#125;&#125;,              <span class="comment">// 3.</span></span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;() &#123;&#123; put(<span class="string">&#x27;d&#x27;</span>, <span class="number">3</span>); &#125;&#125;,                                        <span class="comment">// 4.</span></span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;() &#123;&#123; put(<span class="string">&#x27;s&#x27;</span>, <span class="number">6</span>); put(<span class="string">&#x27;d&#x27;</span>, <span class="number">7</span>); &#125;&#125;,                           <span class="comment">// 5.</span></span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;() &#123;&#123; put(<span class="string">&#x27;d&#x27;</span>, <span class="number">7</span>); &#125;&#125;,                                        <span class="comment">// 6.</span></span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;() &#123;&#123; put(<span class="string">&#x27;d&#x27;</span>, <span class="number">7</span>); put(<span class="string">&#x27; &#x27;</span>, <span class="number">8</span>); &#125;&#125;,                           <span class="comment">// 7.</span></span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;() &#123;&#123; put(<span class="string">&#x27; &#x27;</span>, <span class="number">8</span>); &#125;&#125;                                         <span class="comment">// 8.</span></span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="type">int</span> <span class="variable">p</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">char</span> t;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">char</span> c : s.toCharArray()) &#123;</span><br><span class="line">            <span class="keyword">if</span>(c &gt;= <span class="string">&#x27;0&#x27;</span> &amp;&amp; c &lt;= <span class="string">&#x27;9&#x27;</span>) t = <span class="string">&#x27;d&#x27;</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(c == <span class="string">&#x27;+&#x27;</span> || c == <span class="string">&#x27;-&#x27;</span>) t = <span class="string">&#x27;s&#x27;</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(c == <span class="string">&#x27;e&#x27;</span> || c == <span class="string">&#x27;E&#x27;</span>) t = <span class="string">&#x27;e&#x27;</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(c == <span class="string">&#x27;.&#x27;</span> || c == <span class="string">&#x27; &#x27;</span>) t = c;</span><br><span class="line">            <span class="keyword">else</span> t = <span class="string">&#x27;?&#x27;</span>;</span><br><span class="line">            <span class="keyword">if</span>(!states[p].containsKey(t)) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            p = (<span class="type">int</span>)states[p].get(t);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> p == <span class="number">2</span> || p == <span class="number">3</span> || p == <span class="number">7</span> || p == <span class="number">8</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="ä¸ƒã€åŠ¨æ€è§„åˆ’"><a href="#ä¸ƒã€åŠ¨æ€è§„åˆ’" class="headerlink" title="ä¸ƒã€åŠ¨æ€è§„åˆ’"></a>ä¸ƒã€åŠ¨æ€è§„åˆ’</h2><h3 id="7-1ã€åŠ¨æ€è§„åˆ’ç†è®º"><a href="#7-1ã€åŠ¨æ€è§„åˆ’ç†è®º" class="headerlink" title="7.1ã€åŠ¨æ€è§„åˆ’ç†è®º"></a>7.1ã€åŠ¨æ€è§„åˆ’ç†è®º</h3><p><strong>å†…å®¹</strong></p>
<ol>
<li>åŠ¨æ€è§„åˆ’é—®é¢˜ç‰¹ç‚¹ï¼ŒåŠ¨æ€è§„åˆ’å’Œåˆ†æ²»ç®—æ³•çš„è”ç³»ä¸åŒºåˆ«ï¼›</li>
<li>å€ŸåŠ©ä¾‹é¢˜ä»‹ç»é‡å å­é—®é¢˜å’Œæœ€ä¼˜å­ç»“æ„åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Œä»¥åŠåŠ¨æ€è§„åˆ’æ˜¯å¦‚ä½•è§£å†³å®ƒä»¬çš„ï¼›</li>
<li>åŠ¨æ€è§„åˆ’çš„è§£é¢˜æ¡†æ¶æ€»ç»“ï¼›</li>
<li>åŠ¨æ€è§„åˆ’çš„ç»ƒä¹ ä¾‹é¢˜ï¼Œä»æ˜“åˆ°éš¾æ’åºï¼›</li>
</ol>
<p><strong>åŠ¨æ€è§„åˆ’ç‰¹ç‚¹</strong></p>
<p><code>ã€Œåˆ†æ²»ã€</code>æ˜¯ç®—æ³•ä¸­çš„ä¸€ç§åŸºæœ¬æ€æƒ³ï¼Œå…¶é€šè¿‡å°†åŸé—®é¢˜åˆ†è§£ä¸ºå­é—®é¢˜ï¼Œä¸æ–­é€’å½’åœ°å°†å­é—®é¢˜åˆ†è§£ä¸ºæ›´å°çš„å­é—®é¢˜ï¼Œå¹¶é€šè¿‡<code>ç»„åˆå­é—®é¢˜çš„è§£</code>æ¥å¾—åˆ°åŸé—®é¢˜çš„è§£ã€‚</p>
<p>ç±»ä¼¼äºåˆ†æ²»ç®—æ³•ï¼Œ<code>ã€ŒåŠ¨æ€è§„åˆ’ã€</code>ä¹Ÿé€šè¿‡ç»„åˆå­é—®é¢˜çš„è§£å¾—åˆ°åŸé—®é¢˜çš„è§£ã€‚ä¸åŒçš„æ˜¯ï¼Œé€‚åˆç”¨åŠ¨æ€è§„åˆ’è§£å†³çš„é—®é¢˜å…·æœ‰<code>ã€Œé‡å å­é—®é¢˜ã€</code>å’Œ<code>ã€Œæœ€ä¼˜å­ç»“æ„ã€</code>ä¸¤å¤§ç‰¹æ€§ã€‚</p>
<p><strong>é‡å å­é—®é¢˜</strong><br>åŠ¨æ€è§„åˆ’çš„å­é—®é¢˜æ˜¯æœ‰é‡å çš„ï¼Œå³<code>å„ä¸ªå­é—®é¢˜ä¸­åŒ…å«é‡å¤çš„æ›´å°å­é—®é¢˜</code>ã€‚è‹¥ä½¿ç”¨æš´åŠ›æ³•ç©·ä¸¾ï¼Œæ±‚è§£è¿™äº›ç›¸åŒå­é—®é¢˜ä¼šäº§ç”Ÿå¤§é‡çš„é‡å¤è®¡ç®—ï¼Œæ•ˆç‡ä½ä¸‹ã€‚</p>
<p>åŠ¨æ€è§„åˆ’åœ¨ç¬¬ä¸€æ¬¡æ±‚è§£æŸå­é—®é¢˜æ—¶ï¼Œä¼š<code>å°†å­é—®é¢˜çš„è§£ä¿å­˜</code>ï¼›åç»­é‡åˆ°é‡å å­é—®é¢˜æ—¶ï¼Œåˆ™ç›´æ¥é€šè¿‡<code>æŸ¥è¡¨è·å–</code>è§£ï¼Œä¿è¯<code>æ¯ä¸ªç‹¬ç«‹å­é—®é¢˜åªè¢«è®¡ç®—ä¸€æ¬¡</code>ï¼Œä»è€Œé™ä½ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ã€‚</p>
<p><strong>æœ€ä¼˜å­ç»“æ„</strong><br>å¦‚æœä¸€ä¸ªé—®é¢˜çš„<code>æœ€ä¼˜è§£å¯ä»¥ç”±å…¶å­é—®é¢˜çš„æœ€ä¼˜è§£ç»„åˆ</code>æ„æˆï¼Œå¹¶ä¸”è¿™äº›å­é—®é¢˜å¯ä»¥ç‹¬ç«‹æ±‚è§£ï¼Œé‚£ä¹ˆç§°æ­¤é—®é¢˜å…·æœ‰æœ€ä¼˜å­ç»“æ„ã€‚</p>
<p>åŠ¨æ€è§„åˆ’ä»åŸºç¡€é—®é¢˜çš„è§£å¼€å§‹ï¼Œä¸æ–­è¿­ä»£<code>ç»„åˆã€é€‰æ‹©å­é—®é¢˜çš„æœ€ä¼˜è§£</code>ï¼Œæœ€ç»ˆå¾—åˆ°åŸé—®é¢˜æœ€ä¼˜è§£ã€‚</p>
<h3 id="7-2ã€é‡å å­é—®é¢˜ä¾‹é¢˜ï¼šæ–æ³¢é‚£å¥‘æ•°åˆ—"><a href="#7-2ã€é‡å å­é—®é¢˜ä¾‹é¢˜ï¼šæ–æ³¢é‚£å¥‘æ•°åˆ—" class="headerlink" title="7.2ã€é‡å å­é—®é¢˜ä¾‹é¢˜ï¼šæ–æ³¢é‚£å¥‘æ•°åˆ—"></a>7.2ã€é‡å å­é—®é¢˜ä¾‹é¢˜ï¼šæ–æ³¢é‚£å¥‘æ•°åˆ—</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202210311145007.png" alt="image-20221031114521821"></p>
<h4 id="æš´åŠ›é€’å½’"><a href="#æš´åŠ›é€’å½’" class="headerlink" title="æš´åŠ›é€’å½’"></a>æš´åŠ›é€’å½’</h4><p>è®¾æ–æ³¢é‚£å¥‘æ•°åˆ—ç¬¬ nn ä¸ªæ•°å­—ä¸º f(n)f(n) ã€‚æ ¹æ®æ•°åˆ—å®šä¹‰ï¼Œå¯å¾— f(n)&#x3D;f(nâˆ’1)+f(nâˆ’2) ï¼Œä¸”ç¬¬ 0 , 1 ä¸ªæ–æ³¢é‚£å¥‘æ•°åˆ†åˆ«ä¸º f(0)&#x3D;0 , f(1) &#x3D; 1ã€‚</p>
<p>æˆ‘ä»¬å¾ˆå®¹æ˜“è”æƒ³åˆ°ä½¿ç”¨åˆ†æ²»æ€æƒ³æ¥æ±‚å– f(n)ï¼Œå³å°†æ±‚åŸé—®é¢˜f(n) åˆ†è§£ä¸ºæ±‚å­é—®é¢˜f(nâˆ’1) å’Œf(nâˆ’2) ï¼Œå‘ä¸‹é€’å½’ç›´è‡³å·²çŸ¥çš„ f(0) å’Œ f(1) ï¼Œæœ€ç»ˆç»„åˆè¿™äº›å­é—®é¢˜æ±‚å–åŸé—®é¢˜ f(n) ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ±‚ç¬¬ n ä¸ªæ–æ³¢é‚£å¥‘æ•°</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">fibonacci</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (n == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>; <span class="comment">// è¿”å› f(0)</span></span><br><span class="line">    <span class="keyword">if</span> (n == <span class="number">1</span>) <span class="keyword">return</span> <span class="number">1</span>; <span class="comment">// è¿”å› f(1)</span></span><br><span class="line">    <span class="keyword">return</span> fibonacci(n - <span class="number">1</span>) + fibonacci(n - <span class="number">2</span>); <span class="comment">// åˆ†è§£ä¸ºä¸¤ä¸ªå­é—®é¢˜æ±‚è§£</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.leetcode-cn.com/1635075778-GADtbi-Picture1.png" alt="Picture1.png"></p>
<p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œä¸ºæš´åŠ›é€’å½’æ±‚æ–æ³¢é‚£å¥‘æ•° f(5)å½¢æˆçš„äºŒå‰æ ‘ï¼Œæ ‘ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹ä»£è¡¨ç€æ‰§è¡Œäº†ä¸€æ¬¡ fibonacci() å‡½æ•°ï¼Œä¸”æœ‰ï¼š</p>
<ul>
<li>æ‰§è¡Œä¸€æ¬¡ fibonacci() å‡½æ•°çš„æ—¶é—´å¤æ‚åº¦ä¸º O(1) ï¼›</li>
<li>äºŒå‰æ ‘èŠ‚ç‚¹æ•°ä¸ºæŒ‡æ•°çº§ O(2^n)</li>
</ul>
<p>å› æ­¤ï¼Œæš´åŠ›é€’å½’çš„æ€»ä½“æ—¶é—´å¤æ‚åº¦ä¸º O(2^n)æ­¤æ–¹æ³•æ•ˆç‡ä½ä¸‹ï¼Œéšç€ n çš„å¢é•¿äº§ç”ŸæŒ‡æ•°çº§çˆ†ç‚¸ã€‚</p>
<h4 id="è®°å¿†åŒ–é€’å½’"><a href="#è®°å¿†åŒ–é€’å½’" class="headerlink" title="è®°å¿†åŒ–é€’å½’"></a>è®°å¿†åŒ–é€’å½’</h4><p>è§‚å¯Ÿå‘ç°ï¼Œæš´åŠ›é€’å½’ä¸­çš„å­é—®é¢˜å¤šæ•°éƒ½æ˜¯<strong>é‡å å­é—®é¢˜</strong>ï¼Œå³ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202210311150060.png" alt="image-20221031115046286"></p>
<p>è¿™äº›é‡å å­é—®é¢˜äº§ç”Ÿäº†å¤§é‡çš„é€’å½’æ ‘èŠ‚ç‚¹ï¼Œå…¶<code>ä¸åº”è¢«é‡å¤è®¡ç®—</code>ã€‚å®é™…ä¸Šï¼Œå¯ä»¥åœ¨é€’å½’ä¸­ç¬¬ä¸€æ¬¡æ±‚è§£å­é—®é¢˜æ—¶ï¼Œå°±å°†å®ƒä»¬<code>ä¿å­˜</code>ï¼›åç»­é€’å½’ä¸­å†æ¬¡é‡åˆ°ç›¸åŒå­é—®é¢˜æ—¶ï¼Œç›´æ¥è®¿é—®å†…å­˜èµ‹å€¼å³å¯ã€‚è®°å¿†åŒ–é€’å½’çš„ä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">fibonacci</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span>[] dp)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (n == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;           <span class="comment">// è¿”å› f(0)</span></span><br><span class="line">    <span class="keyword">if</span> (n == <span class="number">1</span>) <span class="keyword">return</span> <span class="number">1</span>;           <span class="comment">// è¿”å› f(1)</span></span><br><span class="line">    <span class="keyword">if</span> (dp[n] != <span class="number">0</span>) <span class="keyword">return</span> dp[n];   <span class="comment">// è‹¥ f(n) ä»¥å‰å·²ç»è®¡ç®—è¿‡ï¼Œåˆ™ç›´æ¥è¿”å›è®°å½•çš„è§£</span></span><br><span class="line">    dp[n] = fibonacci(n - <span class="number">1</span>, dp) + fibonacci(n - <span class="number">2</span>, dp); <span class="comment">// å°† f(n) åˆ™è®°å½•è‡³ dp</span></span><br><span class="line">    <span class="keyword">return</span> dp[n];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ±‚ç¬¬ n ä¸ªæ–æ³¢é‚£å¥‘æ•°</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">fibonacciMemorized</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">    <span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[n + <span class="number">1</span>]; <span class="comment">// ç”¨äºä¿å­˜ f(0) è‡³ f(n) é—®é¢˜çš„è§£</span></span><br><span class="line">    <span class="keyword">return</span> fibonacci(n, dp);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œåº”ç”¨è®°å¿†åŒ–é€’å½’æ–¹æ³•åï¼Œé€’å½’æ ‘ä¸­ç»å¤§éƒ¨åˆ†èŠ‚ç‚¹è¢«å‰ªæã€‚æ­¤æ—¶ï¼Œfibonacci() å‡½æ•°çš„è°ƒç”¨æ¬¡æ•°ä» O(2^n)æŒ‡æ•°çº§åˆ«é™ä½è‡³ O(n)çº¿æ€§çº§åˆ«ï¼Œæ—¶é—´å¤æ‚åº¦å¤§å¤§é™ä½ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.leetcode-cn.com/1635075778-pJXkPc-Picture2.png" alt="Picture2.png"></p>
<h4 id="åŠ¨æ€è§„åˆ’"><a href="#åŠ¨æ€è§„åˆ’" class="headerlink" title="åŠ¨æ€è§„åˆ’"></a>åŠ¨æ€è§„åˆ’</h4><p>é€’å½’æœ¬è´¨ä¸Šæ˜¯åŸºäºåˆ†æ²»æ€æƒ³çš„ä»é¡¶è‡³åº•çš„è§£æ³•ã€‚å€ŸåŠ©è®°å¿†åŒ–é€’å½’æ€æƒ³ï¼Œå¯åº”ç”¨åŠ¨æ€è§„åˆ’ä»åº•è‡³é¡¶æ±‚å– f(n) ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ±‚ç¬¬ n ä¸ªæ–æ³¢é‚£å¥‘æ•°</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">fibonacci</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (n == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;          <span class="comment">// è‹¥æ±‚ f(0) åˆ™ç›´æ¥è¿”å› 0</span></span><br><span class="line">    <span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[n + <span class="number">1</span>];     <span class="comment">// åˆå§‹åŒ– dp åˆ—è¡¨</span></span><br><span class="line">    dp[<span class="number">1</span>] = <span class="number">1</span>;                     <span class="comment">// åˆå§‹åŒ– f(0), f(1)</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">2</span>; i &lt;= n; i++) &#123; <span class="comment">// çŠ¶æ€è½¬ç§»æ±‚å– f(2), f(3), ..., f(n) </span></span><br><span class="line">        dp[i] = dp[i - <span class="number">1</span>] + dp[i - <span class="number">2</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[n];                  <span class="comment">// è¿”å› f(n)</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œä¸ºåŠ¨æ€è§„åˆ’æ±‚è§£ f(5)çš„è¿­ä»£æµç¨‹ï¼Œå…¶æ˜¯è½¬ç§»æ–¹ç¨‹ <code>f(n) = f(n - 1) + f(n - 2)</code>çš„ä½“ç°ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.leetcode-cn.com/1635075778-EeBEoS-Picture3.png" alt="Picture3.png"></p>
<p>ä¸Šè¿°åŠ¨æ€è§„åˆ’è§£æ³•å€ŸåŠ©äº†ä¸€ä¸ª dp æ•°ç»„ä¿å­˜å­é—®é¢˜çš„è§£ï¼Œå…¶ç©ºé—´å¤æ‚åº¦ä¸ºO(N) ã€‚è€Œç”±äºf(n) åªä¸f(nâˆ’1) å’Œ f(nâˆ’2) æœ‰å…³ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ä»…ä½¿ç”¨ä¸¤ä¸ªå˜é‡ a , b äº¤æ›¿å‰è¿›è®¡ç®—å³å¯ã€‚æ­¤æ—¶åŠ¨æ€è§„åˆ’çš„ç©ºé—´å¤æ‚åº¦é™ä½è‡³ O(1)ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ±‚ç¬¬ n ä¸ªæ–æ³¢é‚£å¥‘æ•°</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">fibonacci</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (n == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;           <span class="comment">// è‹¥æ±‚ f(0) åˆ™ç›´æ¥è¿”å› 0</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">0</span>, b = <span class="number">1</span>;               <span class="comment">// åˆå§‹åŒ– f(0), f(1)</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">2</span>; i &lt;= n; i++) &#123;  <span class="comment">// çŠ¶æ€è½¬ç§»æ±‚å– f(2), f(3), ..., f(n) </span></span><br><span class="line">        <span class="type">int</span> <span class="variable">tmp</span> <span class="operator">=</span> a;</span><br><span class="line">        a = b;</span><br><span class="line">        b = tmp + b;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> b;                       <span class="comment">// è¿”å› f(n)</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ç¤ºä¾‹å°ç»“"><a href="#ç¤ºä¾‹å°ç»“" class="headerlink" title="ç¤ºä¾‹å°ç»“"></a>ç¤ºä¾‹å°ç»“</h4><p>è®°å¿†åŒ–é€’å½’å’ŒåŠ¨æ€è§„åˆ’çš„æœ¬è´¨æ€æƒ³æ˜¯ä¸€è‡´çš„ï¼Œæ˜¯å¯¹æ–æ³¢é‚£å¥‘æ•°åˆ—å®šä¹‰çš„ä¸åŒè¡¨ç°å½¢å¼ï¼š</p>
<ul>
<li>è®°å¿†åŒ–é€’å½’ â€” ä»é¡¶è‡³ä½ï¼š æ±‚ f(n)éœ€è¦ f(n - 1)å’Œ f(n - 2);â‹¯ ï¼›æ±‚ f(2) éœ€è¦ f(1) å’Œ f(0) ï¼›è€Œ f(1) å’Œ f(0) å·²çŸ¥ï¼›</li>
<li>åŠ¨æ€è§„åˆ’ â€” ä»åº•è‡³é¡¶ï¼š å°†å·²çŸ¥ f(0) å’Œf(1) ç»„åˆå¾—åˆ°f(2) ï¼›â‹¯ ï¼›å°† f(nâˆ’2) å’Œ f(nâˆ’1) ç»„åˆå¾—åˆ° (n) ï¼›</li>
</ul>
<p>æ–æ³¢é‚£å¥‘æ•°åˆ—é—®é¢˜ä¸åŒ…å«ã€Œæœ€ä¼˜å­ç»“æ„ã€ï¼Œåªéœ€è®¡ç®—æ¯ä¸ªå­é—®é¢˜çš„è§£ï¼Œé¿å…é‡å¤è®¡ç®—å³å¯ï¼Œå¹¶ä¸éœ€è¦ä»å­é—®é¢˜ç»„åˆä¸­é€‰æ‹©æœ€ä¼˜ç»„åˆã€‚æ¥ä¸‹æ¥ï¼Œæœ¬æ–‡å€ŸåŠ©ã€Œæœ€é«˜è›‹ç³•å”®ä»·æ–¹æ¡ˆã€ï¼Œä»‹ç»åŠ¨æ€è§„åˆ’çš„æœ€ä¼˜å­ç»“æ„æ¦‚å¿µã€‚</p>
<h3 id="7-3ã€æœ€ä¼˜å­ç»“æ„ä¾‹é¢˜ï¼šè›‹ç³•å”®ä»·"><a href="#7-3ã€æœ€ä¼˜å­ç»“æ„ä¾‹é¢˜ï¼šè›‹ç³•å”®ä»·" class="headerlink" title="7.3ã€æœ€ä¼˜å­ç»“æ„ä¾‹é¢˜ï¼šè›‹ç³•å”®ä»·"></a>7.3ã€æœ€ä¼˜å­ç»“æ„ä¾‹é¢˜ï¼šè›‹ç³•å”®ä»·</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202210311159196.png" alt="image-20221031115902124"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202210311159705.png" alt="image-20221031115959610"></p>
<h4 id="æš´åŠ›é€’å½’-1"><a href="#æš´åŠ›é€’å½’-1" class="headerlink" title="æš´åŠ›é€’å½’"></a>æš´åŠ›é€’å½’</h4><p>æš´åŠ›é€’å½’è§£æ³•çš„ä»£ç å¦‚ä¸‹ï¼Œå…¶æ—¶é—´å¤æ‚åº¦ä¸ºæŒ‡æ•°çº§ O(2^nï¼‰ ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¾“å…¥è›‹ç³•ä»·æ ¼åˆ—è¡¨ priceList ï¼Œæ±‚é‡é‡ä¸º n è›‹ç³•çš„æœ€é«˜å”®ä»·</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">maxCakePrice</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span>[] priceList)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (n &lt;= <span class="number">1</span>) <span class="keyword">return</span> priceList[n]; <span class="comment">// è›‹ç³•é‡é‡ &lt;= 1 æ—¶ç›´æ¥è¿”å›</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">f_n</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++)      <span class="comment">// ä» n ç§ç»„åˆç§é€‰æ‹©æœ€é«˜å”®ä»·çš„ç»„åˆä½œä¸º f(n)</span></span><br><span class="line">        f_n = Math.max(f_n, maxCakePrice(i, priceList) + priceList[n - i]);</span><br><span class="line">    <span class="keyword">return</span> f_n;                      <span class="comment">// è¿”å› f(n)</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.leetcode-cn.com/1635075778-AljQEJ-Picture4.png" alt="Picture4.png"></p>
<h4 id="è®°å¿†åŒ–é€’å½’-1"><a href="#è®°å¿†åŒ–é€’å½’-1" class="headerlink" title="è®°å¿†åŒ–é€’å½’"></a>è®°å¿†åŒ–é€’å½’</h4><p>è§‚å¯Ÿå‘ç°ï¼Œé€’å½’æ ‘ä¸­å­˜åœ¨å¤§é‡<strong>é‡å å­é—®é¢˜</strong>ï¼Œå¯é€šè¿‡è®°å¿†åŒ–å¤„ç†é¿å…é‡å¤è®¡ç®—ã€‚è®°å¿†åŒ–é€’å½’çš„ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º O(n^2)ï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li>f(2) è‡³f(n) å…± nâˆ’1 ä¸ªå¾…è®¡ç®—å­é—®é¢˜ï¼Œä½¿ç”¨O(n) æ—¶é—´ï¼›</li>
<li>è®¡ç®—æŸf(i) éœ€éå† iâˆ’1 ç§å­é—®é¢˜ç»„åˆï¼Œä½¿ç”¨ O(n) æ—¶é—´ï¼›</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¾“å…¥è›‹ç³•ä»·æ ¼åˆ—è¡¨ priceList ï¼Œæ±‚é‡é‡ä¸º n è›‹ç³•çš„æœ€é«˜å”®ä»·</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">maxCakePrice</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span>[] priceList, <span class="type">int</span>[] dp)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (n &lt;= <span class="number">1</span>) <span class="keyword">return</span> priceList[n]; <span class="comment">// è›‹ç³•é‡é‡ &lt;= 1 æ—¶ç›´æ¥è¿”å›</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">f_n</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;    <span class="comment">// ä» n ç§ç»„åˆç§é€‰æ‹©æœ€é«˜å”®ä»·çš„ç»„åˆä½œä¸º f(n)</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">f_i</span> <span class="operator">=</span> dp[i] != <span class="number">0</span> ? dp[i] : maxCakePrice(i, priceList, dp);</span><br><span class="line">        f_n = Math.max(f_n, f_i + priceList[n - i]);</span><br><span class="line">    &#125;</span><br><span class="line">    dp[n] = f_n;                     <span class="comment">// è®°å½• f(n) è‡³ dp æ•°ç»„</span></span><br><span class="line">    <span class="keyword">return</span> f_n;                      <span class="comment">// è¿”å› f(n)</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">maxCakePriceMemorized</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span>[] priceList)</span> &#123;</span><br><span class="line">    <span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[n + <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">return</span> maxCakePrice(n, priceList, dp);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.leetcode-cn.com/1635075778-tsDBrs-Picture5.png" alt="Picture5.png"></p>
<h4 id="åŠ¨æ€è§„åˆ’-1"><a href="#åŠ¨æ€è§„åˆ’-1" class="headerlink" title="åŠ¨æ€è§„åˆ’"></a>åŠ¨æ€è§„åˆ’</h4><p>ç›¸è¾ƒäºè®°å¿†åŒ–é€’å½’çš„ä»é¡¶è‡³åº•æ–¹æ³•ï¼Œæ˜“å¾—åŠ¨æ€è§„åˆ’çš„ä»åº•è‡³é¡¶æ–¹æ³•ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¾“å…¥è›‹ç³•ä»·æ ¼åˆ—è¡¨ priceList ï¼Œæ±‚é‡é‡ä¸º n è›‹ç³•çš„æœ€é«˜å”®ä»·</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">maxCakePrice</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span>[] priceList)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (n &lt;= <span class="number">1</span>) <span class="keyword">return</span> priceList[n];  <span class="comment">// è›‹ç³•é‡é‡ &lt;= 1 æ—¶ç›´æ¥è¿”å›</span></span><br><span class="line">    <span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[n + <span class="number">1</span>];        <span class="comment">// åˆå§‹åŒ– dp åˆ—è¡¨</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">1</span>; j &lt;= n; j++) &#123;    <span class="comment">// æŒ‰é¡ºåºè®¡ç®— f(1), f(2), ..., f(n)</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; j; i++)   <span class="comment">// ä» j ç§ç»„åˆç§é€‰æ‹©æœ€é«˜å”®ä»·çš„ç»„åˆä½œä¸º f(j)</span></span><br><span class="line">            dp[j] = Math.max(dp[j], dp[i] + priceList[j - i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[n];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.leetcode-cn.com/1635075778-PBtyyB-Picture6.png" alt="Picture6.png"></p>
<h3 id="7-4ã€01èƒŒåŒ…é—®é¢˜"><a href="#7-4ã€01èƒŒåŒ…é—®é¢˜" class="headerlink" title="7.4ã€01èƒŒåŒ…é—®é¢˜"></a>7.4ã€01èƒŒåŒ…é—®é¢˜</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/20210117171307407.png" alt="416.åˆ†å‰²ç­‰å’Œå­é›†1"></p>
<p>æœ‰nä»¶ç‰©å“å’Œä¸€ä¸ªæœ€å¤šèƒ½èƒŒé‡é‡ä¸ºw çš„èƒŒåŒ…ã€‚ç¬¬iä»¶ç‰©å“çš„é‡é‡æ˜¯weight[i]ï¼Œå¾—åˆ°çš„ä»·å€¼æ˜¯value[i] ã€‚<strong>æ¯ä»¶ç‰©å“åªèƒ½ç”¨ä¸€æ¬¡</strong>ï¼Œæ±‚è§£å°†å“ªäº›ç‰©å“è£…å…¥èƒŒåŒ…é‡Œç‰©å“ä»·å€¼æ€»å’Œæœ€å¤§ã€‚</p>
<blockquote>
<p>æš´åŠ›è§£æ³•ï¼šå›æº¯æ³•O(2^N)</p>
</blockquote>
<p>æ¡ˆä¾‹ï¼š</p>
<p>èƒŒåŒ…æœ€å¤§é‡é‡ä¸º4ã€‚</p>
<p>ç‰©å“ä¸ºï¼š</p>
<table>
<thead>
<tr>
<th></th>
<th>é‡é‡</th>
<th>ä»·å€¼</th>
</tr>
</thead>
<tbody><tr>
<td>ç‰©å“0</td>
<td>1</td>
<td>15</td>
</tr>
<tr>
<td>ç‰©å“1</td>
<td>3</td>
<td>20</td>
</tr>
<tr>
<td>ç‰©å“2</td>
<td>4</td>
<td>30</td>
</tr>
</tbody></table>
<p>é—®èƒŒåŒ…èƒ½èƒŒçš„ç‰©å“æœ€å¤§ä»·å€¼æ˜¯å¤šå°‘ï¼Ÿ</p>
<h4 id="äºŒç»´dp"><a href="#äºŒç»´dp" class="headerlink" title="äºŒç»´dp"></a>äºŒç»´dp</h4><ol>
<li>ç¡®å®šdpæ•°ç»„ä»¥åŠä¸‹æ ‡çš„å«ä¹‰</li>
</ol>
<p>å¯¹äºèƒŒåŒ…é—®é¢˜ï¼Œæœ‰ä¸€ç§å†™æ³•ï¼Œ æ˜¯ä½¿ç”¨äºŒç»´æ•°ç»„ï¼Œå³<strong>dp[i] [j] è¡¨ç¤ºä»ä¸‹æ ‡ä¸º[0-i]çš„ç‰©å“é‡Œä»»æ„å–ï¼Œæ”¾è¿›å®¹é‡ä¸ºjçš„èƒŒåŒ…ï¼Œä»·å€¼æ€»å’Œæœ€å¤§æ˜¯å¤šå°‘</strong>ã€‚<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/20210110103003361.png" alt="åŠ¨æ€è§„åˆ’-èƒŒåŒ…é—®é¢˜1"></p>
<ol start="2">
<li>ç¡®å®šé€’æ¨å…¬å¼</li>
</ol>
<p>å†å›é¡¾ä¸€ä¸‹dp[i] [j]çš„å«ä¹‰ï¼šä»ä¸‹æ ‡ä¸º[0-i]çš„ç‰©å“é‡Œä»»æ„å–ï¼Œæ”¾è¿›å®¹é‡ä¸ºjçš„èƒŒåŒ…ï¼Œä»·å€¼æ€»å’Œæœ€å¤§æ˜¯å¤šå°‘ã€‚</p>
<p>é‚£ä¹ˆå¯ä»¥æœ‰ä¸¤ä¸ªæ–¹å‘æ¨å‡ºæ¥dp[i] [j]ï¼Œ</p>
<ul>
<li><strong>ä¸æ”¾ç‰©å“i</strong>ï¼šç”±dp[i - 1] [j]æ¨å‡ºï¼Œå³èƒŒåŒ…å®¹é‡ä¸ºjï¼Œé‡Œé¢ä¸æ”¾ç‰©å“içš„æœ€å¤§ä»·å€¼ï¼Œæ­¤æ—¶dp[i] [j]å°±æ˜¯dp[i - 1] [j]ã€‚(å…¶å®å°±æ˜¯å½“ç‰©å“içš„é‡é‡å¤§äºèƒŒåŒ…jçš„é‡é‡æ—¶ï¼Œç‰©å“iæ— æ³•æ”¾è¿›èƒŒåŒ…ä¸­ï¼Œæ‰€ä»¥è¢«èƒŒåŒ…å†…çš„ä»·å€¼ä¾ç„¶å’Œå‰é¢ç›¸åŒã€‚)</li>
<li><strong>æ”¾ç‰©å“i</strong>ï¼šç”±dp[i - 1] [j - weight[i]]æ¨å‡ºï¼Œdp[i - 1] [j - weight[i]] ä¸ºèƒŒåŒ…å®¹é‡ä¸ºj - weight[i]çš„æ—¶å€™ä¸æ”¾ç‰©å“içš„æœ€å¤§ä»·å€¼ï¼Œé‚£ä¹ˆdp[i - 1] [j - weight[i]] + value[i] ï¼ˆç‰©å“içš„ä»·å€¼ï¼‰ï¼Œå°±æ˜¯èƒŒåŒ…æ”¾ç‰©å“iå¾—åˆ°çš„æœ€å¤§ä»·å€¼</li>
</ul>
<p>æ‰€ä»¥é€’å½’å…¬å¼ï¼š dp[i] [j] &#x3D; max(dp[i - 1] [j], dp[i - 1] [j - weight[i]] + value[i]);</p>
<ol start="3">
<li>dpæ•°ç»„å¦‚ä½•åˆå§‹åŒ–</li>
</ol>
<p><strong>é¦–å…ˆä»dp[i] [j]çš„å®šä¹‰å‡ºå‘</strong>ï¼Œå¦‚æœèƒŒåŒ…å®¹é‡jä¸º0çš„è¯ï¼Œå³dp[i] [0]ï¼Œæ— è®ºæ˜¯é€‰å–å“ªäº›ç‰©å“ï¼ŒèƒŒåŒ…ä»·å€¼æ€»å’Œä¸€å®šä¸º0ã€‚å¦‚å›¾ï¼š<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/2021011010304192-16696851911264.png" alt="åŠ¨æ€è§„åˆ’-èƒŒåŒ…é—®é¢˜2"></p>
<p>çŠ¶æ€è½¬ç§»æ–¹ç¨‹ dp[i] [j] &#x3D; max(dp[i - 1] [j], dp[i - 1] [j - weight[i]] + value[i]); å¯ä»¥çœ‹å‡ºi æ˜¯ç”± i-1 æ¨å¯¼å‡ºæ¥ï¼Œé‚£ä¹ˆiä¸º0çš„æ—¶å€™å°±ä¸€å®šè¦åˆå§‹åŒ–ã€‚</p>
<p>dp[0] [j]ï¼Œå³ï¼šiä¸º0ï¼Œå­˜æ”¾ç¼–å·0çš„ç‰©å“çš„æ—¶å€™ï¼Œå„ä¸ªå®¹é‡çš„èƒŒåŒ…æ‰€èƒ½å­˜æ”¾çš„æœ€å¤§ä»·å€¼ã€‚</p>
<ul>
<li><p>é‚£ä¹ˆå¾ˆæ˜æ˜¾å½“ j &lt; weight[0]çš„æ—¶å€™ï¼Œdp[0] [j] åº”è¯¥æ˜¯ 0ï¼Œå› ä¸ºèƒŒåŒ…å®¹é‡æ¯”ç¼–å·0çš„ç‰©å“é‡é‡è¿˜å°ã€‚</p>
</li>
<li><p>å½“j &gt;&#x3D; weight[0]æ—¶ï¼Œdp[0] [j] åº”è¯¥æ˜¯value[0]ï¼Œå› ä¸ºèƒŒåŒ…å®¹é‡æ”¾è¶³å¤Ÿæ”¾ç¼–å·0ç‰©å“ã€‚<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/20210110103109140.png" alt="åŠ¨æ€è§„åˆ’-èƒŒåŒ…é—®é¢˜7"></p>
</li>
</ul>
<ol start="4">
<li>ç¡®å®šéå†é¡ºåº</li>
</ol>
<p>åœ¨å¦‚ä¸‹å›¾ä¸­ï¼Œå¯ä»¥çœ‹å‡ºï¼Œæœ‰ä¸¤ä¸ªéå†çš„ç»´åº¦ï¼šç‰©å“ä¸èƒŒåŒ…é‡é‡<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/2021011010314055.png" alt="åŠ¨æ€è§„åˆ’-èƒŒåŒ…é—®é¢˜3"></p>
<p>é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œ<strong>å…ˆéå† ç‰©å“è¿˜æ˜¯å…ˆéå†èƒŒåŒ…é‡é‡å‘¢ï¼Ÿå…¶å®éƒ½å¯ä»¥ï¼ï¼ ä½†æ˜¯å…ˆéå†ç‰©å“æ›´å¥½ç†è§£</strong>ã€‚</p>
<p>ä¸ºä»€ä¹ˆä¹Ÿæ˜¯å¯ä»¥çš„å‘¢ï¼Ÿ</p>
<p><strong>è¦ç†è§£é€’å½’çš„æœ¬è´¨å’Œé€’æ¨çš„æ–¹å‘</strong>ã€‚</p>
<p>dp[i] [j] &#x3D; max(dp[i - 1] [j], dp[i - 1] [j - weight[i]] + value[i]); é€’å½’å…¬å¼ä¸­å¯ä»¥çœ‹å‡ºdp[i] [j]æ˜¯é dp[i-1] [j]å’Œdp[i - 1] [j - weight[i]]æ¨å¯¼å‡ºæ¥çš„ã€‚</p>
<p>dp[i-1] [j]å’Œdp[i - 1] [j - weight[i]] éƒ½åœ¨dp[i] [j]çš„å·¦ä¸Šè§’æ–¹å‘ï¼ˆåŒ…æ‹¬æ­£ä¸Šæ–¹å‘ï¼‰ï¼Œé‚£ä¹ˆå…ˆéå†ç‰©å“ï¼Œå†éå†èƒŒåŒ…çš„è¿‡ç¨‹å¦‚å›¾æ‰€ç¤ºï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/202101101032124.png" alt="åŠ¨æ€è§„åˆ’-èƒŒåŒ…é—®é¢˜5"></p>
<p>å†æ¥çœ‹çœ‹å…ˆéå†èƒŒåŒ…ï¼Œå†éå†ç‰©å“å‘¢ï¼Œå¦‚å›¾ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/20210110103244701.png" alt="åŠ¨æ€è§„åˆ’-èƒŒåŒ…é—®é¢˜6"></p>
<p><strong>å¤§å®¶å¯ä»¥çœ‹å‡ºï¼Œè™½ç„¶ä¸¤ä¸ªforå¾ªç¯éå†çš„æ¬¡åºä¸åŒï¼Œä½†æ˜¯dp[i] [j]æ‰€éœ€è¦çš„æ•°æ®å°±æ˜¯å·¦ä¸Šè§’ï¼Œæ ¹æœ¬ä¸å½±å“dp[i] [j]å…¬å¼çš„æ¨å¯¼ï¼</strong></p>
<p>ä½†å…ˆéå†ç‰©å“å†éå†èƒŒåŒ…è¿™ä¸ªé¡ºåºæ›´å¥½ç†è§£ã€‚</p>
<p><strong>å…¶å®èƒŒåŒ…é—®é¢˜é‡Œï¼Œä¸¤ä¸ªforå¾ªç¯çš„å…ˆåå¾ªåºæ˜¯éå¸¸æœ‰è®²ç©¶çš„ï¼Œç†è§£éå†é¡ºåºå…¶å®æ¯”ç†è§£æ¨å¯¼å…¬å¼éš¾å¤šäº†</strong>ã€‚</p>
<ol start="5">
<li>ä¸¾ä¾‹æ¨å¯¼dpæ•°ç»„</li>
</ol>
<p>æ¥çœ‹ä¸€ä¸‹å¯¹åº”çš„dpæ•°ç»„çš„æ•°å€¼ï¼Œå¦‚å›¾ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/20210118163425129.jpg" alt="åŠ¨æ€è§„åˆ’-èƒŒåŒ…é—®é¢˜4"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">bagProblem2</span><span class="params">(<span class="type">int</span>[] weight, <span class="type">int</span>[] values, <span class="type">int</span> bagSize)</span> &#123;</span><br><span class="line">    <span class="comment">// 1. dp[i][j]è¡¨ç¤ºèƒŒåŒ…å®¹é‡ä¸ºjè£…0-iç‰©å“æ—¶çš„æœ€å¤§ä»·å€¼</span></span><br><span class="line">    <span class="type">int</span>[][] dp = <span class="keyword">new</span> <span class="title class_">int</span>[weight.length][bagSize + <span class="number">1</span>];</span><br><span class="line">    <span class="comment">// 2. åˆå§‹åŒ– dp[0][j]è¡¨ç¤ºé‡é‡ä¸ºjæ—¶è£…ç¬¬ä¸€ä¸ªç‰©å“</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> weight[<span class="number">0</span>]; i &lt;= bagSize; i++) &#123;</span><br><span class="line">        dp[<span class="number">0</span>][i] = values[<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// dp[i][0] èƒŒåŒ…å®¹é‡ä¸º0ï¼Œé‚£ä¹ˆè£…ä¸äº†ä»»ä½•ç‰©å“ dp[i][0]=0</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; weight.length; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">1</span>; j &lt;= bagSize; j++) &#123;</span><br><span class="line">            <span class="comment">// 3. çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼Œè£…æˆ–è€…ä¸è£…ç¬¬iä¸ªç‰©å“</span></span><br><span class="line">            <span class="keyword">if</span> (j &lt; weight[i])</span><br><span class="line">                dp[i][j] = dp[i - <span class="number">1</span>][j];</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                dp[i][j] = Math.max(dp[i - <span class="number">1</span>][j], dp[i - <span class="number">1</span>][j - weight[i]] + values[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> dp[weight.length - <span class="number">1</span>][bagSize];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="type">int</span>[] weight = &#123;<span class="number">1</span>, <span class="number">3</span>, <span class="number">4</span>&#125;;</span><br><span class="line">    <span class="type">int</span>[] values = &#123;<span class="number">15</span>, <span class="number">20</span>, <span class="number">30</span>&#125;;</span><br><span class="line">    System.out.println(bagProblem2(weight, values, <span class="number">4</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä¸€ç»´dpï¼ˆæ»šåŠ¨æ•°ç»„ï¼‰"><a href="#ä¸€ç»´dpï¼ˆæ»šåŠ¨æ•°ç»„ï¼‰" class="headerlink" title="ä¸€ç»´dpï¼ˆæ»šåŠ¨æ•°ç»„ï¼‰"></a>ä¸€ç»´dpï¼ˆæ»šåŠ¨æ•°ç»„ï¼‰</h4><p>å¯¹äºèƒŒåŒ…é—®é¢˜å…¶å®çŠ¶æ€éƒ½æ˜¯å¯ä»¥å‹ç¼©çš„ã€‚</p>
<p>åœ¨ä½¿ç”¨äºŒç»´æ•°ç»„çš„æ—¶å€™ï¼Œé€’æ¨å…¬å¼ï¼šdp[i] [j] &#x3D; max(dp[i - 1] [j], dp[i - 1] [j - weight[i]] + value[i]);</p>
<p><strong>å…¶å®å¯ä»¥å‘ç°å¦‚æœæŠŠdp[i - 1]é‚£ä¸€å±‚æ‹·è´åˆ°dp[i]ä¸Šï¼Œè¡¨è¾¾å¼å®Œå…¨å¯ä»¥æ˜¯ï¼šdp[i] [j] &#x3D; max(dp[i] [j], dp[i] [j - weight[i]] + value[i]);</strong></p>
<p><strong>ä¸å…¶æŠŠdp[i - 1]è¿™ä¸€å±‚æ‹·è´åˆ°dp[i]ä¸Šï¼Œä¸å¦‚åªç”¨ä¸€ä¸ªä¸€ç»´æ•°ç»„äº†</strong>ï¼Œåªç”¨dp[j]ï¼ˆä¸€ç»´æ•°ç»„ï¼Œä¹Ÿå¯ä»¥ç†è§£æ˜¯ä¸€ä¸ªæ»šåŠ¨æ•°ç»„ï¼‰ã€‚</p>
<p>è¿™å°±æ˜¯æ»šåŠ¨æ•°ç»„çš„ç”±æ¥ï¼Œéœ€è¦æ»¡è¶³çš„æ¡ä»¶æ˜¯ä¸Šä¸€å±‚å¯ä»¥é‡å¤åˆ©ç”¨ï¼Œç›´æ¥æ‹·è´åˆ°å½“å‰å±‚ã€‚</p>
<p><strong>dp[i] [j] è¡¨ç¤ºä»ä¸‹æ ‡ä¸º[0-i]çš„ç‰©å“é‡Œä»»æ„å–ï¼Œæ”¾è¿›å®¹é‡ä¸ºjçš„èƒŒåŒ…ï¼Œä»·å€¼æ€»å’Œæœ€å¤§æ˜¯å¤šå°‘</strong>ã€‚</p>
<hr>
<ol>
<li>ç¡®å®šdpæ•°ç»„çš„å®šä¹‰</li>
</ol>
<p>åœ¨ä¸€ç»´dpæ•°ç»„ä¸­ï¼Œdp[j]è¡¨ç¤ºï¼šå®¹é‡ä¸ºjçš„èƒŒåŒ…ï¼Œæ‰€èƒŒçš„ç‰©å“ä»·å€¼å¯ä»¥æœ€å¤§ä¸ºdp[j]ã€‚</p>
<ol start="2">
<li>ä¸€ç»´dpæ•°ç»„çš„é€’æ¨å…¬å¼</li>
</ol>
<p>dp[j]ä¸º å®¹é‡ä¸ºjçš„èƒŒåŒ…æ‰€èƒŒçš„æœ€å¤§ä»·å€¼ï¼Œé‚£ä¹ˆå¦‚ä½•æ¨å¯¼dp[j]å‘¢ï¼Ÿ</p>
<p>dp[j]å¯ä»¥é€šè¿‡dp[j - weight[i]]æ¨å¯¼å‡ºæ¥ï¼Œdp[j - weight[i]]è¡¨ç¤ºå®¹é‡ä¸ºj - weight[i]çš„èƒŒåŒ…æ‰€èƒŒçš„æœ€å¤§ä»·å€¼ã€‚</p>
<p>dp[j - weight[i]] + value[i] è¡¨ç¤º å®¹é‡ä¸º j - ç‰©å“ié‡é‡ çš„èƒŒåŒ… åŠ ä¸Š ç‰©å“içš„ä»·å€¼ã€‚ï¼ˆä¹Ÿå°±æ˜¯å®¹é‡ä¸ºjçš„èƒŒåŒ…ï¼Œæ”¾å…¥ç‰©å“iäº†ä¹‹åçš„ä»·å€¼å³ï¼šdp[j]ï¼‰</p>
<p>æ­¤æ—¶dp[j]æœ‰ä¸¤ä¸ªé€‰æ‹©ï¼Œä¸€ä¸ªæ˜¯å–è‡ªå·±dp[j] ç›¸å½“äº äºŒç»´dpæ•°ç»„ä¸­çš„dp[i-1] [j]ï¼Œå³ä¸æ”¾ç‰©å“iï¼Œä¸€ä¸ªæ˜¯å–dp[j - weight[i]] + value[i]ï¼Œå³æ”¾ç‰©å“iï¼ŒæŒ‡å®šæ˜¯å–æœ€å¤§çš„ï¼Œæ¯•ç«Ÿæ˜¯æ±‚æœ€å¤§ä»·å€¼ï¼Œ<code>dp[j] = max(dp[j], dp[j - weight[i]] + value[i]);</code></p>
<ol start="3">
<li>ä¸€ç»´dpæ•°ç»„å¦‚ä½•åˆå§‹åŒ–</li>
</ol>
<p><strong>å…³äºåˆå§‹åŒ–ï¼Œä¸€å®šè¦å’Œdpæ•°ç»„çš„å®šä¹‰å»åˆï¼Œå¦åˆ™åˆ°é€’æ¨å…¬å¼çš„æ—¶å€™å°±ä¼šè¶Šæ¥è¶Šä¹±</strong>ã€‚</p>
<p>dp[j]è¡¨ç¤ºï¼šå®¹é‡ä¸ºjçš„èƒŒåŒ…ï¼Œæ‰€èƒŒçš„ç‰©å“ä»·å€¼å¯ä»¥æœ€å¤§ä¸ºdp[j]ï¼Œé‚£ä¹ˆdp[0]å°±åº”è¯¥æ˜¯0ï¼Œå› ä¸ºèƒŒåŒ…å®¹é‡ä¸º0æ‰€èƒŒçš„ç‰©å“çš„æœ€å¤§ä»·å€¼å°±æ˜¯0ã€‚</p>
<p>é‚£ä¹ˆdpæ•°ç»„é™¤äº†ä¸‹æ ‡0çš„ä½ç½®ï¼Œåˆå§‹ä¸º0ï¼Œå…¶ä»–ä¸‹æ ‡åº”è¯¥åˆå§‹åŒ–å¤šå°‘å‘¢ï¼Ÿ</p>
<p>çœ‹ä¸€ä¸‹é€’å½’å…¬å¼ï¼šdp[j] &#x3D; max(dp[j], dp[j - weight[i]] + value[i]);</p>
<p>dpæ•°ç»„åœ¨æ¨å¯¼çš„æ—¶å€™ä¸€å®šæ˜¯å–ä»·å€¼æœ€å¤§çš„æ•°ï¼Œå¦‚æœé¢˜ç›®ç»™çš„ä»·å€¼éƒ½æ˜¯æ­£æ•´æ•°é‚£ä¹ˆé0ä¸‹æ ‡éƒ½åˆå§‹åŒ–ä¸º0å°±å¯ä»¥äº†ã€‚</p>
<p><strong>è¿™æ ·æ‰èƒ½è®©dpæ•°ç»„åœ¨é€’å½’å…¬å¼çš„è¿‡ç¨‹ä¸­å–çš„æœ€å¤§çš„ä»·å€¼ï¼Œè€Œä¸æ˜¯è¢«åˆå§‹å€¼è¦†ç›–äº†</strong>ã€‚</p>
<p>é‚£ä¹ˆæˆ‘å‡è®¾ç‰©å“ä»·å€¼éƒ½æ˜¯å¤§äº0çš„ï¼Œæ‰€ä»¥dpæ•°ç»„åˆå§‹åŒ–çš„æ—¶å€™ï¼Œéƒ½åˆå§‹ä¸º0å°±å¯ä»¥äº†ã€‚</p>
<ol start="4">
<li>ä¸€ç»´dpæ•°ç»„éå†é¡ºåº</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; weight.size(); i++) &#123; <span class="comment">// éå†ç‰©å“</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> bagWeight; j &gt;= weight[i]; j--) &#123; <span class="comment">// éå†èƒŒåŒ…å®¹é‡</span></span><br><span class="line">        dp[j] = Math.max(dp[j], dp[j - weight[i]] + value[i]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>è¿™é‡Œå¤§å®¶å‘ç°å’ŒäºŒç»´dpçš„å†™æ³•ä¸­ï¼Œéå†èƒŒåŒ…çš„é¡ºåºæ˜¯ä¸ä¸€æ ·çš„ï¼</strong></p>
<p>äºŒç»´dpéå†çš„æ—¶å€™ï¼ŒèƒŒåŒ…å®¹é‡æ˜¯ä»å°åˆ°å¤§ï¼Œè€Œä¸€ç»´dpéå†çš„æ—¶å€™ï¼ŒèƒŒåŒ…æ˜¯ä»å¤§åˆ°å°ã€‚ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p>
<p><strong>å€’åºéå†æ˜¯ä¸ºäº†ä¿è¯ç‰©å“iåªè¢«æ”¾å…¥ä¸€æ¬¡ï¼</strong>ã€‚ä½†å¦‚æœä¸€æ—¦æ­£åºéå†äº†ï¼Œé‚£ä¹ˆç‰©å“0å°±ä¼šè¢«é‡å¤åŠ å…¥å¤šæ¬¡ï¼</p>
<p>ä¸¾ä¸€ä¸ªä¾‹å­ï¼šç‰©å“0çš„é‡é‡weight[0] &#x3D; 1ï¼Œä»·å€¼value[0] &#x3D; 15</p>
<p>å¦‚æœæ­£åºéå†</p>
<p>dp[1] &#x3D; dp[1 - weight[0]] + value[0] &#x3D; 15</p>
<p>dp[2] &#x3D; dp[2 - weight[0]] + value[0] &#x3D; 30</p>
<p>æ­¤æ—¶dp[2]å°±å·²ç»æ˜¯30äº†ï¼Œæ„å‘³ç€ç‰©å“0ï¼Œè¢«æ”¾å…¥äº†ä¸¤æ¬¡ï¼Œæ‰€ä»¥ä¸èƒ½æ­£åºéå†ã€‚</p>
<p>ä¸ºä»€ä¹ˆå€’åºéå†ï¼Œå°±å¯ä»¥ä¿è¯ç‰©å“åªæ”¾å…¥ä¸€æ¬¡å‘¢ï¼Ÿ</p>
<p>å€’åºå°±æ˜¯å…ˆç®—dp[2]</p>
<p>dp[2] &#x3D; dp[2 - weight[0]] + value[0] &#x3D; 15 ï¼ˆdpæ•°ç»„å·²ç»éƒ½åˆå§‹åŒ–ä¸º0ï¼‰</p>
<p>dp[1] &#x3D; dp[1 - weight[0]] + value[0] &#x3D; 15</p>
<p>æ‰€ä»¥ä»åå¾€å‰å¾ªç¯ï¼Œæ¯æ¬¡å–å¾—çŠ¶æ€ä¸ä¼šå’Œä¹‹å‰å–å¾—çŠ¶æ€é‡åˆï¼Œè¿™æ ·æ¯ç§ç‰©å“å°±åªå–ä¸€æ¬¡äº†ã€‚</p>
<p><strong>é‚£ä¹ˆé—®é¢˜åˆæ¥äº†ï¼Œä¸ºä»€ä¹ˆäºŒç»´dpæ•°ç»„å†çš„æ—¶å€™ä¸ç”¨å€’åºå‘¢ï¼Ÿ</strong></p>
<p>å› ä¸ºå¯¹äºäºŒç»´dpï¼Œdp[i] [j]éƒ½æ˜¯é€šè¿‡ä¸Šä¸€å±‚å³dp[i - 1] [j]è®¡ç®—è€Œæ¥ï¼Œæœ¬å±‚çš„dp[i] [j]å¹¶ä¸ä¼šè¢«è¦†ç›–ï¼</p>
<p>ï¼ˆå¦‚ä½•è¿™é‡Œè¯»ä¸æ‡‚ï¼Œå¤§å®¶å°±è¦åŠ¨æ‰‹è¯•ä¸€è¯•äº†ï¼Œç©ºæƒ³è¿˜æ˜¯ä¸é è°±çš„ï¼Œå®è·µå‡ºçœŸçŸ¥ï¼ï¼‰</p>
<p><strong>å†æ¥çœ‹çœ‹ä¸¤ä¸ªåµŒå¥—forå¾ªç¯çš„é¡ºåºï¼Œä»£ç ä¸­æ˜¯å…ˆéå†ç‰©å“åµŒå¥—éå†èƒŒåŒ…å®¹é‡ï¼Œé‚£å¯ä¸å¯ä»¥å…ˆéå†èƒŒåŒ…å®¹é‡åµŒå¥—éå†ç‰©å“å‘¢ï¼Ÿ</strong></p>
<p>ä¸å¯ä»¥ï¼</p>
<p>å› ä¸ºä¸€ç»´dpçš„å†™æ³•ï¼ŒèƒŒåŒ…å®¹é‡ä¸€å®šæ˜¯è¦å€’åºéå†ï¼ˆåŸå› ä¸Šé¢å·²ç»è®²äº†ï¼‰ï¼Œå¦‚æœéå†èƒŒåŒ…å®¹é‡æ”¾åœ¨ä¸Šä¸€å±‚ï¼Œé‚£ä¹ˆæ¯ä¸ªdp[j]å°±åªä¼šæ”¾å…¥ä¸€ä¸ªç‰©å“ï¼Œå³ï¼šèƒŒåŒ…é‡Œåªæ”¾å…¥äº†ä¸€ä¸ªç‰©å“ã€‚</p>
<p>å€’åºéå†çš„åŸå› æ˜¯ï¼Œæœ¬è´¨ä¸Šè¿˜æ˜¯ä¸€ä¸ªå¯¹äºŒç»´æ•°ç»„çš„éå†ï¼Œå¹¶ä¸”å³ä¸‹è§’çš„å€¼ä¾èµ–ä¸Šä¸€å±‚å·¦ä¸Šè§’çš„å€¼ï¼Œå› æ­¤éœ€è¦ä¿è¯å·¦è¾¹çš„å€¼ä»ç„¶æ˜¯ä¸Šä¸€å±‚çš„ï¼Œä»å³å‘å·¦è¦†ç›–ã€‚</p>
<p>ï¼ˆè¿™é‡Œå¦‚æœè¯»ä¸æ‡‚ï¼Œå°±åœ¨å›æƒ³ä¸€ä¸‹dp[j]çš„å®šä¹‰ï¼Œæˆ–è€…å°±æŠŠä¸¤ä¸ªforå¾ªç¯é¡ºåºé¢ å€’ä¸€ä¸‹è¯•è¯•ï¼ï¼‰</p>
<p><strong>æ‰€ä»¥ä¸€ç»´dpæ•°ç»„çš„èƒŒåŒ…åœ¨éå†é¡ºåºä¸Šå’ŒäºŒç»´å…¶å®æ˜¯æœ‰å¾ˆå¤§å·®å¼‚çš„ï¼</strong>ï¼Œè¿™ä¸€ç‚¹å¤§å®¶ä¸€å®šè¦æ³¨æ„ã€‚</p>
<ol start="5">
<li>ä¸¾ä¾‹æ¨å¯¼dpæ•°ç»„<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/20210110103614769-166968836378612.png" alt="åŠ¨æ€è§„åˆ’-èƒŒåŒ…é—®é¢˜9"></li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">bagProblem1</span><span class="params">(<span class="type">int</span>[] weight, <span class="type">int</span>[] values, <span class="type">int</span> bagSize)</span> &#123;</span><br><span class="line">    <span class="comment">// 1. dp[j]è¡¨ç¤ºèƒŒåŒ…å®¹é‡ä¸ºjæ—¶çš„æœ€å¤§ä»·å€¼</span></span><br><span class="line">    <span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[bagSize + <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2. åˆå§‹åŒ– dp[0]=0 å®¹é‡ä¸º0çš„èƒŒåŒ…è£…ä¸äº†ç‰©å“</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3. éå†é¡ºåº ä¸€å®šæ˜¯å…ˆç‰©å“å†èƒŒåŒ… ï¼Œ</span></span><br><span class="line">    <span class="comment">// ä¸€ç»´dpæ˜¯ä»äºŒç»´çš„ä¼˜åŒ–ï¼Œæœ¬è´¨ä¸Šè¿˜æ˜¯ä»å·¦ä¸Šè§’æ¥æ¨ï¼Œ ä½†æ˜¯å› ä¸ºèƒŒåŒ…å®¹é‡è¦å€’åºéå†ï¼Œé˜²æ­¢æ”¾å…¥å¤šä¸ªå•†å“ï¼Œæ‰€ä»¥ä¸€å®šè¦å…ˆéå†ç‰©å“ã€‚</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; weight.length; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> bagSize; j &gt;= weight[i]; j--) &#123;</span><br><span class="line">            dp[j] = Math.max(dp[j], dp[j - weight[i]] + values[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[bagSize];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="type">int</span>[] weight = &#123;<span class="number">1</span>, <span class="number">3</span>, <span class="number">4</span>&#125;;</span><br><span class="line">    <span class="type">int</span>[] values = &#123;<span class="number">15</span>, <span class="number">20</span>, <span class="number">30</span>&#125;;</span><br><span class="line">    System.out.println(bagProblem2(weight, values, <span class="number">4</span>));</span><br><span class="line">    System.out.println(bagProblem1(weight, values, <span class="number">4</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å‡ ä¸ªæ³¨æ„ç‚¹ï¼š</p>
<ol>
<li>èƒŒåŒ…å®¹é‡æ˜¯å€’åºéå†çš„ï¼Œé˜²æ­¢æ”¾å…¥å¤šä¸ªå•†å“ï¼Œé‡å¤ã€‚</li>
<li>éå†çš„é¡ºåºä¸èƒ½æ”¹å˜ï¼Œå› ä¸ºè¦ä»å·¦ä¸Šè§’å¾€å³ä¸‹æ¨ã€‚</li>
<li>éå†æ—¶æœ‰ä¸ªå°ç»†èŠ‚ j &gt;&#x3D; weight[i]ç»ˆæ­¢å¾ªç¯ï¼Œé˜²æ­¢è¶Šç•Œï¼Œçœå»äº†ifåˆ¤æ–­ã€‚</li>
<li>å’ŒäºŒç»´dpç›¸æ¯”ï¼Œä¸€ç»´dpæ˜¯æŠŠdp[i-1] [j]çš„é€‰é¡¹é€šè¿‡éå†åˆå¹¶åˆ°äº†dp[j]ã€‚</li>
</ol>
<h3 id="7-5ã€å®Œå…¨èƒŒåŒ…é—®é¢˜"><a href="#7-5ã€å®Œå…¨èƒŒåŒ…é—®é¢˜" class="headerlink" title="7.5ã€å®Œå…¨èƒŒåŒ…é—®é¢˜"></a>7.5ã€å®Œå…¨èƒŒåŒ…é—®é¢˜</h3><p>æœ‰Nä»¶ç‰©å“å’Œä¸€ä¸ªæœ€å¤šèƒ½èƒŒé‡é‡ä¸ºWçš„èƒŒåŒ…ã€‚ç¬¬iä»¶ç‰©å“çš„é‡é‡æ˜¯weight[i]ï¼Œå¾—åˆ°çš„ä»·å€¼æ˜¯value[i] ã€‚<strong>æ¯ä»¶ç‰©å“éƒ½æœ‰æ— é™ä¸ªï¼ˆä¹Ÿå°±æ˜¯å¯ä»¥æ”¾å…¥èƒŒåŒ…å¤šæ¬¡ï¼‰</strong>ï¼Œæ±‚è§£å°†å“ªäº›ç‰©å“è£…å…¥èƒŒåŒ…é‡Œç‰©å“ä»·å€¼æ€»å’Œæœ€å¤§ã€‚</p>
<p><strong>å®Œå…¨èƒŒåŒ…å’Œ01èƒŒåŒ…é—®é¢˜å”¯ä¸€ä¸åŒçš„åœ°æ–¹å°±æ˜¯ï¼Œæ¯ç§ç‰©å“æœ‰æ— é™ä»¶.</strong></p>
<p>æ¡ˆä¾‹ï¼š</p>
<p>èƒŒåŒ…æœ€å¤§é‡é‡ä¸º4ã€‚</p>
<p>ç‰©å“ä¸ºï¼š</p>
<table>
<thead>
<tr>
<th></th>
<th>é‡é‡</th>
<th>ä»·å€¼</th>
</tr>
</thead>
<tbody><tr>
<td>ç‰©å“0</td>
<td>1</td>
<td>15</td>
</tr>
<tr>
<td>ç‰©å“1</td>
<td>3</td>
<td>20</td>
</tr>
<tr>
<td>ç‰©å“2</td>
<td>4</td>
<td>30</td>
</tr>
</tbody></table>
<p>01èƒŒåŒ…å’Œå®Œå…¨èƒŒåŒ…å”¯ä¸€ä¸åŒå°±æ˜¯ä½“ç°åœ¨éå†é¡ºåºä¸Šã€‚</p>
<p>01èƒŒåŒ…çš„æ ¸å¿ƒä»£ç </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; weight.size(); i++) &#123; <span class="comment">// éå†ç‰©å“</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> bagWeight; j &gt;= weight[i]; j--) &#123; <span class="comment">// éå†èƒŒåŒ…å®¹é‡</span></span><br><span class="line">        dp[j] = max(dp[j], dp[j - weight[i]] + value[i]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬çŸ¥é“01èƒŒåŒ…å†…åµŒçš„å¾ªç¯æ˜¯ä»å¤§åˆ°å°éå†ï¼Œä¸ºäº†ä¿è¯æ¯ä¸ªç‰©å“ä»…è¢«æ·»åŠ ä¸€æ¬¡ã€‚</p>
<p>è€Œå®Œå…¨èƒŒåŒ…çš„ç‰©å“æ˜¯å¯ä»¥æ·»åŠ å¤šæ¬¡çš„ï¼Œæ‰€ä»¥è¦ä»å°åˆ°å¤§å»éå†ï¼Œå³ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å…ˆéå†ç‰©å“ï¼Œå†éå†èƒŒåŒ…</span></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; weight.size(); i++) &#123; <span class="comment">// éå†ç‰©å“</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> weight[i]; j &lt;= bagWeight ; j++) &#123; <span class="comment">// éå†èƒŒåŒ…å®¹é‡</span></span><br><span class="line">        dp[j] = Math.max(dp[j], dp[j - weight[i]] + value[i]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>dpçŠ¶æ€å›¾å¦‚ä¸‹ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/20210126104510106.jpg" alt="åŠ¨æ€è§„åˆ’-å®Œå…¨èƒŒåŒ…"></p>
<p><strong>ä¸ºä»€ä¹ˆéå†ç‰©å“åœ¨å¤–å±‚å¾ªç¯ï¼Œéå†èƒŒåŒ…å®¹é‡åœ¨å†…å±‚å¾ªç¯ï¼Ÿ</strong></p>
<p>01èƒŒåŒ…ä¸­äºŒç»´dpæ•°ç»„çš„ä¸¤ä¸ªforéå†çš„å…ˆåå¾ªåºæ˜¯å¯ä»¥é¢ å€’äº†ï¼Œä¸€ç»´dpæ•°ç»„çš„ä¸¤ä¸ªforå¾ªç¯å…ˆåå¾ªåºä¸€å®šæ˜¯å…ˆéå†ç‰©å“ï¼Œå†éå†èƒŒåŒ…å®¹é‡ã€‚</p>
<p><strong>åœ¨å®Œå…¨èƒŒåŒ…ä¸­ï¼Œå¯¹äºä¸€ç»´dpæ•°ç»„æ¥è¯´ï¼Œå…¶å®ä¸¤ä¸ªforå¾ªç¯åµŒå¥—é¡ºåºæ˜¯æ— æ‰€è°“çš„ï¼</strong></p>
<p>å› ä¸ºdp[j] æ˜¯æ ¹æ® ä¸‹æ ‡jä¹‹å‰æ‰€å¯¹åº”çš„dp[j]è®¡ç®—å‡ºæ¥çš„ã€‚ åªè¦ä¿è¯ä¸‹æ ‡jä¹‹å‰çš„dp[j]éƒ½æ˜¯ç»è¿‡è®¡ç®—çš„å°±å¯ä»¥äº†ã€‚</p>
<p>éå†ç‰©å“åœ¨å¤–å±‚å¾ªç¯ï¼Œéå†èƒŒåŒ…å®¹é‡åœ¨å†…å±‚å¾ªç¯ï¼ŒçŠ¶æ€å¦‚å›¾ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/20210126104529605.jpg" alt="åŠ¨æ€è§„åˆ’-å®Œå…¨èƒŒåŒ…1"></p>
<p>éå†èƒŒåŒ…å®¹é‡åœ¨å¤–å±‚å¾ªç¯ï¼Œéå†ç‰©å“åœ¨å†…å±‚å¾ªç¯ï¼ŒçŠ¶æ€å¦‚å›¾ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/20210729234011.png" alt="åŠ¨æ€è§„åˆ’-å®Œå…¨èƒŒåŒ…2"></p>
<p>çœ‹äº†è¿™ä¸¤ä¸ªå›¾ï¼Œå¤§å®¶å°±ä¼šç†è§£ï¼Œå®Œå…¨èƒŒåŒ…ä¸­ï¼Œä¸¤ä¸ªforå¾ªç¯çš„å…ˆåå¾ªåºï¼Œéƒ½ä¸å½±å“è®¡ç®—dp[j]æ‰€éœ€è¦çš„å€¼ï¼ˆè¿™ä¸ªå€¼å°±æ˜¯ä¸‹æ ‡jä¹‹å‰æ‰€å¯¹åº”çš„dp[j]ï¼‰ã€‚ </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å®Œå…¨èƒŒåŒ…</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">bagProblem3</span><span class="params">(<span class="type">int</span>[] weight, <span class="type">int</span>[] values, <span class="type">int</span> bagSize)</span> &#123;</span><br><span class="line">    <span class="comment">// 1. dp[j]è¡¨ç¤ºèƒŒåŒ…å®¹é‡ä¸ºjæ—¶çš„æœ€å¤§ä»·å€¼</span></span><br><span class="line">    <span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[bagSize + <span class="number">1</span>];</span><br><span class="line">    <span class="comment">// 2. åˆå§‹åŒ– dp[0]=0 å®¹é‡ä¸º0çš„èƒŒåŒ…è£…ä¸äº†ç‰©å“</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3. å¯¹äºå®Œå…¨èƒŒåŒ…å…ˆéå†ç‰©å“æˆ–è€…èƒŒåŒ…éƒ½å¯ä»¥ï¼Œè€Œä¸”éå†å®¹é‡æ—¶æ˜¯ä»å‰å¾€åçš„</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; weight.length; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> weight[i]; j &lt;= bagSize; j++) &#123;</span><br><span class="line">            dp[j] = Math.max(dp[j], dp[j - weight[i]] + values[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> dp[bagSize];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="7-6ã€åŠ¨æ€è§„åˆ’è§£é¢˜æ¡†æ¶"><a href="#7-6ã€åŠ¨æ€è§„åˆ’è§£é¢˜æ¡†æ¶" class="headerlink" title="7.6ã€åŠ¨æ€è§„åˆ’è§£é¢˜æ¡†æ¶"></a>7.6ã€åŠ¨æ€è§„åˆ’è§£é¢˜æ¡†æ¶</h3><p>è‹¥ç¡®å®šç»™å®šé—®é¢˜å…·æœ‰é‡å å­é—®é¢˜å’Œæœ€ä¼˜å­ç»“æ„ï¼Œé‚£ä¹ˆå°±å¯ä»¥ä½¿ç”¨åŠ¨æ€è§„åˆ’æ±‚è§£ã€‚æ€»ä½“ä¸Šçœ‹ï¼Œæ±‚è§£å¯åˆ†ä¸ºå››æ­¥ï¼š</p>
<ol>
<li>çŠ¶æ€å®šä¹‰ï¼š æ„å»ºé—®é¢˜æœ€ä¼˜è§£æ¨¡å‹ï¼ŒåŒ…æ‹¬é—®é¢˜æœ€ä¼˜è§£çš„å®šä¹‰ã€æœ‰å“ªäº›è®¡ç®—è§£çš„è‡ªå˜é‡ï¼›</li>
<li>åˆå§‹çŠ¶æ€ï¼š ç¡®å®šåŸºç¡€å­é—®é¢˜çš„è§£ï¼ˆå³å·²çŸ¥è§£ï¼‰ï¼ŒåŸé—®é¢˜å’Œå­é—®é¢˜çš„è§£éƒ½æ˜¯ä»¥åŸºç¡€å­é—®é¢˜çš„è§£ä¸ºèµ·å§‹ç‚¹ï¼Œåœ¨è¿­ä»£è®¡ç®—ä¸­å¾—åˆ°çš„ï¼›</li>
<li>è½¬ç§»æ–¹ç¨‹ï¼š ç¡®å®šåŸé—®é¢˜çš„è§£ä¸å­é—®é¢˜çš„è§£ä¹‹é—´çš„å…³ç³»æ˜¯ä»€ä¹ˆï¼Œä»¥åŠä½¿ç”¨ä½•ç§é€‰æ‹©è§„åˆ™ä»å­é—®é¢˜æœ€ä¼˜è§£ç»„åˆä¸­é€‰å‡ºåŸé—®é¢˜æœ€ä¼˜è§£ï¼›</li>
<li>è¿”å›å€¼ï¼š ç¡®å®šåº”è¿”å›çš„é—®é¢˜çš„è§£æ˜¯ä»€ä¹ˆï¼Œå³åŠ¨æ€è§„åˆ’åœ¨ä½•å¤„åœæ­¢è¿­ä»£ï¼›</li>
</ol>
<p>å®Œæˆä»¥ä¸Šæ­¥éª¤åï¼Œä¾¿å®¹æ˜“å†™å‡ºå¯¹åº”çš„è§£é¢˜ä»£ç ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202210311209375.png" alt="image-20221031120901274"></p>
<h3 id="7-5ã€å‰‘æŒ‡-Offer-10-I-æ–æ³¢é‚£å¥‘æ•°åˆ—"><a href="#7-5ã€å‰‘æŒ‡-Offer-10-I-æ–æ³¢é‚£å¥‘æ•°åˆ—" class="headerlink" title="7.5ã€å‰‘æŒ‡ Offer 10- I. æ–æ³¢é‚£å¥‘æ•°åˆ—"></a>7.5ã€å‰‘æŒ‡ Offer 10- I. æ–æ³¢é‚£å¥‘æ•°åˆ—</h3><p>å†™ä¸€ä¸ªå‡½æ•°ï¼Œè¾“å…¥ <code>n</code> ï¼Œæ±‚æ–æ³¢é‚£å¥‘ï¼ˆFibonacciï¼‰æ•°åˆ—çš„ç¬¬ <code>n</code> é¡¹ï¼ˆå³ <code>F(N)</code>ï¼‰ã€‚æ–æ³¢é‚£å¥‘æ•°åˆ—çš„å®šä¹‰å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">F(0) = 0,   F(1) = 1</span><br><span class="line">F(N) = F(N - 1) + F(N - 2), å…¶ä¸­ N &gt; 1.</span><br></pre></td></tr></table></figure>

<p>æ–æ³¢é‚£å¥‘æ•°åˆ—ç”± 0 å’Œ 1 å¼€å§‹ï¼Œä¹‹åçš„æ–æ³¢é‚£å¥‘æ•°å°±æ˜¯ç”±ä¹‹å‰çš„ä¸¤æ•°ç›¸åŠ è€Œå¾—å‡ºã€‚</p>
<p>ç­”æ¡ˆéœ€è¦å–æ¨¡ 1e9+7ï¼ˆ1000000007ï¼‰ï¼Œå¦‚è®¡ç®—åˆå§‹ç»“æœä¸ºï¼š1000000008ï¼Œè¯·è¿”å› 1ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = 2</span><br><span class="line">è¾“å‡ºï¼š1</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = 5</span><br><span class="line">è¾“å‡ºï¼š5</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>0 &lt;= n &lt;= 100</code></li>
</ul>
<p>Related Topics</p>
<p>è®°å¿†åŒ–æœç´¢</p>
<p>æ•°å­¦</p>
<p>åŠ¨æ€è§„åˆ’</p>
<blockquote>
<p>ç›¸æ¯”äºä¸€èˆ¬çš„fibåŠ äº†å–ä½™æ•°çš„è¿‡ç¨‹</p>
</blockquote>
<h4 id="è®°å¿†åŒ–æœç´¢"><a href="#è®°å¿†åŒ–æœç´¢" class="headerlink" title="è®°å¿†åŒ–æœç´¢"></a>è®°å¿†åŒ–æœç´¢</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è®°å¿†åŒ–æœç´¢</span></span><br><span class="line"><span class="comment">     * */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">fib</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[n + <span class="number">1</span>];<span class="comment">//è®°å½•ä¹‹å‰æœç´¢çš„æ•°æ®</span></span><br><span class="line">        <span class="keyword">return</span> fibonacci(n, dp);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">fibonacci</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span>[] dp)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (n == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (n == <span class="number">1</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (dp[n] != <span class="number">0</span>) <span class="keyword">return</span> dp[n];<span class="comment">//å¦‚æœä¹‹å‰æœ‰è®°å½• ç›´æ¥è¿”å›</span></span><br><span class="line">        <span class="keyword">else</span> dp[n] = (fibonacci(n - <span class="number">1</span>, dp) + fibonacci(n - <span class="number">2</span>, dp)) % <span class="number">1000000007</span>;</span><br><span class="line">        <span class="keyword">return</span> dp[n];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="åŠ¨æ€è§„åˆ’-2"><a href="#åŠ¨æ€è§„åˆ’-2" class="headerlink" title="åŠ¨æ€è§„åˆ’"></a>åŠ¨æ€è§„åˆ’</h4><h3 id="7-6ã€å‰‘æŒ‡-Offer-19-æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…"><a href="#7-6ã€å‰‘æŒ‡-Offer-19-æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…" class="headerlink" title="7.6ã€å‰‘æŒ‡ Offer 19. æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…"></a>7.6ã€å‰‘æŒ‡ Offer 19. æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…</h3><p>è¯·å®ç°ä¸€ä¸ªå‡½æ•°ç”¨æ¥åŒ¹é…åŒ…å«<code>&#39;. &#39;</code>å’Œ<code>&#39;*&#39;</code>çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚æ¨¡å¼ä¸­çš„å­—ç¬¦<code>&#39;.&#39;</code>è¡¨ç¤ºä»»æ„ä¸€ä¸ªå­—ç¬¦ï¼Œè€Œ<code>&#39;*&#39;</code>è¡¨ç¤ºå®ƒå‰é¢çš„å­—ç¬¦å¯ä»¥å‡ºç°ä»»æ„æ¬¡ï¼ˆå«0æ¬¡ï¼‰ã€‚åœ¨æœ¬é¢˜ä¸­ï¼ŒåŒ¹é…æ˜¯æŒ‡å­—ç¬¦ä¸²çš„æ‰€æœ‰å­—ç¬¦åŒ¹é…æ•´ä¸ªæ¨¡å¼ã€‚ä¾‹å¦‚ï¼Œå­—ç¬¦ä¸²<code>&quot;aaa&quot;</code>ä¸æ¨¡å¼<code>&quot;a.a&quot;</code>å’Œ<code>&quot;ab*ac*a&quot;</code>åŒ¹é…ï¼Œä½†ä¸<code>&quot;aa.a&quot;</code>å’Œ<code>&quot;ab*a&quot;</code>å‡ä¸åŒ¹é…ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥:</span><br><span class="line">s = &quot;aa&quot;</span><br><span class="line">p = &quot;a&quot;</span><br><span class="line">è¾“å‡º: false</span><br><span class="line">è§£é‡Š: &quot;a&quot; æ— æ³•åŒ¹é… &quot;aa&quot; æ•´ä¸ªå­—ç¬¦ä¸²ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥:</span><br><span class="line">s = &quot;aa&quot;</span><br><span class="line">p = &quot;a*&quot;</span><br><span class="line">è¾“å‡º: true</span><br><span class="line">è§£é‡Š: å› ä¸º &#x27;*&#x27; ä»£è¡¨å¯ä»¥åŒ¹é…é›¶ä¸ªæˆ–å¤šä¸ªå‰é¢çš„é‚£ä¸€ä¸ªå…ƒç´ , åœ¨è¿™é‡Œå‰é¢çš„å…ƒç´ å°±æ˜¯ &#x27;a&#x27;ã€‚å› æ­¤ï¼Œå­—ç¬¦ä¸² &quot;aa&quot; å¯è¢«è§†ä¸º &#x27;a&#x27; é‡å¤äº†ä¸€æ¬¡ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥:</span><br><span class="line">s = &quot;ab&quot;</span><br><span class="line">p = &quot;.*&quot;</span><br><span class="line">è¾“å‡º: true</span><br><span class="line">è§£é‡Š: &quot;.*&quot; è¡¨ç¤ºå¯åŒ¹é…é›¶ä¸ªæˆ–å¤šä¸ªï¼ˆ&#x27;*&#x27;ï¼‰ä»»æ„å­—ç¬¦ï¼ˆ&#x27;.&#x27;ï¼‰ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 4:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥:</span><br><span class="line">s = &quot;aab&quot;</span><br><span class="line">p = &quot;c*a*b&quot;</span><br><span class="line">è¾“å‡º: true</span><br><span class="line">è§£é‡Š: å› ä¸º &#x27;*&#x27; è¡¨ç¤ºé›¶ä¸ªæˆ–å¤šä¸ªï¼Œè¿™é‡Œ &#x27;c&#x27; ä¸º 0 ä¸ª, &#x27;a&#x27; è¢«é‡å¤ä¸€æ¬¡ã€‚å› æ­¤å¯ä»¥åŒ¹é…å­—ç¬¦ä¸² &quot;aab&quot;ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 5:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥:</span><br><span class="line">s = &quot;mississippi&quot;</span><br><span class="line">p = &quot;mis*is*p*.&quot;</span><br><span class="line">è¾“å‡º: false</span><br></pre></td></tr></table></figure>

<ul>
<li><code>s</code> å¯èƒ½ä¸ºç©ºï¼Œä¸”åªåŒ…å«ä» <code>a-z</code> çš„å°å†™å­—æ¯ã€‚</li>
<li><code>p</code> å¯èƒ½ä¸ºç©ºï¼Œä¸”åªåŒ…å«ä» <code>a-z</code> çš„å°å†™å­—æ¯ä»¥åŠå­—ç¬¦ <code>.</code> å’Œ <code>*</code>ï¼Œæ— è¿ç»­çš„ <code>&#39;*&#39;</code>ã€‚</li>
</ul>
<hr>
<p><strong>è§£é¢˜æ€è·¯</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202211011104013.png" alt="image-20221101110409896"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.leetcode-cn.com/1614516402-HyzAil-Picture1.png" alt="Picture1.png"></p>
<p>å› æ­¤ï¼Œæœ¬é¢˜çš„çŠ¶æ€å…±æœ‰ mÃ—n ç§ï¼Œåº”å®šä¹‰çŠ¶æ€çŸ©é˜µ dp ï¼Œdp[i] [j]ä»£è¡¨ s[:i] ä¸ p[:j] æ˜¯å¦å¯ä»¥åŒ¹é…ã€‚</p>
<p>åšå¥½çŠ¶æ€å®šä¹‰ï¼Œæ¥ä¸‹æ¥å°±æ˜¯æ ¹æ® ã€Œæ™®é€šå­—ç¬¦ã€ , ã€Œ.ã€ , ã€Œ*ã€ä¸‰ç§å­—ç¬¦çš„åŠŸèƒ½å®šä¹‰ï¼Œåˆ†æå‡ºåŠ¨æ€è§„åˆ’çš„è½¬ç§»æ–¹ç¨‹ã€‚</p>
<p><strong>åŠ¨æ€è§„åˆ’è§£æï¼š</strong></p>
<ul>
<li><p><strong>çŠ¶æ€å®šä¹‰ï¼š</strong> è®¾åŠ¨æ€è§„åˆ’çŸ©é˜µ dp ï¼Œ dp[i] [j] ä»£è¡¨å­—ç¬¦ä¸² s çš„å‰ i ä¸ªå­—ç¬¦å’Œ p çš„å‰ j ä¸ªå­—ç¬¦èƒ½å¦åŒ¹é…ã€‚</p>
</li>
<li><p><strong>è½¬ç§»æ–¹ç¨‹ï¼š</strong> éœ€è¦æ³¨æ„ï¼Œç”±äº dp[0] [0] ä»£è¡¨çš„æ˜¯ç©ºå­—ç¬¦çš„çŠ¶æ€ï¼Œ å› æ­¤ dp[i] [j] å¯¹åº”çš„æ·»åŠ å­—ç¬¦æ˜¯ s[i - 1] å’Œ p[j - 1] ã€‚</p>
<ul>
<li>å½“ p[j - 1] &#x3D; â€˜*â€™ æ—¶ï¼Œ dp[i] [j] åœ¨å½“ä»¥ä¸‹ä»»ä¸€æƒ…å†µä¸º true æ—¶ç­‰äº true ï¼š<ul>
<li>dp[i] [j - 2]ï¼š å³å°†å­—ç¬¦ç»„åˆ p[j - 2] * çœ‹ä½œå‡ºç° 0 æ¬¡æ—¶ï¼Œèƒ½å¦åŒ¹é…ï¼›</li>
<li>dp[i - 1] [j] ä¸” s[i - 1] &#x3D; p[j - 2] : å³è®©å­—ç¬¦ p[j - 2] å¤šå‡ºç° 1 æ¬¡æ—¶ï¼Œèƒ½å¦åŒ¹é…ï¼›</li>
<li>dp[i - 1] [j] ä¸” p[j - 2] &#x3D; â€˜.â€™ : å³è®©å­—ç¬¦ â€˜.â€™ å¤šå‡ºç° 1 æ¬¡æ—¶ï¼Œèƒ½å¦åŒ¹é…ï¼›</li>
</ul>
</li>
<li>å½“ p[j - 1] !&#x3D; â€˜*â€™ æ—¶ï¼Œ dp[i] [j] åœ¨å½“ä»¥ä¸‹ä»»ä¸€æƒ…å†µä¸º true æ—¶ç­‰äº true ï¼š<ul>
<li>dp[i - 1] [j - 1] ä¸” s[i - 1] &#x3D; p[j - 1]ï¼š å³è®©å­—ç¬¦ p[j - 1] å¤šå‡ºç°ä¸€æ¬¡æ—¶ï¼Œèƒ½å¦åŒ¹é…ï¼›</li>
<li>dp[i - 1] [j - 1] ä¸” p[j - 1] &#x3D; â€˜.â€™ï¼š å³å°†å­—ç¬¦ . çœ‹ä½œå­—ç¬¦ s[i - 1] æ—¶ï¼Œèƒ½å¦åŒ¹é…ï¼›</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>åˆå§‹åŒ–ï¼š</strong> éœ€è¦å…ˆåˆå§‹åŒ– dp çŸ©é˜µé¦–è¡Œï¼Œä»¥é¿å…çŠ¶æ€è½¬ç§»æ—¶ç´¢å¼•è¶Šç•Œã€‚</p>
<ul>
<li>dp[0] [0] &#x3D; trueï¼š ä»£è¡¨ä¸¤ä¸ªç©ºå­—ç¬¦ä¸²èƒ½å¤ŸåŒ¹é…ã€‚<br>dp[0] [j] &#x3D; dp[0] [j - 2] ä¸” p[j - 1] &#x3D; â€˜*â€™ï¼š é¦–è¡Œ s ä¸ºç©ºå­—ç¬¦ä¸²ï¼Œå› æ­¤å½“ p çš„å¶æ•°ä½ä¸º * æ—¶æ‰èƒ½å¤ŸåŒ¹é…ï¼ˆå³è®© p çš„å¥‡æ•°ä½å‡ºç° 0 æ¬¡ï¼Œä¿æŒ p æ˜¯ç©ºå­—ç¬¦ä¸²ï¼‰ã€‚å› æ­¤ï¼Œå¾ªç¯éå†å­—ç¬¦ä¸² p ï¼Œæ­¥é•¿ä¸º 2ï¼ˆå³åªçœ‹å¶æ•°ä½ï¼‰ã€‚<br>è¿”å›å€¼ï¼š dp çŸ©é˜µå³ä¸‹è§’å­—ç¬¦ï¼Œä»£è¡¨å­—ç¬¦ä¸² s å’Œ p èƒ½å¦åŒ¹é…ã€‚</li>
</ul>
</li>
<li><p><strong>è¿”å›å€¼ï¼š</strong> <code>dp</code> çŸ©é˜µå³ä¸‹è§’å­—ç¬¦ï¼Œä»£è¡¨å­—ç¬¦ä¸² <code>s</code> å’Œ <code>p</code> èƒ½å¦åŒ¹é…ã€‚</p>
</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.leetcode-cn.com/1614516402-MacqQq-Picture4.png" alt="img"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.leetcode-cn.com/1614516402-ATFWBt-Picture6.png" alt="img"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.leetcode-cn.com/1614516402-HHmdNJ-Picture12.png" alt="img"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.leetcode-cn.com/1614516402-bBdFaG-Picture13.png" alt="img"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic.leetcode-cn.com/1614516402-ibjjpB-Picture18.png" alt="img"></p>
<p><strong>å¤æ‚åº¦åˆ†æï¼š</strong><br>æ—¶é—´å¤æ‚åº¦ O(MN)ï¼š å…¶ä¸­ M, Nåˆ†åˆ«ä¸º s å’Œ p çš„é•¿åº¦ï¼ŒçŠ¶æ€è½¬ç§»éœ€éå†æ•´ä¸ª dp çŸ©é˜µã€‚<br>ç©ºé—´å¤æ‚åº¦ O(MN)ï¼š çŠ¶æ€çŸ©é˜µ dp ä½¿ç”¨ O(MN)çš„é¢å¤–ç©ºé—´ã€‚</p>
<h3 id="7-7ã€å‰‘æŒ‡-Offer-46-æŠŠæ•°å­—ç¿»è¯‘æˆå­—ç¬¦ä¸²"><a href="#7-7ã€å‰‘æŒ‡-Offer-46-æŠŠæ•°å­—ç¿»è¯‘æˆå­—ç¬¦ä¸²" class="headerlink" title="7.7ã€å‰‘æŒ‡ Offer 46. æŠŠæ•°å­—ç¿»è¯‘æˆå­—ç¬¦ä¸²"></a>7.7ã€å‰‘æŒ‡ Offer 46. æŠŠæ•°å­—ç¿»è¯‘æˆå­—ç¬¦ä¸²</h3><p>ç»™å®šä¸€ä¸ªæ•°å­—ï¼Œæˆ‘ä»¬æŒ‰ç…§å¦‚ä¸‹è§„åˆ™æŠŠå®ƒç¿»è¯‘ä¸ºå­—ç¬¦ä¸²ï¼š0 ç¿»è¯‘æˆ â€œaâ€ ï¼Œ1 ç¿»è¯‘æˆ â€œbâ€ï¼Œâ€¦â€¦ï¼Œ11 ç¿»è¯‘æˆ â€œlâ€ï¼Œâ€¦â€¦ï¼Œ25 ç¿»è¯‘æˆ â€œzâ€ã€‚ä¸€ä¸ªæ•°å­—å¯èƒ½æœ‰å¤šä¸ªç¿»è¯‘ã€‚è¯·ç¼–ç¨‹å®ç°ä¸€ä¸ªå‡½æ•°ï¼Œç”¨æ¥è®¡ç®—ä¸€ä¸ªæ•°å­—æœ‰å¤šå°‘ç§ä¸åŒçš„ç¿»è¯‘æ–¹æ³•ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: 12258</span><br><span class="line">è¾“å‡º: 5</span><br><span class="line">è§£é‡Š: 12258æœ‰5ç§ä¸åŒçš„ç¿»è¯‘ï¼Œåˆ†åˆ«æ˜¯&quot;bccfi&quot;, &quot;bwfi&quot;, &quot;bczi&quot;, &quot;mcfi&quot;å’Œ&quot;mzi&quot;</span><br></pre></td></tr></table></figure>

<ul>
<li>dp[0] [i] iä¸ªæ•°å­—å¯¹åº”æœ€å¤šçš„ç¿»è¯‘(iä¸å‚åŠ ç¿»è¯‘ï¼‰</li>
<li>dp[1] [i] iä¸ªæ•°å­—å¯¹åº”æœ€å¤šçš„ç¿»è¯‘(iå‚åŠ ç¿»è¯‘ï¼‰</li>
</ul>
<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>0 &lt;= num &lt; 231</code></li>
</ul>
<p>Related Topics</p>
<p>å­—ç¬¦ä¸²</p>
<p>åŠ¨æ€è§„åˆ’0</p>
<p><strong>è§£é¢˜æ€è·¯ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202211161709589.png" alt="Picture1.png"></p>
<ul>
<li>ç¡®å®šdp[i]çš„å«ä¹‰ï¼šdp[i] ä»£è¡¨ä»¥ xi ä¸ºç»“å°¾çš„æ•°å­—çš„ç¿»è¯‘æ–¹æ¡ˆæ•°é‡ã€‚</li>
<li>ç¡®å®šçŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸º</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202211161716249.png" alt="image-20221116171600192"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">å½“xi-1å’Œxièƒ½ä¸€èµ·ç¿»è¯‘æ—¶ï¼Œdp[i] = dp[i - 1] + dp[i - 2]ï¼›</span><br><span class="line">å› ä¸ºå¯ä»¥é€‰æ‹©xiå’Œxi-1æŒ‰é¡ºåºç¿»è¯‘dp[i-1]ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©xiå’Œxi-1ä¸€èµ·ç¿»è¯‘dp[i-2].</span><br><span class="line">å½“xi-1å’Œxiä¸èƒ½ä¸€èµ·ç¿»è¯‘æ—¶ï¼Œdp[i] = dp[i - 1]ï¼›</span><br><span class="line">å› ä¸ºåªèƒ½æŒ‰é¡ºåºç¿»è¯‘ï¼Œdp[i-1]</span><br></pre></td></tr></table></figure>

<ul>
<li>åˆå§‹åŒ–dp[0]&#x3D;1(ä¸ºäº†ç¬¬äºŒä¸ªä½ç½®å‡†å¤‡),dp[1]&#x3D;1</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">translateNum</span><span class="params">(<span class="type">int</span> num)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> num + <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> s.length();</span><br><span class="line">        <span class="comment">// dp[0] [i] ç¬¬iä¸ªæ•°å­—å¯¹åº”æœ€å¤šçš„ç¿»è¯‘</span></span><br><span class="line">        <span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[n + <span class="number">1</span>];</span><br><span class="line">        <span class="comment">// åˆå§‹åŒ–</span></span><br><span class="line">        dp[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">        dp[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//æ ¹æ®çŠ¶æ€è½¬ç§»æ–¹ç¨‹éå†</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">2</span>; i &lt; n + <span class="number">1</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (s.charAt(i - <span class="number">2</span>) &lt; <span class="string">&#x27;2&#x27;</span> &amp;&amp; s.charAt(i - <span class="number">2</span>) &gt; <span class="string">&#x27;0&#x27;</span> || (s.charAt(i - <span class="number">2</span>) == <span class="string">&#x27;2&#x27;</span> &amp;&amp; s.charAt(i - <span class="number">1</span>) &lt;= <span class="string">&#x27;5&#x27;</span>)) &#123;</span><br><span class="line">                dp[i] = dp[i - <span class="number">1</span>] + dp[i - <span class="number">2</span>];</span><br><span class="line">            &#125; <span class="keyword">else</span></span><br><span class="line">                dp[i] = dp[i - <span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[n];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ—¶é—´å¤æ‚åº¦O(N)</p>
<p>ç©ºé—´å¤æ‚åº¦O(N)</p>
<ul>
<li>å¯ä»¥ç”¨å¾ªç¯ä¸å˜é‡è®©æ—¶é—´å¤æ‚åº¦é™ä¸ºO(1)</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">translateNum</span><span class="params">(<span class="type">int</span> num)</span> &#123;</span><br><span class="line">       <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> num + <span class="string">&quot;&quot;</span>;</span><br><span class="line">       <span class="comment">// åˆå§‹åŒ–</span></span><br><span class="line">       <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">1</span>;<span class="comment">//dp[i-2]</span></span><br><span class="line">       <span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> <span class="number">1</span>;<span class="comment">//dp[i-1]</span></span><br><span class="line"></span><br><span class="line">       <span class="comment">//æ ¹æ®çŠ¶æ€è½¬ç§»æ–¹ç¨‹éå†</span></span><br><span class="line">       <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">2</span>; i &lt; s.length() + <span class="number">1</span>; i++) &#123;</span><br><span class="line">           <span class="keyword">if</span> (s.charAt(i - <span class="number">2</span>) &lt; <span class="string">&#x27;2&#x27;</span> &amp;&amp; s.charAt(i - <span class="number">2</span>) &gt; <span class="string">&#x27;0&#x27;</span> || (s.charAt(i - <span class="number">2</span>) == <span class="string">&#x27;2&#x27;</span> &amp;&amp; s.charAt(i - <span class="number">1</span>) &lt;= <span class="string">&#x27;5&#x27;</span>)) &#123;</span><br><span class="line">               <span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> a + b;</span><br><span class="line">               a = b;</span><br><span class="line">               b = c;</span><br><span class="line">           &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">           	a = b;</span><br><span class="line">           &#125; </span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> b;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>ä¸æ˜¯ç”¨å­—ç¬¦ä¸²ï¼Œç›´æ¥ä½¿ç”¨æ•°å­—æ¥å–ä½™ï¼Œçœå»å­—ç¬¦ä¸²çš„O(N)</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">translateNum</span><span class="params">(<span class="type">int</span> num)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">1</span>;<span class="comment">//dp[i - 2]</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> <span class="number">1</span>;<span class="comment">//dp[i - 1]</span></span><br><span class="line">        <span class="type">int</span> x;<span class="comment">//</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">y</span> <span class="operator">=</span> num % <span class="number">10</span>;<span class="comment">//æœ€åä¸€ä½</span></span><br><span class="line">        <span class="keyword">while</span>(num &gt; <span class="number">9</span>) &#123;</span><br><span class="line">            num /= <span class="number">10</span>;</span><br><span class="line">            x = num % <span class="number">10</span>;<span class="comment">//å€’æ•°ç¬¬äºŒä½</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">tmp</span> <span class="operator">=</span> <span class="number">10</span> * x + y;<span class="comment">//ç®—å€¼</span></span><br><span class="line">            <span class="keyword">if</span> (tmp &gt;= <span class="number">10</span> &amp;&amp; tmp &lt;= <span class="number">25</span>) &#123;<span class="comment">//å¯ä»¥ä¸¤ä½ä¸€èµ·ç®—</span></span><br><span class="line">                <span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> a + b;</span><br><span class="line">                a = b;</span><br><span class="line">                b = c;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            	a = b;</span><br><span class="line">            &#125; </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="7-8ã€å‰‘æŒ‡-Offer-47-ç¤¼ç‰©çš„æœ€å¤§ä»·å€¼"><a href="#7-8ã€å‰‘æŒ‡-Offer-47-ç¤¼ç‰©çš„æœ€å¤§ä»·å€¼" class="headerlink" title="7.8ã€å‰‘æŒ‡ Offer 47. ç¤¼ç‰©çš„æœ€å¤§ä»·å€¼"></a>7.8ã€å‰‘æŒ‡ Offer 47. ç¤¼ç‰©çš„æœ€å¤§ä»·å€¼</h3><p>åœ¨ä¸€ä¸ª m*n çš„æ£‹ç›˜çš„æ¯ä¸€æ ¼éƒ½æ”¾æœ‰ä¸€ä¸ªç¤¼ç‰©ï¼Œæ¯ä¸ªç¤¼ç‰©éƒ½æœ‰ä¸€å®šçš„ä»·å€¼ï¼ˆä»·å€¼å¤§äº 0ï¼‰ã€‚ä½ å¯ä»¥ä»æ£‹ç›˜çš„å·¦ä¸Šè§’å¼€å§‹æ‹¿æ ¼å­é‡Œçš„ç¤¼ç‰©ï¼Œå¹¶æ¯æ¬¡å‘å³æˆ–è€…å‘ä¸‹ç§»åŠ¨ä¸€æ ¼ã€ç›´åˆ°åˆ°è¾¾æ£‹ç›˜çš„å³ä¸‹è§’ã€‚ç»™å®šä¸€ä¸ªæ£‹ç›˜åŠå…¶ä¸Šé¢çš„ç¤¼ç‰©çš„ä»·å€¼ï¼Œè¯·è®¡ç®—ä½ æœ€å¤šèƒ½æ‹¿åˆ°å¤šå°‘ä»·å€¼çš„ç¤¼ç‰©ï¼Ÿ</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: </span><br><span class="line">[</span><br><span class="line">  [1,3,1],</span><br><span class="line">  [1,5,1],</span><br><span class="line">  [4,2,1]</span><br><span class="line">]</span><br><span class="line">è¾“å‡º: 12</span><br><span class="line">è§£é‡Š: è·¯å¾„ 1â†’3â†’5â†’2â†’1 å¯ä»¥æ‹¿åˆ°æœ€å¤šä»·å€¼çš„ç¤¼ç‰©</span><br></pre></td></tr></table></figure>

<p>æç¤ºï¼š</p>
<ul>
<li><code>0 &lt; grid.length &lt;= 200</code></li>
<li><code>0 &lt; grid[0].length &lt;= 200</code></li>
</ul>
<p>Related Topics</p>
<p>æ•°ç»„</p>
<p>åŠ¨æ€è§„åˆ’</p>
<p>çŸ©é˜µ</p>
<p><strong>è§£é¢˜æ€è·¯ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202211161855965.png" alt="Picture1.png"></p>
<ul>
<li><p>dpæ•°ç»„çš„å«ä¹‰ï¼šç›´æ¥åœ¨åŸgrid[] []ä¸Šè¿›è¡Œä¿®æ”¹ï¼Œè¡¨ç¤ºä»èµ·åˆ°åˆ°grid[i] [j]çš„æœ€å¤§ä»·å€¼</p>
</li>
<li><p>ç¡®å®šçŠ¶æ€è½¬ç§»å…¬å¼</p>
<p>å¯¹äºä¸¤ä¸ªè¾¹grid[0] [j]æ˜¯ä»èµ·ç‚¹æ¥è¿›è¡Œç´¯åŠ <code>grid[0] [j] = grid[0] [j - 1] + grid[0] [j]</code>ï¼›</p>
<p>å’Œgrid[i] [0]æ˜¯ä»èµ·ç‚¹æ¥è¿›è¡Œç´¯åŠ <code>grid[i] [0] = grid[i - 1] [0] + grid[i] [0]</code>;</p>
<p>å¯¹äºå…¶ä»–çš„ä½ç½®<code>grid[i] [j] = max(grid[i - 1] [j], grid[i] [j - 1]) + grid[i] [j];</code></p>
</li>
<li><p>åˆå§‹åŒ–ï¼šä¸ç”¨åˆå§‹åŒ–</p>
</li>
<li><p>ç¡®å®šéå†é¡ºåºï¼šä¸€è¡Œä¸€è¡Œéå†å°±è¡Œï¼Œä¾èµ–çš„ä½ç½®æ˜¯ä¸Šæ–¹å’Œå·¦è¾¹ã€‚</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxValue</span><span class="params">(<span class="type">int</span>[][] grid)</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">1</span>; j &lt; grid[<span class="number">0</span>].length; j++) &#123;</span><br><span class="line">            grid[<span class="number">0</span>][j] += grid[<span class="number">0</span>][j - <span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; grid.length; i++) &#123;</span><br><span class="line">            grid[i][<span class="number">0</span>] += grid[i - <span class="number">1</span>][<span class="number">0</span>];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; grid.length; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">1</span>; j &lt; grid[<span class="number">0</span>].length; j++) &#123;</span><br><span class="line">                grid[i][j] += Math.max(grid[i - <span class="number">1</span>][j], grid[i][j - <span class="number">1</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> grid[grid.length - <span class="number">1</span>][grid[<span class="number">0</span>].length - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ—¶é—´å¤æ‚åº¦O(M*N)</p>
<p>ç©ºé—´å¤æ‚åº¦O(1)</p>
<h3 id="7-9ã€å‰‘æŒ‡-Offer-48-æœ€é•¿ä¸å«é‡å¤å­—ç¬¦çš„å­å­—ç¬¦ä¸²"><a href="#7-9ã€å‰‘æŒ‡-Offer-48-æœ€é•¿ä¸å«é‡å¤å­—ç¬¦çš„å­å­—ç¬¦ä¸²" class="headerlink" title="7.9ã€å‰‘æŒ‡ Offer 48. æœ€é•¿ä¸å«é‡å¤å­—ç¬¦çš„å­å­—ç¬¦ä¸²"></a>7.9ã€å‰‘æŒ‡ Offer 48. æœ€é•¿ä¸å«é‡å¤å­—ç¬¦çš„å­å­—ç¬¦ä¸²</h3><p>è¯·ä»å­—ç¬¦ä¸²ä¸­æ‰¾å‡ºä¸€ä¸ªæœ€é•¿çš„ä¸åŒ…å«é‡å¤å­—ç¬¦çš„å­å­—ç¬¦ä¸²ï¼Œè®¡ç®—è¯¥æœ€é•¿å­å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: &quot;abcabcbb&quot;</span><br><span class="line">è¾“å‡º: 3 </span><br><span class="line">è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ &quot;abc&quot;ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 3ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: &quot;bbbbb&quot;</span><br><span class="line">è¾“å‡º: 1</span><br><span class="line">è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ &quot;b&quot;ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 1ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: &quot;pwwkew&quot;</span><br><span class="line">è¾“å‡º: 3</span><br><span class="line">è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ &quot;wke&quot;ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 3ã€‚</span><br><span class="line">     è¯·æ³¨æ„ï¼Œä½ çš„ç­”æ¡ˆå¿…é¡»æ˜¯ å­ä¸² çš„é•¿åº¦ï¼Œ&quot;pwke&quot; æ˜¯ä¸€ä¸ªå­åºåˆ—ï¼Œä¸æ˜¯å­ä¸²ã€‚</span><br></pre></td></tr></table></figure>



<p>æç¤ºï¼š</p>
<ul>
<li><code>s.length &lt;= 40000</code></li>
</ul>
<p>Related Topics</p>
<p>å“ˆå¸Œè¡¨</p>
<p>å­—ç¬¦ä¸²</p>
<p>æ»‘åŠ¨çª—å£</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<hr>
<p><strong>ç¡®å®šdpæ•°ç»„çš„å«ä¹‰</strong>ï¼šdp[i]è¡¨ç¤ºä»¥s[i]ç»“å°¾çš„æœ€é•¿ä¸é‡å¤å­—ç¬¦çš„å­—ç¬¦ä¸²é•¿åº¦ã€‚</p>
<p><strong>ç¡®å®šé€’æ¨å…¬å¼</strong>ï¼š</p>
<p>ç”¨ä¸€ä¸ªå“ˆå¸Œè¡¨è®°å½•ä¸Šä¸€ä¸ªå­—ç¬¦å¯¹åº”çš„ä¸‹æ ‡ä½ç½®ï¼Œä¹‹åå¦‚æœå†é‡åˆ°è¯¥å­—ç¬¦å°±æ›´æ–°ä¸‹æ ‡ã€‚</p>
<p>å½“mapæ²¡æœ‰è¯¥å­—ç¬¦çš„è®°å½•æ—¶ï¼ˆè¯¥å­—ç¬¦ç¬¬ä¸€æ¬¡å‡ºç°ï¼‰<code>dp[i] = dp[i - 1] + 1;</code></p>
<p>å½“mapä¸­æœ‰è¯¥è®°å½•ï¼Œé‚£ä¹ˆæœ‰ä¸¤ç§å¯èƒ½:</p>
<ul>
<li>ä¸¤ä¸ªå­—ç¬¦é—´çš„å­—ç¬¦ä¸²æ²¡æœ‰å‡ºç°é‡å¤<code>dp[i] = i - index;</code></li>
<li>å­—ç¬¦é—´çš„å­—ç¬¦å­˜åœ¨é‡å¤<code>dp[i] = dp[i - 1] + 1;</code></li>
</ul>
<p>ä¸¤è€…å–æœ€å°å€¼ï¼Œæ•…<code>dp[i] = Math.min(i - index, dp[i - 1] + 1);</code></p>
<hr>
<p>çŠ¶æ€è½¬ç§»çš„ä¼˜åŒ–ï¼Œåˆ©ç”¨i - indexæ¥å’Œdp[j-i]åˆ¤æ–­ï¼Œmapè®°å½•å­—ç¬¦çš„å‰ä¸€ä¸ªä¸‹æ ‡ä½ç½®ã€‚è¿™æ ·å¯ä»¥åˆå¹¶çŠ¶æ€è½¬ç§»æ–¹ç¨‹ã€‚ã€</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202211170935479.png" alt="image-20221117093534354"></p>
<p><strong>åˆå§‹åŒ–</strong>ï¼š</p>
<p>å› ä¸ºçŠ¶æ€è½¬ç§»æ–¹ç¨‹ç”¨åˆ°äº†dp[i - 1]æ‰€ä»¥å¯¹dp[0]è¿›è¡Œåˆå§‹åŒ–ï¼Œdp[0]è¡¨ç¤ºç¬¬ä¸€ä¸ªå­—ç¬¦çš„æœ€é•¿ä¸å«é‡å¤å­—ç¬¦çš„é•¿åº¦ï¼Œæ•…ä¸º1ã€‚å¹¶æŠŠä¸‹æ ‡åŠ å…¥mapä¸­ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">lengthOfLongestSubstring</span><span class="params">(String s)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (Objects.equals(s, <span class="string">&quot;&quot;</span>) || s == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//dp[i]è¡¨ç¤ºä»¥s[i]ç»“å°¾çš„æœ€é•¿ä¸é‡å¤å­—ç¬¦çš„å­—ç¬¦ä¸²é•¿åº¦</span></span><br><span class="line">    <span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[s.length()];</span><br><span class="line">    HashMap&lt;Character, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">    dp[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    map.put(s.charAt(<span class="number">0</span>), <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; s.length(); i++) &#123;</span><br><span class="line">        <span class="type">char</span> <span class="variable">c</span> <span class="operator">=</span> s.charAt(i);</span><br><span class="line">        <span class="keyword">if</span> (map.getOrDefault(c, -<span class="number">1</span>) == -<span class="number">1</span>) &#123; <span class="comment">//è¡¨ä¸­æ²¡å­˜è®°å½•</span></span><br><span class="line">            dp[i] = dp[i - <span class="number">1</span>] + <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// åœ¨è¡¨ä¸­æœ‰è®°å½•</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">index</span> <span class="operator">=</span> map.get(c);<span class="comment">//æ‹¿åˆ°ä»–çš„ä½ç½®</span></span><br><span class="line">            dp[i] = Math.min(i - index, dp[i - <span class="number">1</span>] + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        map.put(c, i);<span class="comment">// å­˜å…¥map or ç†è§£ä¸ºæ›´æ–°mapçš„å€¼</span></span><br><span class="line">        res = Math.max(dp[i], res);<span class="comment">// reså–æœ€å¤§å€¼</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ—¶é—´å¤æ‚åº¦ï¼šO(N)</p>
<p>ç©ºé—´å¤æ‚åº¦ï¼šO(N)</p>
<p>ç©ºé—´ä¸Šçš„ä¼˜åŒ–ï¼Œåˆ©ç”¨ä¸´æ—¶å˜é‡tmpè®°å½•ï¼Œæ¯ä¸ªè¿‡ç¨‹åªæ›´æ–°æœ€å¤§çš„å€¼ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">lengthOfLongestSubstring</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        Map&lt;Character, Integer&gt; set = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>, tmp = <span class="number">0</span>, len = s.length();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; len; j++) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> set.getOrDefault(s.charAt(j), -<span class="number">1</span>); <span class="comment">// è·å–ç´¢å¼• i</span></span><br><span class="line">            set.put(s.charAt(j), j); <span class="comment">// æ›´æ–°å“ˆå¸Œè¡¨</span></span><br><span class="line">            tmp = tmp &lt; j - i ? tmp + <span class="number">1</span> : j - i; <span class="comment">// dp[j - 1] . dp[j]</span></span><br><span class="line">            res = Math.max(res, tmp); <span class="comment">// max(dp[j - 1], dp[j])</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="7-10ã€å‰‘æŒ‡-Offer-49-ä¸‘æ•°"><a href="#7-10ã€å‰‘æŒ‡-Offer-49-ä¸‘æ•°" class="headerlink" title="7.10ã€å‰‘æŒ‡ Offer 49. ä¸‘æ•°"></a>7.10ã€å‰‘æŒ‡ Offer 49. ä¸‘æ•°</h3><p>æˆ‘ä»¬æŠŠåªåŒ…å«è´¨å› å­ 2ã€3 å’Œ 5 çš„æ•°ç§°ä½œä¸‘æ•°ï¼ˆUgly Numberï¼‰ã€‚æ±‚æŒ‰ä»å°åˆ°å¤§çš„é¡ºåºçš„ç¬¬ n ä¸ªä¸‘æ•°ã€‚</p>
<p><strong>ç¤ºä¾‹:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: n = 10</span><br><span class="line">è¾“å‡º: 12</span><br><span class="line">è§£é‡Š: 1, 2, 3, 4, 5, 6, 8, 9, 10, 12 æ˜¯å‰ 10 ä¸ªä¸‘æ•°ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>è¯´æ˜:</strong></p>
<ol>
<li><code>1</code> æ˜¯ä¸‘æ•°ã€‚</li>
<li><code>n</code> <strong>ä¸è¶…è¿‡</strong>1690ã€‚</li>
</ol>
<p>æ³¨æ„ï¼šæœ¬é¢˜ä¸ä¸»ç«™ 264 é¢˜ç›¸åŒï¼š<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/ugly-number-ii/">https://leetcode-cn.com/problems/ugly-number-ii/</a></p>
<p>Related Topics</p>
<p>å“ˆå¸Œè¡¨</p>
<p>æ•°å­¦</p>
<p>åŠ¨æ€è§„åˆ’</p>
<p>å †ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰</p>
<p><strong>è§£é¢˜æ€è·¯ï¼š</strong></p>
<blockquote>
<p>ä¸‘æ•°çš„é€’æ¨æ€§è´¨ï¼š ä¸‘æ•°åªåŒ…å«å› å­ 2, 3, 5 ï¼Œå› æ­¤æœ‰ â€œä¸‘æ•° &#x3D;&#x3D; æŸè¾ƒå°ä¸‘æ•° \timesÃ— æŸå› å­â€ ï¼ˆä¾‹å¦‚10&#x3D;5Ã—2ï¼‰ã€‚</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202211170958398.png" alt="image-20221117095848322"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202211170959923.png" alt="Picture1.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">xaæ˜¯ç¬¬ä¸€ä¸ªÃ—2å¤§äºxnçš„ä¸‘æ•°</span><br><span class="line">xbæ˜¯ç¬¬ä¸€ä¸ªÃ—3å¤§äºxnçš„ä¸‘æ•°</span><br><span class="line">xcæ˜¯ç¬¬ä¸€ä¸ªÃ—5å¤§äºxnçš„ä¸‘æ•°</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202211171001480.png" alt="image-20221117100102405"></p>
<p><strong>å¤æ‚åº¦åˆ†æï¼š</strong></p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(N)O(N) ï¼š å…¶ä¸­N&#x3D;n ï¼ŒåŠ¨æ€è§„åˆ’éœ€éå†è®¡ç®— dp åˆ—è¡¨ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(N)O(N) ï¼š é•¿åº¦ä¸ºN çš„dp åˆ—è¡¨ä½¿ç”¨ O(N) çš„é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">nthUglyNumber</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">0</span>, b = <span class="number">0</span>, c = <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">    dp[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n2</span> <span class="operator">=</span> dp[a] * <span class="number">2</span>, n3 = dp[b] * <span class="number">3</span>, n5 = dp[c] * <span class="number">5</span>;</span><br><span class="line">        dp[i] = Math.min(Math.min(n2, n3), n5);</span><br><span class="line">        <span class="keyword">if</span> (dp[i] == n2) a++;</span><br><span class="line">        <span class="keyword">if</span> (dp[i] == n3) b++;</span><br><span class="line">        <span class="keyword">if</span> (dp[i] == n5) c++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[n - <span class="number">1</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="7-11ã€å‰‘æŒ‡-Offer-60-n-ä¸ªéª°å­çš„ç‚¹æ•°"><a href="#7-11ã€å‰‘æŒ‡-Offer-60-n-ä¸ªéª°å­çš„ç‚¹æ•°" class="headerlink" title="7.11ã€å‰‘æŒ‡ Offer 60. n ä¸ªéª°å­çš„ç‚¹æ•°"></a>7.11ã€å‰‘æŒ‡ Offer 60. n ä¸ªéª°å­çš„ç‚¹æ•°</h3><p>æŠŠnä¸ªéª°å­æ‰”åœ¨åœ°ä¸Šï¼Œæ‰€æœ‰éª°å­æœä¸Šä¸€é¢çš„ç‚¹æ•°ä¹‹å’Œä¸ºsã€‚è¾“å…¥nï¼Œæ‰“å°å‡ºsçš„æ‰€æœ‰å¯èƒ½çš„å€¼å‡ºç°çš„æ¦‚ç‡ã€‚</p>
<p>ä½ éœ€è¦ç”¨ä¸€ä¸ªæµ®ç‚¹æ•°æ•°ç»„è¿”å›ç­”æ¡ˆï¼Œå…¶ä¸­ç¬¬ i ä¸ªå…ƒç´ ä»£è¡¨è¿™ n ä¸ªéª°å­æ‰€èƒ½æ·å‡ºçš„ç‚¹æ•°é›†åˆä¸­ç¬¬ i å°çš„é‚£ä¸ªçš„æ¦‚ç‡ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: 1</span><br><span class="line">è¾“å‡º: [0.16667,0.16667,0.16667,0.16667,0.16667,0.16667]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: 2</span><br><span class="line">è¾“å‡º: [0.02778,0.05556,0.08333,0.11111,0.13889,0.16667,0.13889,0.11111,0.08333,0.05556,0.02778]</span><br></pre></td></tr></table></figure>



<p><strong>é™åˆ¶ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1 &lt;= n &lt;= 11</span><br></pre></td></tr></table></figure>

<p>Related Topics</p>
<p>æ•°å­¦</p>
<p>åŠ¨æ€è§„åˆ’</p>
<p>æ¦‚ç‡ä¸ç»Ÿè®¡</p>
<p>ğŸ‘ 496</p>
<p>ğŸ‘ 0</p>
<h4 id="æš´åŠ›æ³•"><a href="#æš´åŠ›æ³•" class="headerlink" title="æš´åŠ›æ³•"></a>æš´åŠ›æ³•</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202211181001768.png" alt="image-20221118100112673"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202211181001882.png" alt="Picture1.png"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202211181001271.png" alt="image-20221118100149197"></p>
<h4 id="åŠ¨æ€è§„åˆ’-3"><a href="#åŠ¨æ€è§„åˆ’-3" class="headerlink" title="åŠ¨æ€è§„åˆ’"></a>åŠ¨æ€è§„åˆ’</h4><blockquote>
<p>è®¾è¾“å…¥ n ä¸ªéª°å­çš„è§£ï¼ˆå³æ¦‚ç‡åˆ—è¡¨ï¼‰ä¸º f(n) ï¼Œå…¶ä¸­ã€Œç‚¹æ•°å’Œã€ xçš„æ¦‚ç‡ä¸º f(n, x) ã€‚</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202211181004718.png" alt="image-20221118100410639"></p>
<blockquote>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œä¸º n &#x3D; 2, x &#x3D; 7çš„é€’æ¨è®¡ç®—ç¤ºä¾‹ã€‚</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202211181018233.png" alt="Picture2.png"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202211181023640.png" alt="image-20221118102304571"></p>
<blockquote>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œä»¥ä¸Šé€’æ¨å…¬å¼æ˜¯ â€œé€†å‘â€ çš„ï¼Œå³ä¸ºäº†è®¡ç®—f(n,x) ï¼Œå°†æ‰€æœ‰ä¸ä¹‹æœ‰å…³çš„æƒ…å†µæ±‚å’Œï¼›è€Œå€˜è‹¥æ”¹æ¢ä¸º â€œæ­£å‘â€ çš„é€’æ¨å…¬å¼ï¼Œä¾¿å¯è§£å†³è¶Šç•Œé—®é¢˜ã€‚</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202211181025269.png" alt="Picture3.png"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202211181027924.png" alt="image-20221118102715860"></p>
<blockquote>
<p>å°† f(i) è®°ä¸ºåŠ¨æ€è§„åˆ’åˆ—è¡¨å½¢å¼ dp[i]ï¼Œåˆ™ i &#x3D; 1, 2, â€¦, n çš„çŠ¶æ€è½¬ç§»è¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202211181028153.png" alt="img"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202211181029199.png" alt="image-20221118102956132"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">double</span>[] setesProbability(<span class="type">int</span> n) &#123;</span><br><span class="line">    <span class="type">double</span>[] dp = <span class="keyword">new</span> <span class="title class_">double</span>[<span class="number">6</span>];</span><br><span class="line">    Arrays.fill(dp, <span class="number">1.0</span> / <span class="number">6.0</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">2</span>; i &lt;= n; i++) &#123; <span class="comment">//éå†æ¬¡æ•°</span></span><br><span class="line">        <span class="type">double</span>[] tmp = <span class="keyword">new</span> <span class="title class_">double</span>[<span class="number">5</span> * i + <span class="number">1</span>];<span class="comment">// 6 * n - n + 1</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; dp.length; j++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> <span class="number">0</span>; k &lt; <span class="number">6</span>; k++) &#123;</span><br><span class="line">                tmp[j + k] += dp[j] / <span class="number">6.0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        dp = tmp;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="7-12ã€å‰‘æŒ‡-Offer-63-è‚¡ç¥¨çš„æœ€å¤§åˆ©æ¶¦"><a href="#7-12ã€å‰‘æŒ‡-Offer-63-è‚¡ç¥¨çš„æœ€å¤§åˆ©æ¶¦" class="headerlink" title="7.12ã€å‰‘æŒ‡ Offer 63. è‚¡ç¥¨çš„æœ€å¤§åˆ©æ¶¦"></a>7.12ã€å‰‘æŒ‡ Offer 63. è‚¡ç¥¨çš„æœ€å¤§åˆ©æ¶¦</h3><p>å‡è®¾æŠŠæŸè‚¡ç¥¨çš„ä»·æ ¼æŒ‰ç…§æ—¶é—´å…ˆåé¡ºåºå­˜å‚¨åœ¨æ•°ç»„ä¸­ï¼Œè¯·é—®ä¹°å–è¯¥è‚¡ç¥¨ä¸€æ¬¡å¯èƒ½è·å¾—çš„æœ€å¤§åˆ©æ¶¦æ˜¯å¤šå°‘ï¼Ÿ</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: [7,1,5,3,6,4]</span><br><span class="line">è¾“å‡º: 5</span><br><span class="line">è§£é‡Š: åœ¨ç¬¬ 2 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 1ï¼‰çš„æ—¶å€™ä¹°å…¥ï¼Œåœ¨ç¬¬ 5 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 6ï¼‰çš„æ—¶å€™å–å‡ºï¼Œæœ€å¤§åˆ©æ¶¦ = 6-1 = 5 ã€‚</span><br><span class="line">     æ³¨æ„åˆ©æ¶¦ä¸èƒ½æ˜¯ 7-1 = 6, å› ä¸ºå–å‡ºä»·æ ¼éœ€è¦å¤§äºä¹°å…¥ä»·æ ¼ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: [7,6,4,3,1]</span><br><span class="line">è¾“å‡º: 0</span><br><span class="line">è§£é‡Š: åœ¨è¿™ç§æƒ…å†µä¸‹, æ²¡æœ‰äº¤æ˜“å®Œæˆ, æ‰€ä»¥æœ€å¤§åˆ©æ¶¦ä¸º 0ã€‚</span><br></pre></td></tr></table></figure>



<p><strong>é™åˆ¶ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0 &lt;= æ•°ç»„é•¿åº¦ &lt;= 10^5</span><br></pre></td></tr></table></figure>



<p><strong>æ³¨æ„ï¼š</strong>æœ¬é¢˜ä¸ä¸»ç«™ 121 é¢˜ç›¸åŒï¼š<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock/">https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock/</a></p>
<p>Related Topics</p>
<p>æ•°ç»„</p>
<p>åŠ¨æ€è§„åˆ’</p>
<p><strong>è§£é¢˜æ€è·¯ï¼š</strong></p>
<ol>
<li><p>ç¡®å®šdpæ•°ç»„</p>
<p>dp[i] [0]:è¡¨ç¤ºç¬¬iå¤©ä¸æŒæœ‰è‚¡ç¥¨çš„æœ€å¤§æ”¶ç›Š</p>
<p>dp[i] [1]:è¡¨ç¤ºç¬¬iå¤©æŒæœ‰è‚¡ç¥¨çš„æœ€å¤§æ”¶ç›Š</p>
</li>
<li><p>ç¡®å®šçŠ¶æ€è½¬ç§»æ–¹ç¨‹</p>
<p>ç¬¬iå¤©ä¸æŒæœ‰è‚¡ç¥¨ï¼Œè¯´æ˜ä»–åœ¨ç¬¬iå¤©ä¹°äº†ï¼Œæˆ–è€…åœ¨ä¹‹å‰çš„å¤©ä¹°è¿‡ã€‚å¦‚æœä¹‹å‰çš„å¤©æ•°ä¹°è¿‡ï¼Œé‚£ä¹ˆ<code>dp[i] [0] = dp[i - 1] [0]</code>ã€‚å¦‚æœç¬¬iå¤©æ‰ä¹°è‚¡ç¥¨ï¼Œ<code>dp[i] [0] = dp[i - 1] [1] + prices[i]</code>ã€‚</p>
<p>æ•…çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸º<code>dp[i] [0] = max(dp[i - 1] [0], dp[i - 1] [1] + prices[i])</code></p>
<p>ç¬¬iå¤©æŒæœ‰è‚¡ç¥¨çš„è¯ï¼Œè¯´æ˜ä»–åœ¨ä¹‹å‰ä¹°äº†è‚¡ç¥¨æ²¡å–ï¼Œæˆ–è€…ä»Šå¤©æ‰ä¹°è‚¡ç¥¨ã€‚<code>dp[i] [1] = dp[i - 1] [1];</code></p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxProfit</span><span class="params">(<span class="type">int</span>[] prices)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (prices.length == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//dp[i] [0]:è¡¨ç¤ºç¬¬iå¤©ä¸æŒæœ‰è‚¡ç¥¨çš„æœ€å¤§æ”¶ç›Š</span></span><br><span class="line">    <span class="comment">//dp[i] [1]:è¡¨ç¤ºç¬¬iå¤©æŒæœ‰è‚¡ç¥¨çš„æœ€å¤§æ”¶ç›Š</span></span><br><span class="line">    <span class="type">int</span>[][] dp = <span class="keyword">new</span> <span class="title class_">int</span>[prices.length][<span class="number">2</span>];</span><br><span class="line"></span><br><span class="line">    <span class="comment">//åˆå§‹åŒ–</span></span><br><span class="line">    dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">    dp[<span class="number">0</span>][<span class="number">1</span>] = -prices[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; prices.length; i++) &#123;</span><br><span class="line">        dp[i] [<span class="number">0</span>] = Math.max(dp[i - <span class="number">1</span>] [<span class="number">0</span>], dp[i - <span class="number">1</span>] [<span class="number">1</span>] + prices[i]);</span><br><span class="line">        dp[i] [<span class="number">1</span>] = Math.max(dp[i - <span class="number">1</span>][<span class="number">1</span>], -prices[i]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> dp[prices.length - <span class="number">1</span>][<span class="number">0</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¦ä¸€ç§è§£æ³•ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202211181056360.png" alt="image-20221118105652244"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202211181057095.png" alt="Picture1.png"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202211181100550.png" alt="image-20221118110003462"></p>
<p><strong>ä¼˜åŒ–ç©ºé—´ä¸ºO(1)</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202211181100800.png" alt="img"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxProfit</span><span class="params">(<span class="type">int</span>[] prices)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">cost</span> <span class="operator">=</span> Integer.MAX_VALUE, profit = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> price : prices) &#123;</span><br><span class="line">            cost = Math.min(cost, price);</span><br><span class="line">            profit = Math.max(profit, price - cost);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> profit;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="7-13ã€LC53-æœ€å¤§å­æ•°ç»„å’Œ"><a href="#7-13ã€LC53-æœ€å¤§å­æ•°ç»„å’Œ" class="headerlink" title="7.13ã€LC53. æœ€å¤§å­æ•°ç»„å’Œ"></a>7.13ã€LC53. æœ€å¤§å­æ•°ç»„å’Œ</h3><p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>nums</code> ï¼Œè¯·ä½ æ‰¾å‡ºä¸€ä¸ªå…·æœ‰æœ€å¤§å’Œçš„è¿ç»­å­æ•°ç»„ï¼ˆå­æ•°ç»„æœ€å°‘åŒ…å«ä¸€ä¸ªå…ƒç´ ï¼‰ï¼Œè¿”å›å…¶æœ€å¤§å’Œã€‚</p>
<p><strong>å­æ•°ç»„</strong> æ˜¯æ•°ç»„ä¸­çš„ä¸€ä¸ªè¿ç»­éƒ¨åˆ†ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [-2,1,-3,4,-1,2,1,-5,4]</span><br><span class="line">è¾“å‡ºï¼š6</span><br><span class="line">è§£é‡Šï¼šè¿ç»­å­æ•°ç»„ [4,-1,2,1] çš„å’Œæœ€å¤§ï¼Œä¸º 6 ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [1]</span><br><span class="line">è¾“å‡ºï¼š1</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [5,4,-1,7,8]</span><br><span class="line">è¾“å‡ºï¼š23</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= nums.length &lt;= 105</code></li>
<li><code>-104 &lt;= nums[i] &lt;= 104</code></li>
</ul>
<p><strong>è¿›é˜¶ï¼š</strong>å¦‚æœä½ å·²ç»å®ç°å¤æ‚åº¦ä¸º <code>O(n)</code> çš„è§£æ³•ï¼Œå°è¯•ä½¿ç”¨æ›´ä¸ºç²¾å¦™çš„ <strong>åˆ†æ²»æ³•</strong> æ±‚è§£ã€‚</p>
<p>Related Topics</p>
<p>æ•°ç»„</p>
<p>åˆ†æ²»</p>
<p>åŠ¨æ€è§„åˆ’</p>
<p>ğŸ‘ 5552</p>
<p>ğŸ‘ 0</p>
<h4 id="åŠ¨æ€è§„åˆ’-4"><a href="#åŠ¨æ€è§„åˆ’-4" class="headerlink" title="åŠ¨æ€è§„åˆ’"></a>åŠ¨æ€è§„åˆ’</h4><p>æœ€ç»å…¸çš„æ–¹æ³•å°±æ˜¯ <code>åŠ¨æ€è§„åˆ’</code>ã€‚</p>
<ol>
<li>ç¡®å®š dp[i] çš„å«ä¹‰ï¼šdp[i]è¡¨ç¤ºiä¹‹å‰(åŒ…å«i)æœ€å¤§è¿ç»­å­æ•°ç»„ä¹‹å’Œã€‚</li>
<li>åˆå§‹åŒ–ï¼šdp[0] &#x3D; nums[0];</li>
<li>çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼šdp[i] çš„å–å€¼ï¼Œåº”è¯¥æ˜¯ä¸Šä¸€ä¸ªçŠ¶æ€ dp[i-1] + nums[i] å½“å‰æ•°å­—ä¹‹å’Œ å’Œ å½“å‰æ•°å­— nums[i] çš„æœ€å¤§å€¼ã€‚(å…¶å®å°±æ˜¯å½“ä¸Šä¸€ä¸ªçŠ¶æ€ dp[i-1] &lt; 0 èˆå»)ã€‚<code>dp[i] = Math.max(dp[i - 1] + nums[i], nums[i]);</code></li>
<li>éå†é¡ºåºï¼šä» i &#x3D; 1 å¼€å§‹éå†ã€‚</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxSubArray</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        <span class="comment">//dp[i]è¡¨ç¤ºiä¹‹å‰(åŒ…å«i)æœ€å¤§è¿ç»­å­æ•°ç»„ä¹‹å’Œ</span></span><br><span class="line">        <span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[nums.length];</span><br><span class="line">		<span class="comment">//åˆå§‹åŒ–</span></span><br><span class="line">        dp[<span class="number">0</span>] = nums[<span class="number">0</span>];</span><br><span class="line">        <span class="comment">//æ ¹æ®çŠ¶æ€è½¬ç§»å…¬å¼è¿›è¡Œéå†</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> dp[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">            <span class="comment">//1. å½“å‰å’Œå¤§äºå½“å‰å€¼</span></span><br><span class="line">            <span class="comment">//2. å½“å‰å’Œå°äºå½“å‰å€¼ï¼Œæ–°çš„å’Œä»å½“å‰å€¼å¼€å§‹</span></span><br><span class="line">            dp[i] = Math.max(dp[i - <span class="number">1</span>] + nums[i], nums[i]);</span><br><span class="line">            res = Math.max(dp[i], res);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼šO(N)ï¼Œéå†ä¸€é numsã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼šO(N), dp æ•°ç»„çš„ç©ºé—´å¤§å°ã€‚</li>
</ul>
<blockquote>
<p>ä¼˜åŒ–ï¼šå½“å‰çŠ¶æ€ dp[i] åªå’Œä¸Šä¸€ä¸ªçŠ¶æ€ dp[i-1]æœ‰å…³ï¼Œé‡‡ç”¨æ»šåŠ¨ dp çš„æ–¹å¼ï¼Œä¼˜åŒ–ç©ºé—´å¼€é”€ã€‚</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxSubArray</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> nums[<span class="number">0</span>];</span><br><span class="line">        <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> nums[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (sum &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                sum = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            sum += nums[i];</span><br><span class="line">            <span class="comment">// ä¸Šè¾¹çš„è¿™ä¸€éƒ¨åˆ†å…¶å®å°±æ˜¯çŠ¶æ€è½¬ç§»æ–¹ç¨‹çš„å¦ä¸€ç§æƒ³æ³•</span></span><br><span class="line">            res = Math.max(sum, res);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼šO(N)ï¼Œéå†ä¸€é numsã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚</li>
</ul>
<h4 id="åˆ†æ²»æ³•"><a href="#åˆ†æ²»æ³•" class="headerlink" title="åˆ†æ²»æ³•"></a>åˆ†æ²»æ³•</h4><p>æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªæ“ä½œ get(a, l, r) è¡¨ç¤ºæŸ¥è¯¢ a åºåˆ— [l,r] åŒºé—´å†…çš„æœ€å¤§å­æ®µå’Œï¼Œé‚£ä¹ˆæœ€ç»ˆæˆ‘ä»¬è¦æ±‚çš„ç­”æ¡ˆå°±æ˜¯ get(nums, 0, nums.size() - 1)ã€‚å¦‚ä½•åˆ†æ²»å®ç°è¿™ä¸ªæ“ä½œå‘¢ï¼Ÿå¯¹äºä¸€ä¸ªåŒºé—´ [l,r]ï¼Œæˆ‘ä»¬å– m &#x3D; âŒŠ(l+r)&#x2F;2âŒ‹ï¼Œå¯¹åŒºé—´ [l,m] å’Œ [m+1,r] åˆ†æ²»æ±‚è§£ã€‚å½“é€’å½’é€å±‚æ·±å…¥ç›´åˆ°åŒºé—´é•¿åº¦ç¼©å°ä¸º 1 çš„æ—¶å€™ï¼Œé€’å½’ã€Œå¼€å§‹å›å‡ã€ã€‚è¿™ä¸ªæ—¶å€™æˆ‘ä»¬è€ƒè™‘å¦‚ä½•é€šè¿‡ [l,m] åŒºé—´çš„ä¿¡æ¯å’Œ [m+1,r] åŒºé—´çš„ä¿¡æ¯åˆå¹¶æˆåŒºé—´ [l,r] çš„ä¿¡æ¯ã€‚æœ€å…³é”®çš„ä¸¤ä¸ªé—®é¢˜æ˜¯ï¼š</p>
<ul>
<li>æˆ‘ä»¬è¦ç»´æŠ¤åŒºé—´çš„å“ªäº›ä¿¡æ¯å‘¢ï¼Ÿ</li>
<li>æˆ‘ä»¬å¦‚ä½•åˆå¹¶è¿™äº›ä¿¡æ¯å‘¢ï¼Ÿ</li>
</ul>
<p>å¯¹äºä¸€ä¸ªåŒºé—´ [l,r]ï¼Œæˆ‘ä»¬å¯ä»¥ç»´æŠ¤å››ä¸ªé‡ï¼š</p>
<ul>
<li>lSum è¡¨ç¤º [l,r] å†…ä»¥ l ä¸ºå·¦ç«¯ç‚¹çš„æœ€å¤§å­æ®µå’Œ</li>
<li>rSum è¡¨ç¤º [l,r] å†…ä»¥ r ä¸ºå³ç«¯ç‚¹çš„æœ€å¤§å­æ®µå’Œ</li>
<li>mSum è¡¨ç¤º [l,r] å†…çš„æœ€å¤§å­æ®µå’Œ</li>
<li>iSum è¡¨ç¤º [l,r] çš„åŒºé—´å’Œ</li>
</ul>
<p>ä»¥ä¸‹ç®€ç§° [l,m] ä¸º [l,r] çš„ã€Œå·¦å­åŒºé—´ã€ï¼Œ[m+1,r] ä¸º [l,r] çš„ã€Œå³å­åŒºé—´ã€ã€‚æˆ‘ä»¬è€ƒè™‘å¦‚ä½•ç»´æŠ¤è¿™äº›é‡å‘¢ï¼ˆå¦‚ä½•é€šè¿‡å·¦å³å­åŒºé—´çš„ä¿¡æ¯åˆå¹¶å¾—åˆ° [l,r] çš„ä¿¡æ¯ï¼‰ï¼Ÿå¯¹äºé•¿åº¦ä¸º 1 çš„åŒºé—´ [i, i]ï¼Œå››ä¸ªé‡çš„å€¼éƒ½å’Œnums[i] ç›¸ç­‰ã€‚å¯¹äºé•¿åº¦å¤§äº 1 çš„åŒºé—´ï¼š</p>
<ul>
<li>é¦–å…ˆæœ€å¥½ç»´æŠ¤çš„æ˜¯ iSumï¼ŒåŒºé—´ [l,r] çš„ iSum å°±ç­‰äºã€Œå·¦å­åŒºé—´ã€çš„ iSum åŠ ä¸Šã€Œå³å­åŒºé—´ã€çš„ iSumã€‚</li>
<li>å¯¹äº [l,r] çš„ lSumï¼Œå­˜åœ¨ä¸¤ç§å¯èƒ½ï¼Œå®ƒè¦ä¹ˆç­‰äºã€Œå·¦å­åŒºé—´ã€çš„ lSumï¼Œè¦ä¹ˆç­‰äºã€Œå·¦å­åŒºé—´ã€çš„ iSum åŠ ä¸Šã€Œå³å­åŒºé—´ã€çš„ lSumï¼ŒäºŒè€…å–å¤§ã€‚</li>
<li>å¯¹äº [l,r] çš„ rSumï¼ŒåŒç†ï¼Œå®ƒè¦ä¹ˆç­‰äºã€Œå³å­åŒºé—´ã€çš„ rSumï¼Œè¦ä¹ˆç­‰äºã€Œå³å­åŒºé—´ã€çš„ iSum åŠ ä¸Šã€Œå·¦å­åŒºé—´ã€çš„ rSumï¼ŒäºŒè€…å–å¤§ã€‚</li>
<li>å½“è®¡ç®—å¥½ä¸Šé¢çš„ä¸‰ä¸ªé‡ä¹‹åï¼Œå°±å¾ˆå¥½è®¡ç®— [l,r] çš„ mSum äº†ã€‚æˆ‘ä»¬å¯ä»¥è€ƒè™‘ [l,r] çš„ mSum å¯¹åº”çš„åŒºé—´æ˜¯å¦è·¨è¶Š mâ€”â€”å®ƒå¯èƒ½ä¸è·¨è¶Š mmï¼Œä¹Ÿå°±æ˜¯è¯´ [l,r] çš„ mSum å¯èƒ½æ˜¯ã€Œå·¦å­åŒºé—´ã€çš„ mSum å’Œ ã€Œå³å­åŒºé—´ã€çš„ mSum ä¸­çš„ä¸€ä¸ªï¼›å®ƒä¹Ÿå¯èƒ½è·¨è¶Š mï¼Œå¯èƒ½æ˜¯ã€Œå·¦å­åŒºé—´ã€çš„ rSum å’Œ ã€Œå³å­åŒºé—´ã€çš„ lSum æ±‚å’Œã€‚ä¸‰è€…å–å¤§ã€‚</li>
</ul>
<p>è¿™æ ·é—®é¢˜å°±å¾—åˆ°äº†è§£å†³ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Status</span> &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> lSum, rSum, mSum, iSum;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">Status</span><span class="params">(<span class="type">int</span> lSum, <span class="type">int</span> rSum, <span class="type">int</span> mSum, <span class="type">int</span> iSum)</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.lSum = lSum;</span><br><span class="line">            <span class="built_in">this</span>.rSum = rSum;</span><br><span class="line">            <span class="built_in">this</span>.mSum = mSum;</span><br><span class="line">            <span class="built_in">this</span>.iSum = iSum;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxSubArray</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> getInfo(nums, <span class="number">0</span>, nums.length - <span class="number">1</span>).mSum;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Status <span class="title function_">getInfo</span><span class="params">(<span class="type">int</span>[] a, <span class="type">int</span> l, <span class="type">int</span> r)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (l == r) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Status</span>(a[l], a[l], a[l], a[l]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">        <span class="type">Status</span> <span class="variable">lSub</span> <span class="operator">=</span> getInfo(a, l, m);</span><br><span class="line">        <span class="type">Status</span> <span class="variable">rSub</span> <span class="operator">=</span> getInfo(a, m + <span class="number">1</span>, r);</span><br><span class="line">        <span class="keyword">return</span> pushUp(lSub, rSub);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Status <span class="title function_">pushUp</span><span class="params">(Status l, Status r)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">iSum</span> <span class="operator">=</span> l.iSum + r.iSum;</span><br><span class="line">        <span class="type">int</span> <span class="variable">lSum</span> <span class="operator">=</span> Math.max(l.lSum, l.iSum + r.lSum);</span><br><span class="line">        <span class="type">int</span> <span class="variable">rSum</span> <span class="operator">=</span> Math.max(r.rSum, r.iSum + l.rSum);</span><br><span class="line">        <span class="type">int</span> <span class="variable">mSum</span> <span class="operator">=</span> Math.max(Math.max(l.mSum, r.mSum), l.rSum + r.lSum);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Status</span>(lSum, rSum, mSum, iSum);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>:</p>
<p>å‡è®¾åºåˆ— a çš„é•¿åº¦ä¸º nã€‚</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼šå‡è®¾æˆ‘ä»¬æŠŠé€’å½’çš„è¿‡ç¨‹çœ‹ä½œæ˜¯ä¸€é¢—äºŒå‰æ ‘çš„å…ˆåºéå†ï¼Œé‚£ä¹ˆè¿™é¢—äºŒå‰æ ‘çš„æ·±åº¦çš„æ¸è¿›ä¸Šç•Œä¸º O(logn)ï¼Œè¿™é‡Œçš„æ€»æ—¶é—´ç›¸å½“äºéå†è¿™é¢—äºŒå‰æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹ï¼Œæ•…æ€»æ—¶é—´çš„æ¸è¿›ä¸Šç•Œæ˜¯ O(n)ï¼Œæ•…æ¸è¿›æ—¶é—´å¤æ‚åº¦ä¸º O(n)ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼šé€’å½’ä¼šä½¿ç”¨ O(logn) çš„æ ˆç©ºé—´ï¼Œæ•…æ¸è¿›ç©ºé—´å¤æ‚åº¦ä¸º O(logn)ã€‚</li>
</ul>
<p>è¿™ä¸ªå°±æ˜¯<code>çº¿æ®µæ ‘</code>ã€‚è¿™ä¸ªé—®é¢˜å°±æ˜¯ã€Œçº¿æ®µæ ‘æ±‚è§£æœ€é•¿å…¬å…±ä¸Šå‡å­åºåˆ—é—®é¢˜ã€çš„ pushUp æ“ä½œã€‚</p>
<h3 id="7-14ã€LC121-ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº"><a href="#7-14ã€LC121-ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº" class="headerlink" title="7.14ã€LC121. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº"></a>7.14ã€LC121. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº</h3><p>ç»™å®šä¸€ä¸ªæ•°ç»„ <code>prices</code> ï¼Œå®ƒçš„ç¬¬ <code>i</code> ä¸ªå…ƒç´  <code>prices[i]</code> è¡¨ç¤ºä¸€æ”¯ç»™å®šè‚¡ç¥¨ç¬¬ <code>i</code> å¤©çš„ä»·æ ¼ã€‚</p>
<p>ä½ åªèƒ½é€‰æ‹© <strong>æŸä¸€å¤©</strong> ä¹°å…¥è¿™åªè‚¡ç¥¨ï¼Œå¹¶é€‰æ‹©åœ¨ <strong>æœªæ¥çš„æŸä¸€ä¸ªä¸åŒçš„æ—¥å­</strong> å–å‡ºè¯¥è‚¡ç¥¨ã€‚è®¾è®¡ä¸€ä¸ªç®—æ³•æ¥è®¡ç®—ä½ æ‰€èƒ½è·å–çš„æœ€å¤§åˆ©æ¶¦ã€‚</p>
<p>è¿”å›ä½ å¯ä»¥ä»è¿™ç¬”äº¤æ˜“ä¸­è·å–çš„æœ€å¤§åˆ©æ¶¦ã€‚å¦‚æœä½ ä¸èƒ½è·å–ä»»ä½•åˆ©æ¶¦ï¼Œè¿”å› <code>0</code> ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š[7,1,5,3,6,4]</span><br><span class="line">è¾“å‡ºï¼š5</span><br><span class="line">è§£é‡Šï¼šåœ¨ç¬¬ 2 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 1ï¼‰çš„æ—¶å€™ä¹°å…¥ï¼Œåœ¨ç¬¬ 5 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 6ï¼‰çš„æ—¶å€™å–å‡ºï¼Œæœ€å¤§åˆ©æ¶¦ = 6-1 = 5 ã€‚</span><br><span class="line">     æ³¨æ„åˆ©æ¶¦ä¸èƒ½æ˜¯ 7-1 = 6, å› ä¸ºå–å‡ºä»·æ ¼éœ€è¦å¤§äºä¹°å…¥ä»·æ ¼ï¼›åŒæ—¶ï¼Œä½ ä¸èƒ½åœ¨ä¹°å…¥å‰å–å‡ºè‚¡ç¥¨ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šprices = [7,6,4,3,1]</span><br><span class="line">è¾“å‡ºï¼š0</span><br><span class="line">è§£é‡Šï¼šåœ¨è¿™ç§æƒ…å†µä¸‹, æ²¡æœ‰äº¤æ˜“å®Œæˆ, æ‰€ä»¥æœ€å¤§åˆ©æ¶¦ä¸º 0ã€‚</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= prices.length &lt;= 105</code></li>
<li><code>0 &lt;= prices[i] &lt;= 104</code></li>
</ul>
<p>Related Topics</p>
<p>æ•°ç»„</p>
<p>åŠ¨æ€è§„åˆ’</p>
<p>ğŸ‘ 2739</p>
<p>ğŸ‘ 0</p>
<h4 id="æ–¹æ³•ä¸€-ä¸€ç»´DP"><a href="#æ–¹æ³•ä¸€-ä¸€ç»´DP" class="headerlink" title="æ–¹æ³•ä¸€:ä¸€ç»´DP"></a>æ–¹æ³•ä¸€:ä¸€ç»´DP</h4><p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>åˆ©ç”¨åŠ¨æ€è§„åˆ’ç®—æ³•ï¼Œè®°å½•æ¯ä¸€å¤©æŒè‚¡ä¸ä¸æŒè‚¡åˆ©æ¶¦çš„æœ€å¤§å€¼ï¼Œæ ¹æ®çŠ¶æ€è½¬ç§»æ–¹ç¨‹è¿›è¡Œé€’æ¨ï¼Œè¿”å›ç»“æœã€‚</p>
<ol>
<li>ç¡®å®šdpæ•°ç»„å«ä¹‰ã€‚dpi è¡¨ç¤ºç¬¬ i å¤©æŒæœ‰è‚¡ç¥¨çš„æœ€å¤§åˆ©æ¶¦ï¼›dpj è¡¨ç¤ºç¬¬ i å¤©ä¸æŒæœ‰è‚¡ç¥¨çš„æœ€å¤§åˆ©æ¶¦ã€‚</li>
<li>åˆå§‹åŒ– dp æ•°ç»„ã€‚dpi &#x3D; -prices[0]ï¼Œç¬¬ 1 å¤©æŒæœ‰è‚¡ç¥¨ï¼›dpj &#x3D; 0ï¼›</li>
<li>çŠ¶æ€è½¬ç§»æ–¹ç¨‹ã€‚å› ä¸ºè‚¡ç¥¨åªèƒ½ä¹°å–ä¸€æ¬¡ï¼Œæ‰€ä»¥<strong>æŒè‚¡</strong>æ—¶ï¼š1. å‰ä¸€å¤©æŒè‚¡ dpiã€‚2. ä¹‹å‰æ²¡ä¹°å…¥è‚¡ç¥¨ï¼Œä»Šå¤©ç¬¬ä¸€æ¬¡ä¹°     -prices[i]ã€‚<code>dpi = Math.max(dpi, - prices[i])</code>;<strong>ä¸æŒè‚¡</strong>æ—¶ï¼š1. ä¸€å¤©ä¸æŒè‚¡ï¼Œä»Šå¤©ä¸æ“ä½œï¼Œä¹Ÿä¸æŒè‚¡ dpjã€‚2. ä»Šå¤©å–è‚¡ç¥¨ dpj &#x3D; dpi + prices[i]. <code>dpj = Math.max(dpj, dpi + prices[i])</code></li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxProfit</span><span class="params">(<span class="type">int</span>[] prices)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">dpi</span> <span class="operator">=</span> -prices[<span class="number">0</span>]; <span class="comment">// ç¬¬ i å¤©æŒæœ‰è‚¡ç¥¨çš„æœ€å¤§åˆ©æ¶¦ï¼Œåˆå§‹åŒ– dpi</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">dpj</span> <span class="operator">=</span> <span class="number">0</span>; <span class="comment">// ç¬¬ i å¤©ä¸æŒæœ‰è‚¡ç¥¨çš„æœ€å¤§åˆ©æ¶¦ï¼Œåˆå§‹åŒ– dpj</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; prices.length; i++) &#123;</span><br><span class="line">            dpj = Math.max(dpj, dpi + prices[i]);</span><br><span class="line">            dpi = Math.max(dpi, - prices[i]);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> Math.max(dpi, dpj);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦O(N)</li>
<li>ç©ºé—´å¤æ‚åº¦O(1)</li>
</ul>
<h3 id="7-15ã€LC1824-æœ€å°‘ä¾§è·³æ¬¡æ•°"><a href="#7-15ã€LC1824-æœ€å°‘ä¾§è·³æ¬¡æ•°" class="headerlink" title="7.15ã€LC1824. æœ€å°‘ä¾§è·³æ¬¡æ•°"></a>7.15ã€LC1824. æœ€å°‘ä¾§è·³æ¬¡æ•°</h3><p>ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸º <code>n</code> çš„ <strong>3 è·‘é“é“è·¯</strong> ï¼Œå®ƒæ€»å…±åŒ…å« <code>n + 1</code> ä¸ª <strong>ç‚¹</strong> ï¼Œç¼–å·ä¸º <code>0</code> åˆ° <code>n</code> ã€‚ä¸€åªé’è›™ä» <code>0</code> å·ç‚¹ç¬¬äºŒæ¡è·‘é“ <strong>å‡ºå‘</strong> ï¼Œå®ƒæƒ³è¦è·³åˆ°ç‚¹ <code>n</code> å¤„ã€‚ç„¶è€Œé“è·¯ä¸Šå¯èƒ½æœ‰ä¸€äº›éšœç¢ã€‚</p>
<p>ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸º <code>n + 1</code> çš„æ•°ç»„ <code>obstacles</code> ï¼Œå…¶ä¸­ <code>obstacles[i]</code> ï¼ˆ<strong>å–å€¼èŒƒå›´ä» 0 åˆ° 3</strong>ï¼‰è¡¨ç¤ºåœ¨ç‚¹ <code>i</code> å¤„çš„ <code>obstacles[i]</code> è·‘é“ä¸Šæœ‰ä¸€ä¸ªéšœç¢ã€‚å¦‚æœ <code>obstacles[i] == 0</code> ï¼Œé‚£ä¹ˆç‚¹ <code>i</code> å¤„æ²¡æœ‰éšœç¢ã€‚ä»»ä½•ä¸€ä¸ªç‚¹çš„ä¸‰æ¡è·‘é“ä¸­ <strong>æœ€å¤šæœ‰ä¸€ä¸ª</strong> éšœç¢ã€‚</p>
<ul>
<li>æ¯”æ–¹è¯´ï¼Œå¦‚æœ <code>obstacles[2] == 1</code> ï¼Œé‚£ä¹ˆè¯´æ˜åœ¨ç‚¹ 2 å¤„è·‘é“ 1 æœ‰éšœç¢ã€‚</li>
</ul>
<p>è¿™åªé’è›™ä»ç‚¹ <code>i</code> è·³åˆ°ç‚¹ <code>i + 1</code> ä¸”è·‘é“ä¸å˜çš„å‰ææ˜¯ç‚¹ <code>i + 1</code> çš„åŒä¸€è·‘é“ä¸Šæ²¡æœ‰éšœç¢ã€‚ä¸ºäº†èº²é¿éšœç¢ï¼Œè¿™åªé’è›™ä¹Ÿå¯ä»¥åœ¨ <strong>åŒä¸€ä¸ª</strong> ç‚¹å¤„ <strong>ä¾§è·³</strong> åˆ° <strong>å¦å¤–ä¸€æ¡</strong> è·‘é“ï¼ˆè¿™ä¸¤æ¡è·‘é“å¯ä»¥ä¸ç›¸é‚»ï¼‰ï¼Œä½†å‰ææ˜¯è·³è¿‡å»çš„è·‘é“è¯¥ç‚¹å¤„æ²¡æœ‰éšœç¢ã€‚</p>
<ul>
<li>æ¯”æ–¹è¯´ï¼Œè¿™åªé’è›™å¯ä»¥ä»ç‚¹ 3 å¤„çš„è·‘é“ 3 è·³åˆ°ç‚¹ 3 å¤„çš„è·‘é“ 1 ã€‚</li>
</ul>
<p>è¿™åªé’è›™ä»ç‚¹ 0 å¤„è·‘é“ <code>2</code> å‡ºå‘ï¼Œå¹¶æƒ³åˆ°è¾¾ç‚¹ <code>n</code> å¤„çš„ <strong>ä»»ä¸€è·‘é“</strong> ï¼Œè¯·ä½ è¿”å› <strong>æœ€å°‘ä¾§è·³æ¬¡æ•°</strong> ã€‚</p>
<p><strong>æ³¨æ„</strong>ï¼šç‚¹ <code>0</code> å¤„å’Œç‚¹ <code>n</code> å¤„çš„ä»»ä¸€è·‘é“éƒ½ä¸ä¼šæœ‰éšœç¢ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/ic234-q3-ex1.png" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šobstacles = [0,1,2,3,0]</span><br><span class="line">è¾“å‡ºï¼š2 </span><br><span class="line">è§£é‡Šï¼šæœ€ä¼˜æ–¹æ¡ˆå¦‚ä¸Šå›¾ç®­å¤´æ‰€ç¤ºã€‚æ€»å…±æœ‰ 2 æ¬¡ä¾§è·³ï¼ˆçº¢è‰²ç®­å¤´ï¼‰ã€‚</span><br><span class="line">æ³¨æ„ï¼Œè¿™åªé’è›™åªæœ‰å½“ä¾§è·³æ—¶æ‰å¯ä»¥è·³è¿‡éšœç¢ï¼ˆå¦‚ä¸Šå›¾ç‚¹ 2 å¤„æ‰€ç¤ºï¼‰ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/ic234-q3-ex2.png" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šobstacles = [0,1,1,3,3,0]</span><br><span class="line">è¾“å‡ºï¼š0</span><br><span class="line">è§£é‡Šï¼šè·‘é“ 2 æ²¡æœ‰ä»»ä½•éšœç¢ï¼Œæ‰€ä»¥ä¸éœ€è¦ä»»ä½•ä¾§è·³ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/ic234-q3-ex3.png" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šobstacles = [0,2,1,0,3,0]</span><br><span class="line">è¾“å‡ºï¼š2</span><br><span class="line">è§£é‡Šï¼šæœ€ä¼˜æ–¹æ¡ˆå¦‚ä¸Šå›¾æ‰€ç¤ºã€‚æ€»å…±æœ‰ 2 æ¬¡ä¾§è·³ã€‚</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>obstacles.length == n + 1</code></li>
<li><code>1 &lt;= n &lt;= 5 * 105</code></li>
<li><code>0 &lt;= obstacles[i] &lt;= 3</code></li>
<li><code>obstacles[0] == obstacles[n] == 0</code></li>
</ul>
<p>Related Topics</p>
<p>è´ªå¿ƒ</p>
<p>æ•°ç»„</p>
<p>åŠ¨æ€è§„åˆ’</p>
<p>ğŸ‘ 95</p>
<p>ğŸ‘ 0</p>
<p><strong>æ–¹æ³•ä¸€ï¼šåŠ¨æ€è§„åˆ’</strong></p>
<p>æˆ‘ä»¬å®šä¹‰ i è¡¨ç¤ºé’è›™åˆ°è¾¾ç¬¬ <em>i</em> ä¸ªç‚¹ï¼Œä¸”å¤„äºç¬¬ j* æ¡è·‘é“ï¼ˆè¿™é‡Œ j ä¸‹æ ‡ä» 0 å¼€å§‹ï¼‰çš„æœ€å°ä¾§è·³æ¬¡æ•°ã€‚</p>
<p>æ³¨æ„åˆ°é’è›™èµ·å§‹ä½ç½®å¤„äºç¬¬ 2 æ¡è·‘é“ï¼ˆé¢˜ç›®è¿™é‡Œä¸‹æ ‡ä» 1 å¼€å§‹ï¼‰ï¼Œå› æ­¤ <em>f</em>[0] [1] çš„å€¼ä¸º 0ï¼Œè€Œ <em>f</em>[0] [0] å’Œ [2]<em>f</em>[0] [2] å‡ä¸º 1ã€‚ç­”æ¡ˆä¸º <em>min</em>(<em>f</em>[<em>n</em>] [0],<em>f</em>[<em>n</em>] [1],<em>f</em>[<em>n</em>] [2])</p>
<p>å¯¹äº <em>i</em> ä» 1 åˆ° <em>n</em> çš„æ¯ä¸ªä½ç½®ï¼Œæˆ‘ä»¬å¯ä»¥æšä¸¾é’è›™å½“å‰æ‰€å¤„çš„è·‘é“ j<em>ï¼Œå¦‚æœ obstacles[<em>i</em>]&#x3D;<em>j</em>+1ï¼Œè¯´æ˜ç¬¬ j æ¡è·‘é“ä¸Šæœ‰éšœç¢ï¼Œæ­¤æ—¶ f</em>[<em>i</em>] [<em>j</em>] çš„å€¼ä¸ºæ­£æ— ç©·ï¼›å¦åˆ™ï¼Œé’è›™å¯ä»¥é€‰æ‹©ä¸è·³è·ƒï¼Œæ­¤æ—¶ <em>f</em>[<em>i</em>] [<em>j</em>] çš„å€¼ä¸º <em>f</em>[<em>i</em>âˆ’1] [<em>j</em>]ï¼Œæˆ–è€…é’è›™å¯ä»¥ä»å…¶å®ƒè·‘é“ä¾§è·³è¿‡æ¥ï¼Œæ­¤æ—¶ dp[i] [j] &#x3D; Math.min(dp[i-1] [j], preMin+1)ã€‚preMin &#x3D; Math.min(dp[i-1] [1], Math.min(dp[i-1] [2], dp[i-1] [3])ã€‚ç”±äºé’è›™åªèƒ½å‚ç›´è·³ï¼Œæ‰€ä»¥å†å–æœ€å°å€¼è¦å¤„ç†ä»¥ä¸‹ï¼ŒæŠŠéšœç¢ä½ç½®çš„å‰ä¸€ä¸ªä½ç½®ä¹Ÿè®¾ç½®æˆéšœç¢ï¼Œå³ä¸èƒ½ä»è¯¥ä½ç½®è·³ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minSideJumps</span><span class="params">(<span class="type">int</span>[] obstacles)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> obstacles.length;</span><br><span class="line">        <span class="type">int</span>[][] dp = <span class="keyword">new</span> <span class="title class_">int</span>[len][<span class="number">4</span>];</span><br><span class="line">        dp[<span class="number">0</span>][<span class="number">1</span>] = <span class="number">1</span>; dp[<span class="number">0</span>][<span class="number">2</span>] = <span class="number">0</span>; dp[<span class="number">0</span>][<span class="number">3</span>] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">1</span>; i&lt;len; i++) &#123;</span><br><span class="line">            dp[i][obstacles[i]] = Integer.MAX_VALUE;</span><br><span class="line">            dp[i-<span class="number">1</span>][obstacles[i]] = Integer.MAX_VALUE; <span class="comment">// åªèƒ½å‚ç›´è·³ï¼Œæ‰€æœ‰éœ€è¦æŠŠéšœç¢å¯¹åº”çš„å‰ä¸€ä½å µä½</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">preMin</span> <span class="operator">=</span> Math.min(dp[i-<span class="number">1</span>][<span class="number">1</span>], Math.min(dp[i-<span class="number">1</span>][<span class="number">2</span>], dp[i-<span class="number">1</span>][<span class="number">3</span>]));</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j=<span class="number">1</span>; j&lt;dp[<span class="number">0</span>].length; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (obstacles[i] == j) <span class="keyword">continue</span>;</span><br><span class="line">                dp[i][j] = Math.min(dp[i-<span class="number">1</span>][j], preMin+<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> Math.min(dp[len-<span class="number">1</span>][<span class="number">1</span>], Math.min(dp[len-<span class="number">1</span>][<span class="number">2</span>], dp[len-<span class="number">1</span>][<span class="number">3</span>]));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦O(N)ï¼Œéå†ä¸€é obstaclesã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦O(N),4 * N çš„ç©ºé—´å¼€é”€ã€‚</li>
</ul>
<p>åœ¨ä»£ç å®ç°ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥å°†ç¬¬ä¸€ç»´ç©ºé—´ä¼˜åŒ–æ‰ï¼Œåªç”¨ä¸€ä¸ªé•¿åº¦ä¸º 3 çš„æ•°ç»„ <em>f</em> æ¥ç»´æŠ¤ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minSideJumps</span><span class="params">(<span class="type">int</span>[] obstacles)</span> &#123;</span><br><span class="line">        <span class="keyword">final</span> <span class="type">int</span> <span class="variable">inf</span> <span class="operator">=</span> <span class="number">1</span> &lt;&lt; <span class="number">30</span>;</span><br><span class="line">        <span class="type">int</span>[] f = &#123;<span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>&#125;;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; obstacles.length; ++i) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; <span class="number">3</span>; ++j) &#123;</span><br><span class="line">                <span class="keyword">if</span> (obstacles[i] == j + <span class="number">1</span>) &#123;</span><br><span class="line">                    f[j] = inf;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> Math.min(f[<span class="number">0</span>], Math.min(f[<span class="number">1</span>], f[<span class="number">2</span>])) + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; <span class="number">3</span>; ++j) &#123;</span><br><span class="line">                <span class="keyword">if</span> (obstacles[i] != j + <span class="number">1</span>) &#123;</span><br><span class="line">                    f[j] = Math.min(f[j], x);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> Math.min(f[<span class="number">0</span>], Math.min(f[<span class="number">1</span>], f[<span class="number">2</span>]));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦O(N)ï¼Œéå†ä¸€é obstaclesã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦O(1)ã€‚</li>
</ul>
<h3 id="7-16ã€LC72-ç¼–è¾‘è·ç¦»"><a href="#7-16ã€LC72-ç¼–è¾‘è·ç¦»" class="headerlink" title="7.16ã€LC72. ç¼–è¾‘è·ç¦»"></a>7.16ã€LC72. ç¼–è¾‘è·ç¦»</h3><p>ç»™ä½ ä¸¤ä¸ªå•è¯ <code>word1</code> å’Œ <code>word2</code>ï¼Œ <em>è¯·è¿”å›å°† <code>word1</code> è½¬æ¢æˆ <code>word2</code> æ‰€ä½¿ç”¨çš„æœ€å°‘æ“ä½œæ•°</em> ã€‚</p>
<p>ä½ å¯ä»¥å¯¹ä¸€ä¸ªå•è¯è¿›è¡Œå¦‚ä¸‹ä¸‰ç§æ“ä½œï¼š</p>
<ul>
<li>æ’å…¥ä¸€ä¸ªå­—ç¬¦</li>
<li>åˆ é™¤ä¸€ä¸ªå­—ç¬¦</li>
<li>æ›¿æ¢ä¸€ä¸ªå­—ç¬¦</li>
</ul>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šword1 = &quot;horse&quot;, word2 = &quot;ros&quot;</span><br><span class="line">è¾“å‡ºï¼š3</span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">horse -&gt; rorse (å°† &#x27;h&#x27; æ›¿æ¢ä¸º &#x27;r&#x27;)</span><br><span class="line">rorse -&gt; rose (åˆ é™¤ &#x27;r&#x27;)</span><br><span class="line">rose -&gt; ros (åˆ é™¤ &#x27;e&#x27;)</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šword1 = &quot;intention&quot;, word2 = &quot;execution&quot;</span><br><span class="line">è¾“å‡ºï¼š5</span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">intention -&gt; inention (åˆ é™¤ &#x27;t&#x27;)</span><br><span class="line">inention -&gt; enention (å°† &#x27;i&#x27; æ›¿æ¢ä¸º &#x27;e&#x27;)</span><br><span class="line">enention -&gt; exention (å°† &#x27;n&#x27; æ›¿æ¢ä¸º &#x27;x&#x27;)</span><br><span class="line">exention -&gt; exection (å°† &#x27;n&#x27; æ›¿æ¢ä¸º &#x27;c&#x27;)</span><br><span class="line">exection -&gt; execution (æ’å…¥ &#x27;u&#x27;)</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>0 &lt;= word1.length, word2.length &lt;= 500</code></li>
<li><code>word1</code> å’Œ <code>word2</code> ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆ</li>
</ul>
<p>Related Topics</p>
<p>å­—ç¬¦ä¸²</p>
<p>åŠ¨æ€è§„åˆ’</p>
<p>ğŸ‘ 2754</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p><code>dp[i][j]</code> ä»£è¡¨ <code>word1</code> åˆ° <code>i</code> ä½ç½®è½¬æ¢æˆ <code>word2</code> åˆ° <code>j</code> ä½ç½®éœ€è¦æœ€å°‘æ­¥æ•°</p>
<p>æ‰€ä»¥ï¼Œ</p>
<p>å½“ <code>word1[i] == word2[j]</code>ï¼Œ<code>dp[i][j] = dp[i-1][j-1]</code>ï¼›</p>
<p>å½“ <code>word1[i] != word2[j]</code>ï¼Œ<code>dp[i][j] = min(dp[i-1][j-1], dp[i-1][j], dp[i][j-1]) + 1</code></p>
<p>å…¶ä¸­ï¼Œ<code>dp[i-1][j-1]</code> è¡¨ç¤ºæ›¿æ¢æ“ä½œï¼Œ<code>dp[i-1][j]</code> è¡¨ç¤ºåˆ é™¤æ“ä½œï¼Œ<code>dp[i][j-1]</code> è¡¨ç¤ºæ’å…¥æ“ä½œã€‚</p>
<p>æ³¨æ„ï¼Œé’ˆå¯¹ç¬¬ä¸€è¡Œï¼Œç¬¬ä¸€åˆ—è¦å•ç‹¬è€ƒè™‘ï¼Œæˆ‘ä»¬å¼•å…¥ <code>&#39;&#39;</code> ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/76574ab7ff2877d63b80a2d4f8496fab3c441065552edc562f62d5809e75e97e-Snipaste_2019-05-29_15-28-02.png" alt="Snipaste_2019-05-29_15-28-02.png"></p>
<p>ç¬¬ä¸€è¡Œï¼Œæ˜¯ <code>word1</code> ä¸ºç©ºå˜æˆ <code>word2</code> æœ€å°‘æ­¥æ•°ï¼Œå°±æ˜¯æ’å…¥æ“ä½œ</p>
<p>ç¬¬ä¸€åˆ—ï¼Œæ˜¯ <code>word2</code> ä¸ºç©ºï¼Œéœ€è¦çš„æœ€å°‘æ­¥æ•°ï¼Œå°±æ˜¯åˆ é™¤æ“ä½œ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minDistance</span><span class="params">(String word1, String word2)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">len1</span> <span class="operator">=</span> word1.length();</span><br><span class="line">        <span class="type">int</span> <span class="variable">len2</span> <span class="operator">=</span> word2.length();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//dp[i][j]çš„å«ä¹‰:ä»¥ä¸‹æ ‡i-1ä¸ºç»“å°¾çš„å­—ç¬¦ä¸²word1ï¼Œå’Œä»¥ä¸‹æ ‡j-1ä¸ºç»“å°¾çš„å­—ç¬¦ä¸²word2ï¼Œæœ€è¿‘ç¼–è¾‘è·ç¦»ä¸ºdp[i][j]ã€‚</span></span><br><span class="line">        <span class="type">int</span>[][] dp = <span class="keyword">new</span> <span class="title class_">int</span>[len1 + <span class="number">1</span>][len2 + <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">         * æ ¹æ®dp[i][j]çš„å®šä¹‰</span></span><br><span class="line"><span class="comment">         * dp[i][0] = i</span></span><br><span class="line"><span class="comment">         * dp[0][j] = j</span></span><br><span class="line"><span class="comment">         * */</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= len1; i++) &#123;</span><br><span class="line">            dp[i][<span class="number">0</span>] = i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= len2; i++) &#123;</span><br><span class="line">            dp[<span class="number">0</span>][i] = i;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= len1; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">1</span>; j &lt;= len2; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (word1.charAt(i - <span class="number">1</span>) == word2.charAt(j - <span class="number">1</span>)) &#123; <span class="comment">// åŒ¹é…ä¸Š</span></span><br><span class="line">                    dp[i][j] = dp[i - <span class="number">1</span>][j - <span class="number">1</span>];</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="comment">/*</span></span><br><span class="line"><span class="comment">                     * dp[i - 1][j] + 1 åˆ word1 or å¢word2</span></span><br><span class="line"><span class="comment">                     * dp[i][j - 1] + 1 å¢word1 or åˆ word2</span></span><br><span class="line"><span class="comment">                     * dp[i - 1][j - 1] + 1 æ›¿æ¢word1 or æ›¿æ¢word2</span></span><br><span class="line"><span class="comment">                     * */</span></span><br><span class="line">                    dp[i][j] = Math.min(Math.min(dp[i - <span class="number">1</span>][j], dp[i][j - <span class="number">1</span>]), dp[i - <span class="number">1</span>][j - <span class="number">1</span>]) + <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[len1][len2];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦O(MN)</li>
<li>ç©ºé—´å¤æ‚åº¦O(MN)</li>
</ul>
<h3 id="7-17ã€LC70-çˆ¬æ¥¼æ¢¯"><a href="#7-17ã€LC70-çˆ¬æ¥¼æ¢¯" class="headerlink" title="7.17ã€LC70. çˆ¬æ¥¼æ¢¯"></a>7.17ã€LC70. çˆ¬æ¥¼æ¢¯</h3><p>å‡è®¾ä½ æ­£åœ¨çˆ¬æ¥¼æ¢¯ã€‚éœ€è¦ <code>n</code> é˜¶ä½ æ‰èƒ½åˆ°è¾¾æ¥¼é¡¶ã€‚</p>
<p>æ¯æ¬¡ä½ å¯ä»¥çˆ¬ <code>1</code> æˆ– <code>2</code> ä¸ªå°é˜¶ã€‚ä½ æœ‰å¤šå°‘ç§ä¸åŒçš„æ–¹æ³•å¯ä»¥çˆ¬åˆ°æ¥¼é¡¶å‘¢ï¼Ÿ</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = 2</span><br><span class="line">è¾“å‡ºï¼š2</span><br><span class="line">è§£é‡Šï¼šæœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥çˆ¬åˆ°æ¥¼é¡¶ã€‚</span><br><span class="line">1. 1 é˜¶ + 1 é˜¶</span><br><span class="line">2. 2 é˜¶</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = 3</span><br><span class="line">è¾“å‡ºï¼š3</span><br><span class="line">è§£é‡Šï¼šæœ‰ä¸‰ç§æ–¹æ³•å¯ä»¥çˆ¬åˆ°æ¥¼é¡¶ã€‚</span><br><span class="line">1. 1 é˜¶ + 1 é˜¶ + 1 é˜¶</span><br><span class="line">2. 1 é˜¶ + 2 é˜¶</span><br><span class="line">3. 2 é˜¶ + 1 é˜¶</span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= n &lt;= 45</code></li>
</ul>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>æ–æ³¢é‚£å¥‘æ•°åˆ—ã€‚</p>
<p>åŠ¨æ€è§„åˆ’</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">climbStairs</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (n &lt;= <span class="number">2</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> n;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[n + <span class="number">1</span>];</span><br><span class="line">        </span><br><span class="line">        dp[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">        dp[<span class="number">2</span>] = <span class="number">2</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">3</span>; i &lt;= n; i++) &#123;</span><br><span class="line">            dp[i] = dp[i - <span class="number">1</span>] + dp[i - <span class="number">2</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> dp[n];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åŠ¨æ€è§„åˆ’çš„ç©ºé—´ä¸Šçš„ä¼˜åŒ–</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ä¼˜åŒ–ç©ºé—´å¤æ‚åº¦O(1)</span></span><br><span class="line"><span class="comment">     * */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">climbStairs</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (n &lt;= <span class="number">2</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> n;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//ç©ºé—´ä¸Šçš„ä¼˜åŒ–</span></span><br><span class="line">        <span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">3</span>];</span><br><span class="line"></span><br><span class="line">        dp[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">        dp[<span class="number">1</span>] = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">3</span>; i &lt;= n; i++) &#123;</span><br><span class="line">            dp[<span class="number">2</span>] = dp[<span class="number">0</span>] + dp[<span class="number">1</span>];</span><br><span class="line">            dp[<span class="number">0</span>] = dp[<span class="number">1</span>];</span><br><span class="line">            dp[<span class="number">1</span>] = dp[<span class="number">2</span>];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> dp[<span class="number">2</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å‚è€ƒ <strong>èƒŒåŒ…é—®é¢˜</strong> çš„æ ¼å¼</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">climbStairs</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[n + <span class="number">1</span>];</span><br><span class="line">        <span class="type">int</span>[] weight = &#123;<span class="number">1</span>,<span class="number">2</span>&#125;;<span class="comment">//å•æ­¥çˆ¬çš„æ­¥æ•° ç‰©å“</span></span><br><span class="line">        dp[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; weight.length; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (i - weight[j] &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">                    dp[i] += dp[i - weight[j]];<span class="comment">//é€’æ¨</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[n];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="7-18ã€LC1143-æœ€é•¿å…¬å…±å­åºåˆ—"><a href="#7-18ã€LC1143-æœ€é•¿å…¬å…±å­åºåˆ—" class="headerlink" title="7.18ã€LC1143. æœ€é•¿å…¬å…±å­åºåˆ—"></a>7.18ã€LC1143. æœ€é•¿å…¬å…±å­åºåˆ—</h3><p>ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸² <code>text1</code> å’Œ <code>text2</code>ï¼Œè¿”å›è¿™ä¸¤ä¸ªå­—ç¬¦ä¸²çš„æœ€é•¿ <strong>å…¬å…±å­åºåˆ—</strong> çš„é•¿åº¦ã€‚å¦‚æœä¸å­˜åœ¨ <strong>å…¬å…±å­åºåˆ—</strong> ï¼Œè¿”å› <code>0</code> ã€‚</p>
<p>ä¸€ä¸ªå­—ç¬¦ä¸²çš„ <strong>å­åºåˆ—</strong> æ˜¯æŒ‡è¿™æ ·ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼šå®ƒæ˜¯ç”±åŸå­—ç¬¦ä¸²åœ¨ä¸æ”¹å˜å­—ç¬¦çš„ç›¸å¯¹é¡ºåºçš„æƒ…å†µä¸‹åˆ é™¤æŸäº›å­—ç¬¦ï¼ˆä¹Ÿå¯ä»¥ä¸åˆ é™¤ä»»ä½•å­—ç¬¦ï¼‰åç»„æˆçš„æ–°å­—ç¬¦ä¸²ã€‚</p>
<ul>
<li>ä¾‹å¦‚ï¼Œ<code>&quot;ace&quot;</code> æ˜¯ <code>&quot;abcde&quot;</code> çš„å­åºåˆ—ï¼Œä½† <code>&quot;aec&quot;</code> ä¸æ˜¯ <code>&quot;abcde&quot;</code> çš„å­åºåˆ—ã€‚</li>
</ul>
<p>ä¸¤ä¸ªå­—ç¬¦ä¸²çš„ <strong>å…¬å…±å­åºåˆ—</strong> æ˜¯è¿™ä¸¤ä¸ªå­—ç¬¦ä¸²æ‰€å…±åŒæ‹¥æœ‰çš„å­åºåˆ—ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼štext1 = &quot;abcde&quot;, text2 = &quot;ace&quot; </span><br><span class="line">è¾“å‡ºï¼š3  </span><br><span class="line">è§£é‡Šï¼šæœ€é•¿å…¬å…±å­åºåˆ—æ˜¯ &quot;ace&quot; ï¼Œå®ƒçš„é•¿åº¦ä¸º 3 ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼štext1 = &quot;abc&quot;, text2 = &quot;abc&quot;</span><br><span class="line">è¾“å‡ºï¼š3</span><br><span class="line">è§£é‡Šï¼šæœ€é•¿å…¬å…±å­åºåˆ—æ˜¯ &quot;abc&quot; ï¼Œå®ƒçš„é•¿åº¦ä¸º 3 ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼štext1 = &quot;abc&quot;, text2 = &quot;def&quot;</span><br><span class="line">è¾“å‡ºï¼š0</span><br><span class="line">è§£é‡Šï¼šä¸¤ä¸ªå­—ç¬¦ä¸²æ²¡æœ‰å…¬å…±å­åºåˆ—ï¼Œè¿”å› 0 ã€‚</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= text1.length, text2.length &lt;= 1000</code></li>
<li><code>text1</code> å’Œ <code>text2</code> ä»…ç”±å°å†™è‹±æ–‡å­—ç¬¦ç»„æˆã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">longestCommonSubsequence</span><span class="params">(String text1, String text2)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> text1.length(), n = text2.length();</span><br><span class="line">        <span class="comment">// 1. dp[i][j]è¡¨ç¤ºtext1(0~i-1)å’Œtext2(0~j-1)ä¹‹é—´çš„æœ€å¤§å…¬å…±å­åºåˆ—é•¿åº¦</span></span><br><span class="line">        <span class="type">int</span>[][] dp = <span class="keyword">new</span> <span class="title class_">int</span>[m + <span class="number">1</span>][n + <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; m + <span class="number">1</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">1</span>; j &lt; n + <span class="number">1</span>; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (text1.charAt(i - <span class="number">1</span>) == text2.charAt(j - <span class="number">1</span>)) &#123;</span><br><span class="line">                    dp[i][j] = dp[i - <span class="number">1</span>][j - <span class="number">1</span>] + <span class="number">1</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    dp[i][j] = Math.max(dp[i - <span class="number">1</span>][j], dp[i][j - <span class="number">1</span>]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[m][n];</span><br><span class="line">    &#125;   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦O(M*N)</li>
<li>ç©ºé—´å¤æ‚åº¦O(M*N)</li>
</ul>
<h3 id="7-19ã€LC332-é›¶é’±æ‰¾é›¶"><a href="#7-19ã€LC332-é›¶é’±æ‰¾é›¶" class="headerlink" title="7.19ã€LC332.é›¶é’±æ‰¾é›¶"></a>7.19ã€LC332.é›¶é’±æ‰¾é›¶</h3><p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>coins</code> ï¼Œè¡¨ç¤ºä¸åŒé¢é¢çš„ç¡¬å¸ï¼›ä»¥åŠä¸€ä¸ªæ•´æ•° <code>amount</code> ï¼Œè¡¨ç¤ºæ€»é‡‘é¢ã€‚</p>
<p>è®¡ç®—å¹¶è¿”å›å¯ä»¥å‡‘æˆæ€»é‡‘é¢æ‰€éœ€çš„ <strong>æœ€å°‘çš„ç¡¬å¸ä¸ªæ•°</strong> ã€‚å¦‚æœæ²¡æœ‰ä»»ä½•ä¸€ç§ç¡¬å¸ç»„åˆèƒ½ç»„æˆæ€»é‡‘é¢ï¼Œè¿”å› <code>-1</code> ã€‚</p>
<p>ä½ å¯ä»¥è®¤ä¸ºæ¯ç§ç¡¬å¸çš„æ•°é‡æ˜¯æ— é™çš„ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šcoins = [1, 2, 5], amount = 11</span><br><span class="line">è¾“å‡ºï¼š3 </span><br><span class="line">è§£é‡Šï¼š11 = 5 + 5 + 1</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šcoins = [2], amount = 3</span><br><span class="line">è¾“å‡ºï¼š-1</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šcoins = [1], amount = 0</span><br><span class="line">è¾“å‡ºï¼š0</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= coins.length &lt;= 12</code></li>
<li><code>1 &lt;= coins[i] &lt;= 231 - 1</code></li>
<li><code>0 &lt;= amount &lt;= 104</code></li>
</ul>
<p>Related Topics</p>
<p>å¹¿åº¦ä¼˜å…ˆæœç´¢</p>
<p>æ•°ç»„</p>
<p>åŠ¨æ€è§„åˆ’</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">coinChange</span><span class="params">(<span class="type">int</span>[] coins, <span class="type">int</span> amount)</span> &#123;</span><br><span class="line">        <span class="comment">// è‡ªåº•å‘ä¸Šçš„åŠ¨æ€è§„åˆ’</span></span><br><span class="line">        <span class="keyword">if</span>(coins.length == <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// dp[n]çš„å€¼ï¼š è¡¨ç¤ºçš„å‡‘æˆæ€»é‡‘é¢ä¸ºnæ‰€éœ€çš„æœ€å°‘çš„ç¡¬å¸ä¸ªæ•°</span></span><br><span class="line">        <span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[amount + <span class="number">1</span>];</span><br><span class="line">        <span class="comment">// amount + 1 æ˜¯ä¸å¯èƒ½è¾¾åˆ°çš„æ¢å–æ•°é‡ï¼Œäºæ˜¯ä½¿ç”¨å…¶è¿›è¡Œå¡«å……</span></span><br><span class="line">        Arrays.fill(dp,amount+<span class="number">1</span>);</span><br><span class="line">        dp[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= amount;i++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>;j &lt; coins.length;j++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(i - coins[j] &gt;= <span class="number">0</span>)&#123;</span><br><span class="line">                    <span class="comment">// dp[i]æœ‰ä¸¤ç§å®ç°çš„æ–¹å¼ï¼Œ</span></span><br><span class="line">                    <span class="comment">// ä¸€ç§æ˜¯åŒ…å«å½“å‰çš„coins[i],é‚£ä¹ˆå‰©ä½™é’±å°±æ˜¯ i-coins[i],è¿™ç§æ“ä½œè¦å…‘æ¢çš„ç¡¬å¸æ•°æ˜¯ dp[i-coins[j]] + 1</span></span><br><span class="line">                    <span class="comment">// å¦ä¸€ç§å°±æ˜¯ä¸åŒ…å«ï¼Œè¦å…‘æ¢çš„ç¡¬å¸æ•°æ˜¯memo[i]</span></span><br><span class="line">                    dp[i] = Math.min(dp[i],dp[i-coins[j]] + <span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> dp[amount] == (amount + <span class="number">1</span>) ? -<span class="number">1</span> : dp[amount];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å…«ã€æœç´¢ä¸å›æº¯ç®—æ³•"><a href="#å…«ã€æœç´¢ä¸å›æº¯ç®—æ³•" class="headerlink" title="å…«ã€æœç´¢ä¸å›æº¯ç®—æ³•"></a>å…«ã€æœç´¢ä¸å›æº¯ç®—æ³•</h2><h3 id="8-1ã€å‰‘æŒ‡-Offer-12-çŸ©é˜µä¸­çš„è·¯å¾„"><a href="#8-1ã€å‰‘æŒ‡-Offer-12-çŸ©é˜µä¸­çš„è·¯å¾„" class="headerlink" title="8.1ã€å‰‘æŒ‡ Offer 12. çŸ©é˜µä¸­çš„è·¯å¾„"></a>8.1ã€å‰‘æŒ‡ Offer 12. çŸ©é˜µä¸­çš„è·¯å¾„</h3><p>ç»™å®šä¸€ä¸ª <code>m x n</code> äºŒç»´å­—ç¬¦ç½‘æ ¼ <code>board</code> å’Œä¸€ä¸ªå­—ç¬¦ä¸²å•è¯ <code>word</code> ã€‚å¦‚æœ <code>word</code> å­˜åœ¨äºç½‘æ ¼ä¸­ï¼Œè¿”å› <code>true</code> ï¼›å¦åˆ™ï¼Œè¿”å› <code>false</code> ã€‚</p>
<p>å•è¯å¿…é¡»æŒ‰ç…§å­—æ¯é¡ºåºï¼Œé€šè¿‡ç›¸é‚»çš„å•å…ƒæ ¼å†…çš„å­—æ¯æ„æˆï¼Œå…¶ä¸­â€œç›¸é‚»â€å•å…ƒæ ¼æ˜¯é‚£äº›æ°´å¹³ç›¸é‚»æˆ–å‚ç›´ç›¸é‚»çš„å•å…ƒæ ¼ã€‚åŒä¸€ä¸ªå•å…ƒæ ¼å†…çš„å­—æ¯ä¸å…è®¸è¢«é‡å¤ä½¿ç”¨ã€‚</p>
<p>ä¾‹å¦‚ï¼Œåœ¨ä¸‹é¢çš„ 3Ã—4 çš„çŸ©é˜µä¸­åŒ…å«å•è¯ â€œABCCEDâ€ï¼ˆå•è¯ä¸­çš„å­—æ¯å·²æ ‡å‡ºï¼‰ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://assets.leetcode.com/uploads/2020/11/04/word2.jpg" alt="img"></p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šboard = [[&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;E&quot;],[&quot;S&quot;,&quot;F&quot;,&quot;C&quot;,&quot;S&quot;],[&quot;A&quot;,&quot;D&quot;,&quot;E&quot;,&quot;E&quot;]], word = &quot;ABCCED&quot;</span><br><span class="line">è¾“å‡ºï¼štrue</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šboard = [[&quot;a&quot;,&quot;b&quot;],[&quot;c&quot;,&quot;d&quot;]], word = &quot;abcd&quot;</span><br><span class="line">è¾“å‡ºï¼šfalse</span><br></pre></td></tr></table></figure>

<p><strong>è§£é¢˜æ€è·¯ï¼š</strong><br>æœ¬é—®é¢˜æ˜¯å…¸å‹çš„çŸ©é˜µæœç´¢é—®é¢˜ï¼Œå¯ä½¿ç”¨ æ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰+ å‰ªæ è§£å†³ã€‚</p>
<ul>
<li><strong>æ·±åº¦ä¼˜å…ˆæœç´¢ï¼š</strong> å¯ä»¥ç†è§£ä¸ºæš´åŠ›æ³•éå†çŸ©é˜µä¸­æ‰€æœ‰å­—ç¬¦ä¸²å¯èƒ½æ€§ã€‚DFS é€šè¿‡é€’å½’ï¼Œå…ˆæœä¸€ä¸ªæ–¹å‘æœåˆ°åº•ï¼Œå†å›æº¯è‡³ä¸Šä¸ªèŠ‚ç‚¹ï¼Œæ²¿å¦ä¸€ä¸ªæ–¹å‘æœç´¢ï¼Œä»¥æ­¤ç±»æ¨ã€‚</li>
<li><strong>å‰ªæï¼š</strong> åœ¨æœç´¢ä¸­ï¼Œé‡åˆ° è¿™æ¡è·¯ä¸å¯èƒ½å’Œç›®æ ‡å­—ç¬¦ä¸²åŒ¹é…æˆåŠŸ çš„æƒ…å†µï¼ˆä¾‹å¦‚ï¼šæ­¤çŸ©é˜µå…ƒç´ å’Œç›®æ ‡å­—ç¬¦ä¸åŒã€æ­¤å…ƒç´ å·²è¢«è®¿é—®ï¼‰ï¼Œåˆ™åº”ç«‹å³è¿”å›ï¼Œç§°ä¹‹ä¸º å¯è¡Œæ€§å‰ªæ ã€‚</li>
</ul>
<p><strong>DFS è§£æï¼š</strong></p>
<ul>
<li>é€’å½’å‚æ•°ï¼š å½“å‰å…ƒç´ åœ¨çŸ©é˜µ board ä¸­çš„è¡Œåˆ—ç´¢å¼• i å’Œ j ï¼Œå½“å‰ç›®æ ‡å­—ç¬¦åœ¨ word ä¸­çš„ç´¢å¼• k ã€‚</li>
<li>ç»ˆæ­¢æ¡ä»¶ï¼š<ol>
<li>è¿”å› falseï¼š (1) è¡Œæˆ–åˆ—ç´¢å¼•è¶Šç•Œ æˆ– (2) å½“å‰çŸ©é˜µå…ƒç´ ä¸ç›®æ ‡å­—ç¬¦ä¸åŒ æˆ– (3) å½“å‰çŸ©é˜µå…ƒç´ å·²è®¿é—®è¿‡ ï¼ˆ (3) å¯åˆå¹¶è‡³ (2) ï¼‰ ã€‚</li>
<li>è¿”å› true ï¼š k &#x3D; len(word) - 1 ï¼Œå³å­—ç¬¦ä¸² word å·²å…¨éƒ¨åŒ¹é…ã€‚</li>
</ol>
</li>
<li>é€’æ¨å·¥ä½œï¼š<ol>
<li>æ ‡è®°å½“å‰çŸ©é˜µå…ƒç´ ï¼š å°† board[i] [j] ä¿®æ”¹ä¸º ç©ºå­—ç¬¦ â€˜ â€˜ï¼Œä»£è¡¨æ­¤å…ƒç´ å·²è®¿é—®è¿‡ï¼Œé˜²æ­¢ä¹‹åæœç´¢æ—¶é‡å¤è®¿é—®ã€‚</li>
<li>æœç´¢ä¸‹ä¸€å•å…ƒæ ¼ï¼š æœå½“å‰å…ƒç´ çš„ ä¸Šã€ä¸‹ã€å·¦ã€å³ å››ä¸ªæ–¹å‘å¼€å¯ä¸‹å±‚é€’å½’ï¼Œä½¿ç”¨ æˆ– è¿æ¥ ï¼ˆä»£è¡¨åªéœ€æ‰¾åˆ°ä¸€æ¡å¯è¡Œè·¯å¾„å°±ç›´æ¥è¿”å›ï¼Œä¸å†åšåç»­ DFS ï¼‰ï¼Œå¹¶è®°å½•ç»“æœè‡³ res ã€‚</li>
<li>è¿˜åŸå½“å‰çŸ©é˜µå…ƒç´ ï¼š å°† board[i] [j] å…ƒç´ è¿˜åŸè‡³åˆå§‹å€¼ï¼Œå³ word[k] ã€‚</li>
</ol>
</li>
<li>è¿”å›å€¼ï¼š è¿”å›å¸ƒå°”é‡ res ï¼Œä»£è¡¨æ˜¯å¦æœç´¢åˆ°ç›®æ ‡å­—ç¬¦ä¸²ã€‚</li>
</ul>
<p><strong>å¤æ‚åº¦åˆ†æï¼š</strong><br>M,N åˆ†åˆ«ä¸ºçŸ©é˜µè¡Œåˆ—å¤§å°ï¼Œ K ä¸ºå­—ç¬¦ä¸² word é•¿åº¦ã€‚</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(3^KMN)ï¼š æœ€å·®æƒ…å†µä¸‹ï¼Œéœ€è¦éå†çŸ©é˜µä¸­é•¿åº¦ä¸º K å­—ç¬¦ä¸²çš„æ‰€æœ‰æ–¹æ¡ˆï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(3^K)ï¼›çŸ©é˜µä¸­å…±æœ‰ MNä¸ªèµ·ç‚¹ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(MN) ã€‚<ul>
<li>æ–¹æ¡ˆæ•°è®¡ç®—ï¼š è®¾å­—ç¬¦ä¸²é•¿åº¦ä¸º K ï¼Œæœç´¢ä¸­æ¯ä¸ªå­—ç¬¦æœ‰ä¸Šã€ä¸‹ã€å·¦ã€å³å››ä¸ªæ–¹å‘å¯ä»¥é€‰æ‹©ï¼Œèˆå¼ƒå›å¤´ï¼ˆä¸Šä¸ªå­—ç¬¦ï¼‰çš„æ–¹å‘ï¼Œå‰©ä¸‹ 3 ç§é€‰æ‹©ï¼Œå› æ­¤æ–¹æ¡ˆæ•°çš„å¤æ‚åº¦ä¸º O(3^K)</li>
</ul>
</li>
<li>ç©ºé—´å¤æ‚åº¦ O(K) ï¼š æœç´¢è¿‡ç¨‹ä¸­çš„é€’å½’æ·±åº¦ä¸è¶…è¿‡ K ï¼Œå› æ­¤ç³»ç»Ÿå› å‡½æ•°è°ƒç”¨ç´¯è®¡ä½¿ç”¨çš„æ ˆç©ºé—´å ç”¨ O(K) ï¼ˆå› ä¸ºå‡½æ•°è¿”å›åï¼Œç³»ç»Ÿè°ƒç”¨çš„æ ˆç©ºé—´ä¼šé‡Šæ”¾ï¼‰ã€‚æœ€åæƒ…å†µä¸‹ K &#x3D; MNï¼Œé€’å½’æ·±åº¦ä¸º MNï¼Œæ­¤æ—¶ç³»ç»Ÿæ ˆä½¿ç”¨ O(MN) çš„é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">exist</span><span class="params">(<span class="type">char</span>[][] board, String word)</span> &#123;</span><br><span class="line">        <span class="type">char</span>[] words = word.toCharArray();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; board.length; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; board[<span class="number">0</span>].length; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span>(dfs(board, words, i, j, <span class="number">0</span>)) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">boolean</span> <span class="title function_">dfs</span><span class="params">(<span class="type">char</span>[][] board, <span class="type">char</span>[] word, <span class="type">int</span> i, <span class="type">int</span> j, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(i &gt;= board.length || i &lt; <span class="number">0</span> || j &gt;= board[<span class="number">0</span>].length || j &lt; <span class="number">0</span> || board[i][j] != word[k]) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">if</span>(k == word.length - <span class="number">1</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        board[i][j] = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">res</span> <span class="operator">=</span> dfs(board, word, i + <span class="number">1</span>, j, k + <span class="number">1</span>) || dfs(board, word, i - <span class="number">1</span>, j, k + <span class="number">1</span>) || </span><br><span class="line">                      dfs(board, word, i, j + <span class="number">1</span>, k + <span class="number">1</span>) || dfs(board, word, i , j - <span class="number">1</span>, k + <span class="number">1</span>);</span><br><span class="line">        board[i][j] = word[k];</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="8-2ã€å‰‘æŒ‡-Offer-13-æœºå™¨äººçš„è¿åŠ¨èŒƒå›´"><a href="#8-2ã€å‰‘æŒ‡-Offer-13-æœºå™¨äººçš„è¿åŠ¨èŒƒå›´" class="headerlink" title="8.2ã€å‰‘æŒ‡ Offer 13. æœºå™¨äººçš„è¿åŠ¨èŒƒå›´"></a>8.2ã€å‰‘æŒ‡ Offer 13. æœºå™¨äººçš„è¿åŠ¨èŒƒå›´</h3><p>åœ°ä¸Šæœ‰ä¸€ä¸ªmè¡Œnåˆ—çš„æ–¹æ ¼ï¼Œä»åæ ‡ <code>[0,0]</code> åˆ°åæ ‡ <code>[m-1,n-1]</code> ã€‚ä¸€ä¸ªæœºå™¨äººä»åæ ‡ <code>[0, 0] </code>çš„æ ¼å­å¼€å§‹ç§»åŠ¨ï¼Œå®ƒæ¯æ¬¡å¯ä»¥å‘å·¦ã€å³ã€ä¸Šã€ä¸‹ç§»åŠ¨ä¸€æ ¼ï¼ˆä¸èƒ½ç§»åŠ¨åˆ°æ–¹æ ¼å¤–ï¼‰ï¼Œä¹Ÿä¸èƒ½è¿›å…¥è¡Œåæ ‡å’Œåˆ—åæ ‡çš„æ•°ä½ä¹‹å’Œå¤§äºkçš„æ ¼å­ã€‚ä¾‹å¦‚ï¼Œå½“kä¸º18æ—¶ï¼Œæœºå™¨äººèƒ½å¤Ÿè¿›å…¥æ–¹æ ¼ [35, 37] ï¼Œå› ä¸º3+5+3+7&#x3D;18ã€‚ä½†å®ƒä¸èƒ½è¿›å…¥æ–¹æ ¼ [35, 38]ï¼Œå› ä¸º3+5+3+8&#x3D;19ã€‚è¯·é—®è¯¥æœºå™¨äººèƒ½å¤Ÿåˆ°è¾¾å¤šå°‘ä¸ªæ ¼å­ï¼Ÿ</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šm = 2, n = 3, k = 1</span><br><span class="line">è¾“å‡ºï¼š3</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šm = 3, n = 1, k = 0</span><br><span class="line">è¾“å‡ºï¼š1</span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= n,m &lt;= 100</code></li>
<li><code>0 &lt;= k &lt;= 20</code></li>
</ul>
<p>Related Topics</p>
<p>æ·±åº¦ä¼˜å…ˆæœç´¢</p>
<p>å¹¿åº¦ä¼˜å…ˆæœç´¢</p>
<p>åŠ¨æ€è§„åˆ’</p>
<p><strong>è§£é¢˜æ€è·¯ï¼š</strong></p>
<ol>
<li>ç¡®å®šDFSæ·±åº¦ä¼˜å…ˆæœç´¢ã€‚</li>
<li>ç”¨vistæ•°ç»„è®°å½•ï¼Œç”¨æ¥å‰ªæã€‚</li>
<li>å‘ä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘æœç´¢ã€‚</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">movingCount</span><span class="params">(<span class="type">int</span> m, <span class="type">int</span> n, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    * è®°å½•[i,j]ä½ç½®æœ‰æ²¡æœ‰è®¿é—®è¿‡ï¼Œtrueè®¿é—®è¿‡ï¼Œfalseæ²¡è®¿é—®è¿‡</span></span><br><span class="line"><span class="comment">    * */</span></span><br><span class="line">    <span class="type">boolean</span>[][] visit = <span class="keyword">new</span> <span class="title class_">boolean</span>[m][n];</span><br><span class="line">    <span class="keyword">return</span> backtarcking(visit, <span class="number">0</span>, <span class="number">0</span>, k);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="type">int</span> <span class="title function_">backtarcking</span><span class="params">(<span class="type">boolean</span>[][] visit, <span class="type">int</span> row, <span class="type">int</span> col, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (row &lt; <span class="number">0</span> || col &lt; <span class="number">0</span> || row &gt; visit.length || col &gt; visit[<span class="number">0</span>].length || (row % <span class="number">10</span> + row / <span class="number">10</span> + col % <span class="number">10</span> + col / <span class="number">10</span>) &gt; k || visit[row][col]) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    visit[row][col] = <span class="literal">true</span>;</span><br><span class="line">    <span class="comment">//å‘å››ä¸ªæ–¹å‘æœç´¢</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> backtarcking(visit, row - <span class="number">1</span>, col, k);<span class="comment">//ä¸Š</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> backtarcking(visit, row + <span class="number">1</span>, col, k);<span class="comment">//ä¸‹</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> backtarcking(visit, row, col - <span class="number">1</span>, k);<span class="comment">//å·¦</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">d</span> <span class="operator">=</span> backtarcking(visit, row, col + <span class="number">1</span>, k);<span class="comment">//å³</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span> + a + b + c + d;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202211191155225.png" alt="image-20221119115452914"></p>
<p>å¤æ‚åº¦åˆ†æï¼š<br>è®¾çŸ©é˜µè¡Œåˆ—æ•°åˆ†åˆ«ä¸º M, Nã€‚</p>
<p>æ—¶é—´å¤æ‚åº¦ O(MN)ï¼š æœ€å·®æƒ…å†µä¸‹ï¼Œæœºå™¨äººéå†çŸ©é˜µæ‰€æœ‰å•å…ƒæ ¼ï¼Œæ­¤æ—¶æ—¶é—´å¤æ‚åº¦ä¸º O(MN)ã€‚<br>ç©ºé—´å¤æ‚åº¦ O(MN) ï¼š æœ€å·®æƒ…å†µä¸‹ï¼ŒSet visited å†…å­˜å‚¨çŸ©é˜µæ‰€æœ‰å•å…ƒæ ¼çš„ç´¢å¼•ï¼Œä½¿ç”¨ O(MN)çš„é¢å¤–ç©ºé—´ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202211191157599.png" alt="image-20221119115705308"></p>
<p>å¤æ‚åº¦åˆ†æï¼š<br>è®¾çŸ©é˜µè¡Œåˆ—æ•°åˆ†åˆ«ä¸º M, Nã€‚</p>
<p>æ—¶é—´å¤æ‚åº¦ O(MN)ï¼š æœ€å·®æƒ…å†µä¸‹ï¼Œæœºå™¨äººéå†çŸ©é˜µæ‰€æœ‰å•å…ƒæ ¼ï¼Œæ­¤æ—¶æ—¶é—´å¤æ‚åº¦ä¸º O(MN)ã€‚<br>ç©ºé—´å¤æ‚åº¦ O(MN) ï¼š æœ€å·®æƒ…å†µä¸‹ï¼ŒSet visited å†…å­˜å‚¨çŸ©é˜µæ‰€æœ‰å•å…ƒæ ¼çš„ç´¢å¼•ï¼Œä½¿ç”¨ O(MN)çš„é¢å¤–ç©ºé—´ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">movingCount</span><span class="params">(<span class="type">int</span> m, <span class="type">int</span> n, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">        <span class="type">boolean</span>[][] visited = <span class="keyword">new</span> <span class="title class_">boolean</span>[m][n];</span><br><span class="line">        <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        Queue&lt;<span class="type">int</span>[]&gt; queue= <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;<span class="type">int</span>[]&gt;();</span><br><span class="line">        queue.add(<span class="keyword">new</span> <span class="title class_">int</span>[] &#123; <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span> &#125;);</span><br><span class="line">        <span class="keyword">while</span>(queue.size() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="type">int</span>[] x = queue.poll();</span><br><span class="line">            <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> x[<span class="number">0</span>], j = x[<span class="number">1</span>], si = x[<span class="number">2</span>], sj = x[<span class="number">3</span>];</span><br><span class="line">            <span class="keyword">if</span>(i &gt;= m || j &gt;= n || k &lt; si + sj || visited[i][j]) <span class="keyword">continue</span>;</span><br><span class="line">            visited[i][j] = <span class="literal">true</span>;</span><br><span class="line">            res ++;</span><br><span class="line">            queue.add(<span class="keyword">new</span> <span class="title class_">int</span>[] &#123; i + <span class="number">1</span>, j, (i + <span class="number">1</span>) % <span class="number">10</span> != <span class="number">0</span> ? si + <span class="number">1</span> : si - <span class="number">8</span>, sj &#125;);</span><br><span class="line">            queue.add(<span class="keyword">new</span> <span class="title class_">int</span>[] &#123; i, j + <span class="number">1</span>, si, (j + <span class="number">1</span>) % <span class="number">10</span> != <span class="number">0</span> ? sj + <span class="number">1</span> : sj - <span class="number">8</span> &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="8-3ã€å‰‘æŒ‡-Offer-26-æ ‘çš„å­ç»“æ„"><a href="#8-3ã€å‰‘æŒ‡-Offer-26-æ ‘çš„å­ç»“æ„" class="headerlink" title="8.3ã€å‰‘æŒ‡ Offer 26. æ ‘çš„å­ç»“æ„"></a>8.3ã€å‰‘æŒ‡ Offer 26. æ ‘çš„å­ç»“æ„</h3><p>è¾“å…¥ä¸¤æ£µäºŒå‰æ ‘Aå’ŒBï¼Œåˆ¤æ–­Bæ˜¯ä¸æ˜¯Açš„å­ç»“æ„ã€‚(çº¦å®šç©ºæ ‘ä¸æ˜¯ä»»æ„ä¸€ä¸ªæ ‘çš„å­ç»“æ„)</p>
<p>Bæ˜¯Açš„å­ç»“æ„ï¼Œ å³ Aä¸­æœ‰å‡ºç°å’ŒBç›¸åŒçš„ç»“æ„å’ŒèŠ‚ç‚¹å€¼ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šA = [1,2,3], B = [3,1]</span><br><span class="line">è¾“å‡ºï¼šfalse</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šA = [3,4,5,1,2], B = [4,1]</span><br><span class="line">è¾“å‡ºï¼štrue</span><br></pre></td></tr></table></figure>

<p><strong>é™åˆ¶ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0 &lt;= èŠ‚ç‚¹ä¸ªæ•° &lt;= 10000</span><br></pre></td></tr></table></figure>

<p>Related Topics</p>
<p>æ ‘</p>
<p>æ·±åº¦ä¼˜å…ˆæœç´¢</p>
<p>äºŒå‰æ ‘</p>
<p><strong>è§£é¢˜æ€è·¯ï¼š</strong><br>è‹¥æ ‘ B æ˜¯æ ‘ A çš„å­ç»“æ„ï¼Œåˆ™å­ç»“æ„çš„æ ¹èŠ‚ç‚¹å¯èƒ½ä¸ºæ ‘ A çš„ä»»æ„ä¸€ä¸ªèŠ‚ç‚¹ã€‚å› æ­¤ï¼Œåˆ¤æ–­æ ‘ B æ˜¯å¦æ˜¯æ ‘ A çš„å­ç»“æ„ï¼Œéœ€å®Œæˆä»¥ä¸‹ä¸¤æ­¥å·¥ä½œï¼š</p>
<ol>
<li>å…ˆåºéå†æ ‘ A ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹ nAï¼ˆå¯¹åº”å‡½æ•° isSubStructure(A, B)ï¼‰</li>
<li>åˆ¤æ–­æ ‘ A ä¸­ ä»¥ nA ä¸ºæ ¹èŠ‚ç‚¹çš„å­æ ‘ æ˜¯å¦åŒ…å«æ ‘ B ã€‚ï¼ˆå¯¹åº”å‡½æ•° recur(A, B)ï¼‰</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202211191500296.png" alt="Picture1.png"></p>
<p><strong>ç®—æ³•æµç¨‹ï¼š</strong></p>
<blockquote>
<p>æœ¬æ–‡åè¯è§„å®šï¼šæ ‘ A çš„æ ¹èŠ‚ç‚¹è®°ä½œ èŠ‚ç‚¹ A ï¼Œæ ‘ B çš„æ ¹èŠ‚ç‚¹ç§°ä¸º èŠ‚ç‚¹ B ã€‚</p>
</blockquote>
<p><code>recur(A, B)</code> å‡½æ•°ï¼š</p>
<ol>
<li>ç»ˆæ­¢æ¡ä»¶ï¼š<ol>
<li>å½“èŠ‚ç‚¹ B ä¸ºç©ºï¼šè¯´æ˜æ ‘ B å·²åŒ¹é…å®Œæˆï¼ˆè¶Šè¿‡å¶å­èŠ‚ç‚¹ï¼‰ï¼Œå› æ­¤è¿”å› true ï¼›</li>
<li>å½“èŠ‚ç‚¹ A ä¸ºç©ºï¼šè¯´æ˜å·²ç»è¶Šè¿‡æ ‘ A çš„å¶èŠ‚ç‚¹ï¼Œå³åŒ¹é…å¤±è´¥ï¼Œè¿”å› false ï¼›</li>
<li>å½“èŠ‚ç‚¹ A å’Œ B çš„å€¼ä¸åŒï¼šè¯´æ˜åŒ¹é…å¤±è´¥ï¼Œè¿”å› false ï¼›</li>
</ol>
</li>
<li>è¿”å›å€¼ï¼š<ol>
<li>åˆ¤æ–­ A å’Œ B çš„ å·¦å­èŠ‚ç‚¹ æ˜¯å¦ç›¸ç­‰ï¼Œå³ recur(A.left, B.left) ï¼›</li>
<li>åˆ¤æ–­ A å’Œ B çš„ å³å­èŠ‚ç‚¹ æ˜¯å¦ç›¸ç­‰ï¼Œå³ recur(A.right, B.right) ï¼›</li>
</ol>
</li>
</ol>
<p><code>isSubStructure(A, B)</code> å‡½æ•°ï¼š</p>
<ol>
<li>ç‰¹ä¾‹å¤„ç†ï¼š å½“ æ ‘ A ä¸ºç©º æˆ– æ ‘ B ä¸ºç©º æ—¶ï¼Œç›´æ¥è¿”å› false ï¼›</li>
<li>è¿”å›å€¼ï¼š è‹¥æ ‘ B æ˜¯æ ‘ A çš„å­ç»“æ„ï¼Œåˆ™å¿…æ»¡è¶³ä»¥ä¸‹ä¸‰ç§æƒ…å†µä¹‹ä¸€ï¼Œå› æ­¤ç”¨æˆ– || è¿æ¥ï¼›<ol>
<li>ä»¥ èŠ‚ç‚¹ A ä¸ºæ ¹èŠ‚ç‚¹çš„å­æ ‘ åŒ…å«æ ‘ B ï¼Œå¯¹åº” recur(A, B)ï¼›</li>
<li>æ ‘ B æ˜¯ æ ‘ A å·¦å­æ ‘ çš„å­ç»“æ„ï¼Œå¯¹åº” isSubStructure(A.left, B)ï¼›</li>
<li>æ ‘ B æ˜¯ æ ‘ A å³å­æ ‘ çš„å­ç»“æ„ï¼Œå¯¹åº” isSubStructure(A.right, B)ï¼›</li>
</ol>
</li>
</ol>
<blockquote>
<p>ä»¥ä¸Š 2. 3. å®è´¨ä¸Šæ˜¯åœ¨å¯¹æ ‘ A åš å…ˆåºéå† ã€‚</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202211191503691.png" alt="img"></p>
<p><strong>å¤æ‚åº¦åˆ†æï¼š</strong></p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(MN) ï¼š å…¶ä¸­ M, Nåˆ†åˆ«ä¸ºæ ‘ A å’Œ æ ‘ B çš„èŠ‚ç‚¹æ•°é‡ï¼›å…ˆåºéå†æ ‘ A å ç”¨ O(M) ï¼Œæ¯æ¬¡è°ƒç”¨ recur(A, B) åˆ¤æ–­å ç”¨ O(N)ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(M) ï¼š å½“æ ‘ A å’Œæ ‘ B éƒ½é€€åŒ–ä¸ºé“¾è¡¨æ—¶ï¼Œé€’å½’è°ƒç”¨æ·±åº¦æœ€å¤§ã€‚å½“ Mâ‰¤N æ—¶ï¼Œéå†æ ‘ A ä¸é€’å½’åˆ¤æ–­çš„æ€»é€’å½’æ·±åº¦ä¸º M ï¼›å½“ M&gt;N æ—¶ï¼Œæœ€å·®æƒ…å†µä¸ºéå†è‡³æ ‘ A çš„å¶èŠ‚ç‚¹ï¼Œæ­¤æ—¶æ€»é€’å½’æ·±åº¦ä¸º Mã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isSubStructure</span><span class="params">(TreeNode A, TreeNode B)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (A != <span class="literal">null</span> &amp;&amp; B != <span class="literal">null</span>) &amp;&amp; (recur(A, B) || isSubStructure(A.left, B) || isSubStructure(A.right, B));</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">recur</span><span class="params">(TreeNode A, TreeNode B)</span> &#123;</span><br><span class="line">    <span class="comment">// ç»ˆæ­¢æ¡ä»¶</span></span><br><span class="line">    <span class="keyword">if</span> (B == <span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">if</span> (A == <span class="literal">null</span> || A.val != B.val) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">return</span> recur(A.left, B.left) &amp;&amp; recur(A.right, B.right);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="8-4ã€å‰‘æŒ‡-Offer-27-äºŒå‰æ ‘çš„é•œåƒ"><a href="#8-4ã€å‰‘æŒ‡-Offer-27-äºŒå‰æ ‘çš„é•œåƒ" class="headerlink" title="8.4ã€å‰‘æŒ‡ Offer 27. äºŒå‰æ ‘çš„é•œåƒ"></a>8.4ã€å‰‘æŒ‡ Offer 27. äºŒå‰æ ‘çš„é•œåƒ</h3><p>è¯·å®Œæˆä¸€ä¸ªå‡½æ•°ï¼Œè¾“å…¥ä¸€ä¸ªäºŒå‰æ ‘ï¼Œè¯¥å‡½æ•°è¾“å‡ºå®ƒçš„é•œåƒã€‚</p>
<p>ä¾‹å¦‚è¾“å…¥ï¼š</p>
<p><code>     4    /   \   2     7  / \   / \ 1   3 6   9</code><br>é•œåƒè¾“å‡ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">4    /   \   7     2  / \   / \ 9   6 3   1</span><br></pre></td></tr></table></figure>



<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šroot = [4,2,7,1,3,6,9]</span><br><span class="line">è¾“å‡ºï¼š[4,7,2,9,6,3,1]</span><br></pre></td></tr></table></figure>



<p><strong>é™åˆ¶ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0 &lt;= èŠ‚ç‚¹ä¸ªæ•° &lt;= 1000</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼šæœ¬é¢˜ä¸ä¸»ç«™ 226 é¢˜ç›¸åŒï¼š<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/invert-binary-tree/">https://leetcode-cn.com/problems/invert-binary-tree/</a></p>
<p>Related Topics</p>
<p>æ ‘</p>
<p>æ·±åº¦ä¼˜å…ˆæœç´¢</p>
<p>å¹¿åº¦ä¼˜å…ˆæœç´¢</p>
<p>äºŒå‰æ ‘</p>
<p>ğŸ‘ 320</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://tva1.sinaimg.cn/large/008eGmZEly1gnakm26jtog30e409s4qp.gif" alt="ç¿»è½¬äºŒå‰æ ‘"></p>
<p>é€’å½’ä¸‰éƒ¨æ›²ï¼š</p>
<ol>
<li>ç¡®å®šé€’å½’å‡½æ•°çš„å‚æ•°å’Œè¿”å›å€¼</li>
</ol>
<p>å‚æ•°å°±æ˜¯è¦ä¼ å…¥èŠ‚ç‚¹çš„æŒ‡é’ˆï¼Œä¸éœ€è¦å…¶ä»–å‚æ•°äº†ï¼Œé€šå¸¸æ­¤æ—¶å®šä¸‹æ¥ä¸»è¦å‚æ•°ï¼Œå¦‚æœåœ¨å†™é€’å½’çš„é€»è¾‘ä¸­å‘ç°è¿˜éœ€è¦å…¶ä»–å‚æ•°çš„æ—¶å€™ï¼Œéšæ—¶è¡¥å……ã€‚</p>
<p>è¿”å›å€¼çš„è¯å…¶å®ä¹Ÿä¸éœ€è¦ï¼Œä½†æ˜¯é¢˜ç›®ä¸­ç»™å‡ºçš„è¦è¿”å›rootèŠ‚ç‚¹çš„æŒ‡é’ˆï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨é¢˜ç›®å®šä¹‰å¥½çš„å‡½æ•°ï¼Œæ‰€ä»¥å°±å‡½æ•°çš„è¿”å›ç±»å‹ä¸º<code>TreeNode*</code>ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">TreeNode* <span class="title">invertTree</span><span class="params">(TreeNode* root)</span></span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>ç¡®å®šç»ˆæ­¢æ¡ä»¶</li>
</ol>
<p>å½“å‰èŠ‚ç‚¹ä¸ºç©ºçš„æ—¶å€™ï¼Œå°±è¿”å›</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (root == <span class="literal">NULL</span>) <span class="keyword">return</span> root;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>ç¡®å®šå•å±‚é€’å½’çš„é€»è¾‘</li>
</ol>
<p>å› ä¸ºæ˜¯å…ˆå‰åºéå†ï¼Œæ‰€ä»¥å…ˆè¿›è¡Œäº¤æ¢å·¦å³å­©å­èŠ‚ç‚¹ï¼Œç„¶ååè½¬å·¦å­æ ‘ï¼Œåè½¬å³å­æ ‘ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">swap</span>(root.left, root.right);</span><br><span class="line"><span class="built_in">invertTree</span>(root.left);</span><br><span class="line"><span class="built_in">invertTree</span>(root.right);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> TreeNode <span class="title function_">mirrorTree</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> recur(root);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> TreeNode <span class="title function_">recur</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">tmp</span> <span class="operator">=</span> root.left;</span><br><span class="line">        root.left = root.right;</span><br><span class="line">        root.right = tmp;</span><br><span class="line">    &#125;</span><br><span class="line">    recur(root.left);</span><br><span class="line">    recur(root.right);</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="8-5ã€å‰‘æŒ‡-Offer-28-å¯¹ç§°çš„äºŒå‰æ ‘"><a href="#8-5ã€å‰‘æŒ‡-Offer-28-å¯¹ç§°çš„äºŒå‰æ ‘" class="headerlink" title="8.5ã€å‰‘æŒ‡ Offer 28. å¯¹ç§°çš„äºŒå‰æ ‘"></a>8.5ã€å‰‘æŒ‡ Offer 28. å¯¹ç§°çš„äºŒå‰æ ‘</h3><p>è¯·å®ç°ä¸€ä¸ªå‡½æ•°ï¼Œç”¨æ¥åˆ¤æ–­ä¸€æ£µäºŒå‰æ ‘æ˜¯ä¸æ˜¯å¯¹ç§°çš„ã€‚å¦‚æœä¸€æ£µäºŒå‰æ ‘å’Œå®ƒçš„é•œåƒä¸€æ ·ï¼Œé‚£ä¹ˆå®ƒæ˜¯å¯¹ç§°çš„ã€‚</p>
<p>ä¾‹å¦‚ï¼ŒäºŒå‰æ ‘ [1,2,2,3,4,4,3] æ˜¯å¯¹ç§°çš„ã€‚</p>
<p><code>    1    / \   2   2  / \ / \ 3  4 4  3</code><br>ä½†æ˜¯ä¸‹é¢è¿™ä¸ª [1,2,2,null,3,null,3] åˆ™ä¸æ˜¯é•œåƒå¯¹ç§°çš„:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1    / \   2   2    \   \    3    3</span><br></pre></td></tr></table></figure>



<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šroot = [1,2,2,3,4,4,3]</span><br><span class="line">è¾“å‡ºï¼štrue</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šroot = [1,2,2,null,3,null,3]</span><br><span class="line">è¾“å‡ºï¼šfalse</span><br></pre></td></tr></table></figure>



<p><strong>é™åˆ¶ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0 &lt;= èŠ‚ç‚¹ä¸ªæ•° &lt;= 1000</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼šæœ¬é¢˜ä¸ä¸»ç«™ 101 é¢˜ç›¸åŒï¼š<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/symmetric-tree/">https://leetcode-cn.com/problems/symmetric-tree/</a></p>
<p>Related Topics</p>
<p>æ ‘</p>
<p>æ·±åº¦ä¼˜å…ˆæœç´¢</p>
<p>å¹¿åº¦ä¼˜å…ˆæœç´¢</p>
<p>äºŒå‰æ ‘</p>
<p>ğŸ‘ 397</p>
<p>ğŸ‘ 0</p>
<p>é¦–å…ˆæƒ³æ¸…æ¥šï¼Œè¦æ¯”è¾ƒçš„å¯ä¸æ˜¯å·¦å³èŠ‚ç‚¹ï¼å¯¹äºäºŒå‰æ ‘æ˜¯å¦å¯¹ç§°ï¼Œè¦æ¯”è¾ƒçš„æ˜¯æ ¹èŠ‚ç‚¹çš„å·¦å­æ ‘ä¸å³å­æ ‘æ˜¯ä¸æ˜¯ç›¸äº’ç¿»è½¬çš„,å…¶å®æˆ‘ä»¬è¦æ¯”è¾ƒçš„æ˜¯ä¸¤ä¸ªæ ‘ï¼ˆè¿™ä¸¤ä¸ªæ ‘æ˜¯æ ¹èŠ‚ç‚¹çš„å·¦å³å­æ ‘ï¼‰ï¼Œæ‰€ä»¥åœ¨é€’å½’éå†çš„è¿‡ç¨‹ä¸­ï¼Œä¹Ÿæ˜¯è¦åŒæ—¶éå†ä¸¤æ£µæ ‘ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202211201040962.png" alt="101. å¯¹ç§°äºŒå‰æ ‘1"></p>
<p>é‚£ä¹ˆéå†çš„é¡ºåºåº”è¯¥æ˜¯ä»€ä¹ˆæ ·çš„å‘¢ï¼Ÿ</p>
<p>æœ¬é¢˜éå†åªèƒ½æ˜¯â€œååºéå†â€ï¼Œå› ä¸ºæˆ‘ä»¬è¦é€šè¿‡é€’å½’å‡½æ•°çš„è¿”å›å€¼æ¥åˆ¤æ–­ä¸¤ä¸ªå­æ ‘çš„å†…ä¾§èŠ‚ç‚¹å’Œå¤–ä¾§èŠ‚ç‚¹æ˜¯å¦ç›¸ç­‰ã€‚</p>
<p><strong>æ­£æ˜¯å› ä¸ºè¦éå†ä¸¤æ£µæ ‘è€Œä¸”è¦æ¯”è¾ƒå†…ä¾§å’Œå¤–ä¾§èŠ‚ç‚¹ï¼Œæ‰€ä»¥å‡†ç¡®çš„æ¥è¯´æ˜¯ä¸€ä¸ªæ ‘çš„éå†é¡ºåºæ˜¯å·¦å³ä¸­ï¼Œä¸€ä¸ªæ ‘çš„éå†é¡ºåºæ˜¯å³å·¦ä¸­ã€‚</strong></p>
<p>ä½†éƒ½å¯ä»¥ç†è§£ç®—æ˜¯ååºéå†ï¼Œå°½ç®¡å·²ç»ä¸æ˜¯ä¸¥æ ¼ä¸Šåœ¨ä¸€ä¸ªæ ‘ä¸Šè¿›è¡Œéå†çš„ååºéå†äº†ã€‚</p>
<hr>
<p><strong>é€’å½’ä¸‰éƒ¨æ›²</strong></p>
<ol>
<li>ç¡®å®šé€’å½’å‡½æ•°çš„å‚æ•°å’Œè¿”å›å€¼</li>
</ol>
<p>å› ä¸ºæˆ‘ä»¬è¦æ¯”è¾ƒçš„æ˜¯æ ¹èŠ‚ç‚¹çš„ä¸¤ä¸ªå­æ ‘æ˜¯å¦æ˜¯ç›¸äº’ç¿»è½¬çš„ï¼Œè¿›è€Œåˆ¤æ–­è¿™ä¸ªæ ‘æ˜¯ä¸æ˜¯å¯¹ç§°æ ‘ï¼Œæ‰€ä»¥è¦æ¯”è¾ƒçš„æ˜¯ä¸¤ä¸ªæ ‘ï¼Œå‚æ•°è‡ªç„¶ä¹Ÿæ˜¯å·¦å­æ ‘èŠ‚ç‚¹å’Œå³å­æ ‘èŠ‚ç‚¹ã€‚</p>
<p>è¿”å›å€¼è‡ªç„¶æ˜¯boolç±»å‹ã€‚</p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bool compare(TreeNode* left, TreeNode* right)</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>ç¡®å®šç»ˆæ­¢æ¡ä»¶</li>
</ol>
<p>è¦æ¯”è¾ƒä¸¤ä¸ªèŠ‚ç‚¹æ•°å€¼ç›¸ä¸ç›¸åŒï¼Œé¦–å…ˆè¦æŠŠä¸¤ä¸ªèŠ‚ç‚¹ä¸ºç©ºçš„æƒ…å†µå¼„æ¸…æ¥šï¼å¦åˆ™åé¢æ¯”è¾ƒæ•°å€¼çš„æ—¶å€™å°±ä¼šæ“ä½œç©ºæŒ‡é’ˆäº†ã€‚</p>
<p>èŠ‚ç‚¹ä¸ºç©ºçš„æƒ…å†µæœ‰ï¼šï¼ˆ<strong>æ³¨æ„æˆ‘ä»¬æ¯”è¾ƒçš„å…¶å®ä¸æ˜¯å·¦å­©å­å’Œå³å­©å­ï¼Œæ‰€ä»¥å¦‚ä¸‹æˆ‘ç§°ä¹‹ä¸ºå·¦èŠ‚ç‚¹å³èŠ‚ç‚¹</strong>ï¼‰</p>
<ul>
<li>å·¦èŠ‚ç‚¹ä¸ºç©ºï¼Œå³èŠ‚ç‚¹ä¸ä¸ºç©ºï¼Œä¸å¯¹ç§°ï¼Œreturn false</li>
<li>å·¦ä¸ä¸ºç©ºï¼Œå³ä¸ºç©ºï¼Œä¸å¯¹ç§° return false</li>
<li>å·¦å³éƒ½ä¸ºç©ºï¼Œå¯¹ç§°ï¼Œè¿”å›true</li>
</ul>
<p>æ­¤æ—¶å·²ç»æ’é™¤æ‰äº†èŠ‚ç‚¹ä¸ºç©ºçš„æƒ…å†µï¼Œé‚£ä¹ˆå‰©ä¸‹çš„å°±æ˜¯å·¦å³èŠ‚ç‚¹ä¸ä¸ºç©ºï¼š</p>
<ul>
<li>å·¦å³éƒ½ä¸ä¸ºç©ºï¼Œæ¯”è¾ƒèŠ‚ç‚¹æ•°å€¼ï¼Œä¸ç›¸åŒå°±return false</li>
</ul>
<p>æ­¤æ—¶å·¦å³èŠ‚ç‚¹ä¸ä¸ºç©ºï¼Œä¸”æ•°å€¼ä¹Ÿä¸ç›¸åŒçš„æƒ…å†µæˆ‘ä»¬ä¹Ÿå¤„ç†äº†ã€‚</p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (left == <span class="literal">NULL</span> &amp;&amp; right != <span class="literal">NULL</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (left != <span class="literal">NULL</span> &amp;&amp; right == <span class="literal">NULL</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (left == <span class="literal">NULL</span> &amp;&amp; right == <span class="literal">NULL</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (left.val != right.val) <span class="keyword">return</span> <span class="literal">false</span>; <span class="comment">// æ³¨æ„è¿™é‡Œæˆ‘æ²¡æœ‰ä½¿ç”¨else</span></span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ä¸Šé¢æœ€åä¸€ç§æƒ…å†µï¼Œæˆ‘æ²¡æœ‰ä½¿ç”¨elseï¼Œè€Œæ˜¯else ifï¼Œ å› ä¸ºæˆ‘ä»¬æŠŠä»¥ä¸Šæƒ…å†µéƒ½æ’é™¤ä¹‹åï¼Œå‰©ä¸‹çš„å°±æ˜¯ å·¦å³èŠ‚ç‚¹éƒ½ä¸ä¸ºç©ºï¼Œä¸”æ•°å€¼ç›¸åŒçš„æƒ…å†µã€‚</p>
<ol start="3">
<li>ç¡®å®šå•å±‚é€’å½’çš„é€»è¾‘</li>
</ol>
<p>æ­¤æ—¶æ‰è¿›å…¥å•å±‚é€’å½’çš„é€»è¾‘ï¼Œå•å±‚é€’å½’çš„é€»è¾‘å°±æ˜¯å¤„ç† å·¦å³èŠ‚ç‚¹éƒ½ä¸ä¸ºç©ºï¼Œä¸”æ•°å€¼ç›¸åŒçš„æƒ…å†µã€‚</p>
<ul>
<li>æ¯”è¾ƒäºŒå‰æ ‘å¤–ä¾§æ˜¯å¦å¯¹ç§°ï¼šä¼ å…¥çš„æ˜¯å·¦èŠ‚ç‚¹çš„å·¦å­©å­ï¼Œå³èŠ‚ç‚¹çš„å³å­©å­ã€‚</li>
<li>æ¯”è¾ƒå†…æµ‹æ˜¯å¦å¯¹ç§°ï¼Œä¼ å…¥å·¦èŠ‚ç‚¹çš„å³å­©å­ï¼Œå³èŠ‚ç‚¹çš„å·¦å­©å­ã€‚</li>
<li>å¦‚æœå·¦å³éƒ½å¯¹ç§°å°±è¿”å›true ï¼Œæœ‰ä¸€ä¾§ä¸å¯¹ç§°å°±è¿”å›false ã€‚</li>
</ul>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">bool</span> outside = <span class="built_in">compare</span>(left.left, right.right);   <span class="comment">// å·¦å­æ ‘ï¼šå·¦ã€ å³å­æ ‘ï¼šå³</span></span><br><span class="line"><span class="type">bool</span> inside = <span class="built_in">compare</span>(left.right, right.left);    <span class="comment">// å·¦å­æ ‘ï¼šå³ã€ å³å­æ ‘ï¼šå·¦</span></span><br><span class="line"><span class="type">bool</span> isSame = outside &amp;&amp; inside;                    <span class="comment">// å·¦å­æ ‘ï¼šä¸­ã€ å³å­æ ‘ï¼šä¸­ï¼ˆé€»è¾‘å¤„ç†ï¼‰</span></span><br><span class="line"><span class="keyword">return</span> isSame;</span><br></pre></td></tr></table></figure>

<p>ä¸Šä»£ç ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºä½¿ç”¨çš„éå†æ–¹å¼ï¼Œå·¦å­æ ‘å·¦å³ä¸­ï¼Œå³å­æ ‘å³å·¦ä¸­ï¼Œæ‰€ä»¥æˆ‘æŠŠè¿™ä¸ªéå†é¡ºåºä¹Ÿç§°ä¹‹ä¸ºâ€œååºéå†â€ï¼ˆå°½ç®¡ä¸æ˜¯ä¸¥æ ¼çš„ååºéå†ï¼‰ã€‚</p>
<p><strong>é€’å½’ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isSymmetric</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> compare(root.left, root.right);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">compare</span><span class="params">(TreeNode left, TreeNode right)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> ((left != <span class="literal">null</span> &amp;&amp; right == <span class="literal">null</span>) || (left == <span class="literal">null</span> &amp;&amp; right != <span class="literal">null</span>)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (left == <span class="literal">null</span> &amp;&amp; right == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (left.val != right.val) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> compare(left.left , right.right) &amp;&amp; compare(left.right , right.left);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>è¿­ä»£ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202211201106248.gif" alt="101.å¯¹ç§°äºŒå‰æ ‘"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isSymmetric</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        Queue&lt;TreeNode&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">//å·¦å³å­©å­å…¥é˜Ÿ</span></span><br><span class="line">        queue.offer(root.left);</span><br><span class="line">        queue.offer(root.right);</span><br><span class="line">        <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">            <span class="type">TreeNode</span> <span class="variable">left</span> <span class="operator">=</span> queue.poll();</span><br><span class="line">            <span class="type">TreeNode</span> <span class="variable">right</span> <span class="operator">=</span> queue.poll();</span><br><span class="line">            <span class="comment">//å·¦å³å­©å­ä¸ºç©º</span></span><br><span class="line">            <span class="keyword">if</span> (left == <span class="literal">null</span> &amp;&amp; right == <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//å·¦å³å­©å­ä¸€ä¸ªä¸ä¸ºç©º æˆ–è€…éƒ½ä¸ä¸ºç©º ä½†å€¼ä¸ä¸€æ ·</span></span><br><span class="line">            <span class="keyword">if</span> ((left != <span class="literal">null</span> &amp;&amp; right == <span class="literal">null</span>) || (left == <span class="literal">null</span> &amp;&amp; right != <span class="literal">null</span>) || (left.val != right.val)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//å­èŠ‚ç‚¹æ¯”è¾ƒ</span></span><br><span class="line">            queue.offer(left.left);<span class="comment">//å·¦å·¦</span></span><br><span class="line">            queue.offer(right.right);<span class="comment">//å³å³</span></span><br><span class="line">            queue.offer(left.right);<span class="comment">//å·¦å³</span></span><br><span class="line">            queue.offer(right.left);<span class="comment">//å³å·¦</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="8-6ã€å‰‘æŒ‡-Offer-32-I-ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘"><a href="#8-6ã€å‰‘æŒ‡-Offer-32-I-ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘" class="headerlink" title="8.6ã€å‰‘æŒ‡ Offer 32 - I. ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘"></a>8.6ã€å‰‘æŒ‡ Offer 32 - I. ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘</h3><p>ä»ä¸Šåˆ°ä¸‹æ‰“å°å‡ºäºŒå‰æ ‘çš„æ¯ä¸ªèŠ‚ç‚¹ï¼ŒåŒä¸€å±‚çš„èŠ‚ç‚¹æŒ‰ç…§ä»å·¦åˆ°å³çš„é¡ºåºæ‰“å°ã€‚</p>
<p>ä¾‹å¦‚:<br>ç»™å®šäºŒå‰æ ‘: <code>[3,9,20,null,null,15,7]</code>,</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">  3</span><br><span class="line"> / \</span><br><span class="line">9  20</span><br><span class="line">  /  \</span><br><span class="line"> 15   7</span><br></pre></td></tr></table></figure>

<p>è¿”å›ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[3,9,20,15,7]</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ol>
<li><code>èŠ‚ç‚¹æ€»æ•° &lt;= 1000</code></li>
</ol>
<p>Related Topics</p>
<p>æ ‘</p>
<p>å¹¿åº¦ä¼˜å…ˆæœç´¢</p>
<p>äºŒå‰æ ‘</p>
<p>ğŸ‘ 236</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯ï¼š</strong></p>
<p>é¢˜ç›®è¦æ±‚çš„äºŒå‰æ ‘çš„ ä»ä¸Šè‡³ä¸‹ æ‰“å°ï¼ˆå³æŒ‰å±‚æ‰“å°ï¼‰ï¼Œåˆç§°ä¸ºäºŒå‰æ ‘çš„ å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆBFSï¼‰ã€‚<br>BFS é€šå¸¸å€ŸåŠ© é˜Ÿåˆ— çš„å…ˆå…¥å…ˆå‡ºç‰¹æ€§æ¥å®ç°ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202211201153247.png" alt="Picture1.png"></p>
<p>ç®—æ³•æµç¨‹ï¼š</p>
<ol>
<li>ç‰¹ä¾‹å¤„ç†ï¼š å½“æ ‘çš„æ ¹èŠ‚ç‚¹ä¸ºç©ºï¼Œåˆ™ç›´æ¥è¿”å›ç©ºåˆ—è¡¨ [] ï¼›</li>
<li>åˆå§‹åŒ–ï¼š æ‰“å°ç»“æœåˆ—è¡¨ res &#x3D; [] ï¼ŒåŒ…å«æ ¹èŠ‚ç‚¹çš„é˜Ÿåˆ— queue &#x3D; [root] ï¼›</li>
<li>BFS å¾ªç¯ï¼š å½“é˜Ÿåˆ— queue ä¸ºç©ºæ—¶è·³å‡ºï¼›</li>
<li>å‡ºé˜Ÿï¼š é˜Ÿé¦–å…ƒç´ å‡ºé˜Ÿï¼Œè®°ä¸º nodeï¼›</li>
<li>æ‰“å°ï¼š å°† node.val æ·»åŠ è‡³åˆ—è¡¨ tmp å°¾éƒ¨ï¼›</li>
<li>æ·»åŠ å­èŠ‚ç‚¹ï¼š è‹¥ node çš„å·¦ï¼ˆå³ï¼‰å­èŠ‚ç‚¹ä¸ä¸ºç©ºï¼Œåˆ™å°†å·¦ï¼ˆå³ï¼‰å­èŠ‚ç‚¹åŠ å…¥é˜Ÿåˆ— queue ï¼›</li>
<li>è¿”å›å€¼ï¼š è¿”å›æ‰“å°ç»“æœåˆ—è¡¨ res å³å¯ã€‚</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span>[] levelOrder(TreeNode root) &#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">int</span>[]&#123;&#125;;</span><br><span class="line">    Queue&lt;TreeNode&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    List&lt;Integer&gt; res = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    queue.add(root);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">size</span> <span class="operator">=</span> queue.size();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">            <span class="type">TreeNode</span> <span class="variable">tmp</span> <span class="operator">=</span>  queue.poll();</span><br><span class="line">            res.add(tmp.val);</span><br><span class="line">            <span class="keyword">if</span> (tmp.left != <span class="literal">null</span>) queue.add(tmp.left);</span><br><span class="line">            <span class="keyword">if</span> (tmp.right != <span class="literal">null</span>) queue.add(tmp.right);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> res.stream().mapToInt(Integer::intValue).toArray();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="8-7ã€å‰‘æŒ‡-Offer-32-II-ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘-II"><a href="#8-7ã€å‰‘æŒ‡-Offer-32-II-ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘-II" class="headerlink" title="8.7ã€å‰‘æŒ‡ Offer 32 - II. ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘ II"></a>8.7ã€å‰‘æŒ‡ Offer 32 - II. ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘ II</h3><p>ä»ä¸Šåˆ°ä¸‹æŒ‰å±‚æ‰“å°äºŒå‰æ ‘ï¼ŒåŒä¸€å±‚çš„èŠ‚ç‚¹æŒ‰ä»å·¦åˆ°å³çš„é¡ºåºæ‰“å°ï¼Œæ¯ä¸€å±‚æ‰“å°åˆ°ä¸€è¡Œã€‚</p>
<p>ä¾‹å¦‚:<br>ç»™å®šäºŒå‰æ ‘: <code>[3,9,20,null,null,15,7]</code>,</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">  3</span><br><span class="line"> / \</span><br><span class="line">9  20</span><br><span class="line">  /  \</span><br><span class="line"> 15   7</span><br></pre></td></tr></table></figure>

<p>è¿”å›å…¶å±‚æ¬¡éå†ç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  [3],</span><br><span class="line">  [9,20],</span><br><span class="line">  [15,7]</span><br><span class="line">]</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ol>
<li><code>èŠ‚ç‚¹æ€»æ•° &lt;= 1000</code></li>
</ol>
<p>æ³¨æ„ï¼šæœ¬é¢˜ä¸ä¸»ç«™ 102 é¢˜ç›¸åŒï¼š<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/binary-tree-level-order-traversal/">https://leetcode-cn.com/problems/binary-tree-level-order-traversal/</a></p>
<p>Related Topics</p>
<p>æ ‘</p>
<p>å¹¿åº¦ä¼˜å…ˆæœç´¢</p>
<p>äºŒå‰æ ‘</p>
<p>ğŸ‘ 256</p>
<p>ğŸ‘ 0</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; <span class="title function_">levelOrder</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line"></span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; res = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    Queue&lt;TreeNode&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    queue.add(root);</span><br><span class="line">    <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">size</span> <span class="operator">=</span> queue.size();<span class="comment">//size :ç›®çš„å°±æ˜¯ä¸ºäº†éå†æ¯ä¸€å±‚</span></span><br><span class="line">        List&lt;Integer&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">            <span class="type">TreeNode</span> <span class="variable">tmp</span> <span class="operator">=</span> queue.poll();</span><br><span class="line">            list.add(tmp.val);</span><br><span class="line">            <span class="keyword">if</span> (tmp.left != <span class="literal">null</span>) queue.add(tmp.left);</span><br><span class="line">            <span class="keyword">if</span> (tmp.right != <span class="literal">null</span>) queue.add(tmp.right);</span><br><span class="line">        &#125;</span><br><span class="line">        res.add(list);<span class="comment">//åŠ å…¥è¯¥å±‚éå†çš„æ•°æ®</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="8-8ã€å‰‘æŒ‡-Offer-32-III-ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘-III"><a href="#8-8ã€å‰‘æŒ‡-Offer-32-III-ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘-III" class="headerlink" title="8.8ã€å‰‘æŒ‡ Offer 32 - III. ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘ III"></a>8.8ã€å‰‘æŒ‡ Offer 32 - III. ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘ III</h3><p>è¯·å®ç°ä¸€ä¸ªå‡½æ•°æŒ‰ç…§ä¹‹å­—å½¢é¡ºåºæ‰“å°äºŒå‰æ ‘ï¼Œå³ç¬¬ä¸€è¡ŒæŒ‰ç…§ä»å·¦åˆ°å³çš„é¡ºåºæ‰“å°ï¼Œç¬¬äºŒå±‚æŒ‰ç…§ä»å³åˆ°å·¦çš„é¡ºåºæ‰“å°ï¼Œç¬¬ä¸‰è¡Œå†æŒ‰ç…§ä»å·¦åˆ°å³çš„é¡ºåºæ‰“å°ï¼Œå…¶ä»–è¡Œä»¥æ­¤ç±»æ¨ã€‚</p>
<p>ä¾‹å¦‚:<br>ç»™å®šäºŒå‰æ ‘: <code>[3,9,20,null,null,15,7]</code>,</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">  3</span><br><span class="line"> / \</span><br><span class="line">9  20</span><br><span class="line">  /  \</span><br><span class="line"> 15   7</span><br></pre></td></tr></table></figure>

<p>è¿”å›å…¶å±‚æ¬¡éå†ç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  [3],</span><br><span class="line">  [20,9],</span><br><span class="line">  [15,7]</span><br><span class="line">]</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ol>
<li><code>èŠ‚ç‚¹æ€»æ•° &lt;= 1000</code></li>
</ol>
<p>Related Topics</p>
<p>æ ‘</p>
<p>å¹¿åº¦ä¼˜å…ˆæœç´¢</p>
<p>äºŒå‰æ ‘</p>
<p>ğŸ‘ 259</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯ï¼š</strong></p>
<p><strong>æ–¹æ³•ä¸€ï¼šå±‚åºéå† + é“¾è¡¨ï¼ˆåŒç«¯é˜Ÿåˆ—ï¼‰</strong></p>
<p>åˆ©ç”¨åŒç«¯é˜Ÿåˆ—çš„ä¸¤ç«¯çš†å¯æ·»åŠ å…ƒç´ çš„ç‰¹æ€§ï¼Œè®¾æ‰“å°åˆ—è¡¨ï¼ˆåŒç«¯é˜Ÿåˆ—ï¼‰ tmp ï¼Œå¹¶è§„å®šï¼š</p>
<ul>
<li>å¥‡æ•°å±‚ åˆ™æ·»åŠ è‡³ tmp å°¾éƒ¨ ï¼Œ</li>
<li>å¶æ•°å±‚ åˆ™æ·»åŠ è‡³ tmp å¤´éƒ¨ ã€‚</li>
</ul>
<p><strong>ç®—æ³•æµç¨‹</strong>ï¼š</p>
<ol>
<li>ç‰¹ä¾‹å¤„ç†ï¼š å½“æ ‘çš„æ ¹èŠ‚ç‚¹ä¸ºç©ºï¼Œåˆ™ç›´æ¥è¿”å›ç©ºåˆ—è¡¨ [] ï¼›</li>
<li>åˆå§‹åŒ–ï¼š æ‰“å°ç»“æœç©ºåˆ—è¡¨ res ï¼ŒåŒ…å«æ ¹èŠ‚ç‚¹çš„åŒç«¯é˜Ÿåˆ— deque ï¼›</li>
<li>BFS å¾ªç¯ï¼š å½“ deque ä¸ºç©ºæ—¶è·³å‡ºï¼›<ol>
<li>æ–°å»ºåˆ—è¡¨ tmp ï¼Œç”¨äºä¸´æ—¶å­˜å‚¨å½“å‰å±‚æ‰“å°ç»“æœï¼›</li>
<li>å½“å‰å±‚æ‰“å°å¾ªç¯ï¼š å¾ªç¯æ¬¡æ•°ä¸ºå½“å‰å±‚èŠ‚ç‚¹æ•°ï¼ˆå³ deque é•¿åº¦ï¼‰ï¼›<ol>
<li>å‡ºé˜Ÿï¼š é˜Ÿé¦–å…ƒç´ å‡ºé˜Ÿï¼Œè®°ä¸º nodeï¼›</li>
<li>æ‰“å°ï¼š è‹¥ä¸ºå¥‡æ•°å±‚ï¼Œå°† node.val æ·»åŠ è‡³ tmp å°¾éƒ¨ï¼›å¦åˆ™ï¼Œæ·»åŠ è‡³ tmp å¤´éƒ¨ï¼›</li>
<li>æ·»åŠ å­èŠ‚ç‚¹ï¼š è‹¥ node çš„å·¦ï¼ˆå³ï¼‰å­èŠ‚ç‚¹ä¸ä¸ºç©ºï¼Œåˆ™åŠ å…¥ deque ï¼›</li>
</ol>
</li>
<li>å°†å½“å‰å±‚ç»“æœ tmp è½¬åŒ–ä¸º list å¹¶æ·»åŠ å…¥ res ï¼›</li>
</ol>
</li>
<li>è¿”å›å€¼ï¼š è¿”å›æ‰“å°ç»“æœåˆ—è¡¨ res å³å¯ï¼›</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; <span class="title function_">levelOrder</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; res = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    Queue&lt;TreeNode&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    queue.add(root);</span><br><span class="line">    <span class="type">boolean</span> <span class="variable">flag</span> <span class="operator">=</span> <span class="literal">false</span>;<span class="comment">//è®°å½•å½“å‰æ˜¯å¦åè½¬</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">size</span> <span class="operator">=</span> queue.size();</span><br><span class="line">        LinkedList&lt;Integer&gt; list = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">            <span class="type">TreeNode</span> <span class="variable">tmp</span> <span class="operator">=</span> queue.poll();</span><br><span class="line">            <span class="keyword">if</span>(res.size() % <span class="number">2</span> == <span class="number">0</span>) list.addLast(tmp.val);<span class="comment">//æ­£åº</span></span><br><span class="line">            <span class="keyword">else</span> list.addFirst(tmp.val);<span class="comment">//é€†åº</span></span><br><span class="line">            <span class="keyword">if</span> (tmp.left != <span class="literal">null</span>) queue.add(tmp.left);</span><br><span class="line">            <span class="keyword">if</span> (tmp.right != <span class="literal">null</span>) queue.add(tmp.right);</span><br><span class="line">        &#125;</span><br><span class="line">        res.add(list);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š<br>æ—¶é—´å¤æ‚åº¦ O(N) ï¼š NN ä¸ºäºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°é‡ï¼Œå³ BFS éœ€å¾ªç¯ N æ¬¡ï¼Œå ç”¨ O(N) ï¼›åŒç«¯é˜Ÿåˆ—çš„é˜Ÿé¦–å’Œé˜Ÿå°¾çš„æ·»åŠ å’Œåˆ é™¤æ“ä½œçš„æ—¶é—´å¤æ‚åº¦å‡ä¸º O(1) ã€‚<br>ç©ºé—´å¤æ‚åº¦ O(N) ï¼š æœ€å·®æƒ…å†µä¸‹ï¼Œå³å½“æ ‘ä¸ºæ»¡äºŒå‰æ ‘æ—¶ï¼Œæœ€å¤šæœ‰ N&#x2F;2 ä¸ªæ ‘èŠ‚ç‚¹ åŒæ—¶ åœ¨ deque ä¸­ï¼Œä½¿ç”¨ O(N) å¤§å°çš„é¢å¤–ç©ºé—´ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202211201233874.png" alt="image-20221120123322773"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; <span class="title function_">levelOrder</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        Deque&lt;TreeNode&gt; deque = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        List&lt;List&lt;Integer&gt;&gt; res = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">if</span>(root != <span class="literal">null</span>) deque.add(root);</span><br><span class="line">        <span class="keyword">while</span>(!deque.isEmpty()) &#123;</span><br><span class="line">            <span class="comment">// æ‰“å°å¥‡æ•°å±‚</span></span><br><span class="line">            List&lt;Integer&gt; tmp = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> deque.size(); i &gt; <span class="number">0</span>; i--) &#123;</span><br><span class="line">                <span class="comment">// ä»å·¦å‘å³æ‰“å°</span></span><br><span class="line">                <span class="type">TreeNode</span> <span class="variable">node</span> <span class="operator">=</span> deque.removeFirst();</span><br><span class="line">                tmp.add(node.val);</span><br><span class="line">                <span class="comment">// å…ˆå·¦åå³åŠ å…¥ä¸‹å±‚èŠ‚ç‚¹</span></span><br><span class="line">                <span class="keyword">if</span>(node.left != <span class="literal">null</span>) deque.addLast(node.left);</span><br><span class="line">                <span class="keyword">if</span>(node.right != <span class="literal">null</span>) deque.addLast(node.right);</span><br><span class="line">            &#125;</span><br><span class="line">            res.add(tmp);</span><br><span class="line">            <span class="keyword">if</span>(deque.isEmpty()) <span class="keyword">break</span>; <span class="comment">// è‹¥ä¸ºç©ºåˆ™æå‰è·³å‡º</span></span><br><span class="line">            <span class="comment">// æ‰“å°å¶æ•°å±‚</span></span><br><span class="line">            tmp = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> deque.size(); i &gt; <span class="number">0</span>; i--) &#123;</span><br><span class="line">                <span class="comment">// ä»å³å‘å·¦æ‰“å°</span></span><br><span class="line">                <span class="type">TreeNode</span> <span class="variable">node</span> <span class="operator">=</span> deque.removeLast();</span><br><span class="line">                tmp.add(node.val);</span><br><span class="line">                <span class="comment">// å…ˆå³åå·¦åŠ å…¥ä¸‹å±‚èŠ‚ç‚¹</span></span><br><span class="line">                <span class="keyword">if</span>(node.right != <span class="literal">null</span>) deque.addFirst(node.right);</span><br><span class="line">                <span class="keyword">if</span>(node.left != <span class="literal">null</span>) deque.addFirst(node.left);</span><br><span class="line">            &#125;</span><br><span class="line">            res.add(tmp);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202211201235563.png" alt="image-20221120123516475"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; <span class="title function_">levelOrder</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        Queue&lt;TreeNode&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        List&lt;List&lt;Integer&gt;&gt; res = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">if</span>(root != <span class="literal">null</span>) queue.add(root);</span><br><span class="line">        <span class="keyword">while</span>(!queue.isEmpty()) &#123;</span><br><span class="line">            List&lt;Integer&gt; tmp = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> queue.size(); i &gt; <span class="number">0</span>; i--) &#123;</span><br><span class="line">                <span class="type">TreeNode</span> <span class="variable">node</span> <span class="operator">=</span> queue.poll();</span><br><span class="line">                tmp.add(node.val);</span><br><span class="line">                <span class="keyword">if</span>(node.left != <span class="literal">null</span>) queue.add(node.left);</span><br><span class="line">                <span class="keyword">if</span>(node.right != <span class="literal">null</span>) queue.add(node.right);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(res.size() % <span class="number">2</span> == <span class="number">1</span>) Collections.reverse(tmp);</span><br><span class="line">            res.add(tmp);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="8-9ã€å‰‘æŒ‡-Offer-34-äºŒå‰æ ‘ä¸­å’Œä¸ºæŸä¸€å€¼çš„è·¯å¾„"><a href="#8-9ã€å‰‘æŒ‡-Offer-34-äºŒå‰æ ‘ä¸­å’Œä¸ºæŸä¸€å€¼çš„è·¯å¾„" class="headerlink" title="8.9ã€å‰‘æŒ‡ Offer 34. äºŒå‰æ ‘ä¸­å’Œä¸ºæŸä¸€å€¼çš„è·¯å¾„"></a>8.9ã€å‰‘æŒ‡ Offer 34. äºŒå‰æ ‘ä¸­å’Œä¸ºæŸä¸€å€¼çš„è·¯å¾„</h3><p>ç»™ä½ äºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ <code>root</code> å’Œä¸€ä¸ªæ•´æ•°ç›®æ ‡å’Œ <code>targetSum</code> ï¼Œæ‰¾å‡ºæ‰€æœ‰ <strong>ä»æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹</strong> è·¯å¾„æ€»å’Œç­‰äºç»™å®šç›®æ ‡å’Œçš„è·¯å¾„ã€‚</p>
<p><strong>å¶å­èŠ‚ç‚¹</strong> æ˜¯æŒ‡æ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://assets.leetcode.com/uploads/2021/01/18/pathsumii1.jpg" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šroot = [5,4,8,11,null,13,4,7,2,null,null,5,1], targetSum = 22</span><br><span class="line">è¾“å‡ºï¼š[[5,4,11,2],[5,8,4,5]]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202211211507250.jpeg" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šroot = [1,2,3], targetSum = 5</span><br><span class="line">è¾“å‡ºï¼š[]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šroot = [1,2], targetSum = 0</span><br><span class="line">è¾“å‡ºï¼š[]</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li>æ ‘ä¸­èŠ‚ç‚¹æ€»æ•°åœ¨èŒƒå›´ <code>[0, 5000]</code> å†…</li>
<li><code>-1000 &lt;= Node.val &lt;= 1000</code></li>
<li><code>-1000 &lt;= targetSum &lt;= 1000</code></li>
</ul>
<p>æ³¨æ„ï¼šæœ¬é¢˜ä¸ä¸»ç«™ 113 é¢˜ç›¸åŒï¼š<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/path-sum-ii/">https://leetcode-cn.com/problems/path-sum-ii/</a></p>
<p>Related Topics</p>
<p>æ ‘</p>
<p>æ·±åº¦ä¼˜å…ˆæœç´¢</p>
<p>å›æº¯</p>
<p>äºŒå‰æ ‘</p>
<p>ğŸ‘ 381</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<ol>
<li>ç¡®å®šé€’å½’å‡½æ•°çš„å‚æ•°å’Œè¿”å›ç±»å‹</li>
</ol>
<p>å‚æ•°ï¼šéœ€è¦äºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ï¼Œè¿˜éœ€è¦ä¸€ä¸ªè®¡æ•°å™¨ï¼Œè¿™ä¸ªè®¡æ•°å™¨ç”¨æ¥è®¡ç®—äºŒå‰æ ‘çš„ä¸€æ¡è¾¹ä¹‹å’Œæ˜¯å¦æ­£å¥½æ˜¯ç›®æ ‡å’Œï¼Œè®¡æ•°å™¨ä¸ºintå‹ã€‚</p>
<p>å†æ¥çœ‹è¿”å›å€¼ï¼Œé€’å½’å‡½æ•°ä»€ä¹ˆæ—¶å€™éœ€è¦è¿”å›å€¼ï¼Ÿä»€ä¹ˆæ—¶å€™ä¸éœ€è¦è¿”å›å€¼ï¼Ÿè¿™é‡Œæ€»ç»“å¦‚ä¸‹ä¸‰ç‚¹ï¼š</p>
<ul>
<li>å¦‚æœéœ€è¦æœç´¢æ•´æ£µäºŒå‰æ ‘ä¸”ä¸ç”¨å¤„ç†é€’å½’è¿”å›å€¼ï¼Œé€’å½’å‡½æ•°å°±ä¸è¦è¿”å›å€¼ã€‚ï¼ˆè¿™ç§æƒ…å†µå°±æ˜¯æœ¬æ–‡ä¸‹åŠéƒ¨åˆ†ä»‹ç»çš„113.è·¯å¾„æ€»å’Œiiï¼‰</li>
<li>å¦‚æœéœ€è¦æœç´¢æ•´æ£µäºŒå‰æ ‘ä¸”éœ€è¦å¤„ç†é€’å½’è¿”å›å€¼ï¼Œé€’å½’å‡½æ•°å°±éœ€è¦è¿”å›å€¼ã€‚ ï¼ˆè¿™ç§æƒ…å†µæˆ‘ä»¬åœ¨<a target="_blank" rel="noopener" href="https://programmercarl.com/0236.%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E6%9C%80%E8%BF%91%E5%85%AC%E5%85%B1%E7%A5%96%E5%85%88.html">236. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ (opens new window)</a>ä¸­ä»‹ç»ï¼‰</li>
<li>å¦‚æœè¦æœç´¢å…¶ä¸­ä¸€æ¡ç¬¦åˆæ¡ä»¶çš„è·¯å¾„ï¼Œé‚£ä¹ˆé€’å½’ä¸€å®šéœ€è¦è¿”å›å€¼ï¼Œå› ä¸ºé‡åˆ°ç¬¦åˆæ¡ä»¶çš„è·¯å¾„äº†å°±è¦åŠæ—¶è¿”å›ã€‚ï¼ˆæœ¬é¢˜çš„æƒ…å†µï¼‰</li>
</ul>
<p>è€Œæœ¬é¢˜æˆ‘ä»¬è¦æ‰¾ä¸€æ¡ç¬¦åˆæ¡ä»¶çš„è·¯å¾„ï¼Œæ‰€ä»¥é€’å½’å‡½æ•°éœ€è¦è¿”å›å€¼ï¼ŒåŠæ—¶è¿”å›ï¼Œé‚£ä¹ˆè¿”å›ç±»å‹æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p>
<p>å¦‚å›¾æ‰€ç¤ºï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/messi-study-java/pic_go/raw/master/img/202211211524855.png" alt="113.è·¯å¾„æ€»å’Œii"></p>
<p>å›¾ä¸­å¯ä»¥çœ‹å‡ºï¼Œéå†çš„è·¯çº¿ï¼Œå¹¶ä¸è¦éå†æ•´æ£µæ ‘ï¼Œæ‰€ä»¥é€’å½’å‡½æ•°éœ€è¦è¿”å›å€¼ï¼Œå¯ä»¥ç”¨boolç±»å‹è¡¨ç¤ºã€‚</p>
<p>æ‰€ä»¥ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">traversal</span><span class="params">(TreeNode root, <span class="type">int</span> count)</span>   <span class="comment">// æ³¨æ„å‡½æ•°çš„è¿”å›ç±»å‹</span></span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>ç¡®å®šç»ˆæ­¢æ¡ä»¶</li>
</ol>
<p>é¦–å…ˆè®¡æ•°å™¨å¦‚ä½•ç»Ÿè®¡è¿™ä¸€æ¡è·¯å¾„çš„å’Œå‘¢ï¼Ÿ</p>
<p>ä¸è¦å»ç´¯åŠ ç„¶ååˆ¤æ–­æ˜¯å¦ç­‰äºç›®æ ‡å’Œï¼Œé‚£ä¹ˆä»£ç æ¯”è¾ƒéº»çƒ¦ï¼Œå¯ä»¥ç”¨é€’å‡ï¼Œè®©è®¡æ•°å™¨countåˆå§‹ä¸ºç›®æ ‡å’Œï¼Œç„¶åæ¯æ¬¡å‡å»éå†è·¯å¾„èŠ‚ç‚¹ä¸Šçš„æ•°å€¼ã€‚</p>
<p>å¦‚æœæœ€åcount &#x3D;&#x3D; 0ï¼ŒåŒæ—¶åˆ°äº†å¶å­èŠ‚ç‚¹çš„è¯ï¼Œè¯´æ˜æ‰¾åˆ°äº†ç›®æ ‡å’Œã€‚</p>
<p>å¦‚æœéå†åˆ°äº†å¶å­èŠ‚ç‚¹ï¼Œcountä¸ä¸º0ï¼Œå°±æ˜¯æ²¡æ‰¾åˆ°ã€‚</p>
<p>é€’å½’ç»ˆæ­¢æ¡ä»¶ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (root.left == null &amp;&amp; root.right == null &amp;&amp; count == <span class="number">0</span>) &#123; <span class="comment">//åˆ°å¶å­èŠ‚ç‚¹ï¼Œå¹¶ä¸”æ‰¾åˆ°äº†åˆé€‚çš„è·¯å¾„</span></span><br><span class="line">    res.<span class="built_in">add</span>(<span class="keyword">new</span> ArrayList&lt;&gt;(path));</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (root.left == null &amp;&amp; root.right == null) &#123; <span class="comment">//åˆ°å¶å­èŠ‚ç‚¹ï¼Œæ²¡æœ‰åˆé€‚è·¯å¾„</span></span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>ç¡®å®šå•å±‚é€’å½’çš„é€»è¾‘</li>
</ol>
<p>å› ä¸ºç»ˆæ­¢æ¡ä»¶æ˜¯åˆ¤æ–­å¶å­èŠ‚ç‚¹ï¼Œæ‰€ä»¥é€’å½’çš„è¿‡ç¨‹ä¸­å°±ä¸è¦è®©ç©ºèŠ‚ç‚¹è¿›å…¥é€’å½’äº†ã€‚</p>
<p>é€’å½’å‡½æ•°æ˜¯æœ‰è¿”å›å€¼çš„ï¼Œå¦‚æœé€’å½’å‡½æ•°è¿”å›trueï¼Œè¯´æ˜æ‰¾åˆ°äº†åˆé€‚çš„è·¯å¾„ï¼Œåº”è¯¥ç«‹åˆ»è¿”å›ã€‚</p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (root.left != null) &#123; <span class="comment">//å·¦å­©å­ä¸ä¸ºç©º æœç´¢å·¦å­æ ‘</span></span><br><span class="line">    path.<span class="built_in">add</span>(root.left.val);</span><br><span class="line">    <span class="built_in">traversal</span>(root.left, <span class="built_in">traversal</span>(root.right, count - root.right.val););</span><br><span class="line">    path.<span class="built_in">removeLast</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (root.right != null) &#123; <span class="comment">//å³å­©å­ä¸ä¸ºç©º æœç´¢å³å­æ ‘</span></span><br><span class="line">    path.<span class="built_in">add</span>(root.right.val);</span><br><span class="line">    <span class="built_in">traversal</span>(root.right, count - root.right.val);</span><br><span class="line">    path.<span class="built_in">removeLast</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸Šä»£ç ä¸­æ˜¯åŒ…å«ç€å›æº¯çš„ï¼Œæ²¡æœ‰å›æº¯ï¼Œå¦‚ä½•åæ’¤é‡æ–°æ‰¾å¦ä¸€æ¡è·¯å¾„å‘¢ã€‚</p>
<p>å›æº¯éšè—åœ¨<code>traversal(root.right, count - root.right.val);</code>è¿™é‡Œï¼Œ å› ä¸ºæŠŠ<code>root.right.val</code> ç›´æ¥ä½œä¸ºå‚æ•°ä¼ è¿›å»ï¼Œå‡½æ•°ç»“æŸï¼Œcountçš„æ•°å€¼æ²¡æœ‰æ”¹å˜ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">List&lt;List&lt;Integer&gt;&gt; res;</span><br><span class="line">LinkedList&lt;Integer&gt; path;</span><br><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; <span class="title function_">pathSum</span><span class="params">(TreeNode root, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">    res = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    path = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) <span class="keyword">return</span> res;</span><br><span class="line">    path.add(root.val);</span><br><span class="line">    traversal(root, target - root.val);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">traversal</span><span class="params">(TreeNode root, <span class="type">int</span> count)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (root.left == <span class="literal">null</span> &amp;&amp; root.right == <span class="literal">null</span> &amp;&amp; count == <span class="number">0</span>) &#123; <span class="comment">//åˆ°å¶å­èŠ‚ç‚¹ï¼Œå¹¶ä¸”æ‰¾åˆ°äº†åˆé€‚çš„è·¯å¾„</span></span><br><span class="line">        res.add(<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(path));</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (root.left == <span class="literal">null</span> &amp;&amp; root.right == <span class="literal">null</span>) &#123; <span class="comment">//åˆ°å¶å­èŠ‚ç‚¹ï¼Œæ²¡æœ‰åˆé€‚è·¯å¾„</span></span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (root.left != <span class="literal">null</span>) &#123; <span class="comment">//å·¦å­©å­ä¸ä¸ºç©º æœç´¢å·¦å­æ ‘</span></span><br><span class="line">        path.add(root.left.val);</span><br><span class="line">        traversal(root.left, count - root.left.val);</span><br><span class="line">        path.removeLast();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (root.right != <span class="literal">null</span>) &#123; <span class="comment">//å³å­©å­ä¸ä¸ºç©º æœç´¢å³å­æ ‘</span></span><br><span class="line">        path.add(root.right.val);</span><br><span class="line">        traversal(root.right, count - root.right.val);</span><br><span class="line">        path.removeLast();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="8-10ã€å‰‘æŒ‡-Offer-36-äºŒå‰æœç´¢æ ‘ä¸åŒå‘é“¾è¡¨"><a href="#8-10ã€å‰‘æŒ‡-Offer-36-äºŒå‰æœç´¢æ ‘ä¸åŒå‘é“¾è¡¨" class="headerlink" title="8.10ã€å‰‘æŒ‡ Offer 36. äºŒå‰æœç´¢æ ‘ä¸åŒå‘é“¾è¡¨"></a>8.10ã€å‰‘æŒ‡ Offer 36. äºŒå‰æœç´¢æ ‘ä¸åŒå‘é“¾è¡¨</h3><p>è¾“å…¥ä¸€æ£µäºŒå‰æœç´¢æ ‘ï¼Œå°†è¯¥äºŒå‰æœç´¢æ ‘è½¬æ¢æˆä¸€ä¸ªæ’åºçš„å¾ªç¯åŒå‘é“¾è¡¨ã€‚è¦æ±‚ä¸èƒ½åˆ›å»ºä»»ä½•æ–°çš„èŠ‚ç‚¹ï¼Œåªèƒ½è°ƒæ•´æ ‘ä¸­èŠ‚ç‚¹æŒ‡é’ˆçš„æŒ‡å‘ã€‚</p>
<p>ä¸ºäº†è®©æ‚¨æ›´å¥½åœ°ç†è§£é—®é¢˜ï¼Œä»¥ä¸‹é¢çš„äºŒå‰æœç´¢æ ‘ä¸ºä¾‹ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/bstdlloriginalbst.png" alt="img"></p>
<p>æˆ‘ä»¬å¸Œæœ›å°†è¿™ä¸ªäºŒå‰æœç´¢æ ‘è½¬åŒ–ä¸ºåŒå‘å¾ªç¯é“¾è¡¨ã€‚é“¾è¡¨ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ªå‰é©±å’Œåç»§æŒ‡é’ˆã€‚å¯¹äºåŒå‘å¾ªç¯é“¾è¡¨ï¼Œç¬¬ä¸€ä¸ªèŠ‚ç‚¹çš„å‰é©±æ˜¯æœ€åä¸€ä¸ªèŠ‚ç‚¹ï¼Œæœ€åä¸€ä¸ªèŠ‚ç‚¹çš„åç»§æ˜¯ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚</p>
<p>ä¸‹å›¾å±•ç¤ºäº†ä¸Šé¢çš„äºŒå‰æœç´¢æ ‘è½¬åŒ–æˆçš„é“¾è¡¨ã€‚â€œheadâ€ è¡¨ç¤ºæŒ‡å‘é“¾è¡¨ä¸­æœ‰æœ€å°å…ƒç´ çš„èŠ‚ç‚¹ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/bstdllreturndll.png" alt="img"></p>
<p>ç‰¹åˆ«åœ°ï¼Œæˆ‘ä»¬å¸Œæœ›å¯ä»¥å°±åœ°å®Œæˆè½¬æ¢æ“ä½œã€‚å½“è½¬åŒ–å®Œæˆä»¥åï¼Œæ ‘ä¸­èŠ‚ç‚¹çš„å·¦æŒ‡é’ˆéœ€è¦æŒ‡å‘å‰é©±ï¼Œæ ‘ä¸­èŠ‚ç‚¹çš„å³æŒ‡é’ˆéœ€è¦æŒ‡å‘åç»§ã€‚è¿˜éœ€è¦è¿”å›é“¾è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆã€‚</p>
<p><strong>æ³¨æ„ï¼š</strong>æœ¬é¢˜ä¸ä¸»ç«™ 426 é¢˜ç›¸åŒï¼š<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/convert-binary-search-tree-to-sorted-doubly-linked-list/">https://leetcode-cn.com/problems/convert-binary-search-tree-to-sorted-doubly-linked-list/</a></p>
<p><strong>æ³¨æ„ï¼š</strong>æ­¤é¢˜å¯¹æ¯”åŸé¢˜æœ‰æ”¹åŠ¨ã€‚</p>
<p>Related Topics</p>
<p>æ ˆ</p>
<p>æ ‘</p>
<p>æ·±åº¦ä¼˜å…ˆæœç´¢</p>
<p>äºŒå‰æœç´¢æ ‘</p>
<p>é“¾è¡¨</p>
<p>äºŒå‰æ ‘</p>
<p>åŒå‘é“¾è¡¨</p>
<p>ğŸ‘ 604</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯ï¼š</strong></p>
<blockquote>
<p>äºŒå‰æœç´¢æ ‘çš„ä¸­åºéå†å¯ä»¥è½¬åŒ–ä¸ºé€’å¢åºåˆ—ã€‚</p>
</blockquote>
<p>ä¸‰ä¸ªæ­¥éª¤ï¼š</p>
<ol>
<li>æ’åºé“¾è¡¨ï¼š èŠ‚ç‚¹åº”ä»å°åˆ°å¤§æ’åºï¼Œå› æ­¤åº”ä½¿ç”¨ ä¸­åºéå† â€œä»å°åˆ°å¤§â€è®¿é—®æ ‘çš„èŠ‚ç‚¹ã€‚</li>
<li>åŒå‘é“¾è¡¨ï¼š åœ¨æ„å»ºç›¸é‚»èŠ‚ç‚¹çš„å¼•ç”¨å…³ç³»æ—¶ï¼Œè®¾å‰é©±èŠ‚ç‚¹ pre å’Œå½“å‰èŠ‚ç‚¹ cur ï¼Œä¸ä»…åº”æ„å»º pre.right &#x3D; cur ï¼Œä¹Ÿåº”æ„å»º cur.left &#x3D; pre ã€‚</li>
<li>å¾ªç¯é“¾è¡¨ï¼š è®¾é“¾è¡¨å¤´èŠ‚ç‚¹ head å’Œå°¾èŠ‚ç‚¹ tail ï¼Œåˆ™åº”æ„å»º head.left &#x3D; tail å’Œ tail.right &#x3D; head</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1599401091-PKIjds-Picture1.png" alt="Picture1.png"></p>
<p>javaä¸­åºéå†ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ‰“å°ä¸­åºéå†</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(Node root)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="literal">null</span>) <span class="keyword">return</span>;</span><br><span class="line">    dfs(root.left); <span class="comment">// å·¦</span></span><br><span class="line">    System.out.println(root.val); <span class="comment">// æ ¹</span></span><br><span class="line">    dfs(root.right); <span class="comment">// å³</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å†éå†åˆ°ä¸­é—´èŠ‚ç‚¹ï¼ŒåŠ ä¸Šå¤„ç†èŠ‚ç‚¹é—´çš„æŒ‡å‘å…³ç³»ï¼Œå³æ„å»ºå½“å‰èŠ‚ç‚¹curå’Œå‰é©±èŠ‚ç‚¹preçš„å¼•ç”¨ï¼Œåœ¨ä¸­åºéå†å®Œæˆæ—¶ï¼Œæ„å»ºå¤´èŠ‚ç‚¹headå’Œå°¾èŠ‚ç‚¹tailçš„å…³ç³»ã€‚ä¸­åºéå†å®Œå,preå°±æ˜¯å°¾èŠ‚ç‚¹ã€‚</p>
<p><strong>ç®—æ³•æµç¨‹ï¼š</strong><br><code>dfs(cur):</code> é€’å½’æ³•ä¸­åºéå†ï¼›</p>
<ol>
<li>ç»ˆæ­¢æ¡ä»¶ï¼š å½“èŠ‚ç‚¹ cur ä¸ºç©ºï¼Œä»£è¡¨è¶Šè¿‡å¶èŠ‚ç‚¹ï¼Œç›´æ¥è¿”å›ï¼›</li>
<li>é€’å½’å·¦å­æ ‘ï¼Œå³ dfs(cur.left) ï¼›</li>
<li>æ„å»ºé“¾è¡¨ï¼š<ul>
<li>å½“ pre ä¸ºç©ºæ—¶ï¼š ä»£è¡¨æ­£åœ¨è®¿é—®é“¾è¡¨å¤´èŠ‚ç‚¹ï¼Œè®°ä¸º head ï¼›</li>
<li>å½“ pre ä¸ä¸ºç©ºæ—¶ï¼š ä¿®æ”¹åŒå‘èŠ‚ç‚¹å¼•ç”¨ï¼Œå³ pre.right &#x3D; cur ï¼Œ cur.left &#x3D; pre ï¼›</li>
<li>ä¿å­˜ cur ï¼š æ›´æ–° pre &#x3D; cur ï¼Œå³èŠ‚ç‚¹ cur æ˜¯åç»§èŠ‚ç‚¹çš„ pre ï¼›</li>
</ul>
</li>
<li>é€’å½’å³å­æ ‘ï¼Œå³ dfs(cur.right) ï¼›</li>
</ol>
<p><code>treeToDoublyList(root)</code>ï¼š</p>
<ol>
<li>ç‰¹ä¾‹å¤„ç†ï¼š è‹¥èŠ‚ç‚¹ root ä¸ºç©ºï¼Œåˆ™ç›´æ¥è¿”å›ï¼›</li>
<li>åˆå§‹åŒ–ï¼š ç©ºèŠ‚ç‚¹ pre ï¼›</li>
<li>è½¬åŒ–ä¸ºåŒå‘é“¾è¡¨ï¼š è°ƒç”¨ dfs(root) ï¼›</li>
<li>æ„å»ºå¾ªç¯é“¾è¡¨ï¼š ä¸­åºéå†å®Œæˆåï¼Œhead æŒ‡å‘å¤´èŠ‚ç‚¹ï¼Œ pre æŒ‡å‘å°¾èŠ‚ç‚¹ï¼Œå› æ­¤ä¿®æ”¹ head å’Œ pre çš„åŒå‘èŠ‚ç‚¹å¼•ç”¨å³å¯ï¼›</li>
<li>è¿”å›å€¼ï¼š è¿”å›é“¾è¡¨çš„å¤´èŠ‚ç‚¹ head å³å¯ï¼›</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">Node pre, head;</span><br><span class="line"><span class="keyword">public</span> Node <span class="title function_">treeToDoublyList</span><span class="params">(Node root)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">null</span>;<span class="comment">//ç‰¹æ®Š è¿”å›</span></span><br><span class="line">    dfs(root);<span class="comment">//ä¸­åºéå† æ„å»ºé“¾è¡¨</span></span><br><span class="line">    <span class="comment">// ä¸­åºéå†å®Œåï¼Œå¤„ç†å¤´èŠ‚ç‚¹å’Œå°¾èŠ‚ç‚¹</span></span><br><span class="line">    head.left = pre;</span><br><span class="line">    pre.right = head;</span><br><span class="line">    <span class="keyword">return</span> head;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(Node cur)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (cur == <span class="literal">null</span>) &#123; <span class="comment">//ç©ºèŠ‚ç‚¹ ä¸å¤„ç†</span></span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    dfs(cur.left); <span class="comment">//å·¦å­æ ‘</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//ä¸­é—´å¤„ç†é€»è¾‘</span></span><br><span class="line">    <span class="keyword">if</span> (pre != <span class="literal">null</span>) &#123; <span class="comment">//å…¶ä»–èŠ‚ç‚¹</span></span><br><span class="line">        pre.right = cur;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123; <span class="comment">// pre == null å¤´èŠ‚ç‚¹</span></span><br><span class="line">        head = cur;</span><br><span class="line">    &#125;</span><br><span class="line">    cur.left = pre;</span><br><span class="line">    pre = cur;</span><br><span class="line"></span><br><span class="line">    dfs(cur.right);<span class="comment">//å³å­æ ‘</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(N) ï¼š N ä¸ºäºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°ï¼Œä¸­åºéå†éœ€è¦è®¿é—®æ‰€æœ‰èŠ‚ç‚¹ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(N) ï¼š æœ€å·®æƒ…å†µä¸‹ï¼Œå³æ ‘é€€åŒ–ä¸ºé“¾è¡¨æ—¶ï¼Œé€’å½’æ·±åº¦è¾¾åˆ° Nï¼Œç³»ç»Ÿä½¿ç”¨O(N) æ ˆç©ºé—´ã€‚</li>
</ul>
<h3 id="8-11ã€å‰‘æŒ‡-Offer-37-åºåˆ—åŒ–äºŒå‰æ ‘"><a href="#8-11ã€å‰‘æŒ‡-Offer-37-åºåˆ—åŒ–äºŒå‰æ ‘" class="headerlink" title="8.11ã€å‰‘æŒ‡ Offer 37. åºåˆ—åŒ–äºŒå‰æ ‘"></a>8.11ã€å‰‘æŒ‡ Offer 37. åºåˆ—åŒ–äºŒå‰æ ‘</h3><p>è¯·å®ç°ä¸¤ä¸ªå‡½æ•°ï¼Œåˆ†åˆ«ç”¨æ¥åºåˆ—åŒ–å’Œååºåˆ—åŒ–äºŒå‰æ ‘ã€‚</p>
<p>ä½ éœ€è¦è®¾è®¡ä¸€ä¸ªç®—æ³•æ¥å®ç°äºŒå‰æ ‘çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–ã€‚è¿™é‡Œä¸é™å®šä½ çš„åºåˆ— &#x2F; ååºåˆ—åŒ–ç®—æ³•æ‰§è¡Œé€»è¾‘ï¼Œä½ åªéœ€è¦ä¿è¯ä¸€ä¸ªäºŒå‰æ ‘å¯ä»¥è¢«åºåˆ—åŒ–ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²å¹¶ä¸”å°†è¿™ä¸ªå­—ç¬¦ä¸²ååºåˆ—åŒ–ä¸ºåŸå§‹çš„æ ‘ç»“æ„ã€‚</p>
<p><strong>æç¤ºï¼š</strong>è¾“å…¥è¾“å‡ºæ ¼å¼ä¸ LeetCode ç›®å‰ä½¿ç”¨çš„æ–¹å¼ä¸€è‡´ï¼Œè¯¦æƒ…è¯·å‚é˜… <a target="_blank" rel="noopener" href="https://support.leetcode-cn.com/hc/kb/article/1567641/">LeetCode åºåˆ—åŒ–äºŒå‰æ ‘çš„æ ¼å¼</a>ã€‚ä½ å¹¶éå¿…é¡»é‡‡å–è¿™ç§æ–¹å¼ï¼Œä½ ä¹Ÿå¯ä»¥é‡‡ç”¨å…¶ä»–çš„æ–¹æ³•è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/serdeser.jpg" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šroot = [1,2,3,null,null,4,5]</span><br><span class="line">è¾“å‡ºï¼š[1,2,3,null,null,4,5]</span><br></pre></td></tr></table></figure>



<p>æ³¨æ„ï¼šæœ¬é¢˜ä¸ä¸»ç«™ 297 é¢˜ç›¸åŒï¼š<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/serialize-and-deserialize-binary-tree/">https://leetcode-cn.com/problems/serialize-and-deserialize-binary-tree/</a></p>
<p>Related Topics</p>
<p>æ ‘</p>
<p>æ·±åº¦ä¼˜å…ˆæœç´¢</p>
<p>å¹¿åº¦ä¼˜å…ˆæœç´¢</p>
<p>è®¾è®¡</p>
<p>å­—ç¬¦ä¸²</p>
<p>äºŒå‰æ ‘</p>
<p>ğŸ‘ 360</p>
<p>ğŸ‘ 0</p>
<p><strong>å¯¹åºåˆ—åŒ–çš„ç†è§£</strong>ï¼š</p>
<p>é€šå¸¸ä½¿ç”¨çš„å‰åºã€ä¸­åºã€ååºã€å±‚åºéå†è®°å½•çš„äºŒå‰æ ‘çš„ä¿¡æ¯ä¸å®Œæ•´ï¼Œä¸€ç§è¾“å‡ºåºåˆ—å¯èƒ½å¯¹åº”ç€å¤šç§äºŒå‰æ ‘å¯èƒ½æ€§ã€‚é¢˜ç›®è¦æ±‚çš„ åºåˆ—åŒ– å’Œ ååºåˆ—åŒ– æ˜¯ å¯é€†æ“ä½œ ã€‚å› æ­¤ï¼Œåºåˆ—åŒ–çš„å­—ç¬¦ä¸²åº”æºå¸¦ å®Œæ•´çš„äºŒå‰æ ‘ä¿¡æ¯ ã€‚</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>è§‚å¯Ÿé¢˜ç›®ç¤ºä¾‹ï¼Œåºåˆ—åŒ–çš„å­—ç¬¦ä¸²å®é™…ä¸Šæ˜¯äºŒå‰æ ‘çš„ â€œå±‚åºéå†â€ï¼ˆBFSï¼‰ç»“æœï¼Œåªä¸è¿‡æŠŠnullå€¼ä¹Ÿè¾“å‡ºäº†ã€‚</p>
<p>ä¸ºå®Œæ•´è¡¨ç¤ºäºŒå‰æ ‘ï¼Œè€ƒè™‘å°†å¶èŠ‚ç‚¹ä¸‹çš„ null ä¹Ÿè®°å½•ã€‚åœ¨æ­¤åŸºç¡€ä¸Šï¼Œå¯¹äºåˆ—è¡¨ä¸­ä»»æ„æŸèŠ‚ç‚¹ node ï¼Œå…¶å·¦å­èŠ‚ç‚¹ node.left å’Œå³å­èŠ‚ç‚¹ node.right åœ¨åºåˆ—ä¸­çš„ä½ç½®éƒ½æ˜¯ å”¯ä¸€ç¡®å®š çš„ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1603117385-ehAGsP-Picture1.png" alt="Picture1.png"></p>
<p>è§„å¾‹å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/image-20221122100451955-16690827032166.png" alt="image-20221122100451955"></p>
<p><strong>åŒºåˆ«äºå®Œå…¨äºŒå‰æ ‘çš„ç´¢å¼•è§„åˆ™ï¼ŒnullèŠ‚ç‚¹ä¸åœ¨å‘ä¸‹è®°å½•ç´¢å¼•ï¼Œæ‰€ä»¥ç´¢å¼•çš„è§„å¾‹å¦‚ä¸‹æ‰€ç¤º</strong>ï¼š</p>
<p>è®¾ mä¸ºåˆ—è¡¨åŒºé—´ [0, n]ä¸­çš„ <code>null</code> èŠ‚ç‚¹ä¸ªæ•°ï¼Œåˆ™å¯æ€»ç»“å‡ºæ ¹èŠ‚ç‚¹ã€å·¦å­èŠ‚ç‚¹ã€å³å­èŠ‚ç‚¹çš„åˆ—è¡¨ç´¢å¼•çš„é€’æ¨å…¬å¼ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/image-20221122100713320.png" alt="image-20221122100713320"></p>
<p>åºåˆ—åŒ– ä½¿ç”¨å±‚åºéå†å®ç°ã€‚ååºåˆ—åŒ– é€šè¿‡ä»¥ä¸Šé€’æ¨å…¬å¼åæ¨å„èŠ‚ç‚¹åœ¨åºåˆ—ä¸­çš„ç´¢å¼•ï¼Œè¿›è€Œå®ç°ã€‚</p>
<p><code>åºåˆ—åŒ– Serialize </code>ï¼š<br>å€ŸåŠ©é˜Ÿåˆ—ï¼Œå¯¹äºŒå‰æ ‘åšå±‚åºéå†ï¼Œå¹¶å°†è¶Šè¿‡å¶èŠ‚ç‚¹çš„ null ä¹Ÿæ‰“å°å‡ºæ¥ã€‚</p>
<p><strong>ç®—æ³•æµç¨‹</strong>ï¼š</p>
<ol>
<li>ç‰¹ä¾‹å¤„ç†ï¼š è‹¥ root ä¸ºç©ºï¼Œåˆ™ç›´æ¥è¿”å›ç©ºåˆ—è¡¨ â€œ[]â€ ï¼›</li>
<li>åˆå§‹åŒ–ï¼š é˜Ÿåˆ— queue ï¼ˆåŒ…å«æ ¹èŠ‚ç‚¹ root ï¼‰ï¼›åºåˆ—åŒ–åˆ—è¡¨ res ï¼›</li>
<li>å±‚åºéå†ï¼š å½“ queue ä¸ºç©ºæ—¶è·³å‡ºï¼›<ol>
<li>èŠ‚ç‚¹å‡ºé˜Ÿï¼Œè®°ä¸º node ï¼›</li>
<li>è‹¥ node ä¸ä¸ºç©ºï¼šâ‘  æ‰“å°å­—ç¬¦ä¸² node.val ï¼Œâ‘¡ å°†å·¦ã€å³å­èŠ‚ç‚¹åŠ å…¥ queue ï¼›</li>
<li>å¦åˆ™ï¼ˆè‹¥ node ä¸ºç©ºï¼‰ï¼šæ‰“å°å­—ç¬¦ä¸² â€œnullâ€ ï¼›</li>
</ol>
</li>
<li>è¿”å›å€¼ï¼š æ‹¼æ¥åˆ—è¡¨ï¼Œç”¨ â€˜,â€™ éš”å¼€ï¼Œé¦–å°¾æ·»åŠ ä¸­æ‹¬å·ï¼›</li>
</ol>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(N)ï¼š N ä¸ºäºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°ï¼Œå±‚åºéå†éœ€è¦è®¿é—®æ‰€æœ‰èŠ‚ç‚¹ï¼Œæœ€å·®æƒ…å†µä¸‹éœ€è¦è®¿é—® N + 1 ä¸ª null ï¼Œæ€»ä½“å¤æ‚åº¦ä¸º O(2N + 1) &#x3D; O(N)</li>
<li>ç©ºé—´å¤æ‚åº¦ O(N)ï¼š æœ€å·®æƒ…å†µä¸‹ï¼Œé˜Ÿåˆ— queue åŒæ—¶å­˜å‚¨ N+1&#x2F;2ä¸ªèŠ‚ç‚¹ï¼ˆæˆ– N+1ä¸ª null ï¼‰ï¼Œä½¿ç”¨ O(N)ï¼›åˆ—è¡¨ res ä½¿ç”¨ O(N)</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1603117385-ZrhoFK-Picture5.png" alt="img"></p>
<p><code>ååºåˆ—åŒ– Deserialize</code> ï¼š<br>åŸºäºæœ¬æ–‡å¼€å§‹æ¨å‡ºçš„ node , node.left , node.right åœ¨åºåˆ—åŒ–åˆ—è¡¨ä¸­çš„ä½ç½®å…³ç³»ï¼Œå¯å®ç°ååºåˆ—åŒ–ã€‚</p>
<p>åˆ©ç”¨é˜Ÿåˆ—æŒ‰å±‚æ„å»ºäºŒå‰æ ‘ï¼Œå€ŸåŠ©ä¸€ä¸ªæŒ‡é’ˆ i æŒ‡å‘èŠ‚ç‚¹ node çš„å·¦ã€å³å­èŠ‚ç‚¹ï¼Œæ¯æ„å»ºä¸€ä¸ª node çš„å·¦ã€å³å­èŠ‚ç‚¹ï¼ŒæŒ‡é’ˆ i å°±å‘å³ç§»åŠ¨ 1 ä½ã€‚</p>
<p><strong>ç®—æ³•æµç¨‹ï¼š</strong></p>
<ol>
<li>ç‰¹ä¾‹å¤„ç†ï¼š è‹¥ data ä¸ºç©ºï¼Œç›´æ¥è¿”å› null ï¼›</li>
<li>åˆå§‹åŒ–ï¼š åºåˆ—åŒ–åˆ—è¡¨ vals ï¼ˆå…ˆå»æ‰é¦–å°¾ä¸­æ‹¬å·ï¼Œå†ç”¨é€—å·éš”å¼€ï¼‰ï¼ŒæŒ‡é’ˆ i &#x3D; 1 ï¼Œæ ¹èŠ‚ç‚¹ root ï¼ˆå€¼ä¸º vals[0] ï¼‰ï¼Œé˜Ÿåˆ— queueï¼ˆåŒ…å« root ï¼‰ï¼›</li>
<li>æŒ‰å±‚æ„å»ºï¼š å½“ queue ä¸ºç©ºæ—¶è·³å‡ºï¼›<ol>
<li>èŠ‚ç‚¹å‡ºé˜Ÿï¼Œè®°ä¸º node ï¼›</li>
<li>æ„å»º node çš„å·¦å­èŠ‚ç‚¹ï¼šnode.left çš„å€¼ä¸º vals[i] ï¼Œå¹¶å°† node.left å…¥é˜Ÿï¼›</li>
<li>æ‰§è¡Œ i +&#x3D; 1 ï¼›</li>
<li>æ„å»º node çš„å³å­èŠ‚ç‚¹ï¼šnode.right çš„å€¼ä¸º vals[i] ï¼Œå¹¶å°† node.right å…¥é˜Ÿï¼›</li>
<li>æ‰§è¡Œ i +&#x3D; 1 ï¼›</li>
</ol>
</li>
<li>è¿”å›å€¼ï¼š è¿”å›æ ¹èŠ‚ç‚¹ root å³å¯ï¼›</li>
</ol>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(N) ï¼š N ä¸ºäºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°ï¼ŒæŒ‰å±‚æ„å»ºäºŒå‰æ ‘éœ€è¦éå†æ•´ä¸ªvals ï¼Œå…¶é•¿åº¦æœ€å¤§ä¸º 2N+1 ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(N) ï¼š æœ€å·®æƒ…å†µä¸‹ï¼Œé˜Ÿåˆ— queue åŒæ—¶å­˜å‚¨ n+1&#x2F;2ä¸ªèŠ‚ç‚¹ï¼Œå› æ­¤ä½¿ç”¨ O(N) é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Encodes a tree to a single string.</span></span><br><span class="line"><span class="comment">// åºåˆ—åŒ–äºŒå‰æ ‘</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">serialize</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) <span class="keyword">return</span> <span class="string">&quot;[]&quot;</span>;</span><br><span class="line">    <span class="type">StringBuilder</span> <span class="variable">res</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>(<span class="string">&quot;[&quot;</span>);</span><br><span class="line">    Queue&lt;TreeNode&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    queue.add(root);<span class="comment">// åŠ å…¥å¤´èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">size</span> <span class="operator">=</span> queue.size();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">            <span class="type">TreeNode</span> <span class="variable">tmp</span> <span class="operator">=</span> queue.poll();</span><br><span class="line">            <span class="keyword">if</span> (tmp != <span class="literal">null</span>) &#123;</span><br><span class="line">                res.append(tmp.val).append(<span class="string">&quot;,&quot;</span>);</span><br><span class="line">                <span class="comment">// ä¹‹å‰BFSæ˜¯è·³è¿‡ç©ºèŠ‚ç‚¹çš„</span></span><br><span class="line">                queue.add(tmp.left);</span><br><span class="line">                queue.add(tmp.right);</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                res.append(<span class="string">&quot;null,&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    res.deleteCharAt(res.length() - <span class="number">1</span>);<span class="comment">// åˆ é™¤æœ€åä¸€ä¸ª&quot;,&quot;</span></span><br><span class="line">    res.append(<span class="string">&quot;]&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> res.toString();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Decodes your encoded data to tree.</span></span><br><span class="line"><span class="comment">// ååºåˆ—åŒ–</span></span><br><span class="line"><span class="keyword">public</span> TreeNode <span class="title function_">deserialize</span><span class="params">(String data)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (data.equals(<span class="string">&quot;[]&quot;</span>)) <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    String[] vals = data.substring(<span class="number">1</span>, data.length() - <span class="number">1</span>).split(<span class="string">&quot;,&quot;</span>); <span class="comment">// åˆ‡æ‰[] å’Œ,</span></span><br><span class="line">    Queue&lt;TreeNode&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    <span class="type">TreeNode</span> <span class="variable">root</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TreeNode</span>(Integer.parseInt(vals[<span class="number">0</span>]));</span><br><span class="line">    queue.add(root);</span><br><span class="line">    <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">        <span class="comment">// ä¸å¼ºè°ƒåˆ†å±‚çš„è¯ å¯ä»¥ä¸ç”¨sizeéå†</span></span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">tmp</span> <span class="operator">=</span> queue.poll();</span><br><span class="line">        <span class="keyword">if</span> (!vals[i].equals(<span class="string">&quot;null&quot;</span>)) &#123; <span class="comment">// å¤„ç†å·¦èŠ‚ç‚¹</span></span><br><span class="line">            tmp.left = <span class="keyword">new</span> <span class="title class_">TreeNode</span>(Integer.parseInt(vals[i]));</span><br><span class="line">            queue.add(tmp.left);</span><br><span class="line">        &#125;</span><br><span class="line">        i++;</span><br><span class="line">        <span class="keyword">if</span> (!vals[i].equals(<span class="string">&quot;null&quot;</span>)) &#123; <span class="comment">// å¤„ç†å³èŠ‚ç‚¹</span></span><br><span class="line">            tmp.right = <span class="keyword">new</span> <span class="title class_">TreeNode</span>(Integer.parseInt(vals[i]));</span><br><span class="line">            queue.add(tmp.right);</span><br><span class="line">        &#125;</span><br><span class="line">        i++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="8-12ã€å‰‘æŒ‡-Offer-38-å­—ç¬¦ä¸²çš„æ’åˆ—"><a href="#8-12ã€å‰‘æŒ‡-Offer-38-å­—ç¬¦ä¸²çš„æ’åˆ—" class="headerlink" title="8.12ã€å‰‘æŒ‡ Offer 38. å­—ç¬¦ä¸²çš„æ’åˆ—"></a>8.12ã€å‰‘æŒ‡ Offer 38. å­—ç¬¦ä¸²çš„æ’åˆ—</h3><p>è¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ‰“å°å‡ºè¯¥å­—ç¬¦ä¸²ä¸­å­—ç¬¦çš„æ‰€æœ‰æ’åˆ—ã€‚</p>
<p>ä½ å¯ä»¥ä»¥ä»»æ„é¡ºåºè¿”å›è¿™ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œä½†é‡Œé¢ä¸èƒ½æœ‰é‡å¤å…ƒç´ ã€‚</p>
<p><strong>ç¤ºä¾‹:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;abc&quot;</span><br><span class="line">è¾“å‡ºï¼š[&quot;abc&quot;,&quot;acb&quot;,&quot;bac&quot;,&quot;bca&quot;,&quot;cab&quot;,&quot;cba&quot;]</span><br></pre></td></tr></table></figure>



<p><strong>é™åˆ¶ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1 &lt;= s çš„é•¿åº¦ &lt;= 8</span><br></pre></td></tr></table></figure>

<p>Related Topics</p>
<p>å­—ç¬¦ä¸²</p>
<p>å›æº¯</p>
<p>ğŸ‘ 617</p>
<p>ğŸ‘ 0</p>
<p>è§£é¢˜æ€è·¯ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/image-20221123155128395.png" alt="image-20221123155128395"></p>
<p>æ•´ä½“ä¸Šæ˜¯æŠŠå®ƒçœ‹æˆä¸€ä¸ªå®Œå…¨äºŒå‰æ ‘æ¥è§„å®šè¯¥å­—ç¬¦é€‰è¿˜æ˜¯ä¸é€‰ã€‚æ•´ä½“çš„ç»“æ„æ˜¯ä¸€ä¸ªæ’åˆ—æ ‘ï¼ˆç»“æœä¸é¡ºåºæœ‰å…³ï¼‰ï¼Œæ‰€ä»¥éå†æ—¶è¦ä»å¤´éå†ï¼Œéå†è¿‡ç¨‹ä¸­ç”¨usedæ•°ç»„è¿›è¡Œè®°å½•ã€‚å› ä¸ºæœ‰å¯èƒ½ä¼šæœ‰é‡å¤ç»“æœï¼Œè¿™é‡Œç”¨HashSetè¿›è¡Œå»é‡ã€‚</p>
<ol>
<li>å½“æœç´¢åˆ°å¶å­èŠ‚ç‚¹å°±è¿›è¡Œè®°å½•ã€‚æ‰¾åˆ°äº†ä¸€ä¸ªç»“æœï¼ŒåŠ å…¥åˆ°setä¸­ã€‚</li>
<li>éå†æ—¶ï¼Œé€šè¿‡usedæ•°ç»„è¿›è¡Œå‰ªæã€‚</li>
</ol>
<p>code:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">Set&lt;String&gt; res; <span class="comment">// è®°å½•ç»“æœé›† é¡ºä¾¿ç”¨HashSetå»é‡</span></span><br><span class="line">StringBuilder path; <span class="comment">// è·¯å¾„ ç”¨StringBuilder</span></span><br><span class="line"><span class="keyword">public</span> String[] permutation(String s) &#123;</span><br><span class="line">    <span class="type">char</span>[] chars = s.toCharArray();</span><br><span class="line">    res = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">    path = <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">    <span class="type">boolean</span>[] used = <span class="keyword">new</span> <span class="title class_">boolean</span>[s.length()];<span class="comment">// è®°å½•æœ‰æ²¡æœ‰éå†è¿‡</span></span><br><span class="line">    backtracking(chars, used);</span><br><span class="line">    <span class="keyword">return</span> res.toArray(<span class="keyword">new</span> <span class="title class_">String</span>[<span class="number">0</span>]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">backtracking</span><span class="params">(<span class="type">char</span>[] chars, <span class="type">boolean</span>[] used)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (path.length() == chars.length) &#123; <span class="comment">// å·²ç»æœç´¢åˆ°æ ¹äº†ï¼Œè®°å½•</span></span><br><span class="line">        res.add(path.toString());</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; chars.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!used[i]) &#123;</span><br><span class="line">            path.append(chars[i]);</span><br><span class="line">            used[i] = <span class="literal">true</span>;</span><br><span class="line">            backtracking(chars, used);</span><br><span class="line">            used[i] = <span class="literal">false</span>;</span><br><span class="line">            path.deleteCharAt(path.length() - <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="8-13ã€å‰‘æŒ‡-Offer-54-äºŒå‰æœç´¢æ ‘çš„ç¬¬-k-å¤§èŠ‚ç‚¹"><a href="#8-13ã€å‰‘æŒ‡-Offer-54-äºŒå‰æœç´¢æ ‘çš„ç¬¬-k-å¤§èŠ‚ç‚¹" class="headerlink" title="8.13ã€å‰‘æŒ‡ Offer 54. äºŒå‰æœç´¢æ ‘çš„ç¬¬ k å¤§èŠ‚ç‚¹"></a>8.13ã€å‰‘æŒ‡ Offer 54. äºŒå‰æœç´¢æ ‘çš„ç¬¬ k å¤§èŠ‚ç‚¹</h3><p>ç»™å®šä¸€æ£µäºŒå‰æœç´¢æ ‘ï¼Œè¯·æ‰¾å‡ºå…¶ä¸­ç¬¬ <code>k</code> å¤§çš„èŠ‚ç‚¹çš„å€¼ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: root = [3,1,4,null,2], k = 1</span><br><span class="line">   3</span><br><span class="line">  / \</span><br><span class="line"> 1   4</span><br><span class="line">  \</span><br><span class="line">   2</span><br><span class="line">è¾“å‡º: 4</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: root = [5,3,6,2,4,null,null,1], k = 3</span><br><span class="line">       5</span><br><span class="line">      / \</span><br><span class="line">     3   6</span><br><span class="line">    / \</span><br><span class="line">   2   4</span><br><span class="line">  /</span><br><span class="line"> 1</span><br><span class="line">è¾“å‡º: 4</span><br></pre></td></tr></table></figure>



<p><strong>é™åˆ¶ï¼š</strong></p>
<ul>
<li>1 â‰¤ k â‰¤ äºŒå‰æœç´¢æ ‘å…ƒç´ ä¸ªæ•°</li>
</ul>
<p>Related Topics</p>
<p>æ ‘</p>
<p>æ·±åº¦ä¼˜å…ˆæœç´¢</p>
<p>äºŒå‰æœç´¢æ ‘</p>
<p>äºŒå‰æ ‘</p>
<p>ğŸ‘ 344</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>è¦çŸ¥é“äºŒå‰æœç´¢æ ‘çš„æ€§è´¨ï¼Œå³ä¸­åºéå†æ˜¯ä¸€ä¸ªæœ‰åºçš„é›†åˆ,é¡ºåºæ˜¯å‡åºçš„ï¼Œé™åºçš„è¯å°±æ˜¯é€†å‘çš„ä¸­åºéå†ã€‚</p>
<ol>
<li>éå†é¡ºåºï¼šé‡‡ç”¨é€†å‘ä¸­åºéå†ã€‚åœ¨ä¸­é—´èŠ‚ç‚¹è®©è®°å½•å½“å‰çš„éå†æ¬¡æ•°countâ€“</li>
<li>ç»ˆæ­¢æ¡ä»¶ï¼šcount&#x3D;0ï¼Œå³æ‰¾åˆ°äº†å½“å‰ç¬¬kå¤§çš„æ•°ï¼Œè¿”å›</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> res;</span><br><span class="line"><span class="type">int</span> count;</span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">kthLargest</span><span class="params">(TreeNode root, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">    count = k;</span><br><span class="line">    recur(root);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">recur</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) <span class="keyword">return</span>;</span><br><span class="line">    recur(root.right); <span class="comment">// å³</span></span><br><span class="line">    <span class="keyword">if</span> (--count == <span class="number">0</span>) &#123;</span><br><span class="line">        res = root.val;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125; <span class="comment">// ä¸­</span></span><br><span class="line">    recur(root.left); <span class="comment">// å·¦</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="8-14ã€å‰‘æŒ‡-Offer-55-I-äºŒå‰æ ‘çš„æ·±åº¦"><a href="#8-14ã€å‰‘æŒ‡-Offer-55-I-äºŒå‰æ ‘çš„æ·±åº¦" class="headerlink" title="8.14ã€å‰‘æŒ‡ Offer 55 - I. äºŒå‰æ ‘çš„æ·±åº¦"></a>8.14ã€å‰‘æŒ‡ Offer 55 - I. äºŒå‰æ ‘çš„æ·±åº¦</h3><p>è¾“å…¥ä¸€æ£µäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ï¼Œæ±‚è¯¥æ ‘çš„æ·±åº¦ã€‚ä»æ ¹èŠ‚ç‚¹åˆ°å¶èŠ‚ç‚¹ä¾æ¬¡ç»è¿‡çš„èŠ‚ç‚¹ï¼ˆå«æ ¹ã€å¶èŠ‚ç‚¹ï¼‰å½¢æˆæ ‘çš„ä¸€æ¡è·¯å¾„ï¼Œæœ€é•¿è·¯å¾„çš„é•¿åº¦ä¸ºæ ‘çš„æ·±åº¦ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<p>ç»™å®šäºŒå‰æ ‘ <code>[3,9,20,null,null,15,7]</code>ï¼Œ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">  3</span><br><span class="line"> / \</span><br><span class="line">9  20</span><br><span class="line">  /  \</span><br><span class="line"> 15   7</span><br></pre></td></tr></table></figure>

<p>è¿”å›å®ƒçš„æœ€å¤§æ·±åº¦ 3 ã€‚</p>
<p><strong>æç¤ºï¼š</strong></p>
<ol>
<li><code>èŠ‚ç‚¹æ€»æ•° &lt;= 10000</code></li>
</ol>
<p>æ³¨æ„ï¼šæœ¬é¢˜ä¸ä¸»ç«™ 104 é¢˜ç›¸åŒï¼š<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/maximum-depth-of-binary-tree/">https://leetcode-cn.com/problems/maximum-depth-of-binary-tree/</a></p>
<p>Related Topics</p>
<p>æ ‘</p>
<p>æ·±åº¦ä¼˜å…ˆæœç´¢</p>
<p>å¹¿åº¦ä¼˜å…ˆæœç´¢</p>
<p>äºŒå‰æ ‘</p>
<p>ğŸ‘ 218</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<ol>
<li><p>ç¡®å®šéå†é¡ºåºã€‚</p>
<p>è¿™é“é¢˜ä½¿ç”¨DFSå’ŒBFSéƒ½æ˜¯å¯ä»¥è§£å†³çš„ã€‚</p>
</li>
<li><p>DFSæ—¶ï¼Œä»ä¸‹å¾€ä¸Šå›æº¯ï¼Œååºéå†ã€‚</p>
</li>
<li><p>BFSæ—¶ï¼Œæ­£å¥½èƒ½é€šè¿‡sizeæ¥è®°å½•æ¯ä¸€æ’çš„ä¸ªæ•°ã€‚</p>
</li>
</ol>
<p>æ·±åº¦ä¼˜å…ˆéå†ï¼ˆååºï¼‰ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1603024336-lXVRDd-Picture1.png" alt="Picture1.png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxDepth</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123; <span class="comment">// é€’å½’ç»ˆæ­¢æ¡ä»¶</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> <span class="variable">leftH</span> <span class="operator">=</span> maxDepth(root.left);<span class="comment">// å·¦æ ‘é«˜åº¦</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">rightH</span> <span class="operator">=</span> maxDepth(root.right);<span class="comment">// å³æ ‘é«˜åº¦</span></span><br><span class="line">    <span class="keyword">return</span> Math.max(leftH, rightH) + <span class="number">1</span>;<span class="comment">//ä¸¤æ£µæ ‘çš„æœ€å¤§é«˜åº¦ + å½“å‰èŠ‚ç‚¹</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š	</p>
<p>æ—¶é—´å¤æ‚åº¦ O(N) ï¼š N ä¸ºæ ‘çš„èŠ‚ç‚¹æ•°é‡ï¼Œè®¡ç®—æ ‘çš„æ·±åº¦éœ€è¦éå†æ‰€æœ‰èŠ‚ç‚¹ã€‚<br>ç©ºé—´å¤æ‚åº¦ O(N) ï¼š æœ€å·®æƒ…å†µä¸‹ï¼ˆå½“æ ‘é€€åŒ–ä¸ºé“¾è¡¨æ—¶ï¼‰ï¼Œé€’å½’æ·±åº¦å¯è¾¾åˆ° N ã€‚</p>
<hr>
<p>å±‚åºéå†ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1603024336-EXcbJg-Picture15.png" alt="img"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxDepth2</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="literal">null</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    Queue&lt;TreeNode&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    queue.add(root);</span><br><span class="line">    <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">size</span> <span class="operator">=</span> queue.size();</span><br><span class="line">        count++;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">            <span class="type">TreeNode</span> <span class="variable">tmp</span> <span class="operator">=</span> queue.poll();</span><br><span class="line">            <span class="keyword">if</span> (tmp.left != <span class="literal">null</span>) &#123;</span><br><span class="line">                queue.add(tmp.left);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (tmp.right != <span class="literal">null</span>) &#123;</span><br><span class="line">                queue.add(tmp.right);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š<br>æ—¶é—´å¤æ‚åº¦ O(N) ï¼š N ä¸ºæ ‘çš„èŠ‚ç‚¹æ•°é‡ï¼Œè®¡ç®—æ ‘çš„æ·±åº¦éœ€è¦éå†æ‰€æœ‰èŠ‚ç‚¹ã€‚<br>ç©ºé—´å¤æ‚åº¦ O(N) ï¼š æœ€å·®æƒ…å†µä¸‹ï¼ˆå½“æ ‘å¹³è¡¡æ—¶ï¼‰ï¼Œé˜Ÿåˆ— queue åŒæ—¶å­˜å‚¨ N&#x2F;2 ä¸ªèŠ‚ç‚¹ã€‚</p>
<h3 id="8-15ã€å‰‘æŒ‡-Offer-55-II-å¹³è¡¡äºŒå‰æ ‘"><a href="#8-15ã€å‰‘æŒ‡-Offer-55-II-å¹³è¡¡äºŒå‰æ ‘" class="headerlink" title="8.15ã€å‰‘æŒ‡ Offer 55 - II. å¹³è¡¡äºŒå‰æ ‘"></a>8.15ã€å‰‘æŒ‡ Offer 55 - II. å¹³è¡¡äºŒå‰æ ‘</h3><p>è¾“å…¥ä¸€æ£µäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ï¼Œåˆ¤æ–­è¯¥æ ‘æ˜¯ä¸æ˜¯å¹³è¡¡äºŒå‰æ ‘ã€‚å¦‚æœæŸäºŒå‰æ ‘ä¸­ä»»æ„èŠ‚ç‚¹çš„å·¦å³å­æ ‘çš„æ·±åº¦ç›¸å·®ä¸è¶…è¿‡1ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯ä¸€æ£µå¹³è¡¡äºŒå‰æ ‘ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<p>ç»™å®šäºŒå‰æ ‘ <code>[3,9,20,null,null,15,7]</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">  3</span><br><span class="line"> / \</span><br><span class="line">9  20</span><br><span class="line">  /  \</span><br><span class="line"> 15   7</span><br></pre></td></tr></table></figure>

<p>è¿”å› <code>true</code> ã€‚</p>
<p><strong>ç¤ºä¾‹ 2:</strong></p>
<p>ç»™å®šäºŒå‰æ ‘ <code>[1,2,2,3,3,null,null,4,4]</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">      1</span><br><span class="line">     / \</span><br><span class="line">    2   2</span><br><span class="line">   / \</span><br><span class="line">  3   3</span><br><span class="line"> / \</span><br><span class="line">4   4</span><br></pre></td></tr></table></figure>

<p>è¿”å› <code>false</code> ã€‚</p>
<p><strong>é™åˆ¶ï¼š</strong></p>
<ul>
<li><code>0 &lt;= æ ‘çš„ç»“ç‚¹ä¸ªæ•° &lt;= 10000</code></li>
</ul>
<p>æ³¨æ„ï¼šæœ¬é¢˜ä¸ä¸»ç«™ 110 é¢˜ç›¸åŒï¼š<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/balanced-binary-tree/">https://leetcode-cn.com/problems/balanced-binary-tree/</a></p>
<p>Related Topics</p>
<p>æ ‘</p>
<p>æ·±åº¦ä¼˜å…ˆæœç´¢</p>
<p>äºŒå‰æ ‘</p>
<p>ğŸ‘ 322</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>å¹³è¡¡äºŒå‰æ ‘çš„æ€§è´¨ï¼šå¦‚æœæŸäºŒå‰æ ‘ä¸­ä»»æ„èŠ‚ç‚¹çš„å·¦å³å­æ ‘çš„æ·±åº¦ç›¸å·®ä¸è¶…è¿‡1ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯ä¸€æ£µå¹³è¡¡äºŒå‰æ ‘ã€‚</p>
<hr>
<p>å…ˆåºéå† + åˆ¤æ–­æ·±åº¦ ï¼ˆä»é¡¶è‡³åº•):</p>
<p>å¯ä»¥å¯¹æ¯ä¸€ä¸ªèŠ‚ç‚¹éƒ½ç”¨è®¡ç®—äºŒå‰æ ‘é«˜åº¦ï¼Œå¦‚æœå·¦å³å­æ ‘æ·±åº¦å·®è¶…è¿‡1ï¼Œå°±è¿”å›false.</p>
<ol>
<li>ç¡®å®šéå†é¡ºåºï¼šå…ˆåºéå†</li>
<li>å¯¹ä¸­çš„èŠ‚ç‚¹çš„å·¦å³å­©å­æ±‚æ·±åº¦ï¼Œåˆ¤æ–­æ·±åº¦å·®æ˜¯å¦æ»¡è¶³è¦æ±‚ã€‚</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isBalanced</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">leftH</span> <span class="operator">=</span> maxDepth(root.left);<span class="comment">// å·¦å­æ ‘é«˜åº¦</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">rightH</span> <span class="operator">=</span> maxDepth(root.right);<span class="comment">// å³å­æ ‘é«˜åº¦</span></span><br><span class="line">    <span class="keyword">if</span> (Math.abs(leftH - rightH) &lt;= <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">flag1</span> <span class="operator">=</span> isBalanced(root.left);</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">flag2</span> <span class="operator">=</span> isBalanced(root.right);</span><br><span class="line">        <span class="keyword">return</span> flag1 &amp;&amp; flag2;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="type">int</span> <span class="title function_">maxDepth</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123; <span class="comment">// é€’å½’ç»ˆæ­¢æ¡ä»¶</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> <span class="variable">leftH</span> <span class="operator">=</span> maxDepth(root.left);<span class="comment">// å·¦æ ‘é«˜åº¦</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">rightH</span> <span class="operator">=</span> maxDepth(root.right);<span class="comment">// å³æ ‘é«˜åº¦</span></span><br><span class="line">    <span class="keyword">return</span> Math.max(leftH, rightH) + <span class="number">1</span>;<span class="comment">//ä¸¤æ£µæ ‘çš„æœ€å¤§é«˜åº¦ + å½“å‰èŠ‚ç‚¹</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1603024695-uuegMD-Picture17.png" alt="img"></p>
<p>ååºéå† + å‰ªæ ï¼ˆä»åº•è‡³é¡¶ï¼‰:</p>
<blockquote>
<p>æ­¤æ–¹æ³•ä¸ºæœ¬é¢˜çš„æœ€ä¼˜è§£æ³•ï¼Œä½†å‰ªæçš„æ–¹æ³•ä¸æ˜“ç¬¬ä¸€æ—¶é—´æƒ³åˆ°ã€‚</p>
</blockquote>
<p>æ€è·¯æ˜¯å¯¹äºŒå‰æ ‘åšååºéå†ï¼Œä»åº•è‡³é¡¶è¿”å›å­æ ‘æ·±åº¦ï¼Œè‹¥åˆ¤å®šæŸå­æ ‘ä¸æ˜¯å¹³è¡¡æ ‘åˆ™ â€œå‰ªæâ€ ï¼Œç›´æ¥å‘ä¸Šè¿”å›ã€‚</p>
<p>recur(root) å‡½æ•°ï¼š</p>
<ol>
<li>è¿”å›å€¼ï¼š<ol>
<li>å½“èŠ‚ç‚¹root å·¦ &#x2F; å³å­æ ‘çš„æ·±åº¦å·®â‰¤1 ï¼šåˆ™è¿”å›å½“å‰å­æ ‘çš„æ·±åº¦ï¼Œå³èŠ‚ç‚¹ root çš„å·¦ &#x2F; å³å­æ ‘çš„æ·±åº¦æœ€å¤§å€¼ +1ï¼ˆ max(left, right) + 1 ï¼‰ï¼›</li>
<li>å½“èŠ‚ç‚¹root å·¦ &#x2F; å³å­æ ‘çš„æ·±åº¦å·® &gt;1 ï¼šåˆ™è¿”å› âˆ’1 ï¼Œä»£è¡¨ æ­¤å­æ ‘ä¸æ˜¯å¹³è¡¡æ ‘ ã€‚</li>
</ol>
</li>
<li>ç»ˆæ­¢æ¡ä»¶ï¼š<ol>
<li>å½“ root ä¸ºç©ºï¼šè¯´æ˜è¶Šè¿‡å¶èŠ‚ç‚¹ï¼Œå› æ­¤è¿”å›é«˜åº¦ 0 ï¼›</li>
<li>å½“å·¦ï¼ˆå³ï¼‰å­æ ‘æ·±åº¦ä¸º âˆ’1 ï¼šä»£è¡¨æ­¤æ ‘çš„ å·¦ï¼ˆå³ï¼‰å­æ ‘ ä¸æ˜¯å¹³è¡¡æ ‘ï¼Œå› æ­¤å‰ªæï¼Œç›´æ¥è¿”å› âˆ’1 ï¼›</li>
</ol>
</li>
</ol>
<p>isBalanced(root) å‡½æ•°ï¼š</p>
<ol>
<li>è¿”å›å€¼ï¼š è‹¥ recur(root) !&#x3D; -1 ï¼Œåˆ™è¯´æ˜æ­¤æ ‘å¹³è¡¡ï¼Œè¿”å› truetrue ï¼› å¦åˆ™è¿”å› falsefalse ã€‚</li>
</ol>
<p>å¤æ‚åº¦åˆ†æï¼š<br>æ—¶é—´å¤æ‚åº¦ O(N)ï¼š N ä¸ºæ ‘çš„èŠ‚ç‚¹æ•°ï¼›æœ€å·®æƒ…å†µä¸‹ï¼Œéœ€è¦é€’å½’éå†æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹ã€‚<br>ç©ºé—´å¤æ‚åº¦ O(N)ï¼š æœ€å·®æƒ…å†µä¸‹ï¼ˆæ ‘é€€åŒ–ä¸ºé“¾è¡¨æ—¶ï¼‰ï¼Œç³»ç»Ÿé€’å½’éœ€è¦ä½¿ç”¨ O(N) çš„æ ˆç©ºé—´ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isBalanced</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> recur(root) != -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">recur</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> recur(root.left);</span><br><span class="line">        <span class="keyword">if</span>(left == -<span class="number">1</span>) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> recur(root.right);</span><br><span class="line">        <span class="keyword">if</span>(right == -<span class="number">1</span>) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> Math.abs(left - right) &lt; <span class="number">2</span> ? Math.max(left, right) + <span class="number">1</span> : -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1603024695-Jqbiev-Picture12.png" alt="img"></p>
<h3 id="8-16ã€å‰‘æŒ‡-Offer-64-æ±‚-1-2-â€¦-n"><a href="#8-16ã€å‰‘æŒ‡-Offer-64-æ±‚-1-2-â€¦-n" class="headerlink" title="8.16ã€å‰‘æŒ‡ Offer 64. æ±‚ 1 + 2 + â€¦ + n"></a>8.16ã€å‰‘æŒ‡ Offer 64. æ±‚ 1 + 2 + â€¦ + n</h3><p>æ±‚ <code>1+2+...+n</code> ï¼Œè¦æ±‚ä¸èƒ½ä½¿ç”¨ä¹˜é™¤æ³•ã€forã€whileã€ifã€elseã€switchã€caseç­‰å…³é”®å­—åŠæ¡ä»¶åˆ¤æ–­è¯­å¥ï¼ˆA?B:Cï¼‰ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: n = 3</span><br><span class="line">è¾“å‡º: 6</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: n = 9</span><br><span class="line">è¾“å‡º: 45</span><br></pre></td></tr></table></figure>



<p><strong>é™åˆ¶ï¼š</strong></p>
<ul>
<li><code>1 &lt;= n &lt;= 10000</code></li>
</ul>
<p>Related Topics</p>
<p>ä½è¿ç®—</p>
<p>é€’å½’</p>
<p>è„‘ç­‹æ€¥è½¬å¼¯</p>
<p>ğŸ‘ 551</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>é€’å½’æ±‚è§£ï¼Œéœ€è¦ç”¨åˆ°ifï¼Œå¦‚ä½•æ¶ˆå»if</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">sumNums</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (n == <span class="number">1</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span>  n + sumNums(n - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1603023621-WFZwzS-Picture1.png" alt="Picture1.png"></p>
<p>é€»è¾‘è¿ç®—ç¬¦çš„çŸ­è·¯æ•ˆåº”ï¼š<br>å¸¸è§çš„é€»è¾‘è¿ç®—ç¬¦æœ‰ä¸‰ç§ï¼Œå³ â€œä¸ &amp;&amp;â€ï¼Œâ€œæˆ– || â€ï¼Œâ€œé ! â€ ï¼›è€Œå…¶æœ‰é‡è¦çš„çŸ­è·¯æ•ˆåº”ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">if(A &amp;&amp; B)  // è‹¥ A ä¸º false ï¼Œåˆ™ B çš„åˆ¤æ–­ä¸ä¼šæ‰§è¡Œï¼ˆå³çŸ­è·¯ï¼‰ï¼Œç›´æ¥åˆ¤å®š A &amp;&amp; B ä¸º false</span><br><span class="line">if(A || B) // è‹¥ A ä¸º true ï¼Œåˆ™ B çš„åˆ¤æ–­ä¸ä¼šæ‰§è¡Œï¼ˆå³çŸ­è·¯ï¼‰ï¼Œç›´æ¥åˆ¤å®š A || B ä¸º true</span><br></pre></td></tr></table></figure>

<p>æœ¬é¢˜éœ€è¦å®ç° â€œå½“ n &#x3D; 1 æ—¶ç»ˆæ­¢é€’å½’â€ çš„éœ€æ±‚ï¼Œå¯é€šè¿‡çŸ­è·¯æ•ˆåº”å®ç°ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">n &gt; 1 &amp;&amp; sumNums(n - 1) // å½“ n = 1 æ—¶ n &gt; 1 ä¸æˆç«‹ ï¼Œæ­¤æ—¶ â€œçŸ­è·¯â€ ï¼Œç»ˆæ­¢åç»­é€’å½’</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(n) ï¼š è®¡ç®— n + (n-1) + â€¦ + 2 + 1 éœ€è¦å¼€å¯ nnä¸ªé€’å½’å‡½æ•°ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(n) ï¼š é€’å½’æ·±åº¦è¾¾åˆ° nn ï¼Œç³»ç»Ÿä½¿ç”¨ O(n)å¤§å°çš„é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1603023621-nIAzSV-Picture10.png" alt="img"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">sumNums</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">    <span class="comment">//        if (n == 1) return 1;</span></span><br><span class="line">    <span class="comment">//        else return  n + sumNums(n - 1);</span></span><br><span class="line">    <span class="type">boolean</span> <span class="variable">x</span> <span class="operator">=</span> n &gt; <span class="number">1</span> &amp;&amp; sumNums(n - <span class="number">1</span>) &gt;<span class="number">0</span>;</span><br><span class="line">    res += n;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="8-17ã€å‰‘æŒ‡-Offer-68-II-äºŒå‰æœç´¢æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ"><a href="#8-17ã€å‰‘æŒ‡-Offer-68-II-äºŒå‰æœç´¢æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ" class="headerlink" title="8.17ã€å‰‘æŒ‡ Offer 68 - II. äºŒå‰æœç´¢æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ"></a>8.17ã€å‰‘æŒ‡ Offer 68 - II. äºŒå‰æœç´¢æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ</h3><p>ç»™å®šä¸€ä¸ªäºŒå‰æœç´¢æ ‘, æ‰¾åˆ°è¯¥æ ‘ä¸­ä¸¤ä¸ªæŒ‡å®šèŠ‚ç‚¹çš„æœ€è¿‘å…¬å…±ç¥–å…ˆã€‚</p>
<p><a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E6%9C%80%E8%BF%91%E5%85%AC%E5%85%B1%E7%A5%96%E5%85%88/8918834?fr=aladdin">ç™¾åº¦ç™¾ç§‘</a>ä¸­æœ€è¿‘å…¬å…±ç¥–å…ˆçš„å®šä¹‰ä¸ºï¼šâ€œå¯¹äºæœ‰æ ¹æ ‘ T çš„ä¸¤ä¸ªç»“ç‚¹ pã€qï¼Œæœ€è¿‘å…¬å…±ç¥–å…ˆè¡¨ç¤ºä¸ºä¸€ä¸ªç»“ç‚¹ xï¼Œæ»¡è¶³ x æ˜¯ pã€q çš„ç¥–å…ˆä¸” x çš„æ·±åº¦å°½å¯èƒ½å¤§ï¼ˆ<strong>ä¸€ä¸ªèŠ‚ç‚¹ä¹Ÿå¯ä»¥æ˜¯å®ƒè‡ªå·±çš„ç¥–å…ˆ</strong>ï¼‰ã€‚â€</p>
<p>ä¾‹å¦‚ï¼Œç»™å®šå¦‚ä¸‹äºŒå‰æœç´¢æ ‘: root &#x3D; [6,2,8,0,4,7,9,null,null,3,5]</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/binarysearchtree_improved.png" alt="img"></p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: root = [6,2,8,0,4,7,9,null,null,3,5], p = 2, q = 8</span><br><span class="line">è¾“å‡º: 6 </span><br><span class="line">è§£é‡Š: èŠ‚ç‚¹ 2 å’ŒèŠ‚ç‚¹ 8 çš„æœ€è¿‘å…¬å…±ç¥–å…ˆæ˜¯ 6ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: root = [6,2,8,0,4,7,9,null,null,3,5], p = 2, q = 4</span><br><span class="line">è¾“å‡º: 2</span><br><span class="line">è§£é‡Š: èŠ‚ç‚¹ 2 å’ŒèŠ‚ç‚¹ 4 çš„æœ€è¿‘å…¬å…±ç¥–å…ˆæ˜¯ 2, å› ä¸ºæ ¹æ®å®šä¹‰æœ€è¿‘å…¬å…±ç¥–å…ˆèŠ‚ç‚¹å¯ä»¥ä¸ºèŠ‚ç‚¹æœ¬èº«ã€‚</span><br></pre></td></tr></table></figure>



<p><strong>è¯´æ˜:</strong></p>
<ul>
<li>æ‰€æœ‰èŠ‚ç‚¹çš„å€¼éƒ½æ˜¯å”¯ä¸€çš„ã€‚</li>
<li>pã€q ä¸ºä¸åŒèŠ‚ç‚¹ä¸”å‡å­˜åœ¨äºç»™å®šçš„äºŒå‰æœç´¢æ ‘ä¸­ã€‚</li>
</ul>
<p>æ³¨æ„ï¼šæœ¬é¢˜ä¸ä¸»ç«™ 235 é¢˜ç›¸åŒï¼š<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/lowest-common-ancestor-of-a-binary-search-tree/">https://leetcode-cn.com/problems/lowest-common-ancestor-of-a-binary-search-tree/</a></p>
<p>Related Topics</p>
<p>æ ‘</p>
<p>æ·±åº¦ä¼˜å…ˆæœç´¢</p>
<p>äºŒå‰æœç´¢æ ‘</p>
<p>äºŒå‰æ ‘</p>
<p>ğŸ‘ 272</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>æœ¬é¢˜æ±‚è§£çš„æ˜¯äºŒå‰æœç´¢æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆï¼ŒäºŒå‰æœç´¢æ ‘æ˜¯æœ‰åºçš„ï¼Œä»ä¸Šå¾€ä¸‹è¿›è¡Œæœç´¢ï¼Œå¦‚æœèŠ‚ç‚¹åœ¨[p.val,q.val]ä¸­é‚£ä¹ˆä¸€å®šæ˜¯p,qçš„å…¬å…±ç¥–å…ˆï¼Œè€Œä¸”æ˜¯<strong>æœ€å°å…¬å…±ç¥–å…ˆ</strong>ã€‚å†å¾€ä¸‹æœç´¢ï¼Œä¸ç®¡å¾€å·¦ã€å¾€å³éƒ½ä¼šå‰ªæ‰ä¸€ä¸ªå­æ ‘ï¼Œè¿™æ ·å°±æ¼æ‰äº†ä¸€ä¸ªèŠ‚ç‚¹ã€‚å› æ­¤åªè¦æ‰¾åˆ°ä½äºè¯¥åŒºé—´çš„èŠ‚ç‚¹å°±è¡Œã€‚éå†é¡ºåºæ— å…³ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/20220926164214.png" alt="235.äºŒå‰æœç´¢æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ"></p>
<h4 id="é€’å½’æ³•ï¼š"><a href="#é€’å½’æ³•ï¼š" class="headerlink" title="é€’å½’æ³•ï¼š"></a>é€’å½’æ³•ï¼š</h4><ol>
<li><p>ç¡®å®šå‡½æ•°çš„è¿”å›å€¼ä»¥åŠå‚æ•°</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">TreeNode <span class="title function_">traversal</span><span class="params">(TreeNode cur, TreeNode p, TreeNode q)</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ç¡®å®šç»ˆæ­¢æ¡ä»¶</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (cur == <span class="literal">null</span>) <span class="keyword">return</span> cur;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç¡®å®šå•å±‚é€’å½’çš„é€»è¾‘</p>
<ul>
<li>å¦‚æœ cur.val å¤§äº p.valï¼ŒåŒæ—¶ cur.val å¤§äºq.valï¼Œé‚£ä¹ˆå°±åº”è¯¥å‘å·¦éå†ï¼ˆè¯´æ˜ç›®æ ‡åŒºé—´åœ¨å·¦å­æ ‘ä¸Šï¼‰ã€‚</li>
<li>å¦‚æœ cur.val å°äº p.valï¼ŒåŒæ—¶ cur.val å°äºq.valï¼Œé‚£ä¹ˆå°±åº”è¯¥å‘å³éå†ï¼ˆè¯´æ˜ç›®æ ‡åŒºé—´åœ¨å³å­æ ‘ä¸Šï¼‰ã€‚</li>
<li>curèŠ‚ç‚¹åœ¨åŒºé—´ï¼ˆp.val &lt;&#x3D; cur.val &amp;&amp; cur.val &lt;&#x3D; q.valï¼‰æˆ–è€… ï¼ˆq.val &lt;&#x3D; cur.val &amp;&amp; cur.val &lt;&#x3D; p.valï¼‰ä¸­ï¼Œé‚£ä¹ˆcurå°±æ˜¯æœ€è¿‘å…¬å…±ç¥–å…ˆäº†ï¼Œç›´æ¥è¿”å›curã€‚</li>
</ul>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> TreeNode <span class="title function_">lowestCommonAncestor</span><span class="params">(TreeNode root, TreeNode p, TreeNode q)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> traversal(root, p, q);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> TreeNode <span class="title function_">traversal</span><span class="params">(TreeNode root, TreeNode p, TreeNode q)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) <span class="keyword">return</span> root;</span><br><span class="line">    <span class="keyword">if</span> (root.val &gt; p.val &amp;&amp; root.val &gt; q.val) &#123; <span class="comment">// å·¦</span></span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">left</span> <span class="operator">=</span> traversal(root.left, p, q);</span><br><span class="line">        <span class="keyword">if</span> (left != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> left;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (root.val &lt; p.val &amp;&amp; root.val &lt; q.val) &#123; <span class="comment">// å³</span></span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">right</span> <span class="operator">=</span> traversal(root.right, p, q);</span><br><span class="line">        <span class="keyword">if</span> (right != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> right;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="è¿­ä»£-1"><a href="#è¿­ä»£-1" class="headerlink" title="è¿­ä»£"></a>è¿­ä»£</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> TreeNode <span class="title function_">lowestCommonAncestor</span><span class="params">(TreeNode root, TreeNode p, TreeNode q)</span> &#123;</span><br><span class="line">    <span class="keyword">while</span> (root != <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (root.val &gt; p.val &amp;&amp; root.val &gt; q.val) &#123; <span class="comment">//å·¦</span></span><br><span class="line">            root = root.left;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (root.val &lt; p.val &amp;&amp; root.val &lt; q.val) &#123; <span class="comment">//å³</span></span><br><span class="line">            root = root.right;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="8-18ã€å‰‘æŒ‡-Offer-68-II-äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–"><a href="#8-18ã€å‰‘æŒ‡-Offer-68-II-äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–" class="headerlink" title="8.18ã€å‰‘æŒ‡ Offer 68 - II. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–"></a>8.18ã€å‰‘æŒ‡ Offer 68 - II. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–</h3><p>ç»™å®šä¸€ä¸ªäºŒå‰æ ‘, æ‰¾åˆ°è¯¥æ ‘ä¸­ä¸¤ä¸ªæŒ‡å®šèŠ‚ç‚¹çš„æœ€è¿‘å…¬å…±ç¥–å…ˆã€‚</p>
<p><a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E6%9C%80%E8%BF%91%E5%85%AC%E5%85%B1%E7%A5%96%E5%85%88/8918834?fr=aladdin">ç™¾åº¦ç™¾ç§‘</a>ä¸­æœ€è¿‘å…¬å…±ç¥–å…ˆçš„å®šä¹‰ä¸ºï¼šâ€œå¯¹äºæœ‰æ ¹æ ‘ T çš„ä¸¤ä¸ªç»“ç‚¹ pã€qï¼Œæœ€è¿‘å…¬å…±ç¥–å…ˆè¡¨ç¤ºä¸ºä¸€ä¸ªç»“ç‚¹ xï¼Œæ»¡è¶³ x æ˜¯ pã€q çš„ç¥–å…ˆä¸” x çš„æ·±åº¦å°½å¯èƒ½å¤§ï¼ˆ<strong>ä¸€ä¸ªèŠ‚ç‚¹ä¹Ÿå¯ä»¥æ˜¯å®ƒè‡ªå·±çš„ç¥–å…ˆ</strong>ï¼‰ã€‚â€</p>
<p>ä¾‹å¦‚ï¼Œç»™å®šå¦‚ä¸‹äºŒå‰æ ‘: root &#x3D; [3,5,1,6,2,0,8,null,null,7,4]</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/binarytree.png" alt="img"></p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: root = [3,5,1,6,2,0,8,null,null,7,4], p = 5, q = 1</span><br><span class="line">è¾“å‡º: 3</span><br><span class="line">è§£é‡Š: èŠ‚ç‚¹ 5 å’ŒèŠ‚ç‚¹ 1 çš„æœ€è¿‘å…¬å…±ç¥–å…ˆæ˜¯èŠ‚ç‚¹ 3ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: root = [3,5,1,6,2,0,8,null,null,7,4], p = 5, q = 4</span><br><span class="line">è¾“å‡º: 5</span><br><span class="line">è§£é‡Š: èŠ‚ç‚¹ 5 å’ŒèŠ‚ç‚¹ 4 çš„æœ€è¿‘å…¬å…±ç¥–å…ˆæ˜¯èŠ‚ç‚¹ 5ã€‚å› ä¸ºæ ¹æ®å®šä¹‰æœ€è¿‘å…¬å…±ç¥–å…ˆèŠ‚ç‚¹å¯ä»¥ä¸ºèŠ‚ç‚¹æœ¬èº«ã€‚</span><br></pre></td></tr></table></figure>



<p><strong>è¯´æ˜:</strong></p>
<ul>
<li>æ‰€æœ‰èŠ‚ç‚¹çš„å€¼éƒ½æ˜¯å”¯ä¸€çš„ã€‚</li>
<li>pã€q ä¸ºä¸åŒèŠ‚ç‚¹ä¸”å‡å­˜åœ¨äºç»™å®šçš„äºŒå‰æ ‘ä¸­ã€‚</li>
</ul>
<p>æ³¨æ„ï¼šæœ¬é¢˜ä¸ä¸»ç«™ 236 é¢˜ç›¸åŒï¼š<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/lowest-common-ancestor-of-a-binary-tree/">https://leetcode-cn.com/problems/lowest-common-ancestor-of-a-binary-tree/</a></p>
<p>Related Topics</p>
<p>æ ‘</p>
<p>æ·±åº¦ä¼˜å…ˆæœç´¢</p>
<p>äºŒå‰æ ‘</p>
<p>ğŸ‘ 495</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<ol>
<li><p>ç¡®å®šé€’å½’é¡ºåºï¼Œååºéå†ï¼Œååºéå†çš„é¡ºåºä¸ºå·¦å³ä¸­ï¼Œæ­£å¥½å¯ä»¥ä»ä¸‹å‘ä¸Šæ¥å›æº¯æœç´¢ã€‚</p>
</li>
<li><p>ç¡®å®šé€’å½’å‡½æ•°è¿”å›å€¼ä»¥åŠå‚æ•°ï¼Œæˆ‘ä»¬éœ€è¦è¿”å›æ‰¾åˆ°çš„æœ€è¿‘å…¬å…±ç¥–å…ˆï¼Œæ²¡æ‰¾åˆ°è¿”å›nullã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">TreeNode <span class="title function_">lowestCommonAncestor</span><span class="params">(TreeNode root, TreeNode p, TreeNode q)</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ç¡®å®šç»ˆæ­¢æ¡ä»¶ï¼Œå¦‚æœæˆ‘ä»¬æ‰¾åˆ°äº†èŠ‚ç‚¹pæˆ–qå°±è¿”å›ï¼Œç›´åˆ°æ ¹èŠ‚ç‚¹ä¸ºç©ºã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (root == q || root == p || root == NULL) <span class="keyword">return</span> root;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç¡®å®šå•å±‚é€’å½’é€»è¾‘ï¼Œæœ¬é¢˜åº”è¯¥æ˜¯æœç´¢æ•´æ£µæ ‘ï¼Œå› ä¸ºè¦å¯¹ååºèŠ‚ç‚¹çš„leftã€rightè¿›è¡Œé€»è¾‘å¤„ç†ã€‚</p>
</li>
<li><p>åœ¨å‘ä¸Šè¿”å›çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœleftã€rightéƒ½æœ‰è¿”å›å€¼ï¼Œåˆ™è¿”å›rootï¼Œå…¶ä¸­ä¸€ä¸ªæœ‰å€¼å°±è¿”å›è¿™ä¸ªå€¼ï¼Œä¸¤ä¸ªéƒ½ä¸ºnullï¼Œè¿”å›nullã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//4 5æ­¥ä»£ç </span></span><br><span class="line"><span class="type">TreeNode</span> <span class="variable">left</span> <span class="operator">=</span> lowestCommonAncestor(root.left, p, q);</span><br><span class="line"><span class="type">TreeNode</span> <span class="variable">right</span> <span class="operator">=</span> lowestCommonAncestor(root.right, p, q);</span><br><span class="line"><span class="keyword">if</span> (left == <span class="literal">null</span> &amp;&amp; right != <span class="literal">null</span>) <span class="keyword">return</span> right;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (left != <span class="literal">null</span> &amp;&amp; right == <span class="literal">null</span>) <span class="keyword">return</span> left;</span><br><span class="line"><span class="keyword">else</span>  &#123; <span class="comment">//  (left == null &amp;&amp; right == null)</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ•´ä½“çš„æµç¨‹å›¾ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/202102041512582.png" alt="236.äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ2"></p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> TreeNode <span class="title function_">lowestCommonAncestor</span><span class="params">(TreeNode root, TreeNode p, TreeNode q)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span> || root == p || root == q)</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    <span class="type">TreeNode</span> <span class="variable">left</span> <span class="operator">=</span> lowestCommonAncestor(root.left, p, q); <span class="comment">// å·¦</span></span><br><span class="line">    <span class="type">TreeNode</span> <span class="variable">right</span> <span class="operator">=</span> lowestCommonAncestor(root.right, p, q); <span class="comment">// å³</span></span><br><span class="line">    <span class="comment">// ä¸­</span></span><br><span class="line">    <span class="keyword">if</span> (left != <span class="literal">null</span> &amp;&amp; right != <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (left == <span class="literal">null</span> &amp;&amp; right != <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> right;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (left != <span class="literal">null</span> &amp;&amp; right == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> left;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="8-19ã€LC93-å¤åŸIPåœ°å€"><a href="#8-19ã€LC93-å¤åŸIPåœ°å€" class="headerlink" title="8.19ã€LC93 å¤åŸIPåœ°å€"></a>8.19ã€LC93 å¤åŸIPåœ°å€</h3><p><strong>æœ‰æ•ˆ IP åœ°å€</strong> æ­£å¥½ç”±å››ä¸ªæ•´æ•°ï¼ˆæ¯ä¸ªæ•´æ•°ä½äº <code>0</code> åˆ° <code>255</code> ä¹‹é—´ç»„æˆï¼Œä¸”ä¸èƒ½å«æœ‰å‰å¯¼ <code>0</code>ï¼‰ï¼Œæ•´æ•°ä¹‹é—´ç”¨ <code>&#39;.&#39;</code> åˆ†éš”ã€‚</p>
<ul>
<li>ä¾‹å¦‚ï¼š<code>&quot;0.1.2.201&quot;</code> å’Œ<code> &quot;192.168.1.1&quot;</code> æ˜¯ <strong>æœ‰æ•ˆ</strong> IP åœ°å€ï¼Œä½†æ˜¯ <code>&quot;0.011.255.245&quot;</code>ã€<code>&quot;192.168.1.312&quot;</code> å’Œ <code>&quot;192.168@1.1&quot;</code> æ˜¯ <strong>æ— æ•ˆ</strong> IP åœ°å€ã€‚</li>
</ul>
<p>ç»™å®šä¸€ä¸ªåªåŒ…å«æ•°å­—çš„å­—ç¬¦ä¸² <code>s</code> ï¼Œç”¨ä»¥è¡¨ç¤ºä¸€ä¸ª IP åœ°å€ï¼Œè¿”å›æ‰€æœ‰å¯èƒ½çš„<strong>æœ‰æ•ˆ IP åœ°å€</strong>ï¼Œè¿™äº›åœ°å€å¯ä»¥é€šè¿‡åœ¨ <code>s</code> ä¸­æ’å…¥ <code>&#39;.&#39;</code> æ¥å½¢æˆã€‚ä½  <strong>ä¸èƒ½</strong> é‡æ–°æ’åºæˆ–åˆ é™¤ <code>s</code> ä¸­çš„ä»»ä½•æ•°å­—ã€‚ä½ å¯ä»¥æŒ‰ <strong>ä»»ä½•</strong> é¡ºåºè¿”å›ç­”æ¡ˆã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;25525511135&quot;</span><br><span class="line">è¾“å‡ºï¼š[&quot;255.255.11.135&quot;,&quot;255.255.111.35&quot;]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;0000&quot;</span><br><span class="line">è¾“å‡ºï¼š[&quot;0.0.0.0&quot;]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;101023&quot;</span><br><span class="line">è¾“å‡ºï¼š[&quot;1.0.10.23&quot;,&quot;1.0.102.3&quot;,&quot;10.1.0.23&quot;,&quot;10.10.2.3&quot;,&quot;101.0.2.3&quot;]</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= s.length &lt;= 20</code></li>
<li><code>s</code> ä»…ç”±æ•°å­—ç»„æˆ</li>
</ul>
<p>Related Topics</p>
<p>å­—ç¬¦ä¸²</p>
<p>å›æº¯</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>è¦è®¡ç®—è¯¥å­—ç¬¦ä¸²ç»„æˆçš„æ‰€æœ‰åˆæ³• ipã€‚é‡‡ç”¨<code>å›æº¯æ³•</code>ã€‚é€ä¸€å°è¯•åˆ†å‰²æ¯ä¸€ä½ã€‚</p>
<p>å¯¹äº path çš„å£°æ˜ï¼Œè¿™é‡Œé‡‡ç”¨ dqueueã€‚ååˆ†å·§å¦™ï¼Œæ·»åŠ åˆ°ç»“æœé›†ä¸Šå¾ˆæ–¹ä¾¿ã€‚</p>
<p><strong>å‰ªæ</strong>ï¼š</p>
<ul>
<li>å¦‚æœç»„æˆ Ip åœ°å€ï¼Œå­—ç¬¦ä¸²è¿˜æœ‰å‰©ä½™å°±å‰ªæã€‚<code>residue * 3 &lt; len - i</code></li>
<li>å¦‚æœé‡åˆ° 0 å¼€å¤´ä½†æ˜¯ä½æ•° &gt; 1 çš„æ•°å­—ï¼Œå°±ç›´æ¥å‰ªæ‰ begin çš„ 0.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"></span><br><span class="line">    List&lt;String&gt; res;</span><br><span class="line">    Deque&lt;String&gt; path;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> List&lt;String&gt; <span class="title function_">restoreIpAddresses</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        res = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> s.length();</span><br><span class="line">        <span class="keyword">if</span> (len &gt; <span class="number">12</span> || len &lt; <span class="number">4</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> res;</span><br><span class="line">        &#125;</span><br><span class="line">        path = <span class="keyword">new</span> <span class="title class_">ArrayDeque</span>&lt;&gt;(<span class="number">4</span>);</span><br><span class="line">        backtracking(s, <span class="number">0</span>, <span class="number">4</span>, len); <span class="comment">// å›æº¯</span></span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">backtracking</span><span class="params">(String s, <span class="type">int</span> begin, <span class="type">int</span> residue, <span class="type">int</span> len)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (begin == s.length()) &#123; <span class="comment">// æ”¶é›†ç»“æœ</span></span><br><span class="line">            <span class="keyword">if</span> (residue == <span class="number">0</span>) &#123;</span><br><span class="line">                res.add(String.join(<span class="string">&quot;.&quot;</span>, path));</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> begin; i &lt; begin + <span class="number">3</span>; i++) &#123;</span><br><span class="line">           <span class="keyword">if</span> (i &gt;= len) &#123;</span><br><span class="line">               <span class="keyword">break</span>;</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="keyword">if</span> (residue * <span class="number">3</span> &lt; len - i) &#123;</span><br><span class="line">               <span class="keyword">continue</span>;</span><br><span class="line">           &#125;</span><br><span class="line"></span><br><span class="line">           <span class="keyword">if</span> (isIp(s, begin, i)) &#123;</span><br><span class="line">               <span class="type">String</span> <span class="variable">sub</span> <span class="operator">=</span> s.substring(begin, i + <span class="number">1</span>);</span><br><span class="line">               path.addLast(sub);</span><br><span class="line"></span><br><span class="line">               <span class="comment">// é€’å½’</span></span><br><span class="line">               backtracking(s, i + <span class="number">1</span>, residue - <span class="number">1</span>, len);</span><br><span class="line">               <span class="comment">// å›æº¯</span></span><br><span class="line">               path.removeLast();</span><br><span class="line">           &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isIp</span><span class="params">(String s, <span class="type">int</span> left, <span class="type">int</span> right)</span>&#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> right - left + <span class="number">1</span>;</span><br><span class="line">            <span class="comment">//å½“å‰ä¸º0å¼€å¤´çš„ä¸”é•¿åº¦å¤§äº1çš„æ•°å­—éœ€è¦å‰ªæ</span></span><br><span class="line">            <span class="keyword">if</span>(len&gt;<span class="number">1</span> &amp;&amp; s.charAt(left)==<span class="string">&#x27;0&#x27;</span>)</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            <span class="comment">//å°†å½“å‰æˆªå–çš„å­—ç¬¦ä¸²è½¬åŒ–æˆæ•°å­—</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> len&lt;=<span class="number">0</span> ? <span class="number">0</span> : Integer.parseInt(s.substring(left, right+<span class="number">1</span>));</span><br><span class="line">            <span class="comment">//åˆ¤æ–­æˆªå–åˆ°çš„æ•°å­—æ˜¯å¦ç¬¦åˆ</span></span><br><span class="line">            <span class="keyword">return</span> res&gt;=<span class="number">0</span> &amp;&amp; res&lt;=<span class="number">255</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="8-20ã€LC22-æ‹¬å·ç”Ÿæˆ"><a href="#8-20ã€LC22-æ‹¬å·ç”Ÿæˆ" class="headerlink" title="8.20ã€LC22. æ‹¬å·ç”Ÿæˆ"></a>8.20ã€LC22. æ‹¬å·ç”Ÿæˆ</h3><p>æ•°å­— <code>n</code> ä»£è¡¨ç”Ÿæˆæ‹¬å·çš„å¯¹æ•°ï¼Œè¯·ä½ è®¾è®¡ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºèƒ½å¤Ÿç”Ÿæˆæ‰€æœ‰å¯èƒ½çš„å¹¶ä¸” <strong>æœ‰æ•ˆçš„</strong> æ‹¬å·ç»„åˆã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = 3</span><br><span class="line">è¾“å‡ºï¼š[&quot;((()))&quot;,&quot;(()())&quot;,&quot;(())()&quot;,&quot;()(())&quot;,&quot;()()()&quot;]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = 1</span><br><span class="line">è¾“å‡ºï¼š[&quot;()&quot;]</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= n &lt;= 8</code></li>
</ul>
<p>Related Topics</p>
<p>å­—ç¬¦ä¸²</p>
<p>åŠ¨æ€è§„åˆ’</p>
<p>å›æº¯</p>
<p>ğŸ‘ 3055</p>
<p>ğŸ‘ 0</p>
<p>å¯¹äºæ‹¬å·ä¸åŒ¹é…çš„æƒ…å†µå°±æ˜¯ å·¦æ‹¬å·çš„æ•°é‡ &lt; å³æ‹¬å·çš„æ•°é‡ ï¼Œç›´æ¥å‰ªæã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    List&lt;String&gt; res;</span><br><span class="line">    StringBuilder path;</span><br><span class="line">    <span class="keyword">public</span> List&lt;String&gt; <span class="title function_">generateParenthesis</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">        res = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        path = <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line"></span><br><span class="line">        backtracking(n, n);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">backtracking</span><span class="params">(<span class="type">int</span> leftNum, <span class="type">int</span> rightNum)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (leftNum == <span class="number">0</span> &amp;&amp; rightNum == <span class="number">0</span>) &#123;</span><br><span class="line">            res.add(path.toString());</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (leftNum &gt; rightNum) &#123; <span class="comment">// å‰ªæï¼Œæ‹¬å·ä¸åŒ¹é…</span></span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (leftNum &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">            path.append(<span class="string">&quot;(&quot;</span>);</span><br><span class="line">            backtracking(leftNum - <span class="number">1</span>, rightNum);</span><br><span class="line">            path.deleteCharAt(path.length() - <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (rightNum &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">            path.append(<span class="string">&quot;)&quot;</span>);</span><br><span class="line">            backtracking(leftNum, rightNum - <span class="number">1</span>);</span><br><span class="line">            path.deleteCharAt(path.length() - <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="8-21ã€LC78-å­é›†"><a href="#8-21ã€LC78-å­é›†" class="headerlink" title="8.21ã€LC78. å­é›†"></a>8.21ã€LC78. å­é›†</h3><p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>nums</code> ï¼Œæ•°ç»„ä¸­çš„å…ƒç´  <strong>äº’ä¸ç›¸åŒ</strong> ã€‚è¿”å›è¯¥æ•°ç»„æ‰€æœ‰å¯èƒ½çš„å­é›†ï¼ˆå¹‚é›†ï¼‰ã€‚</p>
<p>è§£é›† <strong>ä¸èƒ½</strong> åŒ…å«é‡å¤çš„å­é›†ã€‚ä½ å¯ä»¥æŒ‰ <strong>ä»»æ„é¡ºåº</strong> è¿”å›è§£é›†ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [1,2,3]</span><br><span class="line">è¾“å‡ºï¼š[[],[1],[2],[1,2],[3],[1,3],[2,3],[1,2,3]]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [0]</span><br><span class="line">è¾“å‡ºï¼š[[],[0]]</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= nums.length &lt;= 10</code></li>
<li><code>-10 &lt;= nums[i] &lt;= 10</code></li>
<li><code>nums</code> ä¸­çš„æ‰€æœ‰å…ƒç´  <strong>äº’ä¸ç›¸åŒ</strong></li>
</ul>
<p>Related Topics</p>
<p>ä½è¿ç®—</p>
<p>æ•°ç»„</p>
<p>å›æº¯</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; res;</span><br><span class="line">    List&lt;Integer&gt; path;</span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; <span class="title function_">subsets</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        res = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        path = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        backtarcking(nums, <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">backtarcking</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> startIdnex)</span> &#123;</span><br><span class="line">            res.add(<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(path));</span><br><span class="line">            <span class="keyword">if</span> (startIdnex &gt;= nums.length) &#123;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> startIdnex; i &lt; nums.length; i++) &#123;</span><br><span class="line">                path.add(nums[i]);</span><br><span class="line">                backtarcking(nums, startIdnex + <span class="number">1</span>);</span><br><span class="line">                path.remove(path.size() - <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h2 id="ä¹ã€åˆ†æ²»ç®—æ³•"><a href="#ä¹ã€åˆ†æ²»ç®—æ³•" class="headerlink" title="ä¹ã€åˆ†æ²»ç®—æ³•"></a>ä¹ã€åˆ†æ²»ç®—æ³•</h2><h3 id="9-1ã€å‰‘æŒ‡-Offer-07-é‡å»ºäºŒå‰æ ‘"><a href="#9-1ã€å‰‘æŒ‡-Offer-07-é‡å»ºäºŒå‰æ ‘" class="headerlink" title="9.1ã€å‰‘æŒ‡ Offer 07. é‡å»ºäºŒå‰æ ‘"></a>9.1ã€å‰‘æŒ‡ Offer 07. é‡å»ºäºŒå‰æ ‘</h3><p>è¾“å…¥æŸäºŒå‰æ ‘çš„å‰åºéå†å’Œä¸­åºéå†çš„ç»“æœï¼Œè¯·æ„å»ºè¯¥äºŒå‰æ ‘å¹¶è¿”å›å…¶æ ¹èŠ‚ç‚¹ã€‚</p>
<p>å‡è®¾è¾“å…¥çš„å‰åºéå†å’Œä¸­åºéå†çš„ç»“æœä¸­éƒ½ä¸å«é‡å¤çš„æ•°å­—ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/tree.jpg" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: preorder = [3,9,20,15,7], inorder = [9,3,15,20,7]</span><br><span class="line">Output: [3,9,20,null,null,15,7]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: preorder = [-1], inorder = [-1]</span><br><span class="line">Output: [-1]</span><br></pre></td></tr></table></figure>



<p><strong>é™åˆ¶ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0 &lt;= èŠ‚ç‚¹ä¸ªæ•° &lt;= 5000</span><br></pre></td></tr></table></figure>



<p><strong>æ³¨æ„</strong>ï¼šæœ¬é¢˜ä¸ä¸»ç«™ 105 é¢˜é‡å¤ï¼š<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/construct-binary-tree-from-preorder-and-inorder-traversal/">https://leetcode-cn.com/problems/construct-binary-tree-from-preorder-and-inorder-traversal/</a></p>
<p>Related Topics</p>
<p>æ ‘</p>
<p>æ•°ç»„</p>
<p>å“ˆå¸Œè¡¨</p>
<p>åˆ†æ²»</p>
<p>äºŒå‰æ ‘</p>
<p>ğŸ‘ 941</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<ul>
<li>ç¬¬ä¸€æ­¥ï¼šå¦‚æœæ•°ç»„å¤§å°ä¸ºé›¶çš„è¯ï¼Œè¯´æ˜æ˜¯ç©ºèŠ‚ç‚¹äº†ã€‚</li>
<li>ç¬¬äºŒæ­¥ï¼šå¦‚æœä¸ä¸ºç©ºï¼Œé‚£ä¹ˆå–å‰åºæ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ ä½œä¸ºèŠ‚ç‚¹å…ƒç´ ã€‚</li>
<li>ç¬¬ä¸‰æ­¥ï¼šæ‰¾åˆ°å‰åºæ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ åœ¨ä¸­åºæ•°ç»„çš„ä½ç½®ï¼Œä½œä¸ºåˆ‡å‰²ç‚¹</li>
<li>ç¬¬å››æ­¥ï¼šåˆ‡å‰²ä¸­åºæ•°ç»„ï¼Œåˆ‡æˆä¸­åºå·¦æ•°ç»„å’Œä¸­åºå³æ•°ç»„ ï¼ˆé¡ºåºåˆ«æåäº†ï¼Œä¸€å®šæ˜¯å…ˆåˆ‡ä¸­åºæ•°ç»„ï¼‰</li>
<li>ç¬¬äº”æ­¥ï¼šåˆ‡å‰²å‰åºæ•°ç»„ï¼Œåˆ‡æˆå‰åºå·¦æ•°ç»„å’Œå‰åºå³æ•°ç»„</li>
<li>ç¬¬å…­æ­¥ï¼šé€’å½’å¤„ç†å·¦åŒºé—´å’Œå³åŒºé—´</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/image-20221126100453967.png" alt="image-20221126100453967"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;Integer, Integer&gt; map;<span class="comment">// æ–¹ä¾¿æ ¹æ®æ•°å€¼æŸ¥æ‰¾ä½ç½®</span></span><br><span class="line"><span class="keyword">public</span> TreeNode <span class="title function_">buildTree</span><span class="params">(<span class="type">int</span>[] preorder, <span class="type">int</span>[] inorder)</span> &#123;</span><br><span class="line">    map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; inorder.length; i++) &#123; <span class="comment">// ç”¨mapä¿å­˜ä¸­åºåºåˆ—çš„æ•°å€¼å¯¹åº”ä½ç½®</span></span><br><span class="line">        map.put(inorder[i], i);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> findNode(preorder, <span class="number">0</span>, preorder.length, inorder, <span class="number">0</span>, inorder.length);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> TreeNode <span class="title function_">findNode</span><span class="params">(<span class="type">int</span>[] preorder, <span class="type">int</span> preBegin, <span class="type">int</span> preEnd, <span class="type">int</span>[] inorder, <span class="type">int</span> inBegin, <span class="type">int</span> inEnd)</span> &#123;</span><br><span class="line">    <span class="comment">// ä¿è¯åŒºé—´æ˜¯å·¦é—­å³å¼€çš„[)</span></span><br><span class="line">    <span class="keyword">if</span> (preBegin &gt;= preEnd || inBegin &gt;= inEnd) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> <span class="variable">rootIndex</span> <span class="operator">=</span> map.get(preorder[preBegin]);<span class="comment">// æ‰¾åˆ°å‰åºéå†çš„ç¬¬ä¸€ä¸ªå…ƒç´ åœ¨ä¸­åºéå†ä¸­çš„ä½ç½®</span></span><br><span class="line">    <span class="type">TreeNode</span> <span class="variable">root</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TreeNode</span>(preorder[preBegin]);</span><br><span class="line">    <span class="type">int</span> <span class="variable">lenOfLeft</span> <span class="operator">=</span> rootIndex - inBegin; <span class="comment">// ä¿å­˜ä¸­åºå·¦å­æ ‘ä¸ªæ•°ï¼Œç”¨æ¥ç¡®å®šå‰åºæ•°åˆ—çš„ä¸ªæ•°</span></span><br><span class="line">    root.left = findNode(preorder, preBegin + <span class="number">1</span>, preBegin + <span class="number">1</span> + lenOfLeft,</span><br><span class="line">                        inorder, inBegin, rootIndex);</span><br><span class="line">    root.right = findNode(preorder, preBegin + <span class="number">1</span> + lenOfLeft, preEnd,</span><br><span class="line">                        inorder, rootIndex + <span class="number">1</span>, inEnd);</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="9-2ã€106-ä»ä¸­åºä¸ååºéå†åºåˆ—æ„é€ äºŒå‰æ ‘"><a href="#9-2ã€106-ä»ä¸­åºä¸ååºéå†åºåˆ—æ„é€ äºŒå‰æ ‘" class="headerlink" title="9.2ã€106.ä»ä¸­åºä¸ååºéå†åºåˆ—æ„é€ äºŒå‰æ ‘"></a>9.2ã€106.ä»ä¸­åºä¸ååºéå†åºåˆ—æ„é€ äºŒå‰æ ‘</h3><p>è§£é¢˜æ€è·¯ï¼š</p>
<ul>
<li>ç¬¬ä¸€æ­¥ï¼šå¦‚æœæ•°ç»„å¤§å°ä¸ºé›¶çš„è¯ï¼Œè¯´æ˜æ˜¯ç©ºèŠ‚ç‚¹äº†ã€‚</li>
<li>ç¬¬äºŒæ­¥ï¼šå¦‚æœä¸ä¸ºç©ºï¼Œé‚£ä¹ˆå–ååºæ•°ç»„æœ€åä¸€ä¸ªå…ƒç´ ä½œä¸ºèŠ‚ç‚¹å…ƒç´ ã€‚</li>
<li>ç¬¬ä¸‰æ­¥ï¼šæ‰¾åˆ°ååºæ•°ç»„æœ€åä¸€ä¸ªå…ƒç´ åœ¨ä¸­åºæ•°ç»„çš„ä½ç½®ï¼Œä½œä¸ºåˆ‡å‰²ç‚¹</li>
<li>ç¬¬å››æ­¥ï¼šåˆ‡å‰²ä¸­åºæ•°ç»„ï¼Œåˆ‡æˆä¸­åºå·¦æ•°ç»„å’Œä¸­åºå³æ•°ç»„ ï¼ˆé¡ºåºåˆ«æåäº†ï¼Œä¸€å®šæ˜¯å…ˆåˆ‡ä¸­åºæ•°ç»„ï¼‰</li>
<li>ç¬¬äº”æ­¥ï¼šåˆ‡å‰²ååºæ•°ç»„ï¼Œåˆ‡æˆååºå·¦æ•°ç»„å’Œååºå³æ•°ç»„</li>
<li>ç¬¬å…­æ­¥ï¼šé€’å½’å¤„ç†å·¦åŒºé—´å’Œå³åŒºé—´</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/image-20221126100223163.png" alt="image-20221126100223163"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;Integer, Integer&gt; map;  <span class="comment">// æ–¹ä¾¿æ ¹æ®æ•°å€¼æŸ¥æ‰¾ä½ç½®</span></span><br><span class="line"><span class="keyword">public</span> TreeNode <span class="title function_">buildTree</span><span class="params">(<span class="type">int</span>[] inorder, <span class="type">int</span>[] postorder)</span> &#123;</span><br><span class="line">    map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; inorder.length; i++) &#123; <span class="comment">// ç”¨mapä¿å­˜ä¸­åºåºåˆ—çš„æ•°å€¼å¯¹åº”ä½ç½®</span></span><br><span class="line">        map.put(inorder[i], i);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> findNode(inorder,  <span class="number">0</span>, inorder.length, postorder,<span class="number">0</span>, postorder.length);  <span class="comment">// å‰é—­åå¼€</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> TreeNode <span class="title function_">findNode</span><span class="params">(<span class="type">int</span>[] inorder, <span class="type">int</span> inBegin, <span class="type">int</span> inEnd, <span class="type">int</span>[] postorder, <span class="type">int</span> postBegin, <span class="type">int</span> postEnd)</span> &#123;</span><br><span class="line">    <span class="comment">// å‚æ•°é‡Œçš„èŒƒå›´éƒ½æ˜¯å‰é—­åå¼€</span></span><br><span class="line">    <span class="keyword">if</span> (inBegin &gt;= inEnd || postBegin &gt;= postEnd) &#123;  <span class="comment">// ä¸æ»¡è¶³å·¦é—­å³å¼€ï¼Œè¯´æ˜æ²¡æœ‰å…ƒç´ ï¼Œè¿”å›ç©ºæ ‘</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> <span class="variable">rootIndex</span> <span class="operator">=</span> map.get(postorder[postEnd - <span class="number">1</span>]);  <span class="comment">// æ‰¾åˆ°ååºéå†çš„æœ€åä¸€ä¸ªå…ƒç´ åœ¨ä¸­åºéå†ä¸­çš„ä½ç½®</span></span><br><span class="line">    <span class="type">TreeNode</span> <span class="variable">root</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TreeNode</span>(inorder[rootIndex]);  <span class="comment">// æ„é€ ç»“ç‚¹</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">lenOfLeft</span> <span class="operator">=</span> rootIndex - inBegin;  <span class="comment">// ä¿å­˜ä¸­åºå·¦å­æ ‘ä¸ªæ•°ï¼Œç”¨æ¥ç¡®å®šååºæ•°åˆ—çš„ä¸ªæ•°</span></span><br><span class="line">    root.left = findNode(inorder, inBegin, rootIndex,</span><br><span class="line">                         postorder, postBegin, postBegin + lenOfLeft);</span><br><span class="line">    root.right = findNode(inorder, rootIndex + <span class="number">1</span>, inEnd,</span><br><span class="line">                          postorder, postBegin + lenOfLeft, postEnd - <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="9-3ã€å‰‘æŒ‡-Offer-16-æ•°å€¼çš„æ•´æ•°æ¬¡æ–¹"><a href="#9-3ã€å‰‘æŒ‡-Offer-16-æ•°å€¼çš„æ•´æ•°æ¬¡æ–¹" class="headerlink" title="9.3ã€å‰‘æŒ‡ Offer 16. æ•°å€¼çš„æ•´æ•°æ¬¡æ–¹"></a>9.3ã€å‰‘æŒ‡ Offer 16. æ•°å€¼çš„æ•´æ•°æ¬¡æ–¹</h3><p>å®ç° <a target="_blank" rel="noopener" href="https://www.cplusplus.com/reference/valarray/pow/">pow(<em>x</em>, <em>n</em>)</a> ï¼Œå³è®¡ç®— x çš„ n æ¬¡å¹‚å‡½æ•°ï¼ˆå³ï¼Œx^nï¼‰ã€‚ä¸å¾—ä½¿ç”¨åº“å‡½æ•°ï¼ŒåŒæ—¶ä¸éœ€è¦è€ƒè™‘å¤§æ•°é—®é¢˜ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šx = 2.00000, n = 10</span><br><span class="line">è¾“å‡ºï¼š1024.00000</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šx = 2.10000, n = 3</span><br><span class="line">è¾“å‡ºï¼š9.26100</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šx = 2.00000, n = -2</span><br><span class="line">è¾“å‡ºï¼š0.25000</span><br><span class="line">è§£é‡Šï¼š2-2 = 1/22 = 1/4 = 0.25</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>-100.0 &lt; x &lt; 100.0</code></li>
<li><code>-231 &lt;= n &lt;= 231-1</code></li>
<li><code>-104 &lt;= xn &lt;= 104</code></li>
</ul>
<p>æ³¨æ„ï¼šæœ¬é¢˜ä¸ä¸»ç«™ 50 é¢˜ç›¸åŒï¼š<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/powx-n/">https://leetcode-cn.com/problems/powx-n/</a></p>
<p>Related Topics</p>
<p>é€’å½’</p>
<p>æ•°å­¦</p>
<p>ğŸ‘ 365</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<h4 id="æš´åŠ›è§£æ³•"><a href="#æš´åŠ›è§£æ³•" class="headerlink" title="æš´åŠ›è§£æ³•"></a>æš´åŠ›è§£æ³•</h4><p>æ±‚ x^nï¼Œæœ€ç®€å•çš„æ–¹æ³•æ˜¯é€šè¿‡å¾ªç¯å°† nn ä¸ª xx ä¹˜èµ·æ¥ï¼Œä¾æ¬¡æ±‚ x^1, x^2, â€¦, x^{n-1}, x^n æ—¶é—´å¤æ‚åº¦ä¸º O(n)ã€‚</p>
<h4 id="å¿«é€Ÿå¹‚è§£æï¼ˆåˆ†æ²»æ³•è§’åº¦ï¼‰"><a href="#å¿«é€Ÿå¹‚è§£æï¼ˆåˆ†æ²»æ³•è§’åº¦ï¼‰" class="headerlink" title="å¿«é€Ÿå¹‚è§£æï¼ˆåˆ†æ²»æ³•è§’åº¦ï¼‰"></a>å¿«é€Ÿå¹‚è§£æï¼ˆåˆ†æ²»æ³•è§’åº¦ï¼‰</h4><blockquote>
<p>å¿«é€Ÿå¹‚å®é™…ä¸Šæ˜¯åˆ†æ²»æ€æƒ³çš„ä¸€ç§åº”ç”¨ã€‚</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/image-20221126103110506.png" alt="image-20221126103110506"></p>
<blockquote>
<p>è§‚å¯Ÿå‘ç°ï¼Œå½“ nä¸ºå¥‡æ•°æ—¶ï¼ŒäºŒåˆ†åä¼šå¤šå‡ºä¸€é¡¹ x ã€‚</p>
</blockquote>
<p>å¹‚ç»“æœè·å–ï¼š</p>
<ul>
<li>æ ¹æ®æ¨å¯¼ï¼Œå¯é€šè¿‡å¾ªç¯ x &#x3D; x^2,æ¯æ¬¡æŠŠå¹‚ä» n é™è‡³ n&#x2F;&#x2F;2ï¼Œç›´è‡³å°†å¹‚é™ä¸º0 ï¼›</li>
<li>è®¾ res&#x3D;1ï¼Œåˆ™åˆå§‹çŠ¶æ€ x^n &#x3D; x^n Ã—res ã€‚åœ¨å¾ªç¯äºŒåˆ†æ—¶ï¼Œæ¯å½“ n ä¸ºå¥‡æ•°æ—¶ï¼Œå°†å¤šå‡ºçš„ä¸€é¡¹ x ä¹˜å…¥ resï¼Œåˆ™æœ€ç»ˆå¯åŒ–è‡³ x^n &#x3D; x^0 Ã—res&#x3D;res ï¼Œè¿”å› res å³å¯ã€‚<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1599885604-YzlkAN-Picture2.png" alt="Picture2.png"></li>
</ul>
<p>è½¬åŒ–ä¸ºä½è¿ç®—ï¼š</p>
<ul>
<li>å‘ä¸‹æ•´é™¤ n&#x2F;&#x2F;2 ç­‰ä»·äº å³ç§»ä¸€ä½ n&gt;&gt;1 ï¼›</li>
<li>å–ä½™æ•° n%2 ç­‰ä»·äº åˆ¤æ–­äºŒè¿›åˆ¶æœ€å³ä½ n&amp;1 ï¼›</li>
</ul>
<h4 id="å¿«é€Ÿå¹‚è§£æï¼ˆäºŒè¿›åˆ¶è§’åº¦ï¼‰"><a href="#å¿«é€Ÿå¹‚è§£æï¼ˆäºŒè¿›åˆ¶è§’åº¦ï¼‰" class="headerlink" title="å¿«é€Ÿå¹‚è§£æï¼ˆäºŒè¿›åˆ¶è§’åº¦ï¼‰"></a>å¿«é€Ÿå¹‚è§£æï¼ˆäºŒè¿›åˆ¶è§’åº¦ï¼‰</h4><blockquote>
<p>åˆ©ç”¨åè¿›åˆ¶æ•°å­— nçš„äºŒè¿›åˆ¶è¡¨ç¤ºï¼Œå¯å¯¹å¿«é€Ÿå¹‚è¿›è¡Œæ•°å­¦åŒ–è§£é‡Šã€‚</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/image-20221126104107284.png" alt="image-20221126104107284"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1599885604-yDzVYK-Picture1.png" alt="Picture1.png"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/image-20221126104208372.png" alt="image-20221126104208372"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">myPow</span><span class="params">(<span class="type">double</span> x, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(x == <span class="number">0.0f</span>) <span class="keyword">return</span> <span class="number">0.0d</span>;</span><br><span class="line">        <span class="type">long</span> <span class="variable">b</span> <span class="operator">=</span> n;</span><br><span class="line">        <span class="type">double</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">1.0</span>;</span><br><span class="line">        <span class="keyword">if</span>(b &lt; <span class="number">0</span>) &#123;</span><br><span class="line">            x = <span class="number">1</span> / x;</span><br><span class="line">            b = -b;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(b &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span>((b &amp; <span class="number">1</span>) == <span class="number">1</span>) res *= x;</span><br><span class="line">            x *= x;</span><br><span class="line">            b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="9-4ã€å‰‘æŒ‡-Offer-17-æ‰“å°ä»-1-åˆ°æœ€å¤§çš„-n-ä½æ•°"><a href="#9-4ã€å‰‘æŒ‡-Offer-17-æ‰“å°ä»-1-åˆ°æœ€å¤§çš„-n-ä½æ•°" class="headerlink" title="9.4ã€å‰‘æŒ‡ Offer 17. æ‰“å°ä» 1 åˆ°æœ€å¤§çš„ n ä½æ•°"></a>9.4ã€å‰‘æŒ‡ Offer 17. æ‰“å°ä» 1 åˆ°æœ€å¤§çš„ n ä½æ•°</h3><p>è¾“å…¥æ•°å­— <code>n</code>ï¼ŒæŒ‰é¡ºåºæ‰“å°å‡ºä» 1 åˆ°æœ€å¤§çš„ n ä½åè¿›åˆ¶æ•°ã€‚æ¯”å¦‚è¾“å…¥ 3ï¼Œåˆ™æ‰“å°å‡º 1ã€2ã€3 ä¸€ç›´åˆ°æœ€å¤§çš„ 3 ä½æ•° 999ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: n = 1</span><br><span class="line">è¾“å‡º: [1,2,3,4,5,6,7,8,9]</span><br></pre></td></tr></table></figure>



<p>è¯´æ˜ï¼š</p>
<ul>
<li>ç”¨è¿”å›ä¸€ä¸ªæ•´æ•°åˆ—è¡¨æ¥ä»£æ›¿æ‰“å°</li>
<li>n ä¸ºæ­£æ•´æ•°</li>
</ul>
<p>Related Topics</p>
<p>æ•°ç»„</p>
<p>æ•°å­¦</p>
<p>ğŸ‘ 265</p>
<p>ğŸ‘ 0</p>
<p>è§£é¢˜æ€è·¯ï¼š<br>é¢˜ç›®è¦æ±‚æ‰“å° â€œä» 1 è‡³æœ€å¤§çš„ n ä½æ•°çš„åˆ—è¡¨â€ ï¼Œå› æ­¤éœ€è€ƒè™‘ä»¥ä¸‹ä¸¤ä¸ªé—®é¢˜ï¼š</p>
<ol>
<li>æœ€å¤§çš„ n ä½æ•°ï¼ˆè®°ä¸º end ï¼‰å’Œä½æ•° n çš„å…³ç³»ï¼š ä¾‹å¦‚æœ€å¤§çš„ 1 ä½æ•°æ˜¯ 9 ï¼Œæœ€å¤§çš„ 2 ä½æ•°æ˜¯ 99 ï¼Œæœ€å¤§çš„ 3 ä½æ•°æ˜¯ 999ã€‚åˆ™å¯æ¨å‡ºå…¬å¼ï¼šend &#x3D; 10^n - 1</li>
<li>å¤§æ•°è¶Šç•Œé—®é¢˜ï¼š å½“ n è¾ƒå¤§æ—¶ï¼Œend ä¼šè¶…å‡º int32 æ•´å‹çš„å–å€¼èŒƒå›´ï¼Œè¶…å‡ºå–å€¼èŒƒå›´çš„æ•°å­—æ— æ³•æ­£å¸¸å­˜å‚¨ã€‚ä½†ç”±äºæœ¬é¢˜è¦æ±‚è¿”å› int ç±»å‹æ•°ç»„ï¼Œç›¸å½“äºé»˜è®¤æ‰€æœ‰æ•°å­—éƒ½åœ¨ int32 æ•´å‹å–å€¼èŒƒå›´å†…ï¼Œå› æ­¤ä¸è€ƒè™‘å¤§æ•°è¶Šç•Œé—®é¢˜ã€‚</li>
</ol>
<p>å› æ­¤ï¼Œåªéœ€å®šä¹‰åŒºé—´ [1, 10^n - 1]å’Œæ­¥é•¿ 1 ï¼Œé€šè¿‡ for å¾ªç¯ç”Ÿæˆç»“æœåˆ—è¡¨ res å¹¶è¿”å›å³å¯ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span>[] printNumbers(<span class="type">int</span> n) &#123;</span><br><span class="line">    <span class="type">int</span>[] res = <span class="keyword">new</span> <span class="title class_">int</span>[(<span class="type">int</span>) Math.pow(<span class="number">10</span>, n) - <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; res.length; i++) &#123;</span><br><span class="line">        res[i] = i + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¤æ‚åº¦åˆ†æï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(10^n)ï¼š ç”Ÿæˆé•¿åº¦ä¸º 10^nçš„åˆ—è¡¨éœ€ä½¿ç”¨ O(10^n)æ—¶é—´ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(1)ï¼š å»ºç«‹åˆ—è¡¨éœ€ä½¿ç”¨ O(1) å¤§å°çš„é¢å¤–ç©ºé—´ï¼ˆ åˆ—è¡¨ä½œä¸ºè¿”å›ç»“æœï¼Œä¸è®¡å…¥é¢å¤–ç©ºé—´ ï¼‰ã€‚</li>
</ul>
<hr>
<h4 id="å¤§æ•°æ‰“å°è§£æ³•ï¼š"><a href="#å¤§æ•°æ‰“å°è§£æ³•ï¼š" class="headerlink" title="å¤§æ•°æ‰“å°è§£æ³•ï¼š"></a>å¤§æ•°æ‰“å°è§£æ³•ï¼š</h4><p>å®é™…ä¸Šï¼Œæœ¬é¢˜çš„ä¸»è¦è€ƒç‚¹æ˜¯å¤§æ•°è¶Šç•Œæƒ…å†µä¸‹çš„æ‰“å°ã€‚éœ€è¦è§£å†³ä»¥ä¸‹ä¸‰ä¸ªé—®é¢˜ï¼š</p>
<ol>
<li>è¡¨ç¤ºå¤§æ•°çš„å˜é‡ç±»å‹ï¼š<br>æ— è®ºæ˜¯ short &#x2F; int &#x2F; long â€¦ ä»»æ„å˜é‡ç±»å‹ï¼Œæ•°å­—çš„å–å€¼èŒƒå›´éƒ½æ˜¯æœ‰é™çš„ã€‚å› æ­¤ï¼Œå¤§æ•°çš„è¡¨ç¤ºåº”ç”¨å­—ç¬¦ä¸² String ç±»å‹ã€‚</li>
<li>ç”Ÿæˆæ•°å­—çš„å­—ç¬¦ä¸²é›†ï¼š<br>ä½¿ç”¨ int ç±»å‹æ—¶ï¼Œæ¯è½®å¯é€šè¿‡ +1+1 ç”Ÿæˆä¸‹ä¸ªæ•°å­—ï¼Œè€Œæ­¤æ–¹æ³•æ— æ³•åº”ç”¨è‡³ String ç±»å‹ã€‚å¹¶ä¸”ï¼Œ String ç±»å‹çš„æ•°å­—çš„è¿›ä½æ“ä½œæ•ˆç‡è¾ƒä½ï¼Œä¾‹å¦‚ â€œ9999â€ è‡³ â€œ10000â€ éœ€è¦ä»ä¸ªä½åˆ°åƒä½å¾ªç¯åˆ¤æ–­ï¼Œè¿›ä½ 4 æ¬¡ã€‚</li>
</ol>
<p>è§‚å¯Ÿå¯çŸ¥ï¼Œç”Ÿæˆçš„åˆ—è¡¨å®é™…ä¸Šæ˜¯ nn ä½ 00 - 99 çš„ å…¨æ’åˆ— ï¼Œå› æ­¤å¯é¿å¼€è¿›ä½æ“ä½œï¼Œé€šè¿‡é€’å½’ç”Ÿæˆæ•°å­—çš„ String åˆ—è¡¨ã€‚</p>
<ol start="3">
<li>é€’å½’ç”Ÿæˆå…¨æ’åˆ—ï¼š<br>åŸºäºåˆ†æ²»ç®—æ³•çš„æ€æƒ³ï¼Œå…ˆå›ºå®šé«˜ä½ï¼Œå‘ä½ä½é€’å½’ï¼Œå½“ä¸ªä½å·²è¢«å›ºå®šæ—¶ï¼Œæ·»åŠ æ•°å­—çš„å­—ç¬¦ä¸²ã€‚ä¾‹å¦‚å½“ n &#x3D; 2n&#x3D;2 æ—¶ï¼ˆæ•°å­—èŒƒå›´ 1 - 991âˆ’99 ï¼‰ï¼Œå›ºå®šåä½ä¸º 00 - 99 ï¼ŒæŒ‰é¡ºåºä¾æ¬¡å¼€å¯é€’å½’ï¼Œå›ºå®šä¸ªä½ 00 - 99 ï¼Œç»ˆæ­¢é€’å½’å¹¶æ·»åŠ æ•°å­—å­—ç¬¦ä¸²ã€‚</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/83f4b5930ddc1d42b05c724ea2950ee7f00427b11150c86b45bd88405f8c7c87-Picture1.png" alt="Picture1.png"></p>
<p>åˆæ­¥ç¼–å†™å…¨æ’åˆ—ä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    StringBuilder res;</span><br><span class="line">    <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>, n;</span><br><span class="line">    <span class="type">char</span>[] num, loop = &#123;<span class="string">&#x27;0&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;3&#x27;</span>, <span class="string">&#x27;4&#x27;</span>, <span class="string">&#x27;5&#x27;</span>, <span class="string">&#x27;6&#x27;</span>, <span class="string">&#x27;7&#x27;</span>, <span class="string">&#x27;8&#x27;</span>, <span class="string">&#x27;9&#x27;</span>&#125;;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">printNumbers</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.n = n;</span><br><span class="line">        res = <span class="keyword">new</span> <span class="title class_">StringBuilder</span>(); <span class="comment">// æ•°å­—å­—ç¬¦ä¸²é›†</span></span><br><span class="line">        num = <span class="keyword">new</span> <span class="title class_">char</span>[n]; <span class="comment">// å®šä¹‰é•¿åº¦ä¸º n çš„å­—ç¬¦åˆ—è¡¨</span></span><br><span class="line">        dfs(<span class="number">0</span>); <span class="comment">// å¼€å¯å…¨æ’åˆ—é€’å½’</span></span><br><span class="line">        res.deleteCharAt(res.length() - <span class="number">1</span>); <span class="comment">// åˆ é™¤æœ€åå¤šä½™çš„é€—å·</span></span><br><span class="line">        <span class="keyword">return</span> res.toString(); <span class="comment">// è½¬åŒ–ä¸ºå­—ç¬¦ä¸²å¹¶è¿”å›</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(x == n) &#123; <span class="comment">// ç»ˆæ­¢æ¡ä»¶ï¼šå·²å›ºå®šå®Œæ‰€æœ‰ä½</span></span><br><span class="line">            res.append(String.valueOf(num) + <span class="string">&quot;,&quot;</span>); <span class="comment">// æ‹¼æ¥ num å¹¶æ·»åŠ è‡³ res å°¾éƒ¨ï¼Œä½¿ç”¨é€—å·éš”å¼€</span></span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">char</span> i : loop) &#123; <span class="comment">// éå† â€˜0â€˜ - â€™9â€˜</span></span><br><span class="line">            num[x] = i; <span class="comment">// å›ºå®šç¬¬ x ä½ä¸º i</span></span><br><span class="line">            dfs(x + <span class="number">1</span>); <span class="comment">// å¼€å¯å›ºå®šç¬¬ x + 1 ä½</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨æ­¤æ–¹æ³•ä¸‹ï¼Œå„æ•°å­—å­—ç¬¦ä¸²è¢«é€—å·éš”å¼€ï¼Œå…±åŒç»„æˆé•¿å­—ç¬¦ä¸²ã€‚è¿”å›çš„æ•°å­—é›†å­—ç¬¦ä¸²å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = 1</span><br><span class="line">è¾“å‡ºï¼š&quot;0,1,2,3,4,5,6,7,8,9&quot;</span><br><span class="line"></span><br><span class="line">è¾“å…¥ï¼šn = 2</span><br><span class="line">è¾“å‡ºï¼š&quot;00,01,02,...,10,11,12,...,97,98,99&quot;</span><br><span class="line"></span><br><span class="line">è¾“å…¥ï¼šn = 3</span><br><span class="line">è¾“å‡ºï¼š&quot;000,001,002,...,100,101,102,...,997,998,999&quot;</span><br></pre></td></tr></table></figure>


<p>è§‚å¯Ÿå¯çŸ¥ï¼Œå½“å‰çš„ç”Ÿæˆæ–¹æ³•ä»æœ‰ä»¥ä¸‹é—®é¢˜ï¼š</p>
<ol>
<li>è¯¸å¦‚ 00, 01, 02,â‹¯ åº”æ˜¾ç¤ºä¸º 0, 1, 2, â‹¯ ï¼Œå³åº” åˆ é™¤é«˜ä½å¤šä½™çš„ 0 ;</li>
<li>æ­¤æ–¹æ³•ä» 00 å¼€å§‹ç”Ÿæˆï¼Œè€Œé¢˜ç›®è¦æ±‚ åˆ—è¡¨ä» 11 å¼€å§‹ ï¼›</li>
</ol>
<p>ä»¥ä¸Šä¸¤ä¸ªé—®é¢˜çš„è§£å†³æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<ol>
<li>åˆ é™¤é«˜ä½å¤šä½™çš„ 0 ï¼š</li>
</ol>
<ul>
<li><p>å­—ç¬¦ä¸²å·¦è¾¹ç•Œå®šä¹‰ï¼š å£°æ˜å˜é‡ start è§„å®šå­—ç¬¦ä¸²çš„å·¦è¾¹ç•Œï¼Œä»¥ä¿è¯æ·»åŠ çš„æ•°å­—å­—ç¬¦ä¸² num[start:] ä¸­æ— é«˜ä½å¤šä½™çš„ 0 ã€‚ä¾‹å¦‚å½“ n &#x3D; 2 æ—¶ï¼Œ 1 - 9 æ—¶ start &#x3D; 1 ï¼Œ 10 - 99 æ—¶ start &#x3D; 0s ã€‚</p>
</li>
<li><p>å·¦è¾¹ç•Œ start å˜åŒ–è§„å¾‹ï¼š è§‚å¯Ÿå¯çŸ¥ï¼Œå½“è¾“å‡ºæ•°å­—çš„æ‰€æœ‰ä½éƒ½æ˜¯ 9 æ—¶ï¼Œåˆ™ä¸‹ä¸ªæ•°å­—éœ€è¦å‘æ›´é«˜ä½è¿› 1 ï¼Œæ­¤æ—¶å·¦è¾¹ç•Œ start éœ€è¦å‡ 1 ï¼ˆå³é«˜ä½å¤šä½™çš„ 0 å‡å°‘ä¸€ä¸ªï¼‰ã€‚ä¾‹å¦‚å½“ n &#x3D; 3 ï¼ˆæ•°å­—èŒƒå›´ 1 - 999 ï¼‰æ—¶ï¼Œå·¦è¾¹ç•Œ start éœ€è¦å‡ 1 çš„æƒ…å†µæœ‰ï¼š â€œ009â€ è¿›ä½è‡³ â€œ010â€ ï¼Œ â€œ099â€ è¿›ä½è‡³ â€œ100â€ ã€‚è®¾æ•°å­—å„ä½ä¸­ 9 çš„æ•°é‡ä¸º nineï¼Œæ‰€æœ‰ä½éƒ½ä¸º 9 çš„åˆ¤æ–­æ¡ä»¶å¯ç”¨ä»¥ä¸‹å…¬å¼è¡¨ç¤ºï¼š</p>
</li>
</ul>
<p>â€‹																						n - start &#x3D; nine</p>
<p>â€‹		- ç»Ÿè®¡ nine çš„æ–¹æ³•ï¼š å›ºå®šç¬¬ xx ä½æ—¶ï¼Œå½“ i&#x3D;9 åˆ™æ‰§è¡Œ nine &#x3D; nine + 1 ï¼Œå¹¶åœ¨å›æº¯å‰æ¢å¤ nine &#x3D; nine - 1ã€‚</p>
<ol start="2">
<li>åˆ—è¡¨ä» 1 å¼€å§‹ï¼š</li>
</ol>
<ul>
<li>åœ¨ä»¥ä¸Šæ–¹æ³•çš„åŸºç¡€ä¸Šï¼Œæ·»åŠ æ•°å­—å­—ç¬¦ä¸²å‰åˆ¤æ–­å…¶æ˜¯å¦ä¸º â€œ0â€ ï¼Œè‹¥ä¸º â€œ0â€ åˆ™ç›´æ¥è·³è¿‡ã€‚</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/98054fcc5e43d84baba54224be52c5cd35b23fcc8dca3594e1068e6095f7b79a-Picture10.png" alt="img"></p>
<p>å¤æ‚åº¦åˆ†æï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(10^n)ï¼š é€’å½’çš„ç”Ÿæˆçš„æ’åˆ—çš„æ•°é‡ä¸º 10^n - 1</li>
<li>ç©ºé—´å¤æ‚åº¦ O(10^n)ï¼š ç»“æœåˆ—è¡¨ resres çš„é•¿åº¦ä¸º 10^n - 1 ï¼Œå„æ•°å­—å­—ç¬¦ä¸²çš„é•¿åº¦ä¸º 1, 2, â€¦, nï¼Œå› æ­¤å ç”¨ O(10^n) å¤§å°çš„é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    StringBuilder res;</span><br><span class="line">    <span class="type">int</span> <span class="variable">nine</span> <span class="operator">=</span> <span class="number">0</span>, count = <span class="number">0</span>, start, n;</span><br><span class="line">    <span class="type">char</span>[] num, loop = &#123;<span class="string">&#x27;0&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;3&#x27;</span>, <span class="string">&#x27;4&#x27;</span>, <span class="string">&#x27;5&#x27;</span>, <span class="string">&#x27;6&#x27;</span>, <span class="string">&#x27;7&#x27;</span>, <span class="string">&#x27;8&#x27;</span>, <span class="string">&#x27;9&#x27;</span>&#125;;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">printNumbers</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.n = n;</span><br><span class="line">        res = <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        num = <span class="keyword">new</span> <span class="title class_">char</span>[n];</span><br><span class="line">        start = n - <span class="number">1</span>;</span><br><span class="line">        dfs(<span class="number">0</span>);</span><br><span class="line">        res.deleteCharAt(res.length() - <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span> res.toString();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(x == n) &#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> String.valueOf(num).substring(start);</span><br><span class="line">            <span class="keyword">if</span>(!s.equals(<span class="string">&quot;0&quot;</span>)) res.append(s + <span class="string">&quot;,&quot;</span>);</span><br><span class="line">            <span class="keyword">if</span>(n - start == nine) start--;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">char</span> i : loop) &#123;</span><br><span class="line">            <span class="keyword">if</span>(i == <span class="string">&#x27;9&#x27;</span>) nine++;</span><br><span class="line">            num[x] = i;</span><br><span class="line">            dfs(x + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        nine--;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿”å›æ•°ç»„æ ¼å¼ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="type">int</span>[] res;</span><br><span class="line">    <span class="type">int</span> <span class="variable">nine</span> <span class="operator">=</span> <span class="number">0</span>, count = <span class="number">0</span>, start, n;</span><br><span class="line">    <span class="type">char</span>[] num, loop = &#123;<span class="string">&#x27;0&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;3&#x27;</span>, <span class="string">&#x27;4&#x27;</span>, <span class="string">&#x27;5&#x27;</span>, <span class="string">&#x27;6&#x27;</span>, <span class="string">&#x27;7&#x27;</span>, <span class="string">&#x27;8&#x27;</span>, <span class="string">&#x27;9&#x27;</span>&#125;;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[] printNumbers(<span class="type">int</span> n) &#123;</span><br><span class="line">        <span class="built_in">this</span>.n = n;</span><br><span class="line">        res = <span class="keyword">new</span> <span class="title class_">int</span>[(<span class="type">int</span>)Math.pow(<span class="number">10</span>, n) - <span class="number">1</span>];</span><br><span class="line">        num = <span class="keyword">new</span> <span class="title class_">char</span>[n];</span><br><span class="line">        start = n - <span class="number">1</span>;</span><br><span class="line">        dfs(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(x == n) &#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> String.valueOf(num).substring(start);<span class="comment">//å–æ‰å‰è¾¹å¤šä½™çš„0</span></span><br><span class="line">            <span class="keyword">if</span>(!s.equals(<span class="string">&quot;0&quot;</span>)) res[count++] = Integer.parseInt(s);<span class="comment">//ä»1å¼€å§‹</span></span><br><span class="line">            <span class="keyword">if</span>(n - start == nine) start--;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">char</span> i : loop) &#123;</span><br><span class="line">            <span class="keyword">if</span>(i == <span class="string">&#x27;9&#x27;</span>) nine++;</span><br><span class="line">            num[x] = i;</span><br><span class="line">            dfs(x + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        nine--;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="9-5ã€å‰‘æŒ‡-Offer-33-äºŒå‰æœç´¢æ ‘çš„ååºéå†åºåˆ—"><a href="#9-5ã€å‰‘æŒ‡-Offer-33-äºŒå‰æœç´¢æ ‘çš„ååºéå†åºåˆ—" class="headerlink" title="9.5ã€å‰‘æŒ‡ Offer 33. äºŒå‰æœç´¢æ ‘çš„ååºéå†åºåˆ—"></a>9.5ã€å‰‘æŒ‡ Offer 33. äºŒå‰æœç´¢æ ‘çš„ååºéå†åºåˆ—</h3><p>è¾“å…¥ä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼Œåˆ¤æ–­è¯¥æ•°ç»„æ˜¯ä¸æ˜¯æŸäºŒå‰æœç´¢æ ‘çš„ååºéå†ç»“æœã€‚å¦‚æœæ˜¯åˆ™è¿”å› <code>true</code>ï¼Œå¦åˆ™è¿”å› <code>false</code>ã€‚å‡è®¾è¾“å…¥çš„æ•°ç»„çš„ä»»æ„ä¸¤ä¸ªæ•°å­—éƒ½äº’ä¸ç›¸åŒã€‚</p>
<p>å‚è€ƒä»¥ä¸‹è¿™é¢—äºŒå‰æœç´¢æ ‘ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">    5</span><br><span class="line">   / \</span><br><span class="line">  2   6</span><br><span class="line"> / \</span><br><span class="line">1   3</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: [1,6,3,2,5]</span><br><span class="line">è¾“å‡º: false</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: [1,3,2,6,5]</span><br><span class="line">è¾“å‡º: true</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ol>
<li><code>æ•°ç»„é•¿åº¦ &lt;= 1000</code></li>
</ol>
<p>Related Topics</p>
<p>æ ˆ</p>
<p>æ ‘</p>
<p>äºŒå‰æœç´¢æ ‘</p>
<p>é€’å½’</p>
<p>äºŒå‰æ ‘</p>
<p>å•è°ƒæ ˆ</p>
<p>ğŸ‘ 637</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p><strong>ååºéå†å®šä¹‰</strong>ï¼š [ å·¦å­æ ‘ | å³å­æ ‘ | æ ¹èŠ‚ç‚¹ ] ï¼Œå³éå†é¡ºåºä¸º â€œå·¦ã€å³ã€æ ¹â€ ã€‚</p>
<p><strong>äºŒå‰æœç´¢æ ‘å®šä¹‰</strong>ï¼š å·¦å­æ ‘ä¸­æ‰€æœ‰èŠ‚ç‚¹çš„å€¼ &lt; æ ¹èŠ‚ç‚¹çš„å€¼ï¼›å³å­æ ‘ä¸­æ‰€æœ‰èŠ‚ç‚¹çš„å€¼ &gt; æ ¹èŠ‚ç‚¹çš„å€¼ï¼›å…¶å·¦ã€å³å­æ ‘ä¹Ÿåˆ†åˆ«ä¸ºäºŒå‰æœç´¢æ ‘ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1599753507-JrFBjm-Picture1.png" alt="Picture1.png"></p>
<h4 id="æ–¹æ³•ä¸€ï¼šé€’å½’åˆ†æ²»"><a href="#æ–¹æ³•ä¸€ï¼šé€’å½’åˆ†æ²»" class="headerlink" title="æ–¹æ³•ä¸€ï¼šé€’å½’åˆ†æ²»"></a>æ–¹æ³•ä¸€ï¼šé€’å½’åˆ†æ²»</h4><p>æ ¹æ®äºŒå‰æœç´¢æ ‘çš„å®šä¹‰ï¼Œå¯ä»¥é€šè¿‡é€’å½’ï¼Œåˆ¤æ–­æ‰€æœ‰å­æ ‘çš„ <strong>æ­£ç¡®æ€§</strong> ï¼ˆå³å…¶ååºéå†æ˜¯å¦æ»¡è¶³äºŒå‰æœç´¢æ ‘çš„å®šä¹‰ï¼‰ ï¼Œè‹¥æ‰€æœ‰å­æ ‘éƒ½æ­£ç¡®ï¼Œåˆ™æ­¤åºåˆ—ä¸ºäºŒå‰æœç´¢æ ‘çš„ååºéå†ã€‚</p>
<p><strong>é€’å½’è§£æ</strong>ï¼š</p>
<ul>
<li>ç»ˆæ­¢æ¡ä»¶ï¼š å½“ iâ‰¥j ï¼Œè¯´æ˜æ­¤å­æ ‘èŠ‚ç‚¹æ•°é‡ â‰¤1 ï¼Œæ— éœ€åˆ¤åˆ«æ­£ç¡®æ€§ï¼Œå› æ­¤ç›´æ¥è¿”å› true ï¼›</li>
<li>é€’æ¨å·¥ä½œï¼š<ol>
<li>åˆ’åˆ†å·¦å³å­æ ‘ï¼š éå†ååºéå†çš„ [i, j] åŒºé—´å…ƒç´ ï¼Œå¯»æ‰¾ ç¬¬ä¸€ä¸ªå¤§äºæ ¹èŠ‚ç‚¹ çš„èŠ‚ç‚¹ï¼Œç´¢å¼•è®°ä¸º m ã€‚æ­¤æ—¶ï¼Œå¯åˆ’åˆ†å‡ºå·¦å­æ ‘åŒºé—´ [i,m-1] ã€å³å­æ ‘åŒºé—´ [m, j - 1] ã€æ ¹èŠ‚ç‚¹ç´¢å¼• j ã€‚</li>
<li>åˆ¤æ–­æ˜¯å¦ä¸ºäºŒå‰æœç´¢æ ‘ï¼š<ul>
<li>å·¦å­æ ‘åŒºé—´ [i, m - 1] å†…çš„æ‰€æœ‰èŠ‚ç‚¹éƒ½åº” &lt;postorder[j] ã€‚è€Œç¬¬ <code>1.åˆ’åˆ†å·¦å³å­æ ‘</code> æ­¥éª¤å·²ç»ä¿è¯å·¦å­æ ‘åŒºé—´çš„æ­£ç¡®æ€§ï¼Œå› æ­¤åªéœ€è¦åˆ¤æ–­å³å­æ ‘åŒºé—´å³å¯ã€‚</li>
<li>å³å­æ ‘åŒºé—´ [m, j-1] å†…çš„æ‰€æœ‰èŠ‚ç‚¹éƒ½åº” &gt; postorder[j] ã€‚å®ç°æ–¹å¼ä¸ºéå†ï¼Œå½“é‡åˆ° â‰¤postorder[j] çš„èŠ‚ç‚¹åˆ™è·³å‡ºï¼›åˆ™å¯é€šè¿‡ p &#x3D; j åˆ¤æ–­æ˜¯å¦ä¸ºäºŒå‰æœç´¢æ ‘ã€‚</li>
<li>è¿”å›å€¼ï¼š æ‰€æœ‰å­æ ‘éƒ½éœ€æ­£ç¡®æ‰å¯åˆ¤å®šæ­£ç¡®ï¼Œå› æ­¤ä½¿ç”¨ ä¸é€»è¾‘ç¬¦ &amp;&amp; è¿æ¥ã€‚<br>p &#x3D; j ï¼š åˆ¤æ–­ æ­¤æ ‘ æ˜¯å¦æ­£ç¡®ã€‚<br>recur(i, m - 1) ï¼š åˆ¤æ–­ æ­¤æ ‘çš„å·¦å­æ ‘ æ˜¯å¦æ­£ç¡®ã€‚<br>recur(m, j - 1)ï¼š åˆ¤æ–­ æ­¤æ ‘çš„å³å­æ ‘ æ˜¯å¦æ­£ç¡®ã€‚</li>
</ul>
</li>
</ol>
</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1599753507-TyHQkm-Picture9.png" alt="img"></p>
<p>å¤æ‚åº¦åˆ†æï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(N^2)ï¼š æ¯æ¬¡è°ƒç”¨ recur(i,j) å‡å»ä¸€ä¸ªæ ¹èŠ‚ç‚¹ï¼Œå› æ­¤é€’å½’å ç”¨O(N) ï¼›æœ€å·®æƒ…å†µä¸‹ï¼ˆå³å½“æ ‘é€€åŒ–ä¸ºé“¾è¡¨ï¼‰ï¼Œæ¯è½®é€’å½’éƒ½éœ€éå†æ ‘æ‰€æœ‰èŠ‚ç‚¹ï¼Œå ç”¨ O(N) ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(N) ï¼š æœ€å·®æƒ…å†µä¸‹ï¼ˆå³å½“æ ‘é€€åŒ–ä¸ºé“¾è¡¨ï¼‰ï¼Œé€’å½’æ·±åº¦å°†è¾¾åˆ° N ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">verifyPostorder</span><span class="params">(<span class="type">int</span>[] postorder)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> recur(postorder, <span class="number">0</span>, postorder.length - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">boolean</span> <span class="title function_">recur</span><span class="params">(<span class="type">int</span>[] postorder, <span class="type">int</span> i, <span class="type">int</span> j)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(i &gt;= j) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">p</span> <span class="operator">=</span> i;</span><br><span class="line">        <span class="keyword">while</span>(postorder[p] &lt; postorder[j]) p++; <span class="comment">// æ‰¾ç¬¬ä¸€ä¸ª&gt;æ ¹èŠ‚ç‚¹çš„èŠ‚ç‚¹ å°±æ˜¯å³å­æ ‘çš„æ ¹èŠ‚ç‚¹</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> p;</span><br><span class="line">        <span class="keyword">while</span>(postorder[p] &gt; postorder[j]) p++;<span class="comment">// éªŒè¯å³å­æ ‘</span></span><br><span class="line">        <span class="keyword">return</span> p == j &amp;&amp; recur(postorder, i, m - <span class="number">1</span>) &amp;&amp; recur(postorder, m, j - <span class="number">1</span>);<span class="comment">// åˆ†æ²»</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="æ–¹æ³•äºŒï¼šè¾…åŠ©å•è°ƒæ ˆ"><a href="#æ–¹æ³•äºŒï¼šè¾…åŠ©å•è°ƒæ ˆ" class="headerlink" title="æ–¹æ³•äºŒï¼šè¾…åŠ©å•è°ƒæ ˆ"></a>æ–¹æ³•äºŒï¼šè¾…åŠ©å•è°ƒæ ˆ</h4><p><strong>ååºéå†å€’åº</strong>ï¼š [ æ ¹èŠ‚ç‚¹ | å³å­æ ‘ | å·¦å­æ ‘ ] ã€‚ç±»ä¼¼ å…ˆåºéå†çš„é•œåƒ ï¼Œå³å…ˆåºéå†ä¸º â€œæ ¹ã€å·¦ã€å³â€ çš„é¡ºåºï¼Œè€Œååºéå†çš„å€’åºä¸º â€œæ ¹ã€å³ã€å·¦â€ é¡ºåºã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1599753507-KaeaWl-Picture10.png" alt="Picture10.png"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/image-20221127115157286.png" alt="image-20221127115157286"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/image-20221127115457068.png" alt="image-20221127115457068"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1599753507-mgqkoF-Picture11.png" alt="Picture11.png"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/image-20221127115646432.png" alt="image-20221127115646432"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/image-20221127115822659.png" alt="image-20221127115822659"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1599753507-LmdXnR-Picture17.png" alt="img"></p>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(N) ï¼š éå†postorder æ‰€æœ‰èŠ‚ç‚¹ï¼Œå„èŠ‚ç‚¹å‡å…¥æ ˆ &#x2F; å‡ºæ ˆä¸€æ¬¡ï¼Œä½¿ç”¨ O(N) æ—¶é—´ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(N) ï¼š æœ€å·®æƒ…å†µä¸‹ï¼Œå•è°ƒæ ˆ stackstack å­˜å‚¨æ‰€æœ‰èŠ‚ç‚¹ï¼Œä½¿ç”¨ O(N) é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">verifyPostorder</span><span class="params">(<span class="type">int</span>[] postorder)</span> &#123;</span><br><span class="line">        Stack&lt;Integer&gt; stack = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">        <span class="type">int</span> <span class="variable">root</span> <span class="operator">=</span> Integer.MAX_VALUE;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> postorder.length - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            <span class="keyword">if</span>(postorder[i] &gt; root) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">while</span>(!stack.isEmpty() &amp;&amp; stack.peek() &gt; postorder[i])</span><br><span class="line">                root = stack.pop();</span><br><span class="line">            stack.add(postorder[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="9-6ã€å‰‘æŒ‡-Offer-51-æ•°ç»„ä¸­çš„é€†åºå¯¹"><a href="#9-6ã€å‰‘æŒ‡-Offer-51-æ•°ç»„ä¸­çš„é€†åºå¯¹" class="headerlink" title="9.6ã€å‰‘æŒ‡ Offer 51. æ•°ç»„ä¸­çš„é€†åºå¯¹"></a>9.6ã€å‰‘æŒ‡ Offer 51. æ•°ç»„ä¸­çš„é€†åºå¯¹</h3><p>åœ¨æ•°ç»„ä¸­çš„ä¸¤ä¸ªæ•°å­—ï¼Œå¦‚æœå‰é¢ä¸€ä¸ªæ•°å­—å¤§äºåé¢çš„æ•°å­—ï¼Œåˆ™è¿™ä¸¤ä¸ªæ•°å­—ç»„æˆä¸€ä¸ªé€†åºå¯¹ã€‚è¾“å…¥ä¸€ä¸ªæ•°ç»„ï¼Œæ±‚å‡ºè¿™ä¸ªæ•°ç»„ä¸­çš„é€†åºå¯¹çš„æ€»æ•°ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: [7,5,6,4]</span><br><span class="line">è¾“å‡º: 5</span><br></pre></td></tr></table></figure>



<p><strong>é™åˆ¶ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0 &lt;= æ•°ç»„é•¿åº¦ &lt;= 50000</span><br></pre></td></tr></table></figure>

<p>Related Topics</p>
<p>æ ‘çŠ¶æ•°ç»„</p>
<p>çº¿æ®µæ ‘</p>
<p>æ•°ç»„</p>
<p>äºŒåˆ†æŸ¥æ‰¾</p>
<p>åˆ†æ²»</p>
<p>æœ‰åºé›†åˆ</p>
<p>å½’å¹¶æ’åº</p>
<p>ğŸ‘ 900</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<blockquote>
<p>ç›´è§‚æ¥çœ‹ï¼Œä½¿ç”¨æš´åŠ›ç»Ÿè®¡æ³•å³å¯ï¼Œå³éå†æ•°ç»„çš„æ‰€æœ‰æ•°å­—å¯¹å¹¶ç»Ÿè®¡é€†åºå¯¹æ•°é‡ã€‚æ­¤æ–¹æ³•æ—¶é—´å¤æ‚åº¦ä¸º O(N^2)ï¼Œè§‚å¯Ÿé¢˜ç›®ç»™å®šçš„æ•°ç»„é•¿åº¦èŒƒå›´ 0 â‰¤ N â‰¤ 50000 ï¼Œå¯çŸ¥æ­¤å¤æ‚åº¦æ˜¯ä¸èƒ½æ¥å—çš„ã€‚</p>
</blockquote>
<p>ã€Œå½’å¹¶æ’åºã€ä¸ã€Œé€†åºå¯¹ã€æ˜¯æ¯æ¯ç›¸å…³çš„ã€‚å½’å¹¶æ’åºä½“ç°äº† â€œåˆ†è€Œæ²»ä¹‹â€ çš„ç®—æ³•æ€æƒ³ï¼Œå…·ä½“ä¸ºï¼š</p>
<ul>
<li>åˆ†ï¼š ä¸æ–­å°†æ•°ç»„ä»ä¸­ç‚¹ä½ç½®åˆ’åˆ†å¼€ï¼ˆå³äºŒåˆ†æ³•ï¼‰ï¼Œå°†æ•´ä¸ªæ•°ç»„çš„æ’åºé—®é¢˜è½¬åŒ–ä¸ºå­æ•°ç»„çš„æ’åºé—®é¢˜ï¼›</li>
<li>æ²»ï¼š åˆ’åˆ†åˆ°å­æ•°ç»„é•¿åº¦ä¸º 1 æ—¶ï¼Œå¼€å§‹å‘ä¸Šåˆå¹¶ï¼Œä¸æ–­å°† <strong>è¾ƒçŸ­æ’åºæ•°ç»„</strong> åˆå¹¶ä¸º <strong>è¾ƒé•¿æ’åºæ•°ç»„</strong>ï¼Œç›´è‡³åˆå¹¶è‡³åŸæ•°ç»„æ—¶å®Œæˆæ’åºï¼›</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1614274007-nBQbZZ-Picture1.png" alt="Picture1.png"></p>
<p><strong>åˆå¹¶é˜¶æ®µ</strong> æœ¬è´¨ä¸Šæ˜¯ <strong>åˆå¹¶ä¸¤ä¸ªæ’åºæ•°ç»„</strong> çš„è¿‡ç¨‹ï¼Œè€Œæ¯å½“é‡åˆ° å·¦å­æ•°ç»„å½“å‰å…ƒç´  &gt; å³å­æ•°ç»„å½“å‰å…ƒç´  æ—¶ï¼Œæ„å‘³ç€ ã€Œå·¦å­æ•°ç»„å½“å‰å…ƒç´  è‡³ æœ«å°¾å…ƒç´ ã€ ä¸ ã€Œå³å­æ•°ç»„å½“å‰å…ƒç´ ã€ æ„æˆäº†è‹¥å¹² ã€Œé€†åºå¯¹ã€ ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1614274007-nIGXwT-Picture5.png" alt="img"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1614274007-oEmevZ-Picture7.png" alt="img"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1614274007-ounrkz-Picture13.png" alt="img"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1614274007-YlPdBQ-Picture15.png" alt="img"></p>
<p>å› æ­¤ï¼Œè€ƒè™‘åœ¨å½’å¹¶æ’åºçš„åˆå¹¶é˜¶æ®µç»Ÿè®¡ã€Œé€†åºå¯¹ã€æ•°é‡ï¼Œå®Œæˆå½’å¹¶æ’åºæ—¶ï¼Œä¹Ÿéšä¹‹å®Œæˆæ‰€æœ‰é€†åºå¯¹çš„ç»Ÿè®¡ã€‚</p>
<p>ç®—æ³•æµç¨‹ï¼š</p>
<p><code>merge_sort()</code> å½’å¹¶æ’åºä¸é€†åºå¯¹ç»Ÿè®¡ï¼š</p>
<ol>
<li>ç»ˆæ­¢æ¡ä»¶ï¼š å½“ leftâ‰¥right æ—¶ï¼Œä»£è¡¨å­æ•°ç»„é•¿åº¦ä¸º 1 ï¼Œæ­¤æ—¶ç»ˆæ­¢åˆ’åˆ†ï¼›(å·¦é—­å³é—­[])</li>
<li>é€’å½’åˆ’åˆ†ï¼š è®¡ç®—æ•°ç»„ä¸­ç‚¹ m ï¼Œé€’å½’åˆ’åˆ†å·¦å­æ•°ç»„ merge_sort(left, m) å’Œå³å­æ•°ç»„ merge_sort(m + 1, right) ï¼›</li>
<li>åˆå¹¶ä¸é€†åºå¯¹ç»Ÿè®¡ï¼š<ol>
<li>æš‚å­˜æ•°ç»„ nums é—­åŒºé—´ [left, right] å†…çš„å…ƒç´ è‡³è¾…åŠ©æ•°ç»„ tmp ï¼›</li>
<li>å¾ªç¯åˆå¹¶ï¼š è®¾ç½®åŒæŒ‡é’ˆ i , j åˆ†åˆ«æŒ‡å‘å·¦ &#x2F; å³å­æ•°ç»„çš„é¦–å…ƒç´ ï¼›<ul>
<li>å½“ i &#x3D; m + 1 æ—¶ï¼š ä»£è¡¨å·¦å­æ•°ç»„å·²åˆå¹¶å®Œï¼Œå› æ­¤æ·»åŠ å³å­æ•°ç»„å½“å‰å…ƒç´  tmp[j] ï¼Œå¹¶æ‰§è¡Œ j &#x3D; j + 1 ï¼›</li>
<li>å¦åˆ™ï¼Œå½“ j &#x3D; r + 1 æ—¶ï¼š ä»£è¡¨å³å­æ•°ç»„å·²åˆå¹¶å®Œï¼Œå› æ­¤æ·»åŠ å·¦å­æ•°ç»„å½“å‰å…ƒç´  tmp[i] ï¼Œå¹¶æ‰§è¡Œ i &#x3D; i + 1 ï¼›</li>
<li>å¦åˆ™ï¼Œå½“ tmp[i]â‰¤tmp[j] æ—¶ï¼š æ·»åŠ å·¦å­æ•°ç»„å½“å‰å…ƒç´  tmp[i]ï¼Œå¹¶æ‰§è¡Œ i &#x3D; i + 1ï¼›</li>
<li>å¦åˆ™ï¼ˆå³ tmp[i] &gt; tmp[j]ï¼‰æ—¶ï¼š æ·»åŠ å³å­æ•°ç»„å½“å‰å…ƒç´  tmp[j] ï¼Œå¹¶æ‰§è¡Œ j &#x3D; j + 1 ï¼›æ­¤æ—¶æ„æˆ m - i + 1 ä¸ªã€Œé€†åºå¯¹ã€ï¼Œç»Ÿè®¡æ·»åŠ è‡³ res ï¼›</li>
</ul>
</li>
</ol>
</li>
<li>è¿”å›å€¼ï¼š è¿”å›ç›´è‡³ç›®å‰çš„é€†åºå¯¹æ€»æ•° res ï¼›</li>
</ol>
<p><code>reversePairs()</code> ä¸»å‡½æ•°ï¼š</p>
<ol>
<li>åˆå§‹åŒ–ï¼š è¾…åŠ©æ•°ç»„ tmp ï¼Œç”¨äºåˆå¹¶é˜¶æ®µæš‚å­˜å…ƒç´ ï¼›</li>
<li>è¿”å›å€¼ï¼š æ‰§è¡Œå½’å¹¶æ’åº merge_sort() ï¼Œå¹¶è¿”å›é€†åºå¯¹æ€»æ•°å³å¯ï¼›</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1614274007-rtFHbG-Picture2.png" alt="Picture2.png"></p>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(NlogN) ï¼š å…¶ä¸­ N ä¸ºæ•°ç»„é•¿åº¦ï¼›å½’å¹¶æ’åºä½¿ç”¨ O(NlogN) æ—¶é—´ï¼›</li>
<li>ç©ºé—´å¤æ‚åº¦ O(N) ï¼š è¾…åŠ©æ•°ç»„ tmp å ç”¨ O(N) å¤§å°çš„é¢å¤–ç©ºé—´ï¼›</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span>[] nums, tmp;</span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">reversePairs</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.nums = nums;</span><br><span class="line">    tmp = <span class="keyword">new</span> <span class="title class_">int</span>[nums.length];</span><br><span class="line">    <span class="keyword">return</span> mergeSort(<span class="number">0</span>, nums.length - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="type">int</span> <span class="title function_">mergeSort</span><span class="params">(<span class="type">int</span> left, <span class="type">int</span> right)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (left &gt;= right) &#123; <span class="comment">// ç»ˆæ­¢æ¡ä»¶</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// é€’å½’åˆ’åˆ†</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> (left + right) / <span class="number">2</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> mergeSort(left, mid) + mergeSort(mid + <span class="number">1</span>, right);</span><br><span class="line">    <span class="comment">// åˆå¹¶é˜¶æ®µ</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> left, j = mid + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> left; k &lt;= right; k++) &#123;</span><br><span class="line">        tmp[k] = nums[k];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> left; k &lt;= right; k++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (i == mid + <span class="number">1</span>)</span><br><span class="line">            nums[k] = tmp[j++];</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (j == right + <span class="number">1</span> || tmp[i] &lt;= tmp[j])</span><br><span class="line">            nums[k] = tmp[i++];</span><br><span class="line">        <span class="keyword">else</span> &#123; <span class="comment">// tmp[i]&gt;tmp[j]</span></span><br><span class="line">            nums[k] = nums[j++];</span><br><span class="line">            res += mid - i + <span class="number">1</span>; <span class="comment">// ç»Ÿè®¡é€†åºæ•°</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="åã€æ’åºç®—æ³•"><a href="#åã€æ’åºç®—æ³•" class="headerlink" title="åã€æ’åºç®—æ³•"></a>åã€æ’åºç®—æ³•</h2><h3 id="1ã€ç®€ä»‹"><a href="#1ã€ç®€ä»‹" class="headerlink" title="1ã€ç®€ä»‹"></a>1ã€ç®€ä»‹</h3><h4 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h4><p>æ’åºç®—æ³•ç”¨ä½œå®ç°åˆ—è¡¨çš„æ’åºï¼Œåˆ—è¡¨å…ƒç´ å¯ä»¥æ˜¯æ•´æ•°ï¼Œä¹Ÿå¯ä»¥æ˜¯æµ®ç‚¹æ•°ã€å­—ç¬¦ä¸²ç­‰å…¶ä»–æ•°æ®ç±»å‹ã€‚ç”Ÿæ´»ä¸­æœ‰è®¸å¤šéœ€è¦æ’åºç®—æ³•çš„åœºæ™¯ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>æ•´æ•°æ’åºï¼š å¯¹äºä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼Œæˆ‘ä»¬å¸Œæœ›å°†æ‰€æœ‰æ•°å­—ä»å°åˆ°å¤§æ’åºï¼›</li>
<li>å­—ç¬¦ä¸²æ’åºï¼š å¯¹äºä¸€ä¸ªå§“ååˆ—è¡¨ï¼Œæˆ‘ä»¬å¸Œæœ›å°†æ‰€æœ‰å•è¯æŒ‰ç…§å­—ç¬¦å…ˆåæ’åºï¼›</li>
<li>è‡ªå®šä¹‰æ’åºï¼š å¯¹äºä»»æ„ä¸€ä¸ª å·²å®šä¹‰æ¯”è¾ƒè§„åˆ™ çš„é›†åˆï¼Œæˆ‘ä»¬å¸Œæœ›å°†å…¶æŒ‰è§„åˆ™æ’åºï¼›</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1629483616-HHvvqY-Picture1.png" alt="Picture1.png"></p>
<p>åŒæ—¶ï¼ŒæŸäº›ç®—æ³•éœ€è¦åœ¨æ’åºç®—æ³•çš„åŸºç¡€ä¸Šä½¿ç”¨ï¼ˆå³åœ¨æ’åºæ•°ç»„ä¸Šè¿è¡Œï¼‰ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>äºŒåˆ†æŸ¥æ‰¾ï¼š æ ¹æ®æ•°ç»„å·²æ’åºçš„ç‰¹æ€§ï¼Œæ‰èƒ½æ¯è½®ç¡®å®šæ’é™¤ä¸¤éƒ¨åˆ†ä¸­çš„å“ªä¸€éƒ¨åˆ†ï¼›</li>
<li>åŒæŒ‡é’ˆï¼š ä¾‹å¦‚åˆå¹¶ä¸¤ä¸ªæ’åºé“¾è¡¨ï¼Œæ ¹æ®å·²æ’åºç‰¹æ€§ï¼Œæ‰èƒ½é€šè¿‡åŒæŒ‡é’ˆç§»åŠ¨åœ¨çº¿æ€§æ—¶é—´å†…å°†å…¶åˆå¹¶ä¸ºä¸€ä¸ªæ’åºé“¾è¡¨ã€‚</li>
</ul>
<h4 id="å¸¸è§ç®—æ³•"><a href="#å¸¸è§ç®—æ³•" class="headerlink" title="å¸¸è§ç®—æ³•"></a>å¸¸è§ç®—æ³•</h4><p>å¸¸è§æ’åºç®—æ³•åŒ…æ‹¬ã€Œå†’æ³¡æ’åºã€ã€ã€Œæ’å…¥æ’åºã€ã€ã€Œé€‰æ‹©æ’åºã€ã€ã€Œå¿«é€Ÿæ’åºã€ã€ã€Œå½’å¹¶æ’åºã€ã€ã€Œå †æ’åºã€ã€ã€ŒåŸºæ•°æ’åºã€ã€ã€Œæ¡¶æ’åºã€ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œä¸ºå„æ’åºç®—æ³•çš„æ ¸å¿ƒç‰¹æ€§ä¸æ—¶ç©ºå¤æ‚åº¦æ€»ç»“ã€‚<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1629483637-tmENTT-Picture2.png" alt="Picture2.png"></p>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œä¸ºåœ¨ ã€Œéšæœºä¹±åºã€ã€ã€Œæ¥è¿‘æœ‰åºã€ã€ã€Œå®Œå…¨å€’åºã€ã€ã€Œå°‘æ•°ç‹¬ç‰¹ã€å››ç±»è¾“å…¥æ•°æ®ä¸‹ï¼Œå„å¸¸è§æ’åºç®—æ³•çš„æ’åºè¿‡ç¨‹ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1629482805-alxVCi-krahets-bubble-sort.gif" alt="krahets-bubble-sort.gif"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1629482805-MMIXPp-krahets-insertion-sort.gif" alt="krahets-insertion-sort.gif"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1629482805-vdWamx-krahets-selection-sort.gif" alt="krahets-selection-sort.gif"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1629482805-DYNZPE-krahets-quick-sort.gif" alt="krahets-quick-sort.gif"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1629482805-IjWwSz-krahets-merge-sort.gif" alt="krahets-merge-sort.gif"></p>
<h4 id="åˆ†ç±»æ–¹æ³•"><a href="#åˆ†ç±»æ–¹æ³•" class="headerlink" title="åˆ†ç±»æ–¹æ³•"></a>åˆ†ç±»æ–¹æ³•</h4><p>æ’åºç®—æ³•ä¸»è¦å¯æ ¹æ® <code>ç¨³å®šæ€§</code> ã€<code>å°±åœ°æ€§</code> ã€<code>è‡ªé€‚åº”æ€§</code> åˆ†ç±»ã€‚ç†æƒ³çš„æ’åºç®—æ³•å…·æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼š</p>
<ul>
<li>å…·æœ‰ç¨³å®šæ€§ï¼Œå³ç›¸ç­‰å…ƒç´ çš„ç›¸å¯¹ä½ç½®ä¸å˜åŒ–ï¼›</li>
<li>å…·æœ‰å°±åœ°æ€§ï¼Œå³ä¸ä½¿ç”¨é¢å¤–çš„è¾…åŠ©ç©ºé—´ï¼›</li>
<li>å…·æœ‰è‡ªé€‚åº”æ€§ï¼Œå³æ—¶é—´å¤æ‚åº¦å—å…ƒç´ åˆ†å¸ƒå½±å“ï¼›</li>
</ul>
<p>ç‰¹åˆ«åœ°ï¼Œä»»æ„æ’åºç®—æ³•éƒ½ <strong>ä¸åŒæ—¶å…·æœ‰ä»¥ä¸Šæ‰€æœ‰ç‰¹æ€§</strong> ã€‚å› æ­¤ï¼Œæ’åºç®—æ³•çš„é€‰å‹ä½¿ç”¨å–å†³äºå…·ä½“çš„åˆ—è¡¨ç±»å‹ã€å…ƒç´ æ•°é‡ã€å…ƒç´ åˆ†å¸ƒæƒ…å†µç­‰åº”ç”¨åœºæ™¯ç‰¹ç‚¹ã€‚</p>
<p><strong>ç¨³å®šæ€§ï¼š</strong></p>
<p>æ ¹æ® <code>ç›¸ç­‰å…ƒç´ </code> åœ¨æ•°ç»„ä¸­çš„ <code>ç›¸å¯¹é¡ºåº</code> æ˜¯å¦è¢«æ”¹å˜ï¼Œæ’åºç®—æ³•å¯åˆ†ä¸ºã€Œç¨³å®šæ’åºã€å’Œã€Œéç¨³å®šæ’åºã€ä¸¤ç±»ã€‚</p>
<ul>
<li>ã€Œç¨³å®šæ’åºã€åœ¨å®Œæˆæ’åºåï¼Œä¸æ”¹å˜ ç›¸ç­‰å…ƒç´ åœ¨æ•°ç»„ä¸­çš„ç›¸å¯¹é¡ºåºã€‚ä¾‹å¦‚ï¼šå†’æ³¡æ’åºã€æ’å…¥æ’åºã€å½’å¹¶æ’åºã€åŸºæ•°æ’åºã€æ¡¶æ’åºã€‚</li>
<li>ã€Œéç¨³å®šæ’åºã€åœ¨å®Œæˆæ’åºåï¼Œç›¸ç­‰ç´ åœ¨æ•°ç»„ä¸­çš„ç›¸å¯¹ä½ç½® å¯èƒ½è¢«æ”¹å˜ã€‚ä¾‹å¦‚ï¼šé€‰æ‹©æ’åºã€å¿«é€Ÿæ’åºã€å †æ’åºã€‚</li>
</ul>
<blockquote>
<p><strong>ä½•æ—¶éœ€è€ƒè™‘æ’åºç®—æ³•çš„ç¨³å®šæ€§ï¼Ÿ</strong></p>
<p>æ•°ç»„æ’åºä¸­ï¼Œç”±äºå…ƒç´ çš†ä¸ºæ•°å­—ï¼Œå› æ­¤ç¨³å®šå’Œéç¨³å®šæ’åºçš†å¯è¾“å‡ºç›¸åŒç»“æœï¼Œæ­¤æ—¶æ— éœ€è€ƒè™‘æ’åºç®—æ³•çš„ç¨³å®šæ€§ã€‚</p>
<p>éç¨³å®šæ’åºä¼šæ”¹å˜ç›¸ç­‰å…ƒç´ çš„ç›¸å¯¹æ¬¡åºï¼Œè¿™åœ¨å®é™…åº”ç”¨åœºæ™¯ä¸­å¯èƒ½æ˜¯ä¸èƒ½æ¥å—çš„ã€‚å¦‚ä»¥ä¸‹ä»£ç æ‰€ç¤ºï¼Œéç¨³å®šæ’åºç ´åäº†è¾“å…¥åˆ—è¡¨ people æŒ‰å§“åæ’åºçš„æ€§è´¨ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="comment">//äºº = (å§“å, å¹´é¾„) ï¼ŒæŒ‰å§“åæ’åº</span></span><br><span class="line"></span><br><span class="line">&gt;people = &#123;</span><br><span class="line">   (<span class="string">&#x27;A&#x27;</span>, <span class="number">19</span>),</span><br><span class="line">   (<span class="string">&#x27;B&#x27;</span>, <span class="number">18</span>),</span><br><span class="line">   (<span class="string">&#x27;C&#x27;</span>, <span class="number">21</span>),</span><br><span class="line">   (<span class="string">&#x27;D&#x27;</span>, <span class="number">19</span>),</span><br><span class="line">   (<span class="string">&#x27;E&#x27;</span>, <span class="number">23</span>)</span><br><span class="line">&gt;&#125;</span><br><span class="line"></span><br><span class="line">&gt;<span class="comment">//éç¨³å®šæ’åºï¼ˆæŒ‰å¹´é¾„ï¼‰</span></span><br><span class="line">&gt;sort_by_age(people)</span><br><span class="line"></span><br><span class="line">&gt;<span class="comment">//äºº = (å§“å, å¹´é¾„) ï¼ŒæŒ‰å¹´é¾„æ’åº</span></span><br><span class="line"></span><br><span class="line">&gt;people = &#123;</span><br><span class="line">   (<span class="string">&#x27;B&#x27;</span>, <span class="number">18</span>),</span><br><span class="line">   (<span class="string">&#x27;D&#x27;</span>, <span class="number">19</span>), # (<span class="string">&#x27;D&#x27;</span>, <span class="number">19</span>) å’Œ (<span class="string">&#x27;A&#x27;</span>, <span class="number">19</span>) çš„ç›¸å¯¹ä½ç½®æ”¹å˜ï¼Œè¾“å…¥æ—¶æŒ‰å§“åæ’åºçš„æ€§è´¨ä¸¢å¤±</span><br><span class="line">   (<span class="string">&#x27;A&#x27;</span>, <span class="number">19</span>),</span><br><span class="line">   (<span class="string">&#x27;C&#x27;</span>, <span class="number">21</span>),</span><br><span class="line">   (<span class="string">&#x27;E&#x27;</span>, <span class="number">23</span>)</span><br><span class="line">&gt;&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<p><strong>å°±åœ°æ€§</strong>ï¼š<br>æ ¹æ®æ’åºè¿‡ç¨‹ä¸­ <code>æ˜¯å¦ä½¿ç”¨é¢å¤–å†…å­˜ï¼ˆè¾…åŠ©æ•°ç»„ï¼‰</code>ï¼Œæ’åºç®—æ³•å¯åˆ†ä¸ºã€ŒåŸåœ°æ’åºã€å’Œã€Œå¼‚åœ°æ’åºã€ä¸¤ç±»ã€‚ä¸€èˆ¬åœ°ï¼Œç”±äºä¸ä½¿ç”¨å¤–éƒ¨å†…å­˜ï¼ŒåŸåœ°æ’åºç›¸æ¯”éåŸåœ°æ’åºçš„æ‰§è¡Œæ•ˆç‡æ›´é«˜ã€‚</p>
<ul>
<li>ã€ŒåŸåœ°æ’åºã€ä¸ä½¿ç”¨é¢å¤–è¾…åŠ©æ•°ç»„ï¼Œä¾‹å¦‚ï¼šå†’æ³¡æ’åºã€æ’å…¥æ’åºã€é€‰æ‹©æ’åºã€å¿«é€Ÿæ’åºã€å †æ’åºã€‚</li>
<li>ã€ŒéåŸåœ°æ’åºã€ä½¿ç”¨é¢å¤–è¾…åŠ©æ•°ç»„ï¼Œä¾‹å¦‚ï¼šå½’å¹¶æ’åºã€åŸºæ•°æ’åºã€æ¡¶æ’åºã€‚</li>
</ul>
<p><strong>è‡ªé€‚åº”æ€§</strong>ï¼š<br>æ ¹æ®ç®—æ³• <code>æ—¶é—´å¤æ‚åº¦</code> æ˜¯å¦ <code>å—å¾…æ’åºæ•°ç»„çš„å…ƒç´ åˆ†å¸ƒå½±å“</code> ï¼Œæ’åºç®—æ³•å¯åˆ†ä¸ºã€Œè‡ªé€‚åº”æ’åºã€å’Œã€Œéè‡ªé€‚åº”æ’åºã€ä¸¤ç±»ã€‚</p>
<ul>
<li>ã€Œè‡ªé€‚åº”æ’åºã€çš„æ—¶é—´å¤æ‚åº¦å—å…ƒç´ åˆ†å¸ƒå½±å“ï¼›ä¾‹å¦‚ï¼šå†’æ³¡æ’åºã€æ’å…¥æ’åºã€å¿«é€Ÿæ’åºã€æ¡¶æ’åºã€‚</li>
<li>ã€Œéè‡ªé€‚åº”æ’åºã€çš„æ—¶é—´å¤æ‚åº¦æ’å®šï¼›ä¾‹å¦‚ï¼šé€‰æ‹©æ’åºã€å½’å¹¶æ’åºã€å †æ’åºã€åŸºæ•°æ’åºã€‚</li>
</ul>
<p><strong>æ¯”è¾ƒç±»</strong>ï¼š<br>æ¯”è¾ƒç±»æ’åºåŸºäºå…ƒç´ ä¹‹é—´çš„ <code>æ¯”è¾ƒç®—å­</code>ï¼ˆå°äºã€ç›¸ç­‰ã€å¤§äºï¼‰æ¥å†³å®šå…ƒç´ çš„ç›¸å¯¹é¡ºåºï¼›ç›¸å¯¹çš„ï¼Œéæ¯”è¾ƒæ’åºåˆ™ä¸åŸºäºæ¯”è¾ƒç®—å­å®ç°ã€‚</p>
<ul>
<li>ã€Œæ¯”è¾ƒç±»æ’åºã€åŸºäºå…ƒç´ ä¹‹é—´çš„æ¯”è¾ƒå®Œæˆæ’åºï¼Œä¾‹å¦‚ï¼šå†’æ³¡æ’åºã€æ’å…¥æ’åºã€é€‰æ‹©æ’åºã€å¿«é€Ÿæ’åºã€å½’å¹¶æ’åºã€å †æ’åºã€‚</li>
<li>ã€Œéæ¯”è¾ƒç±»æ’åºã€ä¸åŸºäºå…ƒç´ ä¹‹é—´çš„æ¯”è¾ƒå®Œæˆæ’åºï¼Œä¾‹å¦‚ï¼šåŸºæ•°æ’åºã€æ¡¶æ’åºã€‚</li>
</ul>
<blockquote>
<p>åŸºäºæ¯”è¾ƒçš„æ’åºç®—æ³•çš„å¹³å‡æ—¶é—´å¤æ‚åº¦æœ€ä¼˜ä¸º O(NlogN) ï¼Œè€Œéæ¯”è¾ƒæ’åºç®—æ³•å¯ä»¥è¾¾åˆ°çº¿æ€§çº§åˆ«çš„æ—¶é—´å¤æ‚åº¦ã€‚</p>
</blockquote>
<h4 id="æ—¶ç©ºå¤æ‚åº¦"><a href="#æ—¶ç©ºå¤æ‚åº¦" class="headerlink" title="æ—¶ç©ºå¤æ‚åº¦"></a>æ—¶ç©ºå¤æ‚åº¦</h4><p>æ€»ä½“ä¸Šçœ‹ï¼Œæ’åºç®—æ³•è¿½æ±‚æ—¶é—´ä¸ç©ºé—´å¤æ‚åº¦æœ€ä½ã€‚è€Œå³ä½¿æŸäº›æ’åºç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ç›¸ç­‰ï¼Œä½†å®é™…æ€§èƒ½è¿˜å— <strong>è¾“å…¥åˆ—è¡¨æ€§è´¨ã€å…ƒç´ æ•°é‡ã€å…ƒç´ åˆ†å¸ƒç­‰</strong> ç­‰å› ç´ å½±å“ã€‚</p>
<blockquote>
<p>è®¾è¾“å…¥åˆ—è¡¨å…ƒç´ æ•°é‡ä¸º N ï¼Œå¸¸è§æ’åºç®—æ³•çš„ã€Œæ—¶é—´å¤æ‚åº¦ã€å’Œã€Œç©ºé—´å¤æ‚åº¦ã€å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/image-20221130102440078.png" alt="image-20221130102440078"></p>
<p>å¯¹äºä¸Šè¡¨ï¼Œéœ€è¦ç‰¹åˆ«æ³¨æ„ï¼š</p>
<ul>
<li>ã€ŒåŸºæ•°æ’åºã€é€‚ç”¨äºæ­£æ•´æ•°ã€å­—ç¬¦ä¸²ã€ç‰¹å®šæ ¼å¼çš„æµ®ç‚¹æ•°æ’åºï¼Œk ä¸ºæœ€å¤§æ•°å­—çš„ä½æ•°ï¼›ã€Œæ¡¶æ’åºã€ä¸­ k ä¸ºæ¡¶çš„æ•°é‡ã€‚</li>
<li>æ™®é€šã€Œå†’æ³¡æ’åºã€çš„æœ€ä½³æ—¶é—´å¤æ‚åº¦ä¸º O(N^2)ï¼Œé€šè¿‡å¢åŠ æ ‡å¿—ä½å®ç° æå‰è¿”å› ï¼Œå¯ä»¥å°†æœ€ä½³æ—¶é—´å¤æ‚åº¦é™ä½è‡³ O(N) ã€‚</li>
<li>åœ¨è¾“å…¥åˆ—è¡¨å®Œå…¨å€’åºä¸‹ï¼Œæ™®é€šã€Œå¿«é€Ÿæ’åºã€çš„ç©ºé—´å¤æ‚åº¦åŠ£åŒ–è‡³ O(N) ï¼Œé€šè¿‡ä»£ç ä¼˜åŒ– Tail Call Optimization ä¿æŒç®—æ³•é€’å½’è¾ƒçŸ­å­æ•°ç»„ï¼Œå¯ä»¥å°†æœ€å·®é€’å½’æ·±åº¦é™ä½è‡³ logN ã€‚</li>
<li>æ™®é€šã€Œå¿«é€Ÿæ’åºã€æ€»ä»¥æœ€å·¦æˆ–æœ€å³å…ƒç´ ä¸ºåŸºå‡†æ•°ï¼Œå› æ­¤åœ¨è¾“å…¥åˆ—è¡¨æœ‰åºæˆ–å€’åºä¸‹ï¼Œæ—¶é—´å¤æ‚åº¦åŠ£åŒ–è‡³ O(N^2)ï¼›é€šè¿‡ éšæœºé€‰æ‹©åŸºå‡†æ•° ï¼Œå¯æå¤§å‡å°‘æ­¤ç±»æœ€å·®æƒ…å†µå‘ç”Ÿï¼Œå°½å¯èƒ½åœ°ä¿æŒ O(NlogN) çš„æ—¶é—´å¤æ‚åº¦ã€‚</li>
<li>è‹¥è¾“å…¥åˆ—è¡¨æ˜¯æ•°ç»„ï¼Œåˆ™å½’å¹¶æ’åºçš„ç©ºé—´å¤æ‚åº¦ä¸º O(N) ï¼›è€Œè‹¥æ’åº é“¾è¡¨ ï¼Œåˆ™ã€Œå½’å¹¶æ’åºã€ä¸éœ€è¦å€ŸåŠ©é¢å¤–è¾…åŠ©ç©ºé—´ï¼Œç©ºé—´å¤æ‚åº¦å¯ä»¥é™ä½è‡³ )O(1) ã€‚</li>
</ul>
<h3 id="2ã€å†’æ³¡æ’åº"><a href="#2ã€å†’æ³¡æ’åº" class="headerlink" title="2ã€å†’æ³¡æ’åº"></a>2ã€å†’æ³¡æ’åº</h3><p><strong>ç®—æ³•è§£æ</strong></p>
<p>å†’æ³¡æ’åºæ˜¯æœ€åŸºç¡€çš„æ’åºç®—æ³•ï¼Œç”±äºå…¶ç›´è§‚æ€§ï¼Œç»å¸¸ä½œä¸ºé¦–ä¸ªä»‹ç»çš„æ’åºç®—æ³•ã€‚å…¶åŸç†ä¸ºï¼š</p>
<ul>
<li>å†…å¾ªç¯ï¼š ä½¿ç”¨ç›¸é‚»åŒæŒ‡é’ˆ j , j + 1 ä»å·¦è‡³å³éå†ï¼Œä¾æ¬¡æ¯”è¾ƒç›¸é‚»å…ƒç´ å¤§å°ï¼Œè‹¥å·¦å…ƒç´ å¤§äºå³å…ƒç´ åˆ™å°†å®ƒä»¬äº¤æ¢ï¼›éå†å®Œæˆæ—¶ï¼Œ<code>æœ€å¤§å…ƒç´ ä¼šè¢«äº¤æ¢è‡³æ•°ç»„æœ€å³è¾¹</code> ã€‚</li>
<li>å¤–å¾ªç¯ï¼š ä¸æ–­é‡å¤ã€Œå†…å¾ªç¯ã€ï¼Œæ¯è½®å°†å½“å‰æœ€å¤§å…ƒç´ äº¤æ¢è‡³ <code>å‰©ä½™æœªæ’åºæ•°ç»„æœ€å³è¾¹</code> ï¼Œç›´è‡³æ‰€æœ‰å…ƒç´ éƒ½è¢«äº¤æ¢è‡³æ­£ç¡®ä½ç½®æ—¶ç»“æŸã€‚</li>
</ul>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œé¦–è½®ã€Œå†…å¾ªç¯ã€åï¼Œæ•°ç»„æœ€å¤§å…ƒç´ å·²è¢«äº¤æ¢è‡³æ•°ç»„æœ€å³è¾¹ï¼›æ¥ä¸‹æ¥ï¼Œåªéœ€è¦å®Œæˆæ•°ç»„å‰©ä½™ N - 1 ä¸ªå…ƒç´ çš„æ’åºå³å¯ï¼ˆè®¾æ•°ç»„å…ƒç´ æ•°é‡ä¸º N ï¼‰ã€‚åŒç†ï¼Œå¯¹å‰©ä½™ N - 1 ä¸ªå…ƒç´ æ‰§è¡Œã€Œå†…å¾ªç¯ã€ï¼Œå¯å°†ç¬¬äºŒå¤§å…ƒç´ äº¤æ¢è‡³å‰©ä½™æ•°ç»„æœ€å³ç«¯ï¼Œä»¥æ­¤ç±»æ¨â€¦â€¦</p>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå†’æ³¡æ’åºçš„ã€Œå¤–å¾ªç¯ã€å…± Nâˆ’1 è½®ï¼Œæ¯è½®ã€Œå†…å¾ªç¯ã€éƒ½å°†å½“å‰æœ€å¤§å…ƒç´ äº¤æ¢è‡³æ•°ç»„æœ€å³è¾¹ï¼Œä»è€Œå®Œæˆå¯¹æ•´ä¸ªæ•°ç»„çš„æ’åºã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1628616643-PvqWBM-Picture1.png" alt="Picture1.png"></p>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š<br>æ—¶é—´å¤æ‚åº¦ O(N^2)ï¼š å…¶ä¸­ N ä¸ºè¾“å…¥æ•°ç»„çš„å…ƒç´ æ•°é‡ï¼›ã€Œå¤–å¾ªç¯ã€å…± N - 1è½®ï¼Œä½¿ç”¨ O(N) æ—¶é—´ï¼›æ¯è½®ã€Œå†…å¾ªç¯ã€åˆ†åˆ«éå† N - 1 , N - 2 ,â‹¯ , 2 , 1 æ¬¡ï¼Œå¹³å‡ N&#x2F; 2 æ¬¡ï¼Œä½¿ç”¨ O(N &#x2F; 2) &#x3D;O(N) æ—¶é—´ï¼›å› æ­¤ï¼Œæ€»ä½“æ—¶é—´å¤æ‚åº¦ä¸º O(N^2) ã€‚<br>ç©ºé—´å¤æ‚åº¦ O(1) ï¼š åªéœ€åŸåœ°äº¤æ¢å…ƒç´ ï¼Œä½¿ç”¨å¸¸æ•°å¤§å°çš„é¢å¤–ç©ºé—´ã€‚</p>
<p><strong>ç®—æ³•ç‰¹æ€§</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ä¸º O(N^2)ï¼Œå› ä¸ºå…¶æ˜¯é€šè¿‡ä¸æ–­ <code>äº¤æ¢å…ƒç´ </code> å®ç°æ’åºï¼ˆäº¤æ¢ 2 ä¸ªå…ƒç´ éœ€è¦ 3 æ¬¡èµ‹å€¼æ“ä½œï¼‰ï¼Œå› æ­¤é€Ÿåº¦è¾ƒæ…¢ï¼›</li>
<li>åŸåœ°ï¼š æŒ‡é’ˆå˜é‡ä»…ä½¿ç”¨å¸¸æ•°å¤§å°é¢å¤–ç©ºé—´ï¼Œç©ºé—´å¤æ‚åº¦ä¸º O(1)ï¼›</li>
<li>ç¨³å®šï¼š å…ƒç´ å€¼ç›¸åŒæ—¶ä¸äº¤æ¢ï¼Œå› æ­¤ä¸ä¼šæ”¹å˜ç›¸åŒå…ƒç´ çš„ç›¸å¯¹ä½ç½®ï¼›</li>
<li>è‡ªé€‚åº”ï¼š é€šè¿‡å¢åŠ ä¸€ä¸ªæ ‡å¿—ä½ flag ï¼Œè‹¥æŸè½®å†…å¾ªç¯æœªæ‰§è¡Œä»»ä½•äº¤æ¢æ“ä½œæ—¶ï¼Œè¯´æ˜å·²ç»å®Œæˆæ’åºï¼Œå› æ­¤ç›´æ¥è¿”å›ã€‚æ­¤ä¼˜åŒ–ä½¿å†’æ³¡æ’åºçš„æœ€ä¼˜æ—¶é—´å¤æ‚åº¦è¾¾åˆ° O(Nï¼‰ï¼ˆå½“è¾“å…¥æ•°ç»„å·²æ’åºæ—¶ï¼‰ï¼›</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">bubbleSort1</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">N</span> <span class="operator">=</span> nums.length;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; N - <span class="number">1</span>; i++) &#123; <span class="comment">// å¤–å±‚ 0 ~ N - 1</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; N - i - <span class="number">1</span>; j++) &#123; <span class="comment">// å†…å±‚ N - i - 1</span></span><br><span class="line">            <span class="keyword">if</span> (nums[j] &gt; nums[j + <span class="number">1</span>]) &#123; <span class="comment">// äº¤æ¢</span></span><br><span class="line">                <span class="type">int</span> <span class="variable">tmp</span> <span class="operator">=</span> nums[j];</span><br><span class="line">                nums[j] = nums[j + <span class="number">1</span>];</span><br><span class="line">                nums[j + <span class="number">1</span>] = tmp;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>æ•ˆç‡ä¼˜åŒ–</strong></p>
<blockquote>
<p>ä»¥ä¸Šæ™®é€šå†’æ³¡æ’åºçš„æ—¶é—´å¤æ‚åº¦æ’ä¸º O(N^2) ï¼Œä¸è¾“å…¥æ•°ç»„çš„å…ƒç´ åˆ†å¸ƒæ— å…³</p>
</blockquote>
<p>é€šè¿‡å¢åŠ ä¸€ä¸ªæ ‡å¿—ä½ flag ï¼Œè‹¥åœ¨æŸè½®ã€Œå†…å¾ªç¯ã€ä¸­æœªæ‰§è¡Œä»»ä½•äº¤æ¢æ“ä½œï¼Œåˆ™è¯´æ˜æ•°ç»„å·²ç»å®Œæˆæ’åºï¼Œç›´æ¥è¿”å›ç»“æœå³å¯ã€‚</p>
<p>ä¼˜åŒ–åçš„å†’æ³¡æ’åºçš„æœ€å·®å’Œå¹³å‡æ—¶é—´å¤æ‚åº¦ä»ä¸º O(N^2)ï¼›åœ¨è¾“å…¥æ•°ç»„ <code>å·²æ’åº </code>æ—¶ï¼Œè¾¾åˆ° <code>æœ€ä½³æ—¶é—´å¤æ‚åº¦</code>O(N) ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ ‡å¿—ä½ä¼˜åŒ–</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">bubbleSort2</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">N</span> <span class="operator">=</span> nums.length;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; N - <span class="number">1</span>; i++) &#123; <span class="comment">// å¤–å±‚ 0 ~ N - 1</span></span><br><span class="line">        <span class="type">boolean</span> <span class="variable">flag</span> <span class="operator">=</span> <span class="literal">false</span>; <span class="comment">// åˆå§‹åŒ–æ ‡å¿—ä½</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; N - i - <span class="number">1</span>; j++) &#123; <span class="comment">// å†…å±‚ N - i - 1</span></span><br><span class="line">            <span class="keyword">if</span> (nums[j] &gt; nums[j + <span class="number">1</span>]) &#123; <span class="comment">// äº¤æ¢</span></span><br><span class="line">                <span class="type">int</span> <span class="variable">tmp</span> <span class="operator">=</span> nums[j];</span><br><span class="line">                nums[j] = nums[j + <span class="number">1</span>];</span><br><span class="line">                nums[j + <span class="number">1</span>] = tmp;</span><br><span class="line">                flag = <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (!flag) &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3ã€å¿«é€Ÿæ’åº"><a href="#3ã€å¿«é€Ÿæ’åº" class="headerlink" title="3ã€å¿«é€Ÿæ’åº"></a>3ã€å¿«é€Ÿæ’åº</h3><p><strong>ç®—æ³•è§£æ</strong><br>å¿«é€Ÿæ’åºç®—æ³•æœ‰ä¸¤ä¸ªæ ¸å¿ƒç‚¹ï¼Œåˆ†åˆ«ä¸º <code>å“¨å…µåˆ’åˆ†</code> å’Œ <code>é€’å½’</code> ã€‚</p>
<p><strong>å“¨å…µåˆ’åˆ†</strong>ï¼š<br>ä»¥æ•°ç»„æŸä¸ªå…ƒç´ ï¼ˆä¸€èˆ¬é€‰å–é¦–å…ƒç´ ï¼‰ä¸º <code>åŸºå‡†æ•°</code> ï¼Œå°†æ‰€æœ‰å°äºåŸºå‡†æ•°çš„å…ƒç´ ç§»åŠ¨è‡³å…¶å·¦è¾¹ï¼Œå¤§äºåŸºå‡†æ•°çš„å…ƒç´ ç§»åŠ¨è‡³å…¶å³è¾¹ã€‚</p>
<blockquote>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œä¸ºå“¨å…µåˆ’åˆ†æ“ä½œæµç¨‹ã€‚é€šè¿‡ä¸€è½® <strong>å“¨å…µåˆ’åˆ†</strong> ï¼Œå¯å°†æ•°ç»„æ’åºé—®é¢˜æ‹†åˆ†ä¸º <strong>ä¸¤ä¸ªè¾ƒçŸ­æ•°ç»„çš„æ’åºé—®é¢˜</strong> ï¼ˆæœ¬æ–‡ç§°ä¹‹ä¸ºå·¦ï¼ˆå³ï¼‰å­æ•°ç»„ï¼‰ã€‚</p>
</blockquote>
<p><strong>é€’å½’</strong>ï¼š</p>
<p>å¯¹ <strong>å·¦å­æ•°ç»„</strong> å’Œ <strong>å³å­æ•°ç»„</strong> åˆ†åˆ«é€’å½’æ‰§è¡Œ <strong>å“¨å…µåˆ’åˆ†</strong>ï¼Œç›´è‡³å­æ•°ç»„é•¿åº¦ä¸º 1 æ—¶ç»ˆæ­¢é€’å½’ï¼Œå³å¯å®Œæˆå¯¹æ•´ä¸ªæ•°ç»„çš„æ’åºã€‚</p>
<blockquote>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œä¸ºç¤ºä¾‹æ•°ç»„ [2,4,1,0,3,5] çš„å¿«é€Ÿæ’åºæµç¨‹ã€‚è§‚å¯Ÿå‘ç°ï¼Œå¿«é€Ÿæ’åºå’Œ äºŒåˆ†æ³• çš„åŸç†ç±»ä¼¼ï¼Œéƒ½æ˜¯ä»¥ log æ—¶é—´å¤æ‚åº¦å®ç°æœç´¢åŒºé—´ç¼©å°ã€‚</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1612615552-rifQwI-Picture1.png" alt="Picture1.png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">quickSort</span><span class="params">(<span class="type">int</span>[]nums, <span class="type">int</span> l, <span class="type">int</span> r)</span> &#123;</span><br><span class="line">    <span class="comment">// å·¦é—­å³é—­</span></span><br><span class="line">    <span class="comment">// å­æ•°ç»„é•¿åº¦ä¸º 1 æ—¶ç»ˆæ­¢é€’å½’</span></span><br><span class="line">    <span class="keyword">if</span> (l &gt;= r) <span class="keyword">return</span>;</span><br><span class="line">    <span class="comment">// å“¨å…µåˆ’åˆ†æ“ä½œ</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> partition(nums, l, r);</span><br><span class="line">    <span class="comment">// é€’å½’å·¦ï¼ˆå³ï¼‰å­æ•°ç»„æ‰§è¡Œå“¨å…µåˆ’åˆ†</span></span><br><span class="line">    quickSort(nums, l, i - <span class="number">1</span>);</span><br><span class="line">    quickSort(nums, i + <span class="number">1</span>, r);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">partition</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> l, <span class="type">int</span> r)</span> &#123;</span><br><span class="line">    <span class="comment">// ä»¥ nums[l] ä½œä¸ºåŸºå‡†æ•°</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> l, j = r;</span><br><span class="line">    <span class="keyword">while</span> (i &lt; j) &#123;</span><br><span class="line">        <span class="keyword">while</span> (i &lt; j &amp;&amp; nums[j] &gt;= nums[l]) j--;</span><br><span class="line">        <span class="keyword">while</span> (i &lt; j &amp;&amp; nums[i] &lt;= nums[l]) i++;</span><br><span class="line">        swap(nums, i, j);</span><br><span class="line">    &#125;</span><br><span class="line">    swap(nums, i, l); <span class="comment">// æœ€åå†äº¤æ¢ä¸€ä¸‹ &lt; åŒº æœ€åä¸€ä¸ªå…ƒç´ å’Œ åˆ’åˆ†å€¼</span></span><br><span class="line">    <span class="keyword">return</span> i;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">swap</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> i, <span class="type">int</span> j)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">tmp</span> <span class="operator">=</span> nums[j];</span><br><span class="line">    nums[j] = nums[i];</span><br><span class="line">    nums[i] = tmp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ç®—æ³•ç‰¹æ€§</strong></p>
<ul>
<li><p><strong>æ—¶é—´å¤æ‚åº¦ï¼š</strong></p>
<ul>
<li>æœ€ä½³ Î©(NlogN) ï¼š æœ€ä½³æƒ…å†µä¸‹ï¼Œ æ¯è½®å“¨å…µåˆ’åˆ†æ“ä½œå°†æ•°ç»„åˆ’åˆ†ä¸ºç­‰é•¿åº¦çš„ä¸¤ä¸ªå­æ•°ç»„ï¼›å“¨å…µåˆ’åˆ†æ“ä½œä¸ºçº¿æ€§æ—¶é—´å¤æ‚åº¦ O(N) ï¼›é€’å½’è½®æ•°å…± O(logN) ã€‚</li>
<li>å¹³å‡ Î˜(NlogN) ï¼š å¯¹äºéšæœºè¾“å…¥æ•°ç»„ï¼Œå“¨å…µåˆ’åˆ†æ“ä½œçš„é€’å½’è½®æ•°ä¹Ÿä¸º O(logN) ã€‚</li>
<li>æœ€å·® O(N^2)ï¼š å¯¹äºæŸäº›ç‰¹æ®Šè¾“å…¥æ•°ç»„ï¼Œæ¯è½®å“¨å…µåˆ’åˆ†æ“ä½œéƒ½å°†é•¿åº¦ä¸º N çš„æ•°ç»„åˆ’åˆ†ä¸ºé•¿åº¦ä¸º 1 å’Œ N - 1 çš„ä¸¤ä¸ªå­æ•°ç»„ï¼Œæ­¤æ—¶é€’å½’è½®æ•°è¾¾åˆ° N ã€‚</li>
</ul>
<blockquote>
<p>é€šè¿‡ ã€Œéšæœºé€‰æ‹©åŸºå‡†æ•°ã€ä¼˜åŒ–ï¼Œå¯å°½å¯èƒ½é¿å…å‡ºç°æœ€å·®æƒ…å†µï¼Œè¯¦æƒ…è¯·è§ä¸‹æ–‡ã€‚</p>
</blockquote>
</li>
<li><p><strong>ç©ºé—´å¤æ‚åº¦ O(N) ï¼š</strong> å¿«é€Ÿæ’åºçš„é€’å½’æ·±åº¦æœ€å¥½ä¸å¹³å‡çš†ä¸º log<em>N</em> ï¼›è¾“å…¥æ•°ç»„å®Œå…¨å€’åºä¸‹ï¼Œè¾¾åˆ°æœ€å·®é€’å½’æ·±åº¦ N ã€‚</p>
<blockquote>
<p>é€šè¿‡ã€ŒTail Callã€ä¼˜åŒ–ï¼Œå¯å°†æœ€å·®ç©ºé—´å¤æ‚åº¦é™ä½è‡³ O*(log*N) ï¼Œè¯¦æƒ…è¯·è§ä¸‹æ–‡ã€‚</p>
</blockquote>
</li>
<li><p>è™½ç„¶å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸ã€Œå½’å¹¶æ’åºã€å’Œã€Œå †æ’åºã€ä¸€è‡´ï¼Œä½†åœ¨å®é™…ä½¿ç”¨ä¸­å¿«é€Ÿæ’åº <strong>æ•ˆç‡æ›´é«˜</strong> ï¼Œè¿™æ˜¯å› ä¸ºï¼š</p>
<ul>
<li>æœ€å·®æƒ…å†µç¨€ç–æ€§ï¼š è™½ç„¶å¿«é€Ÿæ’åºçš„æœ€å·®æ—¶é—´å¤æ‚åº¦ä¸º O(N^2)ï¼Œå·®äºå½’å¹¶æ’åºå’Œå †æ’åºï¼Œä½†ç»Ÿè®¡æ„ä¹‰ä¸Šçœ‹ï¼Œè¿™ç§æƒ…å†µå‡ºç°çš„æœºç‡å¾ˆä½ã€‚å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œå¿«é€Ÿæ’åºä»¥ O(NlogN) å¤æ‚åº¦è¿è¡Œã€‚</li>
<li>ç¼“å­˜ä½¿ç”¨æ•ˆç‡é«˜ï¼š å“¨å…µåˆ’åˆ†æ“ä½œæ—¶ï¼Œå°†æ•´ä¸ªå­æ•°ç»„åŠ è½½å…¥ç¼“å­˜ä¸­ï¼Œè®¿é—®å…ƒç´ æ•ˆç‡å¾ˆé«˜ï¼›å †æ’åºéœ€è¦è·³è·ƒå¼è®¿é—®å…ƒç´ ï¼Œå› æ­¤ä¸å…·æœ‰æ­¤ç‰¹æ€§ã€‚</li>
<li>å¸¸æ•°ç³»æ•°ä½ï¼š åœ¨æåŠçš„ä¸‰ç§ç®—æ³•ä¸­ï¼Œå¿«é€Ÿæ’åºçš„ æ¯”è¾ƒã€èµ‹å€¼ã€äº¤æ¢ ä¸‰ç§æ“ä½œçš„ç»¼åˆè€—æ—¶æœ€ä½ï¼ˆç±»ä¼¼äºæ’å…¥æ’åºå¿«äºå†’æ³¡æ’åºçš„åŸç†ï¼‰ã€‚</li>
</ul>
</li>
<li><p>åŸåœ°ï¼š ä¸ç”¨å€ŸåŠ©è¾…åŠ©æ•°ç»„çš„é¢å¤–ç©ºé—´ï¼Œé€’å½’ä»…ä½¿ç”¨ O(logN) å¤§å°çš„æ ˆå¸§ç©ºé—´ã€‚</p>
</li>
<li><p>éç¨³å®šï¼š å“¨å…µåˆ’åˆ†æ“ä½œå¯èƒ½æ”¹å˜ç›¸ç­‰å…ƒç´ çš„ç›¸å¯¹é¡ºåºã€‚</p>
</li>
<li><p>è‡ªé€‚åº”ï¼š å¯¹äºæå°‘è¾“å…¥æ•°æ®ï¼Œæ¯è½®å“¨å…µåˆ’åˆ†æ“ä½œéƒ½å°†é•¿åº¦ä¸º N çš„æ•°ç»„åˆ’åˆ†ä¸ºé•¿åº¦ 1 å’Œ N - 1 ä¸¤ä¸ªå­æ•°ç»„ï¼Œæ­¤æ—¶æ—¶é—´å¤æ‚åº¦åŠ£åŒ–è‡³ O(N^2)ã€‚</p>
</li>
</ul>
<p><strong>ç®—æ³•ä¼˜åŒ–</strong></p>
<p>å¿«é€Ÿæ’åºçš„å¸¸è§ä¼˜åŒ–æ‰‹æ®µæœ‰ã€ŒTail Callã€å’Œã€ŒéšæœºåŸºå‡†æ•°ã€ä¸¤ç§ã€‚</p>
<p><strong>Tail Call ï¼š</strong></p>
<p>ç”±äºæ™®é€šå¿«é€Ÿæ’åºæ¯è½®é€‰å–ã€Œå­æ•°ç»„æœ€å·¦å…ƒç´ ã€ä½œä¸ºã€ŒåŸºå‡†æ•°ã€ï¼Œå› æ­¤åœ¨è¾“å…¥æ•°ç»„ <code>å®Œå…¨å€’åº</code> æ—¶ï¼Œ partition() çš„é€’å½’æ·±åº¦ä¼šè¾¾åˆ° N ï¼Œå³ <code>æœ€å·®ç©ºé—´å¤æ‚åº¦</code> ä¸º O(N) ã€‚</p>
<p>æ¯è½®é€’å½’æ—¶ï¼Œä»…å¯¹ <code>è¾ƒçŸ­çš„å­æ•°ç»„</code> æ‰§è¡Œå“¨å…µåˆ’åˆ† partition() ï¼Œå°±å¯å°†æœ€å·®çš„é€’å½’æ·±åº¦æ§åˆ¶åœ¨ O(logN) ï¼ˆæ¯è½®é€’å½’çš„å­æ•°ç»„é•¿åº¦éƒ½ â‰¤ å½“å‰æ•°ç»„é•¿åº¦ &#x2F; 2 ï¼‰ï¼Œå³å®ç°æœ€å·®ç©ºé—´å¤æ‚åº¦ O(logN) ã€‚</p>
<blockquote>
<p>ä»£ç ä»…éœ€ä¿®æ”¹ <code>quick_sort()</code> æ–¹æ³•ï¼Œå…¶ä½™æ–¹æ³•ä¸å˜ï¼Œåœ¨æ­¤çœç•¥ã€‚</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">quickSort</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> l, <span class="type">int</span> r)</span> &#123;</span><br><span class="line">    <span class="comment">// å­æ•°ç»„é•¿åº¦ä¸º 1 æ—¶ç»ˆæ­¢é€’å½’</span></span><br><span class="line">    <span class="keyword">while</span> (l &lt; r) &#123;</span><br><span class="line">        <span class="comment">// å“¨å…µåˆ’åˆ†æ“ä½œ</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> partition(nums, l, r);</span><br><span class="line">        <span class="comment">// ä»…é€’å½’è‡³è¾ƒçŸ­å­æ•°ç»„ï¼Œæ§åˆ¶é€’å½’æ·±åº¦</span></span><br><span class="line">        <span class="keyword">if</span> (i - l &lt; r - i) &#123;</span><br><span class="line">            quickSort(nums, l, i - <span class="number">1</span>);</span><br><span class="line">            l = i + <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            quickSort(nums, i + <span class="number">1</span>, r);</span><br><span class="line">            r = i - <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>éšæœºåŸºå‡†æ•°</strong>ï¼š<br>åŒæ ·åœ°ï¼Œç”±äºå¿«é€Ÿæ’åºæ¯è½®é€‰å–ã€Œå­æ•°ç»„æœ€å·¦å…ƒç´ ã€ä½œä¸ºã€ŒåŸºå‡†æ•°ã€ï¼Œå› æ­¤åœ¨è¾“å…¥æ•°ç»„ <code>å®Œå…¨æœ‰åº</code> æˆ– <code>å®Œå…¨å€’åº</code> æ—¶ï¼Œ partition() æ¯è½®åªåˆ’åˆ†ä¸€ä¸ªå…ƒç´ ï¼Œè¾¾åˆ°æœ€å·®æ—¶é—´å¤æ‚åº¦ O(N^2)ã€‚</p>
<p>å› æ­¤ï¼Œå¯ä½¿ç”¨ <code>éšæœºå‡½æ•°</code> ï¼Œæ¯è½®åœ¨å­æ•°ç»„ä¸­éšæœºé€‰æ‹©ä¸€ä¸ªå…ƒç´ ä½œä¸ºåŸºå‡†æ•°ï¼Œè¿™æ ·å°±å¯ä»¥æå¤§æ¦‚ç‡é¿å…ä»¥ä¸ŠåŠ£åŒ–æƒ…å†µã€‚</p>
<p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œç”±äºä»ç„¶å¯èƒ½å‡ºç°æœ€å·®æƒ…å†µï¼Œå› æ­¤å¿«é€Ÿæ’åºçš„æœ€å·®æ—¶é—´å¤æ‚åº¦ä»ä¸º O(N^2)ã€‚</p>
<blockquote>
<p>ä»£ç ä»…éœ€ä¿®æ”¹ <code>partition()</code> æ–¹æ³•ï¼Œå…¶ä½™æ–¹æ³•ä¸å˜ï¼Œåœ¨æ­¤çœç•¥ã€‚</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">partition</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> l, <span class="type">int</span> r)</span> &#123;</span><br><span class="line">    <span class="comment">// åœ¨é—­åŒºé—´ [l, r] éšæœºé€‰å–ä»»æ„ç´¢å¼•ï¼Œå¹¶ä¸ nums[l] äº¤æ¢</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">ra</span> <span class="operator">=</span> (<span class="type">int</span>)(l + Math.random() * (r - l + <span class="number">1</span>));</span><br><span class="line">    swap(nums, l, ra);</span><br><span class="line">    <span class="comment">// ä»¥ nums[l] ä½œä¸ºåŸºå‡†æ•°</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> l, j = r;</span><br><span class="line">    <span class="keyword">while</span> (i &lt; j) &#123;</span><br><span class="line">        <span class="keyword">while</span> (i &lt; j &amp;&amp; nums[j] &gt;= nums[l]) j--;</span><br><span class="line">        <span class="keyword">while</span> (i &lt; j &amp;&amp; nums[i] &lt;= nums[l]) i++;</span><br><span class="line">        swap(nums, i, j);</span><br><span class="line">    &#125;</span><br><span class="line">    swap(nums, i, l);</span><br><span class="line">    <span class="keyword">return</span> i;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åŸºæœ¬æ€è·¯ï¼šå¿«é€Ÿæ’åºæ¯ä¸€æ¬¡éƒ½æ’å®šä¸€ä¸ªå…ƒç´ ï¼ˆè¿™ä¸ªå…ƒç´ å‘†åœ¨äº†å®ƒæœ€ç»ˆåº”è¯¥å‘†çš„ä½ç½®ï¼‰ï¼Œç„¶åé€’å½’åœ°å»æ’å®ƒå·¦è¾¹çš„éƒ¨åˆ†å’Œå³è¾¹çš„éƒ¨åˆ†ï¼Œä¾æ¬¡è¿›è¡Œä¸‹å»ï¼Œç›´åˆ°æ•°ç»„æœ‰åºï¼›</p>
<p>ç®—æ³•æ€æƒ³ï¼šåˆ†è€Œæ²»ä¹‹ï¼ˆåˆ†æ²»æ€æƒ³ï¼‰ï¼Œä¸ã€Œå½’å¹¶æ’åºã€ä¸åŒï¼Œã€Œå¿«é€Ÿæ’åºã€åœ¨ã€Œåˆ†ã€è¿™ä»¶äº‹æƒ…ä¸Šä¸æƒ³ã€Œå½’å¹¶æ’åºã€æ— è„‘åœ°ä¸€åˆ†ä¸ºäºŒï¼Œè€Œæ˜¯é‡‡ç”¨äº† partition çš„æ–¹æ³•ï¼ˆä¹¦ä¸Šï¼Œå’Œç½‘ä¸Šéƒ½æœ‰ä»‹ç»ï¼Œå°±ä¸å±•å¼€äº†ï¼‰ï¼Œå› æ­¤å°±æ²¡æœ‰ã€Œåˆã€çš„è¿‡ç¨‹ã€‚</p>
<p>å®ç°ç»†èŠ‚ï¼ˆæ³¨æ„äº‹é¡¹ï¼‰ï¼šï¼ˆé’ˆå¯¹ç‰¹æ®Šæµ‹è¯•ç”¨ä¾‹ï¼šé¡ºåºæ•°ç»„æˆ–è€…é€†åºæ•°ç»„ï¼‰ä¸€å®šè¦éšæœºåŒ–é€‰æ‹©åˆ‡åˆ†å…ƒç´ ï¼ˆpivotï¼‰ï¼Œå¦åˆ™åœ¨è¾“å…¥æ•°ç»„æ˜¯æœ‰åºæ•°ç»„æˆ–è€…æ˜¯é€†åºæ•°ç»„çš„æ—¶å€™ï¼Œå¿«é€Ÿæ’åºä¼šå˜å¾—éå¸¸æ…¢ï¼ˆç­‰åŒäºå†’æ³¡æ’åºæˆ–è€…ã€Œé€‰æ‹©æ’åºã€ï¼‰ï¼›</p>
<p>ä»¥ä¸‹æ˜¯é’ˆå¯¹ç‰¹æ®Šæµ‹è¯•ç”¨ä¾‹ï¼ˆæœ‰å¾ˆå¤šé‡å¤å…ƒç´ çš„è¾“å…¥æ•°ç»„ï¼‰æœ‰ 3 ç§ç‰ˆæœ¬çš„å¿«æ’ï¼š</p>
<p>ç‰ˆæœ¬ 1ï¼šåŸºæœ¬<em>ï¼šæŠŠç­‰äºåˆ‡åˆ†å…ƒç´ çš„æ‰€æœ‰å…ƒç´ åˆ†åˆ°äº†æ•°ç»„çš„åŒä¸€ä¾§ï¼Œå¯èƒ½ä¼šé€ æˆé€’å½’æ ‘å€¾æ–œï¼›<br>ç‰ˆæœ¬ 2ï¼šåŒæŒ‡é’ˆ</em>ï¼šæŠŠç­‰äºåˆ‡åˆ†å…ƒç´ çš„æ‰€æœ‰å…ƒç´ ç­‰æ¦‚ç‡åœ°åˆ†åˆ°äº†æ•°ç»„çš„ä¸¤ä¾§ï¼Œé¿å…äº†é€’å½’æ ‘å€¾æ–œï¼Œé€’å½’æ ‘ç›¸å¯¹å¹³è¡¡ï¼›<br>ç‰ˆæœ¬ 3ï¼šä¸‰æŒ‡é’ˆï¼šæŠŠç­‰äºåˆ‡åˆ†å…ƒç´ çš„æ‰€æœ‰å…ƒç´ æŒ¤åˆ°äº†æ•°ç»„çš„ä¸­é—´ï¼Œåœ¨æœ‰å¾ˆå¤šå…ƒç´ å’Œåˆ‡åˆ†å…ƒç´ ç›¸ç­‰çš„æƒ…å†µä¸‹ï¼Œé€’å½’åŒºé—´å¤§å¤§å‡å°‘ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Random;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¿«é€Ÿæ’åº 1ï¼šåŸºæœ¬å¿«é€Ÿæ’åº</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆ—è¡¨å¤§å°ç­‰äºæˆ–å°äºè¯¥å¤§å°ï¼Œå°†ä¼˜å…ˆäº quickSort ä½¿ç”¨æ’å…¥æ’åº</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">INSERTION_SORT_THRESHOLD</span> <span class="operator">=</span> <span class="number">7</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Random</span> <span class="variable">RANDOM</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Random</span>();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[] sortArray(<span class="type">int</span>[] nums) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> nums.length;</span><br><span class="line">        quickSort(nums, <span class="number">0</span>, len - <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span> nums;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">quickSort</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> left, <span class="type">int</span> right)</span> &#123;</span><br><span class="line">        <span class="comment">// å°åŒºé—´ä½¿ç”¨æ’å…¥æ’åº</span></span><br><span class="line">        <span class="keyword">if</span> (right - left &lt;= INSERTION_SORT_THRESHOLD) &#123;</span><br><span class="line">            insertionSort(nums, left, right);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">pIndex</span> <span class="operator">=</span> partition(nums, left, right);</span><br><span class="line">        quickSort(nums, left, pIndex - <span class="number">1</span>);</span><br><span class="line">        quickSort(nums, pIndex + <span class="number">1</span>, right);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å¯¹æ•°ç»„ nums çš„å­åŒºé—´ [left, right] ä½¿ç”¨æ’å…¥æ’åº</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> nums  ç»™å®šæ•°ç»„</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> left  å·¦è¾¹ç•Œï¼Œèƒ½å–åˆ°</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> right å³è¾¹ç•Œï¼Œèƒ½å–åˆ°</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">insertionSort</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> left, <span class="type">int</span> right)</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> left + <span class="number">1</span>; i &lt;= right; i++) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> nums[i];</span><br><span class="line">            <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i;</span><br><span class="line">            <span class="keyword">while</span> (j &gt; left &amp;&amp; nums[j - <span class="number">1</span>] &gt; temp) &#123;</span><br><span class="line">                nums[j] = nums[j - <span class="number">1</span>];</span><br><span class="line">                j--;</span><br><span class="line">            &#125;</span><br><span class="line">            nums[j] = temp;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">partition</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> left, <span class="type">int</span> right)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">randomIndex</span> <span class="operator">=</span> RANDOM.nextInt(right - left + <span class="number">1</span>) + left;</span><br><span class="line">        swap(nums, left, randomIndex);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åŸºå‡†å€¼</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">pivot</span> <span class="operator">=</span> nums[left];</span><br><span class="line">        <span class="type">int</span> <span class="variable">lt</span> <span class="operator">=</span> left;</span><br><span class="line">        <span class="comment">// å¾ªç¯ä¸å˜é‡ï¼š</span></span><br><span class="line">        <span class="comment">// all in [left + 1, lt] &lt; pivot</span></span><br><span class="line">        <span class="comment">// all in [lt + 1, i) &gt;= pivot</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> left + <span class="number">1</span>; i &lt;= right; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (nums[i] &lt; pivot) &#123;</span><br><span class="line">                lt++;</span><br><span class="line">                swap(nums, i, lt);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        swap(nums, left, lt);</span><br><span class="line">        <span class="keyword">return</span> lt;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">swap</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> index1, <span class="type">int</span> index2)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> nums[index1];</span><br><span class="line">        nums[index1] = nums[index2];</span><br><span class="line">        nums[index2] = temp;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Random;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¿«é€Ÿæ’åº 2ï¼šåŒæŒ‡é’ˆï¼ˆæŒ‡é’ˆå¯¹æ’ï¼‰å¿«é€Ÿæ’åº</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆ—è¡¨å¤§å°ç­‰äºæˆ–å°äºè¯¥å¤§å°ï¼Œå°†ä¼˜å…ˆäº quickSort ä½¿ç”¨æ’å…¥æ’åº</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">INSERTION_SORT_THRESHOLD</span> <span class="operator">=</span> <span class="number">7</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Random</span> <span class="variable">RANDOM</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Random</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[] sortArray(<span class="type">int</span>[] nums) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> nums.length;</span><br><span class="line">        quickSort(nums, <span class="number">0</span>, len - <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span> nums;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">quickSort</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> left, <span class="type">int</span> right)</span> &#123;</span><br><span class="line">        <span class="comment">// å°åŒºé—´ä½¿ç”¨æ’å…¥æ’åº</span></span><br><span class="line">        <span class="keyword">if</span> (right - left &lt;= INSERTION_SORT_THRESHOLD) &#123;</span><br><span class="line">            insertionSort(nums, left, right);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">pIndex</span> <span class="operator">=</span> partition(nums, left, right);</span><br><span class="line">        quickSort(nums, left, pIndex - <span class="number">1</span>);</span><br><span class="line">        quickSort(nums, pIndex + <span class="number">1</span>, right);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å¯¹æ•°ç»„ nums çš„å­åŒºé—´ [left, right] ä½¿ç”¨æ’å…¥æ’åº</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> nums  ç»™å®šæ•°ç»„</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> left  å·¦è¾¹ç•Œï¼Œèƒ½å–åˆ°</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> right å³è¾¹ç•Œï¼Œèƒ½å–åˆ°</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">insertionSort</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> left, <span class="type">int</span> right)</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> left + <span class="number">1</span>; i &lt;= right; i++) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> nums[i];</span><br><span class="line">            <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i;</span><br><span class="line">            <span class="keyword">while</span> (j &gt; left &amp;&amp; nums[j - <span class="number">1</span>] &gt; temp) &#123;</span><br><span class="line">                nums[j] = nums[j - <span class="number">1</span>];</span><br><span class="line">                j--;</span><br><span class="line">            &#125;</span><br><span class="line">            nums[j] = temp;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">partition</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> left, <span class="type">int</span> right)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">randomIndex</span> <span class="operator">=</span> left + RANDOM.nextInt(right - left + <span class="number">1</span>);</span><br><span class="line">        swap(nums, randomIndex, left);</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">pivot</span> <span class="operator">=</span> nums[left];</span><br><span class="line">        <span class="type">int</span> <span class="variable">lt</span> <span class="operator">=</span> left + <span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">gt</span> <span class="operator">=</span> right;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¾ªç¯ä¸å˜é‡ï¼š</span></span><br><span class="line">        <span class="comment">// all in [left + 1, lt) &lt;= pivot</span></span><br><span class="line">        <span class="comment">// all in (gt, right] &gt;= pivot</span></span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            <span class="keyword">while</span> (lt &lt;= right &amp;&amp; nums[lt] &lt; pivot) &#123;</span><br><span class="line">                lt++;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">while</span> (gt &gt; left &amp;&amp; nums[gt] &gt; pivot) &#123;</span><br><span class="line">                gt--;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (lt &gt;= gt) &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// ç»†èŠ‚ï¼šç›¸ç­‰çš„å…ƒç´ é€šè¿‡äº¤æ¢ï¼Œç­‰æ¦‚ç‡åˆ†åˆ°æ•°ç»„çš„ä¸¤è¾¹</span></span><br><span class="line">            swap(nums, lt, gt);</span><br><span class="line">            lt++;</span><br><span class="line">            gt--;</span><br><span class="line">        &#125;</span><br><span class="line">        swap(nums, left, gt);</span><br><span class="line">        <span class="keyword">return</span> gt;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">swap</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> index1, <span class="type">int</span> index2)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> nums[index1];</span><br><span class="line">        nums[index1] = nums[index2];</span><br><span class="line">        nums[index2] = temp;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Random;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¿«é€Ÿæ’åº 3ï¼šä¸‰æŒ‡é’ˆå¿«é€Ÿæ’åº</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆ—è¡¨å¤§å°ç­‰äºæˆ–å°äºè¯¥å¤§å°ï¼Œå°†ä¼˜å…ˆäº quickSort ä½¿ç”¨æ’å…¥æ’åº</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">INSERTION_SORT_THRESHOLD</span> <span class="operator">=</span> <span class="number">7</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Random</span> <span class="variable">RANDOM</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Random</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[] sortArray(<span class="type">int</span>[] nums) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> nums.length;</span><br><span class="line">        quickSort(nums, <span class="number">0</span>, len - <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span> nums;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">quickSort</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> left, <span class="type">int</span> right)</span> &#123;</span><br><span class="line">        <span class="comment">// å°åŒºé—´ä½¿ç”¨æ’å…¥æ’åº</span></span><br><span class="line">        <span class="keyword">if</span> (right - left &lt;= INSERTION_SORT_THRESHOLD) &#123;</span><br><span class="line">            insertionSort(nums, left, right);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">randomIndex</span> <span class="operator">=</span> left + RANDOM.nextInt(right - left + <span class="number">1</span>);</span><br><span class="line">        swap(nums, randomIndex, left);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¾ªç¯ä¸å˜é‡ï¼š</span></span><br><span class="line">        <span class="comment">// all in [left + 1, lt] &lt; pivot</span></span><br><span class="line">        <span class="comment">// all in [lt + 1, i) = pivot</span></span><br><span class="line">        <span class="comment">// all in [gt, right] &gt; pivot</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">pivot</span> <span class="operator">=</span> nums[left];</span><br><span class="line">        <span class="type">int</span> <span class="variable">lt</span> <span class="operator">=</span> left;</span><br><span class="line">        <span class="type">int</span> <span class="variable">gt</span> <span class="operator">=</span> right + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> left + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (i &lt; gt) &#123;</span><br><span class="line">            <span class="keyword">if</span> (nums[i] &lt; pivot) &#123;</span><br><span class="line">                lt++;</span><br><span class="line">                swap(nums, i, lt);</span><br><span class="line">                i++;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[i] == pivot) &#123;</span><br><span class="line">                i++;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                gt--;</span><br><span class="line">                swap(nums, i, gt);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        swap(nums, left, lt);</span><br><span class="line">        <span class="comment">// æ³¨æ„è¿™é‡Œï¼Œå¤§å¤§å‡å°‘äº†ä¸¤ä¾§åˆ†æ²»çš„åŒºé—´</span></span><br><span class="line">        quickSort(nums, left, lt - <span class="number">1</span>);</span><br><span class="line">        quickSort(nums, gt, right);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å¯¹æ•°ç»„ nums çš„å­åŒºé—´ [left, right] ä½¿ç”¨æ’å…¥æ’åº</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> nums  ç»™å®šæ•°ç»„</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> left  å·¦è¾¹ç•Œï¼Œèƒ½å–åˆ°</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> right å³è¾¹ç•Œï¼Œèƒ½å–åˆ°</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">insertionSort</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> left, <span class="type">int</span> right)</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> left + <span class="number">1</span>; i &lt;= right; i++) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> nums[i];</span><br><span class="line">            <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i;</span><br><span class="line">            <span class="keyword">while</span> (j &gt; left &amp;&amp; nums[j - <span class="number">1</span>] &gt; temp) &#123;</span><br><span class="line">                nums[j] = nums[j - <span class="number">1</span>];</span><br><span class="line">                j--;</span><br><span class="line">            &#125;</span><br><span class="line">            nums[j] = temp;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">swap</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> index1, <span class="type">int</span> index2)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> nums[index1];</span><br><span class="line">        nums[index1] = nums[index2];</span><br><span class="line">        nums[index2] = temp;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="4ã€å½’å¹¶æ’åº"><a href="#4ã€å½’å¹¶æ’åº" class="headerlink" title="4ã€å½’å¹¶æ’åº"></a>4ã€å½’å¹¶æ’åº</h3><p><strong>ç®—æ³•è§£æ</strong></p>
<p>å½’å¹¶æ’åºä½“ç°äº† â€œåˆ†è€Œæ²»ä¹‹â€ çš„ç®—æ³•æ€æƒ³ï¼Œå…·ä½“ä¸ºï¼š</p>
<ul>
<li>ã€Œåˆ†ã€ï¼š ä¸æ–­å°†æ•°ç»„ä» ä¸­ç‚¹ä½ç½® åˆ’åˆ†å¼€ï¼Œå°†åŸæ•°ç»„çš„æ’åºé—®é¢˜è½¬åŒ–ä¸ºå­æ•°ç»„çš„æ’åºé—®é¢˜ï¼›</li>
<li>ã€Œæ²»ã€ï¼š åˆ’åˆ†åˆ°å­æ•°ç»„é•¿åº¦ä¸º 1 æ—¶ï¼Œå¼€å§‹å‘ä¸Šåˆå¹¶ï¼Œä¸æ–­å°† å·¦å³ä¸¤ä¸ªè¾ƒçŸ­æ’åºæ•°ç»„ åˆå¹¶ä¸º ä¸€ä¸ªè¾ƒé•¿æ’åºæ•°ç»„ï¼Œç›´è‡³åˆå¹¶è‡³åŸæ•°ç»„æ—¶å®Œæˆæ’åºï¼›</li>
</ul>
<blockquote>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œä¸ºæ•°ç»„ <code>[7,3,2,6,0,1,5,4]</code> çš„å½’å¹¶æ’åºè¿‡ç¨‹ã€‚</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1632675739-CNHaOu-Picture1.png" alt="Picture1.png"></p>
<p><strong>ç®—æ³•æµç¨‹</strong>ï¼š</p>
<ol>
<li><p><code>é€’å½’åˆ’åˆ†</code>ï¼š</p>
<ol>
<li>è®¡ç®—æ•°ç»„ä¸­ç‚¹ m ï¼Œé€’å½’åˆ’åˆ†å·¦å­æ•°ç»„ merge_sort(l, m) å’Œå³å­æ•°ç»„ merge_sort(m + 1, r) ï¼›</li>
<li>å½“ l â‰¥ r æ—¶ï¼Œä»£è¡¨å­æ•°ç»„é•¿åº¦ä¸º 1 æˆ– 0 ï¼Œæ­¤æ—¶ <strong>ç»ˆæ­¢åˆ’åˆ†</strong> ï¼Œå¼€å§‹åˆå¹¶ï¼›</li>
</ol>
</li>
<li><p><code>åˆå¹¶å­æ•°ç»„</code>ï¼š</p>
<ol>
<li>æš‚å­˜æ•°ç»„ nums é—­åŒºé—´ [l,r] å†…çš„å…ƒç´ è‡³è¾…åŠ©æ•°ç»„ tmp ï¼›</li>
<li><code>å¾ªç¯åˆå¹¶</code>ï¼š è®¾ç½®åŒæŒ‡é’ˆ i , j åˆ†åˆ«æŒ‡å‘ tmp çš„å·¦ &#x2F; å³å­æ•°ç»„çš„é¦–å…ƒç´ ï¼›</li>
</ol>
<blockquote>
<p>æ³¨æ„ï¼š nums å­æ•°ç»„çš„å·¦è¾¹ç•Œã€ä¸­ç‚¹ã€å³è¾¹ç•Œåˆ†åˆ«ä¸º l , m , r ï¼Œè€Œè¾…åŠ©æ•°ç»„ tmp ä¸­çš„å¯¹åº”ç´¢å¼•ä¸º 0 , m - l, r - lï¼›</p>
</blockquote>
<ul>
<li>å½“ i &#x3D;&#x3D; m - l + 1 æ—¶ï¼š ä»£è¡¨å·¦å­æ•°ç»„å·²åˆå¹¶å®Œï¼Œå› æ­¤æ·»åŠ å³å­æ•°ç»„å…ƒç´  tmp[j] ï¼Œå¹¶æ‰§è¡Œ j &#x3D; j + 1 ï¼›</li>
</ul>
</li>
</ol>
<ul>
<li>å¦åˆ™,å½“ j &#x3D;&#x3D; r - l + 1 æ—¶;ä»£è¡¨å³å­æ•°ç»„å·²åˆå¹¶å®Œï¼Œå› æ­¤æ·»åŠ å·¦å­æ•°ç»„å…ƒç´  tmp[i]ï¼Œå¹¶æ‰§è¡Œ i &#x3D; i + 1ï¼›</li>
<li>å¦åˆ™ï¼Œå½“ tmp[i]â‰¤tmp[j] æ—¶ï¼š æ·»åŠ å·¦å­æ•°ç»„å…ƒç´  tmp[i] ï¼Œå¹¶æ‰§è¡Œ i &#x3D; i + 1 ï¼›</li>
<li>å¦åˆ™ï¼ˆå³å½“ tmp[i] &gt; tmp[j] æ—¶ï¼‰ï¼š æ·»åŠ å³å­æ•°ç»„å…ƒç´  tmp[j] ï¼Œå¹¶æ‰§è¡Œ j &#x3D; j + 1 ï¼›</li>
</ul>
<p>â€‹	</p>
<blockquote>
<p>å¦‚ä¸‹åŠ¨å›¾æ‰€ç¤ºï¼Œä¸ºæ•°ç»„ <code>[7,3,2,6]</code> çš„å½’å¹¶æ’åºè¿‡ç¨‹ã€‚</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1632675727-VVDNmq-Picture11.png" alt="img"></p>
<p>ä¸ºç®€åŒ–ä»£ç ï¼Œã€Œå½“ j &#x3D; r + 1æ—¶ã€ ä¸ ã€Œå½“ tmp*[<em>i</em>]â‰¤*tmp[j] æ—¶ã€ ä¸¤åˆ¤æ–­é¡¹å¯åˆå¹¶ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">mergeSort</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> l, <span class="type">int</span> r)</span> &#123;</span><br><span class="line">    <span class="comment">// ç»ˆæ­¢æ¡ä»¶</span></span><br><span class="line">    <span class="keyword">if</span> (l &gt;= r) <span class="keyword">return</span>;</span><br><span class="line">    <span class="comment">// é€’å½’åˆ’åˆ†</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> (l + r) / <span class="number">2</span>;</span><br><span class="line">    mergeSort(nums, l, m);</span><br><span class="line">    mergeSort(nums, m + <span class="number">1</span>, r);</span><br><span class="line">    <span class="comment">// åˆå¹¶</span></span><br><span class="line">    <span class="type">int</span>[] tmp = <span class="keyword">new</span> <span class="title class_">int</span>[r - l + <span class="number">1</span>]; <span class="comment">// æš‚å­˜éœ€åˆå¹¶åŒºé—´å…ƒç´ </span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> l; k &lt;= r; k++) &#123;</span><br><span class="line">        tmp[k - l] = nums[k];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>, j = m - l + <span class="number">1</span>; <span class="comment">// ä¸¤æŒ‡é’ˆåˆ†åˆ«æŒ‡å‘å·¦/å³å­æ•°ç»„çš„é¦–ä¸ªå…ƒç´ </span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> l; k &lt;= r; k++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (i == m - l + <span class="number">1</span>) &#123;</span><br><span class="line">            nums[k] = tmp[j++];</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (j == r - l + <span class="number">1</span> || tmp[i] &lt;= tmp[j]) &#123;</span><br><span class="line">            nums[k] = tmp[i++];</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            nums[k] = tmp[j++];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>ç®—æ³•ç‰¹æ€§</strong></p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š æœ€ä½³ Î©(NlogN) ï¼Œå¹³å‡ Î˜(NlogN) ï¼Œæœ€å·® O(NlogN) ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(N) ï¼š åˆå¹¶è¿‡ç¨‹ä¸­éœ€è¦å€ŸåŠ©è¾…åŠ©æ•°ç»„ tmp ï¼Œä½¿ç”¨ O(N) å¤§å°çš„é¢å¤–ç©ºé—´ï¼›åˆ’åˆ†çš„é€’å½’æ·±åº¦ä¸º logN ï¼Œä½¿ç”¨ O(logN) å¤§å°çš„æ ˆå¸§ç©ºé—´ã€‚</li>
<li>è‹¥è¾“å…¥æ•°æ®æ˜¯ <code>é“¾è¡¨</code> ï¼Œåˆ™å½’å¹¶æ’åºçš„ç©ºé—´å¤æ‚åº¦å¯è¢«ä¼˜åŒ–è‡³ O(1) ï¼Œè¿™æ˜¯å› ä¸ºï¼š<ul>
<li>é€šè¿‡åº”ç”¨ã€ŒåŒæŒ‡é’ˆæ³•ã€ï¼Œå¯åœ¨ O(1) ç©ºé—´ä¸‹å®Œæˆä¸¤ä¸ªæ’åºé“¾è¡¨çš„åˆå¹¶ï¼Œçœå»è¾…åŠ©æ•°ç»„ tmp ä½¿ç”¨çš„é¢å¤–ç©ºé—´ï¼›</li>
<li>é€šè¿‡ä½¿ç”¨ã€Œè¿­ä»£ã€ä»£æ›¿ã€Œé€’å½’åˆ’åˆ†ã€ï¼Œå¯çœå»é€’å½’ä½¿ç”¨çš„æ ˆå¸§ç©ºé—´ï¼›</li>
</ul>
</li>
<li>éåŸåœ°ï¼š è¾…åŠ©æ•°ç»„ tmp éœ€è¦ä½¿ç”¨é¢å¤–ç©ºé—´ã€‚</li>
<li>ç¨³å®šï¼š å½’å¹¶æ’åºä¸æ”¹å˜ç›¸ç­‰å…ƒç´ çš„ç›¸å¯¹é¡ºåºã€‚</li>
<li>éè‡ªé€‚åº”ï¼š å¯¹äºä»»æ„è¾“å…¥æ•°æ®ï¼Œå½’å¹¶æ’åºçš„æ—¶é—´å¤æ‚åº¦çš†ç›¸åŒã€‚</li>
</ul>
<p><strong>ä¼˜åŒ– 1</strong>ï¼šåœ¨ã€Œå°åŒºé—´ã€é‡Œè½¬å‘ä½¿ç”¨ã€Œæ’å…¥æ’åºã€ï¼ŒJava æºç é‡Œé¢ä¹Ÿæœ‰ç±»ä¼¼è¿™ç§æ“ä½œï¼Œã€Œå°åŒºé—´ã€çš„é•¿åº¦æ˜¯ä¸ªè¶…å‚æ•°ï¼Œéœ€è¦æµ‹è¯•å†³å®šï¼Œæˆ‘è¿™é‡Œå‚è€ƒäº† JDK æºç ï¼›<br><strong>ä¼˜åŒ– 2</strong>ï¼š åœ¨ã€Œä¸¤ä¸ªæ•°ç»„ã€æœ¬èº«å°±æ˜¯æœ‰åºçš„æƒ…å†µä¸‹ï¼Œæ— éœ€åˆå¹¶ï¼›<br><strong>ä¼˜åŒ– 3</strong>ï¼šå…¨ç¨‹ä½¿ç”¨ä¸€ä»½ä¸´æ—¶æ•°ç»„è¿›è¡Œã€Œåˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„ã€çš„æ“ä½œï¼Œé¿å…åˆ›å»ºä¸´æ—¶æ•°ç»„å’Œé”€æ¯çš„æ¶ˆè€—ï¼Œé¿å…è®¡ç®—ä¸‹æ ‡åç§»é‡ã€‚<br>æ³¨æ„ï¼šå®ç°å½’å¹¶æ’åºçš„æ—¶å€™ï¼Œè¦ç‰¹åˆ«æ³¨æ„ï¼Œä¸è¦æŠŠè¿™ä¸ªç®—æ³•å®ç°æˆéç¨³å®šæ’åºï¼ŒåŒºåˆ«å°±åœ¨ &lt;&#x3D; å’Œ &lt; ï¼Œå·²åœ¨ä»£ç ä¸­æ³¨æ˜ã€‚<br>ã€Œå½’å¹¶æ’åºã€æ¯”ã€Œå¿«é€Ÿæ’åºã€å¥½çš„ä¸€ç‚¹æ˜¯ï¼Œå®ƒå€ŸåŠ©äº†é¢å¤–ç©ºé—´ï¼Œå¯ä»¥å®ç°ã€Œç¨³å®šæ’åºã€ï¼ŒJava é‡Œå¯¹äºã€Œå¯¹è±¡æ•°ç»„ã€çš„æ’åºä»»åŠ¡ï¼Œå°±æ˜¯ä½¿ç”¨å½’å¹¶æ’åºï¼ˆçš„å‡çº§ç‰ˆ TimSortï¼Œåœ¨è¿™é‡Œå°±ä¸å¤šåšä»‹ç»ï¼‰ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="comment">// å½’å¹¶æ’åº</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆ—è¡¨å¤§å°ç­‰äºæˆ–å°äºè¯¥å¤§å°ï¼Œå°†ä¼˜å…ˆäº mergeSort ä½¿ç”¨æ’å…¥æ’åº</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">INSERTION_SORT_THRESHOLD</span> <span class="operator">=</span> <span class="number">7</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[] sortArray(<span class="type">int</span>[] nums) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> nums.length;</span><br><span class="line">        <span class="type">int</span>[] temp = <span class="keyword">new</span> <span class="title class_">int</span>[len];</span><br><span class="line">        mergeSort(nums, <span class="number">0</span>, len - <span class="number">1</span>, temp);</span><br><span class="line">        <span class="keyword">return</span> nums;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å¯¹æ•°ç»„ nums çš„å­åŒºé—´ [left, right] è¿›è¡Œå½’å¹¶æ’åº</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> nums</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> left</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> right</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> temp  ç”¨äºåˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„çš„è¾…åŠ©æ•°ç»„ï¼Œå…¨å±€ä½¿ç”¨ä¸€ä»½ï¼Œé¿å…å¤šæ¬¡åˆ›å»ºå’Œé”€æ¯</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">mergeSort</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> left, <span class="type">int</span> right, <span class="type">int</span>[] temp)</span> &#123;</span><br><span class="line">        <span class="comment">// å°åŒºé—´ä½¿ç”¨æ’å…¥æ’åº</span></span><br><span class="line">        <span class="keyword">if</span> (right - left &lt;= INSERTION_SORT_THRESHOLD) &#123;</span><br><span class="line">            insertionSort(nums, left, right);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> left + (right - left) / <span class="number">2</span>;</span><br><span class="line">        <span class="comment">// Java é‡Œæœ‰æ›´ä¼˜çš„å†™æ³•ï¼Œåœ¨ left å’Œ right éƒ½æ˜¯å¤§æ•´æ•°æ—¶ï¼Œå³ä½¿æº¢å‡ºï¼Œç»“è®ºä¾ç„¶æ­£ç¡®</span></span><br><span class="line">        <span class="comment">// int mid = (left + right) &gt;&gt;&gt; 1;</span></span><br><span class="line"></span><br><span class="line">        mergeSort(nums, left, mid, temp);</span><br><span class="line">        mergeSort(nums, mid + <span class="number">1</span>, right, temp);</span><br><span class="line">        <span class="comment">// å¦‚æœæ•°ç»„çš„è¿™ä¸ªå­åŒºé—´æœ¬èº«æœ‰åºï¼Œæ— éœ€åˆå¹¶</span></span><br><span class="line">        <span class="keyword">if</span> (nums[mid] &lt;= nums[mid + <span class="number">1</span>]) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        mergeOfTwoSortedArray(nums, left, mid, right, temp); <span class="comment">// åˆå¹¶</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å¯¹æ•°ç»„ arr çš„å­åŒºé—´ [left, right] ä½¿ç”¨æ’å…¥æ’åº</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> arr   ç»™å®šæ•°ç»„</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> left  å·¦è¾¹ç•Œï¼Œèƒ½å–åˆ°</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> right å³è¾¹ç•Œï¼Œèƒ½å–åˆ°</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">insertionSort</span><span class="params">(<span class="type">int</span>[] arr, <span class="type">int</span> left, <span class="type">int</span> right)</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> left + <span class="number">1</span>; i &lt;= right; i++) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> arr[i];</span><br><span class="line">            <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i;</span><br><span class="line">            <span class="keyword">while</span> (j &gt; left &amp;&amp; arr[j - <span class="number">1</span>] &gt; temp) &#123;</span><br><span class="line">                arr[j] = arr[j - <span class="number">1</span>];</span><br><span class="line">                j--;</span><br><span class="line">            &#125;</span><br><span class="line">            arr[j] = temp;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„ï¼šå…ˆæŠŠå€¼å¤åˆ¶åˆ°ä¸´æ—¶æ•°ç»„ï¼Œå†åˆå¹¶å›å»</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> nums</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> left</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> mid   [left, mid] æœ‰åºï¼Œ[mid + 1, right] æœ‰åº</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> right</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> temp  å…¨å±€ä½¿ç”¨çš„ä¸´æ—¶æ•°ç»„</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">mergeOfTwoSortedArray</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> left, <span class="type">int</span> mid, <span class="type">int</span> right, <span class="type">int</span>[] temp)</span> &#123;</span><br><span class="line">        System.arraycopy(nums, left, temp, left, right + <span class="number">1</span> - left);</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> left;</span><br><span class="line">        <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> mid + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> left; k &lt;= right; k++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i == mid + <span class="number">1</span>) &#123;</span><br><span class="line">                nums[k] = temp[j];</span><br><span class="line">                j++;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (j == right + <span class="number">1</span>) &#123;</span><br><span class="line">                nums[k] = temp[i];</span><br><span class="line">                i++;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (temp[i] &lt;= temp[j]) &#123;</span><br><span class="line">                <span class="comment">// æ³¨æ„å†™æˆ &lt; å°±ä¸¢å¤±äº†ç¨³å®šæ€§ï¼ˆç›¸åŒå…ƒç´ åŸæ¥é å‰çš„æ’åºä»¥åä¾ç„¶é å‰ï¼‰</span></span><br><span class="line">                nums[k] = temp[i];</span><br><span class="line">                i++;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// temp[i] &gt; temp[j]</span></span><br><span class="line">                nums[k] = temp[j];</span><br><span class="line">                j++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼šO(NlogN)ï¼Œè¿™é‡Œ N æ˜¯æ•°ç»„çš„é•¿åº¦ï¼›</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼šO(N)ï¼Œè¾…åŠ©æ•°ç»„ä¸è¾“å…¥æ•°ç»„è§„æ¨¡ç›¸å½“ã€‚</li>
</ul>
<p>ã€Œå½’å¹¶æ’åºã€ä¹Ÿæœ‰ã€ŒåŸåœ°å½’å¹¶æ’åºã€å’Œã€Œä¸ä½¿ç”¨é€’å½’ã€çš„å½’å¹¶æ’åºï¼Œä½†æ˜¯æˆ‘ä¸ªäººè§‰å¾—ä¸å¸¸ç”¨ï¼Œç¼–ç ã€è°ƒè¯•éƒ½æœ‰ä¸€å®šéš¾åº¦ã€‚é€’å½’ã€åˆ†æ²»å¤„ç†é—®é¢˜çš„æ€æƒ³åœ¨åŸºç¡€ç®—æ³•é¢†åŸŸæ˜¯éå¸¸å¸¸è§çš„ï¼Œå»ºè®®å¤šç»ƒä¹ ç¼–å†™ã€Œå½’å¹¶æ’åºã€å­¦ä¹ é€’å½’æ€æƒ³ï¼Œäº†è§£é€’å½’çš„ç»†èŠ‚ï¼Œç†Ÿæ‚‰åˆ†æ²»çš„æ€æƒ³ã€‚</p>
<h3 id="5ã€é€‰æ‹©æ’åº"><a href="#5ã€é€‰æ‹©æ’åº" class="headerlink" title="5ã€é€‰æ‹©æ’åº"></a>5ã€é€‰æ‹©æ’åº</h3><p><strong>æ€è·¯</strong>ï¼šæ¯ä¸€è½®é€‰å–æœªæ’å®šçš„éƒ¨åˆ†ä¸­<strong>æœ€å°</strong>çš„éƒ¨åˆ†äº¤æ¢åˆ°æœªæ’å®šéƒ¨åˆ†çš„æœ€å¼€å¤´ï¼Œç»è¿‡è‹¥å¹²ä¸ªæ­¥éª¤ï¼Œå°±èƒ½æ’å®šæ•´ä¸ªæ•°ç»„ã€‚å³ï¼šå…ˆé€‰å‡ºæœ€å°çš„ï¼Œå†é€‰å‡ºç¬¬ 2 å°çš„ï¼Œä»¥æ­¤ç±»æ¨ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">selectSort</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">    <span class="comment">// å¾ªç¯ä¸å˜é‡ï¼š[0, i) æœ‰åºï¼Œä¸”è¯¥åŒºé—´é‡Œæ‰€æœ‰å…ƒç´ å°±æ˜¯æœ€ç»ˆæ’å®šçš„æ ·å­</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">        <span class="comment">// é€‰æ‹©åŒºé—´ [i, len - 1] é‡Œæœ€å°çš„å…ƒç´ çš„ç´¢å¼•ï¼Œäº¤æ¢åˆ°ä¸‹æ ‡ i</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">index</span> <span class="operator">=</span> i;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i + <span class="number">1</span>; j &lt; nums.length; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (nums[j] &lt; nums[index]) &#123;</span><br><span class="line">                index = j;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        swap(nums, index, i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">swap</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> j, <span class="type">int</span> i)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> nums[i];</span><br><span class="line">    nums[i] = nums[j];</span><br><span class="line">    nums[j] = temp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>æ€»ç»“</strong>ï¼š</p>
<ul>
<li>ç®—æ³•æ€æƒ³ 1ï¼š<strong>è´ªå¿ƒç®—æ³•</strong>æ¯ä¸€æ¬¡å†³ç­–åªçœ‹å½“å‰ï¼Œå½“å‰æœ€ä¼˜ï¼Œåˆ™å…¨å±€æœ€ä¼˜ã€‚æ³¨æ„ï¼šè¿™ç§æ€æƒ³ä¸æ˜¯ä»»ä½•æ—¶å€™éƒ½é€‚ç”¨ã€‚</li>
<li>ç®—æ³•æ€æƒ³ 2ï¼š<strong>å‡æ²»æ€æƒ³</strong>å¤–å±‚å¾ªç¯æ¯ä¸€æ¬¡éƒ½èƒ½æ’å®šä¸€ä¸ªå…ƒç´ ï¼Œé—®é¢˜çš„è§„æ¨¡é€æ¸å‡å°‘ï¼Œç›´åˆ°å…¨éƒ¨è§£å†³ï¼Œå³ã€Œå¤§è€ŒåŒ–å°ï¼Œå°è€ŒåŒ–äº†ã€ã€‚è¿ç”¨ã€Œå‡æ²»æ€æƒ³ã€å¾ˆå…¸å‹çš„ç®—æ³•å°±æ˜¯å¤§åé¼é¼çš„ã€ŒäºŒåˆ†æŸ¥æ‰¾ã€ã€‚</li>
</ul>
<p><strong>ä¼˜ç‚¹</strong>ï¼š</p>
<ol>
<li>é€‰æ‹©æ’åºä¸€èˆ¬è¦å¿«äºå†’æ³¡ï¼Œå› ä¸ºå…¶<strong>äº¤æ¢æ¬¡æ•°å°‘</strong>ã€‚</li>
<li>ä½†å¦‚æœé›†åˆæœ‰åºåº¦é«˜ï¼Œå†’æ³¡ä¼˜äºé€‰æ‹©</li>
<li>å†’æ³¡å±äºç¨³å®šæ’åºç®—æ³•ï¼Œè€Œé€‰æ‹©å±äº<strong>ä¸ç¨³å®š</strong>æ’åº<ul>
<li>ç¨³å®šæ’åºæŒ‡ï¼ŒæŒ‰å¯¹è±¡ä¸­ä¸åŒå­—æ®µè¿›è¡Œå¤šæ¬¡æ’åºï¼Œä¸ä¼šæ‰“ä¹±åŒå€¼å…ƒç´ çš„é¡ºåº</li>
<li>ä¸ç¨³å®šæ’åºåˆ™åä¹‹</li>
</ul>
</li>
</ol>
<p>ã€Œé€‰æ‹©æ’åºã€çœ‹èµ·æ¥å¥½åƒæœ€æ²¡æœ‰ç”¨ï¼Œä½†æ˜¯å¦‚æœåœ¨äº¤æ¢æˆæœ¬è¾ƒé«˜çš„æ’åºä»»åŠ¡ä¸­ï¼Œå°±å¯ä»¥ä½¿ç”¨ã€Œé€‰æ‹©æ’åºã€ã€‚</p>
<p>ä¾ç„¶æ˜¯å»ºè®®å¤§å®¶ä¸è¦å¯¹ç®—æ³•å¸¦æœ‰ä¸ªäººè‰²å½©ï¼Œåœ¨é¢è¯•å›ç­”é—®é¢˜çš„æ—¶å€™å’Œçœ‹å¾…ä¸€ä¸ªäººå’Œäº‹ç‰©çš„æ—¶å€™ï¼Œå¯ä»¥å‚è€ƒçš„å›ç­”æ¨¡å¼æ˜¯ã€Œå…·ä½“é—®é¢˜å…·ä½“åˆ†æï¼Œåœ¨ä»€ä¹ˆä»€ä¹ˆæƒ…å†µä¸‹ï¼Œç”¨ä»€ä¹ˆä»€ä¹ˆç®—æ³•ã€ã€‚</p>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼šO(N^2)ï¼Œè¿™é‡Œ N æ˜¯æ•°ç»„çš„é•¿åº¦ï¼›</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼šO(1)ï¼Œä½¿ç”¨åˆ°å¸¸æ•°ä¸ªä¸´æ—¶å˜é‡ã€‚</li>
</ul>
<h3 id="6ã€æ’å…¥æ’åº"><a href="#6ã€æ’å…¥æ’åº" class="headerlink" title="6ã€æ’å…¥æ’åº"></a>6ã€æ’å…¥æ’åº</h3><p><strong>æ€è·¯</strong>ï¼šæ¯æ¬¡å°†ä¸€ä¸ªæ•°å­—æ’å…¥ä¸€ä¸ªæœ‰åºçš„æ•°ç»„é‡Œï¼Œæˆä¸ºä¸€ä¸ªé•¿åº¦æ›´é•¿çš„æœ‰åºæ•°ç»„ï¼Œæœ‰é™æ¬¡æ“ä½œä»¥åï¼Œæ•°ç»„æ•´ä½“æœ‰åºã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/710dd138492c0da4324657033971f3bee0355514f2ab2834756c988a90398cbb-file_1585624920301.gif" alt="img"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ’å…¥æ’åº:ç¨³å®šæ’åºï¼Œåœ¨æ¥è¿‘æœ‰åºçš„æƒ…å†µä¸‹ï¼Œè¡¨ç°ä¼˜å¼‚</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">insertSort</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">    <span class="comment">// å¾ªç¯ä¸å˜é‡ï¼šå°† nums[i] æ’å…¥åˆ°åŒºé—´ [0, i) ä½¿ä¹‹æˆä¸ºæœ‰åºæ•°ç»„</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> nums[i]; <span class="comment">// å…ˆæš‚å­˜è¿™ä¸ªå…ƒç´ ï¼Œç„¶åä¹‹å‰å…ƒç´ é€ä¸ªåç§»ï¼Œç•™å‡ºç©ºä½</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i;</span><br><span class="line">        <span class="keyword">while</span> (j &gt; <span class="number">0</span> &amp;&amp; nums[j - <span class="number">1</span>] &gt; temp) &#123;</span><br><span class="line">            nums[j] = nums[j - <span class="number">1</span>];</span><br><span class="line">            j--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// æ’å…¥</span></span><br><span class="line">        nums[j] = temp;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ä¼˜åŒ–</strong>ï¼šã€Œå°†ä¸€ä¸ªæ•°å­—æ’å…¥ä¸€ä¸ªæœ‰åºçš„æ•°ç»„ã€è¿™ä¸€æ­¥ï¼Œå¯ä»¥ä¸ä½¿ç”¨é€æ­¥äº¤æ¢ï¼Œä½¿ç”¨å…ˆèµ‹å€¼ç»™ã€Œä¸´æ—¶å˜é‡ã€ï¼Œç„¶åã€Œé€‚å½“çš„å…ƒç´ ã€åç§»ï¼Œç©ºå‡ºä¸€ä¸ªä½ç½®ï¼Œæœ€åæŠŠã€Œä¸´æ—¶å˜é‡ã€èµ‹å€¼ç»™è¿™ä¸ªç©ºä½çš„ç­–ç•¥ï¼ˆå°±æ˜¯ä¸Šé¢é‚£å¼ å›¾çš„æ„æ€ï¼‰ã€‚ç¼–ç çš„æ—¶å€™å¦‚æœä¸å°å¿ƒï¼Œå¯èƒ½ä¼šæŠŠæ•°ç»„çš„å€¼ä¿®æ”¹ï¼Œå»ºè®®å¤šè°ƒè¯•ï¼›</p>
<p><strong>ç‰¹ç‚¹</strong>ï¼šã€Œæ’å…¥æ’åºã€å¯ä»¥æå‰ç»ˆæ­¢å†…å±‚å¾ªç¯ï¼ˆä½“ç°åœ¨ nums[j - 1] &gt; temp ä¸æ»¡è¶³æ—¶ï¼‰ï¼Œåœ¨æ•°ç»„ã€Œå‡ ä¹æœ‰åºã€çš„å‰æä¸‹ï¼Œã€Œæ’å…¥æ’åºã€çš„æ—¶é—´å¤æ‚åº¦å¯ä»¥è¾¾åˆ° O(N)ï¼›</p>
<p>ç”±äºã€Œæ’å…¥æ’åºã€åœ¨ã€Œå‡ ä¹æœ‰åºã€çš„æ•°ç»„ä¸Šè¡¨ç°è‰¯å¥½ï¼Œç‰¹åˆ«åœ°ï¼Œåœ¨ã€ŒçŸ­æ•°ç»„ã€ä¸Šçš„è¡¨ç°ä¹Ÿå¾ˆå¥½ã€‚å› ä¸ºã€ŒçŸ­æ•°ç»„ã€çš„ç‰¹ç‚¹æ˜¯ï¼šæ¯ä¸ªå…ƒç´ ç¦»å®ƒæœ€ç»ˆæ’å®šçš„ä½ç½®éƒ½ä¸ä¼šå¤ªè¿œã€‚ä¸ºæ­¤ï¼Œåœ¨å°åŒºé—´å†…æ‰§è¡Œæ’åºä»»åŠ¡çš„æ—¶å€™ï¼Œå¯ä»¥è½¬å‘ä½¿ç”¨ã€Œæ’å…¥æ’åºã€ã€‚</p>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼šO(N^2)ï¼Œè¿™é‡Œ N æ˜¯æ•°ç»„çš„é•¿åº¦ï¼›</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼šO(1)ï¼Œä½¿ç”¨åˆ°å¸¸æ•°ä¸ªä¸´æ—¶å˜é‡ã€‚</li>
</ul>
<h3 id="7ã€å †æ’åº"><a href="#7ã€å †æ’åº" class="headerlink" title="7ã€å †æ’åº"></a>7ã€å †æ’åº</h3><p>å †æ’åºæ˜¯é€‰æ‹©æ’åºçš„ä¼˜åŒ–ï¼Œé€‰æ‹©æ’åºéœ€è¦åœ¨æœªæ’å®šçš„éƒ¨åˆ†é‡Œé€šè¿‡ã€Œæ‰“æ“‚å°ã€çš„æ–¹å¼é€‰å‡ºæœ€å¤§çš„å…ƒç´ ï¼ˆå¤æ‚åº¦ O(N)ï¼‰ï¼Œè€Œã€Œå †æ’åºã€å°±æŠŠæœªæ’å®šçš„éƒ¨åˆ†æ„å»ºæˆä¸€ä¸ªã€Œå †ã€ï¼Œè¿™æ ·å°±èƒ½ä»¥ O(logN) çš„æ–¹å¼é€‰å‡ºæœ€å¤§å…ƒç´ ï¼›</p>
<p>å †æ˜¯ä¸€ç§ç›¸å½“æœ‰æ„æ€çš„æ•°æ®ç»“æ„ï¼Œå®ƒåœ¨å¾ˆå¤šè¯­è¨€é‡Œä¹Ÿè¢«å‘½åä¸ºã€Œä¼˜å…ˆé˜Ÿåˆ—ã€ã€‚å®ƒæ˜¯å»ºç«‹åœ¨æ•°ç»„ä¸Šçš„ã€Œæ ‘ã€ç»“æ„ï¼Œç±»ä¼¼çš„æ•°æ®ç»“æ„è¿˜æœ‰ã€Œå¹¶æŸ¥é›†ã€ã€Œçº¿æ®µæ ‘ã€ç­‰ã€‚</p>
<p>æˆ‘ä¸ªäººæ˜¯è¿™æ ·çœ‹å¾…è¿™äº›å®šä¹‰çš„ï¼šã€Œä¼˜å…ˆé˜Ÿåˆ—ã€æ˜¯ä¸€ç§ç‰¹æ®Šçš„é˜Ÿåˆ—ï¼ŒæŒ‰ç…§ä¼˜å…ˆçº§é¡ºåºå‡ºé˜Ÿï¼Œä»è¿™ä¸€ç‚¹ä¸Šè¯´ï¼Œä¸ã€Œæ™®é€šé˜Ÿåˆ—ã€æ— å·®åˆ«ã€‚ã€Œä¼˜å…ˆé˜Ÿåˆ—ã€å¯ä»¥ç”¨æ•°ç»„å®ç°ï¼Œä¹Ÿå¯ä»¥ç”¨æœ‰åºæ•°ç»„å®ç°ï¼Œä½†åªè¦æ˜¯çº¿æ€§ç»“æ„ï¼Œå¤æ‚åº¦å°±ä¼šé«˜ï¼Œå› æ­¤ï¼Œã€Œæ ‘ã€ç»“æ„å°±æœ‰ä¼˜åŠ¿ï¼Œã€Œä¼˜å…ˆé˜Ÿåˆ—ã€çš„æœ€å¥½å®ç°å°±æ˜¯ã€Œå †ã€ã€‚</p>
<p>ã€Œå †ã€è¿˜æœ‰å¾ˆå¤šæ‰©å±•çš„çŸ¥è¯†ï¼šã€Œç´¢å¼•å †ã€ã€ã€Œå¤šå‰å †ã€ï¼Œå·²ç»ä¸åœ¨æˆ‘èƒ½ä»‹ç»çš„èŒƒå›´äº†ï¼Œæˆ‘ä¸ªäººè§‰å¾—ä¸€èˆ¬çš„é¢è¯•é—®é¢˜ä¹Ÿä¸ä¼šæ¶‰åŠã€‚ä½†æ˜¯åŸºç¡€çš„å †çš„ç›¸å…³çŸ¥è¯†æ˜¯æœ‰å¿…è¦æŒæ¡çš„ï¼Œè¦çŸ¥é“å †çš„åº•å±‚æ˜¯æ•°ç»„ï¼Œå¯èƒ½æ¶‰åŠæ‰©å®¹çš„é—®é¢˜ï¼Œä¸Šæµ®å’Œä¸‹æ²‰æ“ä½œã€‚</p>
<p>ã€ŒåŠ›æ‰£ã€ä¸Šæœ‰å¾ˆå¤šä½¿ç”¨ã€Œä¼˜å…ˆé˜Ÿåˆ—ã€å®Œæˆçš„é—®é¢˜ï¼Œæ„Ÿå…´è¶£çš„æœ‹å‹ä¸å¦¨åšä¸€ä¸‹ã€‚</p>
<p>è‡³äºç°åœ¨ç¬”è¯•è€ƒä¸è€ƒã€Œæ‰‹å†™ä¸€ä¸ªå †ã€ï¼Œæˆ‘ä¸ªäººè§‰å¾—æ„ä¹‰ä¸å¤§ã€‚å¦‚æœçœŸçš„è€ƒåˆ°äº†ï¼Œèƒ½å†™å°½é‡å†™ï¼Œä¸èƒ½ä¸€æ¬¡å†™å¯¹å°±å’Œé¢è¯•å®˜è¯´æ˜è‡ªå·±å¯¹äºã€Œå †ã€æ‰€æŒæ¡çš„çŸ¥è¯†æˆ‘æ„Ÿè§‰å°±å¯ä»¥äº†ã€‚é¢è¯•çš„æ—¶å€™ï¼Œæœ¬æ¥ç²¾ç¥å°±æ¯”å¹³å¸¸ç´§å¼ ã€‚æˆ‘ä»¬éƒ½ä¸æ˜¯ã€Œå †ã€çš„å‘æ˜äººï¼Œäº†è§£å’Œç†Ÿæ‚‰ã€Œå †ã€çš„åŸç†å’Œä½¿ç”¨åœºæ™¯ï¼Œè‡ªå·±å­¦ä¹ çš„æ—¶å€™ï¼Œæ‰‹å†™è¿‡å †ï¼Œé€šè¿‡äº†æµ‹è¯•ç”¨ä¾‹å°±å¯ä»¥äº†ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[] sortArray(<span class="type">int</span>[] nums) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> nums.length;</span><br><span class="line">        <span class="comment">// å°†æ•°ç»„æ•´ç†æˆå †</span></span><br><span class="line">        heapify(nums);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¾ªç¯ä¸å˜é‡ï¼šåŒºé—´ [0, i] å †æœ‰åº</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> len - <span class="number">1</span>; i &gt;= <span class="number">1</span>; ) &#123;</span><br><span class="line">            <span class="comment">// æŠŠå †é¡¶å…ƒç´ ï¼ˆå½“å‰æœ€å¤§ï¼‰äº¤æ¢åˆ°æ•°ç»„æœ«å°¾</span></span><br><span class="line">            swap(nums, <span class="number">0</span>, i);</span><br><span class="line">            <span class="comment">// é€æ­¥å‡å°‘å †æœ‰åºçš„éƒ¨åˆ†</span></span><br><span class="line">            i--;</span><br><span class="line">            <span class="comment">// ä¸‹æ ‡ 0 ä½ç½®ä¸‹æ²‰æ“ä½œï¼Œä½¿å¾—åŒºé—´ [0, i] å †æœ‰åº</span></span><br><span class="line">            siftDown(nums, <span class="number">0</span>, i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> nums;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å°†æ•°ç»„æ•´ç†æˆå †ï¼ˆå †æœ‰åºï¼‰</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> nums</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">heapify</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> nums.length;</span><br><span class="line">        <span class="comment">// åªéœ€è¦ä» i = (len - 1) / 2 è¿™ä¸ªä½ç½®å¼€å§‹é€å±‚ä¸‹ç§»</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> (len - <span class="number">1</span>) / <span class="number">2</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            siftDown(nums, i, len - <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> nums</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> k    å½“å‰ä¸‹æ²‰å…ƒç´ çš„ä¸‹æ ‡</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> end  [0, end] æ˜¯ nums çš„æœ‰æ•ˆéƒ¨åˆ†</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">siftDown</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> k, <span class="type">int</span> end)</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="number">2</span> * k + <span class="number">1</span> &lt;= end) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">2</span> * k + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span> (j + <span class="number">1</span> &lt;= end &amp;&amp; nums[j + <span class="number">1</span>] &gt; nums[j]) &#123;</span><br><span class="line">                j++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (nums[j] &gt; nums[k]) &#123;</span><br><span class="line">                swap(nums, j, k);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            k = j;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">swap</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> index1, <span class="type">int</span> index2)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> nums[index1];</span><br><span class="line">        nums[index1] = nums[index2];</span><br><span class="line">        nums[index2] = temp;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼šO*(<em>N</em>log<em>N</em>)ï¼Œè¿™é‡Œ N* æ˜¯æ•°ç»„çš„é•¿åº¦ï¼›</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚</li>
</ul>
<h3 id="8ã€å¸Œå°”æ’åº"><a href="#8ã€å¸Œå°”æ’åº" class="headerlink" title="8ã€å¸Œå°”æ’åº"></a>8ã€å¸Œå°”æ’åº</h3><p><strong>ç®—æ³•æè¿°</strong></p>
<ol>
<li><p>é¦–å…ˆé€‰å–ä¸€ä¸ªé—´éš™åºåˆ—ï¼Œå¦‚ (n&#x2F;2ï¼Œn&#x2F;4 â€¦ 1)ï¼Œn ä¸ºæ•°ç»„é•¿åº¦</p>
</li>
<li><p>æ¯ä¸€è½®å°†é—´éš™ç›¸ç­‰çš„å…ƒç´ è§†ä¸ºä¸€ç»„ï¼Œå¯¹ç»„å†…å…ƒç´ è¿›è¡Œæ’å…¥æ’åºï¼Œç›®çš„æœ‰äºŒ</p>
<p>â‘  å°‘é‡å…ƒç´ æ’å…¥æ’åºé€Ÿåº¦å¾ˆå¿«</p>
<p>â‘¡ è®©ç»„å†…å€¼è¾ƒå¤§çš„å…ƒç´ æ›´å¿«åœ°ç§»åŠ¨åˆ°åæ–¹</p>
</li>
<li><p>å½“é—´éš™é€æ¸å‡å°‘ï¼Œç›´è‡³ä¸º 1 æ—¶ï¼Œå³å¯å®Œæˆæ’åº</p>
</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/Center.png" alt="img"></p>
<p><strong>ç®—æ³•å®ç°</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">shellSort</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> nums.length;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">gap</span> <span class="operator">=</span> n / <span class="number">2</span>; gap &gt; <span class="number">0</span>; gap /= <span class="number">2</span>) &#123;</span><br><span class="line">        <span class="comment">// i ä»£è¡¨å¾…æ’å…¥å…ƒç´ çš„ç´¢å¼•</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> gap; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="comment">// å¾…æ’å…¥çš„å…ƒç´ å€¼</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">t</span> <span class="operator">=</span> nums[i];</span><br><span class="line">            <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i;</span><br><span class="line">            <span class="keyword">while</span> (j &gt;= gap) &#123;</span><br><span class="line">                <span class="comment">// æ¯æ¬¡ä¸ä¸Šä¸€ä¸ªé—´éš™ä¸º gap çš„å…ƒç´ è¿›è¡Œæ’å…¥æ’åº</span></span><br><span class="line">                <span class="keyword">if</span> (t &lt; nums[j - gap]) &#123; <span class="comment">// j-gap æ˜¯ä¸Šä¸€ä¸ªå…ƒç´ ç´¢å¼•ï¼Œå¦‚æœ &gt; tï¼Œåç§»</span></span><br><span class="line">                    nums[j] = nums[j - gap];</span><br><span class="line">                    j -= gap;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123; <span class="comment">// å¦‚æœ j-1 å·²ç» &lt;= t, åˆ™ j å°±æ˜¯æ’å…¥ä½ç½®</span></span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            nums[j] = t;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5ã€å‰‘æŒ‡-Offer-40-æœ€å°çš„-k-ä¸ªæ•°"><a href="#5ã€å‰‘æŒ‡-Offer-40-æœ€å°çš„-k-ä¸ªæ•°" class="headerlink" title="5ã€å‰‘æŒ‡ Offer 40. æœ€å°çš„ k ä¸ªæ•°"></a>5ã€å‰‘æŒ‡ Offer 40. æœ€å°çš„ k ä¸ªæ•°</h3><p>è¾“å…¥æ•´æ•°æ•°ç»„ <code>arr</code> ï¼Œæ‰¾å‡ºå…¶ä¸­æœ€å°çš„ <code>k</code> ä¸ªæ•°ã€‚ä¾‹å¦‚ï¼Œè¾“å…¥4ã€5ã€1ã€6ã€2ã€7ã€3ã€8è¿™8ä¸ªæ•°å­—ï¼Œåˆ™æœ€å°çš„4ä¸ªæ•°å­—æ˜¯1ã€2ã€3ã€4ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šarr = [3,2,1], k = 2</span><br><span class="line">è¾“å‡ºï¼š[1,2] æˆ–è€… [2,1]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šarr = [0,1,2,1], k = 1</span><br><span class="line">è¾“å‡ºï¼š[0]</span><br></pre></td></tr></table></figure>



<p><strong>é™åˆ¶ï¼š</strong></p>
<ul>
<li><code>0 &lt;= k &lt;= arr.length &lt;= 10000</code></li>
<li><code>0 &lt;= arr[i] &lt;= 10000</code></li>
</ul>
<p>Related Topics</p>
<p>æ•°ç»„</p>
<p>åˆ†æ²»</p>
<p>å¿«é€Ÿé€‰æ‹©</p>
<p>æ’åº</p>
<p>å †ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰</p>
<p>ğŸ‘ 500</p>
<p>ğŸ‘ 0</p>
<h4 id="æ’åº-1"><a href="#æ’åº-1" class="headerlink" title="æ’åº"></a>æ’åº</h4><p>å¯¹æ•°ç»„ <code>arr</code> æ‰§è¡Œæ’åºï¼Œå†è¿”å›å‰ <em>k</em> ä¸ªå…ƒç´ å³å¯ã€‚ä½¿ç”¨ä»»æ„æ’åºç®—æ³•çš†å¯ï¼Œæœ¬æ–‡é‡‡ç”¨å¹¶ä»‹ç» <strong>å¿«é€Ÿæ’åº</strong> ï¼Œä¸ºä¸‹æ–‡ <strong>æ–¹æ³•äºŒ</strong> åšé“ºå«ã€‚</p>
<p><strong>å¿«é€Ÿæ’åºåŸç†</strong>ï¼š<br>å¿«é€Ÿæ’åºç®—æ³•æœ‰ä¸¤ä¸ªæ ¸å¿ƒç‚¹ï¼Œåˆ†åˆ«ä¸º â€œå“¨å…µåˆ’åˆ†â€ å’Œ â€œé€’å½’â€ ã€‚</p>
<p><strong>å“¨å…µåˆ’åˆ†æ“ä½œ</strong>ï¼š ä»¥æ•°ç»„æŸä¸ªå…ƒç´ ï¼ˆä¸€èˆ¬é€‰å–é¦–å…ƒç´ ï¼‰ä¸º <code>åŸºå‡†æ•°</code> ï¼Œå°†æ‰€æœ‰å°äºåŸºå‡†æ•°çš„å…ƒç´ ç§»åŠ¨è‡³å…¶å·¦è¾¹ï¼Œå¤§äºåŸºå‡†æ•°çš„å…ƒç´ ç§»åŠ¨è‡³å…¶å³è¾¹ã€‚</p>
<blockquote>
<p>é€šè¿‡ä¸€è½® <strong>å“¨å…µåˆ’åˆ†</strong> ï¼Œå¯å°†æ•°ç»„æ’åºé—®é¢˜æ‹†åˆ†ä¸º <strong>ä¸¤ä¸ªè¾ƒçŸ­æ•°ç»„çš„æ’åºé—®é¢˜</strong> ï¼ˆæœ¬æ–‡ç§°ä¹‹ä¸ºå·¦ï¼ˆå³ï¼‰å­æ•°ç»„ï¼‰ã€‚</p>
</blockquote>
<p><strong>é€’å½’ï¼š</strong> å¯¹ <strong>å·¦å­æ•°ç»„</strong> å’Œ <strong>å³å­æ•°ç»„</strong> é€’å½’æ‰§è¡Œ <strong>å“¨å…µåˆ’åˆ†</strong>ï¼Œç›´è‡³å­æ•°ç»„é•¿åº¦ä¸º 1 æ—¶ç»ˆæ­¢é€’å½’ï¼Œå³å¯å®Œæˆå¯¹æ•´ä¸ªæ•°ç»„çš„æ’åºã€‚</p>
<blockquote>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œä¸ºç¤ºä¾‹æ•°ç»„ [2,4,1,0,3,5] çš„å¿«é€Ÿæ’åºæµç¨‹ã€‚è§‚å¯Ÿå‘ç°ï¼Œå¿«é€Ÿæ’åºå’Œ <code>äºŒåˆ†æ³•</code> çš„åŸç†ç±»ä¼¼ï¼Œéƒ½æ˜¯ä»¥ log æ—¶é—´å¤æ‚åº¦å®ç°æœç´¢åŒºé—´ç¼©å°ã€‚</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1612615552-rifQwI-Picture1-16698640161711.png" alt="Picture1.png"></p>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š<br>æ—¶é—´å¤æ‚åº¦ O(NlogN) ï¼š åº“å‡½æ•°ã€å¿«æ’ç­‰æ’åºç®—æ³•çš„å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸º O(NlogN) ã€‚<br>ç©ºé—´å¤æ‚åº¦ O(N) ï¼š å¿«é€Ÿæ’åºçš„é€’å½’æ·±åº¦æœ€å¥½ï¼ˆå¹³å‡ï¼‰ä¸º O(logN) ï¼Œæœ€å·®æƒ…å†µï¼ˆå³è¾“å…¥æ•°ç»„å®Œå…¨å€’åºï¼‰ä¸º O(N)ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[] getLeastNumbers(<span class="type">int</span>[] arr, <span class="type">int</span> k) &#123;</span><br><span class="line">        quickSort(arr, <span class="number">0</span>, arr.length - <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span> Arrays.copyOf(arr, k);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">quickSort</span><span class="params">(<span class="type">int</span>[] arr, <span class="type">int</span> l, <span class="type">int</span> r)</span> &#123;</span><br><span class="line">        <span class="comment">// å­æ•°ç»„é•¿åº¦ä¸º 1 æ—¶ç»ˆæ­¢é€’å½’</span></span><br><span class="line">        <span class="keyword">if</span> (l &gt;= r) <span class="keyword">return</span>;</span><br><span class="line">        <span class="comment">// å“¨å…µåˆ’åˆ†æ“ä½œï¼ˆä»¥ arr[l] ä½œä¸ºåŸºå‡†æ•°ï¼‰</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> l, j = r;</span><br><span class="line">        <span class="keyword">while</span> (i &lt; j) &#123;</span><br><span class="line">            <span class="keyword">while</span> (i &lt; j &amp;&amp; arr[j] &gt;= arr[l]) j--;</span><br><span class="line">            <span class="keyword">while</span> (i &lt; j &amp;&amp; arr[i] &lt;= arr[l]) i++;</span><br><span class="line">            swap(arr, i, j);</span><br><span class="line">        &#125;</span><br><span class="line">        swap(arr, i, l);</span><br><span class="line">        <span class="comment">// é€’å½’å·¦ï¼ˆå³ï¼‰å­æ•°ç»„æ‰§è¡Œå“¨å…µåˆ’åˆ†</span></span><br><span class="line">        quickSort(arr, l, i - <span class="number">1</span>);</span><br><span class="line">        quickSort(arr, i + <span class="number">1</span>, r);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">swap</span><span class="params">(<span class="type">int</span>[] arr, <span class="type">int</span> i, <span class="type">int</span> j)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">tmp</span> <span class="operator">=</span> arr[i];</span><br><span class="line">        arr[i] = arr[j];</span><br><span class="line">        arr[j] = tmp;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="åŸºäºå¿«é€Ÿæ’åºçš„æ•°ç»„åˆ’åˆ†"><a href="#åŸºäºå¿«é€Ÿæ’åºçš„æ•°ç»„åˆ’åˆ†" class="headerlink" title="åŸºäºå¿«é€Ÿæ’åºçš„æ•°ç»„åˆ’åˆ†"></a>åŸºäºå¿«é€Ÿæ’åºçš„æ•°ç»„åˆ’åˆ†</h4><p>é¢˜ç›®åªè¦æ±‚è¿”å›æœ€å°çš„ k ä¸ªæ•°ï¼Œå¯¹è¿™ k ä¸ªæ•°çš„é¡ºåºå¹¶æ²¡æœ‰è¦æ±‚ã€‚å› æ­¤ï¼Œåªéœ€è¦å°†æ•°ç»„åˆ’åˆ†ä¸º <code>æœ€å°çš„ k ä¸ªæ•°</code> å’Œ <code>å…¶ä»–æ•°å­—</code> ä¸¤éƒ¨åˆ†å³å¯ï¼Œè€Œå¿«é€Ÿæ’åºçš„å“¨å…µåˆ’åˆ†å¯å®Œæˆæ­¤ç›®æ ‡ã€‚</p>
<p>æ ¹æ®å¿«é€Ÿæ’åºåŸç†ï¼Œå¦‚æœæŸæ¬¡å“¨å…µåˆ’åˆ†å <code>åŸºå‡†æ•°æ­£å¥½æ˜¯ç¬¬ k+1 å°çš„æ•°å­—</code> ï¼Œé‚£ä¹ˆæ­¤æ—¶åŸºå‡†æ•°å·¦è¾¹çš„æ‰€æœ‰æ•°å­—ä¾¿æ˜¯é¢˜ç›®æ‰€æ±‚çš„ <code>æœ€å°çš„ k ä¸ªæ•°</code> ã€‚</p>
<p>æ ¹æ®æ­¤æ€è·¯ï¼Œè€ƒè™‘åœ¨æ¯æ¬¡å“¨å…µåˆ’åˆ†åï¼Œåˆ¤æ–­åŸºå‡†æ•°åœ¨æ•°ç»„ä¸­çš„ç´¢å¼•æ˜¯å¦ç­‰äº k ï¼Œè‹¥ true åˆ™ç›´æ¥è¿”å›æ­¤æ—¶æ•°ç»„çš„å‰ k ä¸ªæ•°å­—å³å¯ã€‚</p>
<p><strong>ç®—æ³•æµç¨‹</strong>ï¼š<br>getLeastNumbers() å‡½æ•°ï¼š</p>
<ol>
<li>è‹¥ k å¤§äºæ•°ç»„é•¿åº¦ï¼Œåˆ™ç›´æ¥è¿”å›æ•´ä¸ªæ•°ç»„ï¼›</li>
<li>æ‰§è¡Œå¹¶è¿”å› quick_sort() å³å¯ï¼›</li>
</ol>
<p>quick_sort() å‡½æ•°ï¼š</p>
<blockquote>
<p>æ³¨æ„ï¼Œæ­¤æ—¶ quick_sort() çš„åŠŸèƒ½ä¸æ˜¯æ’åºæ•´ä¸ªæ•°ç»„ï¼Œè€Œæ˜¯æœç´¢å¹¶è¿”å›æœ€å°çš„ k ä¸ªæ•°ã€‚</p>
</blockquote>
<ol>
<li><strong>å“¨å…µåˆ’åˆ†</strong>ï¼š<ul>
<li>åˆ’åˆ†å®Œæ¯•åï¼ŒåŸºå‡†æ•°ä¸º arr[i] ï¼Œå·¦ &#x2F; å³å­æ•°ç»„åŒºé—´åˆ†åˆ«ä¸º [l, i - 1] , [i + 1, r] ï¼›</li>
</ul>
</li>
<li>é€’å½’æˆ–è¿”å›ï¼š<ul>
<li>è‹¥ k &lt; i ï¼Œä»£è¡¨ç¬¬ k + 1 å°çš„æ•°å­—åœ¨ <code>å·¦å­æ•°ç»„</code> ä¸­ï¼Œåˆ™é€’å½’å·¦å­æ•°ç»„ï¼›</li>
<li>è‹¥ k &gt; i ï¼Œä»£è¡¨ç¬¬ k + 1 å°çš„æ•°å­—åœ¨ <code>å³å­æ•°ç»„</code> ä¸­ï¼Œåˆ™é€’å½’å³å­æ•°ç»„ï¼›</li>
<li>è‹¥ k &#x3D; i ï¼Œä»£è¡¨æ­¤æ—¶ arr[k] å³ä¸ºç¬¬ k + 1 å°çš„æ•°å­—ï¼Œåˆ™ç›´æ¥è¿”å›æ•°ç»„å‰ k ä¸ªæ•°å­—å³å¯ï¼›</li>
</ul>
</li>
</ol>
<p>å¤æ‚åº¦åˆ†æï¼š</p>
<blockquote>
<p>æœ¬æ–¹æ³•ä¼˜åŒ–æ—¶é—´å¤æ‚åº¦çš„æœ¬è´¨æ˜¯é€šè¿‡åˆ¤æ–­èˆå»äº†ä¸å¿…è¦çš„é€’å½’ï¼ˆå“¨å…µåˆ’åˆ†ï¼‰ã€‚</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/image-20221201111603883.png" alt="image-20221201111603883"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span>[] getLeastNumbers(<span class="type">int</span>[] arr, <span class="type">int</span> k) &#123;</span><br><span class="line">    <span class="keyword">if</span> (k &gt;= arr.length) &#123;</span><br><span class="line">        <span class="keyword">return</span> arr;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> quickSort(arr, k, <span class="number">0</span>, arr.length - <span class="number">1</span>); <span class="comment">// å·¦é—­å³é—­[,]</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="type">int</span>[] quickSort(<span class="type">int</span>[] arr, <span class="type">int</span> k, <span class="type">int</span> left, <span class="type">int</span> right) &#123;</span><br><span class="line">    <span class="comment">// å“¨å…µåˆ’åˆ†</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> left, j = right;</span><br><span class="line">    <span class="keyword">while</span> (i &lt; j) &#123;</span><br><span class="line">        <span class="keyword">while</span> (i &lt; j &amp;&amp; arr[j] &gt;= arr[left])</span><br><span class="line">            j--;</span><br><span class="line">        <span class="keyword">while</span> (i &lt; j &amp;&amp; arr[i] &lt;= arr[left])</span><br><span class="line">            i++;</span><br><span class="line">        swap(arr, i, j);</span><br><span class="line">    &#125;</span><br><span class="line">    swap(arr, i, left);<span class="comment">//åˆ’åˆ†å€¼ å’Œ æœ€åä¸€ä¸ª&lt;ä»–çš„å…ƒç´ äº¤æ¢</span></span><br><span class="line">    <span class="comment">// é€’å½’</span></span><br><span class="line">    <span class="keyword">if</span> (i &gt; k) quickSort(arr, k, left, i - <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (i &lt; k) quickSort(arr, k, i + <span class="number">1</span>, right);</span><br><span class="line">    <span class="keyword">return</span> Arrays.copyOf(arr, k);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">swap</span><span class="params">(<span class="type">int</span>[] arr, <span class="type">int</span> i, <span class="type">int</span> j)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">tmp</span> <span class="operator">=</span> arr[i];</span><br><span class="line">    arr[i] = arr[j];</span><br><span class="line">    arr[j] = tmp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="6ã€LC215-æ•°ç»„ä¸­çš„ç¬¬Kä¸ªæœ€å¤§å…ƒç´ "><a href="#6ã€LC215-æ•°ç»„ä¸­çš„ç¬¬Kä¸ªæœ€å¤§å…ƒç´ " class="headerlink" title="6ã€LC215. æ•°ç»„ä¸­çš„ç¬¬Kä¸ªæœ€å¤§å…ƒç´ "></a>6ã€LC215. æ•°ç»„ä¸­çš„ç¬¬Kä¸ªæœ€å¤§å…ƒç´ </h3><p>ç»™å®šæ•´æ•°æ•°ç»„ <code>nums</code> å’Œæ•´æ•° <code>k</code>ï¼Œè¯·è¿”å›æ•°ç»„ä¸­ç¬¬ <code>**k**</code> ä¸ªæœ€å¤§çš„å…ƒç´ ã€‚</p>
<p>è¯·æ³¨æ„ï¼Œä½ éœ€è¦æ‰¾çš„æ˜¯æ•°ç»„æ’åºåçš„ç¬¬ <code>k</code> ä¸ªæœ€å¤§çš„å…ƒç´ ï¼Œè€Œä¸æ˜¯ç¬¬ <code>k</code> ä¸ªä¸åŒçš„å…ƒç´ ã€‚</p>
<p>ä½ å¿…é¡»è®¾è®¡å¹¶å®ç°æ—¶é—´å¤æ‚åº¦ä¸º <code>O(n)</code> çš„ç®—æ³•è§£å†³æ­¤é—®é¢˜ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: [3,2,1,5,6,4], k = 2</span><br><span class="line">è¾“å‡º: 5</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: [3,2,3,1,2,4,5,5,6], k = 4</span><br><span class="line">è¾“å‡º: 4</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= k &lt;= nums.length &lt;= 105</code></li>
<li><code>-104 &lt;= nums[i] &lt;= 104</code></li>
</ul>
<p>Related Topics</p>
<p>æ•°ç»„</p>
<p>åˆ†æ²»</p>
<p>å¿«é€Ÿé€‰æ‹©</p>
<p>æ’åº</p>
<p>å †ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰</p>
<p>ğŸ‘ 2004</p>
<p>ğŸ‘ 0</p>
<h4 id="æ’åº-2"><a href="#æ’åº-2" class="headerlink" title="æ’åº"></a>æ’åº</h4><p>å‚è€ƒä¸Šä¸€é¢˜ <code>æœ€å°çš„ K ä¸ªæ•°</code>ï¼Œåˆ©ç”¨å¿«é€Ÿæ’åºçš„æ’åºç®—æ³•ï¼ŒæŠŠæ•°ç»„ <code>ä»å¤§åˆ°å°</code> è¿›è¡Œæ’åºï¼Œè¿”å› nums[k - 1]ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">findKthLargest</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">        quickSort(nums, <span class="number">0</span>, nums.length - <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span> nums[k - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å¿«é€Ÿæ’åº</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">quickSort</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> l, <span class="type">int</span> r)</span> &#123;</span><br><span class="line">        <span class="comment">// å­æ•°ç»„é•¿åº¦ä¸º1ï¼Œç»ˆæ­¢é€’å½’</span></span><br><span class="line">        <span class="keyword">if</span> (l &gt;= r) <span class="keyword">return</span>;</span><br><span class="line">        <span class="comment">// å“¨å…µåˆ’åˆ†(ä»¥arr[l]ä½œä¸ºåŸºå‡†æ•°)</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> l, j = r;</span><br><span class="line">        <span class="keyword">while</span> (i &lt; j) &#123;</span><br><span class="line">            <span class="comment">// ä»å¤§åˆ°å° æ’åº</span></span><br><span class="line">            <span class="keyword">while</span> (i &lt; j &amp;&amp; nums[j] &lt;= nums[l]) j--;</span><br><span class="line">            <span class="keyword">while</span> (i &lt; j &amp;&amp; nums[i] &gt;= nums[l]) i++;</span><br><span class="line">            swap(nums, i, j);</span><br><span class="line">        &#125;</span><br><span class="line">        swap(nums, i, l);</span><br><span class="line">        <span class="comment">// é€’å½’ å·¦å³å­æ•°ç»„ï¼Œæ‰§è¡Œå“¨å…µåˆ’åˆ†</span></span><br><span class="line">        quickSort(nums, l, i - <span class="number">1</span>);</span><br><span class="line">        quickSort(nums, i + <span class="number">1</span>, r);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">swap</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> i, <span class="type">int</span> j)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">tmp</span> <span class="operator">=</span> nums[i];</span><br><span class="line">        nums[i] = nums[j];</span><br><span class="line">        nums[j] = tmp;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦O(NlogN),å¿«æ’çš„æ—¶é—´å¤æ‚åº¦ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦O(N)ï¼Œé€’å½’æ ˆçš„å¼€é”€ï¼Œå¿«æ’çš„ç©ºé—´å¤æ‚åº¦ã€‚</li>
</ul>
<h4 id="åŸºäºå¿«é€Ÿæ’åºçš„æ•°ç»„åˆ’åˆ†-çº¿æ€§æ—¶é—´é€‰æ‹©"><a href="#åŸºäºå¿«é€Ÿæ’åºçš„æ•°ç»„åˆ’åˆ†-çº¿æ€§æ—¶é—´é€‰æ‹©" class="headerlink" title="åŸºäºå¿«é€Ÿæ’åºçš„æ•°ç»„åˆ’åˆ†(çº¿æ€§æ—¶é—´é€‰æ‹©)"></a>åŸºäºå¿«é€Ÿæ’åºçš„æ•°ç»„åˆ’åˆ†(çº¿æ€§æ—¶é—´é€‰æ‹©)</h4><p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>æ€»ä½“æ€è·¯å‚è€ƒä¸Šé¢˜ï¼Œ<code>æœ€å°çš„ K ä¸ªæ•°</code>ã€‚</p>
<p>å› ä¸ºå¿«æ’æœ¬æ¥å°±æ˜¯è¦æ‰¾åˆ°ä¸€ä¸ªåˆ’åˆ†å€¼ï¼Œå¯¹æ•°ç»„ç”¨è¯¥å€¼è¿›è¡Œåˆ’åˆ†ã€‚å› æ­¤ï¼Œåœ¨ä¸€è½®åˆ’åˆ†å®Œæˆåï¼Œä¼šæŠŠæ•°ç»„åˆ†æˆä¸‰æ®µï¼Œç¬¬ä¸€æ®µå°±æ˜¯å°äºè¯¥åˆ’åˆ†å€¼çš„æ•°ï¼Œç¬¬äºŒæ®µå°±æ˜¯ç­‰äºè¯¥åˆ’åˆ†å€¼ï¼Œç¬¬ä¸‰æ®µå°±æ˜¯å¤§äºåˆ’åˆ†å€¼ã€‚æˆ‘ä»¬è¦æ‰¾åˆ° ç¬¬ k å¤§çš„æ•°ï¼Œæ¯æ¬¡åˆ’åˆ†å®Œæˆåï¼Œåˆ’åˆ†å€¼å¤§ä½ç½®æ˜¯ç¡®å®šçš„ï¼Œæˆ‘ä»¬å°±å¯ä»¥åˆ¤æ–­è¯¥åˆ’åˆ†å€¼çš„ä½ç½®ä¸ k çš„å¤§å°ï¼Œç»§ç»­å¯¹å•ä¸€çš„å­æ•°ç»„è¿›è¡Œåˆ’åˆ†ï¼Œè€Œä¸ç”¨å…¨éƒ½åˆ’åˆ†ã€‚</p>
<p>åˆ’åˆ†å®Œæˆåï¼š</p>
<ul>
<li>å½“ i &gt; k - 1ï¼Œè¯´æ˜ç¬¬ k å¤§çš„æ•°åœ¨å·¦å­æ•°ç»„ï¼Œé€’å½’å·¦å­æ•°ç»„ return quickSort(nums, k, l, i - 1)ï¼›</li>
<li>å½“ i &lt; k - 1ï¼Œè¯´æ˜ç¬¬ k å¤§çš„æ•°åœ¨å³å­æ•°ç»„ï¼Œé€’å½’å³å­æ•°ç»„ return quickSort(nums, k, i + 1, r);</li>
<li>å½“ i &#x3D; k - 1ï¼Œè¯´æ˜è¯¥åˆ’åˆ†å€¼å°±æ˜¯ç¬¬ k å¤§çš„æ•°ï¼Œè¿”å› nums[i];</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">findKthLargest</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> quickSort(nums, k, <span class="number">0</span>, nums.length - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * çº¿æ€§æ—¶é—´é€‰æ‹©</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">quickSort</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> k, <span class="type">int</span> l, <span class="type">int</span> r)</span> &#123;</span><br><span class="line">        <span class="comment">// å“¨å…µåˆ’åˆ†(ä»¥arr[l]ä½œä¸ºåŸºå‡†æ•°)</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> l, j = r;</span><br><span class="line">        <span class="keyword">while</span> (i &lt; j) &#123;</span><br><span class="line">            <span class="comment">// ä»å¤§åˆ°å° æ’åº</span></span><br><span class="line">            <span class="keyword">while</span> (i &lt; j &amp;&amp; nums[j] &lt;= nums[l]) j--;</span><br><span class="line">            <span class="keyword">while</span> (i &lt; j &amp;&amp; nums[i] &gt;= nums[l]) i++;</span><br><span class="line">            swap(nums, i, j);</span><br><span class="line">        &#125;</span><br><span class="line">        swap(nums, i, l); <span class="comment">// åˆ’åˆ†å€¼ å’Œ æœ€åä¸€ä¸ª&lt;ä»–çš„å…ƒç´ äº¤æ¢</span></span><br><span class="line">        <span class="comment">// é€’å½’ å·¦å³å­æ•°ç»„ï¼Œæ‰§è¡Œå“¨å…µåˆ’åˆ†</span></span><br><span class="line">        <span class="comment">// é€’å½’</span></span><br><span class="line">        <span class="keyword">if</span> (i &gt; k - <span class="number">1</span>) <span class="keyword">return</span> quickSort(nums, k, l, i - <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (i &lt; k - <span class="number">1</span>) <span class="keyword">return</span> quickSort(nums, k, i + <span class="number">1</span>, r);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">return</span> nums[i]; <span class="comment">// nums[i] å°±æ˜¯ ç¬¬Kå¤§çš„æ•°</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">swap</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> i, <span class="type">int</span> j)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">tmp</span> <span class="operator">=</span> nums[i];</span><br><span class="line">        nums[i] = nums[j];</span><br><span class="line">        nums[j] = tmp;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¤æ‚åº¦åˆ†æï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦O(N):å®ç°äº†çº¿æ€§æ—¶é—´é€‰æ‹©ï¼Œå…·ä½“åˆ†æå¯çœ‹ä¸Šé¢˜ï¼›</li>
<li>ç©ºé—´å¤æ‚åº¦O(logN)ï¼šå¯¹æ•°ç»„è¿›è¡Œåˆ‡å‰²ï¼Œæ¯æ¬¡ä¹‹é€’å½’ä¸€åŠçš„æ•°ç»„ï¼›</li>
</ul>
<h3 id="7ã€å‰‘æŒ‡-Offer-41-æ•°æ®æµä¸­çš„ä¸­ä½æ•°"><a href="#7ã€å‰‘æŒ‡-Offer-41-æ•°æ®æµä¸­çš„ä¸­ä½æ•°" class="headerlink" title="7ã€å‰‘æŒ‡ Offer 41. æ•°æ®æµä¸­çš„ä¸­ä½æ•°"></a>7ã€å‰‘æŒ‡ Offer 41. æ•°æ®æµä¸­çš„ä¸­ä½æ•°</h3><p>å¦‚ä½•å¾—åˆ°ä¸€ä¸ªæ•°æ®æµä¸­çš„ä¸­ä½æ•°ï¼Ÿå¦‚æœä»æ•°æ®æµä¸­è¯»å‡ºå¥‡æ•°ä¸ªæ•°å€¼ï¼Œé‚£ä¹ˆä¸­ä½æ•°å°±æ˜¯æ‰€æœ‰æ•°å€¼æ’åºä¹‹åä½äºä¸­é—´çš„æ•°å€¼ã€‚å¦‚æœä»æ•°æ®æµä¸­è¯»å‡ºå¶æ•°ä¸ªæ•°å€¼ï¼Œé‚£ä¹ˆä¸­ä½æ•°å°±æ˜¯æ‰€æœ‰æ•°å€¼æ’åºä¹‹åä¸­é—´ä¸¤ä¸ªæ•°çš„å¹³å‡å€¼ã€‚</p>
<p>ä¾‹å¦‚ï¼Œ</p>
<p>[2,3,4] çš„ä¸­ä½æ•°æ˜¯ 3</p>
<p>[2,3] çš„ä¸­ä½æ•°æ˜¯ (2 + 3) &#x2F; 2 &#x3D; 2.5</p>
<p>è®¾è®¡ä¸€ä¸ªæ”¯æŒä»¥ä¸‹ä¸¤ç§æ“ä½œçš„æ•°æ®ç»“æ„ï¼š</p>
<ul>
<li>void addNum(int num) - ä»æ•°æ®æµä¸­æ·»åŠ ä¸€ä¸ªæ•´æ•°åˆ°æ•°æ®ç»“æ„ä¸­ã€‚</li>
<li>double findMedian() - è¿”å›ç›®å‰æ‰€æœ‰å…ƒç´ çš„ä¸­ä½æ•°ã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š</span><br><span class="line">[&quot;MedianFinder&quot;,&quot;addNum&quot;,&quot;addNum&quot;,&quot;findMedian&quot;,&quot;addNum&quot;,&quot;findMedian&quot;]</span><br><span class="line">[[],[1],[2],[],[3],[]]</span><br><span class="line">è¾“å‡ºï¼š[null,null,null,1.50000,null,2.00000]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š</span><br><span class="line">[&quot;MedianFinder&quot;,&quot;addNum&quot;,&quot;findMedian&quot;,&quot;addNum&quot;,&quot;findMedian&quot;]</span><br><span class="line">[[],[2],[],[3],[]]</span><br><span class="line">è¾“å‡ºï¼š[null,null,2.00000,null,2.50000]</span><br></pre></td></tr></table></figure>



<p><strong>é™åˆ¶ï¼š</strong></p>
<ul>
<li>æœ€å¤šä¼šå¯¹ <code>addNumã€findMedian</code> è¿›è¡Œ <code>50000</code> æ¬¡è°ƒç”¨ã€‚</li>
</ul>
<p>æ³¨æ„ï¼šæœ¬é¢˜ä¸ä¸»ç«™ 295 é¢˜ç›¸åŒï¼š<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/find-median-from-data-stream/">https://leetcode-cn.com/problems/find-median-from-data-stream/</a></p>
<p>Related Topics</p>
<p>è®¾è®¡</p>
<p>åŒæŒ‡é’ˆ</p>
<p>æ•°æ®æµ</p>
<p>æ’åº</p>
<p>å †ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰</p>
<p>ğŸ‘ 379</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<blockquote>
<p>ç»™å®šä¸€é•¿åº¦ä¸º N çš„æ— åºæ•°ç»„ï¼Œå…¶ä¸­ä½æ•°çš„è®¡ç®—æ–¹æ³•ï¼šé¦–å…ˆå¯¹æ•°ç»„æ‰§è¡Œæ’åºï¼ˆä½¿ç”¨ O(NlogN) æ—¶é—´ï¼‰ï¼Œç„¶åè¿”å›ä¸­é—´å…ƒç´ å³å¯ï¼ˆä½¿ç”¨ O(1) æ—¶é—´ï¼‰ã€‚</p>
</blockquote>
<p>é’ˆå¯¹æœ¬é¢˜ï¼Œæ ¹æ®ä»¥ä¸Šæ€è·¯ï¼Œå¯ä»¥å°†æ•°æ®æµä¿å­˜åœ¨ä¸€ä¸ªåˆ—è¡¨ä¸­ï¼Œå¹¶åœ¨æ·»åŠ å…ƒç´ æ—¶ ä¿æŒæ•°ç»„æœ‰åº ã€‚æ­¤æ–¹æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º O(N) ï¼Œå…¶ä¸­åŒ…æ‹¬ï¼š æŸ¥æ‰¾å…ƒç´ æ’å…¥ä½ç½® O(logN) ï¼ˆäºŒåˆ†æŸ¥æ‰¾ï¼‰ã€å‘æ•°ç»„æŸä½ç½®æ’å…¥å…ƒç´  O(N) ï¼ˆæ’å…¥ä½ç½®ä¹‹åçš„å…ƒç´ éƒ½éœ€è¦å‘åç§»åŠ¨ä¸€ä½ï¼‰ã€‚</p>
<blockquote>
<p>å€ŸåŠ© <strong>å †</strong> å¯è¿›ä¸€æ­¥ä¼˜åŒ–æ—¶é—´å¤æ‚åº¦ã€‚</p>
</blockquote>
<p>å»ºç«‹ä¸€ä¸ª <code>å°é¡¶å †</code> A å’Œ <code>å¤§é¡¶å †</code> B ï¼Œå„ä¿å­˜åˆ—è¡¨çš„ä¸€åŠå…ƒç´ ï¼Œä¸”è§„å®šï¼š</p>
<ul>
<li>A ä¿å­˜ è¾ƒå¤§ çš„ä¸€åŠï¼Œé•¿åº¦ä¸º N &#x2F; 2ï¼ˆ N ä¸ºå¶æ•°ï¼‰æˆ– (N + 1) &#x2F; 2ï¼ˆ N ä¸ºå¥‡æ•°ï¼‰ï¼›</li>
<li>b ä¿å­˜ è¾ƒå° çš„ä¸€åŠï¼Œé•¿åº¦ä¸º N &#x2F; 2ï¼ˆ N ä¸ºå¶æ•°ï¼‰æˆ– (N - 1) &#x2F; 2ï¼ˆ N ä¸ºå¥‡æ•°ï¼‰ï¼›</li>
</ul>
<p>éšåï¼Œä¸­ä½æ•°å¯ä»…æ ¹æ® A, B çš„å †é¡¶å…ƒç´ è®¡ç®—å¾—åˆ°ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/bcfaca2b1920d2dd6bbb01aeff990698eb36d53830c38ed499ea3239a15296b3-Picture1.png" alt="Picture1.png"></p>
<p>ç®—æ³•æµç¨‹</p>
<blockquote>
<p>è®¾å…ƒç´ æ€»æ•°ä¸º N &#x3D; m + n ï¼Œå…¶ä¸­ m å’Œ nåˆ†åˆ«ä¸º A å’Œ B ä¸­çš„å…ƒç´ ä¸ªæ•°ã€‚</p>
</blockquote>
<p>addNum(num) å‡½æ•°ï¼š</p>
<ol>
<li>å½“ m &#x3D; nï¼ˆå³ N ä¸º å¶æ•°ï¼‰ï¼šéœ€å‘ A æ·»åŠ ä¸€ä¸ªå…ƒç´ ã€‚å®ç°æ–¹æ³•ï¼šå°†æ–°å…ƒç´  num æ’å…¥è‡³ B ï¼Œå†å°† B å †é¡¶å…ƒç´ æ’å…¥è‡³ A ï¼›</li>
<li>å½“ m !&#x3D; nï¼ˆå³ N ä¸º å¥‡æ•°ï¼‰ï¼šéœ€å‘ B æ·»åŠ ä¸€ä¸ªå…ƒç´ ã€‚å®ç°æ–¹æ³•ï¼šå°†æ–°å…ƒç´  num æ’å…¥è‡³ A ï¼Œå†å°† A å †é¡¶å…ƒç´ æ’å…¥è‡³ B ï¼›</li>
</ol>
<blockquote>
<p>å‡è®¾æ’å…¥æ•°å­— num é‡åˆ°æƒ…å†µ </p>
<ol>
<li>ç”±äº num å¯èƒ½å±äº â€œè¾ƒå°çš„ä¸€åŠâ€ ï¼ˆå³å±äº B ï¼‰ï¼Œå› æ­¤ä¸èƒ½å°† nums ç›´æ¥æ’å…¥è‡³ A ã€‚è€Œåº”å…ˆå°† num æ’å…¥è‡³ B ï¼Œå†å°† B å †é¡¶å…ƒç´ æ’å…¥è‡³ A ã€‚è¿™æ ·å°±å¯ä»¥å§‹ç»ˆä¿æŒ A ä¿å­˜è¾ƒå¤§ä¸€åŠã€ B ä¿å­˜è¾ƒå°ä¸€åŠã€‚</li>
</ol>
</blockquote>
<p>findMedian() å‡½æ•°ï¼š</p>
<ol>
<li>å½“ m &#x3D; nï¼ˆ N ä¸º å¶æ•°ï¼‰ï¼šåˆ™ä¸­ä½æ•°ä¸º ( A çš„å †é¡¶å…ƒç´  + B çš„å †é¡¶å…ƒç´  )&#x2F;2ã€‚</li>
<li>å½“ m !&#x3D;nï¼ˆ N ä¸º å¥‡æ•°ï¼‰ï¼šåˆ™ä¸­ä½æ•°ä¸º A çš„å †é¡¶å…ƒç´ ã€‚</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/68a1972bd8f51f8b042717a82f2984787729d8daec41f965e9a26f0adccd3a29-Picture11.png" alt="img"></p>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼š<ul>
<li>æŸ¥æ‰¾ä¸­ä½æ•° O(1) ï¼š è·å–å †é¡¶å…ƒç´ ä½¿ç”¨ O(1) æ—¶é—´ï¼›</li>
<li>æ·»åŠ æ•°å­— O(logN) ï¼š å †çš„æ’å…¥å’Œå¼¹å‡ºæ“ä½œä½¿ç”¨ )O(logN) æ—¶é—´ã€‚</li>
</ul>
</li>
<li>ç©ºé—´å¤æ‚åº¦ O(N) ï¼š å…¶ä¸­ N ä¸ºæ•°æ®æµä¸­çš„å…ƒç´ æ•°é‡ï¼Œå°é¡¶å † A å’Œå¤§é¡¶å † B æœ€å¤šåŒæ—¶ä¿å­˜ N ä¸ªå…ƒç´ ã€‚</li>
</ul>
<p>Java ä½¿ç”¨ <code>PriorityQueue&lt;&gt;((x, y) -&gt; (y - x))</code> å¯æ–¹ä¾¿å®ç°å¤§é¡¶å †ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">Queue&lt;Integer&gt; A,B;</span><br><span class="line"></span><br><span class="line"><span class="comment">/** initialize your data structure here. */</span></span><br><span class="line"><span class="keyword">public</span> <span class="title function_">MedianFinder</span><span class="params">()</span> &#123;</span><br><span class="line">    A = <span class="keyword">new</span> <span class="title class_">PriorityQueue</span>&lt;&gt;();<span class="comment">// å°æ ¹å †ï¼Œä¿å­˜è¾ƒå¤§çš„ä¸€åŠ</span></span><br><span class="line">    B = <span class="keyword">new</span> <span class="title class_">PriorityQueue</span>&lt;&gt;((x,y) -&gt; (y - x)); <span class="comment">// å¤§æ ¹å †ï¼Œä¿å­˜è¾ƒå¤§çš„ä¸€åŠ</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addNum</span><span class="params">(<span class="type">int</span> num)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (A.size() != B.size()) &#123; <span class="comment">// m != n å‘BåŠ å…¥æ•°æ®</span></span><br><span class="line">        A.add(num);</span><br><span class="line">        B.add(A.poll());</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123; <span class="comment">// m == n å‘AåŠ å…¥æ•°æ®</span></span><br><span class="line">        B.add(num);</span><br><span class="line">        A.add(B.poll());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">double</span> <span class="title function_">findMedian</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (A.size() == B.size()) &#123; <span class="comment">//å¶æ•°</span></span><br><span class="line">        <span class="keyword">return</span> (A.peek() + B.peek()) / <span class="number">2.0</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123; <span class="comment">// å¥‡æ•°</span></span><br><span class="line">        <span class="keyword">return</span> A.peek();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="8ã€å‰‘æŒ‡-Offer-45-æŠŠæ•°ç»„æ’æˆæœ€å°çš„æ•°"><a href="#8ã€å‰‘æŒ‡-Offer-45-æŠŠæ•°ç»„æ’æˆæœ€å°çš„æ•°" class="headerlink" title="8ã€å‰‘æŒ‡ Offer 45. æŠŠæ•°ç»„æ’æˆæœ€å°çš„æ•°"></a>8ã€å‰‘æŒ‡ Offer 45. æŠŠæ•°ç»„æ’æˆæœ€å°çš„æ•°</h3><p>è¾“å…¥ä¸€ä¸ªéè´Ÿæ•´æ•°æ•°ç»„ï¼ŒæŠŠæ•°ç»„é‡Œæ‰€æœ‰æ•°å­—æ‹¼æ¥èµ·æ¥æ’æˆä¸€ä¸ªæ•°ï¼Œæ‰“å°èƒ½æ‹¼æ¥å‡ºçš„æ‰€æœ‰æ•°å­—ä¸­æœ€å°çš„ä¸€ä¸ªã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: [10,2]</span><br><span class="line">è¾“å‡º: &quot;102&quot;</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: [3,30,34,5,9]</span><br><span class="line">è¾“å‡º: &quot;3033459&quot;</span><br></pre></td></tr></table></figure>



<p><strong>æç¤º:</strong></p>
<ul>
<li><code>0 &lt; nums.length &lt;= 100</code></li>
</ul>
<p><strong>è¯´æ˜:</strong></p>
<ul>
<li>è¾“å‡ºç»“æœå¯èƒ½éå¸¸å¤§ï¼Œæ‰€ä»¥ä½ éœ€è¦è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²è€Œä¸æ˜¯æ•´æ•°</li>
<li>æ‹¼æ¥èµ·æ¥çš„æ•°å­—å¯èƒ½ä¼šæœ‰å‰å¯¼ 0ï¼Œæœ€åç»“æœä¸éœ€è¦å»æ‰å‰å¯¼ 0</li>
</ul>
<p>Related Topics</p>
<p>è´ªå¿ƒ</p>
<p>å­—ç¬¦ä¸²</p>
<p>æ’åº</p>
<p>ğŸ‘ 564</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>æ­¤é¢˜æ±‚æ‹¼æ¥èµ·æ¥çš„æœ€å°æ•°å­—ï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªæ’åºé—®é¢˜ã€‚è®¾æ•°ç»„ numsnums ä¸­ä»»æ„ä¸¤æ•°å­—çš„å­—ç¬¦ä¸²ä¸º x å’Œ y ï¼Œåˆ™è§„å®š <code>æ’åºåˆ¤æ–­è§„åˆ™</code> ä¸ºï¼š</p>
<ul>
<li>è‹¥æ‹¼æ¥å­—ç¬¦ä¸² x + y &gt; y + x ï¼Œåˆ™ x â€œå¤§äºâ€ y ï¼›</li>
<li>åä¹‹ï¼Œè‹¥ x + y &lt; y + x ï¼Œåˆ™ x â€œå°äºâ€ y ï¼›</li>
</ul>
<blockquote>
<p><em>x</em> â€œå°äºâ€ <em>y</em> ä»£è¡¨ï¼šæ’åºå®Œæˆåï¼Œæ•°ç»„ä¸­ <em>x</em> åº”åœ¨ <em>y</em> å·¦è¾¹ï¼›â€œå¤§äºâ€ åˆ™åä¹‹ã€‚</p>
</blockquote>
<p>æ ¹æ®ä»¥ä¸Šè§„åˆ™ï¼Œå¥—ç”¨ä»»ä½•æ’åºæ–¹æ³•å¯¹ nums æ‰§è¡Œæ’åºå³å¯ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/95e81dbccc44f26292d88c509afd68204a86b37d342f83d109fa7aa0cd4a6049-Picture1.png" alt="Picture1.png"></p>
<p><strong>ç®—æ³•æµç¨‹</strong>ï¼š</p>
<ol>
<li>åˆå§‹åŒ–ï¼š å­—ç¬¦ä¸²åˆ—è¡¨ strsï¼Œä¿å­˜å„æ•°å­—çš„å­—ç¬¦ä¸²æ ¼å¼ï¼›</li>
<li>åˆ—è¡¨æ’åºï¼š åº”ç”¨ä»¥ä¸Š â€œæ’åºåˆ¤æ–­è§„åˆ™â€ ï¼Œå¯¹ strs æ‰§è¡Œæ’åºï¼›</li>
<li>è¿”å›å€¼ï¼š æ‹¼æ¥ strs ä¸­çš„æ‰€æœ‰å­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›ã€‚</li>
</ol>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(NlogN) ï¼š N ä¸ºæœ€ç»ˆè¿”å›å€¼çš„å­—ç¬¦æ•°é‡ï¼ˆ strs åˆ—è¡¨çš„é•¿åº¦ â‰¤ N ï¼‰ï¼›ä½¿ç”¨å¿«æ’æˆ–å†…ç½®å‡½æ•°çš„å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸º O(NlogN) ï¼Œæœ€å·®ä¸º O(N^2) ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(N) ï¼š å­—ç¬¦ä¸²åˆ—è¡¨ strs å ç”¨çº¿æ€§å¤§å°çš„é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/14e3e6b5a28486fc4b0e7c614d75eb239aafca71b4ac5a6907d7e4154b27784a-Picture4.png" alt="img"></p>
<p><strong>ä»£ç </strong>ï¼š<br>æœ¬æ–‡åˆ—ä¸¾ å¿«é€Ÿæ’åº å’Œ å†…ç½®å‡½æ•° ä¸¤ç§æ’åºæ–¹æ³•ï¼Œå…¶ä»–æ’åºæ–¹æ³•ä¹Ÿå¯å®ç°ã€‚</p>
<p><strong>å¿«é€Ÿæ’åº</strong>ï¼š<br>éœ€ä¿®æ”¹å¿«é€Ÿæ’åºå‡½æ•°ä¸­çš„æ’åºåˆ¤æ–­è§„åˆ™ã€‚å­—ç¬¦ä¸²å¤§å°ï¼ˆå­—å…¸åºï¼‰å¯¹æ¯”çš„å®ç°æ–¹æ³•ï¼š<br>Java ä¸­ä½¿ç”¨å‡½æ•° A.compareTo(B)ï¼›</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">minNumber</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        String[] strs = <span class="keyword">new</span> <span class="title class_">String</span>[nums.length];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; nums.length; i++)</span><br><span class="line">            strs[i] = String.valueOf(nums[i]);</span><br><span class="line">        quickSort(strs, <span class="number">0</span>, strs.length - <span class="number">1</span>);</span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">res</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        <span class="keyword">for</span>(String s : strs)</span><br><span class="line">            res.append(s);</span><br><span class="line">        <span class="keyword">return</span> res.toString();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">quickSort</span><span class="params">(String[] strs, <span class="type">int</span> l, <span class="type">int</span> r)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(l &gt;= r) <span class="keyword">return</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> l, j = r;</span><br><span class="line">        <span class="type">String</span> <span class="variable">tmp</span> <span class="operator">=</span> strs[i];</span><br><span class="line">        <span class="keyword">while</span>(i &lt; j) &#123;</span><br><span class="line">            <span class="keyword">while</span>((strs[j] + strs[l]).compareTo(strs[l] + strs[j]) &gt;= <span class="number">0</span> &amp;&amp; i &lt; j) j--;</span><br><span class="line">            <span class="keyword">while</span>((strs[i] + strs[l]).compareTo(strs[l] + strs[i]) &lt;= <span class="number">0</span> &amp;&amp; i &lt; j) i++;</span><br><span class="line">            tmp = strs[i];</span><br><span class="line">            strs[i] = strs[j];</span><br><span class="line">            strs[j] = tmp;</span><br><span class="line">        &#125;</span><br><span class="line">        strs[i] = strs[l];</span><br><span class="line">        strs[l] = tmp;</span><br><span class="line">        quickSort(strs, l, i - <span class="number">1</span>);</span><br><span class="line">        quickSort(strs, i + <span class="number">1</span>, r);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å†…ç½®å‡½æ•°</strong>ï¼š<br>éœ€å®šä¹‰æ’åºè§„åˆ™ï¼š<br>Java å®šä¹‰ä¸º (x, y) -&gt; (x + y).compareTo(y + x) ï¼›</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">minNumber</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        String[] strs = <span class="keyword">new</span> <span class="title class_">String</span>[nums.length];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; nums.length; i++)</span><br><span class="line">            strs[i] = String.valueOf(nums[i]);</span><br><span class="line">        Arrays.sort(strs, (x, y) -&gt; (x + y).compareTo(y + x));</span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">res</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        <span class="keyword">for</span>(String s : strs)</span><br><span class="line">            res.append(s);</span><br><span class="line">        <span class="keyword">return</span> res.toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="9ã€å‰‘æŒ‡-Offer-61-æ‰‘å…‹ç‰Œä¸­çš„é¡ºå­"><a href="#9ã€å‰‘æŒ‡-Offer-61-æ‰‘å…‹ç‰Œä¸­çš„é¡ºå­" class="headerlink" title="9ã€å‰‘æŒ‡ Offer 61. æ‰‘å…‹ç‰Œä¸­çš„é¡ºå­"></a>9ã€å‰‘æŒ‡ Offer 61. æ‰‘å…‹ç‰Œä¸­çš„é¡ºå­</h3><p>ä»<strong>è‹¥å¹²å‰¯æ‰‘å…‹ç‰Œ</strong>ä¸­éšæœºæŠ½ <code>5</code> å¼ ç‰Œï¼Œåˆ¤æ–­æ˜¯ä¸æ˜¯ä¸€ä¸ªé¡ºå­ï¼Œå³è¿™5å¼ ç‰Œæ˜¯ä¸æ˜¯è¿ç»­çš„ã€‚2ï½10ä¸ºæ•°å­—æœ¬èº«ï¼ŒAä¸º1ï¼ŒJä¸º11ï¼ŒQä¸º12ï¼ŒKä¸º13ï¼Œè€Œå¤§ã€å°ç‹ä¸º 0 ï¼Œå¯ä»¥çœ‹æˆä»»æ„æ•°å­—ã€‚A ä¸èƒ½è§†ä¸º 14ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: [1,2,3,4,5]</span><br><span class="line">è¾“å‡º: True</span><br></pre></td></tr></table></figure>



<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: [0,0,1,2,5]</span><br><span class="line">è¾“å‡º: True</span><br></pre></td></tr></table></figure>



<p><strong>é™åˆ¶ï¼š</strong></p>
<p>æ•°ç»„é•¿åº¦ä¸º 5</p>
<p>æ•°ç»„çš„æ•°å–å€¼ä¸º [0, 13] .</p>
<p>Related Topics</p>
<p>æ•°ç»„</p>
<p>æ’åº</p>
<p>ğŸ‘ 288</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯ï¼š</strong></p>
<h4 id="è§£æ³•ä¸€"><a href="#è§£æ³•ä¸€" class="headerlink" title="è§£æ³•ä¸€"></a>è§£æ³•ä¸€</h4><ol>
<li>éå†è¿‡ç¨‹ä¸­ç»Ÿè®¡jokerçš„æ•°é‡ï¼Œç”¨äºåç»­æ›¿ä»£å…¶ä»–å¡ç‰Œã€‚</li>
<li>å¦‚æœé‡åˆ°ä¸¤å¼ ç›¸ç­‰ï¼Œåˆ™ç›´æ¥è¿”å›falseã€‚</li>
<li>é‡åˆ°ä¸è¿ç»­çš„æƒ…å†µï¼Œå°±è®©jokeræ¥æ›¿ä»£å¡ç‰Œã€‚</li>
<li>éå†å®Œæˆåï¼Œè¿”å›trueã€‚</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isStraight</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">    Arrays.sort(nums); <span class="comment">// æ’åºï¼šç»Ÿè®¡joker</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">joker</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (nums[i] == <span class="number">0</span>) &#123;</span><br><span class="line">            joker++;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[i] == nums[i + <span class="number">1</span>]) &#123; <span class="comment">// æ’é™¤ç›¸ç­‰çš„ä¸¤å¼ ç›´æ¥ä¸ºé”™</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[i] + <span class="number">1</span> != nums[i + <span class="number">1</span>]) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> nums[i + <span class="number">1</span>] - nums[i] - <span class="number">1</span>; <span class="comment">// éœ€è¦å‡ å¼ joker</span></span><br><span class="line">            <span class="keyword">if</span> (res &gt; joker) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">else</span> joker -= res;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="è§£æ³•äºŒ"><a href="#è§£æ³•äºŒ" class="headerlink" title="è§£æ³•äºŒ"></a>è§£æ³•äºŒ</h4><p>æ ¹æ®é¢˜æ„ï¼Œæ­¤ 5 å¼ ç‰Œæ˜¯é¡ºå­çš„ <code>å……åˆ†æ¡ä»¶</code> å¦‚ä¸‹ï¼š</p>
<ol>
<li>é™¤å¤§å°ç‹å¤–ï¼Œæ‰€æœ‰ç‰Œ <code>æ— é‡å¤</code> ï¼›</li>
<li>è®¾æ­¤ 5 å¼ ç‰Œä¸­æœ€å¤§çš„ç‰Œä¸º max ï¼Œæœ€å°çš„ç‰Œä¸º min ï¼ˆå¤§å°ç‹é™¤å¤–ï¼‰ï¼Œåˆ™éœ€æ»¡è¶³ï¼š<br>max - min &lt; 5</li>
</ol>
<p>å› æ­¤å¯å°†é—®é¢˜è½¬åŒ–ä¸ºï¼šæ­¤ 5 å¼ ç‰Œæ˜¯å¦æ»¡è¶³ä»¥ä¸Šä¸¤ä¸ªæ¡ä»¶ï¼Ÿ</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1599885716-MGMODX-Picture1.png" alt="Picture1.png"></p>
<p>æ–¹æ³•ä¸€ï¼š <strong>é›†åˆ Set + éå†</strong></p>
<ul>
<li>éå†äº”å¼ ç‰Œï¼Œé‡åˆ°å¤§å°ç‹ï¼ˆå³ 0 ï¼‰ç›´æ¥è·³è¿‡ã€‚</li>
<li>åˆ¤åˆ«é‡å¤ï¼š åˆ©ç”¨ Set å®ç°éå†åˆ¤é‡ï¼Œ Set çš„æŸ¥æ‰¾æ–¹æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º O(1)O(1) ï¼›</li>
<li>è·å–æœ€å¤§ &#x2F; æœ€å°çš„ç‰Œï¼š å€ŸåŠ©è¾…åŠ©å˜é‡ ma å’Œ mi ï¼Œéå†ç»Ÿè®¡å³å¯ã€‚</li>
</ul>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š<br>æ—¶é—´å¤æ‚åº¦ O(1) ï¼š æœ¬é¢˜ä¸­ç»™å®šç‰Œæ•°é‡ Nâ‰¡5 ï¼›éå†æ•°ç»„ä½¿ç”¨ O(N) &#x3D; O(5) &#x3D; O(1) æ—¶é—´ã€‚<br>ç©ºé—´å¤æ‚åº¦ O(1) ï¼š ç”¨äºåˆ¤é‡çš„è¾…åŠ© Set ä½¿ç”¨ O(N) &#x3D; O(1) é¢å¤–ç©ºé—´ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isStraight</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        Set&lt;Integer&gt; repeat = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">        <span class="type">int</span> <span class="variable">max</span> <span class="operator">=</span> <span class="number">0</span>, min = <span class="number">14</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> num : nums) &#123;</span><br><span class="line">            <span class="keyword">if</span>(num == <span class="number">0</span>) <span class="keyword">continue</span>; <span class="comment">// è·³è¿‡å¤§å°ç‹</span></span><br><span class="line">            max = Math.max(max, num); <span class="comment">// æœ€å¤§ç‰Œ</span></span><br><span class="line">            min = Math.min(min, num); <span class="comment">// æœ€å°ç‰Œ</span></span><br><span class="line">            <span class="keyword">if</span>(repeat.contains(num)) <span class="keyword">return</span> <span class="literal">false</span>; <span class="comment">// è‹¥æœ‰é‡å¤ï¼Œæå‰è¿”å› false</span></span><br><span class="line">            repeat.add(num); <span class="comment">// æ·»åŠ æ­¤ç‰Œè‡³ Set</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> max - min &lt; <span class="number">5</span>; <span class="comment">// æœ€å¤§ç‰Œ - æœ€å°ç‰Œ &lt; 5 åˆ™å¯æ„æˆé¡ºå­</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ–¹æ³•äºŒï¼š<strong>æ’åº + éå†</strong></p>
<ul>
<li>å…ˆå¯¹æ•°ç»„æ‰§è¡Œæ’åºã€‚</li>
<li>åˆ¤åˆ«é‡å¤ï¼š æ’åºæ•°ç»„nums[i]&#x3D;nums[i+1] æ˜¯å¦æˆç«‹æ¥åˆ¤é‡ã€‚</li>
<li>è·å–æœ€å¤§ &#x2F; æœ€å°çš„ç‰Œï¼š æ’åºåï¼Œæ•°ç»„æœ«ä½å…ƒç´  nums[4] ä¸ºæœ€å¤§ç‰Œï¼›å…ƒç´  nums[joker] ä¸ºæœ€å°ç‰Œï¼Œå…¶ä¸­ joker ä¸ºå¤§å°ç‹çš„æ•°é‡ã€‚</li>
</ul>
<p>å¤æ‚åº¦åˆ†æï¼š<br>æ—¶é—´å¤æ‚åº¦ O(1) ï¼š æœ¬é¢˜ä¸­ç»™å®šç‰Œæ•°é‡ Nâ‰¡5 ï¼›æ•°ç»„æ’åºä½¿ç”¨ O(NlogN)&#x3D;O(5log5)&#x3D;O(1) æ—¶é—´ã€‚<br>ç©ºé—´å¤æ‚åº¦O(1) ï¼š å˜é‡ joker ä½¿ç”¨ O(1) å¤§å°çš„é¢å¤–ç©ºé—´ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1599885716-Lqyuwk-Picture15.png" alt="img"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isStraight</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">joker</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        Arrays.sort(nums); <span class="comment">// æ•°ç»„æ’åº</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(nums[i] == <span class="number">0</span>) joker++; <span class="comment">// ç»Ÿè®¡å¤§å°ç‹æ•°é‡</span></span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(nums[i] == nums[i + <span class="number">1</span>]) <span class="keyword">return</span> <span class="literal">false</span>; <span class="comment">// è‹¥æœ‰é‡å¤ï¼Œæå‰è¿”å› false</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> nums[<span class="number">4</span>] - nums[joker] &lt; <span class="number">5</span>; <span class="comment">// æœ€å¤§ç‰Œ - æœ€å°ç‰Œ &lt; 5 åˆ™å¯æ„æˆé¡ºå­</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="LC2037-ä½¿æ¯ä½å­¦ç”Ÿéƒ½æœ‰åº§ä½çš„æœ€å°‘ç§»åŠ¨æ¬¡æ•°"><a href="#LC2037-ä½¿æ¯ä½å­¦ç”Ÿéƒ½æœ‰åº§ä½çš„æœ€å°‘ç§»åŠ¨æ¬¡æ•°" class="headerlink" title="LC2037. ä½¿æ¯ä½å­¦ç”Ÿéƒ½æœ‰åº§ä½çš„æœ€å°‘ç§»åŠ¨æ¬¡æ•°"></a>LC2037. ä½¿æ¯ä½å­¦ç”Ÿéƒ½æœ‰åº§ä½çš„æœ€å°‘ç§»åŠ¨æ¬¡æ•°</h3><p>ä¸€ä¸ªæˆ¿é—´é‡Œæœ‰ <code>n</code> ä¸ªåº§ä½å’Œ <code>n</code> åå­¦ç”Ÿï¼Œæˆ¿é—´ç”¨ä¸€ä¸ªæ•°è½´è¡¨ç¤ºã€‚ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸º <code>n</code> çš„æ•°ç»„ <code>seats</code> ï¼Œå…¶ä¸­ <code>seats[i]</code> æ˜¯ç¬¬ <code>i</code> ä¸ªåº§ä½çš„ä½ç½®ã€‚åŒæ—¶ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸º <code>n</code> çš„æ•°ç»„ <code>students</code> ï¼Œå…¶ä¸­ <code>students[j]</code> æ˜¯ç¬¬ <code>j</code> ä½å­¦ç”Ÿçš„ä½ç½®ã€‚</p>
<p>ä½ å¯ä»¥æ‰§è¡Œä»¥ä¸‹æ“ä½œä»»æ„æ¬¡ï¼š</p>
<ul>
<li>å¢åŠ æˆ–è€…å‡å°‘ç¬¬ <code>i</code> ä½å­¦ç”Ÿçš„ä½ç½®ï¼Œæ¯æ¬¡å˜åŒ–é‡ä¸º <code>1</code> ï¼ˆä¹Ÿå°±æ˜¯å°†ç¬¬ <code>i</code> ä½å­¦ç”Ÿä»ä½ç½® <code>x</code> ç§»åŠ¨åˆ° <code>x + 1</code> æˆ–è€… <code>x - 1</code>ï¼‰</li>
</ul>
<p>è¯·ä½ è¿”å›ä½¿æ‰€æœ‰å­¦ç”Ÿéƒ½æœ‰åº§ä½åçš„ <strong>æœ€å°‘ç§»åŠ¨æ¬¡æ•°</strong> ï¼Œå¹¶ç¡®ä¿æ²¡æœ‰ä¸¤ä½å­¦ç”Ÿçš„åº§ä½ç›¸åŒã€‚</p>
<p>è¯·æ³¨æ„ï¼Œåˆå§‹æ—¶æœ‰å¯èƒ½æœ‰å¤šä¸ªåº§ä½æˆ–è€…å¤šä½å­¦ç”Ÿåœ¨ <strong>åŒä¸€</strong> ä½ç½®ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šseats = [3,1,5], students = [2,7,4]</span><br><span class="line">è¾“å‡ºï¼š4</span><br><span class="line">è§£é‡Šï¼šå­¦ç”Ÿç§»åŠ¨æ–¹å¼å¦‚ä¸‹ï¼š</span><br><span class="line">- ç¬¬ä¸€ä½å­¦ç”Ÿä»ä½ç½® 2 ç§»åŠ¨åˆ°ä½ç½® 1 ï¼Œç§»åŠ¨ 1 æ¬¡ã€‚</span><br><span class="line">- ç¬¬äºŒä½å­¦ç”Ÿä»ä½ç½® 7 ç§»åŠ¨åˆ°ä½ç½® 5 ï¼Œç§»åŠ¨ 2 æ¬¡ã€‚</span><br><span class="line">- ç¬¬ä¸‰ä½å­¦ç”Ÿä»ä½ç½® 4 ç§»åŠ¨åˆ°ä½ç½® 3 ï¼Œç§»åŠ¨ 1 æ¬¡ã€‚</span><br><span class="line">æ€»å…± 1 + 2 + 1 = 4 æ¬¡ç§»åŠ¨ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šseats = [4,1,5,9], students = [1,3,2,6]</span><br><span class="line">è¾“å‡ºï¼š7</span><br><span class="line">è§£é‡Šï¼šå­¦ç”Ÿç§»åŠ¨æ–¹å¼å¦‚ä¸‹ï¼š</span><br><span class="line">- ç¬¬ä¸€ä½å­¦ç”Ÿä¸ç§»åŠ¨ã€‚</span><br><span class="line">- ç¬¬äºŒä½å­¦ç”Ÿä»ä½ç½® 3 ç§»åŠ¨åˆ°ä½ç½® 4 ï¼Œç§»åŠ¨ 1 æ¬¡ã€‚</span><br><span class="line">- ç¬¬ä¸‰ä½å­¦ç”Ÿä»ä½ç½® 2 ç§»åŠ¨åˆ°ä½ç½® 5 ï¼Œç§»åŠ¨ 3 æ¬¡ã€‚</span><br><span class="line">- ç¬¬å››ä½å­¦ç”Ÿä»ä½ç½® 6 ç§»åŠ¨åˆ°ä½ç½® 9 ï¼Œç§»åŠ¨ 3 æ¬¡ã€‚</span><br><span class="line">æ€»å…± 0 + 1 + 3 + 3 = 7 æ¬¡ç§»åŠ¨ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šseats = [2,2,6,6], students = [1,3,2,6]</span><br><span class="line">è¾“å‡ºï¼š4</span><br><span class="line">è§£é‡Šï¼šå­¦ç”Ÿç§»åŠ¨æ–¹å¼å¦‚ä¸‹ï¼š</span><br><span class="line">- ç¬¬ä¸€ä½å­¦ç”Ÿä»ä½ç½® 1 ç§»åŠ¨åˆ°ä½ç½® 2 ï¼Œç§»åŠ¨ 1 æ¬¡ã€‚</span><br><span class="line">- ç¬¬äºŒä½å­¦ç”Ÿä»ä½ç½® 3 ç§»åŠ¨åˆ°ä½ç½® 6 ï¼Œç§»åŠ¨ 3 æ¬¡ã€‚</span><br><span class="line">- ç¬¬ä¸‰ä½å­¦ç”Ÿä¸ç§»åŠ¨ã€‚</span><br><span class="line">- ç¬¬å››ä½å­¦ç”Ÿä¸ç§»åŠ¨ã€‚</span><br><span class="line">æ€»å…± 1 + 3 + 0 + 0 = 4 æ¬¡ç§»åŠ¨ã€‚</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>n == seats.length == students.length</code></li>
<li><code>1 &lt;= n &lt;= 100</code></li>
<li><code>1 &lt;= seats[i], students[j] &lt;= 100</code></li>
</ul>
<p>Related Topics</p>
<p>æ•°ç»„</p>
<p>æ’åº</p>
<p>ğŸ‘ 29</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>å…ˆå¯¹ä¸¤ä¸ªæ•°ç»„è¿›è¡Œæ’åºï¼Œæœ€åä¾æ¬¡æ±‚å·®ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minMovesToSeat</span><span class="params">(<span class="type">int</span>[] seats, <span class="type">int</span>[] students)</span> &#123;</span><br><span class="line">        Arrays.sort(seats);</span><br><span class="line">        Arrays.sort(students);</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; seats.length; i++) &#123;</span><br><span class="line">            res += Math.abs(seats[i] - students[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦O(NlogN),æ’åºçš„å¼€é”€</li>
<li>ç©ºé—´å¤æ‚åº¦O(logN)</li>
</ul>
<h2 id="åä¸€ã€æŸ¥æ‰¾ç®—æ³•"><a href="#åä¸€ã€æŸ¥æ‰¾ç®—æ³•" class="headerlink" title="åä¸€ã€æŸ¥æ‰¾ç®—æ³•"></a>åä¸€ã€æŸ¥æ‰¾ç®—æ³•</h2><h3 id="1ã€å‰‘æŒ‡-Offer-03-æ•°ç»„ä¸­é‡å¤çš„æ•°å­—"><a href="#1ã€å‰‘æŒ‡-Offer-03-æ•°ç»„ä¸­é‡å¤çš„æ•°å­—" class="headerlink" title="1ã€å‰‘æŒ‡ Offer 03. æ•°ç»„ä¸­é‡å¤çš„æ•°å­—"></a>1ã€å‰‘æŒ‡ Offer 03. æ•°ç»„ä¸­é‡å¤çš„æ•°å­—</h3><p>æ‰¾å‡ºæ•°ç»„ä¸­é‡å¤çš„æ•°å­—ã€‚</p>
<p>åœ¨ä¸€ä¸ªé•¿åº¦ä¸º n çš„æ•°ç»„ nums é‡Œçš„æ‰€æœ‰æ•°å­—éƒ½åœ¨ 0ï½n-1 çš„èŒƒå›´å†…ã€‚æ•°ç»„ä¸­æŸäº›æ•°å­—æ˜¯é‡å¤çš„ï¼Œä½†ä¸çŸ¥é“æœ‰å‡ ä¸ªæ•°å­—é‡å¤äº†ï¼Œä¹Ÿä¸çŸ¥é“æ¯ä¸ªæ•°å­—é‡å¤äº†å‡ æ¬¡ã€‚è¯·æ‰¾å‡ºæ•°ç»„ä¸­ä»»æ„ä¸€ä¸ªé‡å¤çš„æ•°å­—ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š</span><br><span class="line">[2, 3, 1, 0, 2, 5, 3]</span><br><span class="line">è¾“å‡ºï¼š2 æˆ– 3 </span><br></pre></td></tr></table></figure>



<p><strong>é™åˆ¶ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2 &lt;= n &lt;= 100000</span><br></pre></td></tr></table></figure>

<p>Related Topics</p>
<p>æ•°ç»„</p>
<p>å“ˆå¸Œè¡¨</p>
<p>æ’åº</p>
<p>ğŸ‘ 1017</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<h4 id="æ–¹æ³•ä¸€ï¼šå“ˆå¸Œè¡¨-1"><a href="#æ–¹æ³•ä¸€ï¼šå“ˆå¸Œè¡¨-1" class="headerlink" title="æ–¹æ³•ä¸€ï¼šå“ˆå¸Œè¡¨"></a>æ–¹æ³•ä¸€ï¼šå“ˆå¸Œè¡¨</h4><p>åˆ©ç”¨æ•°æ®ç»“æ„ç‰¹ç‚¹ï¼Œå®¹æ˜“æƒ³åˆ°ä½¿ç”¨å“ˆå¸Œè¡¨ï¼ˆSetï¼‰è®°å½•æ•°ç»„çš„å„ä¸ªæ•°å­—ï¼Œå½“æŸ¥æ‰¾åˆ°é‡å¤æ•°å­—åˆ™ç›´æ¥è¿”å›ã€‚</p>
<p><strong>ç®—æ³•æµç¨‹</strong>ï¼š</p>
<ol>
<li>åˆå§‹åŒ–ï¼š æ–°å»º HashSet ï¼Œè®°ä¸º set ï¼›</li>
<li>éå†æ•°ç»„ nums ä¸­çš„æ¯ä¸ªæ•°å­— num ï¼š<ol>
<li>å½“ num åœ¨ set ä¸­ï¼Œè¯´æ˜é‡å¤ï¼Œç›´æ¥è¿”å› num ï¼›</li>
<li>å°† num æ·»åŠ è‡³ set ä¸­ï¼›</li>
</ol>
</li>
<li>è¿”å› -1 ã€‚æœ¬é¢˜ä¸­ä¸€å®šæœ‰é‡å¤æ•°å­—ï¼Œå› æ­¤è¿™é‡Œè¿”å›å¤šå°‘éƒ½å¯ä»¥ã€‚</li>
</ol>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(N) ï¼š éå†æ•°ç»„ä½¿ç”¨ O(N) ï¼ŒHashSet æ·»åŠ ä¸æŸ¥æ‰¾å…ƒç´ çš†ä¸º O(1) ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(N) ï¼š HashSet å ç”¨ O(N) å¤§å°çš„é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * å“ˆå¸Œset</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"> <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">findRepeatNumber</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">     Set&lt;Integer&gt; set = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">     <span class="keyword">for</span> (<span class="type">int</span> num : nums) &#123;</span><br><span class="line">         <span class="keyword">if</span> (set.contains(num)) <span class="keyword">return</span> num;</span><br><span class="line">         <span class="keyword">else</span> set.add(num);</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * æ•°ç»„è®°å½•</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">findRepeatNumber2</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">     <span class="type">byte</span>[] arr = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">100000</span>];</span><br><span class="line">     <span class="keyword">for</span> (<span class="type">int</span> num : nums) &#123;</span><br><span class="line">         <span class="keyword">if</span> (arr[num] == <span class="number">1</span>) <span class="keyword">return</span> num;</span><br><span class="line">         <span class="keyword">else</span> arr[num] = <span class="number">1</span>;</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="æ–¹æ³•äºŒï¼šåŸåœ°äº¤æ¢"><a href="#æ–¹æ³•äºŒï¼šåŸåœ°äº¤æ¢" class="headerlink" title="æ–¹æ³•äºŒï¼šåŸåœ°äº¤æ¢"></a>æ–¹æ³•äºŒï¼šåŸåœ°äº¤æ¢</h4><p>é¢˜ç›®è¯´æ˜å°šæœªè¢«å……åˆ†ä½¿ç”¨ï¼Œå³ <code>åœ¨ä¸€ä¸ªé•¿åº¦ä¸º n çš„æ•°ç»„ nums é‡Œçš„æ‰€æœ‰æ•°å­—éƒ½åœ¨ 0 ~ n-1 çš„èŒƒå›´å†…</code> ã€‚ æ­¤è¯´æ˜å«ä¹‰ï¼šæ•°ç»„å…ƒç´ çš„ <strong>ç´¢å¼•</strong> å’Œ <strong>å€¼</strong> æ˜¯ <strong>ä¸€å¯¹å¤š</strong> çš„å…³ç³»ã€‚</p>
<p>å› æ­¤ï¼Œå¯éå†æ•°ç»„å¹¶é€šè¿‡äº¤æ¢æ“ä½œï¼Œä½¿å…ƒç´ çš„ <strong>ç´¢å¼•</strong> ä¸ <strong>å€¼</strong> ä¸€ä¸€å¯¹åº”ï¼ˆå³ nums[i] &#x3D; i ï¼‰ã€‚å› è€Œï¼Œå°±èƒ½é€šè¿‡ç´¢å¼•æ˜ å°„å¯¹åº”çš„å€¼ï¼Œèµ·åˆ°ä¸å­—å…¸ç­‰ä»·çš„ä½œç”¨ã€‚<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/c1fc8ab927c2663d44d6e11ec3db3871db816999466ceeacbe57e6cf6e9de149-Picture0.png" alt="Picture0.png"></p>
<p>éå†ä¸­ï¼Œç¬¬ä¸€æ¬¡é‡åˆ°æ•°å­— x æ—¶ï¼Œå°†å…¶äº¤æ¢è‡³ç´¢å¼• x å¤„ï¼›è€Œå½“ç¬¬äºŒæ¬¡é‡åˆ°æ•°å­— x æ—¶ï¼Œä¸€å®šæœ‰ nums[x] &#x3D; x ï¼Œæ­¤æ—¶å³å¯å¾—åˆ°ä¸€ç»„é‡å¤æ•°å­—ã€‚</p>
<p><strong>ç®—æ³•æµç¨‹</strong>ï¼š</p>
<p>éå†æ•°ç»„ nums ï¼Œè®¾ç´¢å¼•åˆå§‹å€¼ä¸º i &#x3D; 0 :</p>
<p>è‹¥ nums[i] &#x3D; i ï¼š è¯´æ˜æ­¤æ•°å­—å·²åœ¨å¯¹åº”ç´¢å¼•ä½ç½®ï¼Œæ— éœ€äº¤æ¢ï¼Œå› æ­¤è·³è¿‡ï¼›<br>è‹¥ nums[nums[i]] &#x3D; nums[i] ï¼š ä»£è¡¨ç´¢å¼• nums[i] å¤„å’Œç´¢å¼• i å¤„çš„å…ƒç´ å€¼éƒ½ä¸º nums[i] ï¼Œå³æ‰¾åˆ°ä¸€ç»„é‡å¤å€¼ï¼Œè¿”å›æ­¤å€¼ nums[i] ï¼›<br>å¦åˆ™ï¼š äº¤æ¢ç´¢å¼•ä¸º i å’Œ nums[i] çš„å…ƒç´ å€¼ï¼Œå°†æ­¤æ•°å­—äº¤æ¢è‡³å¯¹åº”ç´¢å¼•ä½ç½®ã€‚<br>è‹¥éå†å®Œæ¯•å°šæœªè¿”å›ï¼Œåˆ™è¿”å› âˆ’1 ã€‚</p>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(N) ï¼š éå†æ•°ç»„ä½¿ç”¨ O(N) ï¼Œæ¯è½®éå†çš„åˆ¤æ–­å’Œäº¤æ¢æ“ä½œä½¿ç”¨ O(1) ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(1) ï¼š ä½¿ç”¨å¸¸æ•°å¤æ‚åº¦çš„é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/82ea50d1915609e368839cac6d4e0e615ff8297138aff645d0c2aba79e6a7b7e-Picture15.png" alt="img"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åŸåœ°äº¤æ¢</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">   <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">findRepeatNumber3</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">       <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">       <span class="keyword">while</span> (i &lt; nums.length) &#123;</span><br><span class="line">           <span class="keyword">if</span> (nums[i] == i) &#123; <span class="comment">// å·²ç»æœ‰åº</span></span><br><span class="line">               i++;</span><br><span class="line">               <span class="keyword">continue</span>;</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="keyword">if</span> (nums[nums[i]] == nums[i]) &#123; <span class="comment">// æ’å¥½åºåï¼Œé‡åˆ°äº†ç¬¬äºŒä¸ªè¿™ä¸ªæ•°</span></span><br><span class="line">               <span class="keyword">return</span> nums[i];</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="comment">// äº¤æ¢</span></span><br><span class="line">           <span class="type">int</span> <span class="variable">tmp</span> <span class="operator">=</span> nums[i];</span><br><span class="line">           nums[i] = nums[nums[i]];</span><br><span class="line">           nums[nums[i]] = tmp;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<h3 id="2ã€å‰‘æŒ‡-Offer-04-äºŒç»´æ•°ç»„ä¸­çš„æŸ¥æ‰¾"><a href="#2ã€å‰‘æŒ‡-Offer-04-äºŒç»´æ•°ç»„ä¸­çš„æŸ¥æ‰¾" class="headerlink" title="2ã€å‰‘æŒ‡ Offer 04. äºŒç»´æ•°ç»„ä¸­çš„æŸ¥æ‰¾"></a>2ã€å‰‘æŒ‡ Offer 04. äºŒç»´æ•°ç»„ä¸­çš„æŸ¥æ‰¾</h3><p>åœ¨ä¸€ä¸ª n * m çš„äºŒç»´æ•°ç»„ä¸­ï¼Œæ¯ä¸€è¡Œéƒ½æŒ‰ç…§ä»å·¦åˆ°å³ <strong>éé€’å‡</strong> çš„é¡ºåºæ’åºï¼Œæ¯ä¸€åˆ—éƒ½æŒ‰ç…§ä»ä¸Šåˆ°ä¸‹ <strong>éé€’å‡</strong> çš„é¡ºåºæ’åºã€‚è¯·å®Œæˆä¸€ä¸ªé«˜æ•ˆçš„å‡½æ•°ï¼Œè¾“å…¥è¿™æ ·çš„ä¸€ä¸ªäºŒç»´æ•°ç»„å’Œä¸€ä¸ªæ•´æ•°ï¼Œåˆ¤æ–­æ•°ç»„ä¸­æ˜¯å¦å«æœ‰è¯¥æ•´æ•°ã€‚</p>
<p><strong>ç¤ºä¾‹:</strong></p>
<p>ç°æœ‰çŸ©é˜µ matrix å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  [1,   4,  7, 11, 15],</span><br><span class="line">  [2,   5,  8, 12, 19],</span><br><span class="line">  [3,   6,  9, 16, 22],</span><br><span class="line">  [10, 13, 14, 17, 24],</span><br><span class="line">  [18, 21, 23, 26, 30]</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p>ç»™å®š target &#x3D; <code>5</code>ï¼Œè¿”å› <code>true</code>ã€‚</p>
<p>ç»™å®š target &#x3D; <code>20</code>ï¼Œè¿”å› <code>false</code>ã€‚</p>
<p><strong>é™åˆ¶ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">0 &lt;= n &lt;= 1000</span><br><span class="line">0 &lt;= m &lt;= 1000</span><br></pre></td></tr></table></figure>



<p><strong>æ³¨æ„ï¼š</strong>æœ¬é¢˜ä¸ä¸»ç«™ 240 é¢˜ç›¸åŒï¼š<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/search-a-2d-matrix-ii/">https://leetcode-cn.com/problems/search-a-2d-matrix-ii/</a></p>
<p>Related Topics</p>
<p>æ•°ç»„</p>
<p>äºŒåˆ†æŸ¥æ‰¾</p>
<p>åˆ†æ²»</p>
<p>çŸ©é˜µ</p>
<p>ğŸ‘ 833</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<blockquote>
<p>è‹¥ä½¿ç”¨æš´åŠ›æ³•éå†çŸ©é˜µ <code>matrix</code> ï¼Œåˆ™æ—¶é—´å¤æ‚åº¦ä¸º O(NM) ã€‚æš´åŠ›æ³•æœªåˆ©ç”¨çŸ©é˜µ <strong>â€œä»ä¸Šåˆ°ä¸‹é€’å¢ã€ä»å·¦åˆ°å³é€’å¢â€</strong> çš„ç‰¹ç‚¹ï¼Œæ˜¾ç„¶ä¸æ˜¯æœ€ä¼˜è§£æ³•ã€‚</p>
</blockquote>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæˆ‘ä»¬å°†çŸ©é˜µé€†æ—¶é’ˆæ—‹è½¬ 45Â° ï¼Œå¹¶å°†å…¶è½¬åŒ–ä¸ºå›¾å½¢å¼ï¼Œå‘ç°å…¶ç±»ä¼¼äº <strong>äºŒå‰æœç´¢æ ‘</strong> ï¼Œå³å¯¹äºæ¯ä¸ªå…ƒç´ ï¼Œå…¶å·¦åˆ†æ”¯å…ƒç´ æ›´å°ã€å³åˆ†æ”¯å…ƒç´ æ›´å¤§ã€‚å› æ­¤ï¼Œé€šè¿‡ä» â€œæ ¹èŠ‚ç‚¹â€ å¼€å§‹æœç´¢ï¼Œé‡åˆ°æ¯” <code>target</code> å¤§çš„å…ƒç´ å°±å‘å·¦ï¼Œåä¹‹å‘å³ï¼Œå³å¯æ‰¾åˆ°ç›®æ ‡å€¼ <code>target</code> ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/6584ea93812d27112043d203ea90e4b0950117d45e0452d0c630fcb247fbc4af-Picture1.png" alt="Picture1.png"></p>
<p>â€œæ ¹èŠ‚ç‚¹â€ å¯¹åº”çš„æ˜¯çŸ©é˜µçš„ â€œå·¦ä¸‹è§’â€ å’Œ â€œå³ä¸Šè§’â€ å…ƒç´ ï¼Œæœ¬æ–‡ç§°ä¹‹ä¸º <strong>æ ‡å¿—æ•°</strong> ï¼Œä»¥ <code>matrix</code> ä¸­çš„ <strong>å·¦ä¸‹è§’å…ƒç´ </strong> ä¸ºæ ‡å¿—æ•° <code>flag</code> ï¼Œåˆ™æœ‰:</p>
<ol>
<li>è‹¥ flag &gt; target ï¼Œåˆ™ target ä¸€å®šåœ¨ flag æ‰€åœ¨ è¡Œçš„ä¸Šæ–¹ ï¼Œå³ flag æ‰€åœ¨è¡Œå¯è¢«æ¶ˆå»ã€‚</li>
<li>è‹¥ flag &lt; target ï¼Œåˆ™ target ä¸€å®šåœ¨ flag æ‰€åœ¨ åˆ—çš„å³æ–¹ ï¼Œå³ flag æ‰€åœ¨åˆ—å¯è¢«æ¶ˆå»ã€‚</li>
</ol>
<p><strong>ç®—æ³•æµç¨‹</strong>ï¼š</p>
<ol>
<li><p>ä»çŸ©é˜µ matrix å·¦ä¸‹è§’å…ƒç´ ï¼ˆç´¢å¼•è®¾ä¸º (i, j) ï¼‰å¼€å§‹éå†ï¼Œå¹¶ä¸ç›®æ ‡å€¼å¯¹æ¯”ï¼š</p>
<ul>
<li>å½“ matrix[i] [j] &gt; target æ—¶ï¼Œæ‰§è¡Œ iâ€“ ï¼Œå³æ¶ˆå»ç¬¬ i è¡Œå…ƒç´ ï¼›</li>
<li>å½“ matrix[i] [j] &lt; target æ—¶ï¼Œæ‰§è¡Œ j++ ï¼Œå³æ¶ˆå»ç¬¬ j åˆ—å…ƒç´ ï¼›</li>
<li>å½“ matrix[i] [j] &#x3D; target æ—¶ï¼Œè¿”å› true ï¼Œä»£è¡¨æ‰¾åˆ°ç›®æ ‡å€¼ã€‚</li>
</ul>
</li>
<li><p>è‹¥è¡Œç´¢å¼•æˆ–åˆ—ç´¢å¼•è¶Šç•Œï¼Œåˆ™ä»£è¡¨çŸ©é˜µä¸­æ— ç›®æ ‡å€¼ï¼Œè¿”å› false<em>f<strong>a</strong>l<strong>s</strong>e</em> ã€‚</p>
</li>
</ol>
<blockquote>
<p>æ¯è½® <code>i</code> æˆ– <code>j</code> ç§»åŠ¨åï¼Œç›¸å½“äºç”Ÿæˆäº†â€œæ¶ˆå»ä¸€è¡Œï¼ˆåˆ—ï¼‰çš„æ–°çŸ©é˜µâ€ï¼Œ ç´¢å¼•<code>(i,j)</code> æŒ‡å‘æ–°çŸ©é˜µçš„å·¦ä¸‹è§’å…ƒç´ ï¼ˆæ ‡å¿—æ•°ï¼‰ï¼Œå› æ­¤å¯é‡å¤ä½¿ç”¨ä»¥ä¸Šæ€§è´¨æ¶ˆå»è¡Œï¼ˆåˆ—ï¼‰ã€‚</p>
</blockquote>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(M+N) ï¼šå…¶ä¸­ï¼ŒN å’Œ M åˆ†åˆ«ä¸ºçŸ©é˜µè¡Œæ•°å’Œåˆ—æ•°ï¼Œæ­¤ç®—æ³•æœ€å¤šå¾ªç¯ M+N æ¬¡ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(1) : i, j æŒ‡é’ˆä½¿ç”¨å¸¸æ•°å¤§å°é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">findNumberIn2DArray2</span><span class="params">(<span class="type">int</span>[][] matrix, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> matrix.length - <span class="number">1</span>, j = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (i &gt;= <span class="number">0</span> &amp;&amp; j &lt; matrix[<span class="number">0</span>].length) &#123;</span><br><span class="line">        <span class="keyword">if</span> (matrix[i][j] &gt; target) &#123;</span><br><span class="line">            i--;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (matrix[i][j] &lt; target) &#123;</span><br><span class="line">            j++;</span><br><span class="line">        &#125; <span class="keyword">else</span> </span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é€’å½’</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* é€’å½’</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">findNumberIn2DArray</span><span class="params">(<span class="type">int</span>[][] matrix, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> traversal(matrix, matrix.length - <span class="number">1</span>, <span class="number">0</span>, target);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">traversal</span><span class="params">(<span class="type">int</span>[][] matrix, <span class="type">int</span> startX, <span class="type">int</span> startY, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (startX &lt; <span class="number">0</span> || startY &gt;= matrix[<span class="number">0</span>].length) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (matrix[startX][startY] ==  target) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (matrix[startX][startY] &gt; target) &#123;</span><br><span class="line">        <span class="keyword">return</span> traversal(matrix, startX - <span class="number">1</span>, startY, target);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123; <span class="comment">// &lt;</span></span><br><span class="line">        <span class="keyword">return</span> traversal(matrix, startX, startY + <span class="number">1</span>, target);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3ã€å‰‘æŒ‡-Offer-11-æ—‹è½¬æ•°ç»„çš„æœ€å°æ•°å­—"><a href="#3ã€å‰‘æŒ‡-Offer-11-æ—‹è½¬æ•°ç»„çš„æœ€å°æ•°å­—" class="headerlink" title="3ã€å‰‘æŒ‡ Offer 11. æ—‹è½¬æ•°ç»„çš„æœ€å°æ•°å­—"></a>3ã€å‰‘æŒ‡ Offer 11. æ—‹è½¬æ•°ç»„çš„æœ€å°æ•°å­—</h3><p>æŠŠä¸€ä¸ªæ•°ç»„æœ€å¼€å§‹çš„è‹¥å¹²ä¸ªå…ƒç´ æ¬åˆ°æ•°ç»„çš„æœ«å°¾ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºæ•°ç»„çš„æ—‹è½¬ã€‚</p>
<p>ç»™ä½ ä¸€ä¸ªå¯èƒ½å­˜åœ¨ <strong>é‡å¤</strong> å…ƒç´ å€¼çš„æ•°ç»„ <code>numbers</code> ï¼Œå®ƒåŸæ¥æ˜¯ä¸€ä¸ªå‡åºæ’åˆ—çš„æ•°ç»„ï¼Œå¹¶æŒ‰ä¸Šè¿°æƒ…å½¢è¿›è¡Œäº†ä¸€æ¬¡æ—‹è½¬ã€‚è¯·è¿”å›æ—‹è½¬æ•°ç»„çš„<strong>æœ€å°å…ƒç´ </strong>ã€‚ä¾‹å¦‚ï¼Œæ•°ç»„ <code>[3,4,5,1,2]</code> ä¸º <code>[1,2,3,4,5]</code> çš„ä¸€æ¬¡æ—‹è½¬ï¼Œè¯¥æ•°ç»„çš„æœ€å°å€¼ä¸º 1ã€‚</p>
<p>æ³¨æ„ï¼Œæ•°ç»„ <code>[a[0], a[1], a[2], ..., a[n-1]]</code> æ—‹è½¬ä¸€æ¬¡ çš„ç»“æœä¸ºæ•°ç»„ <code>[a[n-1], a[0], a[1], a[2], ..., a[n-2]]</code> ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnumbers = [3,4,5,1,2]</span><br><span class="line">è¾“å‡ºï¼š1</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnumbers = [2,2,2,0,1]</span><br><span class="line">è¾“å‡ºï¼š0</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>n == numbers.length</code></li>
<li><code>1 &lt;= n &lt;= 5000</code></li>
<li><code>-5000 &lt;= numbers[i] &lt;= 5000</code></li>
<li><code>numbers</code> åŸæ¥æ˜¯ä¸€ä¸ªå‡åºæ’åºçš„æ•°ç»„ï¼Œå¹¶è¿›è¡Œäº† <code>1</code> è‡³ <code>n</code> æ¬¡æ—‹è½¬</li>
</ul>
<p>æ³¨æ„ï¼šæœ¬é¢˜ä¸ä¸»ç«™ 154 é¢˜ç›¸åŒï¼š<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/find-minimum-in-rotated-sorted-array-ii/">https://leetcode-cn.com/problems/find-minimum-in-rotated-sorted-array-ii/</a></p>
<p>Related Topics</p>
<p>æ•°ç»„</p>
<p>äºŒåˆ†æŸ¥æ‰¾</p>
<p>ğŸ‘ 732</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå¯»æ‰¾æ—‹è½¬æ•°ç»„çš„æœ€å°å…ƒç´ å³ä¸ºå¯»æ‰¾ <strong>å³æ’åºæ•°ç»„</strong> çš„é¦–ä¸ªå…ƒç´  nums[x]ï¼Œç§° x ä¸º <strong>æ—‹è½¬ç‚¹</strong> ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1599404042-JMvjtL-Picture1.png" alt="Picture1.png"></p>
<p>æ’åºæ•°ç»„çš„æŸ¥æ‰¾é—®é¢˜é¦–å…ˆè€ƒè™‘ä½¿ç”¨ <strong>äºŒåˆ†æ³•</strong> è§£å†³ï¼Œå…¶å¯å°† <strong>éå†æ³•</strong> çš„ <strong>çº¿æ€§çº§åˆ«</strong> æ—¶é—´å¤æ‚åº¦é™ä½è‡³ <strong>å¯¹æ•°çº§åˆ«</strong> ã€‚</p>
<p><strong>ç®—æ³•æµç¨‹</strong>ï¼š</p>
<ol>
<li>åˆå§‹åŒ–ï¼š å£°æ˜ i, j åŒæŒ‡é’ˆåˆ†åˆ«æŒ‡å‘ nums æ•°ç»„å·¦å³ä¸¤ç«¯ï¼›</li>
<li><strong>å¾ªç¯äºŒåˆ†</strong>ï¼š è®¾ m &#x3D; (i + j) &#x2F; 2 ä¸ºæ¯æ¬¡äºŒåˆ†çš„ä¸­ç‚¹ï¼ˆ â€œ&#x2F;â€œ ä»£è¡¨å‘ä¸‹å–æ•´é™¤æ³•ï¼Œå› æ­¤æ’æœ‰ iâ‰¤m&lt;j , å·¦é—­å³å¼€[)ï¼‰ï¼Œå¯åˆ†ä¸ºä»¥ä¸‹ä¸‰ç§æƒ…å†µï¼š<ol>
<li>å½“ nums[m] &gt; nums[j] æ—¶ï¼š m ä¸€å®šåœ¨ å·¦æ’åºæ•°ç»„ ä¸­ï¼Œå³æ—‹è½¬ç‚¹ x ä¸€å®šåœ¨ [m + 1, j] é—­åŒºé—´å†…ï¼Œå› æ­¤æ‰§è¡Œ i &#x3D; m + 1ï¼›</li>
<li>å½“ nums[m] &lt; nums[j] æ—¶ï¼š m ä¸€å®šåœ¨ å³æ’åºæ•°ç»„ ä¸­ï¼Œå³æ—‹è½¬ç‚¹ x ä¸€å®šåœ¨ [i, m] é—­åŒºé—´å†…ï¼Œå› æ­¤æ‰§è¡Œ j &#x3D; mï¼›</li>
<li>å½“ nums[m] &#x3D; nums[j] æ—¶ï¼š æ— æ³•åˆ¤æ–­ m åœ¨å“ªä¸ªæ’åºæ•°ç»„ä¸­ï¼Œå³æ— æ³•åˆ¤æ–­æ—‹è½¬ç‚¹ x åœ¨ [i, m] è¿˜æ˜¯ [m + 1, j] åŒºé—´ä¸­ã€‚è§£å†³æ–¹æ¡ˆï¼š æ‰§è¡Œ j &#x3D; j - 1 ç¼©å°åˆ¤æ–­èŒƒå›´ï¼Œåˆ†æè§ä¸‹æ–‡ã€‚</li>
</ol>
</li>
<li>è¿”å›å€¼ï¼š å½“ i &#x3D; j æ—¶è·³å‡ºäºŒåˆ†å¾ªç¯ï¼Œå¹¶è¿”å› æ—‹è½¬ç‚¹çš„å€¼ nums[i] å³å¯ã€‚</li>
</ol>
<p><strong>æ­£ç¡®æ€§è¯æ˜</strong>ï¼š</p>
<p>å½“ nums[m] &#x3D; nums[j] æ—¶ï¼Œæ— æ³•åˆ¤å®š m åœ¨å·¦ï¼ˆå³ï¼‰æ’åºæ•°ç»„ï¼Œè‡ªç„¶ä¹Ÿæ— æ³•é€šè¿‡äºŒåˆ†æ³•å®‰å…¨åœ°ç¼©å°åŒºé—´ï¼Œå› ä¸ºå…¶ä¼šå¯¼è‡´æ—‹è½¬ç‚¹ x ä¸åœ¨åŒºé—´ [i, j] å†…ã€‚ä¸¾ä¾‹å¦‚ä¸‹ï¼š</p>
<blockquote>
<p>è®¾ä»¥ä¸‹ä¸¤ä¸ªæ—‹è½¬ç‚¹å€¼ä¸º 0 çš„ç¤ºä¾‹æ•°ç»„ï¼Œåˆ™å½“ i &#x3D; 0, j &#x3D; 4 æ—¶ m &#x3D; 2 ï¼Œä¸¤ç¤ºä¾‹ç»“æœä¸åŒã€‚<br>ç¤ºä¾‹ä¸€ [1, 0, 1, 1, 1] ï¼šæ—‹è½¬ç‚¹ x &#x3D; 1 ï¼Œå› æ­¤ m &#x3D; 2 åœ¨ å³æ’åºæ•°ç»„ ä¸­ã€‚<br>ç¤ºä¾‹äºŒ [1, 1, 1, 0, 1] ï¼šæ—‹è½¬ç‚¹ x &#x3D; 3 ï¼Œå› æ­¤ m &#x3D; 2 åœ¨ å·¦æ’åºæ•°ç»„ ä¸­ã€‚</p>
</blockquote>
<p>è€Œè¯æ˜ j &#x3D; j - 1 æ­£ç¡®ï¼ˆç¼©å°åŒºé—´å®‰å…¨æ€§ï¼‰ï¼Œéœ€åˆ†ä¸ºä¸¤ç§æƒ…å†µï¼š</p>
<ol>
<li><p>å½“ x &lt; j æ—¶ï¼š æ˜“å¾—æ‰§è¡Œ j &#x3D; j - 1 åï¼Œæ—‹è½¬ç‚¹ x ä»åœ¨åŒºé—´ [i, j] å†…ã€‚</p>
</li>
<li><p>å½“ x &#x3D; j æ—¶ï¼š æ‰§è¡Œ j &#x3D; j - 1 åè¶Šè¿‡ï¼ˆä¸¢å¤±ï¼‰äº†æ—‹è½¬ç‚¹ x ï¼Œä½†æœ€ç»ˆè¿”å›çš„å…ƒç´ å€¼ nums[i] ä»ç­‰äºæ—‹è½¬ç‚¹å€¼ nums[x] ã€‚</p>
<ol>
<li>ç”±äº x &#x3D; j ï¼Œå› æ­¤ nums[x] &#x3D; nums[j] &#x3D; nums[m] â‰¤ nums[i] ;</li>
<li>åˆç”±äº i â‰¤ m &lt; j æ’æˆç«‹ï¼Œå› æ­¤æœ‰ m &lt; x ï¼Œå³æ­¤æ—¶ m ä¸€å®šåœ¨å·¦æ’åºæ•°ç»„ä¸­ï¼Œå› æ­¤ nums[m] â‰¥ nums[i] ;</li>
</ol>
</li>
</ol>
<ul>
<li><p>ç»¼åˆ 1. , 2. ï¼Œå¯æ¨å‡º nums[i] &#x3D; nums[m] ï¼Œä¸”åŒºé—´ [i, m] å†…æ‰€æœ‰å…ƒç´ å€¼ç›¸ç­‰ï¼Œå³æœ‰ï¼š<br>nums[i] &#x3D; nums[i+1] &#x3D; â€¦ &#x3D; nums[m] &#x3D; nums[x]</p>
</li>
<li><p>æ­¤æ—¶ï¼Œæ‰§è¡Œ j &#x3D; j - 1 åè™½ç„¶ä¸¢å¤±äº†æ—‹è½¬ç‚¹ x ï¼Œä½†ä¹‹ååŒºé—´ [i, j] åªåŒ…å«å·¦æ’åºæ•°ç»„ï¼ŒäºŒåˆ†ä¸‹å»è¿”å›çš„ä¸€å®šæ˜¯æœ¬è½®çš„ nums[i] ï¼Œè€Œå…¶ä¸ nums[x] ç›¸ç­‰ã€‚</p>
</li>
</ul>
<blockquote>
<p>ç»¼ä¸Šæ‰€è¿°ï¼Œæ­¤æ–¹æ³•å¯ä»¥ä¿è¯è¿”å›å€¼ nums[i] ç­‰äºæ—‹è½¬ç‚¹å€¼ nums[x] ï¼Œä½†åœ¨å°‘æ•°ç‰¹ä¾‹ä¸‹ i !&#x3D; x ï¼›è€Œæœ¬é¢˜ç›®åªè¦æ±‚è¿”å› â€œæ—‹è½¬ç‚¹çš„å€¼â€ ï¼Œå› æ­¤æœ¬æ–¹æ³•æ­£ç¡®ã€‚</p>
</blockquote>
<p><strong>è¡¥å……æ€è€ƒ</strong>ï¼š ä¸ºä»€ä¹ˆæœ¬é¢˜äºŒåˆ†æ³•ä¸ç”¨ nums[m] å’Œ nums[i] ä½œæ¯”è¾ƒï¼Ÿ</p>
<p>äºŒåˆ†ç›®çš„æ˜¯åˆ¤æ–­ m åœ¨å“ªä¸ªæ’åºæ•°ç»„ä¸­ï¼Œä»è€Œç¼©å°åŒºé—´ã€‚è€Œåœ¨ nums[m] &gt; nums[i] æƒ…å†µä¸‹ï¼Œæ— æ³•åˆ¤æ–­ m åœ¨å“ªä¸ªæ’åºæ•°ç»„ä¸­ã€‚æœ¬è´¨ä¸Šæ˜¯ç”±äº j åˆå§‹å€¼è‚¯å®šåœ¨å³æ’åºæ•°ç»„ä¸­ï¼› i åˆå§‹å€¼æ— æ³•ç¡®å®šåœ¨å“ªä¸ªæ’åºæ•°ç»„ä¸­ã€‚ä¸¾ä¾‹å¦‚ä¸‹ï¼š</p>
<blockquote>
<p>å¯¹äºä»¥ä¸‹ä¸¤ç¤ºä¾‹ï¼Œå½“ i &#x3D; 0, j &#x3D; 4, m &#x3D; 2 æ—¶ï¼Œæœ‰ nums[m] &gt; nums[i] ï¼Œè€Œç»“æœä¸åŒã€‚<br>[1, 2, 3, 4 ,5] æ—‹è½¬ç‚¹ x &#x3D; 0 ï¼š m åœ¨å³æ’åºæ•°ç»„ï¼ˆæ­¤ç¤ºä¾‹åªæœ‰å³æ’åºæ•°ç»„ï¼‰ï¼›<br>[3, 4, 5, 1 ,2] æ—‹è½¬ç‚¹ x &#x3D; 3 ï¼š m åœ¨å·¦æ’åºæ•°ç»„ã€‚</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1599404366-ngPDoD-Picture9.png" alt="img"></p>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(log N) ï¼š åœ¨ç‰¹ä¾‹æƒ…å†µä¸‹ï¼ˆä¾‹å¦‚ [1, 1, 1, 1]ï¼‰ï¼Œä¼šé€€åŒ–åˆ° O(N)ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(1) ï¼š i , j , m å˜é‡ä½¿ç”¨å¸¸æ•°å¤§å°çš„é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minArray</span><span class="params">(<span class="type">int</span>[] numbers)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>, j = numbers.length - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (i &lt; j) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> (i + j) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (numbers[m] &gt; numbers[j]) i = m + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (numbers[m] &lt; numbers[j]) j = m;</span><br><span class="line">        <span class="keyword">else</span> j--;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> numbers[i];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å®é™…ä¸Šï¼Œå½“å‡ºç° nums[m] &#x3D; nums[j] æ—¶ï¼Œä¸€å®šæœ‰åŒºé—´ [i, m] å†…æ‰€æœ‰å…ƒç´ ç›¸ç­‰ æˆ– åŒºé—´ [m, j] å†…æ‰€æœ‰å…ƒç´ ç›¸ç­‰ï¼ˆæˆ–ä¸¤è€…çš†æ»¡è¶³ï¼‰ã€‚å¯¹äºå¯»æ‰¾æ­¤ç±»æ•°ç»„çš„æœ€å°å€¼é—®é¢˜ï¼Œå¯ç›´æ¥æ”¾å¼ƒäºŒåˆ†æŸ¥æ‰¾ï¼Œè€Œä½¿ç”¨çº¿æ€§æŸ¥æ‰¾æ›¿ä»£ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minArray2</span><span class="params">(<span class="type">int</span>[] numbers)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>, j = numbers.length - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (i &lt; j) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> (i + j) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (numbers[m] &gt; numbers[j]) i = m + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (numbers[m] &lt; numbers[j]) j = m;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> i;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> i + <span class="number">1</span>; k &lt; j; k++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (numbers[k] &lt; numbers[x]) &#123;</span><br><span class="line">                    x = k;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> numbers[x];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> numbers[i];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4ã€å‰‘æŒ‡-Offer-50-ç¬¬ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦"><a href="#4ã€å‰‘æŒ‡-Offer-50-ç¬¬ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦" class="headerlink" title="4ã€å‰‘æŒ‡ Offer 50. ç¬¬ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦"></a>4ã€å‰‘æŒ‡ Offer 50. ç¬¬ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦</h3><p>åœ¨å­—ç¬¦ä¸² s ä¸­æ‰¾å‡ºç¬¬ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦ã€‚å¦‚æœæ²¡æœ‰ï¼Œè¿”å›ä¸€ä¸ªå•ç©ºæ ¼ã€‚ s åªåŒ…å«å°å†™å­—æ¯ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;abaccdeff&quot;</span><br><span class="line">è¾“å‡ºï¼š&#x27;b&#x27;</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;&quot; </span><br><span class="line">è¾“å‡ºï¼š&#x27; &#x27;</span><br></pre></td></tr></table></figure>



<p><strong>é™åˆ¶ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0 &lt;= s çš„é•¿åº¦ &lt;= 50000</span><br></pre></td></tr></table></figure>

<p>Related Topics</p>
<p>é˜Ÿåˆ—</p>
<p>å“ˆå¸Œè¡¨</p>
<p>å­—ç¬¦ä¸²</p>
<p>è®¡æ•°</p>
<p>ğŸ‘ 275</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>æœ¬é¢˜è€ƒå¯Ÿ <strong>å“ˆå¸Œè¡¨</strong> çš„ä½¿ç”¨ï¼Œæœ¬æ–‡ä»‹ç» <strong>å“ˆå¸Œè¡¨</strong> å’Œ <strong>æœ‰åºå“ˆå¸Œè¡¨</strong> ä¸¤ç§è§£æ³•ã€‚å…¶ä¸­ï¼Œåœ¨å­—ç¬¦ä¸²é•¿åº¦è¾ƒå¤§ã€é‡å¤å­—ç¬¦å¾ˆå¤šæ—¶ï¼Œâ€œæœ‰åºå“ˆå¸Œè¡¨â€ è§£æ³•ç†è®ºä¸Šæ•ˆç‡æ›´é«˜ã€‚</p>
<h4 id="æ–¹æ³•ä¸€ï¼šå“ˆå¸Œè¡¨-2"><a href="#æ–¹æ³•ä¸€ï¼šå“ˆå¸Œè¡¨-2" class="headerlink" title="æ–¹æ³•ä¸€ï¼šå“ˆå¸Œè¡¨"></a>æ–¹æ³•ä¸€ï¼šå“ˆå¸Œè¡¨</h4><ol>
<li>éå†å­—ç¬¦ä¸² s ï¼Œä½¿ç”¨å“ˆå¸Œè¡¨ç»Ÿè®¡ â€œå„å­—ç¬¦æ•°é‡ â€ã€‚</li>
<li>å†éå†å­—ç¬¦ä¸² s ï¼Œåœ¨å“ˆå¸Œè¡¨ä¸­æ‰¾åˆ°é¦–ä¸ª â€œæ•°é‡ä¸º 1 çš„å­—ç¬¦â€ï¼Œå¹¶è¿”å›ã€‚</li>
</ol>
<p><strong>ç®—æ³•æµç¨‹</strong>ï¼š</p>
<ol>
<li>åˆå§‹åŒ–ï¼š HashMap(Java)ï¼Œè®°ä¸º mapï¼›</li>
<li>å­—ç¬¦ç»Ÿè®¡ï¼š éå†å­—ç¬¦ä¸² s ä¸­çš„æ¯ä¸ªå­—ç¬¦ c , æ›´æ–°è¯¥å­—ç¬¦åœ¨ map ä¸­è®°å½•çš„ä¸ªæ•°ã€‚</li>
<li>æŸ¥æ‰¾æ•°é‡ä¸º 1 çš„å­—ç¬¦ï¼š éå†å­—ç¬¦ä¸² s ä¸­çš„æ¯ä¸ªå­—ç¬¦ c ï¼›è‹¥ mapä¸­é”® c å¯¹åº”çš„å€¼ä¸º 1ï¼šï¼Œåˆ™è¿”å› c ã€‚</li>
<li>è¿”å› â€˜ â€˜ ï¼Œä»£è¡¨å­—ç¬¦ä¸²æ— æ•°é‡ä¸º 1 çš„å­—ç¬¦ã€‚</li>
</ol>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(N) ï¼š N ä¸ºå­—ç¬¦ä¸² s çš„é•¿åº¦ï¼›éœ€éå† s ä¸¤è½®,ä½¿ç”¨ O(N) ï¼›HashMap æŸ¥æ‰¾æ“ä½œçš„å¤æ‚åº¦ä¸º O(1)ï¼›</li>
<li>ç©ºé—´å¤æ‚åº¦ O(1) ï¼š ç”±äºé¢˜ç›®æŒ‡å‡º s åªåŒ…å«å°å†™å­—æ¯ï¼Œå› æ­¤æœ€å¤šæœ‰ 26 ä¸ªä¸åŒå­—ç¬¦ï¼ŒHashMap å­˜å‚¨éœ€å ç”¨ O(26) &#x3D; O(1) çš„é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">char</span> <span class="title function_">firstUniqChar</span><span class="params">(String s)</span> &#123;</span><br><span class="line">    HashMap&lt;Character, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class="line">        map.put(s.charAt(i), map.getOrDefault(s.charAt(i), <span class="number">0</span>) + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (map.get(s.charAt(i)) == <span class="number">1</span>) <span class="keyword">return</span> s.charAt(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="æ–¹æ³•äºŒï¼šæœ‰åºå“ˆå¸Œè¡¨"><a href="#æ–¹æ³•äºŒï¼šæœ‰åºå“ˆå¸Œè¡¨" class="headerlink" title="æ–¹æ³•äºŒï¼šæœ‰åºå“ˆå¸Œè¡¨"></a>æ–¹æ³•äºŒï¼šæœ‰åºå“ˆå¸Œè¡¨</h4><p>åœ¨å“ˆå¸Œè¡¨çš„åŸºç¡€ä¸Šï¼Œæœ‰åºå“ˆå¸Œè¡¨ä¸­çš„é”®å€¼å¯¹æ˜¯ <code>æŒ‰ç…§æ’å…¥é¡ºåºæ’åº</code> çš„ã€‚åŸºäºæ­¤ï¼Œå¯é€šè¿‡éå†æœ‰åºå“ˆå¸Œè¡¨ï¼Œå®ç°æœç´¢é¦–ä¸ª â€œæ•°é‡ä¸º 1 çš„å­—ç¬¦â€ã€‚</p>
<p>å“ˆå¸Œè¡¨æ˜¯ <code>å»é‡</code> çš„ï¼Œå³å“ˆå¸Œè¡¨ä¸­é”®å€¼å¯¹æ•°é‡ &lt;&#x3D; å­—ç¬¦ä¸² s çš„é•¿åº¦ã€‚å› æ­¤ï¼Œç›¸æ¯”äºæ–¹æ³•ä¸€ï¼Œæ–¹æ³•äºŒå‡å°‘äº†ç¬¬äºŒè½®éå†çš„å¾ªç¯æ¬¡æ•°ã€‚å½“å­—ç¬¦ä¸²å¾ˆé•¿ï¼ˆé‡å¤å­—ç¬¦å¾ˆå¤šï¼‰æ—¶ï¼Œæ–¹æ³•äºŒåˆ™æ•ˆç‡æ›´é«˜ã€‚</p>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š<br>æ—¶é—´å’Œç©ºé—´å¤æ‚åº¦å‡ä¸ â€œæ–¹æ³•ä¸€â€ ç›¸åŒï¼Œè€Œå…·ä½“åˆ†æï¼šæ–¹æ³•ä¸€ éœ€éå† s ä¸¤è½®ï¼›æ–¹æ³•äºŒ éå† s ä¸€è½®ï¼Œéå† mapä¸€è½®ï¼ˆ map çš„é•¿åº¦ä¸å¤§äº 26 ï¼‰ã€‚</p>
<p>Java ä½¿ç”¨ <code>LinkedHashMap</code> å®ç°æœ‰åºå“ˆå¸Œè¡¨ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">char</span> <span class="title function_">firstUniqChar2</span><span class="params">(String s)</span> &#123;</span><br><span class="line">    HashMap&lt;Character, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">LinkedHashMap</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class="line">        map.put(s.charAt(i), map.getOrDefault(s.charAt(i), <span class="number">0</span>) + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (Map.Entry&lt;Character, Integer&gt; m : map.entrySet()) &#123;</span><br><span class="line">        <span class="keyword">if</span> (m.getValue() == <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> m.getKey();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5ã€å‰‘æŒ‡-Offer-53-II-0ï½n-1-ä¸­ç¼ºå¤±çš„æ•°å­—"><a href="#5ã€å‰‘æŒ‡-Offer-53-II-0ï½n-1-ä¸­ç¼ºå¤±çš„æ•°å­—" class="headerlink" title="5ã€å‰‘æŒ‡ Offer 53 - II. 0ï½n-1 ä¸­ç¼ºå¤±çš„æ•°å­—"></a>5ã€å‰‘æŒ‡ Offer 53 - II. 0ï½n-1 ä¸­ç¼ºå¤±çš„æ•°å­—</h3><p>ä¸€ä¸ªé•¿åº¦ä¸ºn-1çš„é€’å¢æ’åºæ•°ç»„ä¸­çš„æ‰€æœ‰æ•°å­—éƒ½æ˜¯å”¯ä¸€çš„ï¼Œå¹¶ä¸”æ¯ä¸ªæ•°å­—éƒ½åœ¨èŒƒå›´0ï½n-1ä¹‹å†…ã€‚åœ¨èŒƒå›´0ï½n-1å†…çš„nä¸ªæ•°å­—ä¸­æœ‰ä¸”åªæœ‰ä¸€ä¸ªæ•°å­—ä¸åœ¨è¯¥æ•°ç»„ä¸­ï¼Œè¯·æ‰¾å‡ºè¿™ä¸ªæ•°å­—ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: [0,1,3]</span><br><span class="line">è¾“å‡º: 2</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: [0,1,2,3,4,5,6,7,9]</span><br><span class="line">è¾“å‡º: 8</span><br></pre></td></tr></table></figure>



<p><strong>é™åˆ¶ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1 &lt;= æ•°ç»„é•¿åº¦ &lt;= 10000</span><br></pre></td></tr></table></figure>

<p>Related Topics</p>
<p>ä½è¿ç®—</p>
<p>æ•°ç»„</p>
<p>å“ˆå¸Œè¡¨</p>
<p>æ•°å­¦</p>
<p>äºŒåˆ†æŸ¥æ‰¾</p>
<p>ğŸ‘ 326</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>æ’åºæ•°ç»„ä¸­çš„æœç´¢é—®é¢˜ï¼Œé¦–å…ˆæƒ³åˆ° <code>äºŒåˆ†æ³•</code> è§£å†³ã€‚æ ¹æ®é¢˜æ„ï¼Œæ•°ç»„å¯ä»¥æŒ‰ç…§ä»¥ä¸‹è§„åˆ™åˆ’åˆ†ä¸ºä¸¤éƒ¨åˆ†ã€‚</p>
<ul>
<li>å·¦å­æ•°ç»„ï¼š nums[i] &#x3D; i ï¼›</li>
<li>å³å­æ•°ç»„ï¼š nums[i] !&#x3D; iï¼›</li>
</ul>
<p>ç¼ºå¤±çš„æ•°å­—ç­‰äº <strong>â€œå³å­æ•°ç»„çš„é¦–ä½å…ƒç´ â€</strong> å¯¹åº”çš„ç´¢å¼•ï¼›å› æ­¤è€ƒè™‘ä½¿ç”¨äºŒåˆ†æ³•æŸ¥æ‰¾ â€œå³å­æ•°ç»„çš„é¦–ä½å…ƒç´ â€ ã€‚</p>
<p><strong>ç®—æ³•è§£æ</strong>ï¼š</p>
<ol>
<li>åˆå§‹åŒ–ï¼š å·¦è¾¹ç•Œ i &#x3D; 0 ï¼Œå³è¾¹ç•Œ j &#x3D; len(nums) - 1 ï¼›ä»£è¡¨é—­åŒºé—´ [i, j] ã€‚</li>
<li>å¾ªç¯äºŒåˆ†ï¼š å½“ i â‰¤ j æ—¶å¾ªç¯ ï¼ˆå³å½“é—­åŒºé—´ [i, j] ä¸ºç©ºæ—¶è·³å‡ºï¼‰ ï¼›<ol>
<li>è®¡ç®—ä¸­ç‚¹ m &#x3D; (i + j) &#x2F;&#x2F; 2 ï¼Œå…¶ä¸­ â€œ&#x2F;&#x2F;â€œ ä¸ºå‘ä¸‹å–æ•´é™¤æ³•ï¼›</li>
<li>è‹¥ nums[m] &#x3D; m ï¼Œåˆ™ â€œå³å­æ•°ç»„çš„é¦–ä½å…ƒç´ â€ ä¸€å®šåœ¨é—­åŒºé—´ [m + 1, j] ä¸­ï¼Œå› æ­¤æ‰§è¡Œ i &#x3D; m + 1ï¼›</li>
<li>è‹¥ nums[m] !&#x3D;m ï¼Œåˆ™ â€œå·¦å­æ•°ç»„çš„æœ«ä½å…ƒç´ â€ ä¸€å®šåœ¨é—­åŒºé—´ [i, m - 1] ä¸­ï¼Œå› æ­¤æ‰§è¡Œ j &#x3D; m - 1ï¼›</li>
</ol>
</li>
<li>è¿”å›å€¼ï¼š è·³å‡ºæ—¶ï¼Œå˜é‡ i å’Œ j åˆ†åˆ«æŒ‡å‘ â€œå³å­æ•°ç»„çš„é¦–ä½å…ƒç´ â€ å’Œ â€œå·¦å­æ•°ç»„çš„æœ«ä½å…ƒç´ â€ ã€‚å› æ­¤è¿”å› i å³å¯ã€‚</li>
</ol>
<p>å¤æ‚åº¦åˆ†æï¼š </p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(log N)ï¼š äºŒåˆ†æ³•ä¸ºå¯¹æ•°çº§åˆ«å¤æ‚åº¦ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(1)ï¼š å‡ ä¸ªå˜é‡ä½¿ç”¨å¸¸æ•°å¤§å°çš„é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * äºŒåˆ†æŸ¥æ‰¾</span></span><br><span class="line"><span class="comment"> * 0 &lt;= nums[i] &lt;= n-1</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">missingNumber</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> nums.length - <span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (left &lt;= right) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> left + ((right - left) / <span class="number">2</span>); <span class="comment">// mid</span></span><br><span class="line">        <span class="keyword">if</span> (nums[mid] == mid) &#123;</span><br><span class="line">            left = mid + <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> right = mid - <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> left;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="6ã€å‰‘æŒ‡-Offer-53-I-åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾æ•°å­—-I"><a href="#6ã€å‰‘æŒ‡-Offer-53-I-åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾æ•°å­—-I" class="headerlink" title="6ã€å‰‘æŒ‡ Offer 53 - I. åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾æ•°å­— I"></a>6ã€å‰‘æŒ‡ Offer 53 - I. åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾æ•°å­— I</h3><p>ç»Ÿè®¡ä¸€ä¸ªæ•°å­—åœ¨æ’åºæ•°ç»„ä¸­å‡ºç°çš„æ¬¡æ•°ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: nums = [5,7,7,8,8,10], target = 8</span><br><span class="line">è¾“å‡º: 2</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: nums = [5,7,7,8,8,10], target = 6</span><br><span class="line">è¾“å‡º: 0</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>0 &lt;= nums.length &lt;= 105</code></li>
<li><code>-109 &lt;= nums[i] &lt;= 109</code></li>
<li><code>nums</code> æ˜¯ä¸€ä¸ªéé€’å‡æ•°ç»„</li>
<li><code>-109 &lt;= target &lt;= 109</code></li>
</ul>
<p><strong>æ³¨æ„ï¼š</strong>æœ¬é¢˜ä¸ä¸»ç«™ 34 é¢˜ç›¸åŒï¼ˆä»…è¿”å›å€¼ä¸åŒï¼‰ï¼š<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/find-first-and-last-position-of-element-in-sorted-array/">https://leetcode-cn.com/problems/find-first-and-last-position-of-element-in-sorted-array/</a></p>
<p>Related Topics</p>
<p>æ•°ç»„</p>
<p>äºŒåˆ†æŸ¥æ‰¾</p>
<p>ğŸ‘ 382</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<blockquote>
<p>æ’åºæ•°ç»„ä¸­çš„æœç´¢é—®é¢˜ï¼Œé¦–å…ˆæƒ³åˆ° <strong>äºŒåˆ†æ³•</strong> è§£å†³ã€‚</p>
</blockquote>
<p>æ’åºæ•°ç»„ nums ä¸­çš„æ‰€æœ‰æ•°å­— target å½¢æˆä¸€ä¸ªçª—å£ï¼Œè®°çª—å£çš„ <code>å·¦ / å³è¾¹ç•Œ</code> ç´¢å¼•åˆ†åˆ«ä¸º left å’Œ right ï¼Œåˆ†åˆ«å¯¹åº”çª—å£å·¦è¾¹ &#x2F; å³è¾¹çš„é¦–ä¸ªå…ƒç´ ã€‚</p>
<p>æœ¬é¢˜è¦æ±‚ç»Ÿè®¡æ•°å­— target çš„å‡ºç°æ¬¡æ•°ï¼Œå¯è½¬åŒ–ä¸ºï¼šä½¿ç”¨äºŒåˆ†æ³•åˆ†åˆ«æ‰¾åˆ° å·¦è¾¹ç•Œ left å’Œ å³è¾¹ç•Œ right ï¼Œæ˜“å¾—æ•°å­— target çš„æ•°é‡ä¸º right - left - 1 ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1600793982-pWqZGf-Picture1.png" alt="Picture1.png"></p>
<p><strong>ç®—æ³•è§£æ</strong>ï¼š</p>
<ol>
<li>åˆå§‹åŒ–ï¼š å·¦è¾¹ç•Œ i &#x3D; 0 ï¼Œå³è¾¹ç•Œ j &#x3D; len(nums) - 1 ã€‚</li>
<li>å¾ªç¯äºŒåˆ†ï¼š å½“é—­åŒºé—´ [i, j] æ— å…ƒç´ æ—¶è·³å‡ºï¼›<ol>
<li>è®¡ç®—ä¸­ç‚¹ m &#x3D; (i + j) &#x2F; 2 ï¼ˆå‘ä¸‹å–æ•´ï¼‰ï¼›</li>
<li>è‹¥ nums[m] &lt; target ï¼Œåˆ™ target åœ¨é—­åŒºé—´ [m + 1, j] ä¸­ï¼Œå› æ­¤æ‰§è¡Œ i &#x3D; m + 1ï¼›</li>
<li>è‹¥ nums[m] &gt; target ï¼Œåˆ™ target åœ¨é—­åŒºé—´ [i, m - 1] ä¸­ï¼Œå› æ­¤æ‰§è¡Œ j &#x3D; m - 1ï¼›</li>
<li>è‹¥ nums[m] &#x3D; target ï¼Œåˆ™å³è¾¹ç•Œ right åœ¨é—­åŒºé—´ [m + 1, j] ä¸­ï¼›å·¦è¾¹ç•Œ left åœ¨é—­åŒºé—´ [i, m-1] ä¸­ã€‚å› æ­¤åˆ†ä¸ºä»¥ä¸‹ä¸¤ç§æƒ…å†µï¼š<ul>
<li>è‹¥æŸ¥æ‰¾ <strong>å³è¾¹ç•Œ</strong> right ï¼Œåˆ™æ‰§è¡Œ i &#x3D; m + 1 ï¼›ï¼ˆè·³å‡ºæ—¶ i æŒ‡å‘å³è¾¹ç•Œï¼‰</li>
<li>è‹¥æŸ¥æ‰¾ <strong>å·¦è¾¹ç•Œ</strong> left ï¼Œåˆ™æ‰§è¡Œ j &#x3D; m - 1 ï¼›ï¼ˆè·³å‡ºæ—¶ j æŒ‡å‘å·¦è¾¹ç•Œï¼‰</li>
</ul>
</li>
</ol>
</li>
<li>è¿”å›å€¼ï¼š åº”ç”¨ä¸¤æ¬¡äºŒåˆ†ï¼Œåˆ†åˆ«æŸ¥æ‰¾ right å’Œ left ï¼Œæœ€ç»ˆè¿”å› right - left - 1 å³å¯ã€‚</li>
</ol>
<p><strong>æ•ˆç‡ä¼˜åŒ–</strong>ï¼š</p>
<blockquote>
<p>ä»¥ä¸‹ä¼˜åŒ–åŸºäºï¼šæŸ¥æ‰¾å®Œå³è¾¹ç•Œ right &#x3D; i åï¼Œåˆ™ nums[j] æŒ‡å‘æœ€å³è¾¹çš„ targetï¼ˆè‹¥å­˜åœ¨ï¼‰ã€‚</p>
</blockquote>
<ol>
<li>æŸ¥æ‰¾å®Œå³è¾¹ç•Œåï¼Œå¯ç”¨ nums[j] &#x3D; target åˆ¤æ–­æ•°ç»„ä¸­æ˜¯å¦åŒ…å« target ï¼Œè‹¥ä¸åŒ…å«åˆ™ç›´æ¥æå‰è¿”å› 0 ï¼Œæ— éœ€åç»­æŸ¥æ‰¾å·¦è¾¹ç•Œã€‚</li>
<li>æŸ¥æ‰¾å®Œå³è¾¹ç•Œåï¼Œå·¦è¾¹ç•Œ left ä¸€å®šåœ¨é—­åŒºé—´ [0, j] ä¸­ï¼Œå› æ­¤ç›´æ¥ä»æ­¤åŒºé—´å¼€å§‹äºŒåˆ†æŸ¥æ‰¾å³å¯ã€‚</li>
</ol>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(log N)ï¼š äºŒåˆ†æ³•ä¸ºå¯¹æ•°çº§åˆ«å¤æ‚åº¦ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(1) ï¼š å‡ ä¸ªå˜é‡ä½¿ç”¨å¸¸æ•°å¤§å°çš„é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<h4 id="code1-ä¸¤æ¬¡äºŒåˆ†"><a href="#code1-ä¸¤æ¬¡äºŒåˆ†" class="headerlink" title="code1:ä¸¤æ¬¡äºŒåˆ†"></a>code1:ä¸¤æ¬¡äºŒåˆ†</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">search</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">        <span class="comment">// æœç´¢å³è¾¹ç•Œ right</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>, j = nums.length - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(i &lt;= j) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> (i + j) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span>(nums[m] &lt;= target) i = m + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span> j = m - <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> i;</span><br><span class="line">        <span class="comment">// è‹¥æ•°ç»„ä¸­æ—  target ï¼Œåˆ™æå‰è¿”å›</span></span><br><span class="line">        <span class="keyword">if</span>(j &gt;= <span class="number">0</span> &amp;&amp; nums[j] != target) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// æœç´¢å·¦è¾¹ç•Œ right</span></span><br><span class="line">        i = <span class="number">0</span>; j = nums.length - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(i &lt;= j) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> (i + j) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span>(nums[m] &lt; target) i = m + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span> j = m - <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> j;</span><br><span class="line">        <span class="keyword">return</span> right - left - <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="code2-å°è£…äºŒåˆ†æ³•ï¼Œç®€åŒ–ä»£ç "><a href="#code2-å°è£…äºŒåˆ†æ³•ï¼Œç®€åŒ–ä»£ç " class="headerlink" title="code2:å°è£…äºŒåˆ†æ³•ï¼Œç®€åŒ–ä»£ç "></a>code2:å°è£…äºŒåˆ†æ³•ï¼Œç®€åŒ–ä»£ç </h4><p>ä»¥ä¸Šä»£ç æ˜¾å¾—æ¯”è¾ƒè‡ƒè‚¿ï¼ˆä¸¤è½®äºŒåˆ†æŸ¥æ‰¾ä»£ç å†—ä½™ï¼‰ã€‚ä¸ºç®€åŒ–ä»£ç ï¼Œå¯å°†äºŒåˆ†æŸ¥æ‰¾å³è¾¹ç•Œ right çš„ä»£ç  å°è£…è‡³å‡½æ•° helper() ã€‚<br>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œç”±äºæ•°ç»„ nums ä¸­å…ƒç´ éƒ½ä¸ºæ•´æ•°ï¼Œå› æ­¤å¯ä»¥åˆ†åˆ«äºŒåˆ†æŸ¥æ‰¾ target å’Œ target - 1 çš„å³è¾¹ç•Œï¼Œå°†ä¸¤ç»“æœç›¸å‡å¹¶è¿”å›å³å¯ã€‚<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1600793982-ikEYZs-Picture2.png" alt="Picture2.png"></p>
<p>æœ¬è´¨ä¸Šçœ‹ï¼Œ <code>helper()</code> å‡½æ•°æ—¨åœ¨æŸ¥æ‰¾æ•°å­— tar åœ¨æ•°ç»„ nums ä¸­çš„ <strong>æ’å…¥ç‚¹</strong> ï¼Œä¸”è‹¥æ•°ç»„ä¸­å­˜åœ¨å€¼ç›¸åŒçš„å…ƒç´ ï¼Œåˆ™æ’å…¥åˆ°è¿™äº›å…ƒç´ çš„å³è¾¹ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">search</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> helper(nums, target) - helper(nums, target - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> <span class="title function_">helper</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> tar)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>, j = nums.length - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(i &lt;= j) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> (i + j) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span>(nums[m] &lt;= tar) i = m + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span> j = m - <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> i;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="code3-å…ˆäºŒåˆ†ï¼Œå†ä¸¤è¾¹åŒæ—¶é€¼è¿‘ï¼ˆé¡ºåºï¼‰"><a href="#code3-å…ˆäºŒåˆ†ï¼Œå†ä¸¤è¾¹åŒæ—¶é€¼è¿‘ï¼ˆé¡ºåºï¼‰" class="headerlink" title="code3:å…ˆäºŒåˆ†ï¼Œå†ä¸¤è¾¹åŒæ—¶é€¼è¿‘ï¼ˆé¡ºåºï¼‰"></a>code3:å…ˆäºŒåˆ†ï¼Œå†ä¸¤è¾¹åŒæ—¶é€¼è¿‘ï¼ˆé¡ºåºï¼‰</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">search</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> nums.length - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (left &lt;= right) &#123; <span class="comment">// å·¦é—­å³é—­[,]</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> left + (right - left) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span> (nums[mid] &gt; target) &#123;</span><br><span class="line">                right = mid - <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[mid] &lt; target) &#123;</span><br><span class="line">                left = mid + <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123; <span class="comment">// é¡ºåº æŸ¥æ‰¾</span></span><br><span class="line">                <span class="keyword">if</span> (nums[right] != target) &#123;</span><br><span class="line">                    right--;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (nums[left] != target) &#123;</span><br><span class="line">                    left++;</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[right] == nums[left]) &#123;</span><br><span class="line">                    <span class="keyword">return</span> right - left + <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="7ã€å‰‘æŒ‡-Offer-25-åˆå¹¶ä¸¤ä¸ªæ’åºçš„é“¾è¡¨"><a href="#7ã€å‰‘æŒ‡-Offer-25-åˆå¹¶ä¸¤ä¸ªæ’åºçš„é“¾è¡¨" class="headerlink" title="7ã€å‰‘æŒ‡ Offer 25. åˆå¹¶ä¸¤ä¸ªæ’åºçš„é“¾è¡¨"></a>7ã€å‰‘æŒ‡ Offer 25. åˆå¹¶ä¸¤ä¸ªæ’åºçš„é“¾è¡¨</h3><p>è¾“å…¥ä¸¤ä¸ªé€’å¢æ’åºçš„é“¾è¡¨ï¼Œåˆå¹¶è¿™ä¸¤ä¸ªé“¾è¡¨å¹¶ä½¿æ–°é“¾è¡¨ä¸­çš„èŠ‚ç‚¹ä»ç„¶æ˜¯é€’å¢æ’åºçš„ã€‚</p>
<p><strong>ç¤ºä¾‹1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š1-&gt;2-&gt;4, 1-&gt;3-&gt;4</span><br><span class="line">è¾“å‡ºï¼š1-&gt;1-&gt;2-&gt;3-&gt;4-&gt;4</span><br></pre></td></tr></table></figure>

<p><strong>é™åˆ¶ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0 &lt;= é“¾è¡¨é•¿åº¦ &lt;= 1000</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼šæœ¬é¢˜ä¸ä¸»ç«™ 21 é¢˜ç›¸åŒï¼š<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/merge-two-sorted-lists/">https://leetcode-cn.com/problems/merge-two-sorted-lists/</a></p>
<p>Related Topics</p>
<p>é€’å½’</p>
<p>é“¾è¡¨</p>
<p>ğŸ‘ 299</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<ul>
<li><p>æ ¹æ®é¢˜ç›®æè¿°ï¼Œ é“¾è¡¨ l1 , l2 æ˜¯ <strong>é€’å¢</strong> çš„ï¼Œå› æ­¤å®¹æ˜“æƒ³åˆ°ä½¿ç”¨åŒæŒ‡é’ˆ cur1, cur2 éå†ä¸¤é“¾è¡¨ï¼Œæ ¹æ® l1.vall å’Œ l2.val çš„å¤§å°å…³ç³»ç¡®å®šèŠ‚ç‚¹æ·»åŠ é¡ºåºï¼Œä¸¤èŠ‚ç‚¹æŒ‡é’ˆäº¤æ›¿å‰è¿›ï¼Œç›´è‡³éå†å®Œæ¯•ã€‚</p>
</li>
<li><p>å¼•å…¥ä¼ªå¤´èŠ‚ç‚¹ï¼š ç”±äºåˆå§‹çŠ¶æ€åˆå¹¶é“¾è¡¨ä¸­æ— èŠ‚ç‚¹ï¼Œå› æ­¤å¾ªç¯ç¬¬ä¸€è½®æ—¶æ— æ³•å°†èŠ‚ç‚¹æ·»åŠ åˆ°åˆå¹¶é“¾è¡¨ä¸­ã€‚è§£å†³æ–¹æ¡ˆï¼šåˆå§‹åŒ–ä¸€ä¸ªè¾…åŠ©èŠ‚ç‚¹ dum ä½œä¸ºåˆå¹¶é“¾è¡¨çš„ä¼ªå¤´èŠ‚ç‚¹ï¼Œå°†å„èŠ‚ç‚¹æ·»åŠ è‡³ dum ä¹‹åã€‚</p>
</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/e4c8c97883da50d81498fd1f1e6cdd575429bd65f9f2babb00dc2b709f7ad8b2-Picture1.png" alt="Picture1.png"></p>
<p><strong>ç®—æ³•æµç¨‹</strong>ï¼š</p>
<ol>
<li>åˆå§‹åŒ–ï¼š ä¼ªå¤´èŠ‚ç‚¹ dum ï¼ŒèŠ‚ç‚¹ cur æŒ‡å‘ dumdum ã€‚</li>
<li>å¾ªç¯åˆå¹¶ï¼š å½“ l1 æˆ– l2 ä¸ºç©ºæ—¶è·³å‡ºï¼›<ol>
<li>å½“ l1.val &lt; l2.val æ—¶ï¼š cur çš„åç»§èŠ‚ç‚¹æŒ‡å®šä¸º l1 ï¼Œå¹¶ l1 å‘å‰èµ°ä¸€æ­¥ï¼›</li>
<li>å½“ l1.val â‰¥ l2.val æ—¶ï¼š cur çš„åç»§èŠ‚ç‚¹æŒ‡å®šä¸º l2 ï¼Œå¹¶ l2 å‘å‰èµ°ä¸€æ­¥ ï¼›</li>
<li>èŠ‚ç‚¹ cur å‘å‰èµ°ä¸€æ­¥ï¼Œå³ cur &#x3D; cur.next ã€‚</li>
</ol>
</li>
<li>åˆå¹¶å‰©ä½™å°¾éƒ¨ï¼š è·³å‡ºæ—¶æœ‰ä¸¤ç§æƒ…å†µï¼Œå³ l1 ä¸ºç©º æˆ– l2 ä¸ºç©ºã€‚<ol>
<li>è‹¥ l1 !&#x3D; null ï¼š å°† l1 æ·»åŠ è‡³èŠ‚ç‚¹ cur ä¹‹åï¼›</li>
<li>å¦åˆ™ï¼š å°† l2 æ·»åŠ è‡³èŠ‚ç‚¹ cur ä¹‹åã€‚</li>
</ol>
</li>
<li>è¿”å›å€¼ï¼š åˆå¹¶é“¾è¡¨åœ¨ä¼ªå¤´èŠ‚ç‚¹ dum ä¹‹åï¼Œå› æ­¤è¿”å› dum.next å³å¯ã€‚</li>
</ol>
<p>å¤æ‚åº¦åˆ†æï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(M+N) ï¼š M, N åˆ†åˆ«ä¸ºé“¾è¡¨ l1 , l2 çš„é•¿åº¦ï¼Œåˆå¹¶æ“ä½œéœ€éå†ä¸¤é“¾è¡¨ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(1) ï¼š èŠ‚ç‚¹å¼•ç”¨ dum , cur ä½¿ç”¨å¸¸æ•°å¤§å°çš„é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> ListNode <span class="title function_">mergeTwoLists</span><span class="params">(ListNode l1, ListNode l2)</span> &#123;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">dum</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ListNode</span>(<span class="number">0</span>), cur = dum;</span><br><span class="line">        <span class="keyword">while</span>(l1 != <span class="literal">null</span> &amp;&amp; l2 != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span>(l1.val &lt; l2.val) &#123;</span><br><span class="line">                cur.next = l1;</span><br><span class="line">                l1 = l1.next;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                cur.next = l2;</span><br><span class="line">                l2 = l2.next;</span><br><span class="line">            &#125;</span><br><span class="line">            cur = cur.next;</span><br><span class="line">        &#125;</span><br><span class="line">        cur.next = l1 != <span class="literal">null</span> ? l1 : l2;</span><br><span class="line">        <span class="keyword">return</span> dum.next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="8ã€å‰‘æŒ‡-Offer-52-ä¸¤ä¸ªé“¾è¡¨çš„ç¬¬ä¸€ä¸ªå…¬å…±èŠ‚ç‚¹"><a href="#8ã€å‰‘æŒ‡-Offer-52-ä¸¤ä¸ªé“¾è¡¨çš„ç¬¬ä¸€ä¸ªå…¬å…±èŠ‚ç‚¹" class="headerlink" title="8ã€å‰‘æŒ‡ Offer 52. ä¸¤ä¸ªé“¾è¡¨çš„ç¬¬ä¸€ä¸ªå…¬å…±èŠ‚ç‚¹"></a>8ã€å‰‘æŒ‡ Offer 52. ä¸¤ä¸ªé“¾è¡¨çš„ç¬¬ä¸€ä¸ªå…¬å…±èŠ‚ç‚¹</h3><p>è¾“å…¥ä¸¤ä¸ªé“¾è¡¨ï¼Œæ‰¾å‡ºå®ƒä»¬çš„ç¬¬ä¸€ä¸ªå…¬å…±èŠ‚ç‚¹ã€‚</p>
<p>å¦‚ä¸‹é¢çš„ä¸¤ä¸ªé“¾è¡¨<strong>ï¼š</strong></p>
<p><a target="_blank" rel="noopener" href="https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2018/12/14/160_statement.png"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/160_statement.png" alt="img"></a></p>
<p>åœ¨èŠ‚ç‚¹ c1 å¼€å§‹ç›¸äº¤ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><a target="_blank" rel="noopener" href="https://assets.leetcode.com/uploads/2018/12/13/160_example_1.png"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/160_example_1.png" alt="img"></a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šintersectVal = 8, listA = [4,1,8,4,5], listB = [5,0,1,8,4,5], skipA = 2, skipB = 3</span><br><span class="line">è¾“å‡ºï¼šReference of the node with value = 8</span><br><span class="line">è¾“å…¥è§£é‡Šï¼šç›¸äº¤èŠ‚ç‚¹çš„å€¼ä¸º 8 ï¼ˆæ³¨æ„ï¼Œå¦‚æœä¸¤ä¸ªåˆ—è¡¨ç›¸äº¤åˆ™ä¸èƒ½ä¸º 0ï¼‰ã€‚ä»å„è‡ªçš„è¡¨å¤´å¼€å§‹ç®—èµ·ï¼Œé“¾è¡¨ A ä¸º [4,1,8,4,5]ï¼Œé“¾è¡¨ B ä¸º [5,0,1,8,4,5]ã€‚åœ¨ A ä¸­ï¼Œç›¸äº¤èŠ‚ç‚¹å‰æœ‰ 2 ä¸ªèŠ‚ç‚¹ï¼›åœ¨ B ä¸­ï¼Œç›¸äº¤èŠ‚ç‚¹å‰æœ‰ 3 ä¸ªèŠ‚ç‚¹ã€‚</span><br></pre></td></tr></table></figure>



<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<p><a target="_blank" rel="noopener" href="https://assets.leetcode.com/uploads/2018/12/13/160_example_2.png"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/160_example_2.png" alt="img"></a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šintersectVal = 2, listA = [0,9,1,2,4], listB = [3,2,4], skipA = 3, skipB = 1</span><br><span class="line">è¾“å‡ºï¼šReference of the node with value = 2</span><br><span class="line">è¾“å…¥è§£é‡Šï¼šç›¸äº¤èŠ‚ç‚¹çš„å€¼ä¸º 2 ï¼ˆæ³¨æ„ï¼Œå¦‚æœä¸¤ä¸ªåˆ—è¡¨ç›¸äº¤åˆ™ä¸èƒ½ä¸º 0ï¼‰ã€‚ä»å„è‡ªçš„è¡¨å¤´å¼€å§‹ç®—èµ·ï¼Œé“¾è¡¨ A ä¸º [0,9,1,2,4]ï¼Œé“¾è¡¨ B ä¸º [3,2,4]ã€‚åœ¨ A ä¸­ï¼Œç›¸äº¤èŠ‚ç‚¹å‰æœ‰ 3 ä¸ªèŠ‚ç‚¹ï¼›åœ¨ B ä¸­ï¼Œç›¸äº¤èŠ‚ç‚¹å‰æœ‰ 1 ä¸ªèŠ‚ç‚¹ã€‚</span><br></pre></td></tr></table></figure>



<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<p><a target="_blank" rel="noopener" href="https://assets.leetcode.com/uploads/2018/12/13/160_example_3.png"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/160_example_3.png" alt="img"></a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šintersectVal = 0, listA = [2,6,4], listB = [1,5], skipA = 3, skipB = 2</span><br><span class="line">è¾“å‡ºï¼šnull</span><br><span class="line">è¾“å…¥è§£é‡Šï¼šä»å„è‡ªçš„è¡¨å¤´å¼€å§‹ç®—èµ·ï¼Œé“¾è¡¨ A ä¸º [2,6,4]ï¼Œé“¾è¡¨ B ä¸º [1,5]ã€‚ç”±äºè¿™ä¸¤ä¸ªé“¾è¡¨ä¸ç›¸äº¤ï¼Œæ‰€ä»¥ intersectVal å¿…é¡»ä¸º 0ï¼Œè€Œ skipA å’Œ skipB å¯ä»¥æ˜¯ä»»æ„å€¼ã€‚</span><br><span class="line">è§£é‡Šï¼šè¿™ä¸¤ä¸ªé“¾è¡¨ä¸ç›¸äº¤ï¼Œå› æ­¤è¿”å› nullã€‚</span><br></pre></td></tr></table></figure>



<p><strong>æ³¨æ„ï¼š</strong></p>
<ul>
<li>å¦‚æœä¸¤ä¸ªé“¾è¡¨æ²¡æœ‰äº¤ç‚¹ï¼Œè¿”å› <code>null</code>.</li>
<li>åœ¨è¿”å›ç»“æœåï¼Œä¸¤ä¸ªé“¾è¡¨ä»é¡»ä¿æŒåŸæœ‰çš„ç»“æ„ã€‚</li>
<li>å¯å‡å®šæ•´ä¸ªé“¾è¡¨ç»“æ„ä¸­æ²¡æœ‰å¾ªç¯ã€‚</li>
<li>ç¨‹åºå°½é‡æ»¡è¶³ O(<em>n</em>) æ—¶é—´å¤æ‚åº¦ï¼Œä¸”ä»…ç”¨ O(<em>1</em>) å†…å­˜ã€‚</li>
<li>æœ¬é¢˜ä¸ä¸»ç«™ 160 é¢˜ç›¸åŒï¼š<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/intersection-of-two-linked-lists/">https://leetcode-cn.com/problems/intersection-of-two-linked-lists/</a></li>
</ul>
<p>Related Topics</p>
<p>å“ˆå¸Œè¡¨</p>
<p>é“¾è¡¨</p>
<p>åŒæŒ‡é’ˆ</p>
<p>ğŸ‘ 568</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>è®¾ã€Œç¬¬ä¸€ä¸ªå…¬å…±èŠ‚ç‚¹ã€ä¸º node ï¼Œã€Œé“¾è¡¨ headAã€çš„èŠ‚ç‚¹æ•°é‡ä¸º a ï¼Œã€Œé“¾è¡¨ headBã€çš„èŠ‚ç‚¹æ•°é‡ä¸º b ï¼Œã€Œä¸¤é“¾è¡¨çš„å…¬å…±å°¾éƒ¨ã€çš„èŠ‚ç‚¹æ•°é‡ä¸º c ï¼Œåˆ™æœ‰ï¼š</p>
<ul>
<li>å¤´èŠ‚ç‚¹ <code>headA</code> åˆ° <code>node</code> å‰ï¼Œå…±æœ‰ a - c ä¸ªèŠ‚ç‚¹ï¼›</li>
<li>å¤´èŠ‚ç‚¹ <code>headB</code> åˆ° <code>node</code> å‰ï¼Œå…±æœ‰ b - c ä¸ªèŠ‚ç‚¹ï¼›</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1615224578-EBRtwv-Picture1.png" alt="Picture1.png"></p>
<p>è€ƒè™‘æ„å»ºä¸¤ä¸ªèŠ‚ç‚¹æŒ‡é’ˆ <code>A</code> , <code>B</code> åˆ†åˆ«æŒ‡å‘ä¸¤é“¾è¡¨å¤´èŠ‚ç‚¹ <code>headA</code> , <code>headB</code> ï¼Œåšå¦‚ä¸‹æ“ä½œï¼š</p>
<ul>
<li><p>æŒ‡é’ˆ A å…ˆéå†å®Œé“¾è¡¨ headA ï¼Œå†å¼€å§‹éå†é“¾è¡¨ headB ï¼Œå½“èµ°åˆ° node æ—¶ï¼Œå…±èµ°æ­¥æ•°ä¸ºï¼ša + (b - c)</p>
</li>
<li><p>æŒ‡é’ˆ B å…ˆéå†å®Œé“¾è¡¨ headB ï¼Œå†å¼€å§‹éå†é“¾è¡¨ headA ï¼Œå½“èµ°åˆ° node æ—¶ï¼Œå…±èµ°æ­¥æ•°ä¸ºï¼šb + (a - c)</p>
</li>
</ul>
<p>å¦‚ä¸‹å¼æ‰€ç¤ºï¼Œæ­¤æ—¶æŒ‡é’ˆ <code>A</code> , <code>B</code> é‡åˆï¼Œå¹¶æœ‰ä¸¤ç§æƒ…å†µï¼š a + (b - c) &#x3D; b + (a - c)</p>
<ul>
<li>è‹¥ä¸¤é“¾è¡¨ æœ‰ å…¬å…±å°¾éƒ¨ (å³ c &gt; 0 ) ï¼šæŒ‡é’ˆ A , B åŒæ—¶æŒ‡å‘ã€Œç¬¬ä¸€ä¸ªå…¬å…±èŠ‚ç‚¹ã€node ã€‚</li>
<li>è‹¥ä¸¤é“¾è¡¨ æ—  å…¬å…±å°¾éƒ¨ (å³ c &#x3D; 0 ) ï¼šæŒ‡é’ˆ A , B åŒæ—¶æŒ‡å‘ null ã€‚<br>å› æ­¤è¿”å› <code>A</code> å³å¯ã€‚</li>
</ul>
<blockquote>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œä¸º a &#x3D; 5, b &#x3D; 3 , c &#x3D; 2 ç¤ºä¾‹çš„ç®—æ³•æ‰§è¡Œè¿‡ç¨‹ã€‚</p>
</blockquote>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(a + b) ï¼š æœ€å·®æƒ…å†µä¸‹ï¼ˆå³ |a - b| &#x3D; 1 , c &#x3D; 0 ï¼‰ï¼Œæ­¤æ—¶éœ€éå† a + b ä¸ªèŠ‚ç‚¹ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(1) ï¼š èŠ‚ç‚¹æŒ‡é’ˆ A , B ä½¿ç”¨å¸¸æ•°å¤§å°çš„é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<h4 id="code1-å¾ªç¯éå†"><a href="#code1-å¾ªç¯éå†" class="headerlink" title="code1 å¾ªç¯éå†"></a>code1 å¾ªç¯éå†</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> ListNode <span class="title function_">getIntersectionNode</span><span class="params">(ListNode headA, ListNode headB)</span> &#123;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">A</span> <span class="operator">=</span> headA, B = headB;</span><br><span class="line">        <span class="keyword">while</span> (A != B) &#123;</span><br><span class="line">            A = A != <span class="literal">null</span> ? A.next : headB;</span><br><span class="line">            B = B != <span class="literal">null</span> ? B.next : headA;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> A;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="code2-å·®å€¼æ³•"><a href="#code2-å·®å€¼æ³•" class="headerlink" title="code2 å·®å€¼æ³•"></a>code2 å·®å€¼æ³•</h4><ol>
<li>å…ˆè®¡ç®—ä¸¤ä¸ªé“¾è¡¨çš„é•¿åº¦</li>
<li>è®©é•¿çš„é“¾è¡¨å…ˆèµ°å·®å€¼çš„å¤§å°</li>
<li>éå†ï¼Œçœ‹æ˜¯å¦æœ‰å…±åŒèŠ‚ç‚¹</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    ListNode <span class="title function_">getIntersectionNode</span><span class="params">(ListNode headA, ListNode headB)</span> &#123;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">cur1</span> <span class="operator">=</span> headA;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">cur2</span> <span class="operator">=</span> headB;</span><br><span class="line">        <span class="type">int</span> <span class="variable">lenA</span> <span class="operator">=</span> <span class="number">0</span>; <span class="comment">// a çš„é•¿åº¦</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">lenB</span> <span class="operator">=</span> <span class="number">0</span>; <span class="comment">// b çš„é•¿åº¦</span></span><br><span class="line">        <span class="comment">// è®¡ç®—é•¿åº¦</span></span><br><span class="line">        <span class="keyword">while</span> (cur1 != <span class="literal">null</span>) &#123;</span><br><span class="line">            lenA++;</span><br><span class="line">            cur1 = cur1.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (cur2 != <span class="literal">null</span>) &#123;</span><br><span class="line">            lenB++;</span><br><span class="line">            cur2 = cur2.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// é•¿çš„å…ˆèµ° len1 - len2 æ­¥</span></span><br><span class="line">        cur1 = headA;</span><br><span class="line">        cur2 = headB;</span><br><span class="line">        <span class="keyword">if</span> (lenA &gt; lenB) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> lenA - lenB;</span><br><span class="line">            <span class="keyword">while</span> (len-- != <span class="number">0</span>) &#123;</span><br><span class="line">                cur1 = cur1.next;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> lenB - lenA;</span><br><span class="line">            <span class="keyword">while</span> (len-- != <span class="number">0</span>) &#123;</span><br><span class="line">                cur2 = cur2.next;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// éå† çœ‹æœ‰æ²¡æœ‰å…±åŒèŠ‚ç‚¹</span></span><br><span class="line">        <span class="keyword">while</span> (cur1 != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (cur1 == cur2) &#123;</span><br><span class="line">                <span class="keyword">return</span> cur1;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                cur1 = cur1.next;</span><br><span class="line">                cur2 = cur2.next;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="9ã€å‰‘æŒ‡-Offer-57-å’Œä¸º-s-çš„ä¸¤ä¸ªæ•°å­—"><a href="#9ã€å‰‘æŒ‡-Offer-57-å’Œä¸º-s-çš„ä¸¤ä¸ªæ•°å­—" class="headerlink" title="9ã€å‰‘æŒ‡ Offer 57. å’Œä¸º s çš„ä¸¤ä¸ªæ•°å­—"></a>9ã€å‰‘æŒ‡ Offer 57. å’Œä¸º s çš„ä¸¤ä¸ªæ•°å­—</h3><p>è¾“å…¥ä¸€ä¸ªé€’å¢æ’åºçš„æ•°ç»„å’Œä¸€ä¸ªæ•°å­—sï¼Œåœ¨æ•°ç»„ä¸­æŸ¥æ‰¾ä¸¤ä¸ªæ•°ï¼Œä½¿å¾—å®ƒä»¬çš„å’Œæ­£å¥½æ˜¯sã€‚å¦‚æœæœ‰å¤šå¯¹æ•°å­—çš„å’Œç­‰äºsï¼Œåˆ™è¾“å‡ºä»»æ„ä¸€å¯¹å³å¯ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [2,7,11,15], target = 9</span><br><span class="line">è¾“å‡ºï¼š[2,7] æˆ–è€… [7,2]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [10,26,30,31,47,60], target = 40</span><br><span class="line">è¾“å‡ºï¼š[10,30] æˆ–è€… [30,10]</span><br></pre></td></tr></table></figure>



<p><strong>é™åˆ¶ï¼š</strong></p>
<ul>
<li><code>1 &lt;= nums.length &lt;= 10^5</code></li>
<li><code>1 &lt;= nums[i] &lt;= 10^6</code></li>
</ul>
<p>Related Topics</p>
<p>æ•°ç»„</p>
<p>åŒæŒ‡é’ˆ</p>
<p>äºŒåˆ†æŸ¥æ‰¾</p>
<p>ğŸ‘ 218</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š<br>åˆ©ç”¨ HashMap å¯ä»¥é€šè¿‡éå†æ•°ç»„æ‰¾åˆ°æ•°å­—ç»„åˆï¼Œæ—¶é—´å’Œç©ºé—´å¤æ‚åº¦å‡ä¸º O(N) ï¼›<br>æ³¨æ„æœ¬é¢˜çš„ nums æ˜¯ <code>æ’åºæ•°ç»„</code> ï¼Œå› æ­¤å¯ä½¿ç”¨ <code>åŒæŒ‡é’ˆæ³•</code> å°†ç©ºé—´å¤æ‚åº¦é™ä½è‡³ O(1) ã€‚</p>
<p><strong>ç®—æ³•æµç¨‹</strong>ï¼š</p>
<ol>
<li>åˆå§‹åŒ–ï¼š åŒæŒ‡é’ˆ i , j åˆ†åˆ«æŒ‡å‘æ•°ç»„ nums çš„å·¦å³ä¸¤ç«¯ ï¼ˆä¿—ç§°å¯¹æ’åŒæŒ‡é’ˆï¼‰ã€‚</li>
<li>å¾ªç¯æœç´¢ï¼š å½“åŒæŒ‡é’ˆç›¸é‡æ—¶è·³å‡ºï¼›<ol>
<li>è®¡ç®—å’Œ s &#x3D; nums[i] + nums[j] ï¼›</li>
<li>è‹¥ s &gt; target ï¼Œåˆ™æŒ‡é’ˆ j å‘å·¦ç§»åŠ¨ï¼Œå³æ‰§è¡Œ j &#x3D; j - 1 ï¼›</li>
<li>è‹¥ s &lt; target ï¼Œåˆ™æŒ‡é’ˆ i å‘å³ç§»åŠ¨ï¼Œå³æ‰§è¡Œ i &#x3D; i + 1 ï¼›</li>
<li>è‹¥ s &#x3D; target ï¼Œç«‹å³è¿”å›æ•°ç»„ [nums[i], nums[j]] ï¼›</li>
</ol>
</li>
<li>è‹¥å¾ªç¯ç»“æŸï¼Œåˆ™è¿”å›ç©ºæ•°ç»„ï¼Œä»£è¡¨æ— å’Œä¸º target çš„æ•°å­—ç»„åˆã€‚</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1600794717-MdyQXK-Picture5.png" alt="img"></p>
<p>æ­£ç¡®æ€§è¯æ˜ï¼š</p>
<blockquote>
<p>è®°æ¯ä¸ªçŠ¶æ€ä¸º S(i, j) ï¼Œå³ S(i, j) &#x3D; nums[i] + nums[j] ã€‚å‡è®¾ S(i, j) &lt; target, åˆ™æ‰§è¡Œ i &#x3D; i + 1 ï¼Œå³çŠ¶æ€åˆ‡æ¢è‡³ S(i + 1, j) ã€‚</p>
</blockquote>
<p>çŠ¶æ€ S(i, j) åˆ‡æ¢è‡³ S(i + 1, j) ï¼Œåˆ™ä¼šæ¶ˆå»ä¸€è¡Œå…ƒç´ ï¼Œç›¸å½“äº <code>æ¶ˆå»äº†çŠ¶æ€é›†åˆ</code> {S(i, i + 1), S(i, i + 2), â€¦, S(i, j - 2), S(i, j - 1), S(i, j)} ã€‚ï¼ˆç”±äºåŒæŒ‡é’ˆéƒ½æ˜¯å‘ä¸­é—´æ”¶ç¼©ï¼Œå› æ­¤è¿™äº›çŠ¶æ€ä¹‹åä¸å¯èƒ½å†é‡åˆ°ï¼‰ã€‚</p>
<p>ç”±äº nums æ˜¯æ’åºæ•°ç»„ï¼Œå› æ­¤è¿™äº› <code>æ¶ˆå»çš„çŠ¶æ€</code> éƒ½ä¸€å®šæ»¡è¶³ S(i, j) &lt; target ï¼Œå³è¿™äº›çŠ¶æ€éƒ½ <code>ä¸æ˜¯è§£</code> ã€‚</p>
<p><strong>ç»“è®º</strong>ï¼š ä»¥ä¸Šåˆ†æå·²è¯æ˜ â€œæ¯æ¬¡æŒ‡é’ˆ i çš„ç§»åŠ¨æ“ä½œï¼Œéƒ½ä¸ä¼šå¯¼è‡´è§£çš„ä¸¢å¤±â€ ï¼Œå³æŒ‡é’ˆ i çš„ç§»åŠ¨æ“ä½œæ˜¯å®‰å…¨çš„ï¼›åŒç†ï¼Œå¯¹äºæŒ‡é’ˆ j å¯å¾—å‡ºåŒæ ·æ¨è®ºï¼›å› æ­¤ï¼Œæ­¤åŒæŒ‡é’ˆæ³•æ˜¯æ­£ç¡®çš„ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1600794717-VSmNyQ-Picture1.png" alt="Picture1.png"></p>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(N) ï¼š N ä¸ºæ•°ç»„ nums çš„é•¿åº¦ï¼›åŒæŒ‡é’ˆå…±åŒçº¿æ€§éå†æ•´ä¸ªæ•°ç»„ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(1) ï¼š å˜é‡ i, j ä½¿ç”¨å¸¸æ•°å¤§å°çš„é¢å¤–ç©ºé—´</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span>[] twoSum(<span class="type">int</span>[] nums, <span class="type">int</span> target) &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> nums.length - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (left &lt; right) &#123;</span><br><span class="line">        <span class="keyword">if</span> (nums[left] + nums[right] &gt; target) &#123;</span><br><span class="line">            right--;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[left] + nums[right] &lt; target) &#123;</span><br><span class="line">            left++;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">int</span>[]&#123;nums[left], nums[right]&#125;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">0</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="10ã€å‰‘æŒ‡-Offer-58-I-ç¿»è½¬å•è¯é¡ºåº"><a href="#10ã€å‰‘æŒ‡-Offer-58-I-ç¿»è½¬å•è¯é¡ºåº" class="headerlink" title="10ã€å‰‘æŒ‡ Offer 58 - I. ç¿»è½¬å•è¯é¡ºåº"></a>10ã€å‰‘æŒ‡ Offer 58 - I. ç¿»è½¬å•è¯é¡ºåº</h3><p>è¾“å…¥ä¸€ä¸ªè‹±æ–‡å¥å­ï¼Œç¿»è½¬å¥å­ä¸­å•è¯çš„é¡ºåºï¼Œä½†å•è¯å†…å­—ç¬¦çš„é¡ºåºä¸å˜ã€‚ä¸ºç®€å•èµ·è§ï¼Œæ ‡ç‚¹ç¬¦å·å’Œæ™®é€šå­—æ¯ä¸€æ ·å¤„ç†ã€‚ä¾‹å¦‚è¾“å…¥å­—ç¬¦ä¸²â€I am a student. â€œï¼Œåˆ™è¾“å‡ºâ€student. a am Iâ€ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: &quot;the sky is blue&quot;</span><br><span class="line">è¾“å‡º: &quot;blue is sky the&quot;</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: &quot;  hello world!  &quot;</span><br><span class="line">è¾“å‡º: &quot;world! hello&quot;</span><br><span class="line">è§£é‡Š: è¾“å…¥å­—ç¬¦ä¸²å¯ä»¥åœ¨å‰é¢æˆ–è€…åé¢åŒ…å«å¤šä½™çš„ç©ºæ ¼ï¼Œä½†æ˜¯åè½¬åçš„å­—ç¬¦ä¸èƒ½åŒ…æ‹¬ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: &quot;a good   example&quot;</span><br><span class="line">è¾“å‡º: &quot;example good a&quot;</span><br><span class="line">è§£é‡Š: å¦‚æœä¸¤ä¸ªå•è¯é—´æœ‰å¤šä½™çš„ç©ºæ ¼ï¼Œå°†åè½¬åå•è¯é—´çš„ç©ºæ ¼å‡å°‘åˆ°åªå«ä¸€ä¸ªã€‚</span><br></pre></td></tr></table></figure>



<p><strong>è¯´æ˜ï¼š</strong></p>
<ul>
<li>æ— ç©ºæ ¼å­—ç¬¦æ„æˆä¸€ä¸ªå•è¯ã€‚</li>
<li>è¾“å…¥å­—ç¬¦ä¸²å¯ä»¥åœ¨å‰é¢æˆ–è€…åé¢åŒ…å«å¤šä½™çš„ç©ºæ ¼ï¼Œä½†æ˜¯åè½¬åçš„å­—ç¬¦ä¸èƒ½åŒ…æ‹¬ã€‚</li>
<li>å¦‚æœä¸¤ä¸ªå•è¯é—´æœ‰å¤šä½™çš„ç©ºæ ¼ï¼Œå°†åè½¬åå•è¯é—´çš„ç©ºæ ¼å‡å°‘åˆ°åªå«ä¸€ä¸ªã€‚</li>
</ul>
<p><strong>æ³¨æ„ï¼š</strong>æœ¬é¢˜ä¸ä¸»ç«™ 151 é¢˜ç›¸åŒï¼š<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/reverse-words-in-a-string/">https://leetcode-cn.com/problems/reverse-words-in-a-string/</a></p>
<p><strong>æ³¨æ„ï¼š</strong>æ­¤é¢˜å¯¹æ¯”åŸé¢˜æœ‰æ”¹åŠ¨</p>
<p>Related Topics</p>
<p>åŒæŒ‡é’ˆ</p>
<p>å­—ç¬¦ä¸²</p>
<p>ğŸ‘ 254</p>
<p>ğŸ‘ 0</p>
<h4 id="æ–¹æ³•ä¸€ï¼šåŒæŒ‡é’ˆ"><a href="#æ–¹æ³•ä¸€ï¼šåŒæŒ‡é’ˆ" class="headerlink" title="æ–¹æ³•ä¸€ï¼šåŒæŒ‡é’ˆ"></a>æ–¹æ³•ä¸€ï¼šåŒæŒ‡é’ˆ</h4><p><strong>ç®—æ³•è§£æ</strong>ï¼š</p>
<ul>
<li>å€’åºéå†å­—ç¬¦ä¸² s ï¼Œè®°å½•å•è¯å·¦å³ç´¢å¼•è¾¹ç•Œ i , j ï¼›</li>
<li>æ¯ç¡®å®šä¸€ä¸ªå•è¯çš„è¾¹ç•Œï¼Œåˆ™å°†å…¶æ·»åŠ è‡³å•è¯åˆ—è¡¨ res ï¼›</li>
<li>æœ€ç»ˆï¼Œå°†å•è¯åˆ—è¡¨æ‹¼æ¥ä¸ºå­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›å³å¯ã€‚</li>
</ul>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(N) ï¼š å…¶ä¸­ N ä¸ºå­—ç¬¦ä¸² s çš„é•¿åº¦ï¼Œçº¿æ€§éå†å­—ç¬¦ä¸²ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(N) ï¼š æ–°å»ºçš„ StringBuilder(Java) ä¸­çš„å­—ç¬¦ä¸²æ€»é•¿åº¦ â‰¤ N ï¼Œå ç”¨ O(N) å¤§å°çš„é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">reverseWords</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        s = s.trim();                                    <span class="comment">// åˆ é™¤é¦–å°¾ç©ºæ ¼</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> s.length() - <span class="number">1</span>, i = j;</span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">res</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        <span class="keyword">while</span> (i &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">while</span> (i &gt;= <span class="number">0</span> &amp;&amp; s.charAt(i) != <span class="string">&#x27; &#x27;</span>) i--;     <span class="comment">// æœç´¢é¦–ä¸ªç©ºæ ¼</span></span><br><span class="line">            res.append(s.substring(i + <span class="number">1</span>, j + <span class="number">1</span>) + <span class="string">&quot; &quot;</span>); <span class="comment">// æ·»åŠ å•è¯</span></span><br><span class="line">            <span class="keyword">while</span> (i &gt;= <span class="number">0</span> &amp;&amp; s.charAt(i) == <span class="string">&#x27; &#x27;</span>) i--;     <span class="comment">// è·³è¿‡å•è¯é—´ç©ºæ ¼</span></span><br><span class="line">            j = i;                                       <span class="comment">// j æŒ‡å‘ä¸‹ä¸ªå•è¯çš„å°¾å­—ç¬¦</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res.toString().trim();                    <span class="comment">// è½¬åŒ–ä¸ºå­—ç¬¦ä¸²å¹¶è¿”å›</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="æ–¹æ³•äºŒï¼šåˆ†å‰²-å€’åº"><a href="#æ–¹æ³•äºŒï¼šåˆ†å‰²-å€’åº" class="headerlink" title="æ–¹æ³•äºŒï¼šåˆ†å‰² + å€’åº"></a>æ–¹æ³•äºŒï¼šåˆ†å‰² + å€’åº</h4><p>åˆ©ç”¨ â€œå­—ç¬¦ä¸²åˆ†å‰²â€ã€â€œåˆ—è¡¨å€’åºâ€ çš„å†…ç½®å‡½æ•° ï¼ˆé¢è¯•æ—¶ä¸å»ºè®®ä½¿ç”¨ï¼‰ ï¼Œå¯ç®€ä¾¿åœ°å®ç°æœ¬é¢˜çš„å­—ç¬¦ä¸²ç¿»è½¬è¦æ±‚ã€‚</p>
<p>ç®—æ³•è§£æï¼š</p>
<p>Java ï¼š ä»¥ç©ºæ ¼ä¸ºåˆ†å‰²ç¬¦å®Œæˆå­—ç¬¦ä¸²åˆ†å‰²åï¼Œè‹¥ä¸¤å•è¯é—´æœ‰ x &gt; 1 ä¸ªç©ºæ ¼ï¼Œåˆ™åœ¨å•è¯åˆ—è¡¨ strs ä¸­ï¼Œæ­¤ä¸¤å•è¯é—´ä¼šå¤šå‡º x - 1 ä¸ª â€œç©ºå•è¯â€ ï¼ˆå³ â€œâ€ ï¼‰ã€‚è§£å†³æ–¹æ³•ï¼šå€’åºéå†å•è¯åˆ—è¡¨ï¼Œå¹¶å°†å•è¯é€ä¸ªæ·»åŠ è‡³ StringBuilder ï¼Œé‡åˆ°ç©ºå•è¯æ—¶è·³è¿‡ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1600795186-RmKJXL-Picture2.png" alt="Picture2.png"></p>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(N) ï¼š æ€»ä½“ä¸ºçº¿æ€§æ—¶é—´å¤æ‚åº¦ï¼Œå„å‡½æ•°æ—¶é—´å¤æ‚åº¦å’Œå‚è€ƒèµ„æ–™é“¾æ¥å¦‚ä¸‹ã€‚<ul>
<li>split() æ–¹æ³•ï¼š ä¸º O(N) ï¼›</li>
<li>trim() å’Œ strip() æ–¹æ³•ï¼š æœ€å·®æƒ…å†µä¸‹ï¼ˆå½“å­—ç¬¦ä¸²å…¨ä¸ºç©ºæ ¼æ—¶ï¼‰ï¼Œä¸º O(N) ï¼›</li>
<li>join() æ–¹æ³•ï¼š ä¸º O(N) ï¼›</li>
<li>reverse() æ–¹æ³•ï¼š ä¸º O(N) ï¼›</li>
</ul>
</li>
<li>ç©ºé—´å¤æ‚åº¦ O(N) ï¼š å•è¯åˆ—è¡¨ strs å ç”¨çº¿æ€§å¤§å°çš„é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">reverseWords</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        String[] strs = s.trim().split(<span class="string">&quot; &quot;</span>);        <span class="comment">// åˆ é™¤é¦–å°¾ç©ºæ ¼ï¼Œåˆ†å‰²å­—ç¬¦ä¸²</span></span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">res</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> strs.length - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123; <span class="comment">// å€’åºéå†å•è¯åˆ—è¡¨</span></span><br><span class="line">            <span class="keyword">if</span>(strs[i].equals(<span class="string">&quot;&quot;</span>)) <span class="keyword">continue</span>;        <span class="comment">// é‡åˆ°ç©ºå•è¯åˆ™è·³è¿‡</span></span><br><span class="line">            res.append(strs[i] + <span class="string">&quot; &quot;</span>);              <span class="comment">// å°†å•è¯æ‹¼æ¥è‡³ StringBuilder</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res.toString().trim();               <span class="comment">// è½¬åŒ–ä¸ºå­—ç¬¦ä¸²ï¼Œåˆ é™¤å°¾éƒ¨ç©ºæ ¼ï¼Œå¹¶è¿”å›</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="åäºŒã€ä½è¿ç®—"><a href="#åäºŒã€ä½è¿ç®—" class="headerlink" title="åäºŒã€ä½è¿ç®—"></a>åäºŒã€ä½è¿ç®—</h2><h3 id="1ã€å‰‘æŒ‡-Offer-15-äºŒè¿›åˆ¶ä¸­-1-çš„ä¸ªæ•°"><a href="#1ã€å‰‘æŒ‡-Offer-15-äºŒè¿›åˆ¶ä¸­-1-çš„ä¸ªæ•°" class="headerlink" title="1ã€å‰‘æŒ‡ Offer 15. äºŒè¿›åˆ¶ä¸­ 1 çš„ä¸ªæ•°"></a>1ã€å‰‘æŒ‡ Offer 15. äºŒè¿›åˆ¶ä¸­ 1 çš„ä¸ªæ•°</h3><p>ç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œè¾“å…¥æ˜¯ä¸€ä¸ªæ— ç¬¦å·æ•´æ•°ï¼ˆä»¥äºŒè¿›åˆ¶ä¸²çš„å½¢å¼ï¼‰ï¼Œè¿”å›å…¶äºŒè¿›åˆ¶è¡¨è¾¾å¼ä¸­æ•°å­—ä½æ•°ä¸º â€˜1â€™ çš„ä¸ªæ•°ï¼ˆä¹Ÿè¢«ç§°ä¸º <a target="_blank" rel="noopener" href="http://en.wikipedia.org/wiki/Hamming_weight">æ±‰æ˜é‡é‡</a>).ï¼‰ã€‚</p>
<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li>è¯·æ³¨æ„ï¼Œåœ¨æŸäº›è¯­è¨€ï¼ˆå¦‚ Javaï¼‰ä¸­ï¼Œæ²¡æœ‰æ— ç¬¦å·æ•´æ•°ç±»å‹ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¾“å…¥å’Œè¾“å‡ºéƒ½å°†è¢«æŒ‡å®šä¸ºæœ‰ç¬¦å·æ•´æ•°ç±»å‹ï¼Œå¹¶ä¸”ä¸åº”å½±å“æ‚¨çš„å®ç°ï¼Œå› ä¸ºæ— è®ºæ•´æ•°æ˜¯æœ‰ç¬¦å·çš„è¿˜æ˜¯æ— ç¬¦å·çš„ï¼Œå…¶å†…éƒ¨çš„äºŒè¿›åˆ¶è¡¨ç¤ºå½¢å¼éƒ½æ˜¯ç›¸åŒçš„ã€‚</li>
<li>åœ¨ Java ä¸­ï¼Œç¼–è¯‘å™¨ä½¿ç”¨ <a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E4%BA%8C%E8%BF%9B%E5%88%B6%E8%A1%A5%E7%A0%81/5295284">äºŒè¿›åˆ¶è¡¥ç </a> è®°æ³•æ¥è¡¨ç¤ºæœ‰ç¬¦å·æ•´æ•°ã€‚å› æ­¤ï¼Œåœ¨ä¸Šé¢çš„ <strong>ç¤ºä¾‹ 3</strong> ä¸­ï¼Œè¾“å…¥è¡¨ç¤ºæœ‰ç¬¦å·æ•´æ•° <code>-3</code>ã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = 11 (æ§åˆ¶å°è¾“å…¥ 00000000000000000000000000001011)</span><br><span class="line">è¾“å‡ºï¼š3</span><br><span class="line">è§£é‡Šï¼šè¾“å…¥çš„äºŒè¿›åˆ¶ä¸² 00000000000000000000000000001011 ä¸­ï¼Œå…±æœ‰ä¸‰ä½ä¸º &#x27;1&#x27;ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = 128 (æ§åˆ¶å°è¾“å…¥ 00000000000000000000000010000000)</span><br><span class="line">è¾“å‡ºï¼š1</span><br><span class="line">è§£é‡Šï¼šè¾“å…¥çš„äºŒè¿›åˆ¶ä¸² 00000000000000000000000010000000 ä¸­ï¼Œå…±æœ‰ä¸€ä½ä¸º &#x27;1&#x27;ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = 4294967293 (æ§åˆ¶å°è¾“å…¥ 11111111111111111111111111111101ï¼Œéƒ¨åˆ†è¯­è¨€ä¸­ n = -3ï¼‰</span><br><span class="line">è¾“å‡ºï¼š31</span><br><span class="line">è§£é‡Šï¼šè¾“å…¥çš„äºŒè¿›åˆ¶ä¸² 11111111111111111111111111111101 ä¸­ï¼Œå…±æœ‰ 31 ä½ä¸º &#x27;1&#x27;ã€‚</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li>è¾“å…¥å¿…é¡»æ˜¯é•¿åº¦ä¸º <code>32</code> çš„ <strong>äºŒè¿›åˆ¶ä¸²</strong> ã€‚</li>
</ul>
<p>æ³¨æ„ï¼šæœ¬é¢˜ä¸ä¸»ç«™ 191 é¢˜ç›¸åŒï¼š<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/number-of-1-bits/">https://leetcode-cn.com/problems/number-of-1-bits/</a></p>
<p>Related Topics</p>
<p>ä½è¿ç®—</p>
<p>ğŸ‘ 290</p>
<p>ğŸ‘ 0</p>
<h4 id="æ–¹æ³•ä¸€ï¼šé€ä½åˆ¤æ–­"><a href="#æ–¹æ³•ä¸€ï¼šé€ä½åˆ¤æ–­" class="headerlink" title="æ–¹æ³•ä¸€ï¼šé€ä½åˆ¤æ–­"></a>æ–¹æ³•ä¸€ï¼šé€ä½åˆ¤æ–­</h4><ul>
<li>æ ¹æ® <strong>ä¸è¿ç®—</strong> å®šä¹‰ï¼Œè®¾äºŒè¿›åˆ¶æ•°å­— nn ï¼Œåˆ™æœ‰ï¼š<ul>
<li>è‹¥ n &amp; 1 &#x3D; 0ï¼Œåˆ™ n äºŒè¿›åˆ¶ æœ€å³ä¸€ä½ ä¸º 0 ï¼›</li>
<li>è‹¥ n &amp; 1 &#x3D; 1ï¼Œåˆ™ n äºŒè¿›åˆ¶ æœ€å³ä¸€ä½ ä¸º 1 ã€‚</li>
</ul>
</li>
<li>æ ¹æ®ä»¥ä¸Šç‰¹ç‚¹ï¼Œè€ƒè™‘ä»¥ä¸‹ <strong>å¾ªç¯åˆ¤æ–­</strong> ï¼š<ul>
<li>åˆ¤æ–­ n æœ€å³ä¸€ä½æ˜¯å¦ä¸º 1 ï¼Œæ ¹æ®ç»“æœè®¡æ•°ã€‚</li>
<li>å°† n å³ç§»ä¸€ä½ï¼ˆæœ¬é¢˜è¦æ±‚æŠŠæ•°å­— n çœ‹ä½œæ— ç¬¦å·æ•°ï¼Œå› æ­¤ä½¿ç”¨ <strong>æ— ç¬¦å·å³ç§»</strong> æ“ä½œï¼‰ã€‚</li>
</ul>
</li>
</ul>
<p><strong>ç®—æ³•æµç¨‹</strong>ï¼š</p>
<ol>
<li>åˆå§‹åŒ–æ•°é‡ç»Ÿè®¡å˜é‡ res &#x3D; 0 ã€‚</li>
<li>å¾ªç¯é€ä½åˆ¤æ–­ï¼š å½“ n &#x3D; 0 æ—¶è·³å‡ºã€‚<ol>
<li><code>res += n &amp; 1</code> ï¼š è‹¥ n &amp; 1 &#x3D; 1 ï¼Œåˆ™ç»Ÿè®¡æ•° res åŠ ä¸€ã€‚</li>
<li><code>n &gt;&gt;= 1</code> ï¼š å°†äºŒè¿›åˆ¶æ•°å­— n æ— ç¬¦å·å³ç§»ä¸€ä½ï¼ˆ Java ä¸­æ— ç¬¦å·å³ç§»ä¸º â€œ&gt;&gt;&gt;â€ ï¼‰ ã€‚<br>è¿”å›ç»Ÿè®¡æ•°é‡ res ã€‚</li>
</ol>
</li>
</ol>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(log n) ï¼š æ­¤ç®—æ³•å¾ªç¯å†…éƒ¨ä»…æœ‰ ç§»ä½ã€ä¸ã€åŠ  ç­‰åŸºæœ¬è¿ç®—ï¼Œå ç”¨ O(1) ï¼›é€ä½åˆ¤æ–­éœ€å¾ªç¯ log n æ¬¡ï¼Œå…¶ä¸­ log n ä»£è¡¨æ•°å­— n æœ€é«˜ä½ 1 çš„æ‰€åœ¨ä½æ•°ï¼ˆä¾‹å¦‚ log 4 &#x3D; 2  log 16 &#x3D; 4ï¼‰ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(1) ï¼š å˜é‡ res ä½¿ç”¨å¸¸æ•°å¤§å°é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<h4 id="æ–¹æ³•äºŒï¼šå·§ç”¨-n-amp-n-1-n-amp-nâˆ’1"><a href="#æ–¹æ³•äºŒï¼šå·§ç”¨-n-amp-n-1-n-amp-nâˆ’1" class="headerlink" title="æ–¹æ³•äºŒï¼šå·§ç”¨ n &amp; (n - 1)n&amp;(nâˆ’1)"></a>æ–¹æ³•äºŒï¼šå·§ç”¨ n &amp; (n - 1)<em>n</em>&amp;(<em>n</em>âˆ’1)</h4><ul>
<li>(nâˆ’1) è§£æï¼š äºŒè¿›åˆ¶æ•°å­— n æœ€å³è¾¹çš„ 1 å˜æˆ 0 ï¼Œæ­¤ 1 å³è¾¹çš„ 0 éƒ½å˜æˆ 1 ã€‚</li>
<li>n &amp; (n - 1) è§£æï¼š äºŒè¿›åˆ¶æ•°å­— n æœ€å³è¾¹çš„ 1 å˜æˆ 0 ï¼Œå…¶ä½™ä¸å˜ã€‚</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/f23d9ef4fcfd65d7fbe29e477cbf36110b2f34558020e8cff09a1e13c0275c43-Picture1.png" alt="Picture1.png"></p>
<p><strong>ç®—æ³•æµç¨‹</strong>ï¼š</p>
<ol>
<li>åˆå§‹åŒ–æ•°é‡ç»Ÿè®¡å˜é‡ resres ã€‚</li>
<li>å¾ªç¯æ¶ˆå»æœ€å³è¾¹çš„ 1 ï¼šå½“ n &#x3D; 0 æ—¶è·³å‡ºã€‚<ol>
<li>res +&#x3D; 1 ï¼š ç»Ÿè®¡å˜é‡åŠ  1 ï¼›</li>
<li>n &amp;&#x3D; n - 1 ï¼š æ¶ˆå»æ•°å­— n æœ€å³è¾¹çš„ 1 ã€‚</li>
</ol>
</li>
<li>è¿”å›ç»Ÿè®¡æ•°é‡ res ã€‚</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/d16a9a6cfdba918c655679373632afc8ddeaf9b64912aa1fbf7b57371736ccaa-Picture11.png" alt="img"></p>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(M) ï¼š n &amp; (n - 1) æ“ä½œä»…æœ‰å‡æ³•å’Œä¸è¿ç®—ï¼Œå ç”¨ O(1) ï¼›è®¾ M ä¸ºäºŒè¿›åˆ¶æ•°å­— n ä¸­ 1 çš„ä¸ªæ•°ï¼Œåˆ™éœ€å¾ªç¯ M æ¬¡ï¼ˆæ¯è½®æ¶ˆå»ä¸€ä¸ª 1 ï¼‰ï¼Œå ç”¨ O(M) ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(1) ï¼š å˜é‡ res ä½¿ç”¨å¸¸æ•°å¤§å°é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">hammingWeight2</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (n != <span class="number">0</span>) &#123;</span><br><span class="line">        res++;</span><br><span class="line">        n &amp;= n - <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2ã€å‰‘æŒ‡-Offer-65-ä¸ç”¨åŠ å‡ä¹˜é™¤åšåŠ æ³•"><a href="#2ã€å‰‘æŒ‡-Offer-65-ä¸ç”¨åŠ å‡ä¹˜é™¤åšåŠ æ³•" class="headerlink" title="2ã€å‰‘æŒ‡ Offer 65. ä¸ç”¨åŠ å‡ä¹˜é™¤åšåŠ æ³•"></a>2ã€å‰‘æŒ‡ Offer 65. ä¸ç”¨åŠ å‡ä¹˜é™¤åšåŠ æ³•</h3><p>å†™ä¸€ä¸ªå‡½æ•°ï¼Œæ±‚ä¸¤ä¸ªæ•´æ•°ä¹‹å’Œï¼Œè¦æ±‚åœ¨å‡½æ•°ä½“å†…ä¸å¾—ä½¿ç”¨ â€œ+â€ã€â€œ-â€ã€â€œ*â€ã€â€œ&#x2F;â€ å››åˆ™è¿ç®—ç¬¦å·ã€‚</p>
<p><strong>ç¤ºä¾‹:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: a = 1, b = 1</span><br><span class="line">è¾“å‡º: 2</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>a</code>, <code>b</code> å‡å¯èƒ½æ˜¯è´Ÿæ•°æˆ– 0</li>
<li>ç»“æœä¸ä¼šæº¢å‡º 32 ä½æ•´æ•°</li>
</ul>
<p>Related Topics</p>
<p>ä½è¿ç®—</p>
<p>æ•°å­¦</p>
<p>ğŸ‘ 366</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š<br>æœ¬é¢˜è€ƒå¯Ÿå¯¹ä½è¿ç®—çš„çµæ´»ä½¿ç”¨ï¼Œå³ä½¿ç”¨ä½è¿ç®—å®ç°åŠ æ³•ã€‚<br>è®¾ä¸¤æ•°å­—çš„äºŒè¿›åˆ¶å½¢å¼ a, b ï¼Œå…¶æ±‚å’Œ s &#x3D; a + b ï¼Œa(i) ä»£è¡¨ a çš„äºŒè¿›åˆ¶ç¬¬ i ä½ï¼Œåˆ™åˆ†ä¸ºä»¥ä¸‹å››ç§æƒ…å†µï¼š</p>
<table>
<thead>
<tr>
<th>a(i)</th>
<th>b(i)</th>
<th>æ— è¿›ä½å’Œ n(i)</th>
<th>è¿›ä½ c(i+1)</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
</tr>
<tr>
<td>1</td>
<td>0</td>
<td>1</td>
<td>0</td>
</tr>
<tr>
<td>1</td>
<td>1</td>
<td>0</td>
<td>1</td>
</tr>
</tbody></table>
<p>è§‚å¯Ÿå‘ç°ï¼Œ<strong>æ— è¿›ä½å’Œ</strong> ä¸ <strong>å¼‚æˆ–è¿ç®—</strong> è§„å¾‹ç›¸åŒï¼Œ<strong>è¿›ä½</strong> å’Œ <strong>ä¸è¿ç®—</strong> è§„å¾‹ç›¸åŒï¼ˆå¹¶éœ€å·¦ç§»ä¸€ä½ï¼‰ã€‚å› æ­¤ï¼Œæ— è¿›ä½å’Œ n ä¸è¿›ä½ c çš„è®¡ç®—å…¬å¼å¦‚ä¸‹ï¼›</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/image-20221214145340991.png" alt="image-20221214145340991"></p>
<p>å¾ªç¯æ±‚ n å’Œ c ï¼Œç›´è‡³è¿›ä½ c &#x3D; 0 ï¼›æ­¤æ—¶ s &#x3D; n ï¼Œè¿”å› n å³å¯ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/9716b1a1ead21824b8216c7d54910bee4d838c011581f4e3d82a14f71cb392a1-Picture1.png" alt="Picture1.png"></p>
<blockquote>
<p>Q ï¼š è‹¥æ•°å­— a å’Œ b ä¸­æœ‰è´Ÿæ•°ï¼Œåˆ™å˜æˆäº†å‡æ³•ï¼Œå¦‚ä½•å¤„ç†ï¼Ÿ<br>A ï¼š åœ¨è®¡ç®—æœºç³»ç»Ÿä¸­ï¼Œæ•°å€¼ä¸€å¾‹ç”¨ <strong>è¡¥ç </strong> æ¥è¡¨ç¤ºå’Œå­˜å‚¨ã€‚<strong>è¡¥ç çš„ä¼˜åŠ¿</strong>ï¼š åŠ æ³•ã€å‡æ³•å¯ä»¥ç»Ÿä¸€å¤„ç†ï¼ˆCPUåªæœ‰åŠ æ³•å™¨ï¼‰ã€‚å› æ­¤ï¼Œä»¥ä¸Šæ–¹æ³• <strong>åŒæ—¶é€‚ç”¨äºæ­£æ•°å’Œè´Ÿæ•°çš„åŠ æ³•</strong> ã€‚</p>
</blockquote>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(1) ï¼š æœ€å·®æƒ…å†µä¸‹ï¼ˆä¾‹å¦‚ a &#x3D; 0x7fffffff , b &#x3D; 1 æ—¶ï¼‰ï¼Œéœ€å¾ªç¯ 32 æ¬¡ï¼Œä½¿ç”¨ O(1) æ—¶é—´ï¼›æ¯è½®ä¸­çš„å¸¸æ•°æ¬¡ä½æ“ä½œä½¿ç”¨ O(1) æ—¶é—´ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(1) ï¼š ä½¿ç”¨å¸¸æ•°å¤§å°çš„é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span> &#123;</span><br><span class="line">        <span class="keyword">while</span>(b != <span class="number">0</span>) &#123; <span class="comment">// å½“è¿›ä½ä¸º 0 æ—¶è·³å‡º</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> (a &amp; b) &lt;&lt; <span class="number">1</span>;  <span class="comment">// c = è¿›ä½</span></span><br><span class="line">            a ^= b; <span class="comment">// a = éè¿›ä½å’Œ</span></span><br><span class="line">            b = c; <span class="comment">// b = è¿›ä½</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="3ã€å‰‘æŒ‡-Offer-56-I-æ•°ç»„ä¸­æ•°å­—å‡ºç°çš„æ¬¡æ•°"><a href="#3ã€å‰‘æŒ‡-Offer-56-I-æ•°ç»„ä¸­æ•°å­—å‡ºç°çš„æ¬¡æ•°" class="headerlink" title="3ã€å‰‘æŒ‡ Offer 56 - I. æ•°ç»„ä¸­æ•°å­—å‡ºç°çš„æ¬¡æ•°"></a>3ã€å‰‘æŒ‡ Offer 56 - I. æ•°ç»„ä¸­æ•°å­—å‡ºç°çš„æ¬¡æ•°</h3><p>ä¸€ä¸ªæ•´å‹æ•°ç»„ <code>nums</code> é‡Œé™¤ä¸¤ä¸ªæ•°å­—ä¹‹å¤–ï¼Œå…¶ä»–æ•°å­—éƒ½å‡ºç°äº†ä¸¤æ¬¡ã€‚è¯·å†™ç¨‹åºæ‰¾å‡ºè¿™ä¸¤ä¸ªåªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ã€‚è¦æ±‚æ—¶é—´å¤æ‚åº¦æ˜¯O(n)ï¼Œç©ºé—´å¤æ‚åº¦æ˜¯O(1)ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [4,1,4,6]</span><br><span class="line">è¾“å‡ºï¼š[1,6] æˆ– [6,1]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [1,2,10,4,1,4,3,3]</span><br><span class="line">è¾“å‡ºï¼š[2,10] æˆ– [10,2]</span><br></pre></td></tr></table></figure>



<p><strong>é™åˆ¶ï¼š</strong></p>
<ul>
<li><code>2 &lt;= nums.length &lt;= 10000</code></li>
</ul>
<p>Related Topics</p>
<p>ä½è¿ç®—</p>
<p>æ•°ç»„</p>
<p>ğŸ‘ 737</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>é¢˜ç›®è¦æ±‚æ—¶é—´å¤æ‚åº¦ O(N) ï¼Œç©ºé—´å¤æ‚åº¦ O(1) ï¼Œå› æ­¤é¦–å…ˆæ’é™¤ <code>æš´åŠ›æ³•</code> å’Œ <code>å“ˆå¸Œè¡¨ç»Ÿè®¡æ³•</code> ã€‚</p>
<blockquote>
<p><strong>ç®€åŒ–é—®é¢˜</strong>ï¼š ä¸€ä¸ªæ•´å‹æ•°ç»„ nums é‡Œé™¤ ä¸€ä¸ª æ•°å­—ä¹‹å¤–ï¼Œå…¶ä»–æ•°å­—éƒ½å‡ºç°äº†ä¸¤æ¬¡ã€‚</p>
</blockquote>
<p>è®¾æ•´å‹æ•°ç»„ nums ä¸­å‡ºç°ä¸€æ¬¡çš„æ•°å­—ä¸º x ï¼Œå‡ºç°ä¸¤æ¬¡çš„æ•°å­—ä¸º a, a, b, b, â€¦ï¼Œå³ï¼š</p>
<p>â€‹								nums &#x3D; [a, a, b, b, â€¦, x]</p>
<p>å¼‚æˆ–è¿ç®—æœ‰ä¸ªé‡è¦çš„æ€§è´¨ï¼Œä¸¤ä¸ªç›¸åŒæ•°å­—å¼‚æˆ–ä¸º 0 ï¼Œå³å¯¹äºä»»æ„æ•´æ•° a æœ‰ a âŠ• a &#x3D; 0 ã€‚å› æ­¤ï¼Œè‹¥å°† nums ä¸­æ‰€æœ‰æ•°å­—æ‰§è¡Œå¼‚æˆ–è¿ç®—ï¼Œç•™ä¸‹çš„ç»“æœåˆ™ä¸º å‡ºç°ä¸€æ¬¡çš„æ•°å­— x ï¼Œå³ï¼š</p>
<pre><code>                          a âŠ• a âŠ• b âŠ• b âŠ• ... âŠ• x
                       = 0 âŠ• 0 âŠ• ... âŠ• x
                       = x
</code></pre>
<p>å¼‚æˆ–è¿ç®—æ»¡è¶³äº¤æ¢å¾‹ a <em>âŠ•</em> b*&#x3D;*b <em>âŠ•</em> a ï¼Œå³ä»¥ä¸Šè¿ç®—ç»“æœä¸ nums çš„å…ƒç´ é¡ºåºæ— å…³ã€‚ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span>[] singleNumber(<span class="type">int</span>[] nums) &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> num : nums)  <span class="comment">// 1. éå† nums æ‰§è¡Œå¼‚æˆ–è¿ç®—</span></span><br><span class="line">        x ^= num;</span><br><span class="line">    <span class="keyword">return</span> x;            <span class="comment">// 2. è¿”å›å‡ºç°ä¸€æ¬¡çš„æ•°å­— x</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>è®¾ nums &#x3D; [3, 3, 4, 4, 1] ï¼Œä»¥ä¸Šè®¡ç®—æµç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1611393960-EnUIaQ-Picture1.png" alt="Picture1.png"></p>
<blockquote>
<p><strong>æœ¬é¢˜éš¾ç‚¹ï¼š</strong> æ•°ç»„ nums æœ‰ <strong>ä¸¤ä¸ª</strong> åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ï¼Œå› æ­¤æ— æ³•é€šè¿‡å¼‚æˆ–ç›´æ¥å¾—åˆ°è¿™ä¸¤ä¸ªæ•°å­—ã€‚</p>
</blockquote>
<p>è®¾ä¸¤ä¸ªåªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ä¸º x , y ï¼Œç”±äº x !&#x3D; y ï¼Œåˆ™ x å’Œ y äºŒè¿›åˆ¶è‡³å°‘æœ‰ä¸€ä½ä¸åŒï¼ˆå³åˆ†åˆ«ä¸º 0 å’Œ 1 ï¼‰ï¼Œæ ¹æ®æ­¤ä½å¯ä»¥å°† nums æ‹†åˆ†ä¸ºåˆ†åˆ«åŒ…å« x å’Œ y çš„ä¸¤ä¸ªå­æ•°ç»„ã€‚</p>
<p>æ˜“çŸ¥ä¸¤å­æ•°ç»„éƒ½æ»¡è¶³ ã€Œé™¤ä¸€ä¸ªæ•°å­—ä¹‹å¤–ï¼Œå…¶ä»–æ•°å­—éƒ½å‡ºç°äº†ä¸¤æ¬¡ã€ã€‚å› æ­¤ï¼Œä»¿ç…§ä»¥ä¸Šç®€åŒ–é—®é¢˜çš„æ€è·¯ï¼Œåˆ†åˆ«å¯¹ä¸¤å­æ•°ç»„éå†æ‰§è¡Œå¼‚æˆ–æ“ä½œï¼Œå³å¯å¾—åˆ°ä¸¤ä¸ªåªå‡ºç°ä¸€æ¬¡çš„æ•°å­— x, y ã€‚</p>
<p><strong>ç®—æ³•æµç¨‹</strong>ï¼š</p>
<ol>
<li><p>éå† nums æ‰§è¡Œå¼‚æˆ–ï¼š</p>
<ul>
<li>è®¾æ•´å‹æ•°ç»„ nums &#x3D; [a, a, b, b, â€¦, x, y]nums&#x3D;[a,a,b,b,â€¦,x,y] ï¼Œå¯¹ numsnums ä¸­æ‰€æœ‰æ•°å­—æ‰§è¡Œå¼‚æˆ–ï¼Œå¾—åˆ°çš„ç»“æœä¸º x âŠ• y ï¼Œå³ï¼š</li>
</ul>
<p>â€‹		a âŠ• a âŠ• b âŠ• b âŠ• â€¦ âŠ• x âŠ• y</p>
<p>â€‹		&#x3D; 0 âŠ• 0 âŠ• â€¦ âŠ• x âŠ• y</p>
<p>â€‹		&#x3D; x âŠ• y</p>
</li>
<li><p>å¾ªç¯å·¦ç§»è®¡ç®— m ï¼š<br>æ ¹æ®å¼‚æˆ–è¿ç®—å®šä¹‰ï¼Œè‹¥æ•´æ•° x âŠ• y æŸäºŒè¿›åˆ¶ä½ä¸º 1 ï¼Œåˆ™ x å’Œ y çš„æ­¤äºŒè¿›åˆ¶ä½ä¸€å®šä¸åŒã€‚æ¢è¨€ä¹‹ï¼Œæ‰¾åˆ° x âŠ• y æŸä¸º 1 çš„äºŒè¿›åˆ¶ä½ï¼Œå³å¯å°†æ•°ç»„ nums æ‹†åˆ†ä¸ºä¸Šè¿°çš„ä¸¤ä¸ªå­æ•°ç»„ã€‚æ ¹æ®ä¸è¿ç®—ç‰¹ç‚¹ï¼Œå¯çŸ¥å¯¹äºä»»æ„æ•´æ•° a æœ‰ï¼š</p>
<ul>
<li>è‹¥ a &amp; 0001 !&#x3D; 0 ï¼Œåˆ™ a çš„ç¬¬ä¸€ä½ä¸º 1 ï¼›</li>
<li>è‹¥ a &amp; 0010 !&#x3D; 0 ï¼Œåˆ™ a çš„ç¬¬äºŒä½ä¸º 1 ï¼›</li>
<li>ä»¥æ­¤ç±»æ¨â€¦â€¦</li>
</ul>
</li>
</ol>
<ul>
<li>å› æ­¤ï¼Œåˆå§‹åŒ–ä¸€ä¸ªè¾…åŠ©å˜é‡ m &#x3D; 1 ï¼Œé€šè¿‡ä¸è¿ç®—ä»å³å‘å·¦å¾ªç¯åˆ¤æ–­ï¼Œå¯ è·å–æ•´æ•° x âŠ• y é¦–ä½ 1 ï¼Œè®°å½•äº m ä¸­ï¼Œä»£ç å¦‚ä¸‹ï¼š</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span>(z &amp; m == <span class="number">0</span>) <span class="comment">// m å¾ªç¯å·¦ç§»ä¸€ä½ï¼Œç›´åˆ° z &amp; m ï¼= 0</span></span><br><span class="line">    m &lt;&lt;== <span class="number">1</span></span><br></pre></td></tr></table></figure>

<ol start="3">
<li><p>æ‹†åˆ† nums ä¸ºä¸¤ä¸ªå­æ•°ç»„ï¼š</p>
</li>
<li><p>åˆ†åˆ«éå†ä¸¤ä¸ªå­æ•°ç»„æ‰§è¡Œå¼‚æˆ–ï¼š</p>
</li>
</ol>
<ul>
<li>é€šè¿‡éå†åˆ¤æ–­ nums ä¸­å„æ•°å­—å’Œ m åšä¸è¿ç®—çš„ç»“æœï¼Œå¯å°†æ•°ç»„æ‹†åˆ†ä¸ºä¸¤ä¸ªå­æ•°ç»„ï¼Œå¹¶åˆ†åˆ«å¯¹ä¸¤ä¸ªå­æ•°ç»„éå†æ±‚å¼‚æˆ–ï¼Œåˆ™å¯å¾—åˆ°ä¸¤ä¸ªåªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ï¼Œä»£ç å¦‚ä¸‹ï¼š</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="type">int</span> num: nums) &#123;</span><br><span class="line">    <span class="keyword">if</span>((num &amp; m) != <span class="number">0</span>) x ^= num;  <span class="comment">// è‹¥ num &amp; m != 0 , åˆ’åˆ†è‡³å­æ•°ç»„ 1 ï¼Œæ‰§è¡Œéå†å¼‚æˆ–</span></span><br><span class="line">    <span class="keyword">else</span> y ^= num;                <span class="comment">// è‹¥ num &amp; m == 0 , åˆ’åˆ†è‡³å­æ•°ç»„ 2 ï¼Œæ‰§è¡Œéå†å¼‚æˆ–</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">int</span>[] &#123;x, y&#125;;          <span class="comment">// éå†å¼‚æˆ–å®Œæ¯•ï¼Œè¿”å›åªå‡ºç°ä¸€æ¬¡çš„æ•°å­— x å’Œ y</span></span><br></pre></td></tr></table></figure>

<ol start="5">
<li>è¿”å›å€¼ï¼š</li>
</ol>
<ul>
<li>è¿”å›åªå‡ºç°ä¸€æ¬¡çš„æ•°å­— x, y å³å¯</li>
</ul>
<blockquote>
<p>è®¾ nums &#x3D; [3, 3, 4, 4, 1, 6] ï¼Œä»¥ä¸Šè®¡ç®—æµç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1614836837-oygHyk-Picture2.png" alt="Picture2.png"></p>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(N) ï¼š çº¿æ€§éå† nums ä½¿ç”¨ O(N) æ—¶é—´ï¼Œéå† x âŠ• y äºŒè¿›åˆ¶ä½ä½¿ç”¨ O(32) &#x3D; O(1) æ—¶é—´ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(1) ï¼š è¾…åŠ©å˜é‡ a , b , x , y ä½¿ç”¨å¸¸æ•°å¤§å°é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[] singleNumbers(<span class="type">int</span>[] nums) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> <span class="number">0</span>, y = <span class="number">0</span>, n = <span class="number">0</span>, m = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> num : nums)               <span class="comment">// 1. éå†å¼‚æˆ–</span></span><br><span class="line">            n ^= num;</span><br><span class="line">        <span class="keyword">while</span>((n &amp; m) == <span class="number">0</span>)               <span class="comment">// 2. å¾ªç¯å·¦ç§»ï¼Œè®¡ç®— m</span></span><br><span class="line">            m &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> num: nums) &#123;              <span class="comment">// 3. éå† nums åˆ†ç»„</span></span><br><span class="line">            <span class="keyword">if</span>((num &amp; m) != <span class="number">0</span>) x ^= num;  <span class="comment">// 4. å½“ num &amp; m != 0</span></span><br><span class="line">            <span class="keyword">else</span> y ^= num;                <span class="comment">// 4. å½“ num &amp; m == 0</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">int</span>[] &#123;x, y&#125;;          <span class="comment">// 5. è¿”å›å‡ºç°ä¸€æ¬¡çš„æ•°å­—</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4ã€å‰‘æŒ‡-Offer-56-II-æ•°ç»„ä¸­æ•°å­—å‡ºç°çš„æ¬¡æ•°-II"><a href="#4ã€å‰‘æŒ‡-Offer-56-II-æ•°ç»„ä¸­æ•°å­—å‡ºç°çš„æ¬¡æ•°-II" class="headerlink" title="4ã€å‰‘æŒ‡ Offer 56 - II. æ•°ç»„ä¸­æ•°å­—å‡ºç°çš„æ¬¡æ•° II"></a>4ã€å‰‘æŒ‡ Offer 56 - II. æ•°ç»„ä¸­æ•°å­—å‡ºç°çš„æ¬¡æ•° II</h3><p>åœ¨ä¸€ä¸ªæ•°ç»„ <code>nums</code> ä¸­é™¤ä¸€ä¸ªæ•°å­—åªå‡ºç°ä¸€æ¬¡ä¹‹å¤–ï¼Œå…¶ä»–æ•°å­—éƒ½å‡ºç°äº†ä¸‰æ¬¡ã€‚è¯·æ‰¾å‡ºé‚£ä¸ªåªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [3,4,3,3]</span><br><span class="line">è¾“å‡ºï¼š4</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [9,1,7,9,7,9,7]</span><br><span class="line">è¾“å‡ºï¼š1</span><br></pre></td></tr></table></figure>



<p><strong>é™åˆ¶ï¼š</strong></p>
<ul>
<li><code>1 &lt;= nums.length &lt;= 10000</code></li>
<li><code>1 &lt;= nums[i] &lt; 2^31</code></li>
</ul>
<p>Related Topics</p>
<p>ä½è¿ç®—</p>
<p>æ•°ç»„</p>
<p>ğŸ‘ 401</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œè€ƒè™‘æ•°å­—çš„äºŒè¿›åˆ¶å½¢å¼ï¼Œå¯¹äºå‡ºç°ä¸‰æ¬¡çš„æ•°å­—ï¼Œå„ äºŒè¿›åˆ¶ä½ å‡ºç°çš„æ¬¡æ•°éƒ½æ˜¯ 3 çš„å€æ•°ã€‚<br>å› æ­¤ï¼Œç»Ÿè®¡æ‰€æœ‰æ•°å­—çš„å„äºŒè¿›åˆ¶ä½ä¸­ 1 çš„å‡ºç°æ¬¡æ•°ï¼Œå¹¶å¯¹ 3 æ±‚ä½™ï¼Œç»“æœåˆ™ä¸ºåªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1603022900-quEtJr-Picture1.png" alt="Picture1.png"></p>
<h4 id="æ–¹æ³•ä¸€ï¼šæœ‰é™çŠ¶æ€è‡ªåŠ¨æœº"><a href="#æ–¹æ³•ä¸€ï¼šæœ‰é™çŠ¶æ€è‡ªåŠ¨æœº" class="headerlink" title="æ–¹æ³•ä¸€ï¼šæœ‰é™çŠ¶æ€è‡ªåŠ¨æœº"></a>æ–¹æ³•ä¸€ï¼šæœ‰é™çŠ¶æ€è‡ªåŠ¨æœº</h4><p>å„äºŒè¿›åˆ¶ä½çš„ <code>ä½è¿ç®—è§„åˆ™ç›¸åŒ</code> ï¼Œå› æ­¤åªéœ€è€ƒè™‘ä¸€ä½å³å¯ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå¯¹äºæ‰€æœ‰æ•°å­—ä¸­çš„æŸäºŒè¿›åˆ¶ä½ 1 çš„ä¸ªæ•°ï¼Œå­˜åœ¨ 3 ç§çŠ¶æ€ï¼Œå³å¯¹ 3 ä½™æ•°ä¸º 0, 1, 2 ã€‚</p>
<p>è‹¥è¾“å…¥äºŒè¿›åˆ¶ä½ 1 ï¼Œåˆ™çŠ¶æ€æŒ‰ç…§ä»¥ä¸‹é¡ºåºè½¬æ¢ï¼›<br>è‹¥è¾“å…¥äºŒè¿›åˆ¶ä½ 0 ï¼Œåˆ™çŠ¶æ€ä¸å˜ã€‚</p>
<p>â€‹								    0 â†’ 1 â†’ 2 â†’ 0 â†’ â‹¯</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1603022900-GNKGMP-Picture2.png" alt="Picture2.png"></p>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œç”±äºäºŒè¿›åˆ¶åªèƒ½è¡¨ç¤º 0, 1 ï¼Œå› æ­¤éœ€è¦ä½¿ç”¨ä¸¤ä¸ªäºŒè¿›åˆ¶ä½æ¥è¡¨ç¤º 3 ä¸ªçŠ¶æ€ã€‚è®¾æ­¤ä¸¤ä½åˆ†åˆ«ä¸º two , one ï¼Œåˆ™çŠ¶æ€è½¬æ¢å˜ä¸ºï¼š</p>
<p>â€‹								00 â†’ 01 â†’ 10 â†’ 00 â†’ â‹¯</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1603022900-nPXQLk-Picture3.png" alt="Picture3.png"></p>
<p>æ¥ä¸‹æ¥ï¼Œéœ€è¦é€šè¿‡ <code>çŠ¶æ€è½¬æ¢è¡¨</code> å¯¼å‡º <code>çŠ¶æ€è½¬æ¢çš„è®¡ç®—å…¬å¼</code> ã€‚é¦–å…ˆå›å¿†ä¸€ä¸‹ä½è¿ç®—ç‰¹ç‚¹ï¼Œå¯¹äºä»»æ„äºŒè¿›åˆ¶ä½ x ï¼Œæœ‰ï¼š</p>
<ul>
<li>å¼‚æˆ–è¿ç®—ï¼šx ^ 0 &#x3D; x ï¼Œ x ^ 1 &#x3D; ~x</li>
<li>ä¸è¿ç®—ï¼šx &amp; 0 &#x3D; 0 ï¼Œ x &amp; 1 &#x3D; x</li>
</ul>
<p>è®¡ç®— oneone æ–¹æ³•ï¼š</p>
<p>è®¾å½“å‰çŠ¶æ€ä¸º two one ï¼Œæ­¤æ—¶è¾“å…¥äºŒè¿›åˆ¶ä½ n ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œé€šè¿‡å¯¹çŠ¶æ€è¡¨çš„æƒ…å†µæ‹†åˆ†ï¼Œå¯æ¨å‡º one çš„è®¡ç®—æ–¹æ³•ä¸ºï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> two == <span class="number">0</span></span><br><span class="line">  <span class="keyword">if</span> n == <span class="number">0</span></span><br><span class="line">    one = one</span><br><span class="line">  <span class="keyword">if</span> n == <span class="number">1</span></span><br><span class="line">    one = !one</span><br><span class="line"><span class="keyword">if</span> two == <span class="number">1</span></span><br><span class="line">    one = <span class="number">0</span></span><br></pre></td></tr></table></figure>

<p>å¼•å…¥ <strong>å¼‚æˆ–è¿ç®—</strong> ï¼Œå¯å°†ä»¥ä¸Šæ‹†åˆ†ç®€åŒ–ä¸ºï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> two == <span class="number">0</span>:</span><br><span class="line">    one = one ^ n</span><br><span class="line"><span class="keyword">if</span> two == <span class="number">1</span>:</span><br><span class="line">    one = <span class="number">0</span></span><br></pre></td></tr></table></figure>

<p>å¼•å…¥ <strong>ä¸è¿ç®—</strong> ï¼Œå¯ç»§ç»­ç®€åŒ–ä¸ºï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">one = one ^ n &amp; ~two</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1603022900-qIFpAR-Picture4.png" alt="Picture4.png"></p>
<p>è®¡ç®— two æ–¹æ³•ï¼š</p>
<p>ç”±äºæ˜¯å…ˆè®¡ç®— one ï¼Œå› æ­¤åº”åœ¨æ–° one çš„åŸºç¡€ä¸Šè®¡ç®— twoã€‚<br>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œä¿®æ”¹ä¸ºæ–° one åï¼Œå¾—åˆ°äº†æ–°çš„çŠ¶æ€å›¾ã€‚è§‚å¯Ÿå‘ç°ï¼Œå¯ä»¥ä½¿ç”¨åŒæ ·çš„æ–¹æ³•è®¡ç®— two ï¼Œå³ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">two = two ^ n &amp; ~one</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1603022900-hnUxBz-Picture5.png" alt="Picture5.png"></p>
<p><strong>è¿”å›å€¼</strong>ï¼š</p>
<p>ä»¥ä¸Šæ˜¯å¯¹æ•°å­—çš„äºŒè¿›åˆ¶ä¸­ â€œä¸€ä½â€ çš„åˆ†æï¼Œè€Œ int ç±»å‹çš„å…¶ä»– 31 ä½å…·æœ‰ç›¸åŒçš„è¿ç®—è§„åˆ™ï¼Œå› æ­¤å¯å°†ä»¥ä¸Šå…¬å¼ç›´æ¥å¥—ç”¨åœ¨ 32 ä½æ•°ä¸Šã€‚</p>
<p>éå†å®Œæ‰€æœ‰æ•°å­—åï¼Œå„äºŒè¿›åˆ¶ä½éƒ½å¤„äºçŠ¶æ€ 00 å’ŒçŠ¶æ€ 01 ï¼ˆå–å†³äº â€œåªå‡ºç°ä¸€æ¬¡çš„æ•°å­—â€ çš„å„äºŒè¿›åˆ¶ä½æ˜¯ 1 è¿˜æ˜¯ 0 ï¼‰ï¼Œè€Œæ­¤ä¸¤çŠ¶æ€æ˜¯ç”± one æ¥è®°å½•çš„ï¼ˆæ­¤ä¸¤çŠ¶æ€ä¸‹ twos æ’ä¸º 0 ï¼‰ï¼Œå› æ­¤è¿”å› ones å³å¯ã€‚</p>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(N) ï¼š å…¶ä¸­ N ä½æ•°ç»„ nums çš„é•¿åº¦ï¼›éå†æ•°ç»„å ç”¨ O(N) ï¼Œæ¯è½®ä¸­çš„å¸¸æ•°ä¸ªä½è¿ç®—æ“ä½œå ç”¨ O(32Ã—3Ã—2)&#x3D;O(1) ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(1) ï¼š å˜é‡ ones , twos ä½¿ç”¨å¸¸æ•°å¤§å°çš„é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">singleNumber</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">ones</span> <span class="operator">=</span> <span class="number">0</span>, twos = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> num : nums)&#123;</span><br><span class="line">            ones = ones ^ num &amp; ~twos;</span><br><span class="line">            twos = twos ^ num &amp; ~ones;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ones;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="æ–¹æ³•äºŒï¼šéå†ç»Ÿè®¡"><a href="#æ–¹æ³•äºŒï¼šéå†ç»Ÿè®¡" class="headerlink" title="æ–¹æ³•äºŒï¼šéå†ç»Ÿè®¡"></a>æ–¹æ³•äºŒï¼šéå†ç»Ÿè®¡</h4><blockquote>
<p>æ­¤æ–¹æ³•ç›¸å¯¹å®¹æ˜“ç†è§£ï¼Œä½†æ•ˆç‡è¾ƒä½ï¼Œæ€»ä½“æ¨èæ–¹æ³•ä¸€ã€‚</p>
</blockquote>
<p>ä½¿ç”¨ ä¸è¿ç®— ï¼Œå¯è·å–äºŒè¿›åˆ¶æ•°å­— num çš„æœ€å³ä¸€ä½ n1ï¼š n1&#x3D;num&amp;i</p>
<p>é…åˆ å³ç§»æ“ä½œ ï¼Œå¯ä»ä½ä½è‡³é«˜ä½ï¼Œè·å– num æ‰€æœ‰ä½çš„å€¼ï¼ˆè®¾ int ç±»å‹ä»ä½è‡³é«˜çš„ä½æ•°ä¸ºç¬¬ 0 ä½ è‡³ç¬¬ 31 ä½ï¼Œå³ n0~n31   num &#x3D; num &gt;&gt; 1</p>
<p>å»ºç«‹ä¸€ä¸ªé•¿åº¦ä¸º 32 çš„æ•°ç»„ counts ï¼Œé€šè¿‡ä»¥ä¸Šæ–¹æ³•å¯è®°å½•æ‰€æœ‰æ•°å­—çš„å„äºŒè¿›åˆ¶ä½çš„ 1 çš„å‡ºç°æ¬¡æ•°ä¹‹å’Œã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span>[] counts = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">32</span>];</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> num : nums) &#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">32</span>; i++) &#123;</span><br><span class="line">        counts[i] += num &amp; <span class="number">1</span>; <span class="comment">// æ›´æ–°ç¬¬ i ä½ 1 çš„ä¸ªæ•°ä¹‹å’Œ</span></span><br><span class="line">        num &gt;&gt;= <span class="number">1</span>;            <span class="comment">// ç¬¬ i ä½ --&gt; ç¬¬ i + 1 ä½</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å°† counts å„å…ƒç´ å¯¹ 3 æ±‚ä½™ï¼Œåˆ™ç»“æœä¸º â€œåªå‡ºç°ä¸€æ¬¡çš„æ•°å­—â€ çš„å„äºŒè¿›åˆ¶ä½ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">31</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> counts[i] %= <span class="number">3</span>; <span class="comment">// å¾—åˆ° â€œåªå‡ºç°ä¸€æ¬¡çš„æ•°å­—â€ çš„ç¬¬ i ä½</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åˆ©ç”¨ <strong>å·¦ç§»æ“ä½œ</strong> å’Œ <strong>æˆ–è¿ç®—</strong> ï¼Œå¯å°† counts æ•°ç»„ä¸­å„äºŒè¿›ä½çš„å€¼æ¢å¤åˆ°æ•°å­— res ä¸Šã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">31</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">    res &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">    res |= counts[i] % <span class="number">3</span>; <span class="comment">// æ¢å¤ç¬¬ i ä½</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æœ€ç»ˆè¿”å› res å³å¯</p>
<p>å¤æ‚åº¦åˆ†æï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(N) ï¼š å…¶ä¸­ N ä½æ•°ç»„ nums çš„é•¿åº¦ï¼›éå†æ•°ç»„å ç”¨ O(N) ï¼Œæ¯è½®ä¸­çš„å¸¸æ•°ä¸ªä½è¿ç®—æ“ä½œå ç”¨ O(1) ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(1) ï¼š æ•°ç»„ counts é•¿åº¦æ’ä¸º 32 ï¼Œå ç”¨å¸¸æ•°å¤§å°çš„é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<p>å®é™…ä¸Šï¼Œåªéœ€è¦ä¿®æ”¹æ±‚ä½™æ•°å€¼ <em>m</em> ï¼Œå³å¯å®ç°è§£å†³ <strong>é™¤äº†ä¸€ä¸ªæ•°å­—ä»¥å¤–ï¼Œå…¶ä½™æ•°å­—éƒ½å‡ºç° mæ¬¡</strong> çš„é€šç”¨é—®é¢˜ã€‚</p>
<blockquote>
<p>è®¾ int ç±»å‹ä»ä½è‡³é«˜çš„ä½æ•°ä¸ºç¬¬ 0 ä½ è‡³ç¬¬ 31 ä½ã€‚</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">singleNumber</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        <span class="type">int</span>[] counts = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">32</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> num : nums) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">32</span>; i++) &#123;</span><br><span class="line">                counts[i] += num &amp; <span class="number">1</span>; <span class="comment">// æ›´æ–°ç¬¬ i ä½ 1 çš„ä¸ªæ•°ä¹‹å’Œ</span></span><br><span class="line">                num &gt;&gt;= <span class="number">1</span>;            <span class="comment">// ç¬¬ i ä½ --&gt; ç¬¬ i ä½</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>, m = <span class="number">3</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">31</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            res &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">            res |= counts[i] % m;     <span class="comment">// æ¢å¤ç¬¬ i ä½</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5ã€LC1803-ç»Ÿè®¡å¼‚æˆ–å€¼åœ¨èŒƒå›´å†…çš„æ•°å¯¹æœ‰å¤šå°‘"><a href="#5ã€LC1803-ç»Ÿè®¡å¼‚æˆ–å€¼åœ¨èŒƒå›´å†…çš„æ•°å¯¹æœ‰å¤šå°‘" class="headerlink" title="5ã€LC1803. ç»Ÿè®¡å¼‚æˆ–å€¼åœ¨èŒƒå›´å†…çš„æ•°å¯¹æœ‰å¤šå°‘"></a>5ã€LC1803. ç»Ÿè®¡å¼‚æˆ–å€¼åœ¨èŒƒå›´å†…çš„æ•°å¯¹æœ‰å¤šå°‘</h3><p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>nums</code> ï¼ˆä¸‹æ ‡ <strong>ä» 0 å¼€å§‹</strong> è®¡æ•°ï¼‰ä»¥åŠä¸¤ä¸ªæ•´æ•°ï¼š<code>low</code> å’Œ <code>high</code> ï¼Œè¯·è¿”å› <strong>æ¼‚äº®æ•°å¯¹</strong> çš„æ•°ç›®ã€‚</p>
<p><strong>æ¼‚äº®æ•°å¯¹</strong> æ˜¯ä¸€ä¸ªå½¢å¦‚ <code>(i, j)</code> çš„æ•°å¯¹ï¼Œå…¶ä¸­ <code>0 &lt;= i &lt; j &lt; nums.length</code> ä¸” <code>low &lt;= (nums[i] XOR nums[j]) &lt;= high</code> ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [1,4,2,7], low = 2, high = 6</span><br><span class="line">è¾“å‡ºï¼š6</span><br><span class="line">è§£é‡Šï¼šæ‰€æœ‰æ¼‚äº®æ•°å¯¹ (i, j) åˆ—å‡ºå¦‚ä¸‹ï¼š</span><br><span class="line">    - (0, 1): nums[0] XOR nums[1] = 5 </span><br><span class="line">    - (0, 2): nums[0] XOR nums[2] = 3</span><br><span class="line">    - (0, 3): nums[0] XOR nums[3] = 6</span><br><span class="line">    - (1, 2): nums[1] XOR nums[2] = 6</span><br><span class="line">    - (1, 3): nums[1] XOR nums[3] = 3</span><br><span class="line">    - (2, 3): nums[2] XOR nums[3] = 5</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [9,8,4,2,1], low = 5, high = 14</span><br><span class="line">è¾“å‡ºï¼š8</span><br><span class="line">è§£é‡Šï¼šæ‰€æœ‰æ¼‚äº®æ•°å¯¹ (i, j) åˆ—å‡ºå¦‚ä¸‹ï¼š</span><br><span class="line">    - (0, 2): nums[0] XOR nums[2] = 13</span><br><span class="line">    - (0, 3): nums[0] XOR nums[3] = 11</span><br><span class="line">    - (0, 4): nums[0] XOR nums[4] = 8</span><br><span class="line">    - (1, 2): nums[1] XOR nums[2] = 12</span><br><span class="line">    - (1, 3): nums[1] XOR nums[3] = 10</span><br><span class="line">    - (1, 4): nums[1] XOR nums[4] = 9</span><br><span class="line">    - (2, 3): nums[2] XOR nums[3] = 6</span><br><span class="line">    - (2, 4): nums[2] XOR nums[4] = 5</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= nums.length &lt;= 2 * 104</code></li>
<li><code>1 &lt;= nums[i] &lt;= 2 * 104</code></li>
<li><code>1 &lt;= low &lt;= high &lt;= 2 * 104</code></li>
</ul>
<p>Related Topics</p>
<p>ä½è¿ç®—</p>
<p>å­—å…¸æ ‘</p>
<p>æ•°ç»„</p>
<p>ğŸ‘ 77</p>
<p>ğŸ‘ 0</p>
<h4 id="æ–¹æ³•ä¸€ï¼š0-1å­—å…¸æ ‘"><a href="#æ–¹æ³•ä¸€ï¼š0-1å­—å…¸æ ‘" class="headerlink" title="æ–¹æ³•ä¸€ï¼š0-1å­—å…¸æ ‘"></a>æ–¹æ³•ä¸€ï¼š0-1å­—å…¸æ ‘</h4><p><strong>è§£é¢˜æ€è·¯</strong>:</p>
<p>å¯¹äºè¿™ç§åŒºé—´ [low, high] ç»Ÿè®¡çš„é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥è€ƒè™‘å°†å…¶è½¬æ¢ä¸ºç»Ÿè®¡ [0, high] å’Œ [0, low - 1] çš„é—®é¢˜ï¼Œç„¶åç›¸å‡å³å¯å¾—åˆ°ç­”æ¡ˆã€‚</p>
<p>åœ¨è¿™é“é¢˜ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç»Ÿè®¡æœ‰å¤šå°‘æ•°å¯¹çš„å¼‚æˆ–å€¼å°äº high + 1ï¼Œç„¶åå†ç»Ÿè®¡æœ‰å¤šå°‘æ•°å¯¹çš„å¼‚æˆ–å€¼å°äº lowï¼Œç›¸å‡çš„ç»“æœå°±æ˜¯å¼‚æˆ–å€¼åœ¨åŒºé—´ [low, high] ä¹‹é—´çš„æ•°å¯¹æ•°é‡ã€‚</p>
<p>å¦å¤–ï¼Œå¯¹äºæ•°ç»„å¼‚æˆ–è®¡æ•°é—®é¢˜ï¼Œæˆ‘ä»¬é€šå¸¸å¯ä»¥ä½¿ç”¨â€œ0-1 å­—å…¸æ ‘â€æ¥è§£å†³ã€‚</p>
<p>å­—å…¸æ ‘çš„èŠ‚ç‚¹å®šä¹‰å¦‚ä¸‹ï¼š</p>
<ul>
<li>children[0] å’Œ children[1] åˆ†åˆ«è¡¨ç¤ºå½“å‰èŠ‚ç‚¹çš„å·¦å³å­èŠ‚ç‚¹ï¼›</li>
<li>cnt è¡¨ç¤ºä»¥å½“å‰èŠ‚ç‚¹ç»“å°¾çš„æ•°çš„æ•°é‡ã€‚</li>
</ul>
<p>åœ¨å­—å…¸æ ‘ä¸­ï¼Œæˆ‘ä»¬è¿˜å®šä¹‰äº†ä»¥ä¸‹ä¸¤ä¸ªå‡½æ•°ï¼š</p>
<p>å…¶ä¸­ä¸€ä¸ªå‡½æ•°æ˜¯ insert(x)ï¼Œè¡¨ç¤ºå°†æ•° x æ’å…¥åˆ°å­—å…¸æ ‘ä¸­ã€‚è¯¥å‡½æ•°å°†æ•°å­— x æŒ‰ç…§äºŒè¿›åˆ¶ä½ä»é«˜åˆ°ä½çš„é¡ºåºï¼Œæ’å…¥åˆ°â€œ0-1 å­—å…¸æ ‘â€ä¸­ã€‚å¦‚æœå½“å‰äºŒè¿›åˆ¶ä½ä¸º 0ï¼Œåˆ™æ’å…¥åˆ°å·¦å­èŠ‚ç‚¹ï¼Œå¦åˆ™æ’å…¥åˆ°å³å­èŠ‚ç‚¹ã€‚ç„¶åå°†èŠ‚ç‚¹çš„è®¡æ•°å€¼ cntcnt åŠ  1ã€‚</p>
<p>å¦ä¸€ä¸ªå‡½æ•°æ˜¯ search(x, limit)ï¼Œè¡¨ç¤ºåœ¨å­—å…¸æ ‘ä¸­æŸ¥æ‰¾ä¸ x å¼‚æˆ–å€¼å°äº limit çš„æ•°é‡ã€‚è¯¥å‡½æ•°ä»å­—å…¸æ ‘çš„æ ¹èŠ‚ç‚¹ node å¼€å§‹ï¼Œéå† x çš„äºŒè¿›åˆ¶ä½ï¼Œä»é«˜åˆ°ä½ï¼Œè®°å½“å‰ x çš„äºŒè¿›åˆ¶ä½çš„æ•°ä¸º vã€‚å¦‚æœå½“å‰ limit çš„äºŒè¿›åˆ¶ä½ä¸º 1ï¼Œæ­¤æ—¶æˆ‘ä»¬å¯ä»¥ç›´æ¥å°†ç­”æ¡ˆåŠ ä¸Šä¸ x çš„å½“å‰äºŒè¿›åˆ¶ä½ v ç›¸åŒçš„å­èŠ‚ç‚¹çš„è®¡æ•°å€¼ cntï¼Œç„¶åå°†å½“å‰èŠ‚ç‚¹ç§»åŠ¨åˆ°ä¸ x çš„å½“å‰äºŒè¿›åˆ¶ä½ v ä¸åŒçš„å­èŠ‚ç‚¹ï¼Œå³ node &#x3D; node.children[v ^ 1]ã€‚ç»§ç»­éå†ä¸‹ä¸€ä½ã€‚å¦‚æœå½“å‰ limit çš„äºŒè¿›åˆ¶ä½ä¸º 0ï¼Œæ­¤æ—¶æˆ‘ä»¬åªèƒ½å°†å½“å‰èŠ‚ç‚¹ç§»åŠ¨åˆ°ä¸ x çš„å½“å‰äºŒè¿›åˆ¶ä½ v ç›¸åŒçš„å­èŠ‚ç‚¹ï¼Œå³ node &#x3D; node.children[v]ã€‚ç»§ç»­éå†ä¸‹ä¸€ä½ã€‚éå†å®Œ x çš„äºŒè¿›åˆ¶ä½åï¼Œè¿”å›ç­”æ¡ˆã€‚</p>
<p>æœ‰äº†ä»¥ä¸Šä¸¤ä¸ªå‡½æ•°ï¼Œæˆ‘ä»¬å°±å¯ä»¥è§£å†³æœ¬é¢˜äº†ã€‚</p>
<p>æˆ‘ä»¬éå†æ•°ç»„ numsï¼Œå¯¹äºæ¯ä¸ªæ•° xï¼Œæˆ‘ä»¬å…ˆåœ¨å­—å…¸æ ‘ä¸­æŸ¥æ‰¾ä¸ x å¼‚æˆ–å€¼å°äº high + 1 çš„æ•°é‡ï¼Œç„¶ååœ¨å­—å…¸æ ‘ä¸­æŸ¥æ‰¾ä¸ x å¼‚æˆ–å€¼å°äº low çš„æ•°å¯¹æ•°é‡ï¼Œå°†ä¸¤è€…çš„å·®å€¼åŠ åˆ°ç­”æ¡ˆä¸­ã€‚æ¥ç€å°† x æ’å…¥åˆ°å­—å…¸æ ‘ä¸­ã€‚ç»§ç»­éå†ä¸‹ä¸€ä¸ªæ•° xï¼Œç›´åˆ°éå†å®Œæ•°ç»„ numsã€‚æœ€åè¿”å›ç­”æ¡ˆå³å¯ã€‚</p>
<h2 id="åä¸‰ã€æ•°å­¦"><a href="#åä¸‰ã€æ•°å­¦" class="headerlink" title="åä¸‰ã€æ•°å­¦"></a>åä¸‰ã€æ•°å­¦</h2><h3 id="13-1ã€å‰‘æŒ‡-Offer-39-æ•°ç»„ä¸­å‡ºç°æ¬¡æ•°è¶…è¿‡ä¸€åŠçš„æ•°å­—"><a href="#13-1ã€å‰‘æŒ‡-Offer-39-æ•°ç»„ä¸­å‡ºç°æ¬¡æ•°è¶…è¿‡ä¸€åŠçš„æ•°å­—" class="headerlink" title="13.1ã€å‰‘æŒ‡ Offer 39. æ•°ç»„ä¸­å‡ºç°æ¬¡æ•°è¶…è¿‡ä¸€åŠçš„æ•°å­—"></a>13.1ã€å‰‘æŒ‡ Offer 39. æ•°ç»„ä¸­å‡ºç°æ¬¡æ•°è¶…è¿‡ä¸€åŠçš„æ•°å­—</h3><p>æ•°ç»„ä¸­æœ‰ä¸€ä¸ªæ•°å­—å‡ºç°çš„æ¬¡æ•°è¶…è¿‡æ•°ç»„é•¿åº¦çš„ä¸€åŠï¼Œè¯·æ‰¾å‡ºè¿™ä¸ªæ•°å­—ã€‚</p>
<p>ä½ å¯ä»¥å‡è®¾æ•°ç»„æ˜¯éç©ºçš„ï¼Œå¹¶ä¸”ç»™å®šçš„æ•°ç»„æ€»æ˜¯å­˜åœ¨å¤šæ•°å…ƒç´ ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: [1, 2, 3, 2, 2, 2, 5, 4, 2]</span><br><span class="line">è¾“å‡º: 2</span><br></pre></td></tr></table></figure>



<p><strong>é™åˆ¶ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1 &lt;= æ•°ç»„é•¿åº¦ &lt;= 50000</span><br></pre></td></tr></table></figure>



<p>æ³¨æ„ï¼šæœ¬é¢˜ä¸ä¸»ç«™ 169 é¢˜ç›¸åŒï¼š<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/majority-element/">https://leetcode-cn.com/problems/majority-element/</a></p>
<p>Related Topics</p>
<p>æ•°ç»„</p>
<p>å“ˆå¸Œè¡¨</p>
<p>åˆ†æ²»</p>
<p>è®¡æ•°</p>
<p>æ’åº</p>
<p>ğŸ‘ 335</p>
<p>ğŸ‘ 0</p>
<blockquote>
<p>æœ¬æ–‡å°† â€œæ•°ç»„ä¸­å‡ºç°æ¬¡æ•°è¶…è¿‡ä¸€åŠçš„æ•°å­—â€ ç®€ç§°ä¸º <strong>â€œä¼—æ•°â€</strong> ã€‚<br>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ•°å­¦ä¸­ä¼—æ•°çš„å®šä¹‰ä¸º â€œæ•°ç»„ä¸­å‡ºç°æ¬¡æ•°æœ€å¤šçš„æ•°å­—â€ ï¼Œä¸æœ¬æ–‡å®šä¹‰ä¸åŒã€‚</p>
</blockquote>
<p>æœ¬é¢˜å¸¸è§çš„ä¸‰ç§è§£æ³•ï¼š</p>
<ol>
<li><strong>å“ˆå¸Œè¡¨ç»Ÿè®¡æ³•</strong>ï¼š éå†æ•°ç»„ nums ï¼Œç”¨ HashMap ç»Ÿè®¡å„æ•°å­—çš„æ•°é‡ï¼Œå³å¯æ‰¾å‡º ä¼—æ•° ã€‚æ­¤æ–¹æ³•æ—¶é—´å’Œç©ºé—´å¤æ‚åº¦å‡ä¸º O(N) ã€‚</li>
<li><strong>æ•°ç»„æ’åºæ³•</strong>ï¼š å°†æ•°ç»„ nums æ’åºï¼Œ<code>æ•°ç»„ä¸­ç‚¹çš„å…ƒç´ </code> ä¸€å®šä¸ºä¼—æ•°ã€‚æŒ‰ç…§æ’åºç®—æ³•çš„æ—¶é—´å¤æ‚åº¦å’Œç©ºé—´å¤æ‚åº¦æ¥è®¡ç®—ï¼Œåº“å‡½æ•°ä¸ºå¿«é€Ÿæ’åºï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(NlogN), ç©ºé—´å¤æ‚åº¦ O(N);</li>
<li><strong>æ‘©å°”æŠ•ç¥¨æ³•</strong>ï¼š æ ¸å¿ƒç†å¿µä¸º <code>ç¥¨æ•°æ­£è´ŸæŠµæ¶ˆ</code> ã€‚æ­¤æ–¹æ³•æ—¶é—´å’Œç©ºé—´å¤æ‚åº¦åˆ†åˆ«ä¸º O(N) å’Œ O(1) ï¼Œä¸ºæœ¬é¢˜çš„æœ€ä½³è§£æ³•ã€‚</li>
</ol>
<h4 id="æ‘©å°”æŠ•ç¥¨æ³•ï¼š"><a href="#æ‘©å°”æŠ•ç¥¨æ³•ï¼š" class="headerlink" title="æ‘©å°”æŠ•ç¥¨æ³•ï¼š"></a>æ‘©å°”æŠ•ç¥¨æ³•ï¼š</h4><blockquote>
<p>è®¾è¾“å…¥æ•°ç»„ <code>nums</code> çš„ä¼—æ•°ä¸º x ï¼Œæ•°ç»„é•¿åº¦ä¸º n ã€‚</p>
</blockquote>
<p>æ¨è®ºä¸€ï¼š è‹¥è®° <code>ä¼—æ•°</code> çš„ç¥¨æ•°ä¸º +1 ï¼Œ<code>éä¼—æ•°</code> çš„ç¥¨æ•°ä¸º âˆ’1 ï¼Œåˆ™ä¸€å®šæœ‰æ‰€æœ‰æ•°å­—çš„ <code>ç¥¨æ•°å’Œ</code> &gt; 0 ã€‚</p>
<p>æ¨è®ºäºŒï¼š è‹¥æ•°ç»„çš„å‰ a ä¸ªæ•°å­—çš„ ç¥¨æ•°å’Œ &#x3D; 0 ï¼Œåˆ™ æ•°ç»„å‰©ä½™ (n-a) ä¸ªæ•°å­—çš„ ç¥¨æ•°å’Œä¸€å®šä» &gt;0 ï¼Œå³å (n-a) ä¸ªæ•°å­—çš„ ä¼—æ•°ä»ä¸º x ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1603612327-bOQxzq-Picture1.png" alt="Picture1.png"></p>
<p>æ ¹æ®ä»¥ä¸Šæ¨è®ºï¼Œè®°æ•°ç»„é¦–ä¸ªå…ƒç´ ä¸º n1 ï¼Œä¼—æ•°ä¸º x ï¼Œéå†å¹¶ç»Ÿè®¡ç¥¨æ•°ã€‚å½“å‘ç”Ÿ <code>ç¥¨æ•°å’Œ = 0</code> æ—¶ï¼Œ<strong>å‰©ä½™æ•°ç»„çš„ä¼—æ•°ä¸€å®šä¸å˜</strong> ï¼Œè¿™æ˜¯ç”±äºï¼š</p>
<ul>
<li>å½“ n1 &#x3D;&#x3D; x ï¼š æŠµæ¶ˆçš„æ‰€æœ‰æ•°å­—ï¼Œæœ‰ä¸€åŠæ˜¯ä¼—æ•° x ã€‚</li>
<li>å½“ n1 !&#x3D; x ï¼š æŠµæ¶ˆçš„æ‰€æœ‰æ•°å­—ï¼Œä¼—æ•° x çš„æ•°é‡æœ€å°‘ä¸º 0 ä¸ªï¼Œæœ€å¤šä¸ºä¸€åŠã€‚</li>
</ul>
<p>åˆ©ç”¨æ­¤ç‰¹æ€§ï¼Œæ¯è½®å‡è®¾å‘ç”Ÿ <strong>ç¥¨æ•°å’Œ &#x3D; 0</strong> éƒ½å¯ä»¥ <strong>ç¼©å°å‰©ä½™æ•°ç»„åŒºé—´</strong> ã€‚å½“éå†å®Œæˆæ—¶ï¼Œæœ€åä¸€è½®å‡è®¾çš„æ•°å­—å³ä¸ºä¼—æ•°ã€‚</p>
<p><strong>ç®—æ³•æµç¨‹</strong>:</p>
<ol>
<li>åˆå§‹åŒ–ï¼š ç¥¨æ•°ç»Ÿè®¡ votes &#x3D; 0 ï¼Œ ä¼—æ•° xï¼›</li>
<li>å¾ªç¯ï¼š éå†æ•°ç»„ nums ä¸­çš„æ¯ä¸ªæ•°å­— num ï¼›<ul>
<li>å½“ ç¥¨æ•° votes ç­‰äº 0 ï¼Œåˆ™å‡è®¾å½“å‰æ•°å­— num æ˜¯ä¼—æ•°ï¼›</li>
<li>å½“ num &#x3D; x æ—¶ï¼Œç¥¨æ•° votes è‡ªå¢ 1 ï¼›å½“ num !&#x3D; x æ—¶ï¼Œç¥¨æ•° votes è‡ªå‡ 1 ï¼›</li>
</ul>
</li>
<li>è¿”å›å€¼ï¼š è¿”å› x å³å¯ï¼›</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1603612327-WvtbDg-Picture7.png" alt="img"></p>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(N) ï¼š N ä¸ºæ•°ç»„ <code>nums</code> é•¿åº¦ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(1) ï¼š <code>votes</code> å˜é‡ä½¿ç”¨å¸¸æ•°å¤§å°çš„é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ‘©å°”æŠ•ç¥¨</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">majorityElement</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> <span class="number">0</span>, vote = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> num : nums) &#123;</span><br><span class="line">        <span class="keyword">if</span> (vote == <span class="number">0</span>) x = num;</span><br><span class="line">        <span class="keyword">if</span> (num == x) vote++;</span><br><span class="line">        <span class="keyword">else</span> vote--;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>æ‹“å±•</strong>ï¼š ç”±äºé¢˜ç›®è¯´æ˜ <code>ç»™å®šçš„æ•°ç»„æ€»æ˜¯å­˜åœ¨å¤šæ•°å…ƒç´ </code> ï¼Œå› æ­¤æœ¬é¢˜ä¸ç”¨è€ƒè™‘ <code>æ•°ç»„ä¸å­˜åœ¨ä¼—æ•°</code> çš„æƒ…å†µã€‚è‹¥è€ƒè™‘ï¼Œéœ€è¦åŠ å…¥ä¸€ä¸ª â€œéªŒè¯ç¯èŠ‚â€ ï¼Œéå†æ•°ç»„ nums ç»Ÿè®¡ x çš„æ•°é‡ã€‚</p>
<ul>
<li>è‹¥ x çš„æ•°é‡è¶…è¿‡æ•°ç»„é•¿åº¦ä¸€åŠï¼Œåˆ™è¿”å› x ï¼›</li>
<li>å¦åˆ™ï¼Œè¿”å›æœªæ‰¾åˆ°ä¼—æ•°ï¼›</li>
</ul>
<p>æ—¶é—´å’Œç©ºé—´å¤æ‚åº¦ä¸å˜ï¼Œä»ä¸º O(N) å’Œ O(1) ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">majorityElement</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> <span class="number">0</span>, votes = <span class="number">0</span>, count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> num : nums)&#123;</span><br><span class="line">        <span class="keyword">if</span>(votes == <span class="number">0</span>) x = num;</span><br><span class="line">        votes += num == x ? <span class="number">1</span> : -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// éªŒè¯ x æ˜¯å¦ä¸ºä¼—æ•°</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> num : nums)</span><br><span class="line">        <span class="keyword">if</span>(num == x) count++;</span><br><span class="line">    <span class="keyword">return</span> count &gt; nums.length / <span class="number">2</span> ? x : <span class="number">0</span>; <span class="comment">// å½“æ— ä¼—æ•°æ—¶è¿”å› 0</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="æ’åºæ³•ï¼š"><a href="#æ’åºæ³•ï¼š" class="headerlink" title="æ’åºæ³•ï¼š"></a>æ’åºæ³•ï¼š</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ’åº</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">majorityElement2</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">    Arrays.sort(nums);</span><br><span class="line">    <span class="keyword">return</span> nums[nums.length / <span class="number">2</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="13-2ã€å‰‘æŒ‡-Offer-66-æ„å»ºä¹˜ç§¯æ•°ç»„"><a href="#13-2ã€å‰‘æŒ‡-Offer-66-æ„å»ºä¹˜ç§¯æ•°ç»„" class="headerlink" title="13.2ã€å‰‘æŒ‡ Offer 66. æ„å»ºä¹˜ç§¯æ•°ç»„"></a>13.2ã€å‰‘æŒ‡ Offer 66. æ„å»ºä¹˜ç§¯æ•°ç»„</h3><p>ç»™å®šä¸€ä¸ªæ•°ç»„ <code>A[0,1,â€¦,n-1]</code>ï¼Œè¯·æ„å»ºä¸€ä¸ªæ•°ç»„ <code>B[0,1,â€¦,n-1]</code>ï¼Œå…¶ä¸­ <code>B[i]</code> çš„å€¼æ˜¯æ•°ç»„ <code>A</code> ä¸­é™¤äº†ä¸‹æ ‡ <code>i</code> ä»¥å¤–çš„å…ƒç´ çš„ç§¯, å³ <code>B[i]=A[0]Ã—A[1]Ã—â€¦Ã—A[i-1]Ã—A[i+1]Ã—â€¦Ã—A[n-1]</code>ã€‚ä¸èƒ½ä½¿ç”¨é™¤æ³•ã€‚</p>
<p><strong>ç¤ºä¾‹:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: [1,2,3,4,5]</span><br><span class="line">è¾“å‡º: [120,60,40,30,24]</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li>æ‰€æœ‰å…ƒç´ ä¹˜ç§¯ä¹‹å’Œä¸ä¼šæº¢å‡º 32 ä½æ•´æ•°</li>
<li><code>a.length &lt;= 100000</code></li>
</ul>
<p>Related Topics</p>
<p>æ•°ç»„</p>
<p>å‰ç¼€å’Œ</p>
<p>ğŸ‘ 279</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>æœ¬é¢˜çš„éš¾ç‚¹åœ¨äº <code>ä¸èƒ½ä½¿ç”¨é™¤æ³•</code> ï¼Œå³éœ€è¦ <code>åªç”¨ä¹˜æ³•</code> ç”Ÿæˆæ•°ç»„ B ã€‚æ ¹æ®é¢˜ç›®å¯¹ B[i] çš„å®šä¹‰ï¼Œå¯åˆ—è¡¨æ ¼ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p>
<p>æ ¹æ®è¡¨æ ¼çš„ä¸»å¯¹è§’çº¿ï¼ˆå…¨ä¸º 1 ï¼‰ï¼Œå¯å°†è¡¨æ ¼åˆ†ä¸º <code>ä¸Šä¸‰è§’</code> å’Œ <code>ä¸‹ä¸‰è§’</code> ä¸¤éƒ¨åˆ†ã€‚åˆ†åˆ«è¿­ä»£è®¡ç®—ä¸‹ä¸‰è§’å’Œä¸Šä¸‰è§’ä¸¤éƒ¨åˆ†çš„ä¹˜ç§¯ï¼Œå³å¯ <code>ä¸ä½¿ç”¨é™¤æ³•</code> å°±è·å¾—ç»“æœã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1624619180-vpyyqh-Picture1.png" alt="Picture1.png"></p>
<p><strong>ç®—æ³•æµç¨‹</strong>ï¼š</p>
<ol>
<li>åˆå§‹åŒ–ï¼šæ•°ç»„ B ï¼Œå…¶ä¸­ B[0] &#x3D; 1 ï¼›è¾…åŠ©å˜é‡ tmp &#x3D; 1 ï¼›</li>
<li>è®¡ç®— B[i] çš„ <code>ä¸‹ä¸‰è§’</code> å„å…ƒç´ çš„ä¹˜ç§¯ï¼Œç›´æ¥ä¹˜å…¥ B[i] ï¼›</li>
<li>è®¡ç®— B[i] çš„ <code>ä¸Šä¸‰è§’</code> å„å…ƒç´ çš„ä¹˜ç§¯ï¼Œè®°ä¸º tmp ï¼Œå¹¶ä¹˜å…¥ B[i] ï¼›</li>
<li>è¿”å› B ã€‚</li>
</ol>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(N) ï¼š å…¶ä¸­ N ä¸ºæ•°ç»„é•¿åº¦ï¼Œä¸¤è½®éå†æ•°ç»„ a ï¼Œä½¿ç”¨ O(N) æ—¶é—´ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(1) ï¼š å˜é‡ tmp ä½¿ç”¨å¸¸æ•°å¤§å°é¢å¤–ç©ºé—´ï¼ˆæ•°ç»„ b ä½œä¸ºè¿”å›å€¼ï¼Œä¸è®¡å…¥å¤æ‚åº¦è€ƒè™‘ï¼‰ã€‚</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1599920669-atltNE-Picture4.png" alt="img"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1599920669-ufmhnT-Picture8.png" alt="img"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span>[] constructArr(<span class="type">int</span>[] a) &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> a.length;</span><br><span class="line">    <span class="keyword">if</span> (len == <span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">0</span>];</span><br><span class="line">    <span class="type">int</span>[] b = <span class="keyword">new</span> <span class="title class_">int</span>[len];</span><br><span class="line">    b[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; len; i++) &#123; <span class="comment">// å·¦ä¸‹è§’</span></span><br><span class="line">        b[i] = b[i - <span class="number">1</span>] * a[i - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> len - <span class="number">2</span>; i &gt;= <span class="number">0</span>; i--) &#123; <span class="comment">// å³ä¸Šè§’</span></span><br><span class="line">        temp *= a[i + <span class="number">1</span>];</span><br><span class="line">        b[i] *= temp;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="13-3ã€å‰‘æŒ‡-Offer-14-I-å‰ªç»³å­"><a href="#13-3ã€å‰‘æŒ‡-Offer-14-I-å‰ªç»³å­" class="headerlink" title="13.3ã€å‰‘æŒ‡ Offer 14- I. å‰ªç»³å­"></a>13.3ã€å‰‘æŒ‡ Offer 14- I. å‰ªç»³å­</h3><p>ç»™ä½ ä¸€æ ¹é•¿åº¦ä¸º <code>n</code> çš„ç»³å­ï¼Œè¯·æŠŠç»³å­å‰ªæˆæ•´æ•°é•¿åº¦çš„ <code>m</code> æ®µï¼ˆmã€néƒ½æ˜¯æ•´æ•°ï¼Œn&gt;1å¹¶ä¸”m&gt;1ï¼‰ï¼Œæ¯æ®µç»³å­çš„é•¿åº¦è®°ä¸º <code>k[0],k[1]...k[m-1]</code> ã€‚è¯·é—® <code>k[0]*k[1]*...*k[m-1]</code> å¯èƒ½çš„æœ€å¤§ä¹˜ç§¯æ˜¯å¤šå°‘ï¼Ÿä¾‹å¦‚ï¼Œå½“ç»³å­çš„é•¿åº¦æ˜¯8æ—¶ï¼Œæˆ‘ä»¬æŠŠå®ƒå‰ªæˆé•¿åº¦åˆ†åˆ«ä¸º2ã€3ã€3çš„ä¸‰æ®µï¼Œæ­¤æ—¶å¾—åˆ°çš„æœ€å¤§ä¹˜ç§¯æ˜¯18ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: 2</span><br><span class="line">è¾“å‡º: 1</span><br><span class="line">è§£é‡Š: 2 = 1 + 1, 1 Ã— 1 = 1</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: 10</span><br><span class="line">è¾“å‡º: 36</span><br><span class="line">è§£é‡Š: 10 = 3 + 3 + 4, 3 Ã— 3 Ã— 4 = 36</span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>2 &lt;= n &lt;= 58</code></li>
</ul>
<p>æ³¨æ„ï¼šæœ¬é¢˜ä¸ä¸»ç«™ 343 é¢˜ç›¸åŒï¼š<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/integer-break/">https://leetcode-cn.com/problems/integer-break/</a></p>
<p>Related Topics</p>
<p>æ•°å­¦</p>
<p>åŠ¨æ€è§„åˆ’</p>
<p>ğŸ‘ 529</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<h4 id="æ•°å­¦æ³•"><a href="#æ•°å­¦æ³•" class="headerlink" title="æ•°å­¦æ³•"></a>æ•°å­¦æ³•</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/image-20221220093051857.png" alt="image-20221220093051857"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/image-20221220093350891.png" alt="image-20221220093350891"></p>
<p><strong>åˆ‡åˆ†è§„åˆ™</strong>ï¼š<br>æœ€ä¼˜ï¼š 3 ã€‚æŠŠç»³å­å°½å¯èƒ½åˆ‡ä¸ºå¤šä¸ªé•¿åº¦ä¸º 3 çš„ç‰‡æ®µï¼Œç•™ä¸‹çš„æœ€åä¸€æ®µç»³å­çš„é•¿åº¦å¯èƒ½ä¸º 0,1,2 ä¸‰ç§æƒ…å†µã€‚<br>æ¬¡ä¼˜ï¼š 2 ã€‚è‹¥æœ€åä¸€æ®µç»³å­é•¿åº¦ä¸º 2 ï¼›åˆ™ä¿ç•™ï¼Œä¸å†æ‹†ä¸º 1+1 ã€‚<br>æœ€å·®ï¼š 1 ã€‚è‹¥æœ€åä¸€æ®µç»³å­é•¿åº¦ä¸º 1 ï¼›åˆ™åº”æŠŠä¸€ä»½ 3 + 1 æ›¿æ¢ä¸º 2 + 2ï¼Œå› ä¸º 2Ã—2 &gt; 3Ã—1ã€‚</p>
<p><strong>ç®—æ³•æµç¨‹</strong>ï¼š</p>
<ol>
<li>å½“ n â‰¤ 3 æ—¶ï¼ŒæŒ‰ç…§è§„åˆ™åº”ä¸åˆ‡åˆ†ï¼Œä½†ç”±äºé¢˜ç›®è¦æ±‚å¿…é¡»å‰ªæˆ m &gt; 1 æ®µï¼Œå› æ­¤å¿…é¡»å‰ªå‡ºä¸€æ®µé•¿åº¦ä¸º 1 çš„ç»³å­ï¼Œå³è¿”å› n - 1 ã€‚</li>
<li>å½“ n &gt; 3 æ—¶ï¼Œæ±‚ n é™¤ä»¥ 3 çš„ æ•´æ•°éƒ¨åˆ† a å’Œ ä½™æ•°éƒ¨åˆ† b ï¼ˆå³ n &#x3D; 3a + b ï¼‰ï¼Œå¹¶åˆ†ä¸ºä»¥ä¸‹ä¸‰ç§æƒ…å†µï¼š<ul>
<li>å½“ b &#x3D; 0 æ—¶ï¼Œç›´æ¥è¿”å› 3 ^ aï¼›</li>
<li>å½“ b &#x3D; 1 æ—¶ï¼Œè¦å°†ä¸€ä¸ª 1 + 3 è½¬æ¢ä¸º 2 + 2ï¼Œå› æ­¤è¿”å› 3^(aâˆ’1) Ã— 4ï¼›</li>
<li>å½“ b &#x3D; 2b&#x3D;2 æ—¶ï¼Œè¿”å› 3^a Ã— 2ã€‚</li>
</ul>
</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1f9adeaa7b9fff0ab19c9d29e3a8f98749011d22dc162d67bdbe223f1a38119f-Picture1.png" alt="Picture1.png"></p>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li><p>æ—¶é—´å¤æ‚åº¦ O(1) ï¼š ä»…æœ‰æ±‚æ•´ã€æ±‚ä½™ã€æ¬¡æ–¹è¿ç®—ã€‚</p>
<ul>
<li>æ±‚æ•´å’Œæ±‚ä½™è¿ç®—ï¼šèµ„æ–™æåˆ°ä¸è¶…è¿‡æœºå™¨æ•°çš„æ•´æ•°å¯ä»¥çœ‹ä½œæ˜¯ O(1) ï¼›</li>
<li>å¹‚è¿ç®—ï¼šæŸ¥é˜…èµ„æ–™ï¼Œæåˆ°æµ®ç‚¹å–å¹‚ä¸º O(1) ã€‚</li>
</ul>
</li>
<li><p>ç©ºé—´å¤æ‚åº¦ O(1) ï¼š å˜é‡ a å’Œ b ä½¿ç”¨å¸¸æ•°å¤§å°é¢å¤–ç©ºé—´ã€‚</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">cuttingRope</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(n &lt;= <span class="number">3</span>) <span class="keyword">return</span> n - <span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> n / <span class="number">3</span>, b = n % <span class="number">3</span>;</span><br><span class="line">        <span class="keyword">if</span>(b == <span class="number">0</span>) <span class="keyword">return</span> (<span class="type">int</span>)Math.pow(<span class="number">3</span>, a);</span><br><span class="line">        <span class="keyword">if</span>(b == <span class="number">1</span>) <span class="keyword">return</span> (<span class="type">int</span>)Math.pow(<span class="number">3</span>, a - <span class="number">1</span>) * <span class="number">4</span>;</span><br><span class="line">        <span class="keyword">return</span> (<span class="type">int</span>)Math.pow(<span class="number">3</span>, a) * <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="è´ªå¿ƒç®—æ³•"><a href="#è´ªå¿ƒç®—æ³•" class="headerlink" title="è´ªå¿ƒç®—æ³•"></a>è´ªå¿ƒç®—æ³•</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/image-20221220095148305.png" alt="image-20221220095148305"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/image-20221220095204014.png" alt="image-20221220095204014"></p>
<h4 id="åŠ¨æ€è§„åˆ’-5"><a href="#åŠ¨æ€è§„åˆ’-5" class="headerlink" title="åŠ¨æ€è§„åˆ’"></a>åŠ¨æ€è§„åˆ’</h4><p><strong>æ€è·¯</strong></p>
<p>å¯¹äºçš„é•¿åº¦ä¸ºnçš„ç»³å­ï¼Œå½“ n â‰¥ 2 æ—¶ï¼Œå¯ä»¥å‰ªæˆè‡³å°‘ä¸¤ä¸ªç»³å­ã€‚ä»¤ k æ˜¯å‰ªå‡ºçš„ç¬¬ä¸€æ®µç»³å­ï¼Œåˆ™å‰©ä¸‹çš„éƒ¨åˆ†æ˜¯ nâˆ’kï¼Œnâˆ’k å¯ä»¥ä¸ç»§ç»­å‰ªï¼Œæˆ–è€…ç»§ç»­å‰ªæˆè‡³å°‘ä¸¤æ®µç»³å­ï¼ˆä¸€ä¸ªé—®é¢˜å¯ä»¥åˆ†è§£ä¸ºç›¸ä¼¼çš„å­é—®é¢˜å› æ­¤æƒ³åˆ°åŠ¨æ€è§„åˆ’ï¼‰ã€‚ç”±äºæ¯ä¸ªç»³å­é•¿åº¦å¯¹åº”çš„æœ€å¤§ä¹˜ç§¯å–å†³äºæ¯”å®ƒå°çš„ç»³å­å¯¹åº”çš„æœ€å¤§ä¹˜ç§¯ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨<code>åŠ¨æ€è§„åˆ’</code>æ±‚è§£ã€‚</p>
<ol>
<li>ç¡®å®šdpæ•°ç»„ä»¥åŠä¸‹æ ‡çš„å«ä¹‰<br>dp[i] è¡¨ç¤ºå°†é•¿åº¦ä¸º i çš„ç»³å­å‰ªæˆè‡³å°‘ä¸¤æ®µç»³å­ä¹‹åï¼Œè¿™äº›ç»³å­é•¿åº¦çš„æœ€å¤§ä¹˜ç§¯</li>
<li>ç¡®å®šçŠ¶æ€è½¬ç§»æ–¹ç¨‹<ul>
<li>å½“ i â‰¥ 2 æ—¶ï¼Œå‡è®¾å¯¹é•¿åº¦ä¸º i ç»³å­å‰ªå‡ºçš„ç¬¬ä¸€æ®µç»³å­é•¿åº¦æ˜¯ jï¼ˆ1â‰¤j&lt;iï¼‰ï¼Œåˆ™æœ‰ä»¥ä¸‹ä¸¤ç§æ–¹æ¡ˆï¼š<ul>
<li>å°† i å‰ªæˆ j å’Œ i-j é•¿åº¦çš„ç»³å­ï¼Œä¸” iâˆ’j ä¸å†ç»§ç»­å‰ªï¼Œæ­¤æ—¶çš„ä¹˜ç§¯æ˜¯ jÃ—(iâˆ’j) ï¼›</li>
<li>å°† i å‰ªæˆ j å’Œ iâˆ’j é•¿åº¦çš„ç»³å­ï¼Œä¸” iâˆ’j ç»§ç»­å‰ªæˆå¤šæ®µé•¿åº¦çš„ç»³å­ï¼Œæ­¤æ—¶çš„ä¹˜ç§¯æ˜¯ jÃ—dp[iâˆ’j] ã€‚</li>
<li>å› æ­¤ï¼Œå½“ j å›ºå®šæ—¶ï¼Œæœ‰ dp[i]&#x3D;max(jÃ—(iâˆ’j),jÃ—dp[iâˆ’j])ã€‚ç”±äº j çš„å–å€¼èŒƒå›´æ˜¯ 1 åˆ° i ï¼Œéœ€è¦éå†æ‰€æœ‰çš„ j å¾—åˆ°dp[i]çš„</li>
</ul>
</li>
</ul>
</li>
<li>åˆå§‹åŒ–çŠ¶æ€<br>0 ä¸æ˜¯æ­£æ•´æ•°ï¼Œ1 æ˜¯æœ€å°çš„æ­£æ•´æ•°ï¼Œ0 å’Œ 1 éƒ½ä¸èƒ½æ‹†åˆ†ï¼Œå› æ­¤ dp[0]&#x3D;dp[1]&#x3D;0ã€‚</li>
<li>éå†é¡ºåº<br>ç”±çŠ¶æ€è½¬ç§»æ–¹ç¨‹çŸ¥é“dp[i] æ˜¯ä» jÃ—(iâˆ’j)å’ŒjÃ—dp[iâˆ’j] ä¸”j çš„å–å€¼èŒƒå›´æ˜¯ 1 åˆ° iâˆ’1 ï¼Œéœ€è¦éå†æ‰€æœ‰çš„ j å¾—åˆ°dp[i]æ‰€ä»¥ä»å‰å¾€åéå†ã€‚</li>
<li>è¿”å›å€¼<br>æœ€ç»ˆå¾—åˆ°dp[n]çš„å€¼å³ä¸ºå°†é•¿åº¦ä¸ºnçš„ç»³å­æ‹†åˆ†æˆè‡³å°‘ä¸¤æ®µç»³å­ä¹‹åï¼Œè¿™äº›ç»³å­é•¿åº¦çš„æœ€å¤§ä¹˜ç§¯ã€‚</li>
</ol>
<p>å†ä¼˜åŒ–ä¸€ä¸‹ï¼šéå†jçš„æ—¶å€™åªéœ€è¦éå†è‡³ç»³å­é•¿åº¦çš„ä¸€åŠå³å¯</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">cuttingRope</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">    <span class="comment">// é•¿åº¦ä¸º i çš„ç»³å­å‰ªæˆè‡³å°‘ä¸¤æ®µç»³å­ä¹‹åï¼Œè¿™äº›ç»³å­é•¿åº¦çš„æœ€å¤§ä¹˜ç§¯</span></span><br><span class="line">    <span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[n + <span class="number">1</span>];</span><br><span class="line">    dp[<span class="number">2</span>] = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">3</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">1</span>; j &lt; i / <span class="number">2</span>; j++) &#123;</span><br><span class="line">            dp[i] = Math.max(dp[i], Math.max(j * (i - j), dp[i - j] * j));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[n];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong></p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼šO(n ^ 2)</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼šO(n)</li>
</ul>
<h3 id="13-4ã€å‰‘æŒ‡-Offer-14-II-å‰ªç»³å­-II"><a href="#13-4ã€å‰‘æŒ‡-Offer-14-II-å‰ªç»³å­-II" class="headerlink" title="13.4ã€å‰‘æŒ‡ Offer 14- II. å‰ªç»³å­ II"></a>13.4ã€å‰‘æŒ‡ Offer 14- II. å‰ªç»³å­ II</h3><p>ç»™ä½ ä¸€æ ¹é•¿åº¦ä¸º <code>n</code> çš„ç»³å­ï¼Œè¯·æŠŠç»³å­å‰ªæˆæ•´æ•°é•¿åº¦çš„ <code>m</code> æ®µï¼ˆmã€néƒ½æ˜¯æ•´æ•°ï¼Œn&gt;1å¹¶ä¸”m&gt;1ï¼‰ï¼Œæ¯æ®µç»³å­çš„é•¿åº¦è®°ä¸º <code>k[0],k[1]...k[m - 1]</code> ã€‚è¯·é—® <code>k[0]*k[1]*...*k[m - 1]</code> å¯èƒ½çš„æœ€å¤§ä¹˜ç§¯æ˜¯å¤šå°‘ï¼Ÿä¾‹å¦‚ï¼Œå½“ç»³å­çš„é•¿åº¦æ˜¯8æ—¶ï¼Œæˆ‘ä»¬æŠŠå®ƒå‰ªæˆé•¿åº¦åˆ†åˆ«ä¸º2ã€3ã€3çš„ä¸‰æ®µï¼Œæ­¤æ—¶å¾—åˆ°çš„æœ€å¤§ä¹˜ç§¯æ˜¯18ã€‚</p>
<p>ç­”æ¡ˆéœ€è¦å–æ¨¡ 1e9+7ï¼ˆ1000000007ï¼‰ï¼Œå¦‚è®¡ç®—åˆå§‹ç»“æœä¸ºï¼š1000000008ï¼Œè¯·è¿”å› 1ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: 2</span><br><span class="line">è¾“å‡º: 1</span><br><span class="line">è§£é‡Š: 2 = 1 + 1, 1 Ã— 1 = 1</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: 10</span><br><span class="line">è¾“å‡º: 36</span><br><span class="line">è§£é‡Š: 10 = 3 + 3 + 4, 3 Ã— 3 Ã— 4 = 36</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>2 &lt;= n &lt;= 1000</code></li>
</ul>
<p>æ³¨æ„ï¼šæœ¬é¢˜ä¸ä¸»ç«™ 343 é¢˜ç›¸åŒï¼š<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/integer-break/">https://leetcode-cn.com/problems/integer-break/</a></p>
<p>Related Topics</p>
<p>æ•°å­¦</p>
<p>åŠ¨æ€è§„åˆ’</p>
<p>ğŸ‘ 221</p>
<p>ğŸ‘ 0</p>
<h4 id="æ•°å­¦"><a href="#æ•°å­¦" class="headerlink" title="æ•°å­¦"></a>æ•°å­¦</h4><p><strong>åˆ‡åˆ†è§„åˆ™</strong>ï¼š</p>
<ol>
<li>æœ€ä¼˜ï¼š 3 ã€‚æŠŠç»³å­å°½å¯èƒ½åˆ‡ä¸ºå¤šä¸ªé•¿åº¦ä¸º 3 çš„ç‰‡æ®µï¼Œç•™ä¸‹çš„æœ€åä¸€æ®µç»³å­çš„é•¿åº¦å¯èƒ½ä¸º 0,1,2 ä¸‰ç§æƒ…å†µã€‚</li>
<li>æ¬¡ä¼˜ï¼š 2 ã€‚è‹¥æœ€åä¸€æ®µç»³å­é•¿åº¦ä¸º 2 ï¼›åˆ™ä¿ç•™ï¼Œä¸å†æ‹†ä¸º 1+1 ã€‚</li>
<li>æœ€å·®ï¼š 1 ã€‚è‹¥æœ€åä¸€æ®µç»³å­é•¿åº¦ä¸º 1 ï¼›åˆ™åº”æŠŠä¸€ä»½ 3 + 1 æ›¿æ¢ä¸º 2 + 2ï¼Œå› ä¸º 2Ã—2 &gt; 3Ã—1ã€‚</li>
</ol>
<p><strong>ç®—æ³•æµç¨‹</strong>ï¼š</p>
<ol>
<li>å½“ n â‰¤ 3 æ—¶ï¼ŒæŒ‰ç…§è§„åˆ™åº”ä¸åˆ‡åˆ†ï¼Œä½†ç”±äºé¢˜ç›®è¦æ±‚å¿…é¡»å‰ªæˆ m &gt; 1 æ®µï¼Œå› æ­¤å¿…é¡»å‰ªå‡ºä¸€æ®µé•¿åº¦ä¸º 1 çš„ç»³å­ï¼Œå³è¿”å› n - 1 ã€‚</li>
<li>å½“ n &gt; 3 æ—¶ï¼Œæ±‚ n é™¤ä»¥ 3 çš„ æ•´æ•°éƒ¨åˆ† a å’Œ ä½™æ•°éƒ¨åˆ† b ï¼ˆå³ n &#x3D; 3a + b ï¼‰ï¼Œå¹¶åˆ†ä¸ºä»¥ä¸‹ä¸‰ç§æƒ…å†µï¼ˆè®¾æ±‚ä½™æ“ä½œç¬¦å·ä¸º â€œâŠ™â€ ï¼‰ï¼š<ul>
<li>å½“ b &#x3D; 0 æ—¶ï¼Œç›´æ¥è¿”å› 3 ^ a âŠ™ 1000000007ï¼›</li>
<li>å½“ b &#x3D; 1 æ—¶ï¼Œè¦å°†ä¸€ä¸ª 1 + 3 è½¬æ¢ä¸º 2 + 2ï¼Œå› æ­¤è¿”å› 3^(aâˆ’1) Ã— 4 âŠ™ 1000000007ï¼›</li>
<li>å½“ b &#x3D; 2b&#x3D;2 æ—¶ï¼Œè¿”å› 3^a Ã— 2 âŠ™ 1000000007ã€‚</li>
</ul>
</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1f9adeaa7b9fff0ab19c9d29e3a8f98749011d22dc162d67bdbe223f1a38119f-Picture1-16715070085052.png" alt="Picture1.png"></p>
<p><strong>å¤§æ•°æ±‚ä½™è§£æ³•</strong>ï¼š</p>
<p><strong>å¤§æ•°è¶Šç•Œ</strong>ï¼š å½“ a å¢å¤§æ—¶ï¼Œæœ€åè¿”å›çš„ 3^a å¤§å°ä»¥æŒ‡æ•°çº§åˆ«å¢é•¿ï¼Œå¯èƒ½è¶…å‡º int32 ç”šè‡³ int64 çš„å–å€¼èŒƒå›´ï¼Œå¯¼è‡´è¿”å›å€¼é”™è¯¯ã€‚</p>
<p><strong>å¤§æ•°æ±‚ä½™é—®é¢˜</strong>ï¼š åœ¨ä»…ä½¿ç”¨ int32 ç±»å‹å­˜å‚¨çš„å‰æä¸‹ï¼Œæ­£ç¡®è®¡ç®— x^a å¯¹ p æ±‚ä½™ï¼ˆå³ x^a âŠ™p ï¼‰çš„å€¼ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š å¾ªç¯æ±‚ä½™ ã€ å¿«é€Ÿå¹‚æ±‚ä½™ ï¼Œå…¶ä¸­åè€…çš„æ—¶é—´å¤æ‚åº¦æ›´ä½ï¼Œä¸¤ç§æ–¹æ³•å‡åŸºäºä»¥ä¸‹æ±‚ä½™è¿ç®—è§„åˆ™æ¨å‡ºï¼š<br>(xy)âŠ™p&#x3D;[(xâŠ™p)(yâŠ™p)]âŠ™p</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/image-20221220113438247.png" alt="image-20221220113438247"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/image-20221220113610097.png" alt="image-20221220113610097"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/image-20221220113729433.png" alt="image-20221220113729433"></p>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<blockquote>
<p>ä»¥ä¸‹ä¸º äºŒåˆ†æ±‚ä½™æ³• çš„å¤æ‚åº¦ã€‚</p>
</blockquote>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(logN) ï¼š å…¶ä¸­ N&#x3D;a ï¼ŒäºŒåˆ†æ³•ä¸ºå¯¹æ•°çº§åˆ«å¤æ‚åº¦ï¼Œæ¯è½®ä»…æœ‰æ±‚æ•´ã€æ±‚ä½™ã€æ¬¡æ–¹è¿ç®—ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(1) ï¼š å˜é‡ a, b, p, x, rem ä½¿ç”¨å¸¸æ•°å¤§å°é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<p>Java&#x2F;C++ ä»£ç ï¼š æ ¹æ®äºŒåˆ†æ³•è®¡ç®—åŸç†ï¼Œè‡³å°‘è¦ä¿è¯å˜é‡ x å’Œ rem å¯ä»¥æ­£ç¡®å­˜å‚¨ 1000000007^2ï¼Œè€Œ 2^64 &gt; 1000000007^2 &gt; 2^32ï¼Œå› æ­¤æˆ‘ä»¬é€‰å– long ç±»å‹ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">cuttingRope</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(n &lt;= <span class="number">3</span>) <span class="keyword">return</span> n - <span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> n % <span class="number">3</span>, p = <span class="number">1000000007</span>;</span><br><span class="line">        <span class="type">long</span> <span class="variable">rem</span> <span class="operator">=</span> <span class="number">1</span>, x = <span class="number">3</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> n / <span class="number">3</span> - <span class="number">1</span>; a &gt; <span class="number">0</span>; a /= <span class="number">2</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span>(a % <span class="number">2</span> == <span class="number">1</span>) rem = (rem * x) % p;</span><br><span class="line">            x = (x * x) % p;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(b == <span class="number">0</span>) <span class="keyword">return</span> (<span class="type">int</span>)(rem * <span class="number">3</span> % p);</span><br><span class="line">        <span class="keyword">if</span>(b == <span class="number">1</span>) <span class="keyword">return</span> (<span class="type">int</span>)(rem * <span class="number">4</span> % p);</span><br><span class="line">        <span class="keyword">return</span> (<span class="type">int</span>)(rem * <span class="number">6</span> % p);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="åŠ¨æ€è§„åˆ’-6"><a href="#åŠ¨æ€è§„åˆ’-6" class="headerlink" title="åŠ¨æ€è§„åˆ’"></a>åŠ¨æ€è§„åˆ’</h4><p>ç”¨BigInteger</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.math.BigInteger;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">cuttingRope</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">        BigInteger[] dp = <span class="keyword">new</span> <span class="title class_">BigInteger</span>[n + <span class="number">1</span>];</span><br><span class="line">         Arrays.fill(dp, BigInteger.valueOf(<span class="number">1</span>));</span><br><span class="line">        <span class="comment">// dp[1] = BigInteger.valueOf(1);</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">3</span>; i &lt; n + <span class="number">1</span>; i++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">1</span>; j &lt; i; j++)&#123;</span><br><span class="line">                dp[i] = dp[i].max(BigInteger.valueOf(j * (i - j))).max(dp[i - j].multiply(BigInteger.valueOf(j)));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[n].mod(BigInteger.valueOf(<span class="number">1000000007</span>)).intValue();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="13-5ã€å‰‘æŒ‡-Offer-57-II-å’Œä¸º-s-çš„è¿ç»­æ­£æ•°åºåˆ—"><a href="#13-5ã€å‰‘æŒ‡-Offer-57-II-å’Œä¸º-s-çš„è¿ç»­æ­£æ•°åºåˆ—" class="headerlink" title="13.5ã€å‰‘æŒ‡ Offer 57 - II. å’Œä¸º s çš„è¿ç»­æ­£æ•°åºåˆ—"></a>13.5ã€å‰‘æŒ‡ Offer 57 - II. å’Œä¸º s çš„è¿ç»­æ­£æ•°åºåˆ—</h3><p>è¾“å…¥ä¸€ä¸ªæ­£æ•´æ•° <code>target</code> ï¼Œè¾“å‡ºæ‰€æœ‰å’Œä¸º <code>target</code> çš„è¿ç»­æ­£æ•´æ•°åºåˆ—ï¼ˆè‡³å°‘å«æœ‰ä¸¤ä¸ªæ•°ï¼‰ã€‚</p>
<p>åºåˆ—å†…çš„æ•°å­—ç”±å°åˆ°å¤§æ’åˆ—ï¼Œä¸åŒåºåˆ—æŒ‰ç…§é¦–ä¸ªæ•°å­—ä»å°åˆ°å¤§æ’åˆ—ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼štarget = 9</span><br><span class="line">è¾“å‡ºï¼š[[2,3,4],[4,5]]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼štarget = 15</span><br><span class="line">è¾“å‡ºï¼š[[1,2,3,4,5],[4,5,6],[7,8]]</span><br></pre></td></tr></table></figure>



<p><strong>é™åˆ¶ï¼š</strong></p>
<ul>
<li><code>1 &lt;= target &lt;= 10^5</code></li>
</ul>
<p>Related Topics</p>
<p>æ•°å­¦</p>
<p>åŒæŒ‡é’ˆ</p>
<p>æšä¸¾</p>
<p>ğŸ‘ 495</p>
<p>ğŸ‘ 0</p>
<h4 id="åŒæŒ‡é’ˆ-1"><a href="#åŒæŒ‡é’ˆ-1" class="headerlink" title="åŒæŒ‡é’ˆ"></a>åŒæŒ‡é’ˆ</h4><p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>åˆ©ç”¨åŒæŒ‡é’ˆç»´æŠ¤ä¸€ä¸ªåŒºé—´æ¥è®¡ç®—å’Œå€¼ï¼Œæ ¹æ® å’Œå€¼ ä¸ target çš„å¤§å°ï¼Œæ¥å¢ç¼©åŒºé—´ã€‚å½“ å’Œå€¼ å’Œ target ç›¸ç­‰æ—¶ï¼ŒæŠŠæ•°ç»„åŠ å…¥åˆ°ç»“æœé›†ã€‚ </p>
<p>ç®—æ³•æµç¨‹ï¼š</p>
<ol>
<li><p>å½“ target &lt;&#x3D; 2 æ—¶ï¼Œä¸æ»¡è¶³é¢˜æ„ï¼Œç›´æ¥è¿”å›ã€‚</p>
</li>
<li><p>slow è¡¨ç¤ºå·¦è¾¹ç•Œï¼Œ faster è¡¨ç¤ºæœ‰åŒºé—´, sum ç»´æŠ¤åŒºé—´çš„å’Œå€¼ã€‚å½“ slow &lt; faster å¹¶ä¸”  faster &lt;&#x3D; target &#x2F; 2 + 1å¼€å§‹æœç´¢ã€‚</p>
</li>
<li><p>sum &lt; target æ‰©å³åŒºé—´, faster++, sum +&#x3D; faster;</p>
</li>
<li><p>sum &gt; target ç¼©å·¦åŒºé—´, sum -&#x3D; slow,slow++ï¼›</p>
</li>
<li><p>è®°å½•æ•°ç»„</p>
</li>
<li><p>è¿”å›resã€‚</p>
</li>
</ol>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦O(N)</li>
<li>ç©ºé—´å¤æ‚åº¦O(N)</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span>[][] findContinuousSequence(<span class="type">int</span> target) &#123;</span><br><span class="line">    <span class="keyword">if</span> (target &lt;= <span class="number">2</span>) <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">int</span>[][] &#123;&#125;;</span><br><span class="line">    List&lt;<span class="type">int</span>[]&gt; res = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    <span class="type">int</span> <span class="variable">slow</span> <span class="operator">=</span> <span class="number">1</span>; <span class="comment">// å·¦è¾¹ç•Œ</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">faster</span> <span class="operator">=</span> <span class="number">2</span>; <span class="comment">// å³è¾¹ç•Œ</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">3</span>;  <span class="comment">// ç»´æŠ¤çš„åŒºé—´çš„å’Œ</span></span><br><span class="line">    <span class="keyword">while</span> (faster &lt;= target / <span class="number">2</span> + <span class="number">1</span> &amp;&amp; slow &lt; faster) &#123;</span><br><span class="line">        <span class="keyword">if</span> (sum &lt; target) &#123; <span class="comment">// æ‰©å³åŒºé—´</span></span><br><span class="line">            sum += ++faster;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (sum &gt; target) &#123; <span class="comment">// ç¼©å·¦åŒºé—´</span></span><br><span class="line">            sum -= slow++;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123; <span class="comment">// åŠ å…¥æ•°ç»„</span></span><br><span class="line">            <span class="type">int</span>[] temp = <span class="keyword">new</span> <span class="title class_">int</span>[faster - slow + <span class="number">1</span>];</span><br><span class="line">            temp[<span class="number">0</span>] = slow;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; temp.length; i++) &#123;</span><br><span class="line">                temp[i] = temp[i - <span class="number">1</span>] + <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            res.add(temp);</span><br><span class="line">            sum -= slow++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res.toArray(<span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">0</span>][]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="æ•°å­¦-1"><a href="#æ•°å­¦-1" class="headerlink" title="æ•°å­¦"></a>æ•°å­¦</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/image-20221222112119650.png" alt="image-20221222112119650"></p>
<blockquote>
<p>å½“ target &#x3D; 9 æ—¶ï¼Œä»¥ä¸Šæ±‚è§£æµç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1611494538-VUzxtS-Picture1.png" alt="Picture1.png"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/image-20221222112427812.png" alt="image-20221222112427812"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[][] findContinuousSequence(<span class="type">int</span> target) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">        <span class="type">double</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">2.0</span>;</span><br><span class="line">        List&lt;<span class="type">int</span>[]&gt; res = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">while</span>(i &lt; j) &#123;</span><br><span class="line">            j = (-<span class="number">1</span> + Math.sqrt(<span class="number">1</span> + <span class="number">4</span> * (<span class="number">2</span> * target + (<span class="type">long</span>) i * i - i))) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span>(j == (<span class="type">int</span>)j) &#123;</span><br><span class="line">                <span class="type">int</span>[] ans = <span class="keyword">new</span> <span class="title class_">int</span>[(<span class="type">int</span>)j - i + <span class="number">1</span>];</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> i; k &lt;= (<span class="type">int</span>)j; k++)</span><br><span class="line">                    ans[k - i] = k;</span><br><span class="line">                res.add(ans);</span><br><span class="line">            &#125;</span><br><span class="line">            i++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res.toArray(<span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">0</span>][]);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="13-6ã€å‰‘æŒ‡-Offer-62-åœ†åœˆä¸­æœ€åå‰©ä¸‹çš„æ•°å­—"><a href="#13-6ã€å‰‘æŒ‡-Offer-62-åœ†åœˆä¸­æœ€åå‰©ä¸‹çš„æ•°å­—" class="headerlink" title="13.6ã€å‰‘æŒ‡ Offer 62. åœ†åœˆä¸­æœ€åå‰©ä¸‹çš„æ•°å­—"></a>13.6ã€å‰‘æŒ‡ Offer 62. åœ†åœˆä¸­æœ€åå‰©ä¸‹çš„æ•°å­—</h3><p>0,1,Â·Â·Â·,n-1è¿™nä¸ªæ•°å­—æ’æˆä¸€ä¸ªåœ†åœˆï¼Œä»æ•°å­—0å¼€å§‹ï¼Œæ¯æ¬¡ä»è¿™ä¸ªåœ†åœˆé‡Œåˆ é™¤ç¬¬mä¸ªæ•°å­—ï¼ˆåˆ é™¤åä»ä¸‹ä¸€ä¸ªæ•°å­—å¼€å§‹è®¡æ•°ï¼‰ã€‚æ±‚å‡ºè¿™ä¸ªåœ†åœˆé‡Œå‰©ä¸‹çš„æœ€åä¸€ä¸ªæ•°å­—ã€‚</p>
<p>ä¾‹å¦‚ï¼Œ0ã€1ã€2ã€3ã€4è¿™5ä¸ªæ•°å­—ç»„æˆä¸€ä¸ªåœ†åœˆï¼Œä»æ•°å­—0å¼€å§‹æ¯æ¬¡åˆ é™¤ç¬¬3ä¸ªæ•°å­—ï¼Œåˆ™åˆ é™¤çš„å‰4ä¸ªæ•°å­—ä¾æ¬¡æ˜¯2ã€0ã€4ã€1ï¼Œå› æ­¤æœ€åå‰©ä¸‹çš„æ•°å­—æ˜¯3ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: n = 5, m = 3</span><br><span class="line">è¾“å‡º: 3</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: n = 10, m = 17</span><br><span class="line">è¾“å‡º: 2</span><br></pre></td></tr></table></figure>



<p><strong>é™åˆ¶ï¼š</strong></p>
<ul>
<li><code>1 &lt;= n &lt;= 10^5</code></li>
<li><code>1 &lt;= m &lt;= 10^6</code></li>
</ul>
<p>Related Topics</p>
<p>é€’å½’</p>
<p>æ•°å­¦</p>
<p>ğŸ‘ 716</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>æ¨¡æ‹Ÿæ•´ä¸ªåˆ é™¤è¿‡ç¨‹æœ€ç›´è§‚ï¼Œå³æ„å»ºä¸€ä¸ªé•¿åº¦ä¸º n çš„é“¾è¡¨ï¼Œå„èŠ‚ç‚¹å€¼ä¸ºå¯¹åº”çš„é¡ºåºç´¢å¼•ï¼›æ¯è½®åˆ é™¤ç¬¬ m ä¸ªèŠ‚ç‚¹ï¼Œç›´è‡³é“¾è¡¨é•¿åº¦ä¸º 1 æ—¶ç»“æŸï¼Œè¿”å›æœ€åå‰©ä½™èŠ‚ç‚¹çš„å€¼å³å¯ã€‚</p>
<p>æ¨¡æ‹Ÿæ³•éœ€è¦å¾ªç¯åˆ é™¤ n - 1 è½®ï¼Œæ¯è½®åœ¨é“¾è¡¨ä¸­å¯»æ‰¾åˆ é™¤èŠ‚ç‚¹éœ€è¦ m æ¬¡è®¿é—®æ“ä½œï¼ˆé“¾è¡¨çº¿æ€§éå†ï¼‰ï¼Œå› æ­¤æ€»ä½“æ—¶é—´å¤æ‚åº¦ä¸º O(nm) ã€‚é¢˜ç›®ç»™å®šçš„ m, n å–å€¼èŒƒå›´å¦‚ä¸‹æ‰€ç¤ºï¼Œè§‚å¯Ÿå¯çŸ¥æ­¤æ—¶é—´å¤æ‚åº¦æ˜¯ä¸å¯æ¥å—çš„ã€‚<br>                                1â‰¤nâ‰¤10 ^5</p>
<p>â€‹								1â‰¤mâ‰¤10 ^6</p>
<blockquote>
<p>å®é™…ä¸Šï¼Œæœ¬é¢˜æ˜¯è‘—åçš„ â€œçº¦ç‘Ÿå¤«ç¯â€ é—®é¢˜ï¼Œå¯ä½¿ç”¨ <strong>åŠ¨æ€è§„åˆ’</strong> è§£å†³ã€‚</p>
</blockquote>
<p>è¾“å…¥ n, m ï¼Œè®°æ­¤çº¦ç‘Ÿå¤«ç¯é—®é¢˜ä¸º ã€Œn, m é—®é¢˜ã€ ï¼Œè®¾è§£ï¼ˆå³æœ€åç•™ä¸‹çš„æ•°å­—ï¼‰ä¸º f(n) ï¼Œåˆ™æœ‰ï¼š</p>
<ul>
<li>ã€Œn, m é—®é¢˜ã€ï¼šæ•°å­—ç¯ä¸º 0, 1, 2, â€¦, n - 1 ï¼Œè§£ä¸º f(n)ï¼›</li>
<li>ã€Œn-1, m é—®é¢˜ã€ï¼šæ•°å­—ç¯ä¸º 0, 1, 2, â€¦, n - 2 ï¼Œè§£ä¸º f(n-1) ï¼›<br>ä»¥æ­¤ç±»æ¨â€¦â€¦</li>
</ul>
<p>è¯·æ³¨æ„ï¼Œæ•°å­—ç¯æ˜¯ <strong>é¦–å°¾ç›¸æ¥</strong> çš„ï¼Œä¸ºæ–¹ä¾¿è¡Œæ–‡ï¼Œæœ¬æ–‡ä½¿ç”¨åˆ—è¡¨å½¢å¼è¡¨ç¤ºã€‚</p>
<p>å¯¹äºã€Œn, m é—®é¢˜ã€ï¼Œé¦–è½®åˆ é™¤ç¯ä¸­ç¬¬ m ä¸ªæ•°å­—åï¼Œå¾—åˆ°ä¸€ä¸ªé•¿åº¦ä¸º n - 1 çš„æ•°å­—ç¯ã€‚ç”±äºæœ‰å¯èƒ½ m &gt; n ï¼Œå› æ­¤åˆ é™¤çš„æ•°å­—ä¸º (m - 1) % n ï¼Œåˆ é™¤åçš„æ•°å­—ç¯ä»ä¸‹ä¸ªæ•°å­—ï¼ˆå³ m % nï¼‰å¼€å§‹ï¼Œè®¾ t &#x3D; m % n ï¼Œå¯å¾—æ•°å­—ç¯ï¼š</p>
<p>t, t + 1, t + 2, â€¦, 0, 1, â€¦, t - 3, t - 2</p>
<p>åˆ é™¤ä¸€è½®åçš„æ•°å­—ç¯ä¹Ÿå˜ä¸ºä¸€ä¸ªã€Œn-1, m é—®é¢˜ã€ï¼Œè§‚å¯Ÿä»¥ä¸‹æ•°å­—ç¼–å·å¯¹åº”å…³ç³»ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/image-20221222113836052.png" alt="image-20221222113836052"></p>
<p>è®¾ã€Œn-1, m é—®é¢˜ã€æŸæ•°å­—ä¸º x ï¼Œåˆ™å¯å¾—é€’æ¨å…³ç³»ï¼š<br>                                xâ†’(x+t)%n</p>
<p>æ¢è€Œè¨€ä¹‹ï¼Œè‹¥å·²çŸ¥ã€Œn-1, m é—®é¢˜ã€çš„è§£ f(n - 1) ï¼Œåˆ™å¯é€šè¿‡ä»¥ä¸Šå…¬å¼è®¡ç®—å¾—åˆ°ã€Œn, m é—®é¢˜ã€çš„è§£ f(n) ï¼Œå³ï¼š<br>f(n)&#x3D;(f(nâˆ’1)+t)%n<br>    &#x3D;(f(nâˆ’1)+m%n)%n<br>    &#x3D;(f(nâˆ’1)+m)%n</p>
<blockquote>
<p>ä»¥ n &#x3D; 5 , m &#x3D; 3 çš„ç¤ºä¾‹å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1615096532-kUoKUe-Picture1.png" alt="Picture1.png"></p>
<p>f(n) å¯ç”± f(n - 1) å¾—åˆ°ï¼Œf(n - 1) å¯ç”± f(n - 2) å¾—åˆ°ï¼Œâ€¦â€¦ï¼Œf(2) å¯ç”± f(1) å¾—åˆ°ï¼›å› æ­¤ï¼Œè‹¥ç»™å®š f(1) çš„å€¼ï¼Œå°±å¯ä»¥é€’æ¨è‡³ä»»æ„ f(n) ã€‚è€Œã€Œ1, m é—®é¢˜ã€çš„è§£ f(1) &#x3D; 0 æ’æˆç«‹ï¼Œå³æ— è®º m ä¸ºä½•å€¼ï¼Œé•¿åº¦ä¸º 1 çš„æ•°å­—ç¯ç•™ä¸‹çš„æ˜¯ä¸€å®šæ˜¯æ•°å­— 0 ã€‚</p>
<blockquote>
<p>ä»¥ä¸Šæ•°å­¦æ¨å¯¼æœ¬è´¨æ˜¯å¾—å‡ºåŠ¨æ€è§„åˆ’çš„ è½¬ç§»æ–¹ç¨‹ å’Œ åˆå§‹çŠ¶æ€ ã€‚</p>
</blockquote>
<p><strong>åŠ¨æ€è§„åˆ’è§£æ</strong>ï¼š</p>
<ol>
<li><p>çŠ¶æ€å®šä¹‰ï¼š è®¾ã€Œi, m é—®é¢˜ã€çš„è§£ä¸º dp[i] ï¼›</p>
</li>
<li><p>è½¬ç§»æ–¹ç¨‹ï¼š é€šè¿‡ä»¥ä¸‹å…¬å¼å¯ä» dp[i - 1] é€’æ¨å¾—åˆ° dp[i] ï¼›dp[i] &#x3D; (dp[i - 1] + m) % i</p>
</li>
<li><p>åˆå§‹çŠ¶æ€ï¼šã€Œ1, m é—®é¢˜ã€çš„è§£æ’ä¸º 0 ï¼Œå³ dp[1] &#x3D; 0 ï¼›</p>
</li>
<li><p>è¿”å›å€¼ï¼š è¿”å›ã€Œn, m é—®é¢˜ã€çš„è§£ dp[n] ï¼›</p>
</li>
</ol>
<blockquote>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œä¸º n &#x3D; 5 , m &#x3D; 3 æ—¶çš„çŠ¶æ€è½¬ç§»å’Œå¯¹åº”çš„æ¨¡æ‹Ÿåˆ é™¤è¿‡ç¨‹ã€‚</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1613584667-AQpTlK-Picture2.png" alt="Picture2.png"></p>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(n) ï¼š çŠ¶æ€è½¬ç§»å¾ªç¯ n - 1 æ¬¡ä½¿ç”¨ O(n) æ—¶é—´ï¼ŒçŠ¶æ€è½¬ç§»æ–¹ç¨‹è®¡ç®—ä½¿ç”¨ O(1) æ—¶é—´ï¼›</li>
<li>ç©ºé—´å¤æ‚åº¦ O(1) ï¼š ä½¿ç”¨å¸¸æ•°å¤§å°çš„é¢å¤–ç©ºé—´ï¼›</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">lastRemaining</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span> m)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">2</span>; i &lt;= n; i++) &#123;</span><br><span class="line">            x = (x + m) % i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="13-7ã€å‰‘æŒ‡-Offer-43-1ï½n-æ•´æ•°ä¸­-1-å‡ºç°çš„æ¬¡æ•°"><a href="#13-7ã€å‰‘æŒ‡-Offer-43-1ï½n-æ•´æ•°ä¸­-1-å‡ºç°çš„æ¬¡æ•°" class="headerlink" title="13.7ã€å‰‘æŒ‡ Offer 43. 1ï½n æ•´æ•°ä¸­ 1 å‡ºç°çš„æ¬¡æ•°"></a>13.7ã€å‰‘æŒ‡ Offer 43. 1ï½n æ•´æ•°ä¸­ 1 å‡ºç°çš„æ¬¡æ•°</h3><p>è¾“å…¥ä¸€ä¸ªæ•´æ•° <code>n</code> ï¼Œæ±‚1ï½nè¿™nä¸ªæ•´æ•°çš„åè¿›åˆ¶è¡¨ç¤ºä¸­1å‡ºç°çš„æ¬¡æ•°ã€‚</p>
<p>ä¾‹å¦‚ï¼Œè¾“å…¥12ï¼Œ1ï½12è¿™äº›æ•´æ•°ä¸­åŒ…å«1 çš„æ•°å­—æœ‰1ã€10ã€11å’Œ12ï¼Œ1ä¸€å…±å‡ºç°äº†5æ¬¡ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = 12</span><br><span class="line">è¾“å‡ºï¼š5</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = 13</span><br><span class="line">è¾“å‡ºï¼š6</span><br></pre></td></tr></table></figure>



<p><strong>é™åˆ¶ï¼š</strong></p>
<ul>
<li><code>1 &lt;= n &lt; 2^31</code></li>
</ul>
<p>æ³¨æ„ï¼šæœ¬é¢˜ä¸ä¸»ç«™ 233 é¢˜ç›¸åŒï¼š<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/number-of-digit-one/">https://leetcode-cn.com/problems/number-of-digit-one/</a></p>
<p>Related Topics</p>
<p>é€’å½’</p>
<p>æ•°å­¦</p>
<p>åŠ¨æ€è§„åˆ’</p>
<p>ğŸ‘ 387</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>å°† 1 ~ n çš„ä¸ªä½ã€åä½ã€ç™¾ä½ã€â€¦çš„ 1 å‡ºç°æ¬¡æ•°ç›¸åŠ ï¼Œå³ä¸º 1 å‡ºç°çš„æ€»æ¬¡æ•°ã€‚</p>
<p>è®¾æ•°å­— n æ˜¯ x ä½æ•°ï¼Œè®° n çš„ç¬¬ i ä½ä¸º ni  ï¼Œåˆ™å¯å°† n å†™ä¸º nx nx-1 â€¦n2 n1 ï¼›</p>
<p>æœ¬æ–‡åè¯è§„å®šå¦‚ä¸‹ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/image-20221224143843898.png" alt="image-20221224143843898"></p>
<p>æŸä½ä¸­ 1 å‡ºç°æ¬¡æ•°çš„è®¡ç®—æ–¹æ³•ï¼š</p>
<p>æ ¹æ®å½“å‰ä½ cur å€¼çš„ä¸åŒï¼Œåˆ†ä¸ºä»¥ä¸‹ä¸‰ç§æƒ…å†µï¼š</p>
<ol>
<li>å½“ cur &#x3D; 0 æ—¶ï¼š æ­¤ä½ 1 çš„å‡ºç°æ¬¡æ•°åªç”±é«˜ä½ high å†³å®šï¼Œè®¡ç®—å…¬å¼ä¸ºï¼š<br>highÃ—digit</li>
</ol>
<blockquote>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œä»¥ n &#x3D; 2304 ä¸ºä¾‹ï¼Œæ±‚ digit &#x3D; 10 ï¼ˆå³åä½ï¼‰çš„ 1 å‡ºç°æ¬¡æ•°ã€‚</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1599887431-cVmcVA-Picture1.png" alt="Picture1.png"></p>
<ol start="2">
<li>å½“ cur &#x3D; 1 æ—¶ï¼š æ­¤ä½ 1 çš„å‡ºç°æ¬¡æ•°ç”±é«˜ä½ high å’Œä½ä½ low å†³å®šï¼Œè®¡ç®—å…¬å¼ä¸ºï¼š</li>
</ol>
<p>high<em>Ã—</em>digit*+*low+1</p>
<blockquote>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œä»¥ n &#x3D; 2314 ä¸ºä¾‹ï¼Œæ±‚ digit &#x3D; 1 ï¼ˆå³åä½ï¼‰çš„ 1 å‡ºç°æ¬¡æ•°ã€‚</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1599887431-HAAvVp-Picture2.png" alt="Picture2.png"></p>
<ol start="3">
<li>å½“ cur &#x3D; 2, 3,â€¦, 9 æ—¶ï¼š æ­¤ä½ 1 çš„å‡ºç°æ¬¡æ•°åªç”±é«˜ä½ high å†³å®šï¼Œè®¡ç®—å…¬å¼ä¸ºï¼š</li>
</ol>
<p>(<em>high</em>+1)Ã—digit</p>
<blockquote>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œä»¥ n &#x3D; 2324 ä¸ºä¾‹ï¼Œæ±‚ digit &#x3D; 10 ï¼ˆå³åä½ï¼‰çš„ 1 å‡ºç°æ¬¡æ•°ã€‚</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1599887431-djUZTe-Picture3.png" alt="Picture3.png"></p>
<p>å˜é‡é€’æ¨å…¬å¼ï¼š<br>è®¾è®¡æŒ‰ç…§ â€œä¸ªä½ã€åä½ã€â€¦â€ çš„é¡ºåºè®¡ç®—ï¼Œåˆ™ high &#x2F; cur &#x2F; low &#x2F; digit åº”åˆå§‹åŒ–ä¸ºï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">high</span> <span class="operator">=</span> n / <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">cur</span> <span class="operator">=</span> n % <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">low</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">digit</span> <span class="operator">=</span> <span class="number">1</span>; <span class="comment">// ä¸ªä½</span></span><br></pre></td></tr></table></figure>

<p>å› æ­¤ï¼Œä»ä¸ªä½åˆ°æœ€é«˜ä½çš„å˜é‡é€’æ¨å…¬å¼ä¸ºï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span>(high != <span class="number">0</span> || cur != <span class="number">0</span>) &#123; <span class="comment">// å½“ high å’Œ cur åŒæ—¶ä¸º 0 æ—¶ï¼Œè¯´æ˜å·²ç»è¶Šè¿‡æœ€é«˜ä½ï¼Œå› æ­¤è·³å‡º</span></span><br><span class="line">    low += cur * digit; <span class="comment">// å°† cur åŠ å…¥ low ï¼Œç»„æˆä¸‹è½® low</span></span><br><span class="line">    cur = high % <span class="number">10</span>; <span class="comment">// ä¸‹è½® cur æ˜¯æœ¬è½® high çš„æœ€ä½ä½</span></span><br><span class="line">    high /= <span class="number">10</span>; <span class="comment">// å°†æœ¬è½® high æœ€ä½ä½åˆ é™¤ï¼Œå¾—åˆ°ä¸‹è½® high</span></span><br><span class="line">    digit *= <span class="number">10</span>; <span class="comment">// ä½å› å­æ¯è½® Ã— 10</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(logn) ï¼š å¾ªç¯å†…çš„è®¡ç®—æ“ä½œä½¿ç”¨ O(1) æ—¶é—´ï¼›å¾ªç¯æ¬¡æ•°ä¸ºæ•°å­— n çš„ä½æ•°ï¼Œå³ logn ï¼Œå› æ­¤å¾ªç¯ä½¿ç”¨ O(logn) æ—¶é—´ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(1)O(1) ï¼š å‡ ä¸ªå˜é‡ä½¿ç”¨å¸¸æ•°å¤§å°çš„é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1599886793-BBSKuG-Picture8.png" alt="img"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">countDigitOne</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">digit</span> <span class="operator">=</span> <span class="number">1</span>, res = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">high</span> <span class="operator">=</span> n / <span class="number">10</span>, cur = n % <span class="number">10</span>, low = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(high != <span class="number">0</span> || cur != <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span>(cur == <span class="number">0</span>) res += high * digit;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(cur == <span class="number">1</span>) res += high * digit + low + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span> res += (high + <span class="number">1</span>) * digit;</span><br><span class="line">            low += cur * digit;</span><br><span class="line">            cur = high % <span class="number">10</span>;</span><br><span class="line">            high /= <span class="number">10</span>;</span><br><span class="line">            digit *= <span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="13-8ã€å‰‘æŒ‡-Offer-44-æ•°å­—åºåˆ—ä¸­æŸä¸€ä½çš„æ•°å­—"><a href="#13-8ã€å‰‘æŒ‡-Offer-44-æ•°å­—åºåˆ—ä¸­æŸä¸€ä½çš„æ•°å­—" class="headerlink" title="13.8ã€å‰‘æŒ‡ Offer 44. æ•°å­—åºåˆ—ä¸­æŸä¸€ä½çš„æ•°å­—"></a>13.8ã€å‰‘æŒ‡ Offer 44. æ•°å­—åºåˆ—ä¸­æŸä¸€ä½çš„æ•°å­—</h3><p>æ•°å­—ä»¥0123456789101112131415â€¦çš„æ ¼å¼åºåˆ—åŒ–åˆ°ä¸€ä¸ªå­—ç¬¦åºåˆ—ä¸­ã€‚åœ¨è¿™ä¸ªåºåˆ—ä¸­ï¼Œç¬¬5ä½ï¼ˆä»ä¸‹æ ‡0å¼€å§‹è®¡æ•°ï¼‰æ˜¯5ï¼Œç¬¬13ä½æ˜¯1ï¼Œç¬¬19ä½æ˜¯4ï¼Œç­‰ç­‰ã€‚</p>
<p>è¯·å†™ä¸€ä¸ªå‡½æ•°ï¼Œæ±‚ä»»æ„ç¬¬nä½å¯¹åº”çš„æ•°å­—ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = 3</span><br><span class="line">è¾“å‡ºï¼š3</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = 11</span><br><span class="line">è¾“å‡ºï¼š0</span><br></pre></td></tr></table></figure>



<p><strong>é™åˆ¶ï¼š</strong></p>
<ul>
<li><code>0 &lt;= n &lt; 2^31</code></li>
</ul>
<p>æ³¨æ„ï¼šæœ¬é¢˜ä¸ä¸»ç«™ 400 é¢˜ç›¸åŒï¼š<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/nth-digit/">https://leetcode-cn.com/problems/nth-digit/</a></p>
<p>Related Topics</p>
<p>æ•°å­¦</p>
<p>äºŒåˆ†æŸ¥æ‰¾</p>
<p>ğŸ‘ 301</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>åè¯è§„å®šå¦‚ä¸‹ï¼š</p>
<ol>
<li>å°† 101112 â‹¯ ä¸­çš„æ¯ä¸€ä½ç§°ä¸º <strong>æ•°ä½</strong> ï¼Œè®°ä¸º n ï¼›</li>
<li>å°† 10, 11, 12, â‹¯ ç§°ä¸º <strong>æ•°å­—</strong> ï¼Œè®°ä¸º num ï¼›</li>
<li>æ•°å­— 10 æ˜¯ä¸€ä¸ªä¸¤ä½æ•°ï¼Œç§°æ­¤æ•°å­—çš„ <strong>ä½æ•°</strong> ä¸º 2 ï¼Œè®°ä¸º digit ï¼›</li>
<li>æ¯ digit ä½æ•°çš„èµ·å§‹æ•°å­—ï¼ˆå³ï¼š1, 10, 100, â‹¯ï¼‰ï¼Œè®°ä¸º start ï¼›</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1599888213-CYhLfm-Picture1.png" alt="Picture1.png"></p>
<p>è§‚å¯Ÿä¸Šè¡¨ï¼Œå¯æ¨å‡ºå„ digit ä¸‹çš„æ•°ä½æ•°é‡ count çš„è®¡ç®—å…¬å¼ï¼š<br>count&#x3D;9Ã—startÃ—digit</p>
<p>æ ¹æ®ä»¥ä¸Šåˆ†æï¼Œå¯å°†æ±‚è§£åˆ†ä¸ºä¸‰æ­¥ï¼š</p>
<ol>
<li><p>ç¡®å®š n æ‰€åœ¨ <strong>æ•°å­—</strong> çš„ <strong>ä½æ•°</strong> ï¼Œè®°ä¸º digit ï¼›</p>
</li>
<li><p>ç¡®å®š n æ‰€åœ¨çš„ <strong>æ•°å­—</strong> ï¼Œè®°ä¸º num ï¼›</p>
</li>
<li><p>ç¡®å®š n æ˜¯ num ä¸­çš„å“ªä¸€æ•°ä½ï¼Œå¹¶è¿”å›ç»“æœï¼›</p>
</li>
<li><p>ç¡®å®šæ‰€æ±‚æ•°ä½çš„æ‰€åœ¨æ•°å­—çš„ä½æ•°</p>
</li>
</ol>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå¾ªç¯æ‰§è¡Œ n å‡å» ä¸€ä½æ•°ã€ä¸¤ä½æ•°ã€â€¦ çš„æ•°ä½æ•°é‡ count ï¼Œç›´è‡³ n â‰¤ count æ—¶è·³å‡ºã€‚</p>
<p>ç”±äº n å·²ç»å‡å»äº†ä¸€ä½æ•°ã€ä¸¤ä½æ•°ã€â€¦ã€(digit-1) ä½æ•°çš„ æ•°ä½æ•°é‡ count ï¼Œå› è€Œæ­¤æ—¶çš„ n æ˜¯ä»èµ·å§‹æ•°å­— start å¼€å§‹è®¡æ•°çš„ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">digit</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line"><span class="type">long</span> <span class="variable">start</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line"><span class="type">long</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">9</span>;</span><br><span class="line"><span class="keyword">while</span> (n &gt; count) &#123;</span><br><span class="line">   n -= count;</span><br><span class="line">   start *= <span class="number">10</span>; <span class="comment">// 1, 10, 100, ...</span></span><br><span class="line">   digit += <span class="number">1</span>;  <span class="comment">// 1,  2,  3, ...</span></span><br><span class="line">   count = digit * start * <span class="number">9</span>; <span class="comment">// 9, 180, 2700, ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ç»“è®ºï¼š</strong> æ‰€æ±‚æ•°ä½ â‘  åœ¨æŸä¸ª digit ä½æ•°ä¸­ï¼› â‘¡ ä¸ºä»æ•°å­— start å¼€å§‹çš„ç¬¬ <em>n</em> ä¸ªæ•°ä½ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1599888496-HivJvS-Picture2.png" alt="Picture2.png"></p>
<ol start="2">
<li>ç¡®å®šæ‰€æ±‚æ•°ä½æ‰€åœ¨çš„æ•°å­—</li>
</ol>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæ‰€æ±‚æ•°ä½ åœ¨ä»æ•°å­— start å¼€å§‹çš„ç¬¬ [(n - 1) &#x2F; digit] ä¸ª æ•°å­— ä¸­ï¼ˆ start ä¸ºç¬¬ 0 ä¸ªæ•°å­—ï¼‰ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">long</span> <span class="variable">num</span> <span class="operator">=</span> start + (n - <span class="number">1</span>) / digit;</span><br></pre></td></tr></table></figure>

<p><strong>ç»“è®ºï¼š</strong> æ‰€æ±‚æ•°ä½åœ¨æ•°å­— num ä¸­ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1599888213-gCcnEA-Picture3.png" alt="Picture3.png"></p>
<ol start="3">
<li>ç¡®å®šæ‰€æ±‚æ•°ä½åœ¨ num çš„å“ªä¸€æ•°ä½</li>
</ol>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæ‰€æ±‚æ•°ä½ä¸ºæ•°å­— num çš„ç¬¬ (n - 1) % digit ä½ï¼ˆ æ•°å­—çš„é¦–ä¸ªæ•°ä½ä¸ºç¬¬ 0 ä½ï¼‰ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> Long.toString(num); <span class="comment">// è½¬åŒ–ä¸º string</span></span><br><span class="line"><span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> s.charAt((n - <span class="number">1</span>) % digit) - <span class="string">&#x27;0&#x27;</span>; <span class="comment">// è·å¾— num çš„ ç¬¬ (n - 1) % digit ä¸ªæ•°ä½ï¼Œå¹¶è½¬åŒ–ä¸º int</span></span><br></pre></td></tr></table></figure>

<p><strong>ç»“è®ºï¼š</strong> æ‰€æ±‚æ•°ä½æ˜¯ res ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1599888395-oeWGAH-Picture4.png" alt="Picture4.png"></p>
<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O(logn) ï¼š æ‰€æ±‚æ•°ä½ n å¯¹åº”æ•°å­— num çš„ä½æ•° digit æœ€å¤§ä¸º O(logn) ï¼›ç¬¬ä¸€æ­¥æœ€å¤šå¾ªç¯ O(logn) æ¬¡ï¼›ç¬¬ä¸‰æ­¥ä¸­å°† num è½¬åŒ–ä¸ºå­—ç¬¦ä¸²ä½¿ç”¨ O(logn) æ—¶é—´ï¼›å› æ­¤æ€»ä½“ä¸º O(logn) ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(logn) ï¼š å°†æ•°å­— num è½¬åŒ–ä¸ºå­—ç¬¦ä¸² str(num) ï¼Œå ç”¨ O(logn) çš„é¢å¤–ç©ºé—´ã€‚</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1599888213-wmVktF-Picture5.png" alt="img"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1599888213-vPFqup-Picture6.png" alt="img"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1599888796-IlfLEc-Picture7.png" alt="img"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">findNthDigit</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">digit</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">        <span class="type">long</span> <span class="variable">start</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">        <span class="type">long</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">9</span>;</span><br><span class="line">        <span class="keyword">while</span> (n &gt; count) &#123; <span class="comment">// 1.</span></span><br><span class="line">            n -= count;</span><br><span class="line">            start *= <span class="number">10</span>;</span><br><span class="line">            digit += <span class="number">1</span>;</span><br><span class="line">            count = digit * start * <span class="number">9</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">long</span> <span class="variable">num</span> <span class="operator">=</span> start + (n - <span class="number">1</span>) / digit; <span class="comment">// 2.</span></span><br><span class="line">        <span class="keyword">return</span> Long.toString(num).charAt((n - <span class="number">1</span>) % digit) - <span class="string">&#x27;0&#x27;</span>; <span class="comment">// 3.</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="13-9ã€LC1759-ç»Ÿè®¡åŒæ„å­å­—ç¬¦ä¸²çš„æ•°ç›®"><a href="#13-9ã€LC1759-ç»Ÿè®¡åŒæ„å­å­—ç¬¦ä¸²çš„æ•°ç›®" class="headerlink" title="13.9ã€LC1759. ç»Ÿè®¡åŒæ„å­å­—ç¬¦ä¸²çš„æ•°ç›®"></a>13.9ã€LC1759. ç»Ÿè®¡åŒæ„å­å­—ç¬¦ä¸²çš„æ•°ç›®</h3><p>ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² <code>s</code> ï¼Œè¿”å› <code>s</code> ä¸­ <strong>åŒæ„å­å­—ç¬¦ä¸²</strong> çš„æ•°ç›®ã€‚ç”±äºç­”æ¡ˆå¯èƒ½å¾ˆå¤§ï¼Œåªéœ€è¿”å›å¯¹ <code>10^9 + 7</code> <strong>å–ä½™</strong> åçš„ç»“æœã€‚</p>
<p><strong>åŒæ„å­—ç¬¦ä¸²</strong> çš„å®šä¹‰ä¸ºï¼šå¦‚æœä¸€ä¸ªå­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰å­—ç¬¦éƒ½ç›¸åŒï¼Œé‚£ä¹ˆè¯¥å­—ç¬¦ä¸²å°±æ˜¯åŒæ„å­—ç¬¦ä¸²ã€‚</p>
<p><strong>å­å­—ç¬¦ä¸²</strong> æ˜¯å­—ç¬¦ä¸²ä¸­çš„ä¸€ä¸ªè¿ç»­å­—ç¬¦åºåˆ—ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;abbcccaa&quot;</span><br><span class="line">è¾“å‡ºï¼š13</span><br><span class="line">è§£é‡Šï¼šåŒæ„å­å­—ç¬¦ä¸²å¦‚ä¸‹æ‰€åˆ—ï¼š</span><br><span class="line">&quot;a&quot;   å‡ºç° 3 æ¬¡ã€‚</span><br><span class="line">&quot;aa&quot;  å‡ºç° 1 æ¬¡ã€‚</span><br><span class="line">&quot;b&quot;   å‡ºç° 2 æ¬¡ã€‚</span><br><span class="line">&quot;bb&quot;  å‡ºç° 1 æ¬¡ã€‚</span><br><span class="line">&quot;c&quot;   å‡ºç° 3 æ¬¡ã€‚</span><br><span class="line">&quot;cc&quot;  å‡ºç° 2 æ¬¡ã€‚</span><br><span class="line">&quot;ccc&quot; å‡ºç° 1 æ¬¡ã€‚</span><br><span class="line">3 + 1 + 2 + 1 + 3 + 2 + 1 = 13</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;xy&quot;</span><br><span class="line">è¾“å‡ºï¼š2</span><br><span class="line">è§£é‡Šï¼šåŒæ„å­å­—ç¬¦ä¸²æ˜¯ &quot;x&quot; å’Œ &quot;y&quot; ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;zzzzz&quot;</span><br><span class="line">è¾“å‡ºï¼š15</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= s.length &lt;= 105</code></li>
<li><code>s</code> ç”±å°å†™å­—ç¬¦ä¸²ç»„æˆ</li>
</ul>
<p>Related Topics</p>
<p>æ•°å­¦</p>
<p>å­—ç¬¦ä¸²</p>
<p><strong>è§£é¢˜æ€è·¯</strong>:</p>
<p>è¦æ±‚çš„æ˜¯åŒæ„å­—ç¬¦çš„æ•°é‡ï¼ŒæŠŠåŸå­—ç¬¦ä¸²è¿›è¡Œåˆ‡å‰²ï¼Œåˆ‡å‰²æˆç›¸ç­‰çš„å­—ç¬¦ä¸²ã€‚â€abbcccaaâ€ åˆ‡å‰²ä¸º â€œaâ€ â€œbbâ€ â€œcccâ€ â€œaaâ€ã€‚å¯¹åˆ‡å‰²åçš„å„éƒ¨åˆ†ç®—åŒæ„å­—ç¬¦ä¸²çš„è´¡çŒ®ï¼Œç´¯åŠ ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/image-20221226111209255.png" alt="image-20221226111209255"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">MOD</span> <span class="operator">=</span> (<span class="type">int</span>) <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">countHomogenous</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> s.length();</span><br><span class="line">        <span class="type">long</span> <span class="variable">ans</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">char</span> <span class="variable">tmp</span> <span class="operator">=</span> s.charAt(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="type">char</span> <span class="variable">c</span> <span class="operator">=</span> s.charAt(i);</span><br><span class="line">            <span class="keyword">if</span> (tmp == c) len++;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                ans += (<span class="type">long</span>) len * (len + <span class="number">1</span>) / <span class="number">2</span>;</span><br><span class="line">                len = <span class="number">1</span>;</span><br><span class="line">                tmp = c;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        ans += (<span class="type">long</span>) len * (len + <span class="number">1</span>) / <span class="number">2</span>; <span class="comment">// å¤„ç†æœ€åä¸€ä¸ªåˆ†ç»„</span></span><br><span class="line">        <span class="keyword">return</span> (<span class="type">int</span>) (ans % MOD);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦O(N);</li>
<li>ç©ºé—´å¤æ‚åº¦O(1);</li>
</ul>
<h3 id="13-10ã€LC1819-åºåˆ—ä¸­ä¸åŒæœ€å¤§å…¬çº¦æ•°çš„æ•°ç›®"><a href="#13-10ã€LC1819-åºåˆ—ä¸­ä¸åŒæœ€å¤§å…¬çº¦æ•°çš„æ•°ç›®" class="headerlink" title="13.10ã€LC1819. åºåˆ—ä¸­ä¸åŒæœ€å¤§å…¬çº¦æ•°çš„æ•°ç›®"></a>13.10ã€LC1819. åºåˆ—ä¸­ä¸åŒæœ€å¤§å…¬çº¦æ•°çš„æ•°ç›®</h3><p>ç»™ä½ ä¸€ä¸ªç”±æ­£æ•´æ•°ç»„æˆçš„æ•°ç»„ <code>nums</code> ã€‚</p>
<p>æ•°å­—åºåˆ—çš„ <strong>æœ€å¤§å…¬çº¦æ•°</strong> å®šä¹‰ä¸ºåºåˆ—ä¸­æ‰€æœ‰æ•´æ•°çš„å…±æœ‰çº¦æ•°ä¸­çš„æœ€å¤§æ•´æ•°ã€‚</p>
<ul>
<li>ä¾‹å¦‚ï¼Œåºåˆ— <code>[4,6,16]</code> çš„æœ€å¤§å…¬çº¦æ•°æ˜¯ <code>2</code> ã€‚</li>
</ul>
<p>æ•°ç»„çš„ä¸€ä¸ª <strong>å­åºåˆ—</strong> æœ¬è´¨æ˜¯ä¸€ä¸ªåºåˆ—ï¼Œå¯ä»¥é€šè¿‡åˆ é™¤æ•°ç»„ä¸­çš„æŸäº›å…ƒç´ ï¼ˆæˆ–è€…ä¸åˆ é™¤ï¼‰å¾—åˆ°ã€‚</p>
<ul>
<li>ä¾‹å¦‚ï¼Œ<code>[2,5,10]</code> æ˜¯ <code>[1,2,1,**2**,4,1,**5**,**10**]</code> çš„ä¸€ä¸ªå­åºåˆ—ã€‚</li>
</ul>
<p>è®¡ç®—å¹¶è¿”å› <code>nums</code> çš„æ‰€æœ‰ <strong>éç©º</strong> å­åºåˆ—ä¸­ <strong>ä¸åŒ</strong> æœ€å¤§å…¬çº¦æ•°çš„ <strong>æ•°ç›®</strong> ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/image-1.png" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [6,10,3]</span><br><span class="line">è¾“å‡ºï¼š5</span><br><span class="line">è§£é‡Šï¼šä¸Šå›¾æ˜¾ç¤ºäº†æ‰€æœ‰çš„éç©ºå­åºåˆ—ä¸å„è‡ªçš„æœ€å¤§å…¬çº¦æ•°ã€‚</span><br><span class="line">ä¸åŒçš„æœ€å¤§å…¬çº¦æ•°ä¸º 6 ã€10 ã€3 ã€2 å’Œ 1 ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [5,15,40,5,6]</span><br><span class="line">è¾“å‡ºï¼š7</span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= nums.length &lt;= 105</code></li>
<li><code>1 &lt;= nums[i] &lt;= 2 * 105</code></li>
</ul>
<p>Related Topics</p>
<p>æ•°å­¦</p>
<p>æ•°ç»„</p>
<p>æ•°è®º</p>
<p>è®¡æ•°</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>ç”±äºéç©ºå­åºåˆ—çš„æ•°é‡é«˜è¾¾ 2^<em>n</em>âˆ’1ï¼Œç›´æ¥å›æº¯æšä¸¾æ˜¯ä¼šè¶…æ—¶çš„ã€‚ä¸å¦¨æ¢ä¸€ä¸ªè§†è§’ï¼Œè€ƒè™‘å€¼åŸŸã€‚</p>
<p>å¤šä¸ªæ•°çš„æœ€å¤§å…¬çº¦æ•°ç­‰äº <em>g</em>ï¼Œä¹Ÿåè¿‡æ¥è¯´æ˜è¿™äº›æ•°éƒ½æ˜¯ <em>g</em> çš„å€æ•°ã€‚ä¾‹å¦‚ [8,12,6] çš„æœ€å¤§å…¬çº¦æ•°æ˜¯ 2ï¼Œè¿™äº›æ•°éƒ½æ˜¯ 2 çš„å€æ•°ã€‚</p>
<p>ã€å€¼åŸŸã€‘ã€å€æ•°ã€‘</p>
<p>é‚£ä¹ˆï¼Œèƒ½ä¸èƒ½åè¿‡æ¥ï¼Œæšä¸¾ <em>g</em> çš„å€æ•°å‘¢ï¼Ÿ</p>
<ul>
<li>1,2,3,â‹¯</li>
<li>2,4,6,â‹¯</li>
<li>3,6,9,â‹¯</li>
</ul>
<p>çœ‹ä¸Šå»è¿è¡Œæ—¶é—´æ˜¯ä¸ªå¹³æ–¹çº§åˆ«çš„ï¼Œä¼šè¶…æ—¶ã€‚</p>
<p>å…ˆåˆ«æ€¥ç€å¦å®šï¼Œè¿™é‡Œå¾—æ¥ç‚¹æ•°å­¦ã€‚</p>
<p>è®¾ U*&#x3D;max(<em>nums</em>)ï¼Œé‚£ä¹ˆ 1 çš„å€æ•°éœ€è¦æšä¸¾ âŒŠ1&#x2F;<em>U</em>âŒ‹ ä¸ªï¼Œ2 çš„å€æ•°éœ€è¦æšä¸¾ âŒŠ2&#x2F;<em>U</em>âŒ‹ ä¸ªï¼Œâ€¦â€¦ï¼ŒæŠŠè¿™äº›åŠ èµ·æ¥ï¼Œå»æ‰ä¸‹å–æ•´ï¼Œæœ‰</p>
<p>âŒŠ1&#x2F;<em>U</em>âŒ‹+âŒŠ2&#x2F;<em>U</em>âŒ‹+â‹¯+âŒŠ<em>U&#x2F;U</em>âŒ‹â‰¤<em>U</em>â‹…(1&#x2F;1+2&#x2F;1+â‹¯+*U&#x2F;*1)</p>
<p>å³è¾¹æ‹¬å·ä¸­çš„å«åš <a href="https://leetcode.cn/link/?target=https://baike.baidu.com/item/%E8%B0%83%E5%92%8C%E7%BA%A7%E6%95%B0/8019971?fr=aladdin#3">è°ƒå’Œçº§æ•°éƒ¨åˆ†å’Œ</a>ï¼Œå¯ä»¥çœ‹æˆæ˜¯O*(log<em>U</em>) çš„ï¼Œå› æ­¤æšä¸¾å€æ•°çš„æ—¶é—´å¤æ‚åº¦ä¸º <em>O</em>(<em>U</em>log<em>U</em>)ï¼Œä¸ä¼šè¶…æ—¶ã€‚</p>
<p>é‚£ä¹ˆå°±æšä¸¾ i*&#x3D;1,2,â‹¯,*U åŠå…¶å€æ•°ï¼Œå½“ä½œå­åºåˆ—ä¸­çš„æ•°ã€‚</p>
<p>å­åºåˆ—ä¸­çš„æ•°è¶Šå¤šï¼Œ<em>g</em> å°±å¯èƒ½è¶Šå°ï¼Œå°±è¶Šå¯èƒ½ç­‰äº <em>i</em>ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå¦‚æœæšä¸¾ i*&#x3D;2 çš„å€æ•°ï¼Œå…¶ä¸­ 8 å’Œ 12 æ˜¯åœ¨ nums ä¸­çš„ï¼Œä½†ç”±äº 8 å’Œ 12 çš„æœ€å¤§å…¬çº¦æ•°ç­‰äº 4ï¼Œæ‰€ä»¥æ— æ³•æ‰¾åˆ°ä¸€ä¸ªå­åºåˆ—ï¼Œå…¶æœ€å¤§å…¬çº¦æ•°ä¸º i*ã€‚ä½†å¦‚æœè¿˜æœ‰ 6 ä¹Ÿåœ¨ <em>nums</em> ä¸­ï¼Œé‚£ä¹ˆæœ€å¤§å…¬çº¦æ•°ç­‰äº 2ï¼Œè¿™æ · <em>i</em> å°±å¯ä»¥æ˜¯ä¸€ä¸ªå­åºåˆ—çš„æœ€å¤§å…¬çº¦æ•°äº†ã€‚</p>
<p>ä»£ç å®ç°æ—¶ï¼Œéœ€è¦ç”¨å“ˆå¸Œè¡¨æˆ–è€…æ•°ç»„ï¼Œè®°å½•æ¯ä¸ªæ•°æ˜¯å¦åœ¨ nums* ä¸­ï¼Œä»è€ŒåŠ å¿«åˆ¤æ–­ã€‚æ•°ç»„çš„æ•ˆç‡ä¼šæ›´é«˜ä¸€äº›ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">countDifferentSubsequenceGCDs</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">ans</span> <span class="operator">=</span> <span class="number">0</span>, mx = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> x : nums) mx = Math.max(mx, x);</span><br><span class="line">        <span class="type">var</span> <span class="variable">has</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">boolean</span>[mx + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> x : nums) has[x] = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= mx; ++i) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">g</span> <span class="operator">=</span> <span class="number">0</span>; <span class="comment">// 0 å’Œä»»ä½•æ•° x çš„æœ€å¤§å…¬çº¦æ•°éƒ½æ˜¯ x</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i; j &lt;= mx &amp;&amp; g != i; j += i) <span class="comment">// æšä¸¾ i çš„å€æ•° j</span></span><br><span class="line">                <span class="keyword">if</span> (has[j]) <span class="comment">// å¦‚æœ j åœ¨ nums ä¸­</span></span><br><span class="line">                    g = gcd(g, j); <span class="comment">// æ›´æ–°æœ€å¤§å…¬çº¦æ•°</span></span><br><span class="line">            <span class="keyword">if</span> (g == i) ++ans; <span class="comment">// æ‰¾åˆ°ä¸€ä¸ªç­”æ¡ˆ</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">gcd</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (a != <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">tmp</span> <span class="operator">=</span> a;</span><br><span class="line">            a = b % a;</span><br><span class="line">            b = tmp;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> b;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ä¼˜åŒ–</strong></p>
<p>ç­”æ¡ˆå¯ä»¥ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼š</p>
<ul>
<li>å­åºåˆ—çš„é•¿åº¦ä¸º 1ï¼Œæ­¤æ—¶æœ€å¤§å…¬çº¦æ•°ç­‰äº nums*[<em>i</em>]ï¼Œè¿™éƒ¨åˆ†å¯ä»¥ç»™ç­”æ¡ˆè´¡çŒ® m ä¸ªï¼Œè¿™é‡Œ <em>m</em> ä¸º <em>nums</em> ä¸­ä¸åŒå…ƒç´ çš„ä¸ªæ•°ã€‚</li>
<li>å­åºåˆ—çš„é•¿åº¦è‡³å°‘ä¸º 2ï¼Œä¸ºäº†é¿å…é‡å¤ç»Ÿè®¡ï¼Œæ­¤æ—¶æœ€å¤§å…¬çº¦æ•° <em>i</em> å¿…é¡»ä¸åœ¨ nums ä¸­ã€‚æ­¤å¤–ï¼Œè¦æƒ³ä½¿æœ€å¤§å…¬çº¦æ•°ä¸º <em>i</em>ï¼Œ<em>nums</em> ä¸­<strong>æœ€å°</strong>è¦æœ‰ 2<em>i</em> å’Œ 3<em>i</em> è¿™ä¸¤ä¸ªæ•°ï¼Œè¿™æ ·æœ€å¤§å…¬çº¦æ•°æ‰èƒ½æ˜¯ <em>i</em>ã€‚å› æ­¤ï¼Œi åªéœ€è¦æšä¸¾åˆ° âŒŠU&#x2F;3âŒ‹ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">countDifferentSubsequenceGCDs</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">ans</span> <span class="operator">=</span> <span class="number">0</span>, mx = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> x : nums) mx = Math.max(mx, x);</span><br><span class="line">        <span class="type">var</span> <span class="variable">has</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">boolean</span>[mx + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> x : nums)</span><br><span class="line">            <span class="keyword">if</span> (!has[x]) &#123;</span><br><span class="line">                has[x] = <span class="literal">true</span>;</span><br><span class="line">                ++ans; <span class="comment">// å•ç‹¬ä¸€ä¸ªæ•°ä¹Ÿç®—</span></span><br><span class="line">            &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= mx / <span class="number">3</span>; ++i) &#123; <span class="comment">// ä¼˜åŒ–å¾ªç¯ä¸Šç•Œ</span></span><br><span class="line">            <span class="keyword">if</span> (has[i]) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="type">int</span> <span class="variable">g</span> <span class="operator">=</span> <span class="number">0</span>; <span class="comment">// 0 å’Œä»»ä½•æ•° x çš„æœ€å¤§å…¬çº¦æ•°éƒ½æ˜¯ x</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i * <span class="number">2</span>; j &lt;= mx &amp;&amp; g != i; j += i) <span class="comment">// æšä¸¾ i çš„å€æ•° j</span></span><br><span class="line">                <span class="keyword">if</span> (has[j]) <span class="comment">// å¦‚æœ j åœ¨ nums ä¸­</span></span><br><span class="line">                    g = gcd(g, j); <span class="comment">// æ›´æ–°æœ€å¤§å…¬çº¦æ•°</span></span><br><span class="line">            <span class="keyword">if</span> (g == i) ++ans; <span class="comment">// æ‰¾åˆ°ä¸€ä¸ªç­”æ¡ˆ</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">gcd</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (a != <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">tmp</span> <span class="operator">=</span> a;</span><br><span class="line">            a = b % a;</span><br><span class="line">            b = tmp;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> b;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="å¤æ‚åº¦åˆ†æ"><a href="#å¤æ‚åº¦åˆ†æ" class="headerlink" title="å¤æ‚åº¦åˆ†æ"></a>å¤æ‚åº¦åˆ†æ</h4><ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼šO*(<em>n</em>+<em>U</em>log<em>U</em>)ï¼Œå…¶ä¸­ n ä¸º nums çš„é•¿åº¦ï¼Œ<em>U</em>&#x3D;max(<em>nums</em>)ã€‚äºŒé‡å¾ªç¯çš„æ—¶é—´å¤æ‚åº¦åˆ†ä¸¤éƒ¨åˆ†ï¼Œç¬¬ä¸€éƒ¨åˆ†æ˜¯<strong>äºŒé‡å¾ªç¯çš„æ¬¡æ•°</strong>ï¼Œæ ¹æ® <a href="https://leetcode.cn/link/?target=https://baike.baidu.com/item/%E8%B0%83%E5%92%8C%E7%BA%A7%E6%95%B0/8019971?fr=aladdin#3">è°ƒå’Œçº§æ•°éƒ¨åˆ†å’Œ</a>ï¼Œå¾ªç¯æ¬¡æ•°ä¸º <em>O</em>(<em>U</em>log<em>U</em>)ï¼›ç¬¬äºŒéƒ¨åˆ†æ˜¯<strong>è®¡ç®— g çš„æ€»æ—¶é—´</strong>ï¼Œç”±äº <em>g</em> æ¯æ¬¡è®¡ç®—è¦ä¹ˆä¸å˜ï¼Œè¦ä¹ˆè‡³å°‘å‡åŠï¼Œæ‰€ä»¥å®é™…ä¸Š <em>g</em> åœ¨å†…å±‚å¾ªç¯ä¸­è‡³å¤šå‡åŠ O*(log<em>U</em>) æ¬¡ï¼Œè®¡ç®— g çš„æ—¶é—´å¯¹äºæ¯ä¸ª i éƒ½æ˜¯ <em>O</em>(log<em>U</em>) çš„ï¼Œå› æ­¤è¿™éƒ¨åˆ†çš„æ—¶é—´å¤æ‚åº¦ä¹Ÿä¸º<em>O</em>(<em>U</em>log<em>U</em>)ã€‚æœ€åï¼ŒåŠ ä¸Šéå† nums çš„ O*(<em>n</em>) æ—¶é—´ï¼Œæ€»çš„æ—¶é—´å¤æ‚åº¦ä¸º <em>O</em>(<em>n</em>+<em>U</em>log<em>U</em>)ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼šO*(*U)ã€‚</li>
</ul>
<h2 id="åå››ã€è´ªå¿ƒç®—æ³•"><a href="#åå››ã€è´ªå¿ƒç®—æ³•" class="headerlink" title="åå››ã€è´ªå¿ƒç®—æ³•"></a>åå››ã€è´ªå¿ƒç®—æ³•</h2><h3 id="14-1ã€LC2027-è½¬æ¢å­—ç¬¦ä¸²çš„æœ€å°‘æ“ä½œæ¬¡æ•°"><a href="#14-1ã€LC2027-è½¬æ¢å­—ç¬¦ä¸²çš„æœ€å°‘æ“ä½œæ¬¡æ•°" class="headerlink" title="14.1ã€LC2027. è½¬æ¢å­—ç¬¦ä¸²çš„æœ€å°‘æ“ä½œæ¬¡æ•°"></a>14.1ã€LC2027. è½¬æ¢å­—ç¬¦ä¸²çš„æœ€å°‘æ“ä½œæ¬¡æ•°</h3><p>ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² <code>s</code> ï¼Œç”± <code>n</code> ä¸ªå­—ç¬¦ç»„æˆï¼Œæ¯ä¸ªå­—ç¬¦ä¸æ˜¯ <code>&#39;X&#39;</code> å°±æ˜¯ <code>&#39;O&#39;</code> ã€‚</p>
<p>ä¸€æ¬¡ <strong>æ“ä½œ</strong> å®šä¹‰ä¸ºä» <code>s</code> ä¸­é€‰å‡º <strong>ä¸‰ä¸ªè¿ç»­å­—ç¬¦</strong> å¹¶å°†é€‰ä¸­çš„æ¯ä¸ªå­—ç¬¦éƒ½è½¬æ¢ä¸º <code>&#39;O&#39;</code> ã€‚æ³¨æ„ï¼Œå¦‚æœå­—ç¬¦å·²ç»æ˜¯ <code>&#39;O&#39;</code> ï¼Œåªéœ€è¦ä¿æŒ <strong>ä¸å˜</strong> ã€‚</p>
<p>è¿”å›å°† <code>s</code> ä¸­æ‰€æœ‰å­—ç¬¦å‡è½¬æ¢ä¸º <code>&#39;O&#39;</code> éœ€è¦æ‰§è¡Œçš„ <strong>æœ€å°‘</strong> æ“ä½œæ¬¡æ•°ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;XXX&quot;</span><br><span class="line">è¾“å‡ºï¼š1</span><br><span class="line">è§£é‡Šï¼šXXX -&gt; OOO</span><br><span class="line">ä¸€æ¬¡æ“ä½œï¼Œé€‰ä¸­å…¨éƒ¨ 3 ä¸ªå­—ç¬¦ï¼Œå¹¶å°†å®ƒä»¬è½¬æ¢ä¸º &#x27;O&#x27; ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;XXOX&quot;</span><br><span class="line">è¾“å‡ºï¼š2</span><br><span class="line">è§£é‡Šï¼šXXOX -&gt; OOOX -&gt; OOOO</span><br><span class="line">ç¬¬ä¸€æ¬¡æ“ä½œï¼Œé€‰æ‹©å‰ 3 ä¸ªå­—ç¬¦ï¼Œå¹¶å°†è¿™äº›å­—ç¬¦è½¬æ¢ä¸º &#x27;O&#x27; ã€‚</span><br><span class="line">ç„¶åï¼Œé€‰ä¸­å 3 ä¸ªå­—ç¬¦ï¼Œå¹¶æ‰§è¡Œè½¬æ¢ã€‚æœ€ç»ˆå¾—åˆ°çš„å­—ç¬¦ä¸²å…¨ç”±å­—ç¬¦ &#x27;O&#x27; ç»„æˆã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = &quot;OOOO&quot;</span><br><span class="line">è¾“å‡ºï¼š0</span><br><span class="line">è§£é‡Šï¼šs ä¸­ä¸å­˜åœ¨éœ€è¦è½¬æ¢çš„ &#x27;X&#x27; ã€‚</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>3 &lt;= s.length &lt;= 1000</code></li>
<li><code>s[i]</code> ä¸º <code>&#39;X&#39;</code> æˆ– <code>&#39;O&#39;</code></li>
</ul>
<p>Related Topics</p>
<p>è´ªå¿ƒ</p>
<p>å­—ç¬¦ä¸²</p>
<p>ğŸ‘ 40</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>éå†å­—ç¬¦ä¸² <em>s</em>ï¼Œåªè¦é‡åˆ° <code>&#39;X&#39;</code>ï¼ŒæŒ‡é’ˆ <em>i</em> å°±ç›´æ¥å¾€åç§»åŠ¨ä¸‰æ ¼ï¼Œå¹¶ä¸”ç­”æ¡ˆåŠ  1ï¼›å¦åˆ™æŒ‡é’ˆ <em>i</em> å¾€åç§»åŠ¨ä¸€æ ¼ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minimumMoves</span><span class="params">(String s)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">ans</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; s.length(); ) &#123;</span><br><span class="line">        <span class="keyword">if</span> (s.charAt(i) == <span class="string">&#x27;X&#x27;</span>) &#123;</span><br><span class="line">            ans++;</span><br><span class="line">            i += <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        i++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦O(N)ï¼Œéå†ä¸€éå­—ç¬¦ä¸²ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦O(1).</li>
</ul>
<h3 id="14-2ã€LC1663-å…·æœ‰ç»™å®šæ•°å€¼çš„æœ€å°å­—ç¬¦ä¸²"><a href="#14-2ã€LC1663-å…·æœ‰ç»™å®šæ•°å€¼çš„æœ€å°å­—ç¬¦ä¸²" class="headerlink" title="14.2ã€LC1663. å…·æœ‰ç»™å®šæ•°å€¼çš„æœ€å°å­—ç¬¦ä¸²"></a>14.2ã€LC1663. å…·æœ‰ç»™å®šæ•°å€¼çš„æœ€å°å­—ç¬¦ä¸²</h3><p><strong>å°å†™å­—ç¬¦</strong> çš„ <strong>æ•°å€¼</strong> æ˜¯å®ƒåœ¨å­—æ¯è¡¨ä¸­çš„ä½ç½®ï¼ˆä» <code>1</code> å¼€å§‹ï¼‰ï¼Œå› æ­¤ <code>a</code> çš„æ•°å€¼ä¸º <code>1</code> ï¼Œ<code>b</code> çš„æ•°å€¼ä¸º <code>2</code> ï¼Œ<code>c</code> çš„æ•°å€¼ä¸º <code>3</code> ï¼Œä»¥æ­¤ç±»æ¨ã€‚</p>
<p>å­—ç¬¦ä¸²ç”±è‹¥å¹²å°å†™å­—ç¬¦ç»„æˆï¼Œ<strong>å­—ç¬¦ä¸²çš„æ•°å€¼</strong> ä¸ºå„å­—ç¬¦çš„æ•°å€¼ä¹‹å’Œã€‚ä¾‹å¦‚ï¼Œå­—ç¬¦ä¸² <code>&quot;abe&quot;</code> çš„æ•°å€¼ç­‰äº <code>1 + 2 + 5 = 8</code> ã€‚</p>
<p>ç»™ä½ ä¸¤ä¸ªæ•´æ•° <code>n</code> å’Œ <code>k</code> ã€‚è¿”å› <strong>é•¿åº¦</strong> ç­‰äº <code>n</code> ä¸” <strong>æ•°å€¼</strong> ç­‰äº <code>k</code> çš„ <strong>å­—å…¸åºæœ€å°</strong> çš„å­—ç¬¦ä¸²ã€‚</p>
<p>æ³¨æ„ï¼Œå¦‚æœå­—ç¬¦ä¸² <code>x</code> åœ¨å­—å…¸æ’åºä¸­ä½äº <code>y</code> ä¹‹å‰ï¼Œå°±è®¤ä¸º <code>x</code> å­—å…¸åºæ¯” <code>y</code> å°ï¼Œæœ‰ä»¥ä¸‹ä¸¤ç§æƒ…å†µï¼š</p>
<ul>
<li><code>x</code> æ˜¯ <code>y</code> çš„ä¸€ä¸ªå‰ç¼€ï¼›</li>
<li>å¦‚æœ <code>i</code> æ˜¯ <code>x[i] != y[i]</code> çš„ç¬¬ä¸€ä¸ªä½ç½®ï¼Œä¸” <code>x[i]</code> åœ¨å­—æ¯è¡¨ä¸­çš„ä½ç½®æ¯” <code>y[i]</code> é å‰ã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = 3, k = 27</span><br><span class="line">è¾“å‡ºï¼š&quot;aay&quot;</span><br><span class="line">è§£é‡Šï¼šå­—ç¬¦ä¸²çš„æ•°å€¼ä¸º 1 + 1 + 25 = 27ï¼Œå®ƒæ˜¯æ•°å€¼æ»¡è¶³è¦æ±‚ä¸”é•¿åº¦ç­‰äº 3 å­—å…¸åºæœ€å°çš„å­—ç¬¦ä¸²ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = 5, k = 73</span><br><span class="line">è¾“å‡ºï¼š&quot;aaszz&quot;</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= n &lt;= 105</code></li>
<li><code>n &lt;= k &lt;= 26 * n</code></li>
</ul>
<p>Related Topics</p>
<p>è´ªå¿ƒ</p>
<p>å­—ç¬¦ä¸²</p>
<p>ğŸ‘ 63</p>
<p>ğŸ‘ 0</p>
<h4 id="æ–¹æ³•ä¸€ï¼šè´ªå¿ƒ"><a href="#æ–¹æ³•ä¸€ï¼šè´ªå¿ƒ" class="headerlink" title="æ–¹æ³•ä¸€ï¼šè´ªå¿ƒ"></a>æ–¹æ³•ä¸€ï¼šè´ªå¿ƒ</h4><p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>æˆ‘ä»¬å…ˆå°†å­—ç¬¦ä¸²çš„æ¯ä¸ªå­—ç¬¦éƒ½åˆå§‹åŒ–ä¸º <code>&#39;a&#39;</code>ï¼Œæ­¤æ—¶å‰©ä½™çš„æ•°å€¼ä¸º d*&#x3D;<em>k</em>âˆ’*nã€‚</p>
<p>æ¥ç€ä»åå¾€å‰éå†å­—ç¬¦ä¸²ï¼Œæ¯æ¬¡è´ªå¿ƒåœ°å°†å½“å‰ä½ç½®çš„å­—ç¬¦æ›¿æ¢ä¸ºèƒ½å¤Ÿä½¿å¾—å‰©ä½™çš„æ•°å­—æœ€å°çš„å­—ç¬¦ <code>&#39;z&#39;</code>ï¼Œç›´åˆ°å‰©ä½™çš„æ•°å­— <em>d</em> ä¸è¶…è¿‡ 25ã€‚æœ€åå°†å‰©ä½™çš„æ•°å­—åŠ åˆ°æˆ‘ä»¬éå†åˆ°çš„ä½ç½®ä¸Šå³å¯ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getSmallestString</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">        <span class="type">char</span>[] ans = <span class="keyword">new</span> <span class="title class_">char</span>[n];</span><br><span class="line">        Arrays.fill(ans, <span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> n - <span class="number">1</span>, d = k - n;</span><br><span class="line">        <span class="keyword">for</span> (; d &gt; <span class="number">25</span>; d -= <span class="number">25</span>) &#123;</span><br><span class="line">            ans[i--] = <span class="string">&#x27;z&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        ans[i] = (<span class="type">char</span>) (<span class="string">&#x27;a&#x27;</span> + d);</span><br><span class="line">        <span class="keyword">return</span> String.valueOf(ans);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ <em>O</em>(<em>n</em>)ï¼Œå…¶ä¸­ <em>n</em> ä¸ºå­—ç¬¦ä¸²çš„é•¿åº¦ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ O(1)ï¼Œå¿½ç•¥ç­”æ¡ˆçš„ç©ºé—´æ¶ˆè€—ã€‚</li>
</ul>
<h3 id="14-3ã€LC56-åˆå¹¶åŒºé—´"><a href="#14-3ã€LC56-åˆå¹¶åŒºé—´" class="headerlink" title="14.3ã€LC56. åˆå¹¶åŒºé—´"></a>14.3ã€LC56. åˆå¹¶åŒºé—´</h3><p>ä»¥æ•°ç»„ <code>intervals</code> è¡¨ç¤ºè‹¥å¹²ä¸ªåŒºé—´çš„é›†åˆï¼Œå…¶ä¸­å•ä¸ªåŒºé—´ä¸º <code>intervals[i] = [starti, endi]</code> ã€‚è¯·ä½ åˆå¹¶æ‰€æœ‰é‡å çš„åŒºé—´ï¼Œå¹¶è¿”å› <em>ä¸€ä¸ªä¸é‡å çš„åŒºé—´æ•°ç»„ï¼Œè¯¥æ•°ç»„éœ€æ°å¥½è¦†ç›–è¾“å…¥ä¸­çš„æ‰€æœ‰åŒºé—´</em> ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šintervals = [[1,3],[2,6],[8,10],[15,18]]</span><br><span class="line">è¾“å‡ºï¼š[[1,6],[8,10],[15,18]]</span><br><span class="line">è§£é‡Šï¼šåŒºé—´ [1,3] å’Œ [2,6] é‡å , å°†å®ƒä»¬åˆå¹¶ä¸º [1,6].</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šintervals = [[1,4],[4,5]]</span><br><span class="line">è¾“å‡ºï¼š[[1,5]]</span><br><span class="line">è§£é‡Šï¼šåŒºé—´ [1,4] å’Œ [4,5] å¯è¢«è§†ä¸ºé‡å åŒºé—´ã€‚</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= intervals.length &lt;= 104</code></li>
<li><code>intervals[i].length == 2</code></li>
<li><code>0 &lt;= starti &lt;= endi &lt;= 104</code></li>
</ul>
<p>Related Topics</p>
<p>æ•°ç»„</p>
<p>æ’åº</p>
<p>ğŸ‘ 1781</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>å…ˆæŠŠæ‰€æœ‰çš„åŒºé—´æ ¹æ®å·¦è¾¹ç•Œç”±å¤§åˆ°å°è¿›è¡Œæ’åºï¼Œç»´æŠ¤ left right ä¸¤ä¸ªå€¼è¡¨ç¤ºåŒºé—´çš„èŒƒå›´ã€‚æœ€åéœ€è¦å¤„ç†æœ€åä¸€ç»„ left rightã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[][] merge(<span class="type">int</span>[][] intervals) &#123;</span><br><span class="line">        List&lt;<span class="type">int</span>[]&gt; res = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        Arrays.sort(intervals, (x, y) -&gt;&#123; <span class="keyword">return</span> x[<span class="number">0</span>] - y[<span class="number">0</span>];&#125;); <span class="comment">// æŒ‰ç…§å·¦è¾¹ç•Œä»å°åˆ°å¤§æ’åº</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> intervals[<span class="number">0</span>][<span class="number">0</span>];</span><br><span class="line">        <span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> intervals[<span class="number">0</span>][<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; intervals.length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (right &lt; intervals[i][<span class="number">0</span>]) &#123;</span><br><span class="line">                res.add(<span class="keyword">new</span> <span class="title class_">int</span>[] &#123;left, right&#125;);</span><br><span class="line"></span><br><span class="line">                <span class="comment">// æ›´æ–° left right</span></span><br><span class="line">                left = intervals[i][<span class="number">0</span>];</span><br><span class="line">                right = intervals[i][<span class="number">1</span>];</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                right = Math.max(right, intervals[i][<span class="number">1</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å¤„ç†æœ€åä¸€ä¸ª left,right åŒºé—´</span></span><br><span class="line">        res.add(<span class="keyword">new</span> <span class="title class_">int</span>[] &#123;left, right&#125;);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> res.toArray(<span class="keyword">new</span> <span class="title class_">int</span>[res.size()][]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼šO(NlogN),æ’åºçš„å¼€é”€ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼šO(N)ã€‚</li>
</ul>
<h2 id="åäº”ã€è®¾è®¡"><a href="#åäº”ã€è®¾è®¡" class="headerlink" title="åäº”ã€è®¾è®¡"></a>åäº”ã€è®¾è®¡</h2><h3 id="15-1ã€LC146-LRU-ç¼“å­˜"><a href="#15-1ã€LC146-LRU-ç¼“å­˜" class="headerlink" title="15.1ã€LC146. LRU ç¼“å­˜"></a>15.1ã€LC146. LRU ç¼“å­˜</h3><p>LRU ç®—æ³•å°±æ˜¯ä¸€ç§ç¼“å­˜æ·˜æ±°ç­–ç•¥ï¼ŒåŸç†ä¸éš¾ï¼Œä½†æ˜¯é¢è¯•ä¸­å†™å‡ºæ²¡æœ‰ bug çš„ç®—æ³•æ¯”è¾ƒæœ‰æŠ€å·§ï¼Œéœ€è¦å¯¹æ•°æ®ç»“æ„è¿›è¡Œå±‚å±‚æŠ½è±¡å’Œæ‹†è§£ã€‚</p>
<p>è®¡ç®—æœºçš„ç¼“å­˜å®¹é‡æœ‰é™ï¼Œå¦‚æœç¼“å­˜æ»¡äº†å°±è¦åˆ é™¤ä¸€äº›å†…å®¹ï¼Œç»™æ–°å†…å®¹è…¾ä½ç½®ã€‚ä½†é—®é¢˜æ˜¯ï¼Œåˆ é™¤å“ªäº›å†…å®¹å‘¢ï¼Ÿæˆ‘ä»¬è‚¯å®šå¸Œæœ›åˆ æ‰å“ªäº›æ²¡ä»€ä¹ˆç”¨çš„ç¼“å­˜ï¼Œè€ŒæŠŠæœ‰ç”¨çš„æ•°æ®ç»§ç»­ç•™åœ¨ç¼“å­˜é‡Œï¼Œæ–¹ä¾¿ä¹‹åç»§ç»­ä½¿ç”¨ã€‚é‚£ä¹ˆï¼Œä»€ä¹ˆæ ·çš„æ•°æ®ï¼Œæˆ‘ä»¬åˆ¤å®šä¸ºã€Œæœ‰ç”¨çš„ã€çš„æ•°æ®å‘¢ï¼Ÿ</p>
<p>LRU ç¼“å­˜æ·˜æ±°ç®—æ³•å°±æ˜¯ä¸€ç§å¸¸ç”¨ç­–ç•¥ã€‚LRU çš„å…¨ç§°æ˜¯ Least Recently Usedï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬è®¤ä¸ºæœ€è¿‘ä½¿ç”¨è¿‡çš„æ•°æ®åº”è¯¥æ˜¯æ˜¯ã€Œæœ‰ç”¨çš„ã€ï¼Œå¾ˆä¹…éƒ½æ²¡ç”¨è¿‡çš„æ•°æ®åº”è¯¥æ˜¯æ— ç”¨çš„ï¼Œå†…å­˜æ»¡äº†å°±ä¼˜å…ˆåˆ é‚£äº›å¾ˆä¹…æ²¡ç”¨è¿‡çš„æ•°æ®ã€‚</p>
<p>å½“ç„¶è¿˜æœ‰å…¶ä»–ç¼“å­˜æ·˜æ±°ç­–ç•¥ï¼Œæ¯”å¦‚ä¸è¦æŒ‰è®¿é—®çš„æ—¶åºæ¥æ·˜æ±°ï¼Œè€Œæ˜¯æŒ‰è®¿é—®é¢‘ç‡ï¼ˆLFU ç­–ç•¥ï¼‰æ¥æ·˜æ±°ç­‰ç­‰ï¼Œå„æœ‰åº”ç”¨åœºæ™¯ã€‚æœ¬æ–‡è®²è§£ LRU ç®—æ³•ç­–ç•¥ã€‚</p>
<h4 id="ä¸€ã€LRU-ç®—æ³•æè¿°"><a href="#ä¸€ã€LRU-ç®—æ³•æè¿°" class="headerlink" title="ä¸€ã€LRU ç®—æ³•æè¿°"></a>ä¸€ã€LRU ç®—æ³•æè¿°</h4><p>åŠ›æ‰£ç¬¬ 146 é¢˜ã€ŒLRUç¼“å­˜æœºåˆ¶ã€å°±æ˜¯è®©ä½ è®¾è®¡æ•°æ®ç»“æ„ï¼š</p>
<p>é¦–å…ˆè¦æ¥æ”¶ä¸€ä¸ª capacity å‚æ•°ä½œä¸ºç¼“å­˜çš„æœ€å¤§å®¹é‡ï¼Œç„¶åå®ç°ä¸¤ä¸ª APIï¼Œä¸€ä¸ªæ˜¯ put(key, val) æ–¹æ³•å­˜å…¥é”®å€¼å¯¹ï¼Œå¦ä¸€ä¸ªæ˜¯ get(key) æ–¹æ³•è·å– key å¯¹åº”çš„ valï¼Œå¦‚æœ key ä¸å­˜åœ¨åˆ™è¿”å› -1ã€‚</p>
<p>æ³¨æ„å“¦ï¼Œget å’Œ put æ–¹æ³•å¿…é¡»éƒ½æ˜¯ O(1) çš„æ—¶é—´å¤æ‚åº¦ï¼Œæˆ‘ä»¬ä¸¾ä¸ªå…·ä½“ä¾‹å­æ¥çœ‹çœ‹ LRU ç®—æ³•æ€ä¹ˆå·¥ä½œã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ç¼“å­˜å®¹é‡ä¸º 2 */</span></span><br><span class="line"><span class="type">LRUCache</span> <span class="variable">cache</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">LRUCache</span>(<span class="number">2</span>);</span><br><span class="line"><span class="comment">// ä½ å¯ä»¥æŠŠ cache ç†è§£æˆä¸€ä¸ªé˜Ÿåˆ—</span></span><br><span class="line"><span class="comment">// å‡è®¾å·¦è¾¹æ˜¯é˜Ÿå¤´ï¼Œå³è¾¹æ˜¯é˜Ÿå°¾</span></span><br><span class="line"><span class="comment">// æœ€è¿‘ä½¿ç”¨çš„æ’åœ¨é˜Ÿå¤´ï¼Œä¹…æœªä½¿ç”¨çš„æ’åœ¨é˜Ÿå°¾</span></span><br><span class="line"><span class="comment">// åœ†æ‹¬å·è¡¨ç¤ºé”®å€¼å¯¹ (key, val)</span></span><br><span class="line"></span><br><span class="line">cache.put(<span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line"><span class="comment">// cache = [(1, 1)]</span></span><br><span class="line"></span><br><span class="line">cache.put(<span class="number">2</span>, <span class="number">2</span>);</span><br><span class="line"><span class="comment">// cache = [(2, 2), (1, 1)]</span></span><br><span class="line"></span><br><span class="line">cache.get(<span class="number">1</span>);       <span class="comment">// è¿”å› 1</span></span><br><span class="line"><span class="comment">// cache = [(1, 1), (2, 2)]</span></span><br><span class="line"><span class="comment">// è§£é‡Šï¼šå› ä¸ºæœ€è¿‘è®¿é—®äº†é”® 1ï¼Œæ‰€ä»¥æå‰è‡³é˜Ÿå¤´</span></span><br><span class="line"><span class="comment">// è¿”å›é”® 1 å¯¹åº”çš„å€¼ 1</span></span><br><span class="line"></span><br><span class="line">cache.put(<span class="number">3</span>, <span class="number">3</span>);</span><br><span class="line"><span class="comment">// cache = [(3, 3), (1, 1)]</span></span><br><span class="line"><span class="comment">// è§£é‡Šï¼šç¼“å­˜å®¹é‡å·²æ»¡ï¼Œéœ€è¦åˆ é™¤å†…å®¹ç©ºå‡ºä½ç½®</span></span><br><span class="line"><span class="comment">// ä¼˜å…ˆåˆ é™¤ä¹…æœªä½¿ç”¨çš„æ•°æ®ï¼Œä¹Ÿå°±æ˜¯é˜Ÿå°¾çš„æ•°æ®</span></span><br><span class="line"><span class="comment">// ç„¶åæŠŠæ–°çš„æ•°æ®æ’å…¥é˜Ÿå¤´</span></span><br><span class="line"></span><br><span class="line">cache.get(<span class="number">2</span>);       <span class="comment">// è¿”å› -1 (æœªæ‰¾åˆ°)</span></span><br><span class="line"><span class="comment">// cache = [(3, 3), (1, 1)]</span></span><br><span class="line"><span class="comment">// è§£é‡Šï¼šcache ä¸­ä¸å­˜åœ¨é”®ä¸º 2 çš„æ•°æ®</span></span><br><span class="line"></span><br><span class="line">cache.put(<span class="number">1</span>, <span class="number">4</span>);    </span><br><span class="line"><span class="comment">// cache = [(1, 4), (3, 3)]</span></span><br><span class="line"><span class="comment">// è§£é‡Šï¼šé”® 1 å·²å­˜åœ¨ï¼ŒæŠŠåŸå§‹å€¼ 1 è¦†ç›–ä¸º 4</span></span><br><span class="line"><span class="comment">// ä¸è¦å¿˜äº†ä¹Ÿè¦å°†é”®å€¼å¯¹æå‰åˆ°é˜Ÿå¤´</span></span><br></pre></td></tr></table></figure>

<h4 id="äºŒã€LRU-ç®—æ³•è®¾è®¡"><a href="#äºŒã€LRU-ç®—æ³•è®¾è®¡" class="headerlink" title="äºŒã€LRU ç®—æ³•è®¾è®¡"></a>äºŒã€LRU ç®—æ³•è®¾è®¡</h4><p>åˆ†æä¸Šé¢çš„æ“ä½œè¿‡ç¨‹ï¼Œè¦è®© put å’Œ get æ–¹æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º O(1)ï¼Œæˆ‘ä»¬å¯ä»¥æ€»ç»“å‡º cache è¿™ä¸ªæ•°æ®ç»“æ„å¿…è¦çš„æ¡ä»¶ï¼š</p>
<p>1ã€æ˜¾ç„¶ cache ä¸­çš„å…ƒç´ å¿…é¡»æœ‰æ—¶åºï¼Œä»¥åŒºåˆ†æœ€è¿‘ä½¿ç”¨çš„å’Œä¹…æœªä½¿ç”¨çš„æ•°æ®ï¼Œå½“å®¹é‡æ»¡äº†ä¹‹åè¦åˆ é™¤æœ€ä¹…æœªä½¿ç”¨çš„é‚£ä¸ªå…ƒç´ è…¾ä½ç½®ã€‚</p>
<p>2ã€æˆ‘ä»¬è¦åœ¨ cache ä¸­å¿«é€Ÿæ‰¾æŸä¸ª key æ˜¯å¦å·²å­˜åœ¨å¹¶å¾—åˆ°å¯¹åº”çš„ valï¼›</p>
<p>3ã€æ¯æ¬¡è®¿é—® cache ä¸­çš„æŸä¸ª keyï¼Œéœ€è¦å°†è¿™ä¸ªå…ƒç´ å˜ä¸ºæœ€è¿‘ä½¿ç”¨çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ cache è¦æ”¯æŒåœ¨ä»»æ„ä½ç½®å¿«é€Ÿæ’å…¥å’Œåˆ é™¤å…ƒç´ ã€‚</p>
<p>é‚£ä¹ˆï¼Œä»€ä¹ˆæ•°æ®ç»“æ„åŒæ—¶ç¬¦åˆä¸Šè¿°æ¡ä»¶å‘¢ï¼Ÿå“ˆå¸Œè¡¨æŸ¥æ‰¾å¿«ï¼Œä½†æ˜¯æ•°æ®æ— å›ºå®šé¡ºåºï¼›é“¾è¡¨æœ‰é¡ºåºä¹‹åˆ†ï¼Œæ’å…¥åˆ é™¤å¿«ï¼Œä½†æ˜¯æŸ¥æ‰¾æ…¢ã€‚æ‰€ä»¥ç»“åˆä¸€ä¸‹ï¼Œå½¢æˆä¸€ç§æ–°çš„æ•°æ®ç»“æ„ï¼šå“ˆå¸Œé“¾è¡¨ LinkedHashMapã€‚</p>
<p>LRU ç¼“å­˜ç®—æ³•çš„æ ¸å¿ƒæ•°æ®ç»“æ„å°±æ˜¯å“ˆå¸Œé“¾è¡¨ï¼ŒåŒå‘é“¾è¡¨å’Œå“ˆå¸Œè¡¨çš„ç»“åˆä½“ã€‚è¿™ä¸ªæ•°æ®ç»“æ„é•¿è¿™æ ·ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1647580694-NAtygG-4.jpg" alt="img"></p>
<p>å€ŸåŠ©è¿™ä¸ªç»“æ„ï¼Œæˆ‘ä»¬æ¥é€ä¸€åˆ†æä¸Šé¢çš„ 3 ä¸ªæ¡ä»¶ï¼š</p>
<p>1ã€å¦‚æœæˆ‘ä»¬æ¯æ¬¡é»˜è®¤ä»é“¾è¡¨å°¾éƒ¨æ·»åŠ å…ƒç´ ï¼Œé‚£ä¹ˆæ˜¾ç„¶è¶Šé å°¾éƒ¨çš„å…ƒç´ å°±æ˜¯æœ€è¿‘ä½¿ç”¨çš„ï¼Œè¶Šé å¤´éƒ¨çš„å…ƒç´ å°±æ˜¯æœ€ä¹…æœªä½¿ç”¨çš„ã€‚</p>
<p>2ã€å¯¹äºæŸä¸€ä¸ª keyï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å“ˆå¸Œè¡¨å¿«é€Ÿå®šä½åˆ°é“¾è¡¨ä¸­çš„èŠ‚ç‚¹ï¼Œä»è€Œå–å¾—å¯¹åº” valã€‚</p>
<p>3ã€é“¾è¡¨æ˜¾ç„¶æ˜¯æ”¯æŒåœ¨ä»»æ„ä½ç½®å¿«é€Ÿæ’å…¥å’Œåˆ é™¤çš„ï¼Œæ”¹æ”¹æŒ‡é’ˆå°±è¡Œã€‚åªä¸è¿‡ä¼ ç»Ÿçš„é“¾è¡¨æ— æ³•æŒ‰ç…§ç´¢å¼•å¿«é€Ÿè®¿é—®æŸä¸€ä¸ªä½ç½®çš„å…ƒç´ ï¼Œè€Œè¿™é‡Œå€ŸåŠ©å“ˆå¸Œè¡¨ï¼Œå¯ä»¥é€šè¿‡ key å¿«é€Ÿæ˜ å°„åˆ°ä»»æ„ä¸€ä¸ªé“¾è¡¨èŠ‚ç‚¹ï¼Œç„¶åè¿›è¡Œæ’å…¥å’Œåˆ é™¤ã€‚</p>
<p>ä¸ºä»€ä¹ˆè¦æ˜¯åŒå‘é“¾è¡¨ï¼Œå•é“¾è¡¨è¡Œä¸è¡Œï¼Ÿå¦å¤–ï¼Œæ—¢ç„¶å“ˆå¸Œè¡¨ä¸­å·²ç»å­˜äº† keyï¼Œä¸ºä»€ä¹ˆé“¾è¡¨ä¸­è¿˜è¦å­˜ key å’Œ val å‘¢ï¼Œåªå­˜ val ä¸å°±è¡Œäº†ï¼Ÿ</p>
<h4 id="ä¸‰ã€ä»£ç å®ç°"><a href="#ä¸‰ã€ä»£ç å®ç°" class="headerlink" title="ä¸‰ã€ä»£ç å®ç°"></a>ä¸‰ã€ä»£ç å®ç°</h4><p>å¾ˆå¤šç¼–ç¨‹è¯­è¨€éƒ½æœ‰å†…ç½®çš„å“ˆå¸Œé“¾è¡¨æˆ–è€…ç±»ä¼¼ LRU åŠŸèƒ½çš„åº“å‡½æ•°ï¼Œä½†æ˜¯ä¸ºäº†å¸®å¤§å®¶ç†è§£ç®—æ³•çš„ç»†èŠ‚ï¼Œæˆ‘ä»¬å…ˆè‡ªå·±é€ è½®å­å®ç°ä¸€é LRU ç®—æ³•ï¼Œç„¶åå†ä½¿ç”¨ Java å†…ç½®çš„ LinkedHashMap æ¥å®ç°ä¸€éã€‚</p>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬æŠŠåŒé“¾è¡¨çš„èŠ‚ç‚¹ç±»å†™å‡ºæ¥ï¼Œä¸ºäº†ç®€åŒ–ï¼Œkey å’Œ val éƒ½è®¤ä¸ºæ˜¯ int ç±»å‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Node</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> key, val;</span><br><span class="line">    <span class="keyword">public</span> Node next, prev;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Node</span><span class="params">(<span class="type">int</span> k, <span class="type">int</span> v)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.key = k;</span><br><span class="line">        <span class="built_in">this</span>.val = v;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p>ç„¶åä¾é æˆ‘ä»¬çš„ Node ç±»å‹æ„å»ºä¸€ä¸ªåŒé“¾è¡¨ï¼Œå®ç°å‡ ä¸ª LRU ç®—æ³•å¿…é¡»çš„ APIï¼š </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">DoubleList</span> &#123;  </span><br><span class="line">    <span class="comment">// å¤´å°¾è™šèŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">private</span> Node head, tail;  </span><br><span class="line">    <span class="comment">// é“¾è¡¨å…ƒç´ æ•°</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> size;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">DoubleList</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// åˆå§‹åŒ–åŒå‘é“¾è¡¨çš„æ•°æ®</span></span><br><span class="line">        head = <span class="keyword">new</span> <span class="title class_">Node</span>(<span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">        tail = <span class="keyword">new</span> <span class="title class_">Node</span>(<span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">        head.next = tail;</span><br><span class="line">        tail.prev = head;</span><br><span class="line">        size = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åœ¨é“¾è¡¨å°¾éƒ¨æ·»åŠ èŠ‚ç‚¹ xï¼Œæ—¶é—´ O(1)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addLast</span><span class="params">(Node x)</span> &#123;</span><br><span class="line">        x.prev = tail.prev;</span><br><span class="line">        x.next = tail;</span><br><span class="line">        tail.prev.next = x;</span><br><span class="line">        tail.prev = x;</span><br><span class="line">        size++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ é™¤é“¾è¡¨ä¸­çš„ x èŠ‚ç‚¹ï¼ˆx ä¸€å®šå­˜åœ¨ï¼‰</span></span><br><span class="line">    <span class="comment">// ç”±äºæ˜¯åŒé“¾è¡¨ä¸”ç»™çš„æ˜¯ç›®æ ‡ Node èŠ‚ç‚¹ï¼Œæ—¶é—´ O(1)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">remove</span><span class="params">(Node x)</span> &#123;</span><br><span class="line">        x.prev.next = x.next;</span><br><span class="line">        x.next.prev = x.prev;</span><br><span class="line">        size--;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ é™¤é“¾è¡¨ä¸­ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¹¶è¿”å›è¯¥èŠ‚ç‚¹ï¼Œæ—¶é—´ O(1)</span></span><br><span class="line">    <span class="keyword">public</span> Node <span class="title function_">removeFirst</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (head.next == tail)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">Node</span> <span class="variable">first</span> <span class="operator">=</span> head.next;</span><br><span class="line">        remove(first);</span><br><span class="line">        <span class="keyword">return</span> first;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿”å›é“¾è¡¨é•¿åº¦ï¼Œæ—¶é—´ O(1)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">size</span><span class="params">()</span> &#123; <span class="keyword">return</span> size; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p>åˆ°è¿™é‡Œå°±èƒ½å›ç­”åˆšæ‰ã€Œä¸ºä»€ä¹ˆå¿…é¡»è¦ç”¨åŒå‘é“¾è¡¨ã€çš„é—®é¢˜äº†ï¼Œå› ä¸ºæˆ‘ä»¬éœ€è¦åˆ é™¤æ“ä½œã€‚åˆ é™¤ä¸€ä¸ªèŠ‚ç‚¹ä¸å…‰è¦å¾—åˆ°è¯¥èŠ‚ç‚¹æœ¬èº«çš„æŒ‡é’ˆï¼Œä¹Ÿéœ€è¦æ“ä½œå…¶å‰é©±èŠ‚ç‚¹çš„æŒ‡é’ˆï¼Œè€ŒåŒå‘é“¾è¡¨æ‰èƒ½æ”¯æŒç›´æ¥æŸ¥æ‰¾å‰é©±ï¼Œä¿è¯æ“ä½œçš„æ—¶é—´å¤æ‚åº¦ O(1)ã€‚</p>
<p>æ³¨æ„æˆ‘ä»¬å®ç°çš„åŒé“¾è¡¨ API åªèƒ½ä»å°¾éƒ¨æ’å…¥ï¼Œä¹Ÿå°±æ˜¯è¯´é å°¾éƒ¨çš„æ•°æ®æ˜¯æœ€è¿‘ä½¿ç”¨çš„ï¼Œé å¤´éƒ¨çš„æ•°æ®æ˜¯æœ€ä¹…ä¸ºä½¿ç”¨çš„ã€‚</p>
<p>æœ‰äº†åŒå‘é“¾è¡¨çš„å®ç°ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨ LRU ç®—æ³•ä¸­æŠŠå®ƒå’Œå“ˆå¸Œè¡¨ç»“åˆèµ·æ¥å³å¯ï¼Œå…ˆæ­å‡ºä»£ç æ¡†æ¶ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">LRUCache</span> &#123;</span><br><span class="line">    <span class="comment">// key -&gt; Node(key, val)</span></span><br><span class="line">    <span class="keyword">private</span> HashMap&lt;Integer, Node&gt; map;</span><br><span class="line">    <span class="comment">// Node(k1, v1) &lt;-&gt; Node(k2, v2)...</span></span><br><span class="line">    <span class="keyword">private</span> DoubleList cache;</span><br><span class="line">    <span class="comment">// æœ€å¤§å®¹é‡</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> cap;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">LRUCache</span><span class="params">(<span class="type">int</span> capacity)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.cap = capacity;</span><br><span class="line">        map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        cache = <span class="keyword">new</span> <span class="title class_">DoubleList</span>();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å…ˆä¸æ…Œå»å®ç° LRU ç®—æ³•çš„ get å’Œ put æ–¹æ³•ã€‚ç”±äºæˆ‘ä»¬è¦åŒæ—¶ç»´æŠ¤ä¸€ä¸ªåŒé“¾è¡¨ cache å’Œä¸€ä¸ªå“ˆå¸Œè¡¨ mapï¼Œå¾ˆå®¹æ˜“æ¼æ‰ä¸€äº›æ“ä½œï¼Œæ¯”å¦‚è¯´åˆ é™¤æŸä¸ª key æ—¶ï¼Œåœ¨ cache ä¸­åˆ é™¤äº†å¯¹åº”çš„ Nodeï¼Œä½†æ˜¯å´å¿˜è®°åœ¨ map ä¸­åˆ é™¤ keyã€‚</p>
<p>è§£å†³è¿™ç§é—®é¢˜çš„æœ‰æ•ˆæ–¹æ³•æ˜¯ï¼šåœ¨è¿™ä¸¤ç§æ•°æ®ç»“æ„ä¹‹ä¸Šæä¾›ä¸€å±‚æŠ½è±¡ APIã€‚</p>
<p>è¯´çš„æœ‰ç‚¹ç„å¹»ï¼Œå®é™…ä¸Šå¾ˆç®€å•ï¼Œå°±æ˜¯å°½é‡è®© LRU çš„ä¸»æ–¹æ³• get å’Œ put é¿å…ç›´æ¥æ“ä½œ map å’Œ cache çš„ç»†èŠ‚ã€‚æˆ‘ä»¬å¯ä»¥å…ˆå®ç°ä¸‹é¢å‡ ä¸ªå‡½æ•°ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* å°†æŸä¸ª key æå‡ä¸ºæœ€è¿‘ä½¿ç”¨çš„ */</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">makeRecently</span><span class="params">(<span class="type">int</span> key)</span> &#123;</span><br><span class="line">    <span class="type">Node</span> <span class="variable">x</span> <span class="operator">=</span> map.get(key);</span><br><span class="line">    <span class="comment">// å…ˆä»é“¾è¡¨ä¸­åˆ é™¤è¿™ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">    cache.remove(x);</span><br><span class="line">    <span class="comment">// é‡æ–°æ’åˆ°é˜Ÿå°¾</span></span><br><span class="line">    cache.addLast(x);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æ·»åŠ æœ€è¿‘ä½¿ç”¨çš„å…ƒç´  */</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">addRecently</span><span class="params">(<span class="type">int</span> key, <span class="type">int</span> val)</span> &#123;</span><br><span class="line">    <span class="type">Node</span> <span class="variable">x</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Node</span>(key, val);</span><br><span class="line">    <span class="comment">// é“¾è¡¨å°¾éƒ¨å°±æ˜¯æœ€è¿‘ä½¿ç”¨çš„å…ƒç´ </span></span><br><span class="line">    cache.addLast(x);</span><br><span class="line">    <span class="comment">// åˆ«å¿˜äº†åœ¨ map ä¸­æ·»åŠ  key çš„æ˜ å°„</span></span><br><span class="line">    map.put(key, x);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* åˆ é™¤æŸä¸€ä¸ª key */</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">deleteKey</span><span class="params">(<span class="type">int</span> key)</span> &#123;</span><br><span class="line">    <span class="type">Node</span> <span class="variable">x</span> <span class="operator">=</span> map.get(key);</span><br><span class="line">    <span class="comment">// ä»é“¾è¡¨ä¸­åˆ é™¤</span></span><br><span class="line">    cache.remove(x);</span><br><span class="line">    <span class="comment">// ä» map ä¸­åˆ é™¤</span></span><br><span class="line">    map.remove(key);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* åˆ é™¤æœ€ä¹…æœªä½¿ç”¨çš„å…ƒç´  */</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">removeLeastRecently</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// é“¾è¡¨å¤´éƒ¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ å°±æ˜¯æœ€ä¹…æœªä½¿ç”¨çš„</span></span><br><span class="line">    <span class="type">Node</span> <span class="variable">deletedNode</span> <span class="operator">=</span> cache.removeFirst();</span><br><span class="line">    <span class="comment">// åŒæ—¶åˆ«å¿˜äº†ä» map ä¸­åˆ é™¤å®ƒçš„ key</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">deletedKey</span> <span class="operator">=</span> deletedNode.key;</span><br><span class="line">    map.remove(deletedKey);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p>è¿™é‡Œå°±èƒ½å›ç­”ä¹‹å‰çš„é—®ç­”é¢˜ã€Œä¸ºä»€ä¹ˆè¦åœ¨é“¾è¡¨ä¸­åŒæ—¶å­˜å‚¨ key å’Œ valï¼Œè€Œä¸æ˜¯åªå­˜å‚¨ valã€ï¼Œæ³¨æ„ removeLeastRecently å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬éœ€è¦ç”¨ deletedNode å¾—åˆ° deletedKeyã€‚</p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“ç¼“å­˜å®¹é‡å·²æ»¡ï¼Œæˆ‘ä»¬ä¸ä»…ä»…è¦åˆ é™¤æœ€åä¸€ä¸ª Node èŠ‚ç‚¹ï¼Œè¿˜è¦æŠŠ map ä¸­æ˜ å°„åˆ°è¯¥èŠ‚ç‚¹çš„ key åŒæ—¶åˆ é™¤ï¼Œè€Œè¿™ä¸ª key åªèƒ½ç”± Node å¾—åˆ°ã€‚å¦‚æœ Node ç»“æ„ä¸­åªå­˜å‚¨ valï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±æ— æ³•å¾—çŸ¥ key æ˜¯ä»€ä¹ˆï¼Œå°±æ— æ³•åˆ é™¤ map ä¸­çš„é”®ï¼Œé€ æˆé”™è¯¯ã€‚</p>
<p>ä¸Šè¿°æ–¹æ³•å°±æ˜¯ç®€å•çš„æ“ä½œå°è£…ï¼Œè°ƒç”¨è¿™äº›å‡½æ•°å¯ä»¥é¿å…ç›´æ¥æ“ä½œ cache é“¾è¡¨å’Œ map å“ˆå¸Œè¡¨ï¼Œä¸‹é¢æˆ‘å…ˆæ¥å®ç° LRU ç®—æ³•çš„ get æ–¹æ³•ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">get</span><span class="params">(<span class="type">int</span> key)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (!map.containsKey(key)) &#123;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å°†è¯¥æ•°æ®æå‡ä¸ºæœ€è¿‘ä½¿ç”¨çš„</span></span><br><span class="line">    makeRecently(key);</span><br><span class="line">    <span class="keyword">return</span> map.get(key).val;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p>put æ–¹æ³•ç¨å¾®å¤æ‚ä¸€äº›ï¼Œæˆ‘ä»¬å…ˆæ¥ç”»ä¸ªå›¾ææ¸…æ¥šå®ƒçš„é€»è¾‘ï¼š</p>
<p>è¿™æ ·æˆ‘ä»¬å¯ä»¥è½»æ¾å†™å‡º put æ–¹æ³•çš„ä»£ç ï¼š </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">put</span><span class="params">(<span class="type">int</span> key, <span class="type">int</span> val)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (map.containsKey(key)) &#123;</span><br><span class="line">        <span class="comment">// åˆ é™¤æ—§çš„æ•°æ®</span></span><br><span class="line">        deleteKey(key);</span><br><span class="line">        <span class="comment">// æ–°æ’å…¥çš„æ•°æ®ä¸ºæœ€è¿‘ä½¿ç”¨çš„æ•°æ®</span></span><br><span class="line">        addRecently(key, val);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;    </span><br><span class="line">    <span class="keyword">if</span> (cap == cache.size()) &#123;</span><br><span class="line">        <span class="comment">// åˆ é™¤æœ€ä¹…æœªä½¿ç”¨çš„å…ƒç´ </span></span><br><span class="line">        removeLeastRecently();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// æ·»åŠ ä¸ºæœ€è¿‘ä½¿ç”¨çš„å…ƒç´ </span></span><br><span class="line">    addRecently(key, val);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è‡³æ­¤ï¼Œä½ åº”è¯¥å·²ç»å®Œå…¨æŒæ¡ LRU ç®—æ³•çš„åŸç†å’Œå®ç°äº†ï¼Œæˆ‘ä»¬æœ€åç”¨ Java çš„å†…ç½®ç±»å‹ LinkedHashMap æ¥å®ç° LRU ç®—æ³•ï¼Œé€»è¾‘å’Œä¹‹å‰å®Œå…¨ä¸€è‡´ï¼Œæˆ‘å°±ä¸è¿‡å¤šè§£é‡Šäº†ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">LRUCache</span> &#123;</span><br><span class="line">    <span class="type">int</span> cap;</span><br><span class="line">    LinkedHashMap&lt;Integer, Integer&gt; cache = <span class="keyword">new</span> <span class="title class_">LinkedHashMap</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">LRUCache</span><span class="params">(<span class="type">int</span> capacity)</span> &#123; </span><br><span class="line">        <span class="built_in">this</span>.cap = capacity;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">get</span><span class="params">(<span class="type">int</span> key)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (!cache.containsKey(key)) &#123;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å°† key å˜ä¸ºæœ€è¿‘ä½¿ç”¨</span></span><br><span class="line">        makeRecently(key);</span><br><span class="line">        <span class="keyword">return</span> cache.get(key);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">put</span><span class="params">(<span class="type">int</span> key, <span class="type">int</span> val)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (cache.containsKey(key)) &#123;</span><br><span class="line">            <span class="comment">// ä¿®æ”¹ key çš„å€¼</span></span><br><span class="line">            cache.put(key, val);</span><br><span class="line">            <span class="comment">// å°† key å˜ä¸ºæœ€è¿‘ä½¿ç”¨</span></span><br><span class="line">            makeRecently(key);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (cache.size() &gt;= <span class="built_in">this</span>.cap) &#123;</span><br><span class="line">            <span class="comment">// é“¾è¡¨å¤´éƒ¨å°±æ˜¯æœ€ä¹…æœªä½¿ç”¨çš„ key</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">oldestKey</span> <span class="operator">=</span> cache.keySet().iterator().next();</span><br><span class="line">            cache.remove(oldestKey);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å°†æ–°çš„ key æ·»åŠ é“¾è¡¨å°¾éƒ¨</span></span><br><span class="line">        cache.put(key, val);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">makeRecently</span><span class="params">(<span class="type">int</span> key)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">val</span> <span class="operator">=</span> cache.get(key);</span><br><span class="line">        <span class="comment">// åˆ é™¤ keyï¼Œé‡æ–°æ’å…¥åˆ°é˜Ÿå°¾</span></span><br><span class="line">        cache.remove(key);</span><br><span class="line">        cache.put(key, val);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è‡³æ­¤ï¼ŒLRU ç®—æ³•å°±æ²¡æœ‰ä»€ä¹ˆç¥ç§˜çš„äº†ã€‚</p>
<h4 id="å››ã€LinkedHashMapæºç åˆ†æ"><a href="#å››ã€LinkedHashMapæºç åˆ†æ" class="headerlink" title="å››ã€LinkedHashMapæºç åˆ†æ"></a>å››ã€LinkedHashMapæºç åˆ†æ</h4><p>ç®€å•ä»‹ç»LinkedHashMapï¼ˆè·Ÿé¢˜ç›®æœ‰å…³çš„çŸ¥è¯†ç‚¹ï¼‰</p>
<p>HashMap å¤§å®¶éƒ½æ¸…æ¥šï¼Œåº•å±‚æ˜¯ æ•°ç»„ + çº¢é»‘æ ‘ + é“¾è¡¨ ï¼ˆä¸æ¸…æ¥šä¹Ÿæ²¡æœ‰å…³ç³»ï¼‰ï¼ŒåŒæ—¶å…¶æ˜¯æ— åºçš„ï¼Œè€Œ LinkedHashMap åˆšå¥½å°±æ¯” HashMap å¤šè¿™ä¸€ä¸ªåŠŸèƒ½ï¼Œå°±æ˜¯å…¶æä¾› æœ‰åºï¼Œå¹¶ä¸”ï¼ŒLinkedHashMapçš„æœ‰åºå¯ä»¥æŒ‰ä¸¤ç§é¡ºåºæ’åˆ—ï¼Œä¸€ç§æ˜¯æŒ‰ç…§æ’å…¥çš„é¡ºåºï¼Œä¸€ç§æ˜¯æŒ‰ç…§è¯»å–çš„é¡ºåºï¼ˆè¿™ä¸ªé¢˜ç›®çš„ç¤ºä¾‹å°±æ˜¯å‘Šè¯‰æˆ‘ä»¬è¦æŒ‰ç…§è¯»å–çš„é¡ºåºè¿›è¡Œæ’åºï¼‰ï¼Œè€Œå…¶å†…éƒ¨æ˜¯é  å»ºç«‹ä¸€ä¸ªåŒå‘é“¾è¡¨ æ¥ç»´æŠ¤è¿™ä¸ªé¡ºåºçš„ï¼Œåœ¨æ¯æ¬¡æ’å…¥ã€åˆ é™¤åï¼Œéƒ½ä¼šè°ƒç”¨ä¸€ä¸ªå‡½æ•°æ¥è¿›è¡Œ åŒå‘é“¾è¡¨çš„ç»´æŠ¤ ï¼Œå‡†ç¡®çš„æ¥è¯´ï¼Œæ˜¯æœ‰ä¸‰ä¸ªå‡½æ•°æ¥åšè¿™ä»¶äº‹ï¼Œè¿™ä¸‰ä¸ªå‡½æ•°éƒ½ç»Ÿç§°ä¸º å›è°ƒå‡½æ•° ï¼Œè¿™ä¸‰ä¸ªå‡½æ•°åˆ†åˆ«æ˜¯ï¼š</p>
<p>void afterNodeAccess(Node&lt;K,V&gt; p) { }<br>å…¶ä½œç”¨å°±æ˜¯åœ¨è®¿é—®å…ƒç´ ä¹‹åï¼Œå°†è¯¥å…ƒç´ æ”¾åˆ°åŒå‘é“¾è¡¨çš„å°¾å·´å¤„(æ‰€ä»¥è¿™ä¸ªå‡½æ•°åªæœ‰åœ¨æŒ‰ç…§è¯»å–çš„é¡ºåºçš„æ—¶å€™æ‰ä¼šæ‰§è¡Œ)ï¼Œä¹‹æ‰€ä»¥æè¿™ä¸ªï¼Œæ˜¯å»ºè®®å¤§å®¶å»çœ‹çœ‹ï¼Œå¦‚ä½•ä¼˜ç¾çš„å®ç°åœ¨åŒå‘é“¾è¡¨ä¸­å°†æŒ‡å®šå…ƒç´ æ”¾å…¥é“¾å°¾ï¼<br>void afterNodeRemoval(Node&lt;K,V&gt; p) { }<br>å…¶ä½œç”¨å°±æ˜¯åœ¨åˆ é™¤å…ƒç´ ä¹‹åï¼Œå°†å…ƒç´ ä»åŒå‘é“¾è¡¨ä¸­åˆ é™¤ï¼Œè¿˜æ˜¯éå¸¸å»ºè®®å¤§å®¶å»çœ‹çœ‹è¿™ä¸ªå‡½æ•°çš„ï¼Œå¾ˆä¼˜ç¾çš„æ–¹å¼åœ¨åŒå‘é“¾è¡¨ä¸­åˆ é™¤èŠ‚ç‚¹ï¼<br>void afterNodeInsertion(boolean evict) { }<br>è¿™ä¸ªæ‰æ˜¯æˆ‘ä»¬é¢˜ç›®ä¸­ä¼šç”¨åˆ°çš„ï¼Œåœ¨æ’å…¥æ–°å…ƒç´ ä¹‹åï¼Œéœ€è¦å›è°ƒå‡½æ•°åˆ¤æ–­æ˜¯å¦éœ€è¦ç§»é™¤ä¸€ç›´ä¸ç”¨çš„æŸäº›å…ƒç´ ï¼<br>å…¶æ¬¡ï¼Œæˆ‘å†ä»‹ç»ä¸€ä¸‹ LinkedHashMap çš„æ„é€ å‡½æ•°ï¼<br>å…¶ä¸»è¦æ˜¯ä¸¤ä¸ªæ„é€ æ–¹æ³•ï¼Œä¸€ä¸ªæ˜¯ç»§æ‰¿ HashMap ï¼Œä¸€ä¸ªæ˜¯å¯ä»¥é€‰æ‹© accessOrder çš„å€¼(é»˜è®¤ falseï¼Œä»£è¡¨æŒ‰ç…§æ’å…¥é¡ºåºæ’åº)æ¥ç¡®å®šæ˜¯æŒ‰æ’å…¥é¡ºåºè¿˜æ˜¯è¯»å–é¡ºåºæ’åºã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * //è°ƒç”¨çˆ¶ç±»HashMapçš„æ„é€ æ–¹æ³•ã€‚</span></span><br><span class="line"><span class="comment"> * Constructs an empty insertion-ordered &lt;tt&gt;LinkedHashMap&lt;/tt&gt; instance</span></span><br><span class="line"><span class="comment"> * with the default initial capacity (16) and load factor (0.75).</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="title function_">LinkedHashMap</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="built_in">super</span>();</span><br><span class="line">    accessOrder = <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è¿™é‡Œçš„ accessOrder é»˜è®¤æ˜¯ä¸ºfalseï¼Œå¦‚æœè¦æŒ‰è¯»å–é¡ºåºæ’åºéœ€è¦å°†å…¶è®¾ä¸º true</span></span><br><span class="line"><span class="comment">// initialCapacity ä»£è¡¨ map çš„ å®¹é‡ï¼ŒloadFactor ä»£è¡¨åŠ è½½å› å­ (é»˜è®¤å³å¯)</span></span><br><span class="line"><span class="keyword">public</span> <span class="title function_">LinkedHashMap</span><span class="params">(<span class="type">int</span> initialCapacity, <span class="type">float</span> loadFactor, <span class="type">boolean</span> accessOrder)</span> &#123;</span><br><span class="line">    <span class="built_in">super</span>(initialCapacity, loadFactor);</span><br><span class="line">    <span class="built_in">this</span>.accessOrder = accessOrder;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ€è·¯ &amp; ä»£ç <br>ä¸‹é¢æ˜¯æˆ‘è‡ªå·±åœ¨åˆ†æ LinkedHashMap æºç æ—¶åšçš„ä¸€äº›ç¬”è®°ï¼Œåº”è¯¥æ˜¯æ¯”è¾ƒæ¸…æ¥šçš„ï¼Œä¸»ä½“æ„æ€å°±æ˜¯æˆ‘ä»¬è¦ç»§æ‰¿ LinkedHashMapï¼Œç„¶åå¤å†™ removeEldestEntry()å‡½æ•°ï¼Œå°±èƒ½æ‹¥æœ‰æˆ‘ä»¬è‡ªå·±çš„ç¼“å­˜ç­–ç•¥ï¼</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åœ¨æ’å…¥ä¸€ä¸ªæ–°å…ƒç´ ä¹‹åï¼Œå¦‚æœæ˜¯æŒ‰æ’å…¥é¡ºåºæ’åºï¼Œå³è°ƒç”¨newNode()ä¸­çš„linkNodeLast()å®Œæˆ</span></span><br><span class="line"><span class="comment">// å¦‚æœæ˜¯æŒ‰ç…§è¯»å–é¡ºåºæ’åºï¼Œå³è°ƒç”¨afterNodeAccess()å®Œæˆ</span></span><br><span class="line"><span class="comment">// é‚£ä¹ˆè¿™ä¸ªæ–¹æ³•æ˜¯å¹²å˜›çš„å‘¢ï¼Œè¿™ä¸ªå°±æ˜¯è‘—åçš„ LRU ç®—æ³•å•¦</span></span><br><span class="line"><span class="comment">// åœ¨æ’å…¥å®Œæˆä¹‹åï¼Œéœ€è¦å›è°ƒå‡½æ•°åˆ¤æ–­æ˜¯å¦éœ€è¦ç§»é™¤æŸäº›å…ƒç´ ï¼</span></span><br><span class="line"><span class="comment">// LinkedHashMap å‡½æ•°éƒ¨åˆ†æºç </span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ’å…¥æ–°èŠ‚ç‚¹æ‰ä¼šè§¦å‘è¯¥æ–¹æ³•ï¼Œå› ä¸ºåªæœ‰æ’å…¥æ–°èŠ‚ç‚¹æ‰éœ€è¦å†…å­˜</span></span><br><span class="line"><span class="comment"> * æ ¹æ® HashMap çš„ putVal æ–¹æ³•, evict ä¸€ç›´æ˜¯ true</span></span><br><span class="line"><span class="comment"> * removeEldestEntry æ–¹æ³•è¡¨ç¤ºç§»é™¤è§„åˆ™, åœ¨ LinkedHashMap é‡Œä¸€ç›´è¿”å› false</span></span><br><span class="line"><span class="comment"> * æ‰€ä»¥åœ¨ LinkedHashMap é‡Œè¿™ä¸ªæ–¹æ³•ç›¸å½“äºä»€ä¹ˆéƒ½ä¸åš</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">afterNodeInsertion</span><span class="params">(<span class="type">boolean</span> evict)</span> &#123; <span class="comment">// possibly remove eldest</span></span><br><span class="line">    LinkedHashMap.Entry&lt;K,V&gt; first;</span><br><span class="line">    <span class="comment">// æ ¹æ®æ¡ä»¶åˆ¤æ–­æ˜¯å¦ç§»é™¤æœ€è¿‘æœ€å°‘è¢«è®¿é—®çš„èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">if</span> (evict &amp;&amp; (first = head) != <span class="literal">null</span> &amp;&amp; removeEldestEntry(first)) &#123;</span><br><span class="line">        <span class="type">K</span> <span class="variable">key</span> <span class="operator">=</span> first.key;</span><br><span class="line">        removeNode(hash(key), key, <span class="literal">null</span>, <span class="literal">false</span>, <span class="literal">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç§»é™¤æœ€è¿‘æœ€å°‘è¢«è®¿é—®æ¡ä»¶ä¹‹ä¸€ï¼Œé€šè¿‡è¦†ç›–æ­¤æ–¹æ³•å¯å®ç°ä¸åŒç­–ç•¥çš„ç¼“å­˜</span></span><br><span class="line"><span class="comment">// LinkedHashMapæ˜¯é»˜è®¤è¿”å›falseçš„ï¼Œæˆ‘ä»¬å¯ä»¥ç»§æ‰¿LinkedHashMapç„¶åå¤å†™è¯¥æ–¹æ³•å³å¯</span></span><br><span class="line"><span class="comment">// ä¾‹å¦‚ LeetCode ç¬¬ 146 é¢˜å°±æ˜¯é‡‡ç”¨è¯¥ç§æ–¹æ³•ï¼Œç›´æ¥ return size() &gt; capacity;</span></span><br><span class="line"><span class="keyword">protected</span> <span class="type">boolean</span> <span class="title function_">removeEldestEntry</span><span class="params">(Map.Entry&lt;K,V&gt; eldest)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>é€šè¿‡ä¸Šè¿°ä»£ç ï¼Œæˆ‘ä»¬å°±å·²ç»çŸ¥é“äº†åªè¦å¤å†™ removeEldestEntry() å³å¯ï¼Œè€Œæ¡ä»¶å°±æ˜¯ map çš„å¤§å°ä¸è¶…è¿‡ ç»™å®šçš„å®¹é‡ï¼Œè¶…è¿‡äº†å°±å¾—ä½¿ç”¨ LRU äº†ï¼ç„¶åæ ¹æ®é¢˜ç›®ç»™å®šçš„è¯­å¥æ„é€ å’Œè°ƒç”¨ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * LRUCache å¯¹è±¡ä¼šä»¥å¦‚ä¸‹è¯­å¥æ„é€ å’Œè°ƒç”¨:</span></span><br><span class="line"><span class="comment"> * LRUCache obj = new LRUCache(capacity);</span></span><br><span class="line"><span class="comment"> * int param_1 = obj.get(key);</span></span><br><span class="line"><span class="comment"> * obj.put(key,value);</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>



<p>å¾ˆæ˜æ˜¾æˆ‘ä»¬åªéœ€è¦ç›´æ¥ç»§æ‰¿çˆ¶ç±»çš„putå‡½æ•°å³å¯ï¼Œå› ä¸ºé¢˜ç›®æ²¡æœ‰ç‰¹æ®Šè¦æ±‚ï¼Œæ•…å¯ä»¥ä¸å†™ï¼è‡³äº get() å‡½æ•°ï¼Œé¢˜ç›®æ˜¯æœ‰è¦æ±‚çš„ï¼</p>
<p>è·å–æ•°æ® get(key) - å¦‚æœå¯†é’¥ (key) å­˜åœ¨äºç¼“å­˜ä¸­ï¼Œåˆ™è·å–å¯†é’¥çš„å€¼ï¼ˆæ€»æ˜¯æ­£æ•°ï¼‰ï¼Œå¦åˆ™è¿”å› -1ã€‚</p>
<p>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥è°ƒç”¨ LinkedHashMap ä¸­çš„ getOrDefault()ï¼Œå®Œç¾ç¬¦åˆè¿™ä¸ªè¦æ±‚ï¼Œå³å½“keyä¸å­˜åœ¨æ—¶ä¼šè¿”å›é»˜è®¤å€¼ -1ã€‚</p>
<p>è‡³æ­¤ï¼Œæˆ‘ä»¬å°±åŸºæœ¬å®Œæˆäº†æœ¬é¢˜çš„è¦æ±‚ï¼Œåªè¦å†™ä¸€ä¸ªæ„é€ å‡½æ•°å³å¯ï¼Œç­”æ¡ˆçš„ super(capacity, 0.75F, true);ï¼Œæ²¡çœ‹è¿‡æºç çš„å°ä¼™ä¼´å¯èƒ½ä¸å¤ªæ¸…æ¥šè¿™ä¸ªæ„é€ å‡½æ•°ï¼Œè¿™å°±æ˜¯æˆ‘ä¸Šæ–‡è®²çš„ LinkedHashMap ä¸­çš„å¸¸ç”¨çš„ç¬¬äºŒä¸ªæ„é€ æ–¹æ³•ï¼Œå…·ä½“å¤§å®¶å¯ä»¥çœ‹æˆ‘ä¸Šé¢ä»£ç çš„æ³¨é‡Šï¼</p>
<p>å¾ˆæ˜æ˜¾æˆ‘ä»¬åªéœ€è¦ç›´æ¥ç»§æ‰¿çˆ¶ç±»çš„putå‡½æ•°å³å¯ï¼Œå› ä¸ºé¢˜ç›®æ²¡æœ‰ç‰¹æ®Šè¦æ±‚ï¼Œæ•…å¯ä»¥ä¸å†™ï¼è‡³äº get() å‡½æ•°ï¼Œé¢˜ç›®æ˜¯æœ‰è¦æ±‚çš„ï¼</p>
<p>è·å–æ•°æ® get(key) - å¦‚æœå¯†é’¥ (key) å­˜åœ¨äºç¼“å­˜ä¸­ï¼Œåˆ™è·å–å¯†é’¥çš„å€¼ï¼ˆæ€»æ˜¯æ­£æ•°ï¼‰ï¼Œå¦åˆ™è¿”å› -1ã€‚</p>
<p>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥è°ƒç”¨ LinkedHashMap ä¸­çš„ getOrDefault()ï¼Œå®Œç¾ç¬¦åˆè¿™ä¸ªè¦æ±‚ï¼Œå³å½“keyä¸å­˜åœ¨æ—¶ä¼šè¿”å›é»˜è®¤å€¼ -1ã€‚</p>
<p>è‡³æ­¤ï¼Œæˆ‘ä»¬å°±åŸºæœ¬å®Œæˆäº†æœ¬é¢˜çš„è¦æ±‚ï¼Œåªè¦å†™ä¸€ä¸ªæ„é€ å‡½æ•°å³å¯ï¼Œç­”æ¡ˆçš„ super(capacity, 0.75F, true);ï¼Œæ²¡çœ‹è¿‡æºç çš„å°ä¼™ä¼´å¯èƒ½ä¸å¤ªæ¸…æ¥šè¿™ä¸ªæ„é€ å‡½æ•°ï¼Œè¿™å°±æ˜¯æˆ‘ä¸Šæ–‡è®²çš„ LinkedHashMap ä¸­çš„å¸¸ç”¨çš„ç¬¬äºŒä¸ªæ„é€ æ–¹æ³•ï¼Œå…·ä½“å¤§å®¶å¯ä»¥çœ‹æˆ‘ä¸Šé¢ä»£ç çš„æ³¨é‡Šï¼</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">LRUCache</span> <span class="keyword">extends</span> <span class="title class_">LinkedHashMap</span>&lt;Integer, Integer&gt;&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> capacity;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">LRUCache</span><span class="params">(<span class="type">int</span> capacity)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(capacity, <span class="number">0.75F</span>, <span class="literal">true</span>);</span><br><span class="line">        <span class="built_in">this</span>.capacity = capacity;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">get</span><span class="params">(<span class="type">int</span> key)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">super</span>.getOrDefault(key, -<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿™ä¸ªå¯ä¸å†™</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">put</span><span class="params">(<span class="type">int</span> key, <span class="type">int</span> value)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>.put(key, value);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="type">boolean</span> <span class="title function_">removeEldestEntry</span><span class="params">(Map.Entry&lt;Integer, Integer&gt; eldest)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> size() &gt; capacity; </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>æœ€åï¼Œé™„ä¸Šæˆ‘æœ€å¼€å§‹è®²çš„é‚£ä¸¤ä¸ªå‡½æ•°çš„æºç ä»¥åŠéƒ¨åˆ†è‡ªå·±çš„è§£æ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ ‡å‡†çš„å¦‚ä½•åœ¨åŒå‘é“¾è¡¨ä¸­å°†æŒ‡å®šå…ƒç´ æ”¾å…¥é˜Ÿå°¾</span></span><br><span class="line"><span class="comment">// LinkedHashMap ä¸­è¦†å†™</span></span><br><span class="line"><span class="comment">//è®¿é—®å…ƒç´ ä¹‹åçš„å›è°ƒæ–¹æ³•</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 1. ä½¿ç”¨ get æ–¹æ³•ä¼šè®¿é—®åˆ°èŠ‚ç‚¹, ä»è€Œè§¦å‘è°ƒç”¨è¿™ä¸ªæ–¹æ³•</span></span><br><span class="line"><span class="comment"> * 2. ä½¿ç”¨ put æ–¹æ³•æ’å…¥èŠ‚ç‚¹, å¦‚æœ key å­˜åœ¨, ä¹Ÿç®—è¦è®¿é—®èŠ‚ç‚¹, ä»è€Œè§¦å‘è¯¥æ–¹æ³•</span></span><br><span class="line"><span class="comment"> * 3. åªæœ‰ accessOrder æ˜¯ true æ‰ä¼šè°ƒç”¨è¯¥æ–¹æ³•</span></span><br><span class="line"><span class="comment"> * 4. è¿™ä¸ªæ–¹æ³•ä¼šæŠŠè®¿é—®åˆ°çš„æœ€åèŠ‚ç‚¹é‡æ–°æ’å…¥åˆ°åŒå‘é“¾è¡¨ç»“å°¾</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">afterNodeAccess</span><span class="params">(Node&lt;K,V&gt; e)</span> &#123; <span class="comment">// move node to last</span></span><br><span class="line">    <span class="comment">// ç”¨ last è¡¨ç¤ºæ’å…¥ e å‰çš„å°¾èŠ‚ç‚¹</span></span><br><span class="line">    <span class="comment">// æ’å…¥ e å e æ˜¯å°¾èŠ‚ç‚¹, æ‰€ä»¥ä¹Ÿæ˜¯è¡¨ç¤º e çš„å‰ä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">    LinkedHashMap.Entry&lt;K,V&gt; last;</span><br><span class="line">    <span class="comment">//å¦‚æœæ˜¯è®¿é—®åºï¼Œä¸”å½“å‰èŠ‚ç‚¹å¹¶ä¸æ˜¯å°¾èŠ‚ç‚¹</span></span><br><span class="line">    <span class="comment">//å°†è¯¥èŠ‚ç‚¹ç½®ä¸ºåŒå‘é“¾è¡¨çš„å°¾éƒ¨</span></span><br><span class="line">    <span class="keyword">if</span> (accessOrder &amp;&amp; (last = tail) != e) &#123;</span><br><span class="line">        <span class="comment">// p: å½“å‰èŠ‚ç‚¹</span></span><br><span class="line">        <span class="comment">// b: å‰ä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">        <span class="comment">// a: åä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">        <span class="comment">// ç»“æ„ä¸º: b &lt;=&gt; p &lt;=&gt; a</span></span><br><span class="line">        LinkedHashMap.Entry&lt;K,V&gt; p =</span><br><span class="line">            (LinkedHashMap.Entry&lt;K,V&gt;)e, b = p.before, a = p.after;</span><br><span class="line">        <span class="comment">// ç»“æ„å˜æˆ: b &lt;=&gt; p &lt;- a</span></span><br><span class="line">        p.after = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¦‚æœå½“å‰èŠ‚ç‚¹ p æœ¬èº«æ˜¯å¤´èŠ‚ç‚¹, é‚£ä¹ˆå¤´ç»“ç‚¹è¦æ”¹æˆ a</span></span><br><span class="line">        <span class="keyword">if</span> (b == <span class="literal">null</span>)</span><br><span class="line">            head = a;</span><br><span class="line">        <span class="comment">// å¦‚æœ p ä¸æ˜¯å¤´å°¾èŠ‚ç‚¹, æŠŠå‰åèŠ‚ç‚¹è¿æ¥, å˜æˆ: b -&gt; a</span></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            b.after = a;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// a éç©º, å’Œ b è¿æ¥, å˜æˆ: b &lt;- a</span></span><br><span class="line">        <span class="keyword">if</span> (a != <span class="literal">null</span>)</span><br><span class="line">            a.before = b;</span><br><span class="line">        <span class="comment">// å¦‚æœ a ä¸ºç©º, è¯´æ˜ p æ˜¯å°¾èŠ‚ç‚¹, b å°±æ˜¯å®ƒçš„å‰ä¸€ä¸ªèŠ‚ç‚¹, ç¬¦åˆ last çš„å®šä¹‰</span></span><br><span class="line">      	<span class="comment">// è¿™ä¸ª else æ²¡æœ‰æ„ä¹‰ï¼Œå› ä¸ºæœ€å¼€å¤´ifå·²ç»ç¡®ä¿äº†pä¸æ˜¯å°¾ç»“ç‚¹äº†ï¼Œè‡ªç„¶afterä¸ä¼šæ˜¯null</span></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            last = b;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¦‚æœè¿™æ˜¯ç©ºé“¾è¡¨, p æ”¹æˆå¤´ç»“ç‚¹</span></span><br><span class="line">        <span class="keyword">if</span> (last == <span class="literal">null</span>)</span><br><span class="line">            head = p;</span><br><span class="line">        <span class="comment">// å¦åˆ™æŠŠ p æ’å…¥åˆ°é“¾è¡¨å°¾éƒ¨</span></span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            p.before = last;</span><br><span class="line">            last.after = p;</span><br><span class="line">        &#125;</span><br><span class="line">        tail = p;</span><br><span class="line">        ++modCount;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">afterNodeRemoval</span><span class="params">(Node&lt;K,V&gt; e)</span> &#123; <span class="comment">// ä¼˜ç¾çš„ä¸€ç¬”ï¼Œå­¦ä¹ ä¸€æ³¢å¦‚ä½•åœ¨åŒå‘é“¾è¡¨ä¸­åˆ é™¤èŠ‚ç‚¹</span></span><br><span class="line">    LinkedHashMap.Entry&lt;K,V&gt; p =</span><br><span class="line">        (LinkedHashMap.Entry&lt;K,V&gt;)e, b = p.before, a = p.after;</span><br><span class="line">    <span class="comment">// å°† p èŠ‚ç‚¹çš„å‰é©±ååç»§å¼•ç”¨ç½®ç©º</span></span><br><span class="line">    p.before = p.after = <span class="literal">null</span>;</span><br><span class="line">    <span class="comment">// b ä¸º nullï¼Œè¡¨æ˜ p æ˜¯å¤´èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">if</span> (b == <span class="literal">null</span>)</span><br><span class="line">        head = a;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        b.after = a;</span><br><span class="line">    <span class="comment">// a ä¸º nullï¼Œè¡¨æ˜ p æ˜¯å°¾èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">if</span> (a == <span class="literal">null</span>)</span><br><span class="line">        tail = b;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        a.before = b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="15-2ã€LC855-è€ƒåœºå°±åº§"><a href="#15-2ã€LC855-è€ƒåœºå°±åº§" class="headerlink" title="15.2ã€LC855. è€ƒåœºå°±åº§"></a>15.2ã€LC855. è€ƒåœºå°±åº§</h3><p>åœ¨è€ƒåœºé‡Œï¼Œä¸€æ’æœ‰ <code>N</code> ä¸ªåº§ä½ï¼Œåˆ†åˆ«ç¼–å·ä¸º <code>0, 1, 2, ..., N-1</code> ã€‚</p>
<p>å½“å­¦ç”Ÿè¿›å…¥è€ƒåœºåï¼Œä»–å¿…é¡»ååœ¨èƒ½å¤Ÿä½¿ä»–ä¸ç¦»ä»–æœ€è¿‘çš„äººä¹‹é—´çš„è·ç¦»è¾¾åˆ°æœ€å¤§åŒ–çš„åº§ä½ä¸Šã€‚å¦‚æœæœ‰å¤šä¸ªè¿™æ ·çš„åº§ä½ï¼Œä»–ä¼šååœ¨ç¼–å·æœ€å°çš„åº§ä½ä¸Šã€‚(å¦å¤–ï¼Œå¦‚æœè€ƒåœºé‡Œæ²¡æœ‰äººï¼Œé‚£ä¹ˆå­¦ç”Ÿå°±ååœ¨ 0 å·åº§ä½ä¸Šã€‚)</p>
<p>è¿”å› <code>ExamRoom(int N)</code> ç±»ï¼Œå®ƒæœ‰ä¸¤ä¸ªå…¬å¼€çš„å‡½æ•°ï¼šå…¶ä¸­ï¼Œå‡½æ•° <code>ExamRoom.seat()</code> ä¼šè¿”å›ä¸€ä¸ª <code>int</code> ï¼ˆæ•´å‹æ•°æ®ï¼‰ï¼Œä»£è¡¨å­¦ç”Ÿåçš„ä½ç½®ï¼›å‡½æ•° <code>ExamRoom.leave(int p)</code> ä»£è¡¨ååœ¨åº§ä½ <code>p</code> ä¸Šçš„å­¦ç”Ÿç°åœ¨ç¦»å¼€äº†è€ƒåœºã€‚æ¯æ¬¡è°ƒç”¨ <code>ExamRoom.leave(p)</code> æ—¶éƒ½ä¿è¯æœ‰å­¦ç”Ÿååœ¨åº§ä½ <code>p</code> ä¸Šã€‚</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š[&quot;ExamRoom&quot;,&quot;seat&quot;,&quot;seat&quot;,&quot;seat&quot;,&quot;seat&quot;,&quot;leave&quot;,&quot;seat&quot;], [[10],[],[],[],[],[4],[]]</span><br><span class="line">è¾“å‡ºï¼š[null,0,9,4,2,null,5]</span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">ExamRoom(10) -&gt; null</span><br><span class="line">seat() -&gt; 0ï¼Œæ²¡æœ‰äººåœ¨è€ƒåœºé‡Œï¼Œé‚£ä¹ˆå­¦ç”Ÿååœ¨ 0 å·åº§ä½ä¸Šã€‚</span><br><span class="line">seat() -&gt; 9ï¼Œå­¦ç”Ÿæœ€åååœ¨ 9 å·åº§ä½ä¸Šã€‚</span><br><span class="line">seat() -&gt; 4ï¼Œå­¦ç”Ÿæœ€åååœ¨ 4 å·åº§ä½ä¸Šã€‚</span><br><span class="line">seat() -&gt; 2ï¼Œå­¦ç”Ÿæœ€åååœ¨ 2 å·åº§ä½ä¸Šã€‚</span><br><span class="line">leave(4) -&gt; null</span><br><span class="line">seat() -&gt; 5ï¼Œå­¦ç”Ÿæœ€åååœ¨ 5 å·åº§ä½ä¸Šã€‚</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ol>
<li><code>1 &lt;= N &lt;= 10^9</code></li>
<li>åœ¨æ‰€æœ‰çš„æµ‹è¯•æ ·ä¾‹ä¸­ <code>ExamRoom.seat()</code> å’Œ <code>ExamRoom.leave()</code> æœ€å¤šè¢«è°ƒç”¨ <code>10^4</code> æ¬¡ã€‚</li>
<li>ä¿è¯åœ¨è°ƒç”¨ <code>ExamRoom.leave(p)</code> æ—¶æœ‰å­¦ç”Ÿæ­£ååœ¨åº§ä½ <code>p</code> ä¸Šã€‚</li>
</ol>
<p>Related Topics</p>
<p>è®¾è®¡</p>
<p>æœ‰åºé›†åˆ</p>
<p>å †ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰</p>
<p>ğŸ‘ 154</p>
<p>ğŸ‘ 0</p>
<h4 id="æ–¹æ³•ä¸€ï¼šæœ‰åºé›†åˆ"><a href="#æ–¹æ³•ä¸€ï¼šæœ‰åºé›†åˆ" class="headerlink" title="æ–¹æ³•ä¸€ï¼šæœ‰åºé›†åˆ"></a>æ–¹æ³•ä¸€ï¼šæœ‰åºé›†åˆ</h4><p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>é¦–å…ˆï¼Œå¯¹äºç»™å®šçš„åŒºé—´[L, R],å³L,Rçš„åº§ä½å·²ç»é€‰æ‹©ï¼Œå½“æˆ‘ä»¬è¦åœ¨è¿™ä¸ªåŒºé—´è¿›è¡Œæ”¾ç½®çš„æ—¶å€™ï¼Œä¸ºäº†ä½¿ç¦»ä»–æœ€è¿‘çš„äººä¹‹é—´çš„è·ç¦»è¾¾åˆ°æœ€å¤§åŒ–ï¼Œæˆ‘ä»¬åº”è¯¥å°†åº§ä½é€‰æ‹©åœ¨ä¸­ç‚¹å³(L+R)&#x2F;2ï¼Œæ‰€èƒ½å¤Ÿå¾—åˆ°çš„è·ç¦»å®šä¹‰ä¸º(R-L)&#x2F;2ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ä¾‹å¦‚: </span><br><span class="line">[1, 4]</span><br><span class="line">æˆ‘ä»¬åº”è¯¥é€‰æ‹©åœ¨2ç‚¹ï¼Œè·ç¦»æœ€è¿‘çš„äººè·ç¦»ä¸º1ï¼Œå³1.2.4</span><br><span class="line">[1, 5]</span><br><span class="line">æˆ‘ä»¬åº”è¯¥é€‰æ‹©åœ¨3ç‚¹ï¼Œè·ç¦»æœ€è¿‘çš„äººè·ç¦»ä¸º2ï¼Œå³1.3.5</span><br></pre></td></tr></table></figure>

<p>Seat():</p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæœ‰åºé›†åˆæ¥ä¿å­˜å·²ç»é€‰äº†çš„åº§ä½ï¼Œæœ€å¼€å§‹å½“é›†åˆä¸ºç©ºæ—¶ï¼Œå¿…ç„¶é€‰æ‹©ä¸‹æ ‡ä¸º0çš„åº§ä½ã€‚è‹¥é›†åˆä¸ä¸ºç©ºï¼Œåˆ™éå†é›†åˆä¸­æ‰€æœ‰çš„åŒºé—´ï¼Œé€‰æ‹©å‡ºä¸€ä¸ªè·ç¦»æœ€å¤§çš„ä¸­ç‚¹å‡ºæ¥ï¼Œæœ€åå†ç‰¹åˆ¤ä¸€ä¸‹é€‰æ‹©<strong>0ç‚¹å’Œn-1ç‚¹çš„æƒ…å†µ</strong>ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/1672362051-CvEgjQ-%E5%9B%BE%E7%89%87.png" alt="å›¾ç‰‡.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">å¯¹äº0ç‚¹å’Œn-1ç‚¹æ¥è¯´ï¼š</span><br><span class="line">0ç‚¹çš„è·ç¦»ä¸ºï¼šé›†åˆä¸­ç¬¬ä¸€ä¸ªå…ƒç´ -0ï¼Œ å³set.first()</span><br><span class="line">n-1ç‚¹çš„è·ç¦»ä¸ºï¼š(n-1) - é›†åˆä¸­æœ€åä¸€ä¸ªå…ƒç´ ,å³n-1-set.last()</span><br></pre></td></tr></table></figure>

<p>Leave():</p>
<p>å¯¹äºåˆ é™¤æ“ä½œï¼Œæˆ‘ä»¬ç›´æ¥åœ¨æœ‰åºé›†åˆä¸­å°†è¦åˆ é™¤çš„åº§ä½ç§»é™¤å³å¯ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/image-20221230103735716.png" alt="image-20221230103735716"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">ExamRoom</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    TreeSet&lt;Integer&gt; set;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ExamRoom</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.n = n;</span><br><span class="line">        set = <span class="keyword">new</span> <span class="title class_">TreeSet</span>&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * é€‰å–ä½ç½®</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">seat</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (set.size() == <span class="number">0</span>) &#123; <span class="comment">// ç¬¬ä¸€æ¬¡é€‰å–0å·ä½ç½®</span></span><br><span class="line">            set.add(<span class="number">0</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">pre</span> <span class="operator">=</span> set.first(), ans = set.first(), idx = <span class="number">0</span>; <span class="comment">// åˆå§‹åŒ–ï¼šé€‰æ‹©æœ€å·¦çš„é•¿åº¦</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> x : set) &#123;</span><br><span class="line">            <span class="keyword">if</span> (ans &lt; (x - pre) / <span class="number">2</span>) &#123;</span><br><span class="line">                ans = (x - pre) / <span class="number">2</span>; <span class="comment">// è®°å½•æœ€å¤§çš„è·ç¦»</span></span><br><span class="line">                idx = (x + pre) / <span class="number">2</span>; <span class="comment">// è®°å½•æœ€å¤§è·ç¦»çš„ä½ç½®</span></span><br><span class="line">            &#125;</span><br><span class="line">            pre = x;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// åˆ¤æ–­æœ€å³çš„è¾¹ç•Œ</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">d</span> <span class="operator">=</span> n - <span class="number">1</span> - set.last();</span><br><span class="line">        <span class="keyword">if</span> (ans &lt; d) &#123; <span class="comment">// æ²¡æœ‰æœ«å°¾çš„è·ç¦»å¤§ï¼Œé€‰ç”¨æœ€å³è¾¹ç•Œ</span></span><br><span class="line">            ans = d;</span><br><span class="line">            idx = n - <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        set.add(idx);</span><br><span class="line">        <span class="keyword">return</span> idx;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">leave</span><span class="params">(<span class="type">int</span> p)</span> &#123;</span><br><span class="line">        set.remove(p);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Your ExamRoom object will be instantiated and called as such:</span></span><br><span class="line"><span class="comment"> * ExamRoom obj = new ExamRoom(n);</span></span><br><span class="line"><span class="comment"> * int param_1 = obj.seat();</span></span><br><span class="line"><span class="comment"> * obj.leave(p);</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>



<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼šseat():O(n), leave(): O(logn)</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼šO(n)</li>
</ul>
<h4 id="æ–¹æ³•äºŒï¼šæœ‰åºé›†åˆ-ä¼˜å…ˆé˜Ÿåˆ—"><a href="#æ–¹æ³•äºŒï¼šæœ‰åºé›†åˆ-ä¼˜å…ˆé˜Ÿåˆ—" class="headerlink" title="æ–¹æ³•äºŒï¼šæœ‰åºé›†åˆ+ä¼˜å…ˆé˜Ÿåˆ—"></a>æ–¹æ³•äºŒï¼šæœ‰åºé›†åˆ+ä¼˜å…ˆé˜Ÿåˆ—</h4><p>Seat():</p>
<p>åœ¨è§£æ³•ä¸€çš„åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¼˜å…ˆé˜Ÿåˆ—æ¥ä¼˜åŒ–æˆ‘ä»¬åŒºé—´é€‰æ‹©çš„æ“ä½œï¼Œåœ¨è§£æ³•ä¸€æˆ‘ä»¬é€šè¿‡éå†æ¥æ±‚çš„æ‹¥æœ‰æœ€å¤§è·ç¦»çš„åŒºé—´ï¼Œå†ç‰¹åˆ¤ä¸€ä¸‹æœ€å·¦æœ€å³ç«¯ç‚¹ã€‚æˆ‘ä»¬å¯ä»¥å°†åŒºé—´ç›´æ¥æ”¾åœ¨ä¼˜å…ˆé˜Ÿåˆ—ä¸­ï¼Œé€šè¿‡ä¼˜å…ˆé˜Ÿåˆ—æ¯æ¬¡å¼¹å‡ºè·ç¦»æœ€å¤§çš„ä¸€ä¸ªåŒºé—´ï¼Œå†é€‰æ‹©åŒºé—´çš„ä¸­ç‚¹å³å¯ã€‚</p>
<p>æˆ‘ä»¬æ¯æ¬¡ä»ä¼˜å…ˆé˜Ÿåˆ—ä¸­å¼¹å‡ºä¸€ä¸ªåŒºé—´[L,R],è¿™æ˜¯æ‰€æœ‰åŒºé—´ä¸­è·ç¦»æœ€å¤§çš„ä¸€ä¸ªåŒºé—´ï¼Œæˆ‘ä»¬å°†å®ƒä¸é€‰æ‹©0ç‚¹å’Œé€‰æ‹©n-1ç‚¹çš„è·ç¦»è¿›è¡Œæ¯”è¾ƒï¼Œè‹¥æ›´å¤§ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±é€‰æ‹©ä¸­ç‚¹ä¸ºmid&#x3D;(L+R)&#x2F;2ï¼Œä¼šäº§ç”Ÿæ–°çš„åŒºé—´[L,mid]å’Œ[mid, R]ï¼Œæ”¾å…¥ä¼˜å…ˆé˜Ÿåˆ—ä¸­ï¼›è‹¥é€‰æ‹©æœ€å·¦æœ€å³ç‚¹ï¼Œé‚£ä¹ˆä¹Ÿä¼šäº§ç”Ÿæ–°çš„åŒºé—´[0,set.first()]æˆ–[set.last(), n - 1]ã€‚</p>
<p>Leave():</p>
<p>å¯¹äºåˆ é™¤æ“ä½œï¼Œå½“æˆ‘ä»¬åˆ é™¤é›†åˆä¸­ç¬¬ä¸€ä¸ªå…ƒç´ å’Œæœ€åä¸€ä¸ªå…ƒç´ æ—¶ï¼Œå¹¶ä¸ä¼šäº§ç”Ÿæ–°çš„åŒºé—´ã€‚å½“åˆ é™¤é›†åˆä¸­é—´çš„å…ƒç´ æ—¶ï¼Œå¦‚[L,mid,R],æˆ‘ä»¬åˆ é™¤midç‚¹ä¼šäº§ç”Ÿæ–°çš„åŒºé—´[L, R]å°†æ–°åŒºé—´æ·»åŠ è¿›æˆ‘ä»¬çš„ä¼˜å…ˆé˜Ÿåˆ—ä¸­å³å¯ã€‚</p>
<p>è€Œæˆ‘ä»¬è¿˜éœ€è¦åœ¨é˜Ÿåˆ—ä¸­å°†ä»¥å‰çš„åŒºé—´[L,mid]å’Œ[mid, R]å’Œ[mid,R]è¿›è¡Œåˆ é™¤ï¼Œæˆ‘ä»¬ä½¿ç”¨å»¶è¿Ÿåˆ é™¤çš„æŠ€å·§ï¼Œå› æ­¤åœ¨seat()ä¸­æˆ‘ä»¬ä»é˜Ÿåˆ—ä¸­å¼¹å‡ºçš„åŒºé—´å¯èƒ½æ˜¯éœ€è¦åˆ é™¤çš„ï¼Œæˆ‘ä»¬åˆ¤æ–­åŒºé—´çš„ä¸¤ä¸ªç«¯ç‚¹æ˜¯å¦åœ¨é›†åˆsetä¸­ï¼Œè‹¥ä¸åœ¨ä»£è¡¨éœ€è¦åˆ é™¤ï¼Œå¹¶ä¸”åŒºé—´ä¸­é—´ä¸èƒ½æœ‰ä»»ä½•åº§ä½è¢«é€‰å–ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/image-20221230114401487.png" alt="image-20221230114401487"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">ExamRoom</span> &#123;</span><br><span class="line">    PriorityQueue&lt;<span class="type">int</span>[]&gt; q;</span><br><span class="line">    TreeSet&lt;Integer&gt; set;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ExamRoom</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.n = n;</span><br><span class="line">        q = <span class="keyword">new</span> <span class="title class_">PriorityQueue</span>&lt;&gt;((a, b) -&gt; &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">d1</span> <span class="operator">=</span> (a[<span class="number">1</span>] - a[<span class="number">0</span>]) / <span class="number">2</span>, d2 = (b[<span class="number">1</span>] - b[<span class="number">0</span>]) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">return</span> d1 == d2 ? a[<span class="number">0</span>] - b[<span class="number">0</span>] : d2 - d1; <span class="comment">//å½“é•¿åº¦ç›¸ç­‰æ—¶ï¼Œåæ ‡æ›´å°å…ˆå¼¹å‡ºï¼Œå½“ä¸ç›¸ç­‰æ—¶ï¼Œé•¿åº¦æ›´å¤§çš„å…ˆå¼¹å‡º</span></span><br><span class="line">        &#125;);</span><br><span class="line">        set = <span class="keyword">new</span> <span class="title class_">TreeSet</span>&lt;&gt;(); <span class="comment">//åˆ›å»ºæœ‰åºé›†åˆ</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">seat</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (set.size() == <span class="number">0</span>) &#123; set.add(<span class="number">0</span>); <span class="keyword">return</span> <span class="number">0</span>;&#125; <span class="comment">//1.æ²¡æœ‰äººæ—¶ï¼Œä¸€å®šè¿”å›0</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">d1</span> <span class="operator">=</span> set.first(), d2 = n - <span class="number">1</span> - set.last(); <span class="comment">//è·å–æœ€å·¦å’Œæœ€å³æ”¾ç½®å­¦ç”Ÿèƒ½è·å–çš„é•¿åº¦</span></span><br><span class="line">        <span class="keyword">while</span> (set.size() &gt;= <span class="number">2</span>) &#123; <span class="comment">//2.å¤§äºç­‰äºä¸¤ä¸ªäººçš„æ—¶å€™ï¼Œå¯ä»¥é€‰æ‹©æœ€å·¦æœ€å³ æˆ–è€…ä¸­é—´çš„åŒºé—´</span></span><br><span class="line">            <span class="type">int</span>[] t = q.poll();</span><br><span class="line">            <span class="keyword">if</span> (!set.contains(t[<span class="number">0</span>]) || !set.contains(t[<span class="number">1</span>]) || set.higher(t[<span class="number">0</span>]) != t[<span class="number">1</span>]) <span class="keyword">continue</span>; <span class="comment">//æ— æ•ˆåŒºé—´ï¼ŒæŸä¸ªç«¯ç‚¹å·²ç»è¢«åˆ é™¤</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">d3</span> <span class="operator">=</span> (t[<span class="number">1</span>] - t[<span class="number">0</span>]) / <span class="number">2</span>;                </span><br><span class="line">            <span class="keyword">if</span> (d3 &lt;= d1 || d3 &lt; d2) &#123;q.add(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;t[<span class="number">0</span>], t[<span class="number">1</span>]&#125;); <span class="keyword">break</span>;&#125;; <span class="comment">//é€‰æ‹©æœ€å·¦æˆ–è€…æœ€å³</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> (t[<span class="number">0</span>] + t[<span class="number">1</span>]) / <span class="number">2</span>; <span class="comment">//é€‰æ‹©ç»ˆç‚¹</span></span><br><span class="line">            q.add(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;t[<span class="number">0</span>], mid&#125;);</span><br><span class="line">            q.add(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;mid, t[<span class="number">1</span>]&#125;);</span><br><span class="line">            set.add(mid);  </span><br><span class="line">            <span class="keyword">return</span> mid;</span><br><span class="line">        &#125; </span><br><span class="line">        <span class="comment">//3.é€‰æ‹©æœ€å·¦æˆ–è€…æœ€å³çš„ä½ç½®</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">l</span> <span class="operator">=</span> <span class="number">0</span>, r = set.first(), sel = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (d1 &lt; d2) &#123;l = set.last(); r = n - <span class="number">1</span>; sel = n - <span class="number">1</span>;&#125;</span><br><span class="line">        q.add(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;l, r&#125;);</span><br><span class="line">        set.add(sel);</span><br><span class="line">        <span class="keyword">return</span> sel;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">leave</span><span class="params">(<span class="type">int</span> p)</span> &#123; </span><br><span class="line">        <span class="keyword">if</span> (p != set.first() &amp;&amp; p != set.last()) q.add(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;set.lower(p), set.higher(p)&#125;); <span class="comment">//å¦‚æœä¸æ˜¯åˆ é™¤ä¸¤ç«¯ç‚¹, é‚£ä¹ˆä¼šå¢åŠ æ–°åŒºé—´</span></span><br><span class="line">        set.remove(p); </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼šseat():O(logn), leave(): O(logn)</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼šO(n)</li>
</ul>
<h3 id="15-3ã€LC1801-ç§¯å‹è®¢å•ä¸­çš„è®¢å•æ€»æ•°"><a href="#15-3ã€LC1801-ç§¯å‹è®¢å•ä¸­çš„è®¢å•æ€»æ•°" class="headerlink" title="15.3ã€LC1801. ç§¯å‹è®¢å•ä¸­çš„è®¢å•æ€»æ•°"></a>15.3ã€LC1801. ç§¯å‹è®¢å•ä¸­çš„è®¢å•æ€»æ•°</h3><p>ç»™ä½ ä¸€ä¸ªäºŒç»´æ•´æ•°æ•°ç»„ <code>orders</code> ï¼Œå…¶ä¸­æ¯ä¸ª <code>orders[i] = [pricei, amounti, orderTypei]</code> è¡¨ç¤ºæœ‰ <code>amounti</code> ç¬”ç±»å‹ä¸º <code>orderTypei</code> ã€ä»·æ ¼ä¸º <code>pricei</code> çš„è®¢å•ã€‚</p>
<p>è®¢å•ç±»å‹ <code>orderTypei</code> å¯ä»¥åˆ†ä¸ºä¸¤ç§ï¼š</p>
<ul>
<li><code>0</code> è¡¨ç¤ºè¿™æ˜¯ä¸€æ‰¹é‡‡è´­è®¢å• <code>buy</code></li>
<li><code>1</code> è¡¨ç¤ºè¿™æ˜¯ä¸€æ‰¹é”€å”®è®¢å• <code>sell</code></li>
</ul>
<p>æ³¨æ„ï¼Œ<code>orders[i]</code> è¡¨ç¤ºä¸€æ‰¹å…±è®¡ <code>amounti</code> ç¬”çš„ç‹¬ç«‹è®¢å•ï¼Œè¿™äº›è®¢å•çš„ä»·æ ¼å’Œç±»å‹ç›¸åŒã€‚å¯¹äºæ‰€æœ‰æœ‰æ•ˆçš„ <code>i</code> ï¼Œç”± <code>orders[i]</code> è¡¨ç¤ºçš„æ‰€æœ‰è®¢å•æäº¤æ—¶é—´å‡æ—©äº <code>orders[i+1]</code> è¡¨ç¤ºçš„æ‰€æœ‰è®¢å•ã€‚</p>
<p>å­˜åœ¨ç”±æœªæ‰§è¡Œè®¢å•ç»„æˆçš„ <strong>ç§¯å‹è®¢å•</strong> ã€‚ç§¯å‹è®¢å•æœ€åˆæ˜¯ç©ºçš„ã€‚æäº¤è®¢å•æ—¶ï¼Œä¼šå‘ç”Ÿä»¥ä¸‹æƒ…å†µï¼š</p>
<ul>
<li>å¦‚æœè¯¥è®¢å•æ˜¯ä¸€ç¬”é‡‡è´­è®¢å• <code>buy</code> ï¼Œåˆ™å¯ä»¥æŸ¥çœ‹ç§¯å‹è®¢å•ä¸­ä»·æ ¼ <strong>æœ€ä½</strong> çš„é”€å”®è®¢å• <code>sell</code> ã€‚å¦‚æœè¯¥é”€å”®è®¢å• <code>sell</code> çš„ä»·æ ¼ <strong>ä½äºæˆ–ç­‰äº</strong> å½“å‰é‡‡è´­è®¢å• <code>buy</code> çš„ä»·æ ¼ï¼Œåˆ™åŒ¹é…å¹¶æ‰§è¡Œè¿™ä¸¤ç¬”è®¢å•ï¼Œå¹¶å°†é”€å”®è®¢å• <code>sell</code> ä»ç§¯å‹è®¢å•ä¸­åˆ é™¤ã€‚å¦åˆ™ï¼Œé‡‡è´­è®¢å• <code>buy</code> å°†ä¼šæ·»åŠ åˆ°ç§¯å‹è®¢å•ä¸­ã€‚</li>
<li>åä¹‹äº¦ç„¶ï¼Œå¦‚æœè¯¥è®¢å•æ˜¯ä¸€ç¬”é”€å”®è®¢å• <code>sell</code> ï¼Œåˆ™å¯ä»¥æŸ¥çœ‹ç§¯å‹è®¢å•ä¸­ä»·æ ¼ <strong>æœ€é«˜</strong> çš„é‡‡è´­è®¢å• <code>buy</code> ã€‚å¦‚æœè¯¥é‡‡è´­è®¢å• <code>buy</code> çš„ä»·æ ¼ <strong>é«˜äºæˆ–ç­‰äº</strong> å½“å‰é”€å”®è®¢å• <code>sell</code> çš„ä»·æ ¼ï¼Œåˆ™åŒ¹é…å¹¶æ‰§è¡Œè¿™ä¸¤ç¬”è®¢å•ï¼Œå¹¶å°†é‡‡è´­è®¢å• <code>buy</code> ä»ç§¯å‹è®¢å•ä¸­åˆ é™¤ã€‚å¦åˆ™ï¼Œé”€å”®è®¢å• <code>sell</code> å°†ä¼šæ·»åŠ åˆ°ç§¯å‹è®¢å•ä¸­ã€‚</li>
</ul>
<p>è¾“å…¥æ‰€æœ‰è®¢å•åï¼Œè¿”å›ç§¯å‹è®¢å•ä¸­çš„ <strong>è®¢å•æ€»æ•°</strong> ã€‚ç”±äºæ•°å­—å¯èƒ½å¾ˆå¤§ï¼Œæ‰€ä»¥éœ€è¦è¿”å›å¯¹ <code>109 + 7</code> å–ä½™çš„ç»“æœã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/ex1.png" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šorders = [[10,5,0],[15,2,1],[25,1,1],[30,4,0]]</span><br><span class="line">è¾“å‡ºï¼š6</span><br><span class="line">è§£é‡Šï¼šè¾“å…¥è®¢å•åä¼šå‘ç”Ÿä¸‹è¿°æƒ…å†µï¼š</span><br><span class="line">- æäº¤ 5 ç¬”é‡‡è´­è®¢å•ï¼Œä»·æ ¼ä¸º 10 ã€‚æ²¡æœ‰é”€å”®è®¢å•ï¼Œæ‰€ä»¥è¿™ 5 ç¬”è®¢å•æ·»åŠ åˆ°ç§¯å‹è®¢å•ä¸­ã€‚</span><br><span class="line">- æäº¤ 2 ç¬”é”€å”®è®¢å•ï¼Œä»·æ ¼ä¸º 15 ã€‚æ²¡æœ‰é‡‡è´­è®¢å•çš„ä»·æ ¼å¤§äºæˆ–ç­‰äº 15 ï¼Œæ‰€ä»¥è¿™ 2 ç¬”è®¢å•æ·»åŠ åˆ°ç§¯å‹è®¢å•ä¸­ã€‚</span><br><span class="line">- æäº¤ 1 ç¬”é”€å”®è®¢å•ï¼Œä»·æ ¼ä¸º 25 ã€‚æ²¡æœ‰é‡‡è´­è®¢å•çš„ä»·æ ¼å¤§äºæˆ–ç­‰äº 25 ï¼Œæ‰€ä»¥è¿™ 1 ç¬”è®¢å•æ·»åŠ åˆ°ç§¯å‹è®¢å•ä¸­ã€‚</span><br><span class="line">- æäº¤ 4 ç¬”é‡‡è´­è®¢å•ï¼Œä»·æ ¼ä¸º 30 ã€‚å‰ 2 ç¬”é‡‡è´­è®¢å•ä¸ä»·æ ¼æœ€ä½ï¼ˆä»·æ ¼ä¸º 15ï¼‰çš„ 2 ç¬”é”€å”®è®¢å•åŒ¹é…ï¼Œä»ç§¯å‹è®¢å•ä¸­åˆ é™¤è¿™ 2 ç¬”é”€å”®è®¢å•ã€‚ç¬¬ 3 ç¬”é‡‡è´­è®¢å•ä¸ä»·æ ¼æœ€ä½çš„ 1 ç¬”é”€å”®è®¢å•åŒ¹é…ï¼Œé”€å”®è®¢å•ä»·æ ¼ä¸º 25 ï¼Œä»ç§¯å‹è®¢å•ä¸­åˆ é™¤è¿™ 1 ç¬”é”€å”®è®¢å•ã€‚ç§¯å‹è®¢å•ä¸­ä¸å­˜åœ¨æ›´å¤šé”€å”®è®¢å•ï¼Œæ‰€ä»¥ç¬¬ 4 ç¬”é‡‡è´­è®¢å•éœ€è¦æ·»åŠ åˆ°ç§¯å‹è®¢å•ä¸­ã€‚</span><br><span class="line">æœ€ç»ˆï¼Œç§¯å‹è®¢å•ä¸­æœ‰ 5 ç¬”ä»·æ ¼ä¸º 10 çš„é‡‡è´­è®¢å•ï¼Œå’Œ 1 ç¬”ä»·æ ¼ä¸º 30 çš„é‡‡è´­è®¢å•ã€‚æ‰€ä»¥ç§¯å‹è®¢å•ä¸­çš„è®¢å•æ€»æ•°ä¸º 6 ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../images/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/ex2.png" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šorders = [[7,1000000000,1],[15,3,0],[5,999999995,0],[5,1,1]]</span><br><span class="line">è¾“å‡ºï¼š999999984</span><br><span class="line">è§£é‡Šï¼šè¾“å…¥è®¢å•åä¼šå‘ç”Ÿä¸‹è¿°æƒ…å†µï¼š</span><br><span class="line">- æäº¤ 109 ç¬”é”€å”®è®¢å•ï¼Œä»·æ ¼ä¸º 7 ã€‚æ²¡æœ‰é‡‡è´­è®¢å•ï¼Œæ‰€ä»¥è¿™ 109 ç¬”è®¢å•æ·»åŠ åˆ°ç§¯å‹è®¢å•ä¸­ã€‚</span><br><span class="line">- æäº¤ 3 ç¬”é‡‡è´­è®¢å•ï¼Œä»·æ ¼ä¸º 15 ã€‚è¿™äº›é‡‡è´­è®¢å•ä¸ä»·æ ¼æœ€ä½ï¼ˆä»·æ ¼ä¸º 7 ï¼‰çš„ 3 ç¬”é”€å”®è®¢å•åŒ¹é…ï¼Œä»ç§¯å‹è®¢å•ä¸­åˆ é™¤è¿™ 3 ç¬”é”€å”®è®¢å•ã€‚</span><br><span class="line">- æäº¤ 999999995 ç¬”é‡‡è´­è®¢å•ï¼Œä»·æ ¼ä¸º 5 ã€‚é”€å”®è®¢å•çš„æœ€ä½ä»·ä¸º 7 ï¼Œæ‰€ä»¥è¿™ 999999995 ç¬”è®¢å•æ·»åŠ åˆ°ç§¯å‹è®¢å•ä¸­ã€‚</span><br><span class="line">- æäº¤ 1 ç¬”é”€å”®è®¢å•ï¼Œä»·æ ¼ä¸º 5 ã€‚è¿™ç¬”é”€å”®è®¢å•ä¸ä»·æ ¼æœ€é«˜ï¼ˆä»·æ ¼ä¸º 5 ï¼‰çš„ 1 ç¬”é‡‡è´­è®¢å•åŒ¹é…ï¼Œä»ç§¯å‹è®¢å•ä¸­åˆ é™¤è¿™ 1 ç¬”é‡‡è´­è®¢å•ã€‚</span><br><span class="line">æœ€ç»ˆï¼Œç§¯å‹è®¢å•ä¸­æœ‰ (1000000000-3) ç¬”ä»·æ ¼ä¸º 7 çš„é”€å”®è®¢å•ï¼Œå’Œ (999999995-1) ç¬”ä»·æ ¼ä¸º 5 çš„é‡‡è´­è®¢å•ã€‚æ‰€ä»¥ç§¯å‹è®¢å•ä¸­çš„è®¢å•æ€»æ•°ä¸º 1999999991 ï¼Œç­‰äº 999999984 % (109 + 7) ã€‚</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= orders.length &lt;= 105</code></li>
<li><code>orders[i].length == 3</code></li>
<li><code>1 &lt;= pricei, amounti &lt;= 109</code></li>
<li><code>orderTypei</code> ä¸º <code>0</code> æˆ– <code>1</code></li>
</ul>
<p>Related Topics</p>
<p>æ•°ç»„</p>
<p>æ¨¡æ‹Ÿ</p>
<p>å †ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰</p>
<p>ğŸ‘ 73</p>
<p>ğŸ‘ 0</p>
<h4 id="ä¼˜å…ˆé˜Ÿåˆ—"><a href="#ä¼˜å…ˆé˜Ÿåˆ—" class="headerlink" title="ä¼˜å…ˆé˜Ÿåˆ—"></a>ä¼˜å…ˆé˜Ÿåˆ—</h4><p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>æ ¹æ®é¢˜æ„ï¼Œéœ€è¦éå†æ•°ç»„ orders ä¸­çš„è®¢å•å¹¶ä¾æ¬¡å¤„ç†ã€‚å¯¹äºéå†åˆ°çš„æ¯ä¸ªè®¢å•ï¼Œéœ€è¦æ‰¾åˆ°ç±»å‹ç›¸åçš„ç§¯å‹è®¢å•ï¼Œå¦‚æœå¯ä»¥åŒ¹é…åˆ™æ‰§è¡Œè¿™ä¸¤ç¬”è®¢å•å¹¶å°†ç§¯å‹è®¢å•åˆ é™¤ï¼Œå¦åˆ™å°†å½“å‰è®¢å•æ·»åŠ åˆ°ç§¯å‹è®¢å•ä¸­ã€‚</p>
<p>ç”±äºå¯»æ‰¾å·²æœ‰çš„ç§¯å‹è®¢å•æ—¶ï¼Œéœ€è¦å¯»æ‰¾ä»·æ ¼æœ€é«˜çš„é‡‡è´­è®¢å•æˆ–è€…ä»·æ ¼æœ€ä½çš„é”€å”®è®¢å•ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨ä¸¤ä¸ªä¼˜å…ˆé˜Ÿåˆ—åˆ†åˆ«å­˜å‚¨ç§¯å‹çš„é‡‡è´­è®¢å•å’Œç§¯å‹çš„é”€å”®è®¢å•ï¼Œä¸¤ä¸ªä¼˜å…ˆé˜Ÿåˆ—ç§°ä¸ºé‡‡è´­è®¢å•ä¼˜å…ˆé˜Ÿåˆ—å’Œé”€å”®è®¢å•ä¼˜å…ˆé˜Ÿåˆ—ï¼Œåˆ†åˆ«æ»¡è¶³é˜Ÿé¦–å…ƒç´ æ˜¯ä»·æ ¼æœ€é«˜çš„é‡‡è´­è®¢å•å’Œä»·æ ¼æœ€ä½çš„é”€å”®è®¢å•ã€‚</p>
<p>éå†æ•°ç»„ ordersï¼Œå¯¹äº order&#x3D;[price,amount,orderType]ï¼Œæ‰§è¡Œå¦‚ä¸‹æ“ä½œã€‚</p>
<ul>
<li><p>å¦‚æœ 0orderType&#x3D;0ï¼Œåˆ™è¡¨ç¤º amount ä¸ªä»·æ ¼ä¸º price çš„é‡‡è´­è®¢å•ï¼Œéœ€è¦å°†è¿™äº›é‡‡è´­è®¢å•å’Œç§¯å‹çš„é”€å”®è®¢å•åŒ¹é…å¹¶æ‰§è¡Œã€‚å½“é”€å”®è®¢å•ä¼˜å…ˆé˜Ÿåˆ—ä¸­å­˜åœ¨ä»·æ ¼å°äºç­‰äº price çš„é”€å”®è®¢å•æ—¶ï¼Œå°†å½“å‰é‡‡è´­è®¢å•å’Œç§¯å‹çš„é”€å”®è®¢å•åŒ¹é…å¹¶æ‰§è¡Œï¼Œç›´åˆ°å½“å‰é‡‡è´­è®¢å•å…¨éƒ¨åŒ¹é…æ‰§è¡Œã€ç§¯å‹çš„é”€å”®è®¢å•å…¨éƒ¨åŒ¹é…æ‰§è¡Œæˆ–è€…å‰©ä½™ç§¯å‹çš„é”€å”®è®¢å•çš„ä»·æ ¼éƒ½å¤§äº priceã€‚å¦‚æœè¿˜æœ‰å‰©ä½™çš„å½“å‰é‡‡è´­è®¢å•å°šæœªåŒ¹é…æ‰§è¡Œï¼Œåˆ™å°†å‰©ä½™çš„é‡‡è´­è®¢å•æ·»åŠ åˆ°é‡‡è´­è®¢å•ä¼˜å…ˆé˜Ÿåˆ—ä¸­ã€‚</p>
</li>
<li><p>å¦‚æœ orderType&#x3D;1ï¼Œåˆ™è¡¨ç¤º amount ä¸ªä»·æ ¼ä¸º price çš„é”€å”®è®¢å•ï¼Œéœ€è¦å°†è¿™äº›é”€å”®è®¢å•å’Œç§¯å‹çš„é‡‡è´­è®¢å•åŒ¹é…å¹¶æ‰§è¡Œã€‚å½“é‡‡è´­è®¢å•ä¼˜å…ˆé˜Ÿåˆ—ä¸­å­˜åœ¨ä»·æ ¼å¤§äºç­‰äº price çš„é‡‡è´­è®¢å•æ—¶ï¼Œå°†å½“å‰é”€å”®è®¢å•å’Œç§¯å‹çš„é‡‡è´­è®¢å•åŒ¹é…å¹¶æ‰§è¡Œï¼Œç›´åˆ°å½“å‰é”€å”®è®¢å•å…¨éƒ¨åŒ¹é…æ‰§è¡Œã€ç§¯å‹çš„é‡‡è´­è®¢å•å…¨éƒ¨åŒ¹é…æ‰§è¡Œæˆ–è€…å‰©ä½™ç§¯å‹çš„é‡‡è´­è®¢å•çš„ä»·æ ¼éƒ½å°äº priceã€‚å¦‚æœè¿˜æœ‰å‰©ä½™çš„å½“å‰é”€å”®è®¢å•å°šæœªåŒ¹é…æ‰§è¡Œï¼Œåˆ™å°†å‰©ä½™çš„é”€å”®è®¢å•æ·»åŠ åˆ°é”€å”®è®¢å•ä¼˜å…ˆé˜Ÿåˆ—ä¸­ã€‚</p>
</li>
</ul>
<p>éå†æ•°ç»„ orders ä¹‹åï¼Œä¸¤ä¸ªä¼˜å…ˆé˜Ÿåˆ—ä¸­å‰©ä½™çš„å…ƒç´ è¡¨ç¤ºè¾“å…¥æ‰€æœ‰è®¢å•ä¹‹åçš„ç§¯å‹è®¢å•ï¼Œè®¡ç®—ä¸¤ä¸ªä¼˜å…ˆé˜Ÿåˆ—ä¸­å‰©ä½™çš„è®¢å•æ€»æ•°å¹¶è¿”å›ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getNumberOfBacklogOrders</span><span class="params">(<span class="type">int</span>[][] orders)</span> &#123;</span><br><span class="line">            <span class="keyword">final</span> <span class="type">int</span> <span class="variable">MOD</span> <span class="operator">=</span> <span class="number">1000000007</span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// é‡‡è´­è®¢å• å¤§æ ¹å †</span></span><br><span class="line">            PriorityQueue&lt;<span class="type">int</span>[]&gt; buyOrders = <span class="keyword">new</span> <span class="title class_">PriorityQueue</span>&lt;<span class="type">int</span>[]&gt;((a, b) -&gt; b[<span class="number">0</span>] - a[<span class="number">0</span>]);</span><br><span class="line">            <span class="comment">// é”€å”®è®¢å• å°æ ¹å †</span></span><br><span class="line">            PriorityQueue&lt;<span class="type">int</span>[]&gt; sellOrders = <span class="keyword">new</span> <span class="title class_">PriorityQueue</span>&lt;<span class="type">int</span>[]&gt;((a, b) -&gt; a[<span class="number">0</span>] - b[<span class="number">0</span>]);</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span>[] order : orders) &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">price</span> <span class="operator">=</span> order[<span class="number">0</span>], amount = order[<span class="number">1</span>], orderType = order[<span class="number">2</span>];</span><br><span class="line">                <span class="keyword">if</span> (orderType == <span class="number">0</span>) &#123; <span class="comment">// é‡‡è´­è®¢å•</span></span><br><span class="line">                    <span class="keyword">while</span> (amount &gt; <span class="number">0</span> &amp;&amp; !sellOrders.isEmpty() &amp;&amp; sellOrders.peek()[<span class="number">0</span>] &lt;= price) &#123;</span><br><span class="line">                        <span class="type">int</span>[] sellOrder = sellOrders.poll(); <span class="comment">// å–å‡ºæœ€å¤§çš„é”€å”®è®¢å•</span></span><br><span class="line">                        <span class="type">int</span> <span class="variable">sellAmount</span> <span class="operator">=</span> Math.min(amount, sellOrder[<span class="number">1</span>]); <span class="comment">// é”€å”®é‡</span></span><br><span class="line">                        amount -= sellAmount;</span><br><span class="line">                        sellOrder[<span class="number">1</span>] -= sellAmount;</span><br><span class="line">                        <span class="keyword">if</span> (sellOrder[<span class="number">1</span>] &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                            sellOrders.offer(sellOrder);</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span> (amount &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                        buyOrders.offer(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;price, amount&#125;);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123; <span class="comment">// é”€å”®è®¢å•</span></span><br><span class="line">                    <span class="keyword">while</span> (amount &gt; <span class="number">0</span> &amp;&amp; !buyOrders.isEmpty() &amp;&amp; buyOrders.peek()[<span class="number">0</span>] &gt;= price) &#123;</span><br><span class="line">                        <span class="type">int</span>[] buyOrder = buyOrders.poll(); <span class="comment">// å–å‡ºæœ€å°çš„é‡‡è´­è®¢å•</span></span><br><span class="line">                        <span class="type">int</span> <span class="variable">buyAmount</span> <span class="operator">=</span> Math.min(amount, buyOrder[<span class="number">1</span>]); <span class="comment">//é”€å”®é‡</span></span><br><span class="line">                        amount -= buyAmount;</span><br><span class="line">                        buyOrder[<span class="number">1</span>] -= buyAmount;</span><br><span class="line">                        <span class="keyword">if</span> (buyOrder[<span class="number">1</span>] &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                            buyOrders.offer(buyOrder);</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span> (amount &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                        sellOrders.offer(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;price, amount&#125;);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">int</span> <span class="variable">total</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (PriorityQueue&lt;<span class="type">int</span>[]&gt; pq : Arrays.asList(buyOrders, sellOrders)) &#123;</span><br><span class="line">                <span class="keyword">while</span> (!pq.isEmpty()) &#123;</span><br><span class="line">                    <span class="type">int</span>[] order = pq.poll();</span><br><span class="line">                    total = (total + order[<span class="number">1</span>]) % MOD;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> total;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>:</p>
<ul>
<li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(nlogn)ï¼Œå…¶ä¸­ n æ˜¯æ•°ç»„ orders çš„é•¿åº¦ã€‚éœ€è¦éå†æ•°ç»„ orders ä¸€æ¬¡ï¼Œå¯¹äºæ¯ä¸ªå…ƒç´ å¤„ç†ä¼˜å…ˆé˜Ÿåˆ—çš„æ—¶é—´æ˜¯ O(logn)ï¼Œå…±éœ€è¦ O(nlogn) çš„æ—¶é—´ï¼Œéå†ç»“æŸä¹‹åè®¡ç®—å‰©ä½™çš„ç§¯å‹è®¢å•æ€»æ•°éœ€è¦ O(nlogn) çš„æ—¶é—´ã€‚</p>
</li>
<li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(n)ï¼Œå…¶ä¸­ n æ˜¯æ•°ç»„ orders çš„é•¿åº¦ã€‚ä¼˜å…ˆé˜Ÿåˆ—éœ€è¦ O(n) çš„ç©ºé—´ã€‚</p>
</li>
</ul>
<h2 id="åå…­ã€æšä¸¾"><a href="#åå…­ã€æšä¸¾" class="headerlink" title="åå…­ã€æšä¸¾"></a>åå…­ã€æšä¸¾</h2><h3 id="16-1ã€LC2032-è‡³å°‘åœ¨ä¸¤ä¸ªæ•°ç»„ä¸­å‡ºç°çš„å€¼"><a href="#16-1ã€LC2032-è‡³å°‘åœ¨ä¸¤ä¸ªæ•°ç»„ä¸­å‡ºç°çš„å€¼" class="headerlink" title="16.1ã€LC2032. è‡³å°‘åœ¨ä¸¤ä¸ªæ•°ç»„ä¸­å‡ºç°çš„å€¼"></a>16.1ã€LC2032. è‡³å°‘åœ¨ä¸¤ä¸ªæ•°ç»„ä¸­å‡ºç°çš„å€¼</h3><p>ç»™ä½ ä¸‰ä¸ªæ•´æ•°æ•°ç»„ <code>nums1</code>ã€<code>nums2</code> å’Œ <code>nums3</code> ï¼Œè¯·ä½ æ„é€ å¹¶è¿”å›ä¸€ä¸ª <strong>å…ƒç´ å„ä¸ç›¸åŒçš„</strong> æ•°ç»„ï¼Œä¸”ç”± <strong>è‡³å°‘</strong> åœ¨ <strong>ä¸¤ä¸ª</strong> æ•°ç»„ä¸­å‡ºç°çš„æ‰€æœ‰å€¼ç»„æˆ<em>ã€‚</em>æ•°ç»„ä¸­çš„å…ƒç´ å¯ä»¥æŒ‰ <strong>ä»»æ„</strong> é¡ºåºæ’åˆ—ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums1 = [1,1,3,2], nums2 = [2,3], nums3 = [3]</span><br><span class="line">è¾“å‡ºï¼š[3,2]</span><br><span class="line">è§£é‡Šï¼šè‡³å°‘åœ¨ä¸¤ä¸ªæ•°ç»„ä¸­å‡ºç°çš„æ‰€æœ‰å€¼ä¸ºï¼š</span><br><span class="line">- 3 ï¼Œåœ¨å…¨éƒ¨ä¸‰ä¸ªæ•°ç»„ä¸­éƒ½å‡ºç°è¿‡ã€‚</span><br><span class="line">- 2 ï¼Œåœ¨æ•°ç»„ nums1 å’Œ nums2 ä¸­å‡ºç°è¿‡ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums1 = [3,1], nums2 = [2,3], nums3 = [1,2]</span><br><span class="line">è¾“å‡ºï¼š[2,3,1]</span><br><span class="line">è§£é‡Šï¼šè‡³å°‘åœ¨ä¸¤ä¸ªæ•°ç»„ä¸­å‡ºç°çš„æ‰€æœ‰å€¼ä¸ºï¼š</span><br><span class="line">- 2 ï¼Œåœ¨æ•°ç»„ nums2 å’Œ nums3 ä¸­å‡ºç°è¿‡ã€‚</span><br><span class="line">- 3 ï¼Œåœ¨æ•°ç»„ nums1 å’Œ nums2 ä¸­å‡ºç°è¿‡ã€‚</span><br><span class="line">- 1 ï¼Œåœ¨æ•°ç»„ nums1 å’Œ nums3 ä¸­å‡ºç°è¿‡ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums1 = [1,2,2], nums2 = [4,3,3], nums3 = [5]</span><br><span class="line">è¾“å‡ºï¼š[]</span><br><span class="line">è§£é‡Šï¼šä¸å­˜åœ¨è‡³å°‘åœ¨ä¸¤ä¸ªæ•°ç»„ä¸­å‡ºç°çš„å€¼ã€‚</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= nums1.length, nums2.length, nums3.length &lt;= 100</code></li>
<li><code>1 &lt;= nums1[i], nums2[j], nums3[k] &lt;= 100</code></li>
</ul>
<p>Related Topics</p>
<p>æ•°ç»„</p>
<p>å“ˆå¸Œè¡¨</p>
<p>ğŸ‘ 41</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>æˆ‘ä»¬å¯ä»¥å…ˆå°†æ¯ä¸ªæ•°ç»„ä¸­çš„å…ƒç´ æ”¾å…¥å¯¹åº”çš„æ•°ç»„ï¼ˆæˆ–å“ˆå¸Œè¡¨ï¼‰ä¸­ï¼Œç„¶åæšä¸¾ 1 åˆ° 100 ä¸­çš„æ¯ä¸ªæ•° iï¼Œåˆ¤æ–­ i æ˜¯å¦åœ¨è‡³å°‘ä¸¤ä¸ªæ•°ç»„ä¸­å‡ºç°è¿‡ã€‚è‹¥æ˜¯ï¼Œåˆ™å°† i åŠ å…¥ç­”æ¡ˆæ•°ç»„ä¸­ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;Integer&gt; <span class="title function_">twoOutOfThree</span><span class="params">(<span class="type">int</span>[] nums1, <span class="type">int</span>[] nums2, <span class="type">int</span>[] nums3)</span> &#123;</span><br><span class="line">        List&lt;Integer&gt; res = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        <span class="type">int</span>[] cnt1 = get(nums1);</span><br><span class="line">        <span class="type">int</span>[] cnt2 = get(nums2);</span><br><span class="line">        <span class="type">int</span>[] cnt3 = get(nums3);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">101</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (cnt1[i] + cnt2[i] + cnt3[i] &gt; <span class="number">1</span>) &#123;</span><br><span class="line">                res.add(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span>[] get(<span class="type">int</span>[] nums) &#123;</span><br><span class="line">        <span class="type">int</span>[] res = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">101</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> num : nums) &#123;</span><br><span class="line">            res[num] = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦O(n1+n2+n3),n1,n2,n3 ä¸ºæ•°ç»„é•¿åº¦.</li>
<li>ç©ºé—´å¤æ‚åº¦O(n1+n2+n3)</li>
</ul>
<h3 id="16-2ã€LC2180-ç»Ÿè®¡å„ä½æ•°å­—ä¹‹å’Œä¸ºå¶æ•°çš„æ•´æ•°ä¸ªæ•°"><a href="#16-2ã€LC2180-ç»Ÿè®¡å„ä½æ•°å­—ä¹‹å’Œä¸ºå¶æ•°çš„æ•´æ•°ä¸ªæ•°" class="headerlink" title="16.2ã€LC2180. ç»Ÿè®¡å„ä½æ•°å­—ä¹‹å’Œä¸ºå¶æ•°çš„æ•´æ•°ä¸ªæ•°"></a>16.2ã€LC2180. ç»Ÿè®¡å„ä½æ•°å­—ä¹‹å’Œä¸ºå¶æ•°çš„æ•´æ•°ä¸ªæ•°</h3><p>ç»™ä½ ä¸€ä¸ªæ­£æ•´æ•° <code>num</code> ï¼Œè¯·ä½ ç»Ÿè®¡å¹¶è¿”å› <strong>å°äºæˆ–ç­‰äº</strong> <code>num</code> ä¸”å„ä½æ•°å­—ä¹‹å’Œä¸º <strong>å¶æ•°</strong> çš„æ­£æ•´æ•°çš„æ•°ç›®ã€‚</p>
<p>æ­£æ•´æ•°çš„ <strong>å„ä½æ•°å­—ä¹‹å’Œ</strong> æ˜¯å…¶æ‰€æœ‰ä½ä¸Šçš„å¯¹åº”æ•°å­—ç›¸åŠ çš„ç»“æœã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnum = 4</span><br><span class="line">è¾“å‡ºï¼š2</span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">åªæœ‰ 2 å’Œ 4 æ»¡è¶³å°äºç­‰äº 4 ä¸”å„ä½æ•°å­—ä¹‹å’Œä¸ºå¶æ•°ã€‚    </span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnum = 30</span><br><span class="line">è¾“å‡ºï¼š14</span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">åªæœ‰ 14 ä¸ªæ•´æ•°æ»¡è¶³å°äºç­‰äº 30 ä¸”å„ä½æ•°å­—ä¹‹å’Œä¸ºå¶æ•°ï¼Œåˆ†åˆ«æ˜¯ï¼š </span><br><span class="line">2ã€4ã€6ã€8ã€11ã€13ã€15ã€17ã€19ã€20ã€22ã€24ã€26 å’Œ 28 ã€‚</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= num &lt;= 1000</code></li>
</ul>
<p>Related Topics</p>
<p>æ•°å­¦</p>
<p>æ¨¡æ‹Ÿ</p>
<p>ğŸ‘ 37</p>
<p>ğŸ‘ 0</p>
<h4 id="æ–¹æ³•ä¸€ï¼šæš´åŠ›æšä¸¾"><a href="#æ–¹æ³•ä¸€ï¼šæš´åŠ›æšä¸¾" class="headerlink" title="æ–¹æ³•ä¸€ï¼šæš´åŠ›æšä¸¾"></a>æ–¹æ³•ä¸€ï¼šæš´åŠ›æšä¸¾</h4><p>ä¸€ç§æœ€ç®€å•ç›´æ¥çš„æ–¹æ³•æ˜¯æšä¸¾ [1,..num] çš„æ‰€æœ‰æ•´æ•° <em>x</em>ï¼Œåˆ¤æ–­ x å„ä½æ•°å­—ä¹‹å’Œæ˜¯å¦ä¸ºå¶æ•°ï¼Œæ˜¯åˆ™ç­”æ¡ˆåŠ ä¸€ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">countEven</span><span class="params">(<span class="type">int</span> num)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">ans</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= num; ++i) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">s</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> i; x &gt; <span class="number">0</span>; x /= <span class="number">10</span>) &#123;</span><br><span class="line">                s += x % <span class="number">10</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (s % <span class="number">2</span> == <span class="number">0</span>) &#123;</span><br><span class="line">                ++ans;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O*(<em>n</em>Ã—log<em>n</em>)*</li>
<li>ç©ºé—´å¤æ‚åº¦ O(1)ã€‚å…¶ä¸­ n ä¸º num çš„å€¼</li>
</ul>
<h4 id="æ–¹æ³•äºŒï¼šæ•°å­¦"><a href="#æ–¹æ³•äºŒï¼šæ•°å­¦" class="headerlink" title="æ–¹æ³•äºŒï¼šæ•°å­¦"></a>æ–¹æ³•äºŒï¼šæ•°å­¦</h4><p>æˆ‘ä»¬è§‚å¯Ÿå‘ç°ï¼Œåœ¨ [0,..x] çš„æ‰€æœ‰æ•°ä¸­ï¼Œæ¯ 10 ä¸ªæ•°ä¸­ï¼Œå°±æœ‰ 5 ä¸ªæ•°çš„å„ä½æ•°å­—ä¹‹å’Œä¸ºå¶æ•°ã€‚ä¾‹å¦‚ï¼Œåœ¨ [0,..9] ä¸­ï¼Œæ¯ 10 ä¸ªæ•°ä¸­ï¼Œå°±æœ‰ 5 ä¸ªæ•°çš„å„ä½æ•°å­—ä¹‹å’Œä¸ºå¶æ•°ï¼Œåˆ†åˆ«æ˜¯ 0, 2, 4, 6, 8ã€‚</p>
<p>å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆç®—å‡º num ä¸­æœ‰å¤šå°‘ä¸ª 10 çš„å€æ•°ï¼Œç„¶åä¹˜ä»¥ 5 å†å‡å» 1ï¼ˆæ’é™¤ 0 è¿™ä¸ªéæ­£æ•´æ•°å¶æ•°ï¼‰ï¼Œå¯ä»¥å¾—åˆ°åˆå§‹ç­”æ¡ˆ ans &#x3D; âŒŠ 10 &#x2F; num âŒ‹Ã—5âˆ’1ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è¿˜éœ€è¦è€ƒè™‘å‰©ä¸‹çš„ num % 10 + 1 ä¸ªæ•°å­—ä¸­ï¼Œæœ‰å¤šå°‘ä¸ªæ•°çš„å„ä½æ•°å­—ä¹‹å’Œä¸ºå¶æ•°ã€‚è¿™äº›æ•°å­—æ˜¯å¦æ˜¯å¶æ•°ï¼Œè·Ÿæ•°å­—çš„å‰é¢æ•°å­—ä¹‹å’Œæœ‰å…³ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ç®—å‡º num çš„å‰é¢æ•°å­—ä¹‹å’Œ sï¼Œé‚£ä¹ˆå‰©ä½™çš„æ•°å­—ä¸­ï¼Œè¿˜æœ‰âŒŠnum%10+2-(s&amp;1)&#x2F;2âŒ‹ ä¸ªæ•°çš„å„ä½æ•°å­—ä¹‹å’Œä¸ºå¶æ•°ã€‚ç´¯åŠ åˆ°ç­”æ¡ˆ ans ä¸­å³å¯ã€‚</p>
<p>æˆ‘ä»¬ä¸å¦¨ä¸¾ä¸ªä¾‹å­ï¼Œå‡è®¾ numnum ä¸º 123ï¼Œé‚£ä¹ˆå‰é¢ [0,..119] ä¸­ä¸€å…±æœ‰ 12 ä¸ª 10 çš„å€æ•°ï¼Œæ¯ä¸ª 10 çš„å€æ•°ä¸­æœ‰ 5 ä¸ªæ•°çš„å„ä½æ•°å­—ä¹‹å’Œä¸ºå¶æ•°ï¼Œå› æ­¤ï¼Œåˆå§‹ç­”æ¡ˆä¸º ans &#x3D; 12 Ã— 5 âˆ’ 1 &#x3D; 59ã€‚</p>
<p>å‰©ä¸‹çš„æ•°å­—åˆ†åˆ«æ˜¯ 120,121,122,123ï¼Œæ¯ä¸ªæ•°å­—çš„å‰ä¸¤ä½æ•°å­—ä¹‹å’Œä¸º s &#x3D; 1+2&#x3D;3ï¼Œæ˜¯å¥‡æ•°ï¼Œå› æ­¤ï¼Œå‰©ä¸‹çš„æ•°å­—ä¸­ï¼Œåªæœ‰ 2 ä¸ªæ•°çš„å„ä½æ•°å­—ä¹‹å’Œä¸ºå¶æ•°ï¼Œç´¯åŠ åˆ°ç­”æ¡ˆ ans ä¸­ï¼Œæœ€ç»ˆç­”æ¡ˆä¸º ans + 2 &#x3D; 61ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">countEven</span><span class="params">(<span class="type">int</span> num)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">ans</span> <span class="operator">=</span> num / <span class="number">10</span> * <span class="number">5</span> - <span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">s</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> num / <span class="number">10</span>; x &gt; <span class="number">0</span>; x /= <span class="number">10</span>) &#123;</span><br><span class="line">            s += x % <span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        ans += (num % <span class="number">10</span> + <span class="number">2</span> - (s &amp; <span class="number">1</span>)) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O*(log<em>n</em>)*</li>
<li>ç©ºé—´å¤æ‚åº¦ O(1)ã€‚å…¶ä¸­ n ä¸º num çš„å€¼ã€‚</li>
</ul>
<h3 id="16-3ã€LC1828-ç»Ÿè®¡ä¸€ä¸ªåœ†ä¸­ç‚¹çš„æ•°ç›®"><a href="#16-3ã€LC1828-ç»Ÿè®¡ä¸€ä¸ªåœ†ä¸­ç‚¹çš„æ•°ç›®" class="headerlink" title="16.3ã€LC1828. ç»Ÿè®¡ä¸€ä¸ªåœ†ä¸­ç‚¹çš„æ•°ç›®"></a>16.3ã€LC1828. ç»Ÿè®¡ä¸€ä¸ªåœ†ä¸­ç‚¹çš„æ•°ç›®</h3><p>ç»™ä½ ä¸€ä¸ªæ•°ç»„ <code>points</code> ï¼Œå…¶ä¸­ <code>points[i] = [xi, yi]</code> ï¼Œè¡¨ç¤ºç¬¬ <code>i</code> ä¸ªç‚¹åœ¨äºŒç»´å¹³é¢ä¸Šçš„åæ ‡ã€‚å¤šä¸ªç‚¹å¯èƒ½ä¼šæœ‰ <strong>ç›¸åŒ</strong> çš„åæ ‡ã€‚</p>
<p>åŒæ—¶ç»™ä½ ä¸€ä¸ªæ•°ç»„ <code>queries</code> ï¼Œå…¶ä¸­ <code>queries[j] = [xj, yj, rj]</code> ï¼Œè¡¨ç¤ºä¸€ä¸ªåœ†å¿ƒåœ¨ <code>(xj, yj)</code> ä¸”åŠå¾„ä¸º <code>rj</code> çš„åœ†ã€‚</p>
<p>å¯¹äºæ¯ä¸€ä¸ªæŸ¥è¯¢ <code>queries[j]</code> ï¼Œè®¡ç®—åœ¨ç¬¬ <code>j</code> ä¸ªåœ† <strong>å†…</strong> ç‚¹çš„æ•°ç›®ã€‚å¦‚æœä¸€ä¸ªç‚¹åœ¨åœ†çš„ <strong>è¾¹ç•Œä¸Š</strong> ï¼Œæˆ‘ä»¬åŒæ ·è®¤ä¸ºå®ƒåœ¨åœ† <strong>å†…</strong> ã€‚</p>
<p>è¯·ä½ è¿”å›ä¸€ä¸ªæ•°ç»„ <code>answer</code> ï¼Œå…¶ä¸­ <code>answer[j]</code>æ˜¯ç¬¬ <code>j</code> ä¸ªæŸ¥è¯¢çš„ç­”æ¡ˆã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://assets.leetcode.com/uploads/2021/03/25/chrome_2021-03-25_22-34-16.png" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼špoints = [[1,3],[3,3],[5,3],[2,2]], queries = [[2,3,1],[4,3,1],[1,1,2]]</span><br><span class="line">è¾“å‡ºï¼š[3,2,2]</span><br><span class="line">è§£é‡Šï¼šæ‰€æœ‰çš„ç‚¹å’Œåœ†å¦‚ä¸Šå›¾æ‰€ç¤ºã€‚</span><br><span class="line">queries[0] æ˜¯ç»¿è‰²çš„åœ†ï¼Œqueries[1] æ˜¯çº¢è‰²çš„åœ†ï¼Œqueries[2] æ˜¯è“è‰²çš„åœ†ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://assets.leetcode.com/uploads/2021/03/25/chrome_2021-03-25_22-42-07.png" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼špoints = [[1,1],[2,2],[3,3],[4,4],[5,5]], queries = [[1,2,2],[2,2,2],[4,3,2],[4,3,3]]</span><br><span class="line">è¾“å‡ºï¼š[2,3,2,4]</span><br><span class="line">è§£é‡Šï¼šæ‰€æœ‰çš„ç‚¹å’Œåœ†å¦‚ä¸Šå›¾æ‰€ç¤ºã€‚</span><br><span class="line">queries[0] æ˜¯ç»¿è‰²çš„åœ†ï¼Œqueries[1] æ˜¯çº¢è‰²çš„åœ†ï¼Œqueries[2] æ˜¯è“è‰²çš„åœ†ï¼Œqueries[3] æ˜¯ç´«è‰²çš„åœ†ã€‚</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= points.length &lt;= 500</code></li>
<li><code>points[i].length == 2</code></li>
<li><code>0 &lt;= xi, yi &lt;= 500</code></li>
<li><code>1 &lt;= queries.length &lt;= 500</code></li>
<li><code>queries[j].length == 3</code></li>
<li><code>0 &lt;= xj, yj &lt;= 500</code></li>
<li><code>1 &lt;= rj &lt;= 500</code></li>
<li>æ‰€æœ‰çš„åæ ‡éƒ½æ˜¯æ•´æ•°ã€‚</li>
</ul>
<p>Related Topics</p>
<p>å‡ ä½•</p>
<p>æ•°ç»„</p>
<p>æ•°å­¦</p>
<p>ğŸ‘ 52</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>å¯¹äºæ¯ä¸€ä¸ªæŸ¥è¯¢éå†æ¯ä¸€ä¸ªèŠ‚ç‚¹è¿›è¡Œæ¯”è¾ƒã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[] countPoints(<span class="type">int</span>[][] points, <span class="type">int</span>[][] queries) &#123;</span><br><span class="line">        <span class="type">int</span>[] res = <span class="keyword">new</span> <span class="title class_">int</span>[queries.length];</span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span>[] query : queries) &#123;</span><br><span class="line">            <span class="comment">// é’ˆå¯¹æ¯ä¸€ä¸ªæŸ¥è¯¢è¿›è¡Œå¤„ç†</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span>[] point : points) &#123;</span><br><span class="line">                <span class="comment">// éå†æ¯ä¸€ä¸ªç‚¹ï¼Œçœ‹åœ¨ä¸åœ¨åœ†ä¸Š</span></span><br><span class="line">                <span class="keyword">if</span> (Math.pow(point[<span class="number">0</span>] - query[<span class="number">0</span>], <span class="number">2</span>) + Math.pow(point[<span class="number">1</span>] - query[<span class="number">1</span>], <span class="number">2</span>) &lt;= Math.pow(query[<span class="number">2</span>], <span class="number">2</span>)) &#123;</span><br><span class="line">                    ++res[i];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            i++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>:</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O*(<em>m</em>Ã—*n)ï¼Œå…¶ä¸­ <em>m</em> å’Œ <em>n</em> åˆ†åˆ«ä¸ºæ•°ç»„ <code>queries</code> çš„é•¿åº¦å’Œ <code>points</code> çš„é•¿åº¦ã€‚</li>
<li>å¿½ç•¥ç­”æ¡ˆçš„ç©ºé—´æ¶ˆè€—ï¼Œç©ºé—´å¤æ‚åº¦ O(1)ã€‚</li>
</ul>
<h3 id="16-4ã€LC1664-ç”Ÿæˆå¹³è¡¡æ•°ç»„çš„æ–¹æ¡ˆæ•°"><a href="#16-4ã€LC1664-ç”Ÿæˆå¹³è¡¡æ•°ç»„çš„æ–¹æ¡ˆæ•°" class="headerlink" title="16.4ã€LC1664. ç”Ÿæˆå¹³è¡¡æ•°ç»„çš„æ–¹æ¡ˆæ•°"></a>16.4ã€LC1664. ç”Ÿæˆå¹³è¡¡æ•°ç»„çš„æ–¹æ¡ˆæ•°</h3><p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>nums</code> ã€‚ä½ éœ€è¦é€‰æ‹© <strong>æ°å¥½</strong> ä¸€ä¸ªä¸‹æ ‡ï¼ˆä¸‹æ ‡ä» <strong>0</strong> å¼€å§‹ï¼‰å¹¶åˆ é™¤å¯¹åº”çš„å…ƒç´ ã€‚è¯·æ³¨æ„å‰©ä¸‹å…ƒç´ çš„ä¸‹æ ‡å¯èƒ½ä¼šå› ä¸ºåˆ é™¤æ“ä½œè€Œå‘ç”Ÿæ”¹å˜ã€‚</p>
<p>æ¯”æ–¹è¯´ï¼Œå¦‚æœ <code>nums = [6,1,7,4,1]</code> ï¼Œé‚£ä¹ˆï¼š</p>
<ul>
<li>é€‰æ‹©åˆ é™¤ä¸‹æ ‡ <code>1</code> ï¼Œå‰©ä¸‹çš„æ•°ç»„ä¸º <code>nums = [6,7,4,1]</code> ã€‚</li>
<li>é€‰æ‹©åˆ é™¤ä¸‹æ ‡ <code>2</code> ï¼Œå‰©ä¸‹çš„æ•°ç»„ä¸º <code>nums = [6,1,4,1]</code> ã€‚</li>
<li>é€‰æ‹©åˆ é™¤ä¸‹æ ‡ <code>4</code> ï¼Œå‰©ä¸‹çš„æ•°ç»„ä¸º <code>nums = [6,1,7,4]</code> ã€‚</li>
</ul>
<p>å¦‚æœä¸€ä¸ªæ•°ç»„æ»¡è¶³å¥‡æ•°ä¸‹æ ‡å…ƒç´ çš„å’Œä¸å¶æ•°ä¸‹æ ‡å…ƒç´ çš„å’Œç›¸ç­‰ï¼Œè¯¥æ•°ç»„å°±æ˜¯ä¸€ä¸ª <strong>å¹³è¡¡æ•°ç»„</strong> ã€‚</p>
<p>è¯·ä½ è¿”å›åˆ é™¤æ“ä½œåï¼Œå‰©ä¸‹çš„æ•°ç»„ <code>nums</code> æ˜¯ <strong>å¹³è¡¡æ•°ç»„</strong> çš„ <strong>æ–¹æ¡ˆæ•°</strong> ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [2,1,6,4]</span><br><span class="line">è¾“å‡ºï¼š1</span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">åˆ é™¤ä¸‹æ ‡ 0 ï¼š[1,6,4] -&gt; å¶æ•°å…ƒç´ ä¸‹æ ‡ä¸ºï¼š1 + 4 = 5 ã€‚å¥‡æ•°å…ƒç´ ä¸‹æ ‡ä¸ºï¼š6 ã€‚ä¸å¹³è¡¡ã€‚</span><br><span class="line">åˆ é™¤ä¸‹æ ‡ 1 ï¼š[2,6,4] -&gt; å¶æ•°å…ƒç´ ä¸‹æ ‡ä¸ºï¼š2 + 4 = 6 ã€‚å¥‡æ•°å…ƒç´ ä¸‹æ ‡ä¸ºï¼š6 ã€‚å¹³è¡¡ã€‚</span><br><span class="line">åˆ é™¤ä¸‹æ ‡ 2 ï¼š[2,1,4] -&gt; å¶æ•°å…ƒç´ ä¸‹æ ‡ä¸ºï¼š2 + 4 = 6 ã€‚å¥‡æ•°å…ƒç´ ä¸‹æ ‡ä¸ºï¼š1 ã€‚ä¸å¹³è¡¡ã€‚</span><br><span class="line">åˆ é™¤ä¸‹æ ‡ 3 ï¼š[2,1,6] -&gt; å¶æ•°å…ƒç´ ä¸‹æ ‡ä¸ºï¼š2 + 6 = 8 ã€‚å¥‡æ•°å…ƒç´ ä¸‹æ ‡ä¸ºï¼š1 ã€‚ä¸å¹³è¡¡ã€‚</span><br><span class="line">åªæœ‰ä¸€ç§è®©å‰©ä½™æ•°ç»„æˆä¸ºå¹³è¡¡æ•°ç»„çš„æ–¹æ¡ˆã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [1,1,1]</span><br><span class="line">è¾“å‡ºï¼š3</span><br><span class="line">è§£é‡Šï¼šä½ å¯ä»¥åˆ é™¤ä»»æ„å…ƒç´ ï¼Œå‰©ä½™æ•°ç»„éƒ½æ˜¯å¹³è¡¡æ•°ç»„ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [1,2,3]</span><br><span class="line">è¾“å‡ºï¼š0</span><br><span class="line">è§£é‡Šï¼šä¸ç®¡åˆ é™¤å“ªä¸ªå…ƒç´ ï¼Œå‰©ä¸‹æ•°ç»„éƒ½ä¸æ˜¯å¹³è¡¡æ•°ç»„ã€‚</span><br></pre></td></tr></table></figure>



<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= nums.length &lt;= 105</code></li>
<li><code>1 &lt;= nums[i] &lt;= 104</code></li>
</ul>
<p>Related Topics</p>
<p>æ•°ç»„</p>
<p>åŠ¨æ€è§„åˆ’</p>
<p>ğŸ‘ 49</p>
<p>ğŸ‘ 0</p>
<p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p>
<p>æˆ‘ä»¬å…ˆé¢„å¤„ç†å¾—åˆ°æ•°ç»„ <code>nums</code> çš„å¶æ•°ä¸‹æ ‡å…ƒç´ ä¹‹å’Œ s1 ä»¥åŠå¥‡æ•°ä¸‹æ ‡å…ƒç´ ä¹‹å’Œ s2ã€‚</p>
<p>ç„¶åä»å‰å¾€åæšä¸¾æ•°ç»„ <code>nums</code> çš„æ¯ä¸ªå…ƒç´  v<em>ï¼Œç”¨å˜é‡ t</em>1 å’Œ t2 åˆ†åˆ«è®°å½•å·²éå†çš„å¶æ•°ä¸‹æ ‡å…ƒç´ ä¹‹å’Œä»¥åŠå¥‡æ•°ä¸‹æ ‡å…ƒç´ ä¹‹å’Œã€‚</p>
<p>æˆ‘ä»¬è§‚å¯Ÿå‘ç°ï¼Œå¯¹äºå½“å‰éå†åˆ°çš„å…ƒç´  v<em>ï¼Œå¦‚æœåˆ é™¤äº†ï¼Œé‚£ä¹ˆè¯¥å…ƒç´ ä¹‹åçš„å¥‡å¶ä¸‹æ ‡å…ƒç´ ä¹‹å’Œä¼šå‘ç”Ÿäº¤æ¢ã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬å…ˆåˆ¤æ–­è¯¥ä½ç½®ä¸‹æ ‡ i</em> æ˜¯å¥‡æ•°è¿˜æ˜¯å¶æ•°ã€‚</p>
<ul>
<li>å¦‚æœæ˜¯å¶æ•°ä¸‹æ ‡ï¼Œåˆ é™¤è¯¥å…ƒç´ åï¼Œæ•°ç»„çš„å¥‡æ•°ä¸‹æ ‡å…ƒç´ ä¹‹å’Œä¸º t<em>2+<em>s</em>1âˆ’</em>t<em>1âˆ’</em>v<em>ï¼Œè€Œå¶æ•°ä¸‹æ ‡å…ƒç´ ä¹‹å’Œä¸º <em>t</em>1+<em>s</em>2âˆ’</em>t*2ï¼Œå¦‚æœè¿™ä¸¤ä¸ªå’Œç›¸ç­‰ï¼Œé‚£ä¹ˆå°±æ˜¯ä¸€ä¸ªå¹³è¡¡æ•°ç»„ï¼Œç­”æ¡ˆåŠ ä¸€ã€‚</li>
<li>å¦‚æœæ˜¯å¥‡æ•°ä¸‹æ ‡ï¼Œåˆ é™¤è¯¥å…ƒç´ åï¼Œæ•°ç»„çš„å¶æ•°ä¸‹æ ‡å…ƒç´ ä¹‹å’Œä¸º t<em>1+<em>s</em>2âˆ’</em>t<em>2âˆ’</em>v<em>ï¼Œè€Œå¥‡æ•°ä¸‹æ ‡å…ƒç´ ä¹‹å’Œä¸º t</em>2+<em>s</em>1âˆ’<em>t</em>1ï¼Œå¦‚æœè¿™ä¸¤ä¸ªå’Œç›¸ç­‰ï¼Œé‚£ä¹ˆå°±æ˜¯ä¸€ä¸ªå¹³è¡¡æ•°ç»„ï¼Œç­”æ¡ˆåŠ ä¸€ã€‚</li>
</ul>
<p>ç„¶åæˆ‘ä»¬æ ¹æ®ä¸‹æ ‡çš„å¥‡å¶æ€§æ›´æ–° t<em>1 æˆ– t</em>2ï¼Œç»§ç»­éå†ä¸‹ä¸€ä¸ªå…ƒç´ ã€‚éå†å®Œæ•°ç»„åï¼Œå³å¯å¾—åˆ°ç­”æ¡ˆã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">waysToMakeFair</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="number">0</span>, s2 = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> nums.length;;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i % <span class="number">2</span> == <span class="number">0</span>) &#123;</span><br><span class="line">                s1 += nums[i];</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                s2 += nums[i];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">t1</span> <span class="operator">=</span> <span class="number">0</span>, t2 = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> nums[i];</span><br><span class="line">            <span class="keyword">if</span> (i % <span class="number">2</span> == <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (t2 + s1 - t1 - num == t1 + s2 - t2) &#123;</span><br><span class="line">                    res++;</span><br><span class="line">                &#125;</span><br><span class="line">                t1 += num;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (t1 + s2 - t2 - num == t2 + s1 - t1) &#123;</span><br><span class="line">                    res++;</span><br><span class="line">                &#125;</span><br><span class="line">                t2 += num;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ O*(*n)ï¼Œå…¶ä¸­ <em>n</em> ä¸ºæ•°ç»„çš„é•¿åº¦ã€‚</li>
<li>ç©ºé—´å¤æ‚åº¦ <em>O</em>(1)ã€‚</li>
</ul>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">æ–‡ç« ä½œè€…: </span><span class="post-copyright-info"><a href="http://www.haungrd.top">Huang RD</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">æ–‡ç« é“¾æ¥: </span><span class="post-copyright-info"><a href="http://www.haungrd.top/2023/02/11/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/">http://www.haungrd.top/2023/02/11/%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">ç‰ˆæƒå£°æ˜: </span><span class="post-copyright-info">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥è‡ª <a href="http://www.haungrd.top" target="_blank">Huang Blog</a>ï¼</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/JAVA/">JAVA</a><a class="post-meta__tags" href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/">è®¡ç®—æœºåŸºç¡€</a><a class="post-meta__tags" href="/tags/%E7%AE%97%E6%B3%95/">ç®—æ³•</a><a class="post-meta__tags" href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">æ•°æ®ç»“æ„</a></div><div class="post_share"><div class="social-share" data-image="https://www.huangrd.top/images/agentina/8.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/02/11/%E8%AE%A1%E7%BD%91%E7%AE%80%E8%A6%81/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.huangrd.top/images/agentina/2.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info">è®¡ç½‘ç®€è¦</div></div></a></div><div class="next-post pull-right"><a href="/2023/02/10/%E7%89%9B%E5%AE%A2%E9%A1%B9%E7%9B%AE/"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.huangrd.top/images/agentina/10.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info">ç‰›å®¢è®ºå›</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>ç›¸å…³æ¨è</span></div><div class="relatedPosts-list"><div><a href="/2022/11/22/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%AE%9E%E9%AA%8C/" title="æ•°æ®ç»“æ„å®éªŒ"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.huangrd.top/images/agentina/5.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-11-22</div><div class="title">æ•°æ®ç»“æ„å®éªŒ</div></div></a></div><div><a href="/2022/11/29/GUI/" title="java GUIåŸºç¡€"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.huangrd.top/images/agentina/8.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-11-29</div><div class="title">java GUIåŸºç¡€</div></div></a></div><div><a href="/2023/02/17/JUC/" title="JUC"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.huangrd.top/images/agentina/10.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-02-17</div><div class="title">JUC</div></div></a></div><div><a href="/2023/03/20/JVM/" title="JVM"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.huangrd.top/images/agentina/2.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-03-20</div><div class="title">JVM</div></div></a></div><div><a href="/2022/11/22/Netty04-%E4%BC%98%E5%8C%96%E4%B8%8E%E6%BA%90%E7%A0%81/" title="Netty ä¼˜åŒ–ä¸æºç "><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.huangrd.top/images/agentina/8.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-11-22</div><div class="title">Netty ä¼˜åŒ–ä¸æºç </div></div></a></div><div><a href="/2023/03/03/RabbitMQ%E5%A4%8D%E4%B9%A0%E6%8F%90%E5%8D%87/" title="Rabbit MQå¤ä¹ æå‡"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.huangrd.top/images/agentina/12.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-03-03</div><div class="title">Rabbit MQå¤ä¹ æå‡</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®å½•</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93"><span class="toc-text">ç®—æ³•æ€»ç»“</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E4%BA%8C%E5%88%86%E6%90%9C%E7%B4%A2"><span class="toc-text">ä¸€ã€äºŒåˆ†æœç´¢</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1%E3%80%81%E5%B7%A6%E9%97%AD%E5%8F%B3%E9%97%AD"><span class="toc-text">1.1ã€å·¦é—­å³é—­</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2%E3%80%81%E5%B7%A6%E9%97%AD%E5%8F%B3%E5%BC%80"><span class="toc-text">1.2ã€å·¦é—­å³å¼€</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E5%88%86%E6%B3%95%E6%9F%A5%E6%89%BE%E5%B7%A6%E5%8F%B3%E8%BE%B9%E7%95%8C"><span class="toc-text">äºŒåˆ†æ³•æŸ¥æ‰¾å·¦å³è¾¹ç•Œ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3%E3%80%81LC69-x-%E7%9A%84%E5%B9%B3%E6%96%B9%E6%A0%B9"><span class="toc-text">1.3ã€LC69 x çš„å¹³æ–¹æ ¹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4%E3%80%81LC367-%E6%9C%89%E6%95%88%E7%9A%84%E5%AE%8C%E5%85%A8%E5%B9%B3%E6%96%B9%E6%95%B0"><span class="toc-text">1.4ã€LC367 æœ‰æ•ˆçš„å®Œå…¨å¹³æ–¹æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-5%E3%80%81LC1802-%E6%9C%89%E7%95%8C%E6%95%B0%E7%BB%84%E4%B8%AD%E6%8C%87%E5%AE%9A%E4%B8%8B%E6%A0%87%E5%A4%84%E7%9A%84%E6%9C%80%E5%A4%A7%E5%80%BC"><span class="toc-text">1.5ã€LC1802. æœ‰ç•Œæ•°ç»„ä¸­æŒ‡å®šä¸‹æ ‡å¤„çš„æœ€å¤§å€¼</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80%EF%BC%9A%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE"><span class="toc-text">æ–¹æ³•ä¸€ï¼šäºŒåˆ†æŸ¥æ‰¾</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-6%E3%80%81LC33-%E6%90%9C%E7%B4%A2%E6%97%8B%E8%BD%AC%E6%8E%92%E5%BA%8F%E6%95%B0%E7%BB%84"><span class="toc-text">1.6ã€LC33. æœç´¢æ—‹è½¬æ’åºæ•°ç»„</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E5%8F%8C%E6%8C%87%E9%92%88%E6%B3%95"><span class="toc-text">äºŒã€åŒæŒ‡é’ˆæ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1%E3%80%81%E7%A7%BB%E9%99%A4%E6%95%B0%E7%BB%84%E5%85%83%E7%B4%A0"><span class="toc-text">2.1ã€ç§»é™¤æ•°ç»„å…ƒç´ </span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2%E3%80%81LC11-%E7%9B%9B%E6%9C%80%E5%A4%9A%E6%B0%B4%E7%9A%84%E5%AE%B9%E5%99%A8"><span class="toc-text">2.2ã€LC11. ç››æœ€å¤šæ°´çš„å®¹å™¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3%E3%80%81LC141-%E7%8E%AF%E5%BD%A2%E9%93%BE%E8%A1%A8"><span class="toc-text">2.3ã€LC141. ç¯å½¢é“¾è¡¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4%E3%80%81LC142-%E7%8E%AF%E5%BD%A2%E9%93%BE%E8%A1%A8II"><span class="toc-text">2.4ã€LC142. ç¯å½¢é“¾è¡¨II</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5%E3%80%81%E5%89%91%E6%8C%87-Offer-18-%E5%88%A0%E9%99%A4%E9%93%BE%E8%A1%A8%E7%9A%84%E8%8A%82%E7%82%B9"><span class="toc-text">2.5ã€å‰‘æŒ‡ Offer 18. åˆ é™¤é“¾è¡¨çš„èŠ‚ç‚¹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6%E3%80%81%E5%89%91%E6%8C%87-Offer-21-%E8%B0%83%E6%95%B4%E6%95%B0%E7%BB%84%E9%A1%BA%E5%BA%8F%E4%BD%BF%E5%A5%87%E6%95%B0%E4%BD%8D%E4%BA%8E%E5%81%B6%E6%95%B0%E5%89%8D%E9%9D%A2"><span class="toc-text">2.6ã€å‰‘æŒ‡ Offer 21. è°ƒæ•´æ•°ç»„é¡ºåºä½¿å¥‡æ•°ä½äºå¶æ•°å‰é¢</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-7%E3%80%81%E5%89%91%E6%8C%87-Offer-22-%E9%93%BE%E8%A1%A8%E4%B8%AD%E5%80%92%E6%95%B0%E7%AC%AC-k-%E4%B8%AA%E8%8A%82%E7%82%B9"><span class="toc-text">2.7ã€å‰‘æŒ‡ Offer 22. é“¾è¡¨ä¸­å€’æ•°ç¬¬ k ä¸ªèŠ‚ç‚¹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-8%E3%80%81LC206-%E5%8F%8D%E8%BD%AC%E9%93%BE%E8%A1%A8"><span class="toc-text">2.8ã€LC206. åè½¬é“¾è¡¨</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%8C%E6%8C%87%E9%92%88"><span class="toc-text">åŒæŒ‡é’ˆ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%92%E5%BD%92"><span class="toc-text">é€’å½’</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-9%E3%80%81LC1750-%E5%88%A0%E9%99%A4%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%A4%E7%AB%AF%E7%9B%B8%E5%90%8C%E5%AD%97%E7%AC%A6%E5%90%8E%E7%9A%84%E6%9C%80%E7%9F%AD%E9%95%BF%E5%BA%A6"><span class="toc-text">2.9ã€LC1750. åˆ é™¤å­—ç¬¦ä¸²ä¸¤ç«¯ç›¸åŒå­—ç¬¦åçš„æœ€çŸ­é•¿åº¦</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-10%E3%80%81LC15-%E4%B8%89%E6%95%B0%E4%B9%8B%E5%92%8C"><span class="toc-text">2.10ã€LC15. ä¸‰æ•°ä¹‹å’Œ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-11%E3%80%81LC1658-%E5%B0%86-x-%E5%87%8F%E5%88%B0-0-%E7%9A%84%E6%9C%80%E5%B0%8F%E6%93%8D%E4%BD%9C%E6%95%B0"><span class="toc-text">2.11ã€LC1658. å°† x å‡åˆ° 0 çš„æœ€å°æ“ä½œæ•°</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80%EF%BC%9A%E9%80%86%E5%90%91%E6%80%9D%E7%BB%B4-%E5%8F%8C%E6%8C%87%E9%92%88"><span class="toc-text">æ–¹æ³•ä¸€ï¼šé€†å‘æ€ç»´+åŒæŒ‡é’ˆ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%BA%8C%EF%BC%9A%E7%9B%B4%E6%8E%A5%E5%8F%8C%E6%8C%87%E9%92%88"><span class="toc-text">æ–¹æ³•äºŒï¼šç›´æ¥åŒæŒ‡é’ˆ</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-12%E3%80%81LC1813-%E5%8F%A5%E5%AD%90%E7%9B%B8%E4%BC%BC%E6%80%A7-III"><span class="toc-text">2.12ã€LC1813. å¥å­ç›¸ä¼¼æ€§ III</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80%EF%BC%9A%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8C%89%E7%A9%BA%E6%A0%BC%E5%88%86%E5%89%B2-%E5%8F%8C%E6%8C%87%E9%92%88"><span class="toc-text">æ–¹æ³•ä¸€ï¼šå­—ç¬¦ä¸²æŒ‰ç©ºæ ¼åˆ†å‰² + åŒæŒ‡é’ˆ</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-13%E3%80%81LC88-%E5%90%88%E5%B9%B6%E4%B8%A4%E4%B8%AA%E6%9C%89%E5%BA%8F%E6%95%B0%E7%BB%84"><span class="toc-text">2.13ã€LC88. åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%A3%E6%B3%95%E4%B8%80%EF%BC%9A%E5%8F%8C%E6%8C%87%E9%92%88"><span class="toc-text">è§£æ³•ä¸€ï¼šåŒæŒ‡é’ˆ</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-14%E3%80%81LC165-%E6%AF%94%E8%BE%83%E7%89%88%E6%9C%AC%E5%8F%B7"><span class="toc-text">2.14ã€LC165. æ¯”è¾ƒç‰ˆæœ¬å·</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3"><span class="toc-text">ä¸‰ã€æ»‘åŠ¨çª—å£</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1%E3%80%81LC209-%E9%95%BF%E5%BA%A6%E6%9C%80%E5%B0%8F%E7%9A%84%E5%AD%90%E6%95%B0%E7%BB%84"><span class="toc-text">3.1ã€LC209. é•¿åº¦æœ€å°çš„å­æ•°ç»„</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2%E3%80%81LC904-%E6%B0%B4%E6%9E%9C%E6%88%90%E7%AF%AE"><span class="toc-text">3.2ã€LC904. æ°´æœæˆç¯®</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3%E3%80%81LC76-%E6%9C%80%E5%B0%8F%E8%A6%86%E7%9B%96%E5%AD%97%E4%B8%B2"><span class="toc-text">3.3ã€LC76. æœ€å°è¦†ç›–å­—ä¸²</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4%E3%80%81LC3-%E6%97%A0%E9%87%8D%E5%A4%8D%E5%AD%97%E7%AC%A6%E7%9A%84%E6%9C%80%E9%95%BF%E5%AD%90%E4%B8%B2"><span class="toc-text">3.4ã€LC3. æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5%E3%80%81LC239-%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3%E6%9C%80%E5%A4%A7%E5%80%BC"><span class="toc-text">3.5ã€LC239. æ»‘åŠ¨çª—å£æœ€å¤§å€¼</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%A3%E6%B3%95%E4%B8%80%EF%BC%9A%E5%8D%95%E8%B0%83%E9%98%9F%E5%88%97"><span class="toc-text">è§£æ³•ä¸€ï¼šå•è°ƒé˜Ÿåˆ—</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-6%E3%80%81LC76-%E6%9C%80%E5%B0%8F%E8%A6%86%E7%9B%96%E5%AD%90%E4%B8%B2"><span class="toc-text">3.6ã€LC76. æœ€å°è¦†ç›–å­ä¸²</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80%EF%BC%9A%E6%BB%91%E5%8A%A8%E7%AA%97"><span class="toc-text">æ–¹æ³•ä¸€ï¼šæ»‘åŠ¨çª—</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E6%A8%A1%E6%8B%9F"><span class="toc-text">å››ã€æ¨¡æ‹Ÿ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1%E3%80%81LC54-%E8%9E%BA%E6%97%8B%E7%9F%A9%E9%98%B5"><span class="toc-text">4.1ã€LC54. èºæ—‹çŸ©é˜µ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2%E3%80%81LC59-%E8%9E%BA%E6%97%8B%E7%9F%A9%E9%98%B5II"><span class="toc-text">4.2ã€LC59. èºæ—‹çŸ©é˜µII</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3%E3%80%81%E5%89%91%E6%8C%87Offer29-%E9%A1%BA%E6%97%B6%E9%92%88%E6%89%93%E5%8D%B0%E7%9F%A9%E9%98%B5"><span class="toc-text">4.3ã€å‰‘æŒ‡Offer29. é¡ºæ—¶é’ˆæ‰“å°çŸ©é˜µ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-4%E3%80%81%E5%89%91%E6%8C%87-Offer-31-%E6%A0%88%E7%9A%84%E5%8E%8B%E5%85%A5%E3%80%81%E5%BC%B9%E5%87%BA%E5%BA%8F%E5%88%97"><span class="toc-text">4.4ã€å‰‘æŒ‡ Offer 31. æ ˆçš„å‹å…¥ã€å¼¹å‡ºåºåˆ—</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-5%E3%80%81LC1806-%E8%BF%98%E5%8E%9F%E6%8E%92%E5%88%97%E7%9A%84%E6%9C%80%E5%B0%91%E6%93%8D%E4%BD%9C%E6%AD%A5%E6%95%B0"><span class="toc-text">4.5ã€LC1806. è¿˜åŸæ’åˆ—çš„æœ€å°‘æ“ä½œæ­¥æ•°</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80%EF%BC%9A%E6%9A%B4%E5%8A%9B%E6%A8%A1%E6%8B%9F"><span class="toc-text">æ–¹æ³•ä¸€ï¼šæš´åŠ›æ¨¡æ‹Ÿ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%BA%8C%EF%BC%9A%E6%A8%A1%E6%8B%9F%E4%BC%98%E5%8C%96"><span class="toc-text">æ–¹æ³•äºŒï¼šæ¨¡æ‹Ÿä¼˜åŒ–</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-6%E3%80%81LC657-%E6%9C%BA%E5%99%A8%E4%BA%BA%E8%83%BD%E5%90%A6%E8%BF%94%E5%9B%9E%E5%8E%9F%E7%82%B9"><span class="toc-text">4.6ã€LC657. æœºå™¨äººèƒ½å¦è¿”å›åŸç‚¹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-7%E3%80%81LC31-%E4%B8%8B%E4%B8%80%E4%B8%AA%E6%8E%92%E5%88%97"><span class="toc-text">4.7ã€LC31. ä¸‹ä¸€ä¸ªæ’åˆ—</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%A6%E4%B8%80%E7%A7%8D%E8%A7%A3%E6%B3%95"><span class="toc-text">å¦ä¸€ç§è§£æ³•</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E6%A0%BC%E7%B1%BB%E9%97%AE%E9%A2%98%E7%9A%84-DFS-%E9%81%8D%E5%8E%86%E6%96%B9%E6%B3%95"><span class="toc-text">ç½‘æ ¼ç±»é—®é¢˜çš„ DFS éå†æ–¹æ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BD%91%E6%A0%BC%E9%97%AE%E9%A2%98%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-text">ç½‘æ ¼é—®é¢˜çš„åŸºæœ¬æ¦‚å¿µ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#DFS-%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84"><span class="toc-text">DFS çš„åŸºæœ¬ç»“æ„</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E9%81%BF%E5%85%8D%E9%87%8D%E5%A4%8D%E9%81%8D%E5%8E%86"><span class="toc-text">å¦‚ä½•é¿å…é‡å¤éå†</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-8%E3%80%81LC463-%E5%B2%9B%E5%B1%BF%E7%9A%84%E5%91%A8%E9%95%BF"><span class="toc-text">4.8ã€LC463. å²›å±¿çš„å‘¨é•¿</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%A3%E6%B3%95%E4%B8%80%EF%BC%9A%E6%B7%B1%E5%BA%A6%E4%BC%98%E5%85%88%E6%90%9C%E7%B4%A2"><span class="toc-text">è§£æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E5%9C%A8%E7%BD%91%E6%A0%BC%E4%B8%8A%E5%81%9A-DFS"><span class="toc-text">å¦‚ä½•åœ¨ç½‘æ ¼ä¸Šåš DFS</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E5%9C%A8-DFS-%E9%81%8D%E5%8E%86%E6%97%B6%E6%B1%82%E5%B2%9B%E5%B1%BF%E7%9A%84%E5%91%A8%E9%95%BF"><span class="toc-text">å¦‚ä½•åœ¨ DFS éå†æ—¶æ±‚å²›å±¿çš„å‘¨é•¿</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-9%E3%80%81LC200-%E5%B2%9B%E5%B1%BF%E6%95%B0%E9%87%8F"><span class="toc-text">4.9ã€LC200. å²›å±¿æ•°é‡</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B7%B1%E5%BA%A6%E4%BC%98%E5%85%88%E6%90%9C%E7%B4%A2"><span class="toc-text">æ·±åº¦ä¼˜å…ˆæœç´¢</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-10%E3%80%81LC695-%E5%B2%9B%E5%B1%BF%E7%9A%84%E6%9C%80%E5%A4%A7%E9%9D%A2%E7%A7%AF"><span class="toc-text">4.10ã€LC695. å²›å±¿çš„æœ€å¤§é¢ç§¯</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B7%B1%E5%BA%A6%E4%BC%98%E5%85%88%E6%90%9C%E7%B4%A2-1"><span class="toc-text">æ·±åº¦ä¼˜å…ˆæœç´¢</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-11%E3%80%81LC827-%E6%9C%80%E5%A4%A7%E4%BA%BA%E5%B7%A5%E5%B2%9B"><span class="toc-text">4.11ã€LC827. æœ€å¤§äººå·¥å²›</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B7%B1%E5%BA%A6%E4%BC%98%E5%85%88%E6%90%9C%E7%B4%A2-2"><span class="toc-text">æ·±åº¦ä¼˜å…ˆæœç´¢</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E6%A0%BC%E7%B1%BB%E9%97%AE%E9%A2%98%E7%9A%84-DFS-%E9%81%8D%E5%8E%86%E6%96%B9%E6%B3%95-1"><span class="toc-text">ç½‘æ ¼ç±»é—®é¢˜çš„ DFS éå†æ–¹æ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BC%96%E5%86%99%E5%B9%BF%E5%BA%A6%E4%BC%98%E5%85%88%E9%81%8D%E5%8E%86%E7%AE%97%E6%B3%95%E7%9A%84%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-text">ç¼–å†™å¹¿åº¦ä¼˜å…ˆéå†ç®—æ³•çš„æ³¨æ„äº‹é¡¹</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-12%E3%80%81LC1162-%E5%9C%B0%E5%9B%BE%E5%88%86%E6%9E%90"><span class="toc-text">4.12ã€LC1162. åœ°å›¾åˆ†æ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-13%E3%80%81LC994-%E8%85%90%E7%83%82%E7%9A%84%E6%A9%98%E5%AD%90"><span class="toc-text">4.13ã€LC994. è…çƒ‚çš„æ©˜å­</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-14%E3%80%81LC130-%E8%A2%AB%E5%9B%B4%E7%BB%95%E7%9A%84%E5%8C%BA%E5%9F%9F"><span class="toc-text">4.14ã€LC130. è¢«å›´ç»•çš„åŒºåŸŸ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#DFS%E9%80%92%E5%BD%92"><span class="toc-text">DFSé€’å½’</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#DFS%E8%BF%AD%E4%BB%A3"><span class="toc-text">DFSè¿­ä»£</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#BFS%E8%BF%AD%E4%BB%A3"><span class="toc-text">BFSè¿­ä»£</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B9%B6%E6%9F%A5%E9%9B%86"><span class="toc-text">å¹¶æŸ¥é›†</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-15%E3%80%81LC2293-%E6%9E%81%E5%A4%A7%E6%9E%81%E5%B0%8F%E6%B8%B8%E6%88%8F"><span class="toc-text">4.15ã€LC2293. æå¤§æå°æ¸¸æˆ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%9B%B4%E6%8E%A5%E6%A8%A1%E6%8B%9F"><span class="toc-text">ç›´æ¥æ¨¡æ‹Ÿ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A9%BA%E9%97%B4%E4%B8%8A%E4%BC%98%E5%8C%96-%E5%8E%9F%E6%95%B0%E7%BB%84%E4%BF%AE%E6%94%B9"><span class="toc-text">ç©ºé—´ä¸Šä¼˜åŒ–,åŸæ•°ç»„ä¿®æ”¹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%92%E5%BD%92-1"><span class="toc-text">é€’å½’</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-16%E3%80%81LC2303-%E8%AE%A1%E7%AE%97%E5%BA%94%E7%BC%B4%E7%A8%8E%E6%AC%BE%E6%80%BB%E9%A2%9D"><span class="toc-text">4.16ã€LC2303. è®¡ç®—åº”ç¼´ç¨æ¬¾æ€»é¢</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AF%87"><span class="toc-text">äº”ã€æ•°æ®ç»“æ„ç¯‡</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-text">#å­—ç¬¦ä¸²</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%E3%80%81%E5%89%91%E6%8C%87-Offer05-%E6%9B%BF%E6%8D%A2%E7%A9%BA%E6%A0%BC"><span class="toc-text">1ã€å‰‘æŒ‡ Offer05. æ›¿æ¢ç©ºæ ¼</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%E3%80%81%E5%89%91%E6%8C%87-Offer-58-II-%E5%B7%A6%E6%97%8B%E8%BD%AC%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-text">2ã€å‰‘æŒ‡ Offer 58 - II. å·¦æ—‹è½¬å­—ç¬¦ä¸²</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%88%87%E7%89%87"><span class="toc-text">å­—ç¬¦ä¸²åˆ‡ç‰‡</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%97%E8%A1%A8%E9%81%8D%E5%8E%86%E6%8B%BC%E6%8E%A5"><span class="toc-text">åˆ—è¡¨éå†æ‹¼æ¥</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E9%81%8D%E5%8E%86%E6%8B%BC%E6%8E%A5"><span class="toc-text">å­—ç¬¦ä¸²éå†æ‹¼æ¥</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3%E3%80%81%E5%89%91%E6%8C%87-Offer-67-%E6%8A%8A%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BD%AC%E6%8D%A2%E6%88%90%E6%95%B4%E6%95%B0"><span class="toc-text">3ã€å‰‘æŒ‡ Offer 67. æŠŠå­—ç¬¦ä¸²è½¬æ¢æˆæ•´æ•°</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4%E3%80%81LC2351-%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%87%BA%E7%8E%B0%E4%B8%A4%E6%AC%A1%E7%9A%84%E5%AD%97%E6%AF%8D"><span class="toc-text">4ã€LC2351. ç¬¬ä¸€ä¸ªå‡ºç°ä¸¤æ¬¡çš„å­—æ¯</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80%EF%BC%9A%E5%93%88%E5%B8%8C%E8%A1%A8"><span class="toc-text">æ–¹æ³•ä¸€ï¼šå“ˆå¸Œè¡¨</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%BA%8C%EF%BC%9A%E7%8A%B6%E6%80%81%E5%8E%8B%E7%BC%A9"><span class="toc-text">æ–¹æ³•äºŒï¼šçŠ¶æ€å‹ç¼©</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5%E3%80%81LC2042-%E6%A3%80%E6%9F%A5%E5%8F%A5%E5%AD%90%E4%B8%AD%E7%9A%84%E6%95%B0%E5%AD%97%E6%98%AF%E5%90%A6%E9%80%92%E5%A2%9E"><span class="toc-text">5ã€LC2042. æ£€æŸ¥å¥å­ä¸­çš„æ•°å­—æ˜¯å¦é€’å¢</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80%EF%BC%9A%E6%A8%A1%E6%8B%9F%E9%81%8D%E5%8E%86"><span class="toc-text">æ–¹æ³•ä¸€ï¼šæ¨¡æ‹Ÿéå†</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6%E3%80%81LC2185-%E7%BB%9F%E8%AE%A1%E5%8C%85%E5%90%AB%E7%BB%99%E5%AE%9A%E5%89%8D%E7%BC%80%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-text">6ã€LC2185. ç»Ÿè®¡åŒ…å«ç»™å®šå‰ç¼€çš„å­—ç¬¦ä¸²</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80%EF%BC%9A%E6%9A%B4%E5%8A%9B%E7%AE%97%E6%B3%95"><span class="toc-text">æ–¹æ³•ä¸€ï¼šæš´åŠ›ç®—æ³•</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%BA%8C%EF%BC%9A%E8%B0%83%E7%94%A8API"><span class="toc-text">æ–¹æ³•äºŒï¼šè°ƒç”¨API</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7%E3%80%81LC1807-%E6%9B%BF%E6%8D%A2%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%AD%E7%9A%84%E6%8B%AC%E5%8F%B7%E5%86%85%E5%AE%B9"><span class="toc-text">7ã€LC1807. æ›¿æ¢å­—ç¬¦ä¸²ä¸­çš„æ‹¬å·å†…å®¹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8%E3%80%81LC2287-%E9%87%8D%E6%8E%92%E5%AD%97%E7%AC%A6%E5%BD%A2%E6%88%90%E7%9B%AE%E6%A0%87%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-text">8ã€LC2287. é‡æ’å­—ç¬¦å½¢æˆç›®æ ‡å­—ç¬¦ä¸²</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#9%E3%80%81LC5-%E6%9C%80%E9%95%BF%E5%9B%9E%E6%96%87%E5%AD%90%E4%B8%B2"><span class="toc-text">9ã€LC5. æœ€é•¿å›æ–‡å­ä¸²</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80%EF%BC%9A%E6%9A%B4%E5%8A%9B%E8%A7%A3%E6%B3%95"><span class="toc-text">æ–¹æ³•ä¸€ï¼šæš´åŠ›è§£æ³•</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%A7%A3%E6%B3%95%E4%BA%8C-%E6%9C%80%E9%95%BF%E5%85%AC%E5%85%B1%E5%AD%90%E4%B8%B2DP"><span class="toc-text">è§£æ³•äºŒ: æœ€é•¿å…¬å…±å­ä¸²DP</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%A7%A3%E6%B3%95-3-%E6%9A%B4%E5%8A%9B%E7%A0%B4%E8%A7%A3%E4%BC%98%E5%8C%96"><span class="toc-text">è§£æ³• 3: æš´åŠ›ç ´è§£ä¼˜åŒ–</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%A7%A3%E6%B3%95-4-%E6%89%A9%E5%B1%95%E4%B8%AD%E5%BF%83"><span class="toc-text">è§£æ³• 4: æ‰©å±•ä¸­å¿ƒ</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%A7%A3%E6%B3%95-5-Manacher%E2%80%99s-Algorithm-%E9%A9%AC%E6%8B%89%E8%BD%A6%E7%AE%97%E6%B3%95%E3%80%82"><span class="toc-text">è§£æ³• 5: Manacherâ€™s Algorithm é©¬æ‹‰è½¦ç®—æ³•ã€‚</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%B1%82%E5%8E%9F%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%8B%E6%A0%87"><span class="toc-text">æ±‚åŸå­—ç¬¦ä¸²ä¸‹æ ‡</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%B1%82%E6%AF%8F%E4%B8%AA-P-i"><span class="toc-text">æ±‚æ¯ä¸ª P [ i ]</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-text">æ€»ç»“</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#10%E3%80%81LC2299-%E5%BC%BA%E5%AF%86%E7%A0%81%E6%A3%80%E9%AA%8C%E5%99%A8-II"><span class="toc-text">10ã€LC2299. å¼ºå¯†ç æ£€éªŒå™¨ II</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#11%E3%80%81LC415-%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9B%B8%E5%8A%A0"><span class="toc-text">11ã€LC415. å­—ç¬¦ä¸²ç›¸åŠ </span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#12%E3%80%81LC2315-%E7%BB%9F%E8%AE%A1%E6%98%9F%E5%8F%B7"><span class="toc-text">12ã€LC2315. ç»Ÿè®¡æ˜Ÿå·</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#13%E3%80%81LC8-%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BD%AC%E6%8D%A2%E6%95%B4%E6%95%B0-atoi"><span class="toc-text">13ã€LC8. å­—ç¬¦ä¸²è½¬æ¢æ•´æ•° (atoi)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%93%BE%E8%A1%A8"><span class="toc-text">#é“¾è¡¨</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86"><span class="toc-text">åŸºç¡€çŸ¥è¯†</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-%E9%93%BE%E8%A1%A8%E7%AE%80%E4%BB%8B"><span class="toc-text">1. é“¾è¡¨ç®€ä»‹</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-%E9%93%BE%E8%A1%A8%E5%88%86%E7%B1%BB"><span class="toc-text">2. é“¾è¡¨åˆ†ç±»</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#2-1-%E5%8D%95%E9%93%BE%E8%A1%A8"><span class="toc-text">2.1. å•é“¾è¡¨</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2-2-%E5%BE%AA%E7%8E%AF%E9%93%BE%E8%A1%A8"><span class="toc-text">2.2. å¾ªç¯é“¾è¡¨</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2-3-%E5%8F%8C%E5%90%91%E9%93%BE%E8%A1%A8"><span class="toc-text">2.3. åŒå‘é“¾è¡¨</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2-4-%E5%8F%8C%E5%90%91%E5%BE%AA%E7%8E%AF%E9%93%BE%E8%A1%A8"><span class="toc-text">2.4. åŒå‘å¾ªç¯é“¾è¡¨</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-text">3. åº”ç”¨åœºæ™¯</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-%E6%95%B0%E7%BB%84-vs-%E9%93%BE%E8%A1%A8"><span class="toc-text">4. æ•°ç»„ vs é“¾è¡¨</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1%E3%80%81%E5%89%91%E6%8C%87-Offer-06-%E4%BB%8E%E5%B0%BE%E5%88%B0%E5%A4%B4%E6%89%93%E5%8D%B0%E9%93%BE%E8%A1%A8"><span class="toc-text">1ã€å‰‘æŒ‡ Offer 06. ä»å°¾åˆ°å¤´æ‰“å°é“¾è¡¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%E3%80%81%E5%89%91%E6%8C%87-Offer-24-%E5%8F%8D%E8%BD%AC%E9%93%BE%E8%A1%A8"><span class="toc-text">2ã€å‰‘æŒ‡ Offer 24. åè½¬é“¾è¡¨</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%BF%AD%E4%BB%A3"><span class="toc-text">è¿­ä»£</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%80%92%E5%BD%92-2"><span class="toc-text">é€’å½’</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3%E3%80%81%E5%89%91%E6%8C%87-Offer-35-%E5%A4%8D%E6%9D%82%E9%93%BE%E8%A1%A8%E7%9A%84%E5%A4%8D%E5%88%B6"><span class="toc-text">3ã€å‰‘æŒ‡ Offer 35. å¤æ‚é“¾è¡¨çš„å¤åˆ¶</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%93%88%E5%B8%8C%E8%A1%A8%E8%AE%B0%E5%BD%95%E6%B3%95"><span class="toc-text">å“ˆå¸Œè¡¨è®°å½•æ³•</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8B%BC%E6%8E%A5%E6%8B%86%E5%88%86"><span class="toc-text">æ‹¼æ¥æ‹†åˆ†</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4%E3%80%81LC2-%E4%B8%A4%E6%95%B0%E4%B9%8B%E5%92%8C"><span class="toc-text">4ã€LC2. ä¸¤æ•°ä¹‹å’Œ</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9E%84%E9%80%A0%E6%96%B0%E9%93%BE%E8%A1%A8"><span class="toc-text">æ„é€ æ–°é“¾è¡¨</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9C%A8%E5%8E%9F%E9%93%BE%E8%A1%A8%E4%B8%8A%E6%93%8D%E4%BD%9C"><span class="toc-text">åœ¨åŸé“¾è¡¨ä¸Šæ“ä½œ</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5%E3%80%81LC25-K-%E4%B8%AA%E4%B8%80%E7%BB%84%E7%BF%BB%E8%BD%AC%E9%93%BE%E8%A1%A8"><span class="toc-text">5ã€LC25. K ä¸ªä¸€ç»„ç¿»è½¬é“¾è¡¨</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80%EF%BC%9A%E5%88%A9%E7%94%A8%E6%A0%88%E5%AE%8C%E6%88%90%E9%80%86%E5%BA%8F"><span class="toc-text">æ–¹æ³•ä¸€ï¼šåˆ©ç”¨æ ˆå®Œæˆé€†åº</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%BA%8C%EF%BC%9A%E5%B0%BE%E6%8F%92%E6%B3%95"><span class="toc-text">æ–¹æ³•äºŒï¼šå°¾æ’æ³•</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%B8%89%EF%BC%9A%E9%80%92%E5%BD%92"><span class="toc-text">æ–¹æ³•ä¸‰ï¼šé€’å½’</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6%E3%80%81LC21-%E5%90%88%E5%B9%B6%E4%B8%A4%E4%B8%AA%E6%9C%89%E5%BA%8F%E9%93%BE%E8%A1%A8"><span class="toc-text">6ã€LC21. åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80-%E5%8F%8C%E6%8C%87%E9%92%88-%E8%BF%AD%E4%BB%A3"><span class="toc-text">æ–¹æ³•ä¸€:åŒæŒ‡é’ˆ è¿­ä»£</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%BA%8C%EF%BC%9A%E9%80%92%E5%BD%92"><span class="toc-text">æ–¹æ³•äºŒï¼šé€’å½’</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7%E3%80%81LC23-%E5%90%88%E5%B9%B6K%E4%B8%AA%E5%8D%87%E5%BA%8F%E9%93%BE%E8%A1%A8"><span class="toc-text">7ã€LC23. åˆå¹¶Kä¸ªå‡åºé“¾è¡¨</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%A7%A3%E6%B3%95%E4%B8%80%EF%BC%9A%E4%BC%98%E5%85%88%E7%BA%A7%E9%98%9F%E5%88%97"><span class="toc-text">è§£æ³•ä¸€ï¼šä¼˜å…ˆçº§é˜Ÿåˆ—</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8%E3%80%81LC92-%E5%8F%8D%E8%BD%AC%E9%93%BE%E8%A1%A8II"><span class="toc-text">8ã€LC92. åè½¬é“¾è¡¨II</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80%EF%BC%9A%E9%80%90%E4%B8%80%E5%8F%8D%E8%BD%AC"><span class="toc-text">æ–¹æ³•ä¸€ï¼šé€ä¸€åè½¬</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%BA%8C%EF%BC%9A%E7%A9%BF%E9%92%88%E5%BC%95%E7%BA%BF"><span class="toc-text">æ–¹æ³•äºŒï¼šç©¿é’ˆå¼•çº¿</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%B8%89%EF%BC%9A%E4%B8%80%E6%AC%A1%E9%81%8D%E5%8E%86%E3%80%8C%E7%A9%BF%E9%92%88%E5%BC%95%E7%BA%BF%E3%80%8D%E5%8F%8D%E8%BD%AC%E9%93%BE%E8%A1%A8%EF%BC%88%E5%A4%B4%E6%8F%92%E6%B3%95%EF%BC%89"><span class="toc-text">æ–¹æ³•ä¸‰ï¼šä¸€æ¬¡éå†ã€Œç©¿é’ˆå¼•çº¿ã€åè½¬é“¾è¡¨ï¼ˆå¤´æ’æ³•ï¼‰</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#9%E3%80%81LC143-%E9%87%8D%E6%8E%92%E9%93%BE%E8%A1%A8"><span class="toc-text">9ã€LC143. é‡æ’é“¾è¡¨</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80%EF%BC%9A%E7%BA%BF%E6%80%A7%E8%A1%A8"><span class="toc-text">æ–¹æ³•ä¸€ï¼šçº¿æ€§è¡¨</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%BA%8C%EF%BC%9A%E5%AF%BB%E6%89%BE%E9%93%BE%E8%A1%A8%E4%B8%AD%E7%82%B9-%E9%93%BE%E8%A1%A8%E9%80%86%E5%BA%8F-%E5%90%88%E5%B9%B6%E9%93%BE%E8%A1%A8"><span class="toc-text">æ–¹æ³•äºŒï¼šå¯»æ‰¾é“¾è¡¨ä¸­ç‚¹ + é“¾è¡¨é€†åº + åˆå¹¶é“¾è¡¨</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%A7%A3%E6%B3%95%E4%B8%89-%E9%80%92%E5%BD%92"><span class="toc-text">è§£æ³•ä¸‰ é€’å½’</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#10%E3%80%81LC1669-%E5%90%88%E5%B9%B6%E4%B8%A4%E4%B8%AA%E9%93%BE%E8%A1%A8"><span class="toc-text">10ã€LC1669. åˆå¹¶ä¸¤ä¸ªé“¾è¡¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#11%E3%80%81LC19-%E5%88%A0%E9%99%A4%E9%93%BE%E8%A1%A8%E7%9A%84%E5%80%92%E6%95%B0%E7%AC%AC-N-%E4%B8%AA%E7%BB%93%E7%82%B9"><span class="toc-text">11ã€LC19. åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬ N ä¸ªç»“ç‚¹</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%A7%A3%E6%B3%95%E4%B8%80%EF%BC%9A%E5%8F%8C%E6%8C%87%E9%92%88-1"><span class="toc-text">è§£æ³•ä¸€ï¼šåŒæŒ‡é’ˆ</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%BA%8C%EF%BC%9A%E9%80%92%E5%BD%92-1"><span class="toc-text">æ–¹æ³•äºŒï¼šé€’å½’</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#12%E3%80%81LC148-%E6%8E%92%E5%BA%8F%E9%93%BE%E8%A1%A8"><span class="toc-text">12ã€LC148. æ’åºé“¾è¡¨</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%A7%A3%E6%B3%95%E4%B8%80%EF%BC%9A%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F%EF%BC%88%E9%80%92%E5%BD%92%E6%B3%95%EF%BC%89"><span class="toc-text">è§£æ³•ä¸€ï¼šå½’å¹¶æ’åºï¼ˆé€’å½’æ³•ï¼‰</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%BA%8C%EF%BC%9A%E8%87%AA%E5%BA%95%E5%90%91%E4%B8%8A%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F"><span class="toc-text">æ–¹æ³•äºŒï¼šè‡ªåº•å‘ä¸Šå½’å¹¶æ’åº</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%B8%89%EF%BC%9A%E5%BF%AB%E6%8E%92"><span class="toc-text">æ–¹æ³•ä¸‰ï¼šå¿«æ’</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#13%E3%80%81LC82-%E5%88%A0%E9%99%A4%E6%8E%92%E5%BA%8F%E9%93%BE%E8%A1%A8%E4%B8%AD%E7%9A%84%E9%87%8D%E5%A4%8D%E5%85%83%E7%B4%A0-II"><span class="toc-text">13ã€LC82. åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´  II</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80%EF%BC%9A%E9%80%92%E5%BD%92"><span class="toc-text">æ–¹æ³•ä¸€ï¼šé€’å½’</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%BA%8C%EF%BC%9A%E4%B8%80%E6%AC%A1%E9%81%8D%E5%8E%86"><span class="toc-text">æ–¹æ³•äºŒï¼šä¸€æ¬¡éå†</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%B8%89%EF%BC%9A%E5%88%A9%E7%94%A8%E8%AE%A1%E6%95%B0%EF%BC%8C%E4%B8%A4%E6%AC%A1%E9%81%8D%E5%8E%86"><span class="toc-text">æ–¹æ³•ä¸‰ï¼šåˆ©ç”¨è®¡æ•°ï¼Œä¸¤æ¬¡éå†</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#14%E3%80%81LC83-%E5%88%A0%E9%99%A4%E6%8E%92%E5%BA%8F%E9%93%BE%E8%A1%A8%E4%B8%AD%E7%9A%84%E9%87%8D%E5%A4%8D%E5%85%83%E7%B4%A0"><span class="toc-text">14ã€LC83. åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´ </span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80%EF%BC%9A%E9%80%92%E5%BD%92-1"><span class="toc-text">æ–¹æ³•ä¸€ï¼šé€’å½’</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%BA%8C%EF%BC%9A%E4%B8%80%E6%AC%A1%E9%81%8D%E5%8E%86-1"><span class="toc-text">æ–¹æ³•äºŒï¼šä¸€æ¬¡éå†</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%88"><span class="toc-text">#æ ˆ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86-1"><span class="toc-text">åŸºç¡€çŸ¥è¯†</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-%E6%A0%88%E7%AE%80%E4%BB%8B"><span class="toc-text">1. æ ˆç®€ä»‹</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-%E6%A0%88%E7%9A%84%E5%B8%B8%E8%A7%81%E5%BA%94%E7%94%A8%E5%B8%B8%E8%A7%81%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-text">2. æ ˆçš„å¸¸è§åº”ç”¨å¸¸è§åº”ç”¨åœºæ™¯</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#2-1-%E5%AE%9E%E7%8E%B0%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E5%9B%9E%E9%80%80%E5%92%8C%E5%89%8D%E8%BF%9B%E5%8A%9F%E8%83%BD"><span class="toc-text">2.1. å®ç°æµè§ˆå™¨çš„å›é€€å’Œå‰è¿›åŠŸèƒ½</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2-2-%E6%A3%80%E6%9F%A5%E7%AC%A6%E5%8F%B7%E6%98%AF%E5%90%A6%E6%88%90%E5%AF%B9%E5%87%BA%E7%8E%B0"><span class="toc-text">2.2. æ£€æŸ¥ç¬¦å·æ˜¯å¦æˆå¯¹å‡ºç°</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2-3-%E5%8F%8D%E8%BD%AC%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-text">2.3. åè½¬å­—ç¬¦ä¸²</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2-4-%E7%BB%B4%E6%8A%A4%E5%87%BD%E6%95%B0%E8%B0%83%E7%94%A8"><span class="toc-text">2.4. ç»´æŠ¤å‡½æ•°è°ƒç”¨</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-%E6%A0%88%E7%9A%84%E5%AE%9E%E7%8E%B0"><span class="toc-text">3. æ ˆçš„å®ç°</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1%E3%80%81%E5%89%91%E6%8C%87-Offer-09-%E7%94%A8%E4%B8%A4%E4%B8%AA%E6%A0%88%E5%AE%9E%E7%8E%B0%E9%98%9F%E5%88%97"><span class="toc-text">1ã€å‰‘æŒ‡ Offer 09. ç”¨ä¸¤ä¸ªæ ˆå®ç°é˜Ÿåˆ—</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%80%9D%E8%B7%AF%E4%B8%80"><span class="toc-text">æ€è·¯ä¸€</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%80%9D%E8%B7%AF%E4%BA%8C"><span class="toc-text">æ€è·¯äºŒ</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%E3%80%81%E5%89%91%E6%8C%87-Offer-30-%E5%8C%85%E5%90%AB-min-%E5%87%BD%E6%95%B0%E7%9A%84%E6%A0%88"><span class="toc-text">2ã€å‰‘æŒ‡ Offer 30. åŒ…å« min å‡½æ•°çš„æ ˆ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3%E3%80%81LC20-%E6%9C%89%E6%95%88%E7%9A%84%E6%8B%AC%E5%8F%B7"><span class="toc-text">3ã€LC20. æœ‰æ•ˆçš„æ‹¬å·</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E7%BB%84"><span class="toc-text">#æ•°ç»„</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86-2"><span class="toc-text">åŸºç¡€çŸ¥è¯†</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1%E3%80%81LC2319-%E5%88%A4%E6%96%AD%E7%9F%A9%E9%98%B5%E6%98%AF%E5%90%A6%E6%98%AF%E4%B8%80%E4%B8%AA-X-%E7%9F%A9%E9%98%B5"><span class="toc-text">1ã€LC2319. åˆ¤æ–­çŸ©é˜µæ˜¯å¦æ˜¯ä¸€ä¸ª X çŸ©é˜µ</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%98%9F%E5%88%97"><span class="toc-text">#é˜Ÿåˆ—</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86-3"><span class="toc-text">åŸºç¡€çŸ¥è¯†</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-%E9%98%9F%E5%88%97%E7%AE%80%E4%BB%8B"><span class="toc-text">1. é˜Ÿåˆ—ç®€ä»‹</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-%E9%98%9F%E5%88%97%E5%88%86%E7%B1%BB"><span class="toc-text">2. é˜Ÿåˆ—åˆ†ç±»</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#2-1-%E5%8D%95%E9%98%9F%E5%88%97"><span class="toc-text">2.1. å•é˜Ÿåˆ—</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-%E5%B8%B8%E8%A7%81%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-text">3. å¸¸è§åº”ç”¨åœºæ™¯</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1%E3%80%81%E5%89%91%E6%8C%87-Offer-59-I-%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3%E7%9A%84%E6%9C%80%E5%A4%A7%E5%80%BC"><span class="toc-text">1ã€å‰‘æŒ‡ Offer 59 - I. æ»‘åŠ¨çª—å£çš„æœ€å¤§å€¼</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%E3%80%81%E5%89%91%E6%8C%87-Offer-59-II-%E9%98%9F%E5%88%97%E7%9A%84%E6%9C%80%E5%A4%A7%E5%80%BC"><span class="toc-text">2ã€å‰‘æŒ‡ Offer 59 - II. é˜Ÿåˆ—çš„æœ€å¤§å€¼</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3%E3%80%81LC232-%E7%94%A8%E6%A0%88%E5%AE%9E%E7%8E%B0%E9%98%9F%E5%88%97"><span class="toc-text">3ã€LC232. ç”¨æ ˆå®ç°é˜Ÿåˆ—</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%93%88%E5%B8%8C%E8%A1%A8"><span class="toc-text">#å“ˆå¸Œè¡¨</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%E3%80%81LC1-%E4%B8%A4%E6%95%B0%E4%B9%8B%E5%92%8C"><span class="toc-text">1ã€LC1. ä¸¤æ•°ä¹‹å’Œ</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%93%88%E5%B8%8C%E6%B3%95"><span class="toc-text">å“ˆå¸Œæ³•</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%E3%80%81LC41-%E7%BC%BA%E5%A4%B1%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA%E6%AD%A3%E6%95%B0"><span class="toc-text">2ã€LC41. ç¼ºå¤±çš„ç¬¬ä¸€ä¸ªæ­£æ•°</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80%EF%BC%9A%E5%8E%9F%E5%9C%B0hash"><span class="toc-text">æ–¹æ³•ä¸€ï¼šåŸåœ°hash</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%83%E9%9A%86%E8%BF%87%E6%BB%A4%E5%99%A8"><span class="toc-text">#å¸ƒéš†è¿‡æ»¤å™¨</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E5%B8%83%E9%9A%86%E8%BF%87%E6%BB%A4%E5%99%A8%EF%BC%9F"><span class="toc-text"> ä»€ä¹ˆæ˜¯å¸ƒéš†è¿‡æ»¤å™¨ï¼Ÿ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%83%E9%9A%86%E8%BF%87%E6%BB%A4%E5%99%A8%E7%9A%84%E5%8E%9F%E7%90%86%E4%BB%8B%E7%BB%8D"><span class="toc-text"> å¸ƒéš†è¿‡æ»¤å™¨çš„åŸç†ä»‹ç»</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%83%E9%9A%86%E8%BF%87%E6%BB%A4%E5%99%A8%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-text"> å¸ƒéš†è¿‡æ»¤å™¨ä½¿ç”¨åœºæ™¯</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BC%96%E7%A0%81%E5%AE%9E%E6%88%98"><span class="toc-text"> ç¼–ç å®æˆ˜</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%80%9A%E8%BF%87-Java-%E7%BC%96%E7%A8%8B%E6%89%8B%E5%8A%A8%E5%AE%9E%E7%8E%B0%E5%B8%83%E9%9A%86%E8%BF%87%E6%BB%A4%E5%99%A8"><span class="toc-text"> é€šè¿‡ Java ç¼–ç¨‹æ‰‹åŠ¨å®ç°å¸ƒéš†è¿‡æ»¤å™¨</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%A9%E7%94%A8-Google-%E5%BC%80%E6%BA%90%E7%9A%84-Guava-%E4%B8%AD%E8%87%AA%E5%B8%A6%E7%9A%84%E5%B8%83%E9%9A%86%E8%BF%87%E6%BB%A4%E5%99%A8"><span class="toc-text"> åˆ©ç”¨ Google å¼€æºçš„ Guava ä¸­è‡ªå¸¦çš„å¸ƒéš†è¿‡æ»¤å™¨</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Redis-%E4%B8%AD%E7%9A%84%E5%B8%83%E9%9A%86%E8%BF%87%E6%BB%A4%E5%99%A8"><span class="toc-text"> Redis ä¸­çš„å¸ƒéš†è¿‡æ»¤å™¨</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D"><span class="toc-text"> ä»‹ç»</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-Docker-%E5%AE%89%E8%A3%85"><span class="toc-text"> ä½¿ç”¨ Docker å®‰è£…</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E4%B8%80%E8%A7%88"><span class="toc-text"> å¸¸ç”¨å‘½ä»¤ä¸€è§ˆ</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%9E%E9%99%85%E4%BD%BF%E7%94%A8"><span class="toc-text"> å®é™…ä½¿ç”¨</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%BE"><span class="toc-text">#å›¾</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86-4"><span class="toc-text">åŸºç¡€çŸ¥è¯†</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9B%BE%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-text"> å›¾çš„åŸºæœ¬æ¦‚å¿µ</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E9%A1%B6%E7%82%B9"><span class="toc-text"> é¡¶ç‚¹</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%BE%B9"><span class="toc-text"> è¾¹</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%BA%A6"><span class="toc-text"> åº¦</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%97%A0%E5%90%91%E5%9B%BE%E5%92%8C%E6%9C%89%E5%90%91%E5%9B%BE"><span class="toc-text"> æ— å‘å›¾å’Œæœ‰å‘å›¾</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%97%A0%E6%9D%83%E5%9B%BE%E5%92%8C%E5%B8%A6%E6%9D%83%E5%9B%BE"><span class="toc-text"> æ— æƒå›¾å’Œå¸¦æƒå›¾</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9B%BE%E7%9A%84%E5%AD%98%E5%82%A8"><span class="toc-text"> å›¾çš„å­˜å‚¨</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E9%82%BB%E6%8E%A5%E7%9F%A9%E9%98%B5%E5%AD%98%E5%82%A8"><span class="toc-text"> é‚»æ¥çŸ©é˜µå­˜å‚¨</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E9%82%BB%E6%8E%A5%E8%A1%A8%E5%AD%98%E5%82%A8"><span class="toc-text"> é‚»æ¥è¡¨å­˜å‚¨</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9B%BE%E7%9A%84%E6%90%9C%E7%B4%A2"><span class="toc-text"> å›¾çš„æœç´¢</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%B9%BF%E5%BA%A6%E4%BC%98%E5%85%88%E6%90%9C%E7%B4%A2"><span class="toc-text"> å¹¿åº¦ä¼˜å…ˆæœç´¢</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%B7%B1%E5%BA%A6%E4%BC%98%E5%85%88%E6%90%9C%E7%B4%A2-3"><span class="toc-text"> æ·±åº¦ä¼˜å…ˆæœç´¢</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#dfs-%E4%B8%8E-bfs-%E5%8C%BA%E5%88%AB"><span class="toc-text">dfs ä¸ bfs åŒºåˆ«</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#dfs-%E6%90%9C%E7%B4%A2%E8%BF%87%E7%A8%8B"><span class="toc-text">dfs æœç´¢è¿‡ç¨‹</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E6%A1%86%E6%9E%B6"><span class="toc-text">ä»£ç æ¡†æ¶</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B7%B1%E6%90%9C%E4%B8%89%E9%83%A8%E6%9B%B2"><span class="toc-text">æ·±æœä¸‰éƒ¨æ›²</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-1"><span class="toc-text">æ€»ç»“</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1%E3%80%81LC797-%E6%89%80%E6%9C%89%E5%8F%AF%E8%83%BD%E7%9A%84%E8%B7%AF%E5%BE%84"><span class="toc-text">1ã€LC797. æ‰€æœ‰å¯èƒ½çš„è·¯å¾„</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80%EF%BC%9A%E6%B7%B1%E5%BA%A6%E4%BC%98%E5%85%88%E6%90%9C%E7%B4%A2"><span class="toc-text">æ–¹æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%E3%80%81LC841-%E9%92%A5%E5%8C%99%E5%92%8C%E6%88%BF%E9%97%B4"><span class="toc-text">2ã€LC841. é’¥åŒ™å’Œæˆ¿é—´</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80%EF%BC%9A%E6%B7%B1%E5%BA%A6%E4%BC%98%E5%85%88%E6%90%9C%E7%B4%A2-1"><span class="toc-text">æ–¹æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%86%99%E6%B3%95%E4%B8%80%EF%BC%9A%E5%88%A4%E6%96%AD%E5%BD%93%E5%89%8D%E8%8A%82%E7%82%B9"><span class="toc-text">å†™æ³•ä¸€ï¼šåˆ¤æ–­å½“å‰èŠ‚ç‚¹</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%86%99%E6%B3%95%E4%BA%8C%EF%BC%9A%E5%88%A4%E6%96%AD%E4%B8%8B%E4%B8%80%E4%B8%AA%E8%8A%82%E7%82%B9"><span class="toc-text">å†™æ³•äºŒï¼šåˆ¤æ–­ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%BA%8C%EF%BC%9A%E5%B9%BF%E5%BA%A6%E4%BC%98%E5%85%88%E9%81%8D%E5%8E%86"><span class="toc-text">æ–¹æ³•äºŒï¼šå¹¿åº¦ä¼˜å…ˆéå†</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3%E3%80%81LC127-%E5%8D%95%E8%AF%8D%E6%8E%A5%E9%BE%99"><span class="toc-text">3ã€LC127. å•è¯æ¥é¾™</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4%E3%80%81LC753-%E7%A0%B4%E8%A7%A3%E4%BF%9D%E9%99%A9%E7%AE%B1"><span class="toc-text">4ã€LC753. ç ´è§£ä¿é™©ç®±</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86-5"><span class="toc-text">åŸºç¡€çŸ¥è¯†</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1%E3%80%81LC684-%E5%86%97%E4%BD%99%E8%BF%9E%E6%8E%A5"><span class="toc-text">1ã€LC684. å†—ä½™è¿æ¥</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%E3%80%81LC685-%E5%86%97%E4%BD%99%E8%BF%9E%E6%8E%A5II"><span class="toc-text">2ã€LC685. å†—ä½™è¿æ¥II</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A0%86"><span class="toc-text">#å †</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E5%A0%86"><span class="toc-text">ä»€ä¹ˆæ˜¯å †</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A0%86%E7%9A%84%E7%94%A8%E9%80%94"><span class="toc-text">å †çš„ç”¨é€”</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A0%86%E7%9A%84%E5%88%86%E7%B1%BB"><span class="toc-text">å †çš„åˆ†ç±»</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A0%86%E7%9A%84%E5%AD%98%E5%82%A8"><span class="toc-text">å †çš„å­˜å‚¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A0%86%E7%9A%84%E6%93%8D%E4%BD%9C"><span class="toc-text">å †çš„æ“ä½œ</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8F%92%E5%85%A5%E5%85%83%E7%B4%A0"><span class="toc-text">æ’å…¥å…ƒç´ </span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E5%A0%86%E9%A1%B6%E5%85%83%E7%B4%A0"><span class="toc-text">åˆ é™¤å †é¡¶å…ƒç´ </span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%87%AA%E5%BA%95%E5%90%91%E4%B8%8A%E5%A0%86%E5%8C%96"><span class="toc-text">è‡ªåº•å‘ä¸Šå †åŒ–</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E5%A0%86%E5%8C%96"><span class="toc-text">è‡ªé¡¶å‘ä¸‹å †åŒ–</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A0%86%E7%9A%84%E6%93%8D%E4%BD%9C%E6%80%BB%E7%BB%93"><span class="toc-text">å †çš„æ“ä½œæ€»ç»“</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A0%86%E6%8E%92%E5%BA%8F"><span class="toc-text">å †æ’åº</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%BB%BA%E5%A0%86"><span class="toc-text">å»ºå †</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8E%92%E5%BA%8F"><span class="toc-text">æ’åº</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E5%8F%89%E6%A0%91"><span class="toc-text">#äºŒå‰æ ‘</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E5%88%86%E7%B1%BB"><span class="toc-text">äºŒå‰æ ‘çš„åˆ†ç±»</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%BB%A1%E4%BA%8C%E5%8F%89%E6%A0%91"><span class="toc-text">æ»¡äºŒå‰æ ‘</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%8C%E5%85%A8%E4%BA%8C%E5%8F%89%E6%A0%91"><span class="toc-text">å®Œå…¨äºŒå‰æ ‘</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%B9%B3%E8%A1%A1%E4%BA%8C%E5%8F%89%E6%A0%91"><span class="toc-text">å¹³è¡¡äºŒå‰æ ‘</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%BA%A2%E9%BB%91%E6%A0%91"><span class="toc-text">çº¢é»‘æ ‘</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E5%AD%98%E5%82%A8"><span class="toc-text">äºŒå‰æ ‘çš„å­˜å‚¨</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%93%BE%E5%BC%8F%E5%AD%98%E5%82%A8"><span class="toc-text">é“¾å¼å­˜å‚¨</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%A1%BA%E5%BA%8F%E5%AD%98%E5%82%A8"><span class="toc-text">é¡ºåºå­˜å‚¨</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E9%81%8D%E5%8E%86"><span class="toc-text">äºŒå‰æ ‘çš„éå†</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%85%88%E5%BA%8F%E9%81%8D%E5%8E%86"><span class="toc-text">å…ˆåºéå†</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%AD%E5%BA%8F%E9%81%8D%E5%8E%86"><span class="toc-text">ä¸­åºéå†</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%90%8E%E5%BA%8F%E9%81%8D%E5%8E%86"><span class="toc-text">ååºéå†</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1%E3%80%81LC102-%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E5%B1%82%E5%BA%8F%E9%81%8D%E5%8E%86"><span class="toc-text">1ã€LC102. äºŒå‰æ ‘çš„å±‚åºéå†</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%E3%80%81LC103-%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E9%94%AF%E9%BD%BF%E5%BD%A2%E5%B1%82%E5%BA%8F%E9%81%8D%E5%8E%86"><span class="toc-text">2ã€LC103. äºŒå‰æ ‘çš„é”¯é½¿å½¢å±‚åºéå†</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80%EF%BC%9ABFS%E6%94%B9%E5%86%99"><span class="toc-text">æ–¹æ³•ä¸€ï¼šBFSæ”¹å†™</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3%E3%80%81LC236-%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E6%9C%80%E8%BF%91%E5%85%AC%E5%85%B1%E7%A5%96%E5%85%88"><span class="toc-text">3ã€LC236. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4%E3%80%81LC124-%E4%BA%8C%E5%8F%89%E6%A0%91%E4%B8%AD%E7%9A%84%E6%9C%80%E5%A4%A7%E8%B7%AF%E5%BE%84%E5%92%8C"><span class="toc-text">4ã€LC124. äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5%E3%80%81LC94-%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E4%B8%AD%E5%BA%8F%E9%81%8D%E5%8E%86"><span class="toc-text">5ã€LC94. äºŒå‰æ ‘çš„ä¸­åºéå†</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%A7%A3%E6%B3%95%E4%B8%80%EF%BC%9A%E9%80%92%E5%BD%92"><span class="toc-text">è§£æ³•ä¸€ï¼šé€’å½’</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%BA%8C%EF%BC%9A%E8%BF%AD%E4%BB%A3"><span class="toc-text">æ–¹æ³•äºŒï¼šè¿­ä»£</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6%E3%80%81LC199-%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E5%8F%B3%E8%A7%86%E5%9B%BE"><span class="toc-text">6ã€LC199. äºŒå‰æ ‘çš„å³è§†å›¾</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%93%88%E5%B8%8C%E8%A1%A8-1"><span class="toc-text">#å“ˆå¸Œè¡¨</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%E3%80%81LC2283-%E5%88%A4%E6%96%AD%E4%B8%80%E4%B8%AA%E6%95%B0%E7%9A%84%E6%95%B0%E5%AD%97%E8%AE%A1%E6%95%B0%E6%98%AF%E5%90%A6%E7%AD%89%E4%BA%8E%E6%95%B0%E4%BD%8D%E7%9A%84%E5%80%BC"><span class="toc-text">1ã€LC2283. åˆ¤æ–­ä¸€ä¸ªæ•°çš„æ•°å­—è®¡æ•°æ˜¯å¦ç­‰äºæ•°ä½çš„å€¼</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%E3%80%81LC1814-%E7%BB%9F%E8%AE%A1%E4%B8%80%E4%B8%AA%E6%95%B0%E7%BB%84%E4%B8%AD%E5%A5%BD%E5%AF%B9%E5%AD%90%E7%9A%84%E6%95%B0%E7%9B%AE"><span class="toc-text">2ã€LC1814. ç»Ÿè®¡ä¸€ä¸ªæ•°ç»„ä¸­å¥½å¯¹å­çš„æ•°ç›®</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%A7%A3%E6%B3%95%E4%B8%80%EF%BC%9A%E5%93%88%E5%B8%8C%E8%A1%A8-%E5%8C%96%E7%AE%80"><span class="toc-text">è§£æ³•ä¸€ï¼šå“ˆå¸Œè¡¨+åŒ–ç®€</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3%E3%80%81LC1817-%E6%9F%A5%E6%89%BE%E7%94%A8%E6%88%B7%E6%B4%BB%E8%B7%83%E5%88%86%E9%92%9F%E6%95%B0"><span class="toc-text">3ã€LC1817. æŸ¥æ‰¾ç”¨æˆ·æ´»è·ƒåˆ†é’Ÿæ•°</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AD%E3%80%81%E6%9C%89%E9%99%90%E7%8A%B6%E6%80%81%E8%87%AA%E5%8A%A8%E6%9C%BA%EF%BC%88FSM%EF%BC%89"><span class="toc-text">å…­ã€æœ‰é™çŠ¶æ€è‡ªåŠ¨æœºï¼ˆFSMï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1%E3%80%81%E5%BA%94%E7%94%A8%E6%9C%89%E9%99%90%E8%87%AA%E5%8A%A8%E6%9C%BA%E8%A7%A3%E9%A2%98%E6%AD%A5%E9%AA%A4"><span class="toc-text">6.1ã€åº”ç”¨æœ‰é™è‡ªåŠ¨æœºè§£é¢˜æ­¥éª¤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2%E3%80%81%E5%89%91%E6%8C%87-Offer-20-%E8%A1%A8%E7%A4%BA%E6%95%B0%E5%80%BC%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-text">6.2ã€å‰‘æŒ‡ Offer 20. è¡¨ç¤ºæ•°å€¼çš„å­—ç¬¦ä¸²</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%83%E3%80%81%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92"><span class="toc-text">ä¸ƒã€åŠ¨æ€è§„åˆ’</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1%E3%80%81%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E7%90%86%E8%AE%BA"><span class="toc-text">7.1ã€åŠ¨æ€è§„åˆ’ç†è®º</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2%E3%80%81%E9%87%8D%E5%8F%A0%E5%AD%90%E9%97%AE%E9%A2%98%E4%BE%8B%E9%A2%98%EF%BC%9A%E6%96%90%E6%B3%A2%E9%82%A3%E5%A5%91%E6%95%B0%E5%88%97"><span class="toc-text">7.2ã€é‡å å­é—®é¢˜ä¾‹é¢˜ï¼šæ–æ³¢é‚£å¥‘æ•°åˆ—</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9A%B4%E5%8A%9B%E9%80%92%E5%BD%92"><span class="toc-text">æš´åŠ›é€’å½’</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%B0%E5%BF%86%E5%8C%96%E9%80%92%E5%BD%92"><span class="toc-text">è®°å¿†åŒ–é€’å½’</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92"><span class="toc-text">åŠ¨æ€è§„åˆ’</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B%E5%B0%8F%E7%BB%93"><span class="toc-text">ç¤ºä¾‹å°ç»“</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3%E3%80%81%E6%9C%80%E4%BC%98%E5%AD%90%E7%BB%93%E6%9E%84%E4%BE%8B%E9%A2%98%EF%BC%9A%E8%9B%8B%E7%B3%95%E5%94%AE%E4%BB%B7"><span class="toc-text">7.3ã€æœ€ä¼˜å­ç»“æ„ä¾‹é¢˜ï¼šè›‹ç³•å”®ä»·</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9A%B4%E5%8A%9B%E9%80%92%E5%BD%92-1"><span class="toc-text">æš´åŠ›é€’å½’</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%B0%E5%BF%86%E5%8C%96%E9%80%92%E5%BD%92-1"><span class="toc-text">è®°å¿†åŒ–é€’å½’</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92-1"><span class="toc-text">åŠ¨æ€è§„åˆ’</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-4%E3%80%8101%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98"><span class="toc-text">7.4ã€01èƒŒåŒ…é—®é¢˜</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8C%E7%BB%B4dp"><span class="toc-text">äºŒç»´dp</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%80%E7%BB%B4dp%EF%BC%88%E6%BB%9A%E5%8A%A8%E6%95%B0%E7%BB%84%EF%BC%89"><span class="toc-text">ä¸€ç»´dpï¼ˆæ»šåŠ¨æ•°ç»„ï¼‰</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-5%E3%80%81%E5%AE%8C%E5%85%A8%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98"><span class="toc-text">7.5ã€å®Œå…¨èƒŒåŒ…é—®é¢˜</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-6%E3%80%81%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E8%A7%A3%E9%A2%98%E6%A1%86%E6%9E%B6"><span class="toc-text">7.6ã€åŠ¨æ€è§„åˆ’è§£é¢˜æ¡†æ¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-5%E3%80%81%E5%89%91%E6%8C%87-Offer-10-I-%E6%96%90%E6%B3%A2%E9%82%A3%E5%A5%91%E6%95%B0%E5%88%97"><span class="toc-text">7.5ã€å‰‘æŒ‡ Offer 10- I. æ–æ³¢é‚£å¥‘æ•°åˆ—</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%B0%E5%BF%86%E5%8C%96%E6%90%9C%E7%B4%A2"><span class="toc-text">è®°å¿†åŒ–æœç´¢</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92-2"><span class="toc-text">åŠ¨æ€è§„åˆ’</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-6%E3%80%81%E5%89%91%E6%8C%87-Offer-19-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%8C%B9%E9%85%8D"><span class="toc-text">7.6ã€å‰‘æŒ‡ Offer 19. æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-7%E3%80%81%E5%89%91%E6%8C%87-Offer-46-%E6%8A%8A%E6%95%B0%E5%AD%97%E7%BF%BB%E8%AF%91%E6%88%90%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-text">7.7ã€å‰‘æŒ‡ Offer 46. æŠŠæ•°å­—ç¿»è¯‘æˆå­—ç¬¦ä¸²</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-8%E3%80%81%E5%89%91%E6%8C%87-Offer-47-%E7%A4%BC%E7%89%A9%E7%9A%84%E6%9C%80%E5%A4%A7%E4%BB%B7%E5%80%BC"><span class="toc-text">7.8ã€å‰‘æŒ‡ Offer 47. ç¤¼ç‰©çš„æœ€å¤§ä»·å€¼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-9%E3%80%81%E5%89%91%E6%8C%87-Offer-48-%E6%9C%80%E9%95%BF%E4%B8%8D%E5%90%AB%E9%87%8D%E5%A4%8D%E5%AD%97%E7%AC%A6%E7%9A%84%E5%AD%90%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-text">7.9ã€å‰‘æŒ‡ Offer 48. æœ€é•¿ä¸å«é‡å¤å­—ç¬¦çš„å­å­—ç¬¦ä¸²</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-10%E3%80%81%E5%89%91%E6%8C%87-Offer-49-%E4%B8%91%E6%95%B0"><span class="toc-text">7.10ã€å‰‘æŒ‡ Offer 49. ä¸‘æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-11%E3%80%81%E5%89%91%E6%8C%87-Offer-60-n-%E4%B8%AA%E9%AA%B0%E5%AD%90%E7%9A%84%E7%82%B9%E6%95%B0"><span class="toc-text">7.11ã€å‰‘æŒ‡ Offer 60. n ä¸ªéª°å­çš„ç‚¹æ•°</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9A%B4%E5%8A%9B%E6%B3%95"><span class="toc-text">æš´åŠ›æ³•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92-3"><span class="toc-text">åŠ¨æ€è§„åˆ’</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-12%E3%80%81%E5%89%91%E6%8C%87-Offer-63-%E8%82%A1%E7%A5%A8%E7%9A%84%E6%9C%80%E5%A4%A7%E5%88%A9%E6%B6%A6"><span class="toc-text">7.12ã€å‰‘æŒ‡ Offer 63. è‚¡ç¥¨çš„æœ€å¤§åˆ©æ¶¦</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-13%E3%80%81LC53-%E6%9C%80%E5%A4%A7%E5%AD%90%E6%95%B0%E7%BB%84%E5%92%8C"><span class="toc-text">7.13ã€LC53. æœ€å¤§å­æ•°ç»„å’Œ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92-4"><span class="toc-text">åŠ¨æ€è§„åˆ’</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E6%B2%BB%E6%B3%95"><span class="toc-text">åˆ†æ²»æ³•</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-14%E3%80%81LC121-%E4%B9%B0%E5%8D%96%E8%82%A1%E7%A5%A8%E7%9A%84%E6%9C%80%E4%BD%B3%E6%97%B6%E6%9C%BA"><span class="toc-text">7.14ã€LC121. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80-%E4%B8%80%E7%BB%B4DP"><span class="toc-text">æ–¹æ³•ä¸€:ä¸€ç»´DP</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-15%E3%80%81LC1824-%E6%9C%80%E5%B0%91%E4%BE%A7%E8%B7%B3%E6%AC%A1%E6%95%B0"><span class="toc-text">7.15ã€LC1824. æœ€å°‘ä¾§è·³æ¬¡æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-16%E3%80%81LC72-%E7%BC%96%E8%BE%91%E8%B7%9D%E7%A6%BB"><span class="toc-text">7.16ã€LC72. ç¼–è¾‘è·ç¦»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-17%E3%80%81LC70-%E7%88%AC%E6%A5%BC%E6%A2%AF"><span class="toc-text">7.17ã€LC70. çˆ¬æ¥¼æ¢¯</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-18%E3%80%81LC1143-%E6%9C%80%E9%95%BF%E5%85%AC%E5%85%B1%E5%AD%90%E5%BA%8F%E5%88%97"><span class="toc-text">7.18ã€LC1143. æœ€é•¿å…¬å…±å­åºåˆ—</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-19%E3%80%81LC332-%E9%9B%B6%E9%92%B1%E6%89%BE%E9%9B%B6"><span class="toc-text">7.19ã€LC332.é›¶é’±æ‰¾é›¶</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AB%E3%80%81%E6%90%9C%E7%B4%A2%E4%B8%8E%E5%9B%9E%E6%BA%AF%E7%AE%97%E6%B3%95"><span class="toc-text">å…«ã€æœç´¢ä¸å›æº¯ç®—æ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1%E3%80%81%E5%89%91%E6%8C%87-Offer-12-%E7%9F%A9%E9%98%B5%E4%B8%AD%E7%9A%84%E8%B7%AF%E5%BE%84"><span class="toc-text">8.1ã€å‰‘æŒ‡ Offer 12. çŸ©é˜µä¸­çš„è·¯å¾„</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-2%E3%80%81%E5%89%91%E6%8C%87-Offer-13-%E6%9C%BA%E5%99%A8%E4%BA%BA%E7%9A%84%E8%BF%90%E5%8A%A8%E8%8C%83%E5%9B%B4"><span class="toc-text">8.2ã€å‰‘æŒ‡ Offer 13. æœºå™¨äººçš„è¿åŠ¨èŒƒå›´</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-3%E3%80%81%E5%89%91%E6%8C%87-Offer-26-%E6%A0%91%E7%9A%84%E5%AD%90%E7%BB%93%E6%9E%84"><span class="toc-text">8.3ã€å‰‘æŒ‡ Offer 26. æ ‘çš„å­ç»“æ„</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-4%E3%80%81%E5%89%91%E6%8C%87-Offer-27-%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E9%95%9C%E5%83%8F"><span class="toc-text">8.4ã€å‰‘æŒ‡ Offer 27. äºŒå‰æ ‘çš„é•œåƒ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-5%E3%80%81%E5%89%91%E6%8C%87-Offer-28-%E5%AF%B9%E7%A7%B0%E7%9A%84%E4%BA%8C%E5%8F%89%E6%A0%91"><span class="toc-text">8.5ã€å‰‘æŒ‡ Offer 28. å¯¹ç§°çš„äºŒå‰æ ‘</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-6%E3%80%81%E5%89%91%E6%8C%87-Offer-32-I-%E4%BB%8E%E4%B8%8A%E5%88%B0%E4%B8%8B%E6%89%93%E5%8D%B0%E4%BA%8C%E5%8F%89%E6%A0%91"><span class="toc-text">8.6ã€å‰‘æŒ‡ Offer 32 - I. ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-7%E3%80%81%E5%89%91%E6%8C%87-Offer-32-II-%E4%BB%8E%E4%B8%8A%E5%88%B0%E4%B8%8B%E6%89%93%E5%8D%B0%E4%BA%8C%E5%8F%89%E6%A0%91-II"><span class="toc-text">8.7ã€å‰‘æŒ‡ Offer 32 - II. ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘ II</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-8%E3%80%81%E5%89%91%E6%8C%87-Offer-32-III-%E4%BB%8E%E4%B8%8A%E5%88%B0%E4%B8%8B%E6%89%93%E5%8D%B0%E4%BA%8C%E5%8F%89%E6%A0%91-III"><span class="toc-text">8.8ã€å‰‘æŒ‡ Offer 32 - III. ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘ III</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-9%E3%80%81%E5%89%91%E6%8C%87-Offer-34-%E4%BA%8C%E5%8F%89%E6%A0%91%E4%B8%AD%E5%92%8C%E4%B8%BA%E6%9F%90%E4%B8%80%E5%80%BC%E7%9A%84%E8%B7%AF%E5%BE%84"><span class="toc-text">8.9ã€å‰‘æŒ‡ Offer 34. äºŒå‰æ ‘ä¸­å’Œä¸ºæŸä¸€å€¼çš„è·¯å¾„</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-10%E3%80%81%E5%89%91%E6%8C%87-Offer-36-%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91%E4%B8%8E%E5%8F%8C%E5%90%91%E9%93%BE%E8%A1%A8"><span class="toc-text">8.10ã€å‰‘æŒ‡ Offer 36. äºŒå‰æœç´¢æ ‘ä¸åŒå‘é“¾è¡¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-11%E3%80%81%E5%89%91%E6%8C%87-Offer-37-%E5%BA%8F%E5%88%97%E5%8C%96%E4%BA%8C%E5%8F%89%E6%A0%91"><span class="toc-text">8.11ã€å‰‘æŒ‡ Offer 37. åºåˆ—åŒ–äºŒå‰æ ‘</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-12%E3%80%81%E5%89%91%E6%8C%87-Offer-38-%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%8E%92%E5%88%97"><span class="toc-text">8.12ã€å‰‘æŒ‡ Offer 38. å­—ç¬¦ä¸²çš„æ’åˆ—</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-13%E3%80%81%E5%89%91%E6%8C%87-Offer-54-%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91%E7%9A%84%E7%AC%AC-k-%E5%A4%A7%E8%8A%82%E7%82%B9"><span class="toc-text">8.13ã€å‰‘æŒ‡ Offer 54. äºŒå‰æœç´¢æ ‘çš„ç¬¬ k å¤§èŠ‚ç‚¹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-14%E3%80%81%E5%89%91%E6%8C%87-Offer-55-I-%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E6%B7%B1%E5%BA%A6"><span class="toc-text">8.14ã€å‰‘æŒ‡ Offer 55 - I. äºŒå‰æ ‘çš„æ·±åº¦</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-15%E3%80%81%E5%89%91%E6%8C%87-Offer-55-II-%E5%B9%B3%E8%A1%A1%E4%BA%8C%E5%8F%89%E6%A0%91"><span class="toc-text">8.15ã€å‰‘æŒ‡ Offer 55 - II. å¹³è¡¡äºŒå‰æ ‘</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-16%E3%80%81%E5%89%91%E6%8C%87-Offer-64-%E6%B1%82-1-2-%E2%80%A6-n"><span class="toc-text">8.16ã€å‰‘æŒ‡ Offer 64. æ±‚ 1 + 2 + â€¦ + n</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-17%E3%80%81%E5%89%91%E6%8C%87-Offer-68-II-%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91%E7%9A%84%E6%9C%80%E8%BF%91%E5%85%AC%E5%85%B1%E7%A5%96%E5%85%88"><span class="toc-text">8.17ã€å‰‘æŒ‡ Offer 68 - II. äºŒå‰æœç´¢æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%92%E5%BD%92%E6%B3%95%EF%BC%9A"><span class="toc-text">é€’å½’æ³•ï¼š</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%AD%E4%BB%A3-1"><span class="toc-text">è¿­ä»£</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-18%E3%80%81%E5%89%91%E6%8C%87-Offer-68-II-%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E6%9C%80%E8%BF%91%E5%85%AC%E5%85%B1%E7%A5%96"><span class="toc-text">8.18ã€å‰‘æŒ‡ Offer 68 - II. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-19%E3%80%81LC93-%E5%A4%8D%E5%8E%9FIP%E5%9C%B0%E5%9D%80"><span class="toc-text">8.19ã€LC93 å¤åŸIPåœ°å€</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-20%E3%80%81LC22-%E6%8B%AC%E5%8F%B7%E7%94%9F%E6%88%90"><span class="toc-text">8.20ã€LC22. æ‹¬å·ç”Ÿæˆ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-21%E3%80%81LC78-%E5%AD%90%E9%9B%86"><span class="toc-text">8.21ã€LC78. å­é›†</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B9%9D%E3%80%81%E5%88%86%E6%B2%BB%E7%AE%97%E6%B3%95"><span class="toc-text">ä¹ã€åˆ†æ²»ç®—æ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#9-1%E3%80%81%E5%89%91%E6%8C%87-Offer-07-%E9%87%8D%E5%BB%BA%E4%BA%8C%E5%8F%89%E6%A0%91"><span class="toc-text">9.1ã€å‰‘æŒ‡ Offer 07. é‡å»ºäºŒå‰æ ‘</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-2%E3%80%81106-%E4%BB%8E%E4%B8%AD%E5%BA%8F%E4%B8%8E%E5%90%8E%E5%BA%8F%E9%81%8D%E5%8E%86%E5%BA%8F%E5%88%97%E6%9E%84%E9%80%A0%E4%BA%8C%E5%8F%89%E6%A0%91"><span class="toc-text">9.2ã€106.ä»ä¸­åºä¸ååºéå†åºåˆ—æ„é€ äºŒå‰æ ‘</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-3%E3%80%81%E5%89%91%E6%8C%87-Offer-16-%E6%95%B0%E5%80%BC%E7%9A%84%E6%95%B4%E6%95%B0%E6%AC%A1%E6%96%B9"><span class="toc-text">9.3ã€å‰‘æŒ‡ Offer 16. æ•°å€¼çš„æ•´æ•°æ¬¡æ–¹</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9A%B4%E5%8A%9B%E8%A7%A3%E6%B3%95"><span class="toc-text">æš´åŠ›è§£æ³•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BF%AB%E9%80%9F%E5%B9%82%E8%A7%A3%E6%9E%90%EF%BC%88%E5%88%86%E6%B2%BB%E6%B3%95%E8%A7%92%E5%BA%A6%EF%BC%89"><span class="toc-text">å¿«é€Ÿå¹‚è§£æï¼ˆåˆ†æ²»æ³•è§’åº¦ï¼‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BF%AB%E9%80%9F%E5%B9%82%E8%A7%A3%E6%9E%90%EF%BC%88%E4%BA%8C%E8%BF%9B%E5%88%B6%E8%A7%92%E5%BA%A6%EF%BC%89"><span class="toc-text">å¿«é€Ÿå¹‚è§£æï¼ˆäºŒè¿›åˆ¶è§’åº¦ï¼‰</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-4%E3%80%81%E5%89%91%E6%8C%87-Offer-17-%E6%89%93%E5%8D%B0%E4%BB%8E-1-%E5%88%B0%E6%9C%80%E5%A4%A7%E7%9A%84-n-%E4%BD%8D%E6%95%B0"><span class="toc-text">9.4ã€å‰‘æŒ‡ Offer 17. æ‰“å°ä» 1 åˆ°æœ€å¤§çš„ n ä½æ•°</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%A7%E6%95%B0%E6%89%93%E5%8D%B0%E8%A7%A3%E6%B3%95%EF%BC%9A"><span class="toc-text">å¤§æ•°æ‰“å°è§£æ³•ï¼š</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-5%E3%80%81%E5%89%91%E6%8C%87-Offer-33-%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91%E7%9A%84%E5%90%8E%E5%BA%8F%E9%81%8D%E5%8E%86%E5%BA%8F%E5%88%97"><span class="toc-text">9.5ã€å‰‘æŒ‡ Offer 33. äºŒå‰æœç´¢æ ‘çš„ååºéå†åºåˆ—</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80%EF%BC%9A%E9%80%92%E5%BD%92%E5%88%86%E6%B2%BB"><span class="toc-text">æ–¹æ³•ä¸€ï¼šé€’å½’åˆ†æ²»</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%BA%8C%EF%BC%9A%E8%BE%85%E5%8A%A9%E5%8D%95%E8%B0%83%E6%A0%88"><span class="toc-text">æ–¹æ³•äºŒï¼šè¾…åŠ©å•è°ƒæ ˆ</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-6%E3%80%81%E5%89%91%E6%8C%87-Offer-51-%E6%95%B0%E7%BB%84%E4%B8%AD%E7%9A%84%E9%80%86%E5%BA%8F%E5%AF%B9"><span class="toc-text">9.6ã€å‰‘æŒ‡ Offer 51. æ•°ç»„ä¸­çš„é€†åºå¯¹</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%81%E3%80%81%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95"><span class="toc-text">åã€æ’åºç®—æ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81%E7%AE%80%E4%BB%8B"><span class="toc-text">1ã€ç®€ä»‹</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0"><span class="toc-text">æ¦‚è¿°</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E7%AE%97%E6%B3%95"><span class="toc-text">å¸¸è§ç®—æ³•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E7%B1%BB%E6%96%B9%E6%B3%95"><span class="toc-text">åˆ†ç±»æ–¹æ³•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%B6%E7%A9%BA%E5%A4%8D%E6%9D%82%E5%BA%A6"><span class="toc-text">æ—¶ç©ºå¤æ‚åº¦</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F"><span class="toc-text">2ã€å†’æ³¡æ’åº</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F"><span class="toc-text">3ã€å¿«é€Ÿæ’åº</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E3%80%81%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F"><span class="toc-text">4ã€å½’å¹¶æ’åº</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5%E3%80%81%E9%80%89%E6%8B%A9%E6%8E%92%E5%BA%8F"><span class="toc-text">5ã€é€‰æ‹©æ’åº</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6%E3%80%81%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F"><span class="toc-text">6ã€æ’å…¥æ’åº</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7%E3%80%81%E5%A0%86%E6%8E%92%E5%BA%8F"><span class="toc-text">7ã€å †æ’åº</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8%E3%80%81%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F"><span class="toc-text">8ã€å¸Œå°”æ’åº</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5%E3%80%81%E5%89%91%E6%8C%87-Offer-40-%E6%9C%80%E5%B0%8F%E7%9A%84-k-%E4%B8%AA%E6%95%B0"><span class="toc-text">5ã€å‰‘æŒ‡ Offer 40. æœ€å°çš„ k ä¸ªæ•°</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8E%92%E5%BA%8F-1"><span class="toc-text">æ’åº</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E4%BA%8E%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F%E7%9A%84%E6%95%B0%E7%BB%84%E5%88%92%E5%88%86"><span class="toc-text">åŸºäºå¿«é€Ÿæ’åºçš„æ•°ç»„åˆ’åˆ†</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6%E3%80%81LC215-%E6%95%B0%E7%BB%84%E4%B8%AD%E7%9A%84%E7%AC%ACK%E4%B8%AA%E6%9C%80%E5%A4%A7%E5%85%83%E7%B4%A0"><span class="toc-text">6ã€LC215. æ•°ç»„ä¸­çš„ç¬¬Kä¸ªæœ€å¤§å…ƒç´ </span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8E%92%E5%BA%8F-2"><span class="toc-text">æ’åº</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E4%BA%8E%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F%E7%9A%84%E6%95%B0%E7%BB%84%E5%88%92%E5%88%86-%E7%BA%BF%E6%80%A7%E6%97%B6%E9%97%B4%E9%80%89%E6%8B%A9"><span class="toc-text">åŸºäºå¿«é€Ÿæ’åºçš„æ•°ç»„åˆ’åˆ†(çº¿æ€§æ—¶é—´é€‰æ‹©)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7%E3%80%81%E5%89%91%E6%8C%87-Offer-41-%E6%95%B0%E6%8D%AE%E6%B5%81%E4%B8%AD%E7%9A%84%E4%B8%AD%E4%BD%8D%E6%95%B0"><span class="toc-text">7ã€å‰‘æŒ‡ Offer 41. æ•°æ®æµä¸­çš„ä¸­ä½æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8%E3%80%81%E5%89%91%E6%8C%87-Offer-45-%E6%8A%8A%E6%95%B0%E7%BB%84%E6%8E%92%E6%88%90%E6%9C%80%E5%B0%8F%E7%9A%84%E6%95%B0"><span class="toc-text">8ã€å‰‘æŒ‡ Offer 45. æŠŠæ•°ç»„æ’æˆæœ€å°çš„æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9%E3%80%81%E5%89%91%E6%8C%87-Offer-61-%E6%89%91%E5%85%8B%E7%89%8C%E4%B8%AD%E7%9A%84%E9%A1%BA%E5%AD%90"><span class="toc-text">9ã€å‰‘æŒ‡ Offer 61. æ‰‘å…‹ç‰Œä¸­çš„é¡ºå­</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%A3%E6%B3%95%E4%B8%80"><span class="toc-text">è§£æ³•ä¸€</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%A3%E6%B3%95%E4%BA%8C"><span class="toc-text">è§£æ³•äºŒ</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#LC2037-%E4%BD%BF%E6%AF%8F%E4%BD%8D%E5%AD%A6%E7%94%9F%E9%83%BD%E6%9C%89%E5%BA%A7%E4%BD%8D%E7%9A%84%E6%9C%80%E5%B0%91%E7%A7%BB%E5%8A%A8%E6%AC%A1%E6%95%B0"><span class="toc-text">LC2037. ä½¿æ¯ä½å­¦ç”Ÿéƒ½æœ‰åº§ä½çš„æœ€å°‘ç§»åŠ¨æ¬¡æ•°</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%81%E4%B8%80%E3%80%81%E6%9F%A5%E6%89%BE%E7%AE%97%E6%B3%95"><span class="toc-text">åä¸€ã€æŸ¥æ‰¾ç®—æ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81%E5%89%91%E6%8C%87-Offer-03-%E6%95%B0%E7%BB%84%E4%B8%AD%E9%87%8D%E5%A4%8D%E7%9A%84%E6%95%B0%E5%AD%97"><span class="toc-text">1ã€å‰‘æŒ‡ Offer 03. æ•°ç»„ä¸­é‡å¤çš„æ•°å­—</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80%EF%BC%9A%E5%93%88%E5%B8%8C%E8%A1%A8-1"><span class="toc-text">æ–¹æ³•ä¸€ï¼šå“ˆå¸Œè¡¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%BA%8C%EF%BC%9A%E5%8E%9F%E5%9C%B0%E4%BA%A4%E6%8D%A2"><span class="toc-text">æ–¹æ³•äºŒï¼šåŸåœ°äº¤æ¢</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81%E5%89%91%E6%8C%87-Offer-04-%E4%BA%8C%E7%BB%B4%E6%95%B0%E7%BB%84%E4%B8%AD%E7%9A%84%E6%9F%A5%E6%89%BE"><span class="toc-text">2ã€å‰‘æŒ‡ Offer 04. äºŒç»´æ•°ç»„ä¸­çš„æŸ¥æ‰¾</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81%E5%89%91%E6%8C%87-Offer-11-%E6%97%8B%E8%BD%AC%E6%95%B0%E7%BB%84%E7%9A%84%E6%9C%80%E5%B0%8F%E6%95%B0%E5%AD%97"><span class="toc-text">3ã€å‰‘æŒ‡ Offer 11. æ—‹è½¬æ•°ç»„çš„æœ€å°æ•°å­—</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E3%80%81%E5%89%91%E6%8C%87-Offer-50-%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%8F%AA%E5%87%BA%E7%8E%B0%E4%B8%80%E6%AC%A1%E7%9A%84%E5%AD%97%E7%AC%A6"><span class="toc-text">4ã€å‰‘æŒ‡ Offer 50. ç¬¬ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80%EF%BC%9A%E5%93%88%E5%B8%8C%E8%A1%A8-2"><span class="toc-text">æ–¹æ³•ä¸€ï¼šå“ˆå¸Œè¡¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%BA%8C%EF%BC%9A%E6%9C%89%E5%BA%8F%E5%93%88%E5%B8%8C%E8%A1%A8"><span class="toc-text">æ–¹æ³•äºŒï¼šæœ‰åºå“ˆå¸Œè¡¨</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5%E3%80%81%E5%89%91%E6%8C%87-Offer-53-II-0%EF%BD%9En-1-%E4%B8%AD%E7%BC%BA%E5%A4%B1%E7%9A%84%E6%95%B0%E5%AD%97"><span class="toc-text">5ã€å‰‘æŒ‡ Offer 53 - II. 0ï½n-1 ä¸­ç¼ºå¤±çš„æ•°å­—</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6%E3%80%81%E5%89%91%E6%8C%87-Offer-53-I-%E5%9C%A8%E6%8E%92%E5%BA%8F%E6%95%B0%E7%BB%84%E4%B8%AD%E6%9F%A5%E6%89%BE%E6%95%B0%E5%AD%97-I"><span class="toc-text">6ã€å‰‘æŒ‡ Offer 53 - I. åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾æ•°å­— I</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#code1-%E4%B8%A4%E6%AC%A1%E4%BA%8C%E5%88%86"><span class="toc-text">code1:ä¸¤æ¬¡äºŒåˆ†</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#code2-%E5%B0%81%E8%A3%85%E4%BA%8C%E5%88%86%E6%B3%95%EF%BC%8C%E7%AE%80%E5%8C%96%E4%BB%A3%E7%A0%81"><span class="toc-text">code2:å°è£…äºŒåˆ†æ³•ï¼Œç®€åŒ–ä»£ç </span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#code3-%E5%85%88%E4%BA%8C%E5%88%86%EF%BC%8C%E5%86%8D%E4%B8%A4%E8%BE%B9%E5%90%8C%E6%97%B6%E9%80%BC%E8%BF%91%EF%BC%88%E9%A1%BA%E5%BA%8F%EF%BC%89"><span class="toc-text">code3:å…ˆäºŒåˆ†ï¼Œå†ä¸¤è¾¹åŒæ—¶é€¼è¿‘ï¼ˆé¡ºåºï¼‰</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7%E3%80%81%E5%89%91%E6%8C%87-Offer-25-%E5%90%88%E5%B9%B6%E4%B8%A4%E4%B8%AA%E6%8E%92%E5%BA%8F%E7%9A%84%E9%93%BE%E8%A1%A8"><span class="toc-text">7ã€å‰‘æŒ‡ Offer 25. åˆå¹¶ä¸¤ä¸ªæ’åºçš„é“¾è¡¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8%E3%80%81%E5%89%91%E6%8C%87-Offer-52-%E4%B8%A4%E4%B8%AA%E9%93%BE%E8%A1%A8%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%85%AC%E5%85%B1%E8%8A%82%E7%82%B9"><span class="toc-text">8ã€å‰‘æŒ‡ Offer 52. ä¸¤ä¸ªé“¾è¡¨çš„ç¬¬ä¸€ä¸ªå…¬å…±èŠ‚ç‚¹</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#code1-%E5%BE%AA%E7%8E%AF%E9%81%8D%E5%8E%86"><span class="toc-text">code1 å¾ªç¯éå†</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#code2-%E5%B7%AE%E5%80%BC%E6%B3%95"><span class="toc-text">code2 å·®å€¼æ³•</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9%E3%80%81%E5%89%91%E6%8C%87-Offer-57-%E5%92%8C%E4%B8%BA-s-%E7%9A%84%E4%B8%A4%E4%B8%AA%E6%95%B0%E5%AD%97"><span class="toc-text">9ã€å‰‘æŒ‡ Offer 57. å’Œä¸º s çš„ä¸¤ä¸ªæ•°å­—</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10%E3%80%81%E5%89%91%E6%8C%87-Offer-58-I-%E7%BF%BB%E8%BD%AC%E5%8D%95%E8%AF%8D%E9%A1%BA%E5%BA%8F"><span class="toc-text">10ã€å‰‘æŒ‡ Offer 58 - I. ç¿»è½¬å•è¯é¡ºåº</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80%EF%BC%9A%E5%8F%8C%E6%8C%87%E9%92%88"><span class="toc-text">æ–¹æ³•ä¸€ï¼šåŒæŒ‡é’ˆ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%BA%8C%EF%BC%9A%E5%88%86%E5%89%B2-%E5%80%92%E5%BA%8F"><span class="toc-text">æ–¹æ³•äºŒï¼šåˆ†å‰² + å€’åº</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%81%E4%BA%8C%E3%80%81%E4%BD%8D%E8%BF%90%E7%AE%97"><span class="toc-text">åäºŒã€ä½è¿ç®—</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81%E5%89%91%E6%8C%87-Offer-15-%E4%BA%8C%E8%BF%9B%E5%88%B6%E4%B8%AD-1-%E7%9A%84%E4%B8%AA%E6%95%B0"><span class="toc-text">1ã€å‰‘æŒ‡ Offer 15. äºŒè¿›åˆ¶ä¸­ 1 çš„ä¸ªæ•°</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80%EF%BC%9A%E9%80%90%E4%BD%8D%E5%88%A4%E6%96%AD"><span class="toc-text">æ–¹æ³•ä¸€ï¼šé€ä½åˆ¤æ–­</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%BA%8C%EF%BC%9A%E5%B7%A7%E7%94%A8-n-amp-n-1-n-amp-n%E2%88%921"><span class="toc-text">æ–¹æ³•äºŒï¼šå·§ç”¨ n &amp; (n - 1)n&amp;(nâˆ’1)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81%E5%89%91%E6%8C%87-Offer-65-%E4%B8%8D%E7%94%A8%E5%8A%A0%E5%87%8F%E4%B9%98%E9%99%A4%E5%81%9A%E5%8A%A0%E6%B3%95"><span class="toc-text">2ã€å‰‘æŒ‡ Offer 65. ä¸ç”¨åŠ å‡ä¹˜é™¤åšåŠ æ³•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81%E5%89%91%E6%8C%87-Offer-56-I-%E6%95%B0%E7%BB%84%E4%B8%AD%E6%95%B0%E5%AD%97%E5%87%BA%E7%8E%B0%E7%9A%84%E6%AC%A1%E6%95%B0"><span class="toc-text">3ã€å‰‘æŒ‡ Offer 56 - I. æ•°ç»„ä¸­æ•°å­—å‡ºç°çš„æ¬¡æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E3%80%81%E5%89%91%E6%8C%87-Offer-56-II-%E6%95%B0%E7%BB%84%E4%B8%AD%E6%95%B0%E5%AD%97%E5%87%BA%E7%8E%B0%E7%9A%84%E6%AC%A1%E6%95%B0-II"><span class="toc-text">4ã€å‰‘æŒ‡ Offer 56 - II. æ•°ç»„ä¸­æ•°å­—å‡ºç°çš„æ¬¡æ•° II</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80%EF%BC%9A%E6%9C%89%E9%99%90%E7%8A%B6%E6%80%81%E8%87%AA%E5%8A%A8%E6%9C%BA"><span class="toc-text">æ–¹æ³•ä¸€ï¼šæœ‰é™çŠ¶æ€è‡ªåŠ¨æœº</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%BA%8C%EF%BC%9A%E9%81%8D%E5%8E%86%E7%BB%9F%E8%AE%A1"><span class="toc-text">æ–¹æ³•äºŒï¼šéå†ç»Ÿè®¡</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5%E3%80%81LC1803-%E7%BB%9F%E8%AE%A1%E5%BC%82%E6%88%96%E5%80%BC%E5%9C%A8%E8%8C%83%E5%9B%B4%E5%86%85%E7%9A%84%E6%95%B0%E5%AF%B9%E6%9C%89%E5%A4%9A%E5%B0%91"><span class="toc-text">5ã€LC1803. ç»Ÿè®¡å¼‚æˆ–å€¼åœ¨èŒƒå›´å†…çš„æ•°å¯¹æœ‰å¤šå°‘</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80%EF%BC%9A0-1%E5%AD%97%E5%85%B8%E6%A0%91"><span class="toc-text">æ–¹æ³•ä¸€ï¼š0-1å­—å…¸æ ‘</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%81%E4%B8%89%E3%80%81%E6%95%B0%E5%AD%A6"><span class="toc-text">åä¸‰ã€æ•°å­¦</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#13-1%E3%80%81%E5%89%91%E6%8C%87-Offer-39-%E6%95%B0%E7%BB%84%E4%B8%AD%E5%87%BA%E7%8E%B0%E6%AC%A1%E6%95%B0%E8%B6%85%E8%BF%87%E4%B8%80%E5%8D%8A%E7%9A%84%E6%95%B0%E5%AD%97"><span class="toc-text">13.1ã€å‰‘æŒ‡ Offer 39. æ•°ç»„ä¸­å‡ºç°æ¬¡æ•°è¶…è¿‡ä¸€åŠçš„æ•°å­—</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%91%A9%E5%B0%94%E6%8A%95%E7%A5%A8%E6%B3%95%EF%BC%9A"><span class="toc-text">æ‘©å°”æŠ•ç¥¨æ³•ï¼š</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8E%92%E5%BA%8F%E6%B3%95%EF%BC%9A"><span class="toc-text">æ’åºæ³•ï¼š</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-2%E3%80%81%E5%89%91%E6%8C%87-Offer-66-%E6%9E%84%E5%BB%BA%E4%B9%98%E7%A7%AF%E6%95%B0%E7%BB%84"><span class="toc-text">13.2ã€å‰‘æŒ‡ Offer 66. æ„å»ºä¹˜ç§¯æ•°ç»„</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-3%E3%80%81%E5%89%91%E6%8C%87-Offer-14-I-%E5%89%AA%E7%BB%B3%E5%AD%90"><span class="toc-text">13.3ã€å‰‘æŒ‡ Offer 14- I. å‰ªç»³å­</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E5%AD%A6%E6%B3%95"><span class="toc-text">æ•°å­¦æ³•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95"><span class="toc-text">è´ªå¿ƒç®—æ³•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92-5"><span class="toc-text">åŠ¨æ€è§„åˆ’</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-4%E3%80%81%E5%89%91%E6%8C%87-Offer-14-II-%E5%89%AA%E7%BB%B3%E5%AD%90-II"><span class="toc-text">13.4ã€å‰‘æŒ‡ Offer 14- II. å‰ªç»³å­ II</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E5%AD%A6"><span class="toc-text">æ•°å­¦</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92-6"><span class="toc-text">åŠ¨æ€è§„åˆ’</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-5%E3%80%81%E5%89%91%E6%8C%87-Offer-57-II-%E5%92%8C%E4%B8%BA-s-%E7%9A%84%E8%BF%9E%E7%BB%AD%E6%AD%A3%E6%95%B0%E5%BA%8F%E5%88%97"><span class="toc-text">13.5ã€å‰‘æŒ‡ Offer 57 - II. å’Œä¸º s çš„è¿ç»­æ­£æ•°åºåˆ—</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%8C%E6%8C%87%E9%92%88-1"><span class="toc-text">åŒæŒ‡é’ˆ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E5%AD%A6-1"><span class="toc-text">æ•°å­¦</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-6%E3%80%81%E5%89%91%E6%8C%87-Offer-62-%E5%9C%86%E5%9C%88%E4%B8%AD%E6%9C%80%E5%90%8E%E5%89%A9%E4%B8%8B%E7%9A%84%E6%95%B0%E5%AD%97"><span class="toc-text">13.6ã€å‰‘æŒ‡ Offer 62. åœ†åœˆä¸­æœ€åå‰©ä¸‹çš„æ•°å­—</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-7%E3%80%81%E5%89%91%E6%8C%87-Offer-43-1%EF%BD%9En-%E6%95%B4%E6%95%B0%E4%B8%AD-1-%E5%87%BA%E7%8E%B0%E7%9A%84%E6%AC%A1%E6%95%B0"><span class="toc-text">13.7ã€å‰‘æŒ‡ Offer 43. 1ï½n æ•´æ•°ä¸­ 1 å‡ºç°çš„æ¬¡æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-8%E3%80%81%E5%89%91%E6%8C%87-Offer-44-%E6%95%B0%E5%AD%97%E5%BA%8F%E5%88%97%E4%B8%AD%E6%9F%90%E4%B8%80%E4%BD%8D%E7%9A%84%E6%95%B0%E5%AD%97"><span class="toc-text">13.8ã€å‰‘æŒ‡ Offer 44. æ•°å­—åºåˆ—ä¸­æŸä¸€ä½çš„æ•°å­—</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-9%E3%80%81LC1759-%E7%BB%9F%E8%AE%A1%E5%90%8C%E6%9E%84%E5%AD%90%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%95%B0%E7%9B%AE"><span class="toc-text">13.9ã€LC1759. ç»Ÿè®¡åŒæ„å­å­—ç¬¦ä¸²çš„æ•°ç›®</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-10%E3%80%81LC1819-%E5%BA%8F%E5%88%97%E4%B8%AD%E4%B8%8D%E5%90%8C%E6%9C%80%E5%A4%A7%E5%85%AC%E7%BA%A6%E6%95%B0%E7%9A%84%E6%95%B0%E7%9B%AE"><span class="toc-text">13.10ã€LC1819. åºåˆ—ä¸­ä¸åŒæœ€å¤§å…¬çº¦æ•°çš„æ•°ç›®</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90"><span class="toc-text">å¤æ‚åº¦åˆ†æ</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%81%E5%9B%9B%E3%80%81%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95"><span class="toc-text">åå››ã€è´ªå¿ƒç®—æ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#14-1%E3%80%81LC2027-%E8%BD%AC%E6%8D%A2%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%9C%80%E5%B0%91%E6%93%8D%E4%BD%9C%E6%AC%A1%E6%95%B0"><span class="toc-text">14.1ã€LC2027. è½¬æ¢å­—ç¬¦ä¸²çš„æœ€å°‘æ“ä½œæ¬¡æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#14-2%E3%80%81LC1663-%E5%85%B7%E6%9C%89%E7%BB%99%E5%AE%9A%E6%95%B0%E5%80%BC%E7%9A%84%E6%9C%80%E5%B0%8F%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-text">14.2ã€LC1663. å…·æœ‰ç»™å®šæ•°å€¼çš„æœ€å°å­—ç¬¦ä¸²</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80%EF%BC%9A%E8%B4%AA%E5%BF%83"><span class="toc-text">æ–¹æ³•ä¸€ï¼šè´ªå¿ƒ</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#14-3%E3%80%81LC56-%E5%90%88%E5%B9%B6%E5%8C%BA%E9%97%B4"><span class="toc-text">14.3ã€LC56. åˆå¹¶åŒºé—´</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%81%E4%BA%94%E3%80%81%E8%AE%BE%E8%AE%A1"><span class="toc-text">åäº”ã€è®¾è®¡</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#15-1%E3%80%81LC146-LRU-%E7%BC%93%E5%AD%98"><span class="toc-text">15.1ã€LC146. LRU ç¼“å­˜</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%80%E3%80%81LRU-%E7%AE%97%E6%B3%95%E6%8F%8F%E8%BF%B0"><span class="toc-text">ä¸€ã€LRU ç®—æ³•æè¿°</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8C%E3%80%81LRU-%E7%AE%97%E6%B3%95%E8%AE%BE%E8%AE%A1"><span class="toc-text">äºŒã€LRU ç®—æ³•è®¾è®¡</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0"><span class="toc-text">ä¸‰ã€ä»£ç å®ç°</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9B%9B%E3%80%81LinkedHashMap%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90"><span class="toc-text">å››ã€LinkedHashMapæºç åˆ†æ</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-2%E3%80%81LC855-%E8%80%83%E5%9C%BA%E5%B0%B1%E5%BA%A7"><span class="toc-text">15.2ã€LC855. è€ƒåœºå°±åº§</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80%EF%BC%9A%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88"><span class="toc-text">æ–¹æ³•ä¸€ï¼šæœ‰åºé›†åˆ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%BA%8C%EF%BC%9A%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88-%E4%BC%98%E5%85%88%E9%98%9F%E5%88%97"><span class="toc-text">æ–¹æ³•äºŒï¼šæœ‰åºé›†åˆ+ä¼˜å…ˆé˜Ÿåˆ—</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-3%E3%80%81LC1801-%E7%A7%AF%E5%8E%8B%E8%AE%A2%E5%8D%95%E4%B8%AD%E7%9A%84%E8%AE%A2%E5%8D%95%E6%80%BB%E6%95%B0"><span class="toc-text">15.3ã€LC1801. ç§¯å‹è®¢å•ä¸­çš„è®¢å•æ€»æ•°</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BC%98%E5%85%88%E9%98%9F%E5%88%97"><span class="toc-text">ä¼˜å…ˆé˜Ÿåˆ—</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%81%E5%85%AD%E3%80%81%E6%9E%9A%E4%B8%BE"><span class="toc-text">åå…­ã€æšä¸¾</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#16-1%E3%80%81LC2032-%E8%87%B3%E5%B0%91%E5%9C%A8%E4%B8%A4%E4%B8%AA%E6%95%B0%E7%BB%84%E4%B8%AD%E5%87%BA%E7%8E%B0%E7%9A%84%E5%80%BC"><span class="toc-text">16.1ã€LC2032. è‡³å°‘åœ¨ä¸¤ä¸ªæ•°ç»„ä¸­å‡ºç°çš„å€¼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#16-2%E3%80%81LC2180-%E7%BB%9F%E8%AE%A1%E5%90%84%E4%BD%8D%E6%95%B0%E5%AD%97%E4%B9%8B%E5%92%8C%E4%B8%BA%E5%81%B6%E6%95%B0%E7%9A%84%E6%95%B4%E6%95%B0%E4%B8%AA%E6%95%B0"><span class="toc-text">16.2ã€LC2180. ç»Ÿè®¡å„ä½æ•°å­—ä¹‹å’Œä¸ºå¶æ•°çš„æ•´æ•°ä¸ªæ•°</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80%EF%BC%9A%E6%9A%B4%E5%8A%9B%E6%9E%9A%E4%B8%BE"><span class="toc-text">æ–¹æ³•ä¸€ï¼šæš´åŠ›æšä¸¾</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%BA%8C%EF%BC%9A%E6%95%B0%E5%AD%A6"><span class="toc-text">æ–¹æ³•äºŒï¼šæ•°å­¦</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#16-3%E3%80%81LC1828-%E7%BB%9F%E8%AE%A1%E4%B8%80%E4%B8%AA%E5%9C%86%E4%B8%AD%E7%82%B9%E7%9A%84%E6%95%B0%E7%9B%AE"><span class="toc-text">16.3ã€LC1828. ç»Ÿè®¡ä¸€ä¸ªåœ†ä¸­ç‚¹çš„æ•°ç›®</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#16-4%E3%80%81LC1664-%E7%94%9F%E6%88%90%E5%B9%B3%E8%A1%A1%E6%95%B0%E7%BB%84%E7%9A%84%E6%96%B9%E6%A1%88%E6%95%B0"><span class="toc-text">16.4ã€LC1664. ç”Ÿæˆå¹³è¡¡æ•°ç»„çš„æ–¹æ¡ˆæ•°</span></a></li></ol></li></ol></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2022 - 2023 By Huang RD</div><div class="framework-info"><span>æ¡†æ¶ </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>ä¸»é¢˜ </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="ç®€ç¹è½¬æ¢">ç®€</button><button id="darkmode" type="button" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">æœç´¢</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  æ•°æ®åº“åŠ è½½ä¸­</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="æœç´¢æ–‡ç« " type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><script src="/js/search/local-search.js"></script><div class="js-pjax"></div><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="30" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-nest.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>